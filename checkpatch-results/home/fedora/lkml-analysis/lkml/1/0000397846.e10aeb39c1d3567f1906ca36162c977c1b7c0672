WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#33: 
Add an FS-Cache cache-backend that permits a mounted filesystem to be used as a

WARNING:BAD_SIGN_OFF: 'Signed-off-by:' is the preferred signature form
#299: 
Signed-Off-By: David Howells <dhowells@redhat.com>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#320: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:TYPO_SPELLING: 'te' may be misspelled - perhaps 'the'?
#692: FILE: Documentation/filesystems/caching/cachefiles.txt:368:
+	cachefilesd.te
 	            ^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#813: FILE: fs/cachefiles/cf-bind.c:1:
+/* Bind and unbind a cache from the filesystem backing it

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#883: FILE: fs/cachefiles/cf-bind.c:71:
+		 * function, so we don't release it on error here */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#900: FILE: fs/cachefiles/cf-bind.c:88:
+	struct nameidata nd;
 	                 ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#929: FILE: fs/cachefiles/cf-bind.c:117:
+	memset(&nd, 0, sizeof(nd));
 	        ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#929: FILE: fs/cachefiles/cf-bind.c:117:
+	memset(&nd, 0, sizeof(nd));
 	                      ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#931: FILE: fs/cachefiles/cf-bind.c:119:
+	ret = path_lookup(cache->rootdirname, LOOKUP_DIRECTORY, &nd);
 	                                                         ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#935: FILE: fs/cachefiles/cf-bind.c:123:
+	cache->mnt = mntget(nd.mnt);
 	                    ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#936: FILE: fs/cachefiles/cf-bind.c:124:
+	root = dget(nd.dentry);
 	            ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#937: FILE: fs/cachefiles/cf-bind.c:125:
+	path_release(&nd);
 	              ^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#958: FILE: fs/cachefiles/cf-bind.c:146:
+	 * security ID of files we create */

CHECK:SPACING: No space is necessary after a cast
#987: FILE: fs/cachefiles/cf-bind.c:175:
+	       (unsigned long long) stats.f_blocks,

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#988: FILE: fs/cachefiles/cf-bind.c:176:
+	       (unsigned long long) stats.f_bavail);

CHECK:SPACING: No space is necessary after a cast
#997: FILE: fs/cachefiles/cf-bind.c:185:
+	       (unsigned long long) cache->frun,

CHECK:SPACING: No space is necessary after a cast
#998: FILE: fs/cachefiles/cf-bind.c:186:
+	       (unsigned long long) cache->fcull,

CHECK:SPACING: No space is necessary after a cast
#999: FILE: fs/cachefiles/cf-bind.c:187:
+	       (unsigned long long) cache->fstop);

CHECK:SPACING: No space is necessary after a cast
#1008: FILE: fs/cachefiles/cf-bind.c:196:
+	       (unsigned long long) cache->brun,

CHECK:SPACING: No space is necessary after a cast
#1009: FILE: fs/cachefiles/cf-bind.c:197:
+	       (unsigned long long) cache->bcull,

CHECK:SPACING: No space is necessary after a cast
#1010: FILE: fs/cachefiles/cf-bind.c:198:
+	       (unsigned long long) cache->bstop);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1049: FILE: fs/cachefiles/cf-bind.c:237:
+	printk(KERN_INFO "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#1050: FILE: fs/cachefiles/cf-bind.c:238:
+	printk(KERN_INFO "CacheFiles:"
+	       " File cache on %s registered\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1083: FILE: fs/cachefiles/cf-bind.c:271:
+		printk(KERN_INFO "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#1084: FILE: fs/cachefiles/cf-bind.c:272:
+		printk(KERN_INFO "CacheFiles:"
+		       " File cache on %s unregistering\n",

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1107: FILE: fs/cachefiles/cf-daemon.c:1:
+/* Daemon interface

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1181: FILE: fs/cachefiles/cf-daemon.c:75:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*cache)...) over kzalloc(sizeof(struct cachefiles_cache)...)
#1200: FILE: fs/cachefiles/cf-daemon.c:94:
+	cache = kzalloc(sizeof(struct cachefiles_cache), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:SPLIT_STRING: quoted string split across lines
#1279: FILE: fs/cachefiles/cf-daemon.c:173:
+		     "cull=%c"
+		     " frun=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1280: FILE: fs/cachefiles/cf-daemon.c:174:
+		     " frun=%llx"
+		     " fcull=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1281: FILE: fs/cachefiles/cf-daemon.c:175:
+		     " fcull=%llx"
+		     " fstop=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1282: FILE: fs/cachefiles/cf-daemon.c:176:
+		     " fstop=%llx"
+		     " brun=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1283: FILE: fs/cachefiles/cf-daemon.c:177:
+		     " brun=%llx"
+		     " bcull=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1284: FILE: fs/cachefiles/cf-daemon.c:178:
+		     " bcull=%llx"
+		     " bstop=%llx",

CHECK:SPACING: No space is necessary after a cast
#1286: FILE: fs/cachefiles/cf-daemon.c:180:
+		     (unsigned long long) cache->frun,

CHECK:SPACING: No space is necessary after a cast
#1287: FILE: fs/cachefiles/cf-daemon.c:181:
+		     (unsigned long long) cache->fcull,

CHECK:SPACING: No space is necessary after a cast
#1288: FILE: fs/cachefiles/cf-daemon.c:182:
+		     (unsigned long long) cache->fstop,

CHECK:SPACING: No space is necessary after a cast
#1289: FILE: fs/cachefiles/cf-daemon.c:183:
+		     (unsigned long long) cache->brun,

CHECK:SPACING: No space is necessary after a cast
#1290: FILE: fs/cachefiles/cf-daemon.c:184:
+		     (unsigned long long) cache->bcull,

CHECK:SPACING: No space is necessary after a cast
#1291: FILE: fs/cachefiles/cf-daemon.c:185:
+		     (unsigned long long) cache->bstop

WARNING:SPLIT_STRING: quoted string split across lines
#1417: FILE: fs/cachefiles/cf-daemon.c:311:
+	kerror("Free space limits must be in range"
+	       " 0%%<=stop<cull<run<100%%");

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1435: FILE: fs/cachefiles/cf-daemon.c:329:
+	frun = simple_strtoul(args, &args, 10);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1459: FILE: fs/cachefiles/cf-daemon.c:353:
+	fcull = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1483: FILE: fs/cachefiles/cf-daemon.c:377:
+	fstop = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1507: FILE: fs/cachefiles/cf-daemon.c:401:
+	brun = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1531: FILE: fs/cachefiles/cf-daemon.c:425:
+	bcull = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1555: FILE: fs/cachefiles/cf-daemon.c:449:
+	bstop = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1633: FILE: fs/cachefiles/cf-daemon.c:527:
+	dirfd = simple_strtoul(args, &args, 0);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1699: FILE: fs/cachefiles/cf-daemon.c:593:
+	mask = simple_strtoul(args, &args, 0);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1725: FILE: fs/cachefiles/cf-daemon.c:619:
+	dirfd = simple_strtoul(args, &args, 0);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1786: FILE: fs/cachefiles/cf-daemon.c:680:
+			 unsigned fnr, unsigned bnr)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1786: FILE: fs/cachefiles/cf-daemon.c:680:
+			 unsigned fnr, unsigned bnr)

CHECK:SPACING: No space is necessary after a cast
#1792: FILE: fs/cachefiles/cf-daemon.c:686:
+	       (unsigned long long) cache->frun,

CHECK:SPACING: No space is necessary after a cast
#1793: FILE: fs/cachefiles/cf-daemon.c:687:
+	       (unsigned long long) cache->fcull,

CHECK:SPACING: No space is necessary after a cast
#1794: FILE: fs/cachefiles/cf-daemon.c:688:
+	       (unsigned long long) cache->fstop,

CHECK:SPACING: No space is necessary after a cast
#1795: FILE: fs/cachefiles/cf-daemon.c:689:
+	       (unsigned long long) cache->brun,

CHECK:SPACING: No space is necessary after a cast
#1796: FILE: fs/cachefiles/cf-daemon.c:690:
+	       (unsigned long long) cache->bcull,

CHECK:SPACING: No space is necessary after a cast
#1797: FILE: fs/cachefiles/cf-daemon.c:691:
+	       (unsigned long long) cache->bstop,

CHECK:SPACING: No space is necessary after a cast
#1814: FILE: fs/cachefiles/cf-daemon.c:708:
+	       (unsigned long long) stats.f_ffree,

CHECK:SPACING: No space is necessary after a cast
#1815: FILE: fs/cachefiles/cf-daemon.c:709:
+	       (unsigned long long) stats.f_bavail);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1865: FILE: fs/cachefiles/cf-interface.c:1:
+/* FS-Cache interface to CacheFiles

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1892: FILE: fs/cachefiles/cf-interface.c:28:
+static struct fscache_object *cachefiles_alloc_object(

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1900: FILE: fs/cachefiles/cf-interface.c:36:
+	unsigned keylen, auxlen;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1919: FILE: fs/cachefiles/cf-interface.c:55:
+	BUG_ON(test_bit(CACHEFILES_OBJECT_ACTIVE, &object->flags));

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1971: FILE: fs/cachefiles/cf-interface.c:107:
+	BUG_ON(test_bit(CACHEFILES_OBJECT_ACTIVE, &object->flags));

WARNING:TYPO_SPELLING: 'auxilliary' may be misspelled - perhaps 'auxiliary'?
#2058: FILE: fs/cachefiles/cf-interface.c:194:
+ * update the auxilliary data for an object object on disk
               ^^^^^^^^^^

WARNING:REPEATED_WORD: Possible repeated word: 'object'
#2058: FILE: fs/cachefiles/cf-interface.c:194:
+ * update the auxilliary data for an object object on disk

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2067: FILE: fs/cachefiles/cf-interface.c:203:
+	unsigned auxlen;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2144: FILE: fs/cachefiles/cf-interface.c:280:
+			BUG();

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2214: FILE: fs/cachefiles/cf-interface.c:350:
+	 * written to disc */

WARNING:SPLIT_STRING: quoted string split across lines
#2222: FILE: fs/cachefiles/cf-interface.c:358:
+				    "Attempt to sync backing fs superblock"
+				    " returned error %d",

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2313: FILE: fs/cachefiles/cf-internal.h:1:
+/* General netfs cache on cache files internal defs

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2333: FILE: fs/cachefiles/cf-internal.h:21:
+extern unsigned cachefiles_debug;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2350: FILE: fs/cachefiles/cf-internal.h:38:
+	uint8_t				type;		/* object type */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2351: FILE: fs/cachefiles/cf-internal.h:39:
+	uint8_t				new;		/* T if object new */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2373: FILE: fs/cachefiles/cf-internal.h:61:
+	unsigned			frun_percent;	/* when to stop culling (% files) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2374: FILE: fs/cachefiles/cf-internal.h:62:
+	unsigned			fcull_percent;	/* when to start culling (% files) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2375: FILE: fs/cachefiles/cf-internal.h:63:
+	unsigned			fstop_percent;	/* when to stop allocating (% files) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2376: FILE: fs/cachefiles/cf-internal.h:64:
+	unsigned			brun_percent;	/* when to stop culling (% blocks) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2377: FILE: fs/cachefiles/cf-internal.h:65:
+	unsigned			bcull_percent;	/* when to start culling (% blocks) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2378: FILE: fs/cachefiles/cf-internal.h:66:
+	unsigned			bstop_percent;	/* when to stop allocating (% blocks) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2379: FILE: fs/cachefiles/cf-internal.h:67:
+	unsigned			bsize;		/* cache's block size */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2380: FILE: fs/cachefiles/cf-internal.h:68:
+	unsigned			bshift;		/* min(ilog2(PAGE_SIZE / bsize), 0) */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#2381: FILE: fs/cachefiles/cf-internal.h:69:
+	uint64_t			frun;		/* when to stop culling */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#2382: FILE: fs/cachefiles/cf-internal.h:70:
+	uint64_t			fcull;		/* when to start culling */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#2383: FILE: fs/cachefiles/cf-internal.h:71:
+	uint64_t			fstop;		/* when to stop allocating */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#2422: FILE: fs/cachefiles/cf-internal.h:110:
+	uint16_t			len;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2423: FILE: fs/cachefiles/cf-internal.h:111:
+	uint8_t				type;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2424: FILE: fs/cachefiles/cf-internal.h:112:
+	uint8_t				data[];

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2439: FILE: fs/cachefiles/cf-internal.h:127:
+extern int cachefiles_daemon_bind(struct cachefiles_cache *cache, char *args);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2440: FILE: fs/cachefiles/cf-internal.h:128:
+extern void cachefiles_daemon_unbind(struct cachefiles_cache *cache);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2447: FILE: fs/cachefiles/cf-internal.h:135:
+extern int cachefiles_has_space(struct cachefiles_cache *cache,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2448: FILE: fs/cachefiles/cf-internal.h:136:
+				unsigned fnr, unsigned bnr);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2448: FILE: fs/cachefiles/cf-internal.h:136:
+				unsigned fnr, unsigned bnr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2458: FILE: fs/cachefiles/cf-internal.h:146:
+extern char *cachefiles_cook_key(const u8 *raw, int keylen, uint8_t type);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2463: FILE: fs/cachefiles/cf-internal.h:151:
+extern int cachefiles_delete_object(struct cachefiles_cache *cache,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2465: FILE: fs/cachefiles/cf-internal.h:153:
+extern int cachefiles_walk_to_object(struct cachefiles_object *parent,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2469: FILE: fs/cachefiles/cf-internal.h:157:
+extern struct dentry *cachefiles_get_directory(struct cachefiles_cache *cache,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2473: FILE: fs/cachefiles/cf-internal.h:161:
+extern int cachefiles_cull(struct cachefiles_cache *cache, struct dentry *dir,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2476: FILE: fs/cachefiles/cf-internal.h:164:
+extern int cachefiles_check_in_use(struct cachefiles_cache *cache,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2487: FILE: fs/cachefiles/cf-internal.h:175:
+extern int __init cachefiles_proc_init(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2488: FILE: fs/cachefiles/cf-internal.h:176:
+extern void cachefiles_proc_cleanup(void);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2493: FILE: fs/cachefiles/cf-internal.h:181:
+	unsigned long jif = jiffies - start_jif;
+	if (jif >= HZ)

ERROR:SPACING: space required before the open parenthesis '('
#2500: FILE: fs/cachefiles/cf-internal.h:188:
+#define cachefiles_proc_cleanup()	do {} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2501: FILE: fs/cachefiles/cf-internal.h:189:
+#define cachefiles_hist(hist, start_jif) do {} while(0)

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2507: FILE: fs/cachefiles/cf-internal.h:195:
+extern int cachefiles_read_or_alloc_page(struct fscache_retrieval *,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2509: FILE: fs/cachefiles/cf-internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_retrieval *' should also have an identifier name
#2509: FILE: fs/cachefiles/cf-internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct list_head *' should also have an identifier name
#2509: FILE: fs/cachefiles/cf-internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned *' should also have an identifier name
#2509: FILE: fs/cachefiles/cf-internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'gfp_t' should also have an identifier name
#2509: FILE: fs/cachefiles/cf-internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#2510: FILE: fs/cachefiles/cf-internal.h:198:
+					  struct list_head *, unsigned *,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2512: FILE: fs/cachefiles/cf-internal.h:200:
+extern int cachefiles_allocate_page(struct fscache_retrieval *, struct page *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_retrieval *' should also have an identifier name
#2512: FILE: fs/cachefiles/cf-internal.h:200:
+extern int cachefiles_allocate_page(struct fscache_retrieval *, struct page *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#2512: FILE: fs/cachefiles/cf-internal.h:200:
+extern int cachefiles_allocate_page(struct fscache_retrieval *, struct page *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'gfp_t' should also have an identifier name
#2512: FILE: fs/cachefiles/cf-internal.h:200:
+extern int cachefiles_allocate_page(struct fscache_retrieval *, struct page *,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2514: FILE: fs/cachefiles/cf-internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_retrieval *' should also have an identifier name
#2514: FILE: fs/cachefiles/cf-internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct list_head *' should also have an identifier name
#2514: FILE: fs/cachefiles/cf-internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned *' should also have an identifier name
#2514: FILE: fs/cachefiles/cf-internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'gfp_t' should also have an identifier name
#2514: FILE: fs/cachefiles/cf-internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#2515: FILE: fs/cachefiles/cf-internal.h:203:
+				     struct list_head *, unsigned *, gfp_t);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2516: FILE: fs/cachefiles/cf-internal.h:204:
+extern int cachefiles_write_page(struct fscache_storage *, struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_storage *' should also have an identifier name
#2516: FILE: fs/cachefiles/cf-internal.h:204:
+extern int cachefiles_write_page(struct fscache_storage *, struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#2516: FILE: fs/cachefiles/cf-internal.h:204:
+extern int cachefiles_write_page(struct fscache_storage *, struct page *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2517: FILE: fs/cachefiles/cf-internal.h:205:
+extern void cachefiles_uncache_page(struct fscache_object *, struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_object *' should also have an identifier name
#2517: FILE: fs/cachefiles/cf-internal.h:205:
+extern void cachefiles_uncache_page(struct fscache_object *, struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#2517: FILE: fs/cachefiles/cf-internal.h:205:
+extern void cachefiles_uncache_page(struct fscache_object *, struct page *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2523: FILE: fs/cachefiles/cf-internal.h:211:
+extern int cachefiles_get_security_ID(struct cachefiles_cache *cache);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2524: FILE: fs/cachefiles/cf-internal.h:212:
+extern int cachefiles_determine_cache_secid(struct cachefiles_cache *cache,

ERROR:SPACING: space required before the open parenthesis '('
#2534: FILE: fs/cachefiles/cf-internal.h:222:
+#define cachefiles_set_fscreate_secid(cache) do {} while(0)

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2585: FILE: fs/cachefiles/cf-internal.h:273:
+extern int cachefiles_check_object_type(struct cachefiles_object *object);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2586: FILE: fs/cachefiles/cf-internal.h:274:
+extern int cachefiles_set_object_xattr(struct cachefiles_object *object,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2588: FILE: fs/cachefiles/cf-internal.h:276:
+extern int cachefiles_update_object_xattr(struct cachefiles_object *object,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2590: FILE: fs/cachefiles/cf-internal.h:278:
+extern int cachefiles_check_object_xattr(struct cachefiles_object *object,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2592: FILE: fs/cachefiles/cf-internal.h:280:
+extern int cachefiles_remove_object_xattr(struct cachefiles_cache *cache,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2595: FILE: fs/cachefiles/cf-internal.h:283:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2599: FILE: fs/cachefiles/cf-internal.h:287:
+#define kerror(FMT,...) printk(KERN_ERR "CacheFiles: "FMT"\n" ,##__VA_ARGS__);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2599: FILE: fs/cachefiles/cf-internal.h:287:
+#define kerror(FMT,...) printk(KERN_ERR "CacheFiles: "FMT"\n" ,##__VA_ARGS__);
                   ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2599: FILE: fs/cachefiles/cf-internal.h:287:
+#define kerror(FMT,...) printk(KERN_ERR "CacheFiles: "FMT"\n" ,##__VA_ARGS__);
                                                               ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2599: FILE: fs/cachefiles/cf-internal.h:287:
+#define kerror(FMT,...) printk(KERN_ERR "CacheFiles: "FMT"\n" ,##__VA_ARGS__);
                                                               ^

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#2599: FILE: fs/cachefiles/cf-internal.h:287:
+#define kerror(FMT,...) printk(KERN_ERR "CacheFiles: "FMT"\n" ,##__VA_ARGS__);

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2599: FILE: fs/cachefiles/cf-internal.h:287:
+#define kerror(FMT,...) printk(KERN_ERR "CacheFiles: "FMT"\n" ,##__VA_ARGS__);

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

CHECK:MACRO_ARG_REUSE: Macro argument reuse '___cache' - possible side-effects?
#2601: FILE: fs/cachefiles/cf-internal.h:289:
+#define cachefiles_io_error(___cache, FMT, ...)		\
+do {							\
+	kerror("I/O Error: " FMT ,##__VA_ARGS__);	\
+	fscache_io_error(&(___cache)->cache);		\
+	set_bit(CACHEFILES_DEAD, &(___cache)->flags);	\
+} while(0)

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2603: FILE: fs/cachefiles/cf-internal.h:291:
+	kerror("I/O Error: " FMT ,##__VA_ARGS__);	\
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2603: FILE: fs/cachefiles/cf-internal.h:291:
+	kerror("I/O Error: " FMT ,##__VA_ARGS__);	\
 	                         ^

ERROR:SPACING: space required before the open parenthesis '('
#2606: FILE: fs/cachefiles/cf-internal.h:294:
+} while(0)

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2614: FILE: fs/cachefiles/cf-internal.h:302:
+	cachefiles_io_error(___cache, FMT ,##__VA_ARGS__);		\
 	                                  ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2614: FILE: fs/cachefiles/cf-internal.h:302:
+	cachefiles_io_error(___cache, FMT ,##__VA_ARGS__);		\
 	                                  ^

ERROR:SPACING: space required before the open parenthesis '('
#2615: FILE: fs/cachefiles/cf-internal.h:303:
+} while(0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2617: FILE: fs/cachefiles/cf-internal.h:305:
+
+

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2621: FILE: fs/cachefiles/cf-internal.h:309:
+#define dbgprintk(FMT,...) \
                      ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2622: FILE: fs/cachefiles/cf-internal.h:310:
+	printk("[%-6.6s] "FMT"\n",current->comm ,##__VA_ARGS__)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2622: FILE: fs/cachefiles/cf-internal.h:310:
+	printk("[%-6.6s] "FMT"\n",current->comm ,##__VA_ARGS__)
 	                         ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2622: FILE: fs/cachefiles/cf-internal.h:310:
+	printk("[%-6.6s] "FMT"\n",current->comm ,##__VA_ARGS__)
 	                                        ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2622: FILE: fs/cachefiles/cf-internal.h:310:
+	printk("[%-6.6s] "FMT"\n",current->comm ,##__VA_ARGS__)
 	                                        ^

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2622: FILE: fs/cachefiles/cf-internal.h:310:
+	printk("[%-6.6s] "FMT"\n",current->comm ,##__VA_ARGS__)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2626: FILE: fs/cachefiles/cf-internal.h:314:
+	__attribute__((format(printf,1,2)));
 	                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2626: FILE: fs/cachefiles/cf-internal.h:314:
+	__attribute__((format(printf,1,2)));
 	                              ^

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __printf(1,2) over __attribute__((format(printf,1,2)))
#2626: FILE: fs/cachefiles/cf-internal.h:314:
+	__attribute__((format(printf,1,2)));

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2631: FILE: fs/cachefiles/cf-internal.h:319:
+#define kenter(FMT,...)	dbgprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2631: FILE: fs/cachefiles/cf-internal.h:319:
+#define kenter(FMT,...)	dbgprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)
                        	                         ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2631: FILE: fs/cachefiles/cf-internal.h:319:
+#define kenter(FMT,...)	dbgprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)
                        	                                       ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2631: FILE: fs/cachefiles/cf-internal.h:319:
+#define kenter(FMT,...)	dbgprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)
                        	                                       ^

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2631: FILE: fs/cachefiles/cf-internal.h:319:
+#define kenter(FMT,...)	dbgprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2631: FILE: fs/cachefiles/cf-internal.h:319:
+#define kenter(FMT,...)	dbgprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2632: FILE: fs/cachefiles/cf-internal.h:320:
+#define kleave(FMT,...)	dbgprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2632: FILE: fs/cachefiles/cf-internal.h:320:
+#define kleave(FMT,...)	dbgprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)
                        	                         ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2632: FILE: fs/cachefiles/cf-internal.h:320:
+#define kleave(FMT,...)	dbgprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)
                        	                                       ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2632: FILE: fs/cachefiles/cf-internal.h:320:
+#define kleave(FMT,...)	dbgprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)
                        	                                       ^

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2632: FILE: fs/cachefiles/cf-internal.h:320:
+#define kleave(FMT,...)	dbgprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2632: FILE: fs/cachefiles/cf-internal.h:320:
+#define kleave(FMT,...)	dbgprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2633: FILE: fs/cachefiles/cf-internal.h:321:
+#define kdebug(FMT,...)	dbgprintk(FMT ,##__VA_ARGS__)
                   ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2633: FILE: fs/cachefiles/cf-internal.h:321:
+#define kdebug(FMT,...)	dbgprintk(FMT ,##__VA_ARGS__)
                        	              ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2633: FILE: fs/cachefiles/cf-internal.h:321:
+#define kdebug(FMT,...)	dbgprintk(FMT ,##__VA_ARGS__)
                        	              ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2635: FILE: fs/cachefiles/cf-internal.h:323:
+
+

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2637: FILE: fs/cachefiles/cf-internal.h:325:
+#define _enter(FMT,...)	kenter(FMT,##__VA_ARGS__)
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2637: FILE: fs/cachefiles/cf-internal.h:325:
+#define _enter(FMT,...)	kenter(FMT,##__VA_ARGS__)
                        	          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2638: FILE: fs/cachefiles/cf-internal.h:326:
+#define _leave(FMT,...)	kleave(FMT,##__VA_ARGS__)
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2638: FILE: fs/cachefiles/cf-internal.h:326:
+#define _leave(FMT,...)	kleave(FMT,##__VA_ARGS__)
                        	          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2639: FILE: fs/cachefiles/cf-internal.h:327:
+#define _debug(FMT,...)	kdebug(FMT,##__VA_ARGS__)
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2639: FILE: fs/cachefiles/cf-internal.h:327:
+#define _debug(FMT,...)	kdebug(FMT,##__VA_ARGS__)
                        	          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2642: FILE: fs/cachefiles/cf-internal.h:330:
+#define _enter(FMT,...)					\
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2645: FILE: fs/cachefiles/cf-internal.h:333:
+		kenter(FMT,##__VA_ARGS__);		\
 		          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2648: FILE: fs/cachefiles/cf-internal.h:336:
+#define _leave(FMT,...)					\
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2651: FILE: fs/cachefiles/cf-internal.h:339:
+		kleave(FMT,##__VA_ARGS__);		\
 		          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2654: FILE: fs/cachefiles/cf-internal.h:342:
+#define _debug(FMT,...)					\
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2657: FILE: fs/cachefiles/cf-internal.h:345:
+		kdebug(FMT,##__VA_ARGS__);		\
 		          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2661: FILE: fs/cachefiles/cf-internal.h:349:
+#define _enter(FMT,...)	_dbprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2661: FILE: fs/cachefiles/cf-internal.h:349:
+#define _enter(FMT,...)	_dbprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)
                        	                         ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2661: FILE: fs/cachefiles/cf-internal.h:349:
+#define _enter(FMT,...)	_dbprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)
                        	                                       ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2661: FILE: fs/cachefiles/cf-internal.h:349:
+#define _enter(FMT,...)	_dbprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)
                        	                                       ^

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2661: FILE: fs/cachefiles/cf-internal.h:349:
+#define _enter(FMT,...)	_dbprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2661: FILE: fs/cachefiles/cf-internal.h:349:
+#define _enter(FMT,...)	_dbprintk("==> %s("FMT")",__FUNCTION__ ,##__VA_ARGS__)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2662: FILE: fs/cachefiles/cf-internal.h:350:
+#define _leave(FMT,...)	_dbprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)
                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2662: FILE: fs/cachefiles/cf-internal.h:350:
+#define _leave(FMT,...)	_dbprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)
                        	                         ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2662: FILE: fs/cachefiles/cf-internal.h:350:
+#define _leave(FMT,...)	_dbprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)
                        	                                       ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2662: FILE: fs/cachefiles/cf-internal.h:350:
+#define _leave(FMT,...)	_dbprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)
                        	                                       ^

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2662: FILE: fs/cachefiles/cf-internal.h:350:
+#define _leave(FMT,...)	_dbprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2662: FILE: fs/cachefiles/cf-internal.h:350:
+#define _leave(FMT,...)	_dbprintk("<== %s()"FMT"",__FUNCTION__ ,##__VA_ARGS__)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2663: FILE: fs/cachefiles/cf-internal.h:351:
+#define _debug(FMT,...)	_dbprintk(FMT ,##__VA_ARGS__)
                   ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#2663: FILE: fs/cachefiles/cf-internal.h:351:
+#define _debug(FMT,...)	_dbprintk(FMT ,##__VA_ARGS__)
                        	              ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#2663: FILE: fs/cachefiles/cf-internal.h:351:
+#define _debug(FMT,...)	_dbprintk(FMT ,##__VA_ARGS__)
                        	              ^

WARNING:IF_1: Consider removing the #if 1 and its #endif
#2666: FILE: fs/cachefiles/cf-internal.h:354:
+#if 1 // defined(__KDEBUGALL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2671: FILE: fs/cachefiles/cf-internal.h:359:
+		printk(KERN_ERR "\n");					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2672: FILE: fs/cachefiles/cf-internal.h:360:
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2673: FILE: fs/cachefiles/cf-internal.h:361:
+		BUG();							\

ERROR:SPACING: space required before the open parenthesis '('
#2675: FILE: fs/cachefiles/cf-internal.h:363:
+} while(0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'X' - possible side-effects?
#2677: FILE: fs/cachefiles/cf-internal.h:365:
+#define ASSERTCMP(X, OP, Y)						\
+do {									\
+	if (unlikely(!((X) OP (Y)))) {					\
+		printk(KERN_ERR "\n");					\
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\
+		       (unsigned long)(X), (unsigned long)(Y));		\
+		BUG();							\
+	}								\
+} while(0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'Y' - possible side-effects?
#2677: FILE: fs/cachefiles/cf-internal.h:365:
+#define ASSERTCMP(X, OP, Y)						\
+do {									\
+	if (unlikely(!((X) OP (Y)))) {					\
+		printk(KERN_ERR "\n");					\
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\
+		       (unsigned long)(X), (unsigned long)(Y));		\
+		BUG();							\
+	}								\
+} while(0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2679: FILE: fs/cachefiles/cf-internal.h:367:
+	if (unlikely(!((X) OP (Y)))) {					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2680: FILE: fs/cachefiles/cf-internal.h:368:
+		printk(KERN_ERR "\n");					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2681: FILE: fs/cachefiles/cf-internal.h:369:
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2682: FILE: fs/cachefiles/cf-internal.h:370:
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2684: FILE: fs/cachefiles/cf-internal.h:372:
+		BUG();							\

ERROR:SPACING: space required before the open parenthesis '('
#2686: FILE: fs/cachefiles/cf-internal.h:374:
+} while(0)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2691: FILE: fs/cachefiles/cf-internal.h:379:
+		printk(KERN_ERR "\n");					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2692: FILE: fs/cachefiles/cf-internal.h:380:
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2693: FILE: fs/cachefiles/cf-internal.h:381:
+		BUG();							\

ERROR:SPACING: space required before the open parenthesis '('
#2695: FILE: fs/cachefiles/cf-internal.h:383:
+} while(0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'X' - possible side-effects?
#2697: FILE: fs/cachefiles/cf-internal.h:385:
+#define ASSERTIFCMP(C, X, OP, Y)					\
+do {									\
+	if (unlikely((C) && !((X) OP (Y)))) {				\
+		printk(KERN_ERR "\n");					\
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\
+		       (unsigned long)(X), (unsigned long)(Y));		\
+		BUG();							\
+	}								\
+} while(0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'Y' - possible side-effects?
#2697: FILE: fs/cachefiles/cf-internal.h:385:
+#define ASSERTIFCMP(C, X, OP, Y)					\
+do {									\
+	if (unlikely((C) && !((X) OP (Y)))) {				\
+		printk(KERN_ERR "\n");					\
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\
+		       (unsigned long)(X), (unsigned long)(Y));		\
+		BUG();							\
+	}								\
+} while(0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2699: FILE: fs/cachefiles/cf-internal.h:387:
+	if (unlikely((C) && !((X) OP (Y)))) {				\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2700: FILE: fs/cachefiles/cf-internal.h:388:
+		printk(KERN_ERR "\n");					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2701: FILE: fs/cachefiles/cf-internal.h:389:
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2702: FILE: fs/cachefiles/cf-internal.h:390:
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2704: FILE: fs/cachefiles/cf-internal.h:392:
+		BUG();							\

ERROR:SPACING: space required before the open parenthesis '('
#2706: FILE: fs/cachefiles/cf-internal.h:394:
+} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2712: FILE: fs/cachefiles/cf-internal.h:400:
+} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2716: FILE: fs/cachefiles/cf-internal.h:404:
+} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2720: FILE: fs/cachefiles/cf-internal.h:408:
+} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2724: FILE: fs/cachefiles/cf-internal.h:412:
+} while(0)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2733: FILE: fs/cachefiles/cf-key.c:1:
+/* Key to pathname encoder

ERROR:SPACING: space prohibited after that open square bracket '['
#2756: FILE: fs/cachefiles/cf-key.c:24:
+	[ 33 ... 46 ] = 1,		/* '!' -> '.' */

ERROR:SPACING: space prohibited before that close square bracket ']'
#2756: FILE: fs/cachefiles/cf-key.c:24:
+	[ 33 ... 46 ] = 1,		/* '!' -> '.' */

ERROR:SPACING: space prohibited after that open square bracket '['
#2758: FILE: fs/cachefiles/cf-key.c:26:
+	[ 48 ... 127 ] = 1,		/* '0' -> '~' */

ERROR:SPACING: space prohibited before that close square bracket ']'
#2758: FILE: fs/cachefiles/cf-key.c:26:
+	[ 48 ... 127 ] = 1,		/* '0' -> '~' */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2778: FILE: fs/cachefiles/cf-key.c:46:
+	BUG_ON(keylen < 2 || keylen > 514);

CHECK:SPACING: No space is necessary after a cast
#2820: FILE: fs/cachefiles/cf-key.c:88:
+	sprintf(key, "@%02x%c+", (unsigned) csum, 0);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2820: FILE: fs/cachefiles/cf-key.c:88:
+	sprintf(key, "@%02x%c+", (unsigned) csum, 0);

CHECK:SPACING: No space is necessary after a cast
#2825: FILE: fs/cachefiles/cf-key.c:93:
+		acc = *(uint16_t *) raw;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2847: FILE: fs/cachefiles/cf-key.c:115:
+		case FSCACHE_COOKIE_TYPE_INDEX:		type = 'I';	break;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2848: FILE: fs/cachefiles/cf-key.c:116:
+		case FSCACHE_COOKIE_TYPE_DATAFILE:	type = 'D';	break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2849: FILE: fs/cachefiles/cf-key.c:117:
+		default:				type = 'S';	break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2879: FILE: fs/cachefiles/cf-key.c:147:
+		case FSCACHE_COOKIE_TYPE_INDEX:		type = 'J';	break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2880: FILE: fs/cachefiles/cf-key.c:148:
+		case FSCACHE_COOKIE_TYPE_DATAFILE:	type = 'E';	break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2881: FILE: fs/cachefiles/cf-key.c:149:
+		default:				type = 'T';	break;

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2898: FILE: fs/cachefiles/cf-main.c:1:
+/* Network filesystem caching backend to use cache files on a premounted

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2924: FILE: fs/cachefiles/cf-main.c:27:
+unsigned cachefiles_debug;

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IWUSR | S_IRUGO' are not preferred. Consider using octal permissions '0644'.
#2925: FILE: fs/cachefiles/cf-main.c:28:
+module_param_named(debug, cachefiles_debug, uint, S_IWUSR | S_IRUGO);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#2971: FILE: fs/cachefiles/cf-main.c:74:
+		printk(KERN_NOTICE

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2980: FILE: fs/cachefiles/cf-main.c:83:
+	printk(KERN_INFO "CacheFiles: Loaded\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2999: FILE: fs/cachefiles/cf-main.c:102:
+	printk(KERN_INFO "CacheFiles: Unloading\n");

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3013: FILE: fs/cachefiles/cf-namei.c:1:
+/* CacheFiles path walking and related routines

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3058: FILE: fs/cachefiles/cf-namei.c:46:
+		BUG();

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3083: FILE: fs/cachefiles/cf-namei.c:71:
+	 * need to wait for it to be destroyed */

CHECK:SPACING: No space is necessary after a cast
#3140: FILE: fs/cachefiles/cf-namei.c:128:
+		(uint32_t) xtime.tv_sec,

CHECK:SPACING: No space is necessary after a cast
#3141: FILE: fs/cachefiles/cf-namei.c:129:
+		(uint32_t) atomic_inc_return(&cache->gravecounter));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3149: FILE: fs/cachefiles/cf-namei.c:137:
+		 * lock */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3306: FILE: fs/cachefiles/cf-namei.c:294:
+	 * there's nothing for them to actually read */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3380: FILE: fs/cachefiles/cf-namei.c:368:
+	 * check its attributes and delete it if it's out of date */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3388: FILE: fs/cachefiles/cf-namei.c:376:
+			 * mutex) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3421: FILE: fs/cachefiles/cf-namei.c:409:
+		 * open) */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3440: FILE: fs/cachefiles/cf-namei.c:428:
+			BUG(); // TODO: open file in data-class subdir

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3762: FILE: fs/cachefiles/cf-proc.c:1:
+/* CacheFiles statistics

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3779: FILE: fs/cachefiles/cf-proc.c:18:
+	unsigned			nlines;

CHECK:SPACING: No space is necessary after a cast
#3833: FILE: fs/cachefiles/cf-proc.c:72:
+	p->data = (void *) &cachefiles_histogram;

CHECK:SPACING: No space is necessary after a cast
#3866: FILE: fs/cachefiles/cf-proc.c:105:
+		m->private = (void *) proc;

CHECK:SPACING: No space is necessary after a cast
#3878: FILE: fs/cachefiles/cf-proc.c:117:
+	return (void *)(unsigned long) *_pos;

CHECK:SPACING: No space is necessary after a cast
#3889: FILE: fs/cachefiles/cf-proc.c:128:
+	return *pos > proc->nlines ? NULL : (void *)(unsigned long) *pos;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3905: FILE: fs/cachefiles/cf-proc.c:144:
+	unsigned x, y, z, t;

CHECK:SPACING: No space is necessary after a cast
#3907: FILE: fs/cachefiles/cf-proc.c:146:
+	switch ((unsigned long) v) {

CHECK:SPACING: No space is necessary after a cast
#3915: FILE: fs/cachefiles/cf-proc.c:154:
+		index = (unsigned long) v - 3;

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3934: FILE: fs/cachefiles/cf-security.c:1:
+/* CacheFiles security management

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3964: FILE: fs/cachefiles/cf-security.c:31:
+	 * using */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3975: FILE: fs/cachefiles/cf-security.c:42:
+		printk(KERN_ERR "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#3976: FILE: fs/cachefiles/cf-security.c:43:
+		printk(KERN_ERR "CacheFiles:"
+		       " Security can't provide module SecID: error %d",

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4008: FILE: fs/cachefiles/cf-security.c:75:
+	 * files */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4018: FILE: fs/cachefiles/cf-security.c:85:
+	 * the security ID we've been given */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4021: FILE: fs/cachefiles/cf-security.c:88:
+		printk(KERN_ERR "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#4022: FILE: fs/cachefiles/cf-security.c:89:
+		printk(KERN_ERR "CacheFiles:"
+		       " Security denies permission to make dirs: error %d",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4029: FILE: fs/cachefiles/cf-security.c:96:
+		printk(KERN_ERR "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#4030: FILE: fs/cachefiles/cf-security.c:97:
+		printk(KERN_ERR "CacheFiles:"
+		       " Security denies permission to create files: error %d",

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4047: FILE: fs/cachefiles/cf-xattr.c:1:
+/* CacheFiles extended attribute management

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#4169: FILE: fs/cachefiles/cf-xattr.c:123:
+		cachefiles_io_error_obj(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#4198: FILE: fs/cachefiles/cf-xattr.c:152:
+		cachefiles_io_error_obj(

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*auxbuf)...) over kmalloc(sizeof(struct cachefiles_xattr)...)
#4222: FILE: fs/cachefiles/cf-xattr.c:176:
+	auxbuf = kmalloc(sizeof(struct cachefiles_xattr) + 512, GFP_KERNEL);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4234: FILE: fs/cachefiles/cf-xattr.c:188:
+				     * mid-cull? */

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#4264: FILE: fs/cachefiles/cf-xattr.c:218:
+		result = object->fscache.cookie->def->check_aux(

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4282: FILE: fs/cachefiles/cf-xattr.c:236:
+			BUG();

WARNING:SPLIT_STRING: quoted string split across lines
#4292: FILE: fs/cachefiles/cf-xattr.c:246:
+						"Can't update xattr on %lu"
+						" (error %d)",

WARNING:SPLIT_STRING: quoted string split across lines
#4332: FILE: fs/cachefiles/cf-xattr.c:286:
+					    "Can't remove xattr from %lu"
+					    " (error %d)",

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000397846.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 70 errors, 138 warnings, 85 checks, 3932 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000397846.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
