ERROR:CODE_INDENT: code indent should use tabs where possible
#56: FILE: drivers/net/tulip/dmfe.c:148:
+ ^I^Iif (dmfe_debug || (dbug_now)) \$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#56: FILE: drivers/net/tulip/dmfe.c:148:
+ ^I^Iif (dmfe_debug || (dbug_now)) \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#56: FILE: drivers/net/tulip/dmfe.c:148:
+ ^I^Iif (dmfe_debug || (dbug_now)) \$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#57: FILE: drivers/net/tulip/dmfe.c:149:
+			printk(KERN_ERR DRV_NAME ": %s %lx\n",\

ERROR:CODE_INDENT: code indent should use tabs where possible
#58: FILE: drivers/net/tulip/dmfe.c:150:
+ ^I^I^I^I(msg), (long) (value)); \$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#58: FILE: drivers/net/tulip/dmfe.c:150:
+ ^I^I^I^I(msg), (long) (value)); \$

CHECK:SPACING: No space is necessary after a cast
#58: FILE: drivers/net/tulip/dmfe.c:150:
+ 				(msg), (long) (value)); \

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#58: FILE: drivers/net/tulip/dmfe.c:150:
+ ^I^I^I^I(msg), (long) (value)); \$

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros with multiple statements should be enclosed in a do - while loop
#61: FILE: drivers/net/tulip/dmfe.c:153:
+#define SHOW_MEDIA_TYPE(mode) \
+	printk (KERN_INFO DRV_NAME ": Change Speed to %sMhz %s duplex\n" , \
+		(mode & 1) ? "100":"10", (mode & 4) ? "full":"half");

Macros with multiple statements should be enclosed in a
do - while block.  Same should also be the case for macros
starting with `if` to avoid logic defects::

  #define macrofun(a, b, c)                 \
    do {                                    \
            if (a == 5)                     \
                    do_this(b, c);          \
    } while (0)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#macros-enums-and-rtl

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'mode' - possible side-effects?
#61: FILE: drivers/net/tulip/dmfe.c:153:
+#define SHOW_MEDIA_TYPE(mode) \
+	printk (KERN_INFO DRV_NAME ": Change Speed to %sMhz %s duplex\n" , \
+		(mode & 1) ? "100":"10", (mode & 4) ? "full":"half");

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'mode' may be better as '(mode)' to avoid precedence issues
#61: FILE: drivers/net/tulip/dmfe.c:153:
+#define SHOW_MEDIA_TYPE(mode) \
+	printk (KERN_INFO DRV_NAME ": Change Speed to %sMhz %s duplex\n" , \
+		(mode & 1) ? "100":"10", (mode & 4) ? "full":"half");

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#61: FILE: drivers/net/tulip/dmfe.c:153:
+#define SHOW_MEDIA_TYPE(mode) \
+	printk (KERN_INFO DRV_NAME ": Change Speed to %sMhz %s duplex\n" , \
+		(mode & 1) ? "100":"10", (mode & 4) ? "full":"half");

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#62: FILE: drivers/net/tulip/dmfe.c:154:
+	printk (KERN_INFO DRV_NAME ": Change Speed to %sMhz %s duplex\n" , \

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#62: FILE: drivers/net/tulip/dmfe.c:154:
+	printk (KERN_INFO DRV_NAME ": Change Speed to %sMhz %s duplex\n" , \

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#62: FILE: drivers/net/tulip/dmfe.c:154:
+	printk (KERN_INFO DRV_NAME ": Change Speed to %sMhz %s duplex\n" , \
 	                                                                 ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#63: FILE: drivers/net/tulip/dmfe.c:155:
+		(mode & 1) ? "100":"10", (mode & 4) ? "full":"half");
 		                  ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#63: FILE: drivers/net/tulip/dmfe.c:155:
+		(mode & 1) ? "100":"10", (mode & 4) ? "full":"half");
 		                                            ^

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros with multiple statements should be enclosed in a do - while loop
#72: FILE: drivers/net/tulip/dmfe.c:173:
+#define SROM_CLK_WRITE(data, ioaddr) \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5);

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'data' - possible side-effects?
#72: FILE: drivers/net/tulip/dmfe.c:173:
+#define SROM_CLK_WRITE(data, ioaddr) \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5);

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'data' may be better as '(data)' to avoid precedence issues
#72: FILE: drivers/net/tulip/dmfe.c:173:
+#define SROM_CLK_WRITE(data, ioaddr) \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5);

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ioaddr' - possible side-effects?
#72: FILE: drivers/net/tulip/dmfe.c:173:
+#define SROM_CLK_WRITE(data, ioaddr) \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5);

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#72: FILE: drivers/net/tulip/dmfe.c:173:
+#define SROM_CLK_WRITE(data, ioaddr) \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
+	udelay(5); \
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
+	udelay(5);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#73: FILE: drivers/net/tulip/dmfe.c:174:
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
 	         ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#73: FILE: drivers/net/tulip/dmfe.c:174:
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
 	                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#73: FILE: drivers/net/tulip/dmfe.c:174:
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
 	                                ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#75: FILE: drivers/net/tulip/dmfe.c:176:
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
 	         ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#75: FILE: drivers/net/tulip/dmfe.c:176:
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
 	                       ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#75: FILE: drivers/net/tulip/dmfe.c:176:
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
 	                                ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#75: FILE: drivers/net/tulip/dmfe.c:176:
+	outl(data|CR9_SROM_READ|CR9_SRCS|CR9_SRCLK,ioaddr); \
 	                                          ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#77: FILE: drivers/net/tulip/dmfe.c:178:
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
 	         ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#77: FILE: drivers/net/tulip/dmfe.c:178:
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
 	                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#77: FILE: drivers/net/tulip/dmfe.c:178:
+	outl(data|CR9_SROM_READ|CR9_SRCS,ioaddr); \
 	                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#81: FILE: drivers/net/tulip/dmfe.c:182:
+ (( ((pci_id)==PCI_DM9132_ID) || ((dev_rev) >= 0x02000030) ) ? \$

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#81: FILE: drivers/net/tulip/dmfe.c:182:
+ (( ((pci_id)==PCI_DM9132_ID) || ((dev_rev) >= 0x02000030) ) ? \
              ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#81: FILE: drivers/net/tulip/dmfe.c:182:
+ (( ((pci_id)==PCI_DM9132_ID) || ((dev_rev) >= 0x02000030) ) ? \

ERROR:SPACING: space prohibited before that close parenthesis ')'
#81: FILE: drivers/net/tulip/dmfe.c:182:
+ (( ((pci_id)==PCI_DM9132_ID) || ((dev_rev) >= 0x02000030) ) ? \

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#82: FILE: drivers/net/tulip/dmfe.c:183:
+	DM9102A_IO_SIZE: DM9102_IO_SIZE)
 	               ^

WARNING:INDENTED_LABEL: labels should not be indented
#82: FILE: drivers/net/tulip/dmfe.c:183:
+	DM9102A_IO_SIZE: DM9102_IO_SIZE)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pci_dev' - possible side-effects?
#86: FILE: drivers/net/tulip/dmfe.c:185:
+#define CHK_IO_SIZE(pci_dev, dev_rev) \
+	(__CHK_IO_SIZE(((pci_dev)->device << 16) | (pci_dev)->vendor, dev_rev))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#105: FILE: drivers/net/tulip/dmfe.c:376:
+^I^Iprintk(KERN_WARNING DRV_NAME $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#105: FILE: drivers/net/tulip/dmfe.c:376:
+		printk(KERN_WARNING DRV_NAME 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#116: FILE: drivers/net/tulip/dmfe.c:421:
+^Idb->desc_pool_ptr = pci_alloc_consistent(pdev, sizeof(struct tx_desc) * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#118: FILE: drivers/net/tulip/dmfe.c:423:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#119: FILE: drivers/net/tulip/dmfe.c:424:
+^Idb->buf_pool_ptr = pci_alloc_consistent(pdev, TX_BUF_ALLOC * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#129: FILE: drivers/net/tulip/dmfe.c:461:
+^I^I((u16 *) db->srom)[i] = $

CHECK:SPACING: No space is necessary after a cast
#129: FILE: drivers/net/tulip/dmfe.c:461:
+		((u16 *) db->srom)[i] = 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#139: FILE: drivers/net/tulip/dmfe.c:531:
+^Iret = request_irq(dev->irq, &dmfe_interrupt, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#149: FILE: drivers/net/tulip/dmfe.c:673:
+^I^Iprintk(KERN_ERR DRV_NAME ": No Tx resource %ld\n", $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#149: FILE: drivers/net/tulip/dmfe.c:673:
+		printk(KERN_ERR DRV_NAME ": No Tx resource %ld\n", 

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#159: FILE: drivers/net/tulip/dmfe.c:746:
+	printk(DRV_NAME ": FU:%lx EC:%lx LC:%lx NC:%lx"

WARNING:SPLIT_STRING: quoted string split across lines
#160: FILE: drivers/net/tulip/dmfe.c:747:
+	printk(DRV_NAME ": FU:%lx EC:%lx LC:%lx NC:%lx"
+		" LOC:%lx TXJT:%lx RESET:%lx RCR8:%lx FAL:%lx TT:%lx\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:TRAILING_WHITESPACE: trailing whitespace
#169: FILE: drivers/net/tulip/dmfe.c:944:
+^I^Ipci_unmap_single(db->pdev, le32_to_cpu(rxptr->rdes2), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#171: FILE: drivers/net/tulip/dmfe.c:946:
+^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#180: FILE: drivers/net/tulip/dmfe.c:1104:
+^I^I^Iphy_write(db->ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#200: FILE: drivers/net/tulip/dmfe.c:1284:
+^I^Irxptr->rdes2 = cpu_to_le32( pci_map_single(db->pdev, $

ERROR:SPACING: space prohibited after that open parenthesis '('
#200: FILE: drivers/net/tulip/dmfe.c:1284:
+		rxptr->rdes2 = cpu_to_le32( pci_map_single(db->pdev, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#201: FILE: drivers/net/tulip/dmfe.c:1285:
+		rxptr->rdes2 = cpu_to_le32( pci_map_single(db->pdev, 
+			    skb->data, RX_ALLOC_SIZE, PCI_DMA_FROMDEVICE) );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#201: FILE: drivers/net/tulip/dmfe.c:1285:
+			    skb->data, RX_ALLOC_SIZE, PCI_DMA_FROMDEVICE) );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#211: FILE: drivers/net/tulip/dmfe.c:1317:
+^Idb->first_rx_desc = (void *)db->first_tx_desc + $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#213: FILE: drivers/net/tulip/dmfe.c:1319:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#214: FILE: drivers/net/tulip/dmfe.c:1320:
+^Idb->first_rx_desc_dma =  db->first_tx_desc_dma + $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#224: FILE: drivers/net/tulip/dmfe.c:1499:
+^I^Irxptr->rdes2 = cpu_to_le32( pci_map_single(db->pdev, skb->data, $

ERROR:SPACING: space prohibited after that open parenthesis '('
#224: FILE: drivers/net/tulip/dmfe.c:1499:
+		rxptr->rdes2 = cpu_to_le32( pci_map_single(db->pdev, skb->data, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#225: FILE: drivers/net/tulip/dmfe.c:1500:
+		rxptr->rdes2 = cpu_to_le32( pci_map_single(db->pdev, skb->data, 
+				    RX_ALLOC_SIZE, PCI_DMA_FROMDEVICE) );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#225: FILE: drivers/net/tulip/dmfe.c:1500:
+				    RX_ALLOC_SIZE, PCI_DMA_FROMDEVICE) );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#234: FILE: drivers/net/tulip/dmfe.c:1540:
+^I^Isrom_data = (srom_data << 1) | $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#244: FILE: drivers/net/tulip/dmfe.c:1568:
+^I^I^Iphy_mode = phy_read(db->ioaddr, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#245: FILE: drivers/net/tulip/dmfe.c:1569:
+			phy_mode = phy_read(db->ioaddr, 
+				    db->phy_addr, 7, db->chip_id) & 0xf000;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#248: FILE: drivers/net/tulip/dmfe.c:1571:
+^I^I^Iphy_mode = phy_read(db->ioaddr, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#249: FILE: drivers/net/tulip/dmfe.c:1572:
+			phy_mode = phy_read(db->ioaddr, 
+				    db->phy_addr, 17, db->chip_id) & 0xf000;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#259: FILE: drivers/net/tulip/dmfe.c:1609:
+^I^Iphy_reg = phy_read(db->ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#261: FILE: drivers/net/tulip/dmfe.c:1611:
+^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#262: FILE: drivers/net/tulip/dmfe.c:1612:
+^I^Iphy_write(db->ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#272: FILE: drivers/net/tulip/dmfe.c:1686:
+^I^I^Iphy_write(db->ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#277: FILE: drivers/net/tulip/dmfe.c:1690:
+^I^I^Iphy_write(db->ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#287: FILE: drivers/net/tulip/dmfe.c:1701:
+static void phy_write(unsigned long iobase, u8 phy_addr, u8 offset, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#297: FILE: drivers/net/tulip/dmfe.c:1728:
+^I^I^Iphy_write_1bit(ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#303: FILE: drivers/net/tulip/dmfe.c:1733:
+^I^I^Iphy_write_1bit(ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#313: FILE: drivers/net/tulip/dmfe.c:1742:
+^I^I^Iphy_write_1bit(ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#323: FILE: drivers/net/tulip/dmfe.c:1780:
+^I^I^Iphy_write_1bit(ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#329: FILE: drivers/net/tulip/dmfe.c:1785:
+^I^I^Iphy_write_1bit(ioaddr, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#339: FILE: drivers/net/tulip/dmfe.c:2007:
+^I^Iphy_write(db->ioaddr, db->phy_addr, 16, db->HPNA_command, $

WARNING:SPLIT_STRING: quoted string split across lines
#351: FILE: drivers/net/tulip/dmfe.c:2049:
+MODULE_PARM_DESC(mode, "Davicom DM9xxx: "
+		"Bit 0: 10/100Mbps, bit 2: duplex, bit 8: HomePNA");

WARNING:SPLIT_STRING: quoted string split across lines
#354: FILE: drivers/net/tulip/dmfe.c:2052:
+MODULE_PARM_DESC(SF_mode, "Davicom DM9xxx special function "
+		"(bit 0: VLAN, bit 1 Flow Control, bit 2: TX pause packet)");

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000467064.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 46 errors, 17 warnings, 21 checks, 286 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000467064.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
