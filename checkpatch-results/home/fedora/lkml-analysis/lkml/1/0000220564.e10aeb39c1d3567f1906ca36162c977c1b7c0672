WARNING:MAINTAINERS_STYLE: Misordered MAINTAINERS entry - list 'M:' before 'P:'
#58: FILE: MAINTAINERS:1683:
+P:	Matti Linnanvuori
+M:	matti.linnanvuori@ascom.com

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#82: FILE: drivers/net/wan/Kconfig:505:
+config ETP_STREAM
+	tristate "ETP raw bitstream and sensitivity support"
+	depends on ETP
+	help
+	  Driver for ETP raw bitstream and sensitivity.
+
+	  To compile this driver as a module, choose M here: the
+	  module will be called etp_stream.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#110: FILE: drivers/net/wan/etp_ioctl.h:1:
+/* etp_ioctl.h */

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#113: FILE: drivers/net/wan/etp_ioctl.h:4:
+/*
+	Copyright (C) 2005 Jouni Kujala, Flexibilis Oy.

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:CAMELCASE: Avoid CamelCase: <LOCAL_CLK_kHz>
#151: FILE: drivers/net/wan/etp_ioctl.h:42:
+#define LOCAL_CLK_kHz		32768	/* local crystal on the board */

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <COUNTER_TO_kHz>
#153: FILE: drivers/net/wan/etp_ioctl.h:44:
+#define COUNTER_TO_kHz(x) ((x) * (LOCAL_CLK_kHz / CLOCK_COUNTER_PERIOD))

CHECK:CAMELCASE: Avoid CamelCase: <PCM_RATE_kHz>
#155: FILE: drivers/net/wan/etp_ioctl.h:46:
+#define PCM_RATE_kHz			8

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#159: FILE: drivers/net/wan/etp_ioctl.h:50:
+	uint32_t nco_addend_value;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#164: FILE: drivers/net/wan/etp_ioctl.h:55:
+	uint32_t ext_output_clock_source;	/* CLOCK_SOURCE_XXXX */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#175: FILE: drivers/net/wan/etp_ioctl.h:66:
+	uint32_t tx_on;	/* 0 no, DMA_ENABLE_MASK yes */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#176: FILE: drivers/net/wan/etp_ioctl.h:67:
+	uint32_t rx_on;	/* 0 no, DMA_ENABLE_MASK yes */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#177: FILE: drivers/net/wan/etp_ioctl.h:68:
+	uint32_t tx_clock_source;	/* CLOCK_SOURCE_XXXX */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#185: FILE: drivers/net/wan/etp_ioctl.h:76:
+	uint32_t hdlc_mode_g704_used_timeslots;	/* timeslots for HDLC frame */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#200: FILE: drivers/net/wan/etp_ioctl.h:91:
+	uint32_t tx_clock_source;	/* CLOCK_SOURCE_XXX */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#202: FILE: drivers/net/wan/etp_ioctl.h:93:
+	uint32_t hdlc_mode_g704_used_timeslots;	/* timeslots for HDLC frame */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#206: FILE: drivers/net/wan/etp_ioctl.h:97:
+	uint32_t clock_source;	/* CLOCK_SOURCE_X */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#210: FILE: drivers/net/wan/etp_ioctl.h:101:
+	uint32_t nco_addend_value;

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#227: FILE: drivers/net/wan/etp_ioctl.h:117:
etp_ioctl_open)

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#254: FILE: drivers/net/wan/etp_idt.h:1:
+/* etp_idt.h */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#257: FILE: drivers/net/wan/etp_idt.h:4:
+/*
+	Copyright (C) 2005 Jouni Kujala, Flexibilis Oy.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#281: FILE: drivers/net/wan/etp_idt.h:28:
+static inline unsigned if_to_idt_if_etp(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#281: FILE: drivers/net/wan/etp_idt.h:28:
+static inline unsigned if_to_idt_if_etp(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#287: FILE: drivers/net/wan/etp_idt.h:34:
+static inline unsigned if_to_idt_if_etp104(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#287: FILE: drivers/net/wan/etp_idt.h:34:
+static inline unsigned if_to_idt_if_etp104(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#292: FILE: drivers/net/wan/etp_idt.h:39:
+static inline unsigned idt_if_to_if_etp(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#292: FILE: drivers/net/wan/etp_idt.h:39:
+static inline unsigned idt_if_to_if_etp(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#298: FILE: drivers/net/wan/etp_idt.h:45:
+static inline unsigned idt_if_to_if_etp104(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#298: FILE: drivers/net/wan/etp_idt.h:45:
+static inline unsigned idt_if_to_if_etp104(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#303: FILE: drivers/net/wan/etp_idt.h:50:
+extern unsigned int etp_if_to_idt_if(unsigned interface,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#303: FILE: drivers/net/wan/etp_idt.h:50:
+extern unsigned int etp_if_to_idt_if(unsigned interface,

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#311: FILE: drivers/net/wan/etp_idt.h:57:
+static inline unsigned idt_offset_down(const struct etp_device_private *device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#312: FILE: drivers/net/wan/etp_idt.h:58:
+				       unsigned span)

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#317: FILE: drivers/net/wan/etp_idt.h:63:
+extern void idt_init_default(struct etp_device_private *dp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#318: FILE: drivers/net/wan/etp_idt.h:64:
+extern int idt_open_if_hdlc_g703(struct etp_device_private *dp,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned' should also have an identifier name
#318: FILE: drivers/net/wan/etp_idt.h:64:
+extern int idt_open_if_hdlc_g703(struct etp_device_private *dp,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#319: FILE: drivers/net/wan/etp_idt.h:65:
+				 unsigned);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#320: FILE: drivers/net/wan/etp_idt.h:66:
+extern int idt_open_if_hdlc_g704(struct etp_device_private *dp,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned' should also have an identifier name
#320: FILE: drivers/net/wan/etp_idt.h:66:
+extern int idt_open_if_hdlc_g704(struct etp_device_private *dp,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#321: FILE: drivers/net/wan/etp_idt.h:67:
+				 unsigned);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#322: FILE: drivers/net/wan/etp_idt.h:68:
+extern int idt_open_if_timeslot(struct etp_device_private *dp,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned' should also have an identifier name
#322: FILE: drivers/net/wan/etp_idt.h:68:
+extern int idt_open_if_timeslot(struct etp_device_private *dp,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#323: FILE: drivers/net/wan/etp_idt.h:69:
+				unsigned);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#324: FILE: drivers/net/wan/etp_idt.h:70:
+extern int idt_open_if_stream(struct etp_device_private *dp,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned' should also have an identifier name
#324: FILE: drivers/net/wan/etp_idt.h:70:
+extern int idt_open_if_stream(struct etp_device_private *dp,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#325: FILE: drivers/net/wan/etp_idt.h:71:
+			      unsigned);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#326: FILE: drivers/net/wan/etp_idt.h:72:
+extern int idt_close_if(struct etp_device_private *dp, unsigned);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#326: FILE: drivers/net/wan/etp_idt.h:72:
+extern int idt_close_if(struct etp_device_private *dp, unsigned);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned' should also have an identifier name
#326: FILE: drivers/net/wan/etp_idt.h:72:
+extern int idt_close_if(struct etp_device_private *dp, unsigned);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#327: FILE: drivers/net/wan/etp_idt.h:73:
+extern int etp_idt_reset(unsigned device);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#327: FILE: drivers/net/wan/etp_idt.h:73:
+extern int etp_idt_reset(unsigned device);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#329: FILE: drivers/net/wan/etp_idt.h:75:
+extern int etp_read_idt_register_lock(unsigned device, unsigned reg);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#329: FILE: drivers/net/wan/etp_idt.h:75:
+extern int etp_read_idt_register_lock(unsigned device, unsigned reg);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#329: FILE: drivers/net/wan/etp_idt.h:75:
+extern int etp_read_idt_register_lock(unsigned device, unsigned reg);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#330: FILE: drivers/net/wan/etp_idt.h:76:
+extern int etp_read_idt_register_if_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#330: FILE: drivers/net/wan/etp_idt.h:76:
+extern int etp_read_idt_register_if_lock(unsigned device, unsigned reg,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#330: FILE: drivers/net/wan/etp_idt.h:76:
+extern int etp_read_idt_register_if_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#331: FILE: drivers/net/wan/etp_idt.h:77:
+					 unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#333: FILE: drivers/net/wan/etp_idt.h:79:
+static inline unsigned read_idt_register(uint32_t __iomem *ioaddr,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#333: FILE: drivers/net/wan/etp_idt.h:79:
+static inline unsigned read_idt_register(uint32_t __iomem *ioaddr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#335: FILE: drivers/net/wan/etp_idt.h:80:
+static inline unsigned read_idt_register(uint32_t __iomem *ioaddr,
+{

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#336: FILE: drivers/net/wan/etp_idt.h:81:
+	unsigned value;

WARNING:LINE_SPACING: Missing a blank line after declarations
#337: FILE: drivers/net/wan/etp_idt.h:82:
+	unsigned value;
+	while (readl_relaxed(ioaddr) & E1_ACCESS_ON)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#347: FILE: drivers/net/wan/etp_idt.h:92:
+static inline void write_idt_register(uint32_t __iomem *ioaddr, unsigned value)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#347: FILE: drivers/net/wan/etp_idt.h:92:
+static inline void write_idt_register(uint32_t __iomem *ioaddr, unsigned value)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#354: FILE: drivers/net/wan/etp_idt.h:99:
+static inline unsigned etp_value(unsigned reg, unsigned value)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#354: FILE: drivers/net/wan/etp_idt.h:99:
+static inline unsigned etp_value(unsigned reg, unsigned value)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#354: FILE: drivers/net/wan/etp_idt.h:99:
+static inline unsigned etp_value(unsigned reg, unsigned value)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#360: FILE: drivers/net/wan/etp_idt.h:105:
+extern int etp_write_idt_register_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#360: FILE: drivers/net/wan/etp_idt.h:105:
+extern int etp_write_idt_register_lock(unsigned device, unsigned reg,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#360: FILE: drivers/net/wan/etp_idt.h:105:
+extern int etp_write_idt_register_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#361: FILE: drivers/net/wan/etp_idt.h:106:
+				       unsigned value);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#362: FILE: drivers/net/wan/etp_idt.h:107:
+extern int etp_write_idt_register_if_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#362: FILE: drivers/net/wan/etp_idt.h:107:
+extern int etp_write_idt_register_if_lock(unsigned device, unsigned reg,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#362: FILE: drivers/net/wan/etp_idt.h:107:
+extern int etp_write_idt_register_if_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#363: FILE: drivers/net/wan/etp_idt.h:108:
+					  unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#364: FILE: drivers/net/wan/etp_idt.h:109:
+					  unsigned value);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#366: FILE: drivers/net/wan/etp_idt.h:111:
+extern int idt_set_ref_clk(struct etp_device_private *dp,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#367: FILE: drivers/net/wan/etp_idt.h:112:
+			   unsigned interface);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#368: FILE: drivers/net/wan/etp_idt.h:113:
+extern int idt_get_ref_clk(struct etp_device_private *dp);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#375: FILE: drivers/net/wan/etp_idt.c:1:
+/* etp_idt.c */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#378: FILE: drivers/net/wan/etp_idt.c:4:
+/*
+	Copyright (C) 2006 Jouni Kujala, Flexibilis Oy.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#398: FILE: drivers/net/wan/etp_idt.c:24:
+int etp_read_idt_register_if_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#398: FILE: drivers/net/wan/etp_idt.c:24:
+int etp_read_idt_register_if_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#399: FILE: drivers/net/wan/etp_idt.c:25:
+				  unsigned interface)

WARNING:LINE_SPACING: Missing a blank line after declarations
#402: FILE: drivers/net/wan/etp_idt.c:28:
+	const int offset = etp_idt_offset(device, interface);
+	if (unlikely(offset < 0))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#409: FILE: drivers/net/wan/etp_idt.c:35:
+write_idt_register_if(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#409: FILE: drivers/net/wan/etp_idt.c:35:
+write_idt_register_if(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#410: FILE: drivers/net/wan/etp_idt.c:36:
+		      unsigned interface, unsigned value);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#410: FILE: drivers/net/wan/etp_idt.c:36:
+		      unsigned interface, unsigned value);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#412: FILE: drivers/net/wan/etp_idt.c:38:
+static inline unsigned int idt_if_to_if(unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#423: FILE: drivers/net/wan/etp_idt.c:49:
+unsigned int etp_if_to_idt_if(unsigned interface, unsigned short pci_device_id)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#434: FILE: drivers/net/wan/etp_idt.c:60:
+int etp_idt_reset(unsigned device)

WARNING:LINE_SPACING: Missing a blank line after declarations
#438: FILE: drivers/net/wan/etp_idt.c:64:
+	int error;
+	etp_down(etp);

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#448: FILE: drivers/net/wan/etp_idt.c:74:
+		msleep(2);	/* should be at least 2 ms */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#461: FILE: drivers/net/wan/etp_idt.c:87:
+	const unsigned device = device_number(dp);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#517: FILE: drivers/net/wan/etp_idt.c:143:
+			  unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#519: FILE: drivers/net/wan/etp_idt.c:145:
+	const unsigned device = device_number(dp);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#538: FILE: drivers/net/wan/etp_idt.c:164:
+			  unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#540: FILE: drivers/net/wan/etp_idt.c:166:
+	const unsigned device = device_number(dp);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#558: FILE: drivers/net/wan/etp_idt.c:184:
+int idt_open_if_timeslot(struct etp_device_private *dp, unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#560: FILE: drivers/net/wan/etp_idt.c:186:
+	const unsigned device = device_number(dp);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#578: FILE: drivers/net/wan/etp_idt.c:204:
+int idt_open_if_stream(struct etp_device_private *dp, unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#580: FILE: drivers/net/wan/etp_idt.c:206:
+	const unsigned device = device_number(dp);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#598: FILE: drivers/net/wan/etp_idt.c:224:
+int idt_close_if(struct etp_device_private *dp, unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#605: FILE: drivers/net/wan/etp_idt.c:231:
+int etp_read_idt_register_lock(unsigned device, unsigned reg)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#605: FILE: drivers/net/wan/etp_idt.c:231:
+int etp_read_idt_register_lock(unsigned device, unsigned reg)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#607: FILE: drivers/net/wan/etp_idt.c:233:
+	unsigned value;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#609: FILE: drivers/net/wan/etp_idt.c:235:
+	uint32_t __iomem *ioaddr = (uint32_t __iomem *)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#622: FILE: drivers/net/wan/etp_idt.c:248:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#627: FILE: drivers/net/wan/etp_idt.c:253:
+int etp_idt_offset(unsigned card_number, unsigned span)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#627: FILE: drivers/net/wan/etp_idt.c:253:
+int etp_idt_offset(unsigned card_number, unsigned span)

WARNING:LINE_SPACING: Missing a blank line after declarations
#632: FILE: drivers/net/wan/etp_idt.c:258:
+	int offset;
+	mutex_lock(mutex);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#643: FILE: drivers/net/wan/etp_idt.c:269:
+write_idt_register_if(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#643: FILE: drivers/net/wan/etp_idt.c:269:
+write_idt_register_if(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#644: FILE: drivers/net/wan/etp_idt.c:270:
+		      unsigned interface, unsigned value)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#644: FILE: drivers/net/wan/etp_idt.c:270:
+		      unsigned interface, unsigned value)

WARNING:LINE_SPACING: Missing a blank line after declarations
#649: FILE: drivers/net/wan/etp_idt.c:275:
+		unsigned int i = IDT_INTERFACES - 1u;
+		do {

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#657: FILE: drivers/net/wan/etp_idt.c:283:
+		return error;
+	} else {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#658: FILE: drivers/net/wan/etp_idt.c:284:
+		unsigned offset = idt_offset_down(get_dev_priv(device),

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#664: FILE: drivers/net/wan/etp_idt.c:290:
+int etp_write_idt_register_if_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#664: FILE: drivers/net/wan/etp_idt.c:290:
+int etp_write_idt_register_if_lock(unsigned device, unsigned reg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#665: FILE: drivers/net/wan/etp_idt.c:291:
+				   unsigned interface, unsigned value)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#665: FILE: drivers/net/wan/etp_idt.c:291:
+				   unsigned interface, unsigned value)

WARNING:LINE_SPACING: Missing a blank line after declarations
#670: FILE: drivers/net/wan/etp_idt.c:296:
+		unsigned int i = IDT_INTERFACES - 1u;
+		do {

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#678: FILE: drivers/net/wan/etp_idt.c:304:
+		return error;
+	} else {

WARNING:LINE_SPACING: Missing a blank line after declarations
#680: FILE: drivers/net/wan/etp_idt.c:306:
+		int offset = etp_idt_offset(device, interface);
+		if (unlikely(offset == -ENXIO))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#687: FILE: drivers/net/wan/etp_idt.c:313:
+int etp_write_idt_register_lock(unsigned device, unsigned reg, unsigned value)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#687: FILE: drivers/net/wan/etp_idt.c:313:
+int etp_write_idt_register_lock(unsigned device, unsigned reg, unsigned value)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#687: FILE: drivers/net/wan/etp_idt.c:313:
+int etp_write_idt_register_lock(unsigned device, unsigned reg, unsigned value)

WARNING:LINE_SPACING: Missing a blank line after declarations
#690: FILE: drivers/net/wan/etp_idt.c:316:
+	struct etp_device_private *etp = get_dev_priv(device);
+	mutex_lock(&etp->mutex);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#703: FILE: drivers/net/wan/etp_idt.c:329:
+int idt_set_ref_clk(struct etp_device_private *dp, unsigned interface)

WARNING:LINE_SPACING: Missing a blank line after declarations
#706: FILE: drivers/net/wan/etp_idt.c:332:
+	unsigned short pci_device_id = dp->pci_dev->device;
+	return etp_write_idt_register_lock(device_number(dp),

WARNING:LINE_SPACING: Missing a blank line after declarations
#716: FILE: drivers/net/wan/etp_idt.c:342:
+	unsigned short pci_device_id = dp->pci_dev->device;
+	return idt_if_to_if(0xf &

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#725: FILE: drivers/net/wan/etp_proc.c:1:
+/* etp_proc.c */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#728: FILE: drivers/net/wan/etp_proc.c:4:
+/*
+	Copyright (C) 2005 Jouni Kujala, Flexibilis Oy.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#748: FILE: drivers/net/wan/etp_proc.c:24:
+int etp_device_status_get(unsigned device,

WARNING:LINE_SPACING: Missing a blank line after declarations
#753: FILE: drivers/net/wan/etp_proc.c:29:
+	int error;
+	if (unlikely(device >= etp_number_devices()))

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#758: FILE: drivers/net/wan/etp_proc.c:34:
+		uint8_t __iomem *ioaddr = dp->ioaddr;

WARNING:LINE_SPACING: Missing a blank line after declarations
#759: FILE: drivers/net/wan/etp_proc.c:35:
+		uint8_t __iomem *ioaddr = dp->ioaddr;
+		device_status->nco_addend_value =

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#789: FILE: drivers/net/wan/etp_proc.c:65:
+int etp_interface_status_get(unsigned device, unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#789: FILE: drivers/net/wan/etp_proc.c:65:
+int etp_interface_status_get(unsigned device, unsigned interface,

WARNING:LINE_SPACING: Missing a blank line after declarations
#795: FILE: drivers/net/wan/etp_proc.c:71:
+	struct etp_interface_private *ip;
+	if (unlikely(device >= etp_number_devices()

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#796: FILE: drivers/net/wan/etp_proc.c:72:
+	if (unlikely(device >= etp_number_devices()
+		     || interface > INTERFACES_PER_DEVICE - 1))

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#815: FILE: drivers/net/wan/etp_proc.c:91:
+		status_struct->loss_of_signal = ip->los
+		    || ip->if_mode == IF_MODE_CLOSED;

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#828: FILE: drivers/net/wan/idt82p2288.h:1:
+/* Author: Flexibilis Oy / Petri Anttila */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#831: FILE: drivers/net/wan/idt82p2288.h:4:
+/*
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#850: FILE: drivers/net/wan/idt82p2288.h:23:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1115: FILE: drivers/net/wan/etp_stream/etp_stream.h:1:
+/* etp_stream.h */

CHECK:BIT_MACRO: Prefer using the BIT macro
#1127: FILE: drivers/net/wan/etp_stream/etp_stream.h:13:
+#define ETP_STREAM_OVERFLOW (1 << ETP_STREAM_OVERFLOW_BIT)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:BIT_MACRO: Prefer using the BIT macro
#1128: FILE: drivers/net/wan/etp_stream/etp_stream.h:14:
+#define ETP_STREAM_UNDERFLOW (1 << ETP_STREAM_UNDERFLOW_BIT)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1135: FILE: drivers/net/wan/etp_stream/etp_stream.c:1:
+/**

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1180: FILE: drivers/net/wan/etp_stream/etp_stream.c:46:
+	unsigned char timeslot0;/* The number of open streaming G.704 files
+				   using timeslot 0. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1180: FILE: drivers/net/wan/etp_stream/etp_stream.c:46:
+				   using timeslot 0. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1182: FILE: drivers/net/wan/etp_stream/etp_stream.c:48:
+	bool out;		/* 1 if out of basic frame synchronization,
+				   else 0. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1182: FILE: drivers/net/wan/etp_stream/etp_stream.c:48:
+				   else 0. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1188: FILE: drivers/net/wan/etp_stream/etp_stream.c:54:
+	unsigned number;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1193: FILE: drivers/net/wan/etp_stream/etp_stream.c:59:
+static unsigned number; /* The number of the cards handled by this module. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1201: FILE: drivers/net/wan/etp_stream/etp_stream.c:67:
+	/* Starting timeslot and timeslot range length and first past timeslot
+	   range end. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1201: FILE: drivers/net/wan/etp_stream/etp_stream.c:67:
+	   range end. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1214: FILE: drivers/net/wan/etp_stream/etp_stream.c:80:
+		unsigned card = number - 1;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1215: FILE: drivers/net/wan/etp_stream/etp_stream.c:81:
+		unsigned card = number - 1;
+		do {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1217: FILE: drivers/net/wan/etp_stream/etp_stream.c:83:
+			struct etp_card *my_card = cards + card;
+			cancel_delayed_work_sync(&my_card->work);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1223: FILE: drivers/net/wan/etp_stream/etp_stream.c:89:
+static inline unsigned read_slot(loff_t *ppos)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1229: FILE: drivers/net/wan/etp_stream/etp_stream.c:95:
+static void notify_reception(unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1230: FILE: drivers/net/wan/etp_stream/etp_stream.c:96:
+			     unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1231: FILE: drivers/net/wan/etp_stream/etp_stream.c:97:
+			     unsigned can_be_read,

WARNING:WAITQUEUE_ACTIVE: waitqueue_active without comment
#1254: FILE: drivers/net/wan/etp_stream/etp_stream.c:120:
+	if (waitqueue_active(queue))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1258: FILE: drivers/net/wan/etp_stream/etp_stream.c:124:
+static inline unsigned write_slot(loff_t *ppos)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1264: FILE: drivers/net/wan/etp_stream/etp_stream.c:130:
+static void notify_transmission(unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1265: FILE: drivers/net/wan/etp_stream/etp_stream.c:131:
+				unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1266: FILE: drivers/net/wan/etp_stream/etp_stream.c:132:
+				unsigned can_be_written,

WARNING:WAITQUEUE_ACTIVE: waitqueue_active without comment
#1288: FILE: drivers/net/wan/etp_stream/etp_stream.c:154:
+	if (waitqueue_active(queue))

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1295: FILE: drivers/net/wan/etp_stream/etp_stream.c:161:
+	uint8_t last = slot->e1_frame[FRAMES_IN_SLOT - 1u].e1_timeslot[0];

WARNING:LINE_SPACING: Missing a blank line after declarations
#1296: FILE: drivers/net/wan/etp_stream/etp_stream.c:162:
+	uint8_t last = slot->e1_frame[FRAMES_IN_SLOT - 1u].e1_timeslot[0];
+	if (last & 0x40)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1302: FILE: drivers/net/wan/etp_stream/etp_stream.c:168:
+static void clear_alarm_indications(unsigned device, unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1302: FILE: drivers/net/wan/etp_stream/etp_stream.c:168:
+static void clear_alarm_indications(unsigned device, unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1316: FILE: drivers/net/wan/etp_stream/etp_stream.c:182:
+	    unsigned device, unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1316: FILE: drivers/net/wan/etp_stream/etp_stream.c:182:
+	    unsigned device, unsigned interface,

WARNING:LINE_SPACING: Missing a blank line after declarations
#1325: FILE: drivers/net/wan/etp_stream/etp_stream.c:191:
+			int error;
+			rtnl_lock();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1334: FILE: drivers/net/wan/etp_stream/etp_stream.c:200:
+				error = etp_write_idt_register_if_lock(device,
+							E1_TRNCVR_E1_MODE_REG,

WARNING:SPLIT_STRING: quoted string split across lines
#1339: FILE: drivers/net/wan/etp_stream/etp_stream.c:205:
+						 "Failed to disable multi-frame"
+						 ": %d\n", error);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1357: FILE: drivers/net/wan/etp_stream/etp_stream.c:223:
+	const unsigned device = card->number;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1361: FILE: drivers/net/wan/etp_stream/etp_stream.c:227:
+	unsigned interface = 0u;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1362: FILE: drivers/net/wan/etp_stream/etp_stream.c:228:
+	unsigned interface = 0u;
+	do {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1365: FILE: drivers/net/wan/etp_stream/etp_stream.c:231:
+		struct etp_interface_private *ip = interfaces + interface;
+		down_write(&ip->semaphore);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1370: FILE: drivers/net/wan/etp_stream/etp_stream.c:236:
+/* Timeslot 0 used. */		unsigned alarm;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1372: FILE: drivers/net/wan/etp_stream/etp_stream.c:238:
+				bool red;
+				if (unlikely(atomic_read(&etp->reset)))

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1374: FILE: drivers/net/wan/etp_stream/etp_stream.c:240:
+				alarm = etp_read_idt_register_if_lock(

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (0, 48)
#1381: FILE: drivers/net/wan/etp_stream/etp_stream.c:247:
+/* No red alarm. */			if (!frame(ip->ch_priv.tx +
[...]
+						queue_delayed_work(etp->queue,

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'ip->ch_priv.last_tx_slot_transmitted'
#1383: FILE: drivers/net/wan/etp_stream/etp_stream.c:249:
+						   ip->ch_priv.
+						   last_tx_slot_transmitted)) {

A single dereferencing identifier spanned on multiple lines like::

  struct_identifier->member[index].
  member = <foo>;

is generally hard to follow. It can easily lead to typos and so makes
the code vulnerable to bugs.

If fixing the multiple line dereferencing leads to an 80 column
violation, then either rewrite the code in a more simple way or if the
starting part of the dereferencing identifier is the same and used at
multiple places then store it in a temporary variable, and use that
temporary variable only at all the places. For example, if there are
two dereferencing identifiers::

  member1->member2->member3.foo1;
  member1->member2->member3.foo2;

then store the member1->member2->member3 part in a temporary variable.
It not only helps to avoid the 80 column violation but also reduces
the program size by removing the unnecessary dereferences.

But if none of the above methods work then ignore the 80 column
violation because it is much easier to read a dereferencing identifier
on a single line.

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'ip->ch_priv.this_netdev->dev'
#1395: FILE: drivers/net/wan/etp_stream/etp_stream.c:261:
+						dev_warn(&ip->ch_priv.
+							 this_netdev->dev,

WARNING:SPLIT_STRING: quoted string split across lines
#1397: FILE: drivers/net/wan/etp_stream/etp_stream.c:263:
+							 "Failed to set to "
+							 "stream mode: %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1401: FILE: drivers/net/wan/etp_stream/etp_stream.c:267:
+						clear_alarm_indications(device,
+								interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1410: FILE: drivers/net/wan/etp_stream/etp_stream.c:276:
+static void etp_idt_int_callback(unsigned device)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1413: FILE: drivers/net/wan/etp_stream/etp_stream.c:279:
+	struct etp_card *card = &cards[device];
+	queue_work(get_dev_priv(device)->queue, &card->work.work);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1416: FILE: drivers/net/wan/etp_stream/etp_stream.c:282:
+static inline void save_read(loff_t *ppos, unsigned slot, unsigned frame,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1416: FILE: drivers/net/wan/etp_stream/etp_stream.c:282:
+static inline void save_read(loff_t *ppos, unsigned slot, unsigned frame,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1417: FILE: drivers/net/wan/etp_stream/etp_stream.c:283:
+			     unsigned timeslot)

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1431: FILE: drivers/net/wan/etp_stream/etp_stream.c:297:
+static int etp_open(struct inode *inode, struct file *filp)
                                                       ^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1433: FILE: drivers/net/wan/etp_stream/etp_stream.c:299:
+	unsigned minor = MINOR(inode->i_rdev);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1434: FILE: drivers/net/wan/etp_stream/etp_stream.c:300:
+	unsigned card = minor >> 3;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1436: FILE: drivers/net/wan/etp_stream/etp_stream.c:302:
+	struct etp_file *file;
+	if (unlikely(card >= number))

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*file)...) over kmalloc(sizeof(struct etp_file)...)
#1440: FILE: drivers/net/wan/etp_stream/etp_stream.c:306:
+	file = kmalloc(sizeof(struct etp_file), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1442: FILE: drivers/net/wan/etp_stream/etp_stream.c:308:
+		unsigned interface_number = minor & (INTERFACES_PER_DEVICE - 1);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1443: FILE: drivers/net/wan/etp_stream/etp_stream.c:309:
+		unsigned interface_number = minor & (INTERFACES_PER_DEVICE - 1);
+		filp->private_data = file;

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1462: FILE: drivers/net/wan/etp_stream/etp_stream.c:328:
+static int etp_close(struct inode *inode, struct file *filp)
                                                        ^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1465: FILE: drivers/net/wan/etp_stream/etp_stream.c:331:
+	struct etp_file *file = filp->private_data;
+	if (!hlist_unhashed(&file->node)) {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1466: FILE: drivers/net/wan/etp_stream/etp_stream.c:332:
+		const unsigned card_number = file->card;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1467: FILE: drivers/net/wan/etp_stream/etp_stream.c:333:
+		const unsigned interface_number = file->interface;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1472: FILE: drivers/net/wan/etp_stream/etp_stream.c:338:
+		struct mutex *mutex = &interface->mutex;
+		mutex_lock(mutex); /* Protect list and memory integrity. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1494: FILE: drivers/net/wan/etp_stream/etp_stream.c:360:
+static inline unsigned read_frame(loff_t *ppos)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1499: FILE: drivers/net/wan/etp_stream/etp_stream.c:365:
+static inline unsigned read_timeslot(loff_t *ppos)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1509: FILE: drivers/net/wan/etp_stream/etp_stream.c:375:
+	const unsigned device = file->card;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1510: FILE: drivers/net/wan/etp_stream/etp_stream.c:376:
+	const unsigned interface_number = file->interface;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1513: FILE: drivers/net/wan/etp_stream/etp_stream.c:379:
+	unsigned reading, reading_frame, reading_slot, rx_slots, beyond;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1514: FILE: drivers/net/wan/etp_stream/etp_stream.c:380:
+	unsigned starting;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1522: FILE: drivers/net/wan/etp_stream/etp_stream.c:388:
+	struct rw_semaphore *semaphore = &ip->semaphore;
+	down_write(semaphore);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rx"
#1524: FILE: drivers/net/wan/etp_stream/etp_stream.c:390:
+	if (unlikely(rx == NULL)) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1541: FILE: drivers/net/wan/etp_stream/etp_stream.c:407:
+		unsigned slots;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1542: FILE: drivers/net/wan/etp_stream/etp_stream.c:408:
+		unsigned slots;
+		if (unlikely(reading == interface->receiving &&

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1580: FILE: drivers/net/wan/etp_stream/etp_stream.c:446:
+static inline unsigned write_frame(loff_t *ppos)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1585: FILE: drivers/net/wan/etp_stream/etp_stream.c:451:
+static inline unsigned write_timeslot(loff_t *ppos)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1596: FILE: drivers/net/wan/etp_stream/etp_stream.c:462:
+	const unsigned device = file->card;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1597: FILE: drivers/net/wan/etp_stream/etp_stream.c:463:
+	const unsigned interface_number = file->interface;

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'interface_privates[interface_number].ch_priv'
#1604: FILE: drivers/net/wan/etp_stream/etp_stream.c:470:
+		&get_dev_priv(device)->interface_privates[interface_number].
+		ch_priv;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1605: FILE: drivers/net/wan/etp_stream/etp_stream.c:471:
+	unsigned writing;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1606: FILE: drivers/net/wan/etp_stream/etp_stream.c:472:
+	unsigned writing_frame;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1607: FILE: drivers/net/wan/etp_stream/etp_stream.c:473:
+	unsigned tx_slots;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1608: FILE: drivers/net/wan/etp_stream/etp_stream.c:474:
+	unsigned writing_slot;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1609: FILE: drivers/net/wan/etp_stream/etp_stream.c:475:
+	unsigned beyond;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1610: FILE: drivers/net/wan/etp_stream/etp_stream.c:476:
+	unsigned starting;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1612: FILE: drivers/net/wan/etp_stream/etp_stream.c:478:
+	struct rw_semaphore *semaphore = &this_if_priv(channel)->semaphore;
+	down_write(semaphore);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!slot"
#1614: FILE: drivers/net/wan/etp_stream/etp_stream.c:480:
+	if (unlikely(slot == NULL)) {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1627: FILE: drivers/net/wan/etp_stream/etp_stream.c:493:
+		unsigned length;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1628: FILE: drivers/net/wan/etp_stream/etp_stream.c:494:
+		unsigned length;
+		if (unlikely(writing == interface->transmitting &&

WARNING:LINE_SPACING: Missing a blank line after declarations
#1675: FILE: drivers/net/wan/etp_stream/etp_stream.c:541:
+	unsigned long flow;
+	poll_wait(file, &interface->queue, wait);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1704: FILE: drivers/net/wan/etp_stream/etp_stream.c:570:
+	struct rw_semaphore *semaphore = &interface->semaphore;
+	mutex_lock(mutex);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1744: FILE: drivers/net/wan/etp_stream/etp_stream.c:610:
+			unsigned g704 =

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1746: FILE: drivers/net/wan/etp_stream/etp_stream.c:612:
+			unsigned g704_old = oldlength <

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1749: FILE: drivers/net/wan/etp_stream/etp_stream.c:615:
+			error = etp_write_idt_register_if_lock(card_number,
+							E1_TRNCVR_E1_MODE_REG,

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1758: FILE: drivers/net/wan/etp_stream/etp_stream.c:624:
+				my_interface->timeslot0 += g704 && (!g704_old
+								    || slot !=

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1781: FILE: drivers/net/wan/etp_stream/etp_stream.c:647:
+	uint32_t slots = (uint32_t)write_slot(file->position) -

WARNING:LINE_SPACING: Missing a blank line after declarations
#1799: FILE: drivers/net/wan/etp_stream/etp_stream.c:665:
+			unsigned char interface = file->interface;
+			return etp_fill(file, get_dev_priv(card)->

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'interface_privates[interface].ch_priv.tx_slots'
#1801: FILE: drivers/net/wan/etp_stream/etp_stream.c:667:
+						interface_privates[interface].
+						ch_priv.tx_slots, file->length,

WARNING:LINE_SPACING: Missing a blank line after declarations
#1807: FILE: drivers/net/wan/etp_stream/etp_stream.c:673:
+			struct etp_file *file = file_p->private_data;
+			return atomic_xchg(&file->exceptions, ETP_STREAM_CLEAR);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1814: FILE: drivers/net/wan/etp_stream/etp_stream.c:680:
+			unsigned data = arg == (unsigned long)-10 ? 0x15 : 0x54;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1816: FILE: drivers/net/wan/etp_stream/etp_stream.c:682:
+			struct etp_file *file = file_p->private_data;
+			return etp_write_idt_register_if_lock(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1816: FILE: drivers/net/wan/etp_stream/etp_stream.c:682:
+			return etp_write_idt_register_if_lock(

WARNING:LINE_SPACING: Missing a blank line after declarations
#1826: FILE: drivers/net/wan/etp_stream/etp_stream.c:692:
+			struct etp_file *file = file_p->private_data;
+			return etp_read_idt_register_if_lock(file->card,

WARNING:LINE_SPACING: Missing a blank line after declarations
#1833: FILE: drivers/net/wan/etp_stream/etp_stream.c:699:
+			struct etp_file *interface = file_p->private_data;
+			return get_dev_priv(interface->card)->

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'interface_privates[interface->interface].ch_priv.tx_slots'
#1835: FILE: drivers/net/wan/etp_stream/etp_stream.c:701:
+				interface_privates[interface->interface].
+				ch_priv.tx_slots;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 's32' over 'int32_t'
#1851: FILE: drivers/net/wan/etp_stream/etp_stream.c:717:
+	int32_t offset = loffset;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 's32' over 'int32_t'
#1853: FILE: drivers/net/wan/etp_stream/etp_stream.c:719:
+	int32_t slot_offset, frame_offset, slot, frame, writing;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1858: FILE: drivers/net/wan/etp_stream/etp_stream.c:724:
+	struct rw_semaphore *semaphore = &ip->semaphore;
+	down_write(semaphore);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 's32' over 'int32_t'
#1867: FILE: drivers/net/wan/etp_stream/etp_stream.c:733:
+		int32_t fill = -etp_fill(file, slots, length, card, interface);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1868: FILE: drivers/net/wan/etp_stream/etp_stream.c:734:
+		int32_t fill = -etp_fill(file, slots, length, card, interface);
+		if (unlikely(offset < fill)) {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 's32' over 'int32_t'
#1874: FILE: drivers/net/wan/etp_stream/etp_stream.c:740:
+			int32_t limit = (int32_t)slots * FRAMES_IN_SLOT *

WARNING:CONST_STRUCT: struct file_operations should normally be const
#1925: FILE: drivers/net/wan/etp_stream/etp_stream.c:791:
+static struct file_operations etp_char_fops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1938: FILE: drivers/net/wan/etp_stream/etp_stream.c:804:
+	unsigned index;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1940: FILE: drivers/net/wan/etp_stream/etp_stream.c:806:
+	int error;
+	number = etp_number_devices();

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*cards)...) over kzalloc(sizeof(struct etp_card)...)
#1943: FILE: drivers/net/wan/etp_stream/etp_stream.c:809:
+	cards = kzalloc(sizeof(struct etp_card) * number, GFP_KERNEL);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#1943: FILE: drivers/net/wan/etp_stream/etp_stream.c:809:
+	cards = kzalloc(sizeof(struct etp_card) * number, GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cards"
#1944: FILE: drivers/net/wan/etp_stream/etp_stream.c:810:
+	if (unlikely(cards == NULL))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1949: FILE: drivers/net/wan/etp_stream/etp_stream.c:815:
+		unsigned interface;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1950: FILE: drivers/net/wan/etp_stream/etp_stream.c:816:
+		unsigned interface;
+		card->number = index;

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1982: FILE: drivers/net/wan/etp.h:1:
+/* etp.h */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1985: FILE: drivers/net/wan/etp.h:4:
+/*
+	Copyright (C) 2005 Jouni Kujala, Flexibilis Oy.

CHECK:CAMELCASE: Avoid CamelCase: <REG_RXDESCxA_CHy>
#2036: FILE: drivers/net/wan/etp.h:55:
+#define REG_RXDESCxA_CHy(x, y) (0x10000 + (x) * 0x8 + (y) * 0x80)

CHECK:CAMELCASE: Avoid CamelCase: <REG_RXDESCxB_CHy>
#2037: FILE: drivers/net/wan/etp.h:56:
+#define REG_RXDESCxB_CHy(x, y) (0x10004 + (x) * 0x8 + (y) * 0x80)

CHECK:CAMELCASE: Avoid CamelCase: <REG_TXDESCxA_CHy>
#2039: FILE: drivers/net/wan/etp.h:58:
+#define REG_TXDESCxA_CHy(x, y) (0x18000 + (x) * 0x8 + (y) * 0x80)

CHECK:CAMELCASE: Avoid CamelCase: <REG_TXDESCxB_CHy>
#2040: FILE: drivers/net/wan/etp.h:59:
+#define REG_TXDESCxB_CHy(x, y) (0x18004 + (x) * 0x8 + (y) * 0x80)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2043: FILE: drivers/net/wan/etp.h:62:
+	uint32_t desc_a;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2044: FILE: drivers/net/wan/etp.h:63:
+	uint32_t desc_b;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2048: FILE: drivers/net/wan/etp.h:67:
+	uint32_t desc_a;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2049: FILE: drivers/net/wan/etp.h:68:
+	uint32_t desc_b;

CHECK:BIT_MACRO: Prefer using the BIT macro
#2054: FILE: drivers/net/wan/etp.h:73:
+#define LVDS_ENABLE_MASK	(1 << 20)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2055: FILE: drivers/net/wan/etp.h:74:
+#define LVDS_ENABLE		(1 << 20)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2057: FILE: drivers/net/wan/etp.h:76:
+#define E1_RESET_MASK	(1 << 21)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2058: FILE: drivers/net/wan/etp.h:77:
+#define E1_RESET_ENABLE	(1 << 21)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2060: FILE: drivers/net/wan/etp.h:79:
+#define E1_HIGH_Z_MASK		(1 << 22)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2061: FILE: drivers/net/wan/etp.h:80:
+#define E1_HIFH_Z_ENABLE	(1 << 22)

CHECK:CAMELCASE: Avoid CamelCase: <LEDx_SHIFT>
#2083: FILE: drivers/net/wan/etp.h:102:
+#define LEDx_SHIFT(x)	((x) * 2)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2085: FILE: drivers/net/wan/etp.h:104:
+
+

CHECK:BIT_MACRO: Prefer using the BIT macro
#2101: FILE: drivers/net/wan/etp.h:120:
+#define E1_DIR_MASK		(1 << 30)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2102: FILE: drivers/net/wan/etp.h:121:
+#define E1_DIR_READ		(1 << 30)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2104: FILE: drivers/net/wan/etp.h:123:
+#define E1_ACCESS_ON		(1 << 31)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2113: FILE: drivers/net/wan/etp.h:132:
+#define INT_2_E1_INT		(1 << 0)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2114: FILE: drivers/net/wan/etp.h:133:
+#define INT_2_E1_ACCESS_DONE	(1 << 8)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2123: FILE: drivers/net/wan/etp.h:142:
+#define INT_RECEIVED		(1 << 0)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2124: FILE: drivers/net/wan/etp.h:143:
+#define INT_TRANSMITTED		(1 << 1)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2125: FILE: drivers/net/wan/etp.h:144:
+#define INT_RX_DROPPED		(1 << 2)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2126: FILE: drivers/net/wan/etp.h:145:
+#define INT_TX_UNDERF		(1 << 3)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2128: FILE: drivers/net/wan/etp.h:147:
+#define INT2_RX_RESYNC		(1 << 0)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2129: FILE: drivers/net/wan/etp.h:148:
+#define INT2_TX_RESYNC		(1 << 8)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2136: FILE: drivers/net/wan/etp.h:155:
+#define HDLC_CRC_16		(1 << 4)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2138: FILE: drivers/net/wan/etp.h:157:
+#define HDLC_CRC_DELAY		(1 << 5)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2140: FILE: drivers/net/wan/etp.h:159:
+#define HDLC_RETINA_FLAG	(1 << 6)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2153: FILE: drivers/net/wan/etp.h:172:
+#define DMA_ENABLE_MASK			(1 << 31)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2154: FILE: drivers/net/wan/etp.h:173:
+#define DMA_ENABLE			(1 << 31)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2164: FILE: drivers/net/wan/etp.h:183:
+#define RX_DESCB_FIFO_ERR	(1 << 16)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2165: FILE: drivers/net/wan/etp.h:184:
+#define RX_DESCB_SIZE_ERR	(1 << 17)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2166: FILE: drivers/net/wan/etp.h:185:
+#define RX_DESCB_CRC_ERR	(1 << 18)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2167: FILE: drivers/net/wan/etp.h:186:
+#define RX_DESCB_OCTET_ERR	(1 << 19)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2168: FILE: drivers/net/wan/etp.h:187:
+#define RX_DESCB_TRANSFER	(1 << 31)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2171: FILE: drivers/net/wan/etp.h:190:
+#define TX_DESCB_FIFO_ERR	(1 << 16)

CHECK:BIT_MACRO: Prefer using the BIT macro
#2172: FILE: drivers/net/wan/etp.h:191:
+#define TX_DESCB_TRANSFER	(1 << 31)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#2179: FILE: drivers/net/wan/etp.h:198:
+#define TX_TIMEOUT	(1*HZ)	/* 1 sec in jiffies */
                   	  ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2187: FILE: drivers/net/wan/etp.h:206:
+	uint8_t e1_timeslot[E1_TIMESLOTS_PER_CHANNEL];

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2216: FILE: drivers/net/wan/etp.h:235:
+	uint32_t __iomem *reg_ch_rxctrl;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2218: FILE: drivers/net/wan/etp.h:237:
+	uint32_t __iomem *reg_ch_txctrl;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2221: FILE: drivers/net/wan/etp.h:240:
+	uint32_t hdlc_mode_g704_used_timeslots;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2232: FILE: drivers/net/wan/etp.h:251:
+	void (*rx_callback) (unsigned device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#2232: FILE: drivers/net/wan/etp.h:251:
+	void (*rx_callback) (unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2233: FILE: drivers/net/wan/etp.h:252:
+			     unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2234: FILE: drivers/net/wan/etp.h:253:
+			     unsigned read,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2244: FILE: drivers/net/wan/etp.h:263:
+	void (*tx_callback) (unsigned device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#2244: FILE: drivers/net/wan/etp.h:263:
+	void (*tx_callback) (unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2245: FILE: drivers/net/wan/etp.h:264:
+			     unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2246: FILE: drivers/net/wan/etp.h:265:
+			     unsigned written,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2264: FILE: drivers/net/wan/etp.h:283:
+	uint32_t tx_clock_source;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2270: FILE: drivers/net/wan/etp.h:289:
+	uint32_t __iomem *reg_if_rxctrl;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2271: FILE: drivers/net/wan/etp.h:290:
+	uint32_t __iomem *reg_if_txctrl;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2272: FILE: drivers/net/wan/etp.h:291:
+	uint32_t __iomem *reg_if_rxctrl1;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2273: FILE: drivers/net/wan/etp.h:292:
+	uint32_t __iomem *reg_if_txctrl1;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2277: FILE: drivers/net/wan/etp.h:296:
+typedef void (*etp_idt_callback_t) (unsigned device);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2292: FILE: drivers/net/wan/etp.h:311:
+	uint32_t led_register_value;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#2293: FILE: drivers/net/wan/etp.h:312:
+	spinlock_t lock2;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2294: FILE: drivers/net/wan/etp.h:313:
+	uint32_t reg_int_mask2;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2297: FILE: drivers/net/wan/etp.h:316:
+	uint8_t __iomem *ioaddr;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#2298: FILE: drivers/net/wan/etp.h:317:
+	spinlock_t lock0;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2299: FILE: drivers/net/wan/etp.h:318:
+	uint32_t reg_int_mask0;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2302: FILE: drivers/net/wan/etp.h:321:
+extern unsigned get_led(const struct etp_interface_private *ip);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2302: FILE: drivers/net/wan/etp.h:321:
+extern unsigned get_led(const struct etp_interface_private *ip);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2306: FILE: drivers/net/wan/etp.h:325:
+static inline struct etp_device_private *get_dev_priv(unsigned device)

WARNING:LINE_SPACING: Missing a blank line after declarations
#2309: FILE: drivers/net/wan/etp.h:328:
+	struct etp_device_private *card;
+	rcu_read_lock();

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2322: FILE: drivers/net/wan/etp.h:340:
+static inline unsigned device_number(const struct etp_device_private *dp)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2330: FILE: drivers/net/wan/etp.h:348:
+	void (*rx_callback) (unsigned device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#2330: FILE: drivers/net/wan/etp.h:348:
+	void (*rx_callback) (unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2331: FILE: drivers/net/wan/etp.h:349:
+			     unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2332: FILE: drivers/net/wan/etp.h:350:
+			     unsigned read,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2334: FILE: drivers/net/wan/etp.h:352:
+	void (*tx_callback) (unsigned device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#2334: FILE: drivers/net/wan/etp.h:352:
+	void (*tx_callback) (unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2335: FILE: drivers/net/wan/etp.h:353:
+			     unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2336: FILE: drivers/net/wan/etp.h:354:
+			     unsigned written,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2338: FILE: drivers/net/wan/etp.h:356:
+	void (*idt_int_callback) (unsigned device);

WARNING:SPACING: Unnecessary space before function pointer arguments
#2338: FILE: drivers/net/wan/etp.h:356:
+	void (*idt_int_callback) (unsigned device);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2339: FILE: drivers/net/wan/etp.h:357:
+	unsigned device, interface;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2361: FILE: drivers/net/wan/etp.h:378:
+static inline unsigned interface_number(const struct etp_interface_private *ip)

WARNING:TYPO_SPELLING: 'fuctions' may be misspelled - perhaps 'functions'?
#2366: FILE: drivers/net/wan/etp.h:383:
+/* Registers callback fuctions. */
                       ^^^^^^^^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2367: FILE: drivers/net/wan/etp.h:384:
+extern int etp_register_callbacks(const struct etp_callback_struct *callback);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2370: FILE: drivers/net/wan/etp.h:387:
+extern int etp_if_open(unsigned device,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2370: FILE: drivers/net/wan/etp.h:387:
+extern int etp_if_open(unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2371: FILE: drivers/net/wan/etp.h:388:
+		       unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2372: FILE: drivers/net/wan/etp.h:389:
+		       unsigned if_mode,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2373: FILE: drivers/net/wan/etp.h:390:
+		       unsigned rx_slots,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2374: FILE: drivers/net/wan/etp.h:391:
+		       unsigned tx_slots);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2381: FILE: drivers/net/wan/etp.h:397:
+extern int etp_frame(unsigned device, unsigned interface, bool frame);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2381: FILE: drivers/net/wan/etp.h:397:
+extern int etp_frame(unsigned device, unsigned interface, bool frame);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2381: FILE: drivers/net/wan/etp.h:397:
+extern int etp_frame(unsigned device, unsigned interface, bool frame);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2384: FILE: drivers/net/wan/etp.h:400:
+extern int etp_if_close(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2384: FILE: drivers/net/wan/etp.h:400:
+extern int etp_if_close(unsigned device, unsigned interface);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2384: FILE: drivers/net/wan/etp.h:400:
+extern int etp_if_close(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2387: FILE: drivers/net/wan/etp.h:403:
+int etp_tx_on(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2387: FILE: drivers/net/wan/etp.h:403:
+int etp_tx_on(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2390: FILE: drivers/net/wan/etp.h:406:
+int etp_tx_off(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2390: FILE: drivers/net/wan/etp.h:406:
+int etp_tx_off(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2393: FILE: drivers/net/wan/etp.h:409:
+int etp_rx_on(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2393: FILE: drivers/net/wan/etp.h:409:
+int etp_rx_on(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2396: FILE: drivers/net/wan/etp.h:412:
+int etp_rx_off(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2396: FILE: drivers/net/wan/etp.h:412:
+int etp_rx_off(unsigned device, unsigned interface);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2399: FILE: drivers/net/wan/etp.h:415:
+int etp_if_settings(unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2400: FILE: drivers/net/wan/etp.h:416:
+		    unsigned interface,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2401: FILE: drivers/net/wan/etp.h:417:
+		    uint32_t clock_source,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2402: FILE: drivers/net/wan/etp.h:418:
+		    unsigned hdlc_mode,	/* HDLC_MODE_XXX  */

WARNING:LINE_SPACING: Missing a blank line after declarations
#2403: FILE: drivers/net/wan/etp.h:419:
+		    unsigned hdlc_mode,	/* HDLC_MODE_XXX  */
+		    uint32_t hdlc_mode_g704_used_timeslots);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2406: FILE: drivers/net/wan/etp.h:422:
+int etp_ext_output_clock(unsigned device, uint32_t clock_source);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2409: FILE: drivers/net/wan/etp.h:425:
+int etp_nco_adjust(unsigned device, uint32_t nco_addend_value);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2411: FILE: drivers/net/wan/etp.h:427:
+extern unsigned etp_number;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2413: FILE: drivers/net/wan/etp.h:429:
+static inline unsigned etp_number_devices(void)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2419: FILE: drivers/net/wan/etp.h:435:
+int etp_device_status_get(unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2422: FILE: drivers/net/wan/etp.h:438:
+int etp_interface_status_get(unsigned device, unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2422: FILE: drivers/net/wan/etp.h:438:
+int etp_interface_status_get(unsigned device, unsigned interface,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2425: FILE: drivers/net/wan/etp.h:441:
+extern uint32_t etp_rx_on_get(const struct etp_channel_private *cp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2427: FILE: drivers/net/wan/etp.h:443:
+extern uint32_t etp_tx_on_get(const struct etp_channel_private *cp);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2434: FILE: drivers/net/wan/etp.h:450:
+int etp_idt_offset(unsigned card_number, unsigned span);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2434: FILE: drivers/net/wan/etp.h:450:
+int etp_idt_offset(unsigned card_number, unsigned span);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2439: FILE: drivers/net/wan/etp_main.c:1:
+/* etp_main.c */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2442: FILE: drivers/net/wan/etp_main.c:4:
+/*
+	Copyright (C) 2006 Jouni Kujala, Flexibilis Oy.

WARNING:HOTPLUG_SECTION: Using __devinitdata is unnecessary
#2498: FILE: drivers/net/wan/etp_main.c:60:
+static struct pci_device_id etp_pci_tbl[] __devinitdata = {

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#2520: FILE: drivers/net/wan/etp_main.c:82:
+static int etp_char_open(struct inode *inode, struct file *filp);
                                                            ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#2521: FILE: drivers/net/wan/etp_main.c:83:
+static int etp_char_ioctl(struct inode *inode, struct file *filp,
                                                             ^^^^

WARNING:CONST_STRUCT: struct file_operations should normally be const
#2526: FILE: drivers/net/wan/etp_main.c:88:
+static struct file_operations etp_char_fops = {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2542: FILE: drivers/net/wan/etp_main.c:104:
+		printk(KERN_WARNING

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2565: FILE: drivers/net/wan/etp_main.c:126:
+				uint32_t clock_source,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2566: FILE: drivers/net/wan/etp_main.c:127:
+				unsigned hdlc_mode,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2575: FILE: drivers/net/wan/etp_main.c:136:
+static int etp_if_close_down(unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2580: FILE: drivers/net/wan/etp_main.c:141:
+static unsigned if_to_led(unsigned interface)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2580: FILE: drivers/net/wan/etp_main.c:141:
+static unsigned if_to_led(unsigned interface)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2588: FILE: drivers/net/wan/etp_main.c:149:
+static void set_led(uint32_t new_value, struct etp_interface_private *ip,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2589: FILE: drivers/net/wan/etp_main.c:150:
+		    unsigned interface, struct etp_device_private *dp)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2591: FILE: drivers/net/wan/etp_main.c:152:
+	uint8_t __iomem *ioaddr = dp->ioaddr;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2593: FILE: drivers/net/wan/etp_main.c:154:
+	/* The idea here is that we do not need to read the old value from
+	   device because we know what we have written there. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2593: FILE: drivers/net/wan/etp_main.c:154:
+	   device because we know what we have written there. */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2594: FILE: drivers/net/wan/etp_main.c:155:
+	uint32_t old = dp->led_register_value;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2595: FILE: drivers/net/wan/etp_main.c:156:
+	uint32_t temp = old;	/* LED value temp */

WARNING:LINE_SPACING: Missing a blank line after declarations
#2615: FILE: drivers/net/wan/etp_main.c:176:
+	unsigned int interface = interface_number(ip);
+	return (dp->led_register_value >> LEDx_SHIFT(if_to_led(interface))) &

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#2619: FILE: drivers/net/wan/etp_main.c:180:
+static int __devinit etp_init_device(struct pci_dev *pdev,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2626: FILE: drivers/net/wan/etp_main.c:187:
+	unsigned channel;

WARNING:LINE_SPACING: Missing a blank line after declarations
#2628: FILE: drivers/net/wan/etp_main.c:189:
+	struct mutex *device_mutex = &dp->mutex;
+	cancel_delayed_work(&dp->led);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2634: FILE: drivers/net/wan/etp_main.c:195:
+		const unsigned mode = ip->if_mode;

WARNING:LINE_SPACING: Missing a blank line after declarations
#2636: FILE: drivers/net/wan/etp_main.c:197:
+		struct etp_channel_private *cp = &ip->ch_priv;
+		if (mode >= IF_MODE_TIMESLOT) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#2642: FILE: drivers/net/wan/etp_main.c:203:
+			struct net_device *dev = cp->this_netdev;
+			if (dev) {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2672: FILE: drivers/net/wan/etp_main.c:233:
+	unsigned channel;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2674: FILE: drivers/net/wan/etp_main.c:235:
+	unsigned irq;

WARNING:LINE_SPACING: Missing a blank line after declarations
#2676: FILE: drivers/net/wan/etp_main.c:237:
+	struct etp_interface_private *interfaces;
+	pci_set_power_state(pdev, PCI_D0);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2700: FILE: drivers/net/wan/etp_main.c:261:
+		struct net_device *dev = cp->this_netdev;
+		if (likely(dev)) {

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#2714: FILE: drivers/net/wan/etp_main.c:275:
+static void __devexit etp_remove_device(struct pci_dev *pdev);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2730: FILE: drivers/net/wan/etp_main.c:291:
+	int ret = pci_register_driver(&etp_driver);
+	if (unlikely(ret))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2742: FILE: drivers/net/wan/etp_main.c:303:
+	unsigned device;

WARNING:LINE_SPACING: Missing a blank line after declarations
#2743: FILE: drivers/net/wan/etp_main.c:304:
+	unsigned device;
+	pci_unregister_driver(&etp_driver);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2748: FILE: drivers/net/wan/etp_main.c:309:
+		struct workqueue_struct *queue = card->queue;
+		if (queue)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2761: FILE: drivers/net/wan/etp_main.c:322:
+static void rx_null_callback(unsigned device, unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2761: FILE: drivers/net/wan/etp_main.c:322:
+static void rx_null_callback(unsigned device, unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2762: FILE: drivers/net/wan/etp_main.c:323:
+			     unsigned can_be, const struct slot_struct *rx)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2766: FILE: drivers/net/wan/etp_main.c:327:
+static void tx_null_callback(unsigned device, unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2766: FILE: drivers/net/wan/etp_main.c:327:
+static void tx_null_callback(unsigned device, unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2767: FILE: drivers/net/wan/etp_main.c:328:
+			     unsigned can_be, struct slot_struct *tx)

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 32)
#2786: FILE: drivers/net/wan/etp_main.c:347:
+		if (unlikely(!netdev)) {
[...]
+				"cannot allocate net device\n");

WARNING:LINE_SPACING: Missing a blank line after declarations
#2822: FILE: drivers/net/wan/etp_main.c:383:
+			struct hdlc_device *hdlc = dev_to_hdlc(netdev);
+			hdlc->attach = etp_netdev_attach;

WARNING:LINE_SPACING: Missing a blank line after declarations
#2916: FILE: drivers/net/wan/etp_main.c:477:
+	struct net_device *device = cp->this_netdev;
+	if (unlikely(device == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!device"
#2916: FILE: drivers/net/wan/etp_main.c:477:
+	if (unlikely(device == NULL))

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3014: FILE: drivers/net/wan/etp_main.c:575:
+				uint32_t clock_source,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3015: FILE: drivers/net/wan/etp_main.c:576:
+				unsigned hdlc_mode,

WARNING:LINE_SPACING: Missing a blank line after declarations
#3020: FILE: drivers/net/wan/etp_main.c:581:
+	struct net_device *netdev = cp->this_netdev;
+	if (cp->hdlc_mode != hdlc_mode) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#3024: FILE: drivers/net/wan/etp_main.c:585:
+			int error;
+			etp_free_netdev(cp);

WARNING:SPLIT_STRING: quoted string split across lines
#3055: FILE: drivers/net/wan/etp_main.c:616:
+				dev_warn(&netdev->dev, "Interface open: "
+					 "cannot change clocking\n");

WARNING:LINE_SPACING: Missing a blank line after declarations
#3076: FILE: drivers/net/wan/etp_main.c:637:
+		int error;
+		if (likely(!atomic_read(&dp->reset))) {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3092: FILE: drivers/net/wan/etp_main.c:653:
+	unsigned interface = 0u;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3093: FILE: drivers/net/wan/etp_main.c:654:
+	unsigned interface = 0u;
+	do {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3100: FILE: drivers/net/wan/etp_main.c:661:
+	unsigned interface = 0u;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3101: FILE: drivers/net/wan/etp_main.c:662:
+	unsigned interface = 0u;
+	do {

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#3106: FILE: drivers/net/wan/etp_main.c:667:
+static int __devinit etp_init_device(struct pci_dev *pdev,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#3110: FILE: drivers/net/wan/etp_main.c:671:
+	uint8_t __iomem *ioaddr;

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!card->pci_dev"
#3118: FILE: drivers/net/wan/etp_main.c:679:
+		if (card->pci_dev == NULL)

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*card)...) over kzalloc(sizeof(struct etp_device_private)...)
#3123: FILE: drivers/net/wan/etp_main.c:684:
+	card = kzalloc(sizeof(struct etp_device_private), GFP_KERNEL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!card"
#3124: FILE: drivers/net/wan/etp_main.c:685:
+	if (unlikely(card == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cards"
#3128: FILE: drivers/net/wan/etp_main.c:689:
+	if (unlikely(cards == NULL)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#3141: FILE: drivers/net/wan/etp_main.c:702:
+		struct etp_channel_private *cp = &ip->ch_priv;
+		init_rwsem(&ip->semaphore);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ioaddr"
#3198: FILE: drivers/net/wan/etp_main.c:759:
+	if (unlikely(ioaddr == NULL)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!card->queue"
#3259: FILE: drivers/net/wan/etp_main.c:820:
+	if (likely(card->queue == NULL)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!queue"
#3262: FILE: drivers/net/wan/etp_main.c:823:
+		if (unlikely(queue == NULL)) {

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#3302: FILE: drivers/net/wan/etp_main.c:863:
+static void __devexit etp_remove_device(struct pci_dev *pdev)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#3307: FILE: drivers/net/wan/etp_main.c:868:
+	uint8_t __iomem *ioaddr = dp->ioaddr;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3308: FILE: drivers/net/wan/etp_main.c:869:
+	const unsigned device = device_number(dp);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around interfaces[i]
#3318: FILE: drivers/net/wan/etp_main.c:879:
+		struct etp_interface_private *ip = &(interfaces[i]);

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:LINE_SPACING: Missing a blank line after declarations
#3319: FILE: drivers/net/wan/etp_main.c:880:
+		struct etp_interface_private *ip = &(interfaces[i]);
+		switch (ip->if_mode) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around interfaces[i]
#3334: FILE: drivers/net/wan/etp_main.c:895:
+		struct etp_interface_private *ip = &(interfaces[i]);

WARNING:LINE_SPACING: Missing a blank line after declarations
#3335: FILE: drivers/net/wan/etp_main.c:896:
+		struct etp_interface_private *ip = &(interfaces[i]);
+		etp_free_netdev(&ip->ch_priv);

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#3354: FILE: drivers/net/wan/etp_main.c:915:
+static int etp_char_open(struct inode *inode, struct file *filp)
                                                            ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#3365: FILE: drivers/net/wan/etp_main.c:926:
+static int etp_char_ioctl(struct inode *inode, struct file *filp,
                                                             ^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#3382: FILE: drivers/net/wan/etp_main.c:943:
+			struct etp_ioctl_open open_struct;
+			if (unlikely(__copy_from_user(&open_struct,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3387: FILE: drivers/net/wan/etp_main.c:948:
+			error = etp_if_open(device, open_struct.interface,
+				open_struct.if_mode, open_struct.rx_slots,

WARNING:LINE_SPACING: Missing a blank line after declarations
#3414: FILE: drivers/net/wan/etp_main.c:975:
+			struct etp_ioctl_interface_settings settings_struct;
+			if (unlikely(__copy_from_user

WARNING:LINE_SPACING: Missing a blank line after declarations
#3428: FILE: drivers/net/wan/etp_main.c:989:
+			struct etp_ioctl_ext_output_clock clock_struct;
+			if (unlikely(__copy_from_user(&clock_struct,

WARNING:LINE_SPACING: Missing a blank line after declarations
#3439: FILE: drivers/net/wan/etp_main.c:1000:
+			struct etp_ioctl_nco_adjust nco_struct;
+			if (unlikely(__copy_from_user(&nco_struct,

WARNING:LINE_SPACING: Missing a blank line after declarations
#3450: FILE: drivers/net/wan/etp_main.c:1011:
+			struct etp_device_status_struct status_struct;
+			error = etp_device_status_get(device, &status_struct);

WARNING:LINE_SPACING: Missing a blank line after declarations
#3462: FILE: drivers/net/wan/etp_main.c:1023:
+			struct etp_interface_status_struct status_struct;
+			if (unlikely(__copy_from_user(&status_struct,

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#3479: FILE: drivers/net/wan/etp_main.c:1040:
+			return -ENXIO;
+		} else {

WARNING:LINE_SPACING: Missing a blank line after declarations
#3481: FILE: drivers/net/wan/etp_main.c:1042:
+			struct etp_ioctl_e1_access e1_struct;
+			if (unlikely(__copy_from_user(&e1_struct,

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#3486: FILE: drivers/net/wan/etp_main.c:1047:
+				e1_struct.data = etp_read_idt_register_lock(

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'e1_struct.address'
#3489: FILE: drivers/net/wan/etp_main.c:1050:
+								e1_struct.
+								address);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3492: FILE: drivers/net/wan/etp_main.c:1053:
+				error = etp_write_idt_register_lock(device,
+								e1_struct.

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'e1_struct.address'
#3493: FILE: drivers/net/wan/etp_main.c:1054:
+								e1_struct.
+								address,

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#3507: FILE: drivers/net/wan/etp_main.c:1068:
+			return -ENXIO;
+		} else {

WARNING:LINE_SPACING: Missing a blank line after declarations
#3511: FILE: drivers/net/wan/etp_main.c:1072:
+			struct etp_channel_private *cp;
+			if (unlikely(__copy_from_user(&poll_struct,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3532: FILE: drivers/net/wan/etp_main.c:1093:
+					  unsigned channel_number,

WARNING:LINE_SPACING: Missing a blank line after declarations
#3536: FILE: drivers/net/wan/etp_main.c:1097:
+	spinlock_t *lock = &dp->lock0;
+	spin_lock(lock);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3545: FILE: drivers/net/wan/etp_main.c:1106:
+				       unsigned channel_number,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3555: FILE: drivers/net/wan/etp_main.c:1116:
+				unsigned interface,

WARNING:LINE_SPACING: Missing a blank line after declarations
#3559: FILE: drivers/net/wan/etp_main.c:1120:
+	struct napi_struct *napi = &cp->napi;
+	cp->interrupt = true;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3571: FILE: drivers/net/wan/etp_main.c:1132:
+	bool disable;
+	spin_lock(lock);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3584: FILE: drivers/net/wan/etp_main.c:1145:
+
+

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#3606: FILE: drivers/net/wan/etp_main.c:1167:
+	uint8_t __iomem *ioaddr = dp->ioaddr;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3609: FILE: drivers/net/wan/etp_main.c:1170:
+	uint32_t intr_status_0 = readl(ioaddr + REG_INT_STAT0);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3610: FILE: drivers/net/wan/etp_main.c:1171:
+	uint32_t intr_status_2 = readl_relaxed(ioaddr + REG_INT_STAT2);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3613: FILE: drivers/net/wan/etp_main.c:1174:
+	/* Clear interrupts (only those visible in status,
+	   not those that happened after reading status) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3613: FILE: drivers/net/wan/etp_main.c:1174:
+	   not those that happened after reading status) */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3628: FILE: drivers/net/wan/etp_main.c:1189:
+		uint32_t ch_intr_status =

CHECK:SPACING: spaces preferred around that '*' (ctx:ExV)
#3648: FILE: drivers/net/wan/etp_main.c:1209:
+							      *netdev_stats,
 							      ^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3649: FILE: drivers/net/wan/etp_main.c:1210:
+							      uint32_t desc_b,

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#3669: FILE: drivers/net/wan/etp_main.c:1230:
+		return true;
+	} else { /* OK, no error. */

CHECK:SPACING: spaces preferred around that '*' (ctx:ExV)
#3678: FILE: drivers/net/wan/etp_main.c:1239:
+							      *netdev_stats,
 							      ^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3679: FILE: drivers/net/wan/etp_main.c:1240:
+							      uint32_t desc_b,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3693: FILE: drivers/net/wan/etp_main.c:1254:
+	unsigned d = cp->last_rx_desc_received;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3695: FILE: drivers/net/wan/etp_main.c:1256:
+	struct sk_buff *skb;
+	for (;;) {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3698: FILE: drivers/net/wan/etp_main.c:1259:
+		uint32_t descb = readl(&rxdesc->desc_b);

WARNING:LINE_SPACING: Missing a blank line after declarations
#3699: FILE: drivers/net/wan/etp_main.c:1260:
+		uint32_t descb = readl(&rxdesc->desc_b);
+		if (descb & RX_DESCB_TRANSFER)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3704: FILE: drivers/net/wan/etp_main.c:1265:
+			uint32_t length = descb & RX_DESCB_LENGT_MASK;

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#3705: FILE: drivers/net/wan/etp_main.c:1266:
+			bool error = etp_update_rx_descriptor_statistics_netdev(

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#3738: FILE: drivers/net/wan/etp_main.c:1299:
+						if (skb->pkt_type ==

Indentation with 6 or more tabs usually indicate overly indented
code.

It is suggested to refactor excessive indentation of
if/else/for/do/while/switch statements.

See: https://lore.kernel.org/lkml/1328311239.21255.24.camel@joe2Laptop/

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#3744: FILE: drivers/net/wan/etp_main.c:1305:
+						if (skb->pkt_type ==

WARNING:LINE_SPACING: Missing a blank line after declarations
#3758: FILE: drivers/net/wan/etp_main.c:1319:
+			dma_addr_t bus_address;
+			skb_reserve(skb, NET_IP_ALIGN);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3803: FILE: drivers/net/wan/etp_main.c:1364:
+	uint32_t desc_b;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3805: FILE: drivers/net/wan/etp_main.c:1366:
+	struct txdesc __iomem *txdesc;
+	while (((desc_b =

WARNING:LINE_SPACING: Missing a blank line after declarations
#3811: FILE: drivers/net/wan/etp_main.c:1372:
+		dma_addr_t address;
+		etp_update_tx_descriptor_statistics_netdev(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#3811: FILE: drivers/net/wan/etp_main.c:1372:
+		etp_update_tx_descriptor_statistics_netdev(

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3823: FILE: drivers/net/wan/etp_main.c:1384:
+			unsigned written = slot + 1u;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3824: FILE: drivers/net/wan/etp_main.c:1385:
+			unsigned written = slot + 1u;
+			written *= written < slots;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3844: FILE: drivers/net/wan/etp_main.c:1405:
+	uint32_t desc_b;

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#3853: FILE: drivers/net/wan/etp_main.c:1414:
+		etp_update_rx_descriptor_statistics_netdev(

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3857: FILE: drivers/net/wan/etp_main.c:1418:
+		/* update counters pointing to last received descriptors & slots
+		   and increase last received descriptor counter */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3857: FILE: drivers/net/wan/etp_main.c:1418:
+		   and increase last received descriptor counter */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3867: FILE: drivers/net/wan/etp_main.c:1428:
+			unsigned read = slot + 1;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3868: FILE: drivers/net/wan/etp_main.c:1429:
+			unsigned read = slot + 1;
+			read *= read < slots;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3880: FILE: drivers/net/wan/etp_main.c:1441:
+	unsigned d;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3881: FILE: drivers/net/wan/etp_main.c:1442:
+	uint32_t desc_b;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3893: FILE: drivers/net/wan/etp_main.c:1454:
+		uint32_t length = desc_b & TX_DESCB_LENGT_MASK;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3894: FILE: drivers/net/wan/etp_main.c:1455:
+		uint32_t length = desc_b & TX_DESCB_LENGT_MASK;
+		pci_unmap_single(this_device_priv(cp)->pci_dev,

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cp->tx_descriptor[cp->last_tx_desc_transmitted].skb"
#3909: FILE: drivers/net/wan/etp_main.c:1470:
+	    cp->tx_descriptor[cp->last_tx_desc_transmitted].skb == NULL &&

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3916: FILE: drivers/net/wan/etp_main.c:1477:
+					 unsigned channel_number,

WARNING:LINE_SPACING: Missing a blank line after declarations
#3921: FILE: drivers/net/wan/etp_main.c:1482:
+	spinlock_t *lock = &dp->lock0;
+	spin_lock_irqsave(lock, flags);

WARNING:LINE_SPACING: Missing a blank line after declarations
#3941: FILE: drivers/net/wan/etp_main.c:1502:
+		struct etp_device_private *dp;
+		do {

WARNING:LINE_SPACING: Missing a blank line after declarations
#3955: FILE: drivers/net/wan/etp_main.c:1516:
+		int poll = 0;
+		do {

WARNING:LINE_SPACING: Missing a blank line after declarations
#3957: FILE: drivers/net/wan/etp_main.c:1518:
+			struct net_device *dev = cp->this_netdev;
+			cp->interrupt = false;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3987: FILE: drivers/net/wan/etp_main.c:1548:
+	struct etp_device_private *dp = cp->this_dev_priv;
+	local_irq_disable();

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3995: FILE: drivers/net/wan/etp_main.c:1556:
+	unsigned d;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3996: FILE: drivers/net/wan/etp_main.c:1557:
+	unsigned d;
+	for (d = 0u; d < DESCRIPTORS_PER_CHANNEL; d++) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#4000: FILE: drivers/net/wan/etp_main.c:1561:
+		struct txdesc __iomem *txdesc;
+		writel(0u, &rxdesc->desc_b);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4011: FILE: drivers/net/wan/etp_main.c:1572:
+	unsigned d;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4012: FILE: drivers/net/wan/etp_main.c:1573:
+	unsigned d;
+	for (d = 0u; d < DESCRIPTORS_PER_CHANNEL; d++) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#4015: FILE: drivers/net/wan/etp_main.c:1576:
+		struct sk_buff *skb = rx->skb;
+		if (skb != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "skb"
#4015: FILE: drivers/net/wan/etp_main.c:1576:
+		if (skb != NULL) {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4029: FILE: drivers/net/wan/etp_main.c:1590:
+	unsigned channel_number = cp->channel_number;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4032: FILE: drivers/net/wan/etp_main.c:1593:
+	unsigned d;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#4033: FILE: drivers/net/wan/etp_main.c:1594:
+	uint8_t __iomem *ioaddr;

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#4146: FILE: drivers/net/wan/etp_main.c:1707:
+		if (unlikely(skb == NULL))

WARNING:LINE_SPACING: Missing a blank line after declarations
#4154: FILE: drivers/net/wan/etp_main.c:1715:
+			struct rxdesc __iomem *rxdesc;
+			pci_unmap_addr_set(rx, address, address);

CHECK:ASSIGNMENT_CONTINUATIONS: Assignment operator '=' should be on the previous line
#4187: FILE: drivers/net/wan/etp_main.c:1748:
+	struct etp_channel_private *cp
+		= ((struct hdlc_device *)(dev_to_hdlc(dev)))->priv;

Assignment operators should not be written at the start of a
line but should follow the operand at the previous line.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4188: FILE: drivers/net/wan/etp_main.c:1749:
+	unsigned last_transmitted;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#4189: FILE: drivers/net/wan/etp_main.c:1750:
+	uint8_t *data;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4191: FILE: drivers/net/wan/etp_main.c:1752:
+	unsigned tx_length = skb->len;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#4197: FILE: drivers/net/wan/etp_main.c:1758:
+		uint32_t *s_addr = &ip_header->saddr;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#4198: FILE: drivers/net/wan/etp_main.c:1759:
+		uint32_t *d_addr = &ip_header->daddr;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4199: FILE: drivers/net/wan/etp_main.c:1760:
+		uint32_t *d_addr = &ip_header->daddr;
+		if (skb->len < sizeof(struct ethhdr) + sizeof(struct iphdr))

CHECK:SPACING: No space is necessary after a cast
#4201: FILE: drivers/net/wan/etp_main.c:1762:
+		((u8 *) s_addr)[3] ^= 4;

CHECK:SPACING: No space is necessary after a cast
#4202: FILE: drivers/net/wan/etp_main.c:1763:
+		((u8 *) d_addr)[3] ^= 4;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4236: FILE: drivers/net/wan/etp_main.c:1797:
+			struct txdesc __iomem *txdesc;
+			last_transmitted = cp->last_tx_desc_transmitted;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4252: FILE: drivers/net/wan/etp_main.c:1813:
+		unsigned next = (last_transmitted + 1u) &

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cp->tx_descriptor[next].skb"
#4256: FILE: drivers/net/wan/etp_main.c:1817:
+		if (cp->tx_descriptor[next].skb != NULL)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#4268: FILE: drivers/net/wan/etp_main.c:1829:
+	uint8_t __iomem *ioaddr, *reg_rst_ctrl;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4269: FILE: drivers/net/wan/etp_main.c:1830:
+	unsigned d = cp->channel_number;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#4270: FILE: drivers/net/wan/etp_main.c:1831:
+	uint32_t __iomem *reg_if_txctrl = ip->reg_if_txctrl;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4303: FILE: drivers/net/wan/etp_main.c:1864:
+		struct sk_buff *skb = tx->skb;
+		if (skb != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "skb"
#4303: FILE: drivers/net/wan/etp_main.c:1864:
+		if (skb != NULL) {

CHECK:ASSIGNMENT_CONTINUATIONS: Assignment operator '=' should be on the previous line
#4317: FILE: drivers/net/wan/etp_main.c:1878:
+	struct etp_channel_private *cp
+		= ((struct hdlc_device *)(dev_to_hdlc(dev)))->priv;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4320: FILE: drivers/net/wan/etp_main.c:1881:
+	struct etp_device_private *dp = this_dev_priv(ip);
+	if (unlikely(!netif_device_present(dev)))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4327: FILE: drivers/net/wan/etp_main.c:1888:
+static inline int idt_los(unsigned device, unsigned offset)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4327: FILE: drivers/net/wan/etp_main.c:1888:
+static inline int idt_los(unsigned device, unsigned offset)

WARNING:LINE_SPACING: Missing a blank line after declarations
#4338: FILE: drivers/net/wan/etp_main.c:1899:
+	spinlock_t *lock = &dp->lock2;
+	spin_lock_irq(lock);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4350: FILE: drivers/net/wan/etp_main.c:1911:
+	unsigned interface;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4351: FILE: drivers/net/wan/etp_main.c:1912:
+	const unsigned device = device_number(dp);

WARNING:LINE_SPACING: Missing a blank line after declarations
#4353: FILE: drivers/net/wan/etp_main.c:1914:
+	struct mutex *mutex = &dp->idt;
+	if (unlikely(atomic_read(&dp->reset)))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4365: FILE: drivers/net/wan/etp_main.c:1926:
+		unsigned mode;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4369: FILE: drivers/net/wan/etp_main.c:1930:
+		struct net_device *this_netdev;
+		if (unlikely(offset < 0))

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#4407: FILE: drivers/net/wan/etp_main.c:1967:
+/* Work called to read IDT chip for setting LEDs right after 4
+static void led_work(struct work_struct *work)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#4418: FILE: drivers/net/wan/etp_main.c:1977:
+/* ---------- Functions of etp kernel interface (defined in etp.h)
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4424: FILE: drivers/net/wan/etp_main.c:1983:
+	unsigned interface = callback_p->interface;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4427: FILE: drivers/net/wan/etp_main.c:1986:
+	unsigned index = callback_p->index;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4430: FILE: drivers/net/wan/etp_main.c:1989:
+	void (*rx_callback) (unsigned device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#4430: FILE: drivers/net/wan/etp_main.c:1989:
+	void (*rx_callback) (unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4431: FILE: drivers/net/wan/etp_main.c:1990:
+			     unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4432: FILE: drivers/net/wan/etp_main.c:1991:
+			     unsigned read,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4435: FILE: drivers/net/wan/etp_main.c:1994:
+	void (*rx_old) (unsigned device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#4435: FILE: drivers/net/wan/etp_main.c:1994:
+	void (*rx_old) (unsigned device,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'const struct slot_struct *' should also have an identifier name
#4435: FILE: drivers/net/wan/etp_main.c:1994:
+	void (*rx_old) (unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4436: FILE: drivers/net/wan/etp_main.c:1995:
+			unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4437: FILE: drivers/net/wan/etp_main.c:1996:
+			unsigned read,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4439: FILE: drivers/net/wan/etp_main.c:1998:
+	void (*tx_callback) (unsigned device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#4439: FILE: drivers/net/wan/etp_main.c:1998:
+	void (*tx_callback) (unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4440: FILE: drivers/net/wan/etp_main.c:1999:
+			     unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4441: FILE: drivers/net/wan/etp_main.c:2000:
+			     unsigned written,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4443: FILE: drivers/net/wan/etp_main.c:2002:
+	void (*tx_old) (unsigned device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#4443: FILE: drivers/net/wan/etp_main.c:2002:
+	void (*tx_old) (unsigned device,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct slot_struct *' should also have an identifier name
#4443: FILE: drivers/net/wan/etp_main.c:2002:
+	void (*tx_old) (unsigned device,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4444: FILE: drivers/net/wan/etp_main.c:2003:
+			unsigned interface,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4445: FILE: drivers/net/wan/etp_main.c:2004:
+			unsigned written,

WARNING:LINE_SPACING: Missing a blank line after declarations
#4448: FILE: drivers/net/wan/etp_main.c:2007:
+	int error = 0;
+	mutex_lock(mutex);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4485: FILE: drivers/net/wan/etp_main.c:2044:
+int etp_frame(unsigned device, unsigned interface, bool frame)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4485: FILE: drivers/net/wan/etp_main.c:2044:
+int etp_frame(unsigned device, unsigned interface, bool frame)

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#4489: FILE: drivers/net/wan/etp_main.c:2048:
+		return -ENXIO;
+	} else {

WARNING:LINE_SPACING: Missing a blank line after declarations
#4496: FILE: drivers/net/wan/etp_main.c:2055:
+			int error = idt_open_if_timeslot(dp, interface);
+			if (unlikely(error))

WARNING:LINE_SPACING: Missing a blank line after declarations
#4502: FILE: drivers/net/wan/etp_main.c:2061:
+			int error = idt_open_if_stream(dp, interface);
+			if (unlikely(error))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4513: FILE: drivers/net/wan/etp_main.c:2072:
+int etp_if_open(unsigned device,	/* The number of the device. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4514: FILE: drivers/net/wan/etp_main.c:2073:
+		unsigned interface,	/* The number of the interface. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4515: FILE: drivers/net/wan/etp_main.c:2074:
+		unsigned if_mode,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4516: FILE: drivers/net/wan/etp_main.c:2075:
+		unsigned rx_slots,	/* The size of the rx buffer. */

WARNING:LINE_SPACING: Missing a blank line after declarations
#4517: FILE: drivers/net/wan/etp_main.c:2076:
+		unsigned rx_slots,	/* The size of the rx buffer. */
+		unsigned tx_slots)	/* The size of the rx buffer. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4517: FILE: drivers/net/wan/etp_main.c:2076:
+		unsigned tx_slots)	/* The size of the rx buffer. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4523: FILE: drivers/net/wan/etp_main.c:2082:
+	unsigned d;

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#4529: FILE: drivers/net/wan/etp_main.c:2088:
+	if (unlikely(tx_slots < MIN_SLOTS
+		     || tx_slots > MAX_SLOTS

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#4530: FILE: drivers/net/wan/etp_main.c:2089:
+		     || tx_slots > MAX_SLOTS
+		     || rx_slots < MIN_SLOTS

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#4531: FILE: drivers/net/wan/etp_main.c:2090:
+		     || rx_slots < MIN_SLOTS
+		     || rx_slots > MAX_SLOTS))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cp->tx"
#4569: FILE: drivers/net/wan/etp_main.c:2128:
+	if (unlikely(cp->tx == NULL)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cp->rx"
#4576: FILE: drivers/net/wan/etp_main.c:2135:
+	if (unlikely(cp->rx == NULL)) {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#4609: FILE: drivers/net/wan/etp_main.c:2168:
+		uint8_t __iomem *ioaddr = dp->ioaddr;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4610: FILE: drivers/net/wan/etp_main.c:2169:
+		uint8_t __iomem *ioaddr = dp->ioaddr;
+		queue_status_work(dp, ioaddr);

WARNING:LINE_SPACING: Missing a blank line after declarations
#4614: FILE: drivers/net/wan/etp_main.c:2173:
+			struct timer_list *timer = &cp->timer;
+			timer->expires = jiffies + HZ / 1000ul;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4639: FILE: drivers/net/wan/etp_main.c:2198:
+static int etp_if_close_down(unsigned interface, struct etp_device_private *dp,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#4643: FILE: drivers/net/wan/etp_main.c:2202:
+	uint8_t __iomem *ioaddr;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4647: FILE: drivers/net/wan/etp_main.c:2206:
+	unsigned char mode = ip->if_mode;
+	if (unlikely(net_device == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!net_device"
#4647: FILE: drivers/net/wan/etp_main.c:2206:
+	if (unlikely(net_device == NULL))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4690: FILE: drivers/net/wan/etp_main.c:2249:
+int etp_if_close(unsigned device, /* The number of the device. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4691: FILE: drivers/net/wan/etp_main.c:2250:
+		 unsigned interface) /* The number of the interface. */

WARNING:LINE_SPACING: Missing a blank line after declarations
#4697: FILE: drivers/net/wan/etp_main.c:2256:
+	int error;
+	down_write(ip_semaphore);

WARNING:LINE_SPACING: Missing a blank line after declarations
#4710: FILE: drivers/net/wan/etp_main.c:2269:
+	struct etp_channel_private *cp = &ip->ch_priv;
+	if (unlikely(ip->if_mode < IF_MODE_TIMESLOT)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#4712: FILE: drivers/net/wan/etp_main.c:2271:
+		struct net_device *device = cp->this_netdev;
+		if (device)

WARNING:SPLIT_STRING: quoted string split across lines
#4714: FILE: drivers/net/wan/etp_main.c:2273:
+			dev_warn(&device->dev, "Cannot set transmitter on "
+				 "because not in timeslot or stream mode\n");

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4728: FILE: drivers/net/wan/etp_main.c:2287:
+int etp_tx_on(unsigned device, unsigned channel)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4728: FILE: drivers/net/wan/etp_main.c:2287:
+int etp_tx_on(unsigned device, unsigned channel)

WARNING:LINE_SPACING: Missing a blank line after declarations
#4734: FILE: drivers/net/wan/etp_main.c:2293:
+	struct rw_semaphore *ip_semaphore;
+	if (unlikely(device >= etp_number || channel >= INTERFACES_PER_DEVICE))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4750: FILE: drivers/net/wan/etp_main.c:2309:
+	unsigned mode = ip->if_mode;

WARNING:SPLIT_STRING: quoted string split across lines
#4755: FILE: drivers/net/wan/etp_main.c:2314:
+		dev_warn(&cp->this_netdev->dev, "Cannot set transmitter off "
+			 "because not in timeslot or stream mode\n");

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4772: FILE: drivers/net/wan/etp_main.c:2331:
+int etp_tx_off(unsigned device, unsigned channel)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4772: FILE: drivers/net/wan/etp_main.c:2331:
+int etp_tx_off(unsigned device, unsigned channel)

WARNING:LINE_SPACING: Missing a blank line after declarations
#4778: FILE: drivers/net/wan/etp_main.c:2337:
+	int error;
+	if (unlikely(device >= etp_number || channel >= INTERFACES_PER_DEVICE))

WARNING:LINE_SPACING: Missing a blank line after declarations
#4793: FILE: drivers/net/wan/etp_main.c:2352:
+	struct etp_channel_private *cp = &ip->ch_priv;
+	if (unlikely(ip->if_mode < IF_MODE_TIMESLOT)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#4795: FILE: drivers/net/wan/etp_main.c:2354:
+		struct net_device *device = cp->this_netdev;
+		if (device)

WARNING:SPLIT_STRING: quoted string split across lines
#4797: FILE: drivers/net/wan/etp_main.c:2356:
+			dev_warn(&device->dev, "Cannot set receiver on "
+				 "because not in timeslot or stream mode\n");

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4807: FILE: drivers/net/wan/etp_main.c:2366:
+int etp_rx_on(unsigned device, unsigned channel)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4807: FILE: drivers/net/wan/etp_main.c:2366:
+int etp_rx_on(unsigned device, unsigned channel)

WARNING:LINE_SPACING: Missing a blank line after declarations
#4813: FILE: drivers/net/wan/etp_main.c:2372:
+	struct rw_semaphore *ip_semaphore;
+	if (unlikely(device >= etp_number || channel >= INTERFACES_PER_DEVICE))

WARNING:LINE_SPACING: Missing a blank line after declarations
#4830: FILE: drivers/net/wan/etp_main.c:2389:
+	struct etp_channel_private *cp = &ip->ch_priv;
+	if (unlikely(ip->if_mode == IF_MODE_HDLC)) {

WARNING:SPLIT_STRING: quoted string split across lines
#4832: FILE: drivers/net/wan/etp_main.c:2391:
+		dev_warn(&cp->this_netdev->dev, "Cannot set receiver off "
+			 "because not in timeslot or stream mode\n");

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4843: FILE: drivers/net/wan/etp_main.c:2402:
+int etp_rx_off(unsigned device,	/* The number of the device. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4844: FILE: drivers/net/wan/etp_main.c:2403:
+	       unsigned channel)

WARNING:LINE_SPACING: Missing a blank line after declarations
#4850: FILE: drivers/net/wan/etp_main.c:2409:
+	int error;
+	if (unlikely(device >= etp_number || channel >= INTERFACES_PER_DEVICE))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4863: FILE: drivers/net/wan/etp_main.c:2422:
+int etp_if_settings(unsigned device, /* The number of the device */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4864: FILE: drivers/net/wan/etp_main.c:2423:
+		    unsigned channel, /* The number of interface */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#4865: FILE: drivers/net/wan/etp_main.c:2424:
+		    uint32_t clock_source, /* whence the transmit clock comes */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4866: FILE: drivers/net/wan/etp_main.c:2425:
+		    unsigned hdlc_mode,

WARNING:LINE_SPACING: Missing a blank line after declarations
#4873: FILE: drivers/net/wan/etp_main.c:2432:
+	struct rw_semaphore *ip_semaphore;
+	if (unlikely(device >= etp_number || channel >= INTERFACES_PER_DEVICE))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4892: FILE: drivers/net/wan/etp_main.c:2451:
+int etp_ext_output_clock(unsigned device, uint32_t clock_source)

WARNING:LINE_SPACING: Missing a blank line after declarations
#4897: FILE: drivers/net/wan/etp_main.c:2456:
+	struct rw_semaphore *ip_semaphore;
+	if (unlikely(device >= etp_number))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4913: FILE: drivers/net/wan/etp_main.c:2472:
+int etp_nco_adjust(unsigned device, uint32_t nco_addend_value)

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#4916: FILE: drivers/net/wan/etp_main.c:2475:
+	struct mutex *mutex;

WARNING:LINE_SPACING: Missing a blank line after declarations
#4918: FILE: drivers/net/wan/etp_main.c:2477:
+	int error;
+	if (unlikely(device >= etp_number))

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000220564.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 1 errors, 463 warnings, 182 checks, 4832 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000220564.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
