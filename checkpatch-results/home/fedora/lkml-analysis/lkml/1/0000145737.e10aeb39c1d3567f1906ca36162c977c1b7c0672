WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#34: 
Add an FS-Cache cache-backend that permits a mounted filesystem to be used as a

WARNING:TYPO_SPELLING: 'te' may be misspelled - perhaps 'the'?
#382: 
	cachefilesd.te
	            ^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:USE_RELATIVE_PATH: use relative pathname instead of absolute in changelog text
#391: 
	make -f /usr/share/selinux/devel/Makefile

WARNING:TYPO_SPELLING: 'whan' may be misspelled - perhaps 'want'?
#446: 
may be overridden.  This is not seen externally, and is used whan a process
                                                             ^^^^

WARNING:BAD_SIGN_OFF: 'Signed-off-by:' is the preferred signature form
#459: 
Signed-Off-By: David Howells <dhowells@redhat.com>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#498: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:TYPO_SPELLING: 'te' may be misspelled - perhaps 'the'?
#877: FILE: Documentation/filesystems/caching/cachefiles.txt:375:
+	cachefilesd.te
 	            ^^

WARNING:TYPO_SPELLING: 'whan' may be misspelled - perhaps 'want'?
#941: FILE: Documentation/filesystems/caching/cachefiles.txt:439:
+may be overridden.  This is not seen externally, and is used whan a process
                                                              ^^^^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1103: FILE: fs/cachefiles/bind.c:1:
+/* Bind and unbind a cache from the filesystem backing it

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1173: FILE: fs/cachefiles/bind.c:71:
+		 * function, so we don't release it on error here */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1189: FILE: fs/cachefiles/bind.c:87:
+	struct nameidata nd;
 	                 ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1219: FILE: fs/cachefiles/bind.c:117:
+	memset(&nd, 0, sizeof(nd));
 	        ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1219: FILE: fs/cachefiles/bind.c:117:
+	memset(&nd, 0, sizeof(nd));
 	                      ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1221: FILE: fs/cachefiles/bind.c:119:
+	ret = path_lookup(cache->rootdirname, LOOKUP_DIRECTORY, &nd);
 	                                                         ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1225: FILE: fs/cachefiles/bind.c:123:
+	cache->mnt = mntget(nd.path.mnt);
 	                    ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1226: FILE: fs/cachefiles/bind.c:124:
+	root = dget(nd.path.dentry);
 	            ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1227: FILE: fs/cachefiles/bind.c:125:
+	path_put(&nd.path);
 	          ^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1248: FILE: fs/cachefiles/bind.c:146:
+	 * security ID of files we create */

CHECK:SPACING: No space is necessary after a cast
#1275: FILE: fs/cachefiles/bind.c:173:
+	       (unsigned long long) stats.f_blocks,

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#1276: FILE: fs/cachefiles/bind.c:174:
+	       (unsigned long long) stats.f_bavail);

CHECK:SPACING: No space is necessary after a cast
#1285: FILE: fs/cachefiles/bind.c:183:
+	       (unsigned long long) cache->frun,

CHECK:SPACING: No space is necessary after a cast
#1286: FILE: fs/cachefiles/bind.c:184:
+	       (unsigned long long) cache->fcull,

CHECK:SPACING: No space is necessary after a cast
#1287: FILE: fs/cachefiles/bind.c:185:
+	       (unsigned long long) cache->fstop);

CHECK:SPACING: No space is necessary after a cast
#1296: FILE: fs/cachefiles/bind.c:194:
+	       (unsigned long long) cache->brun,

CHECK:SPACING: No space is necessary after a cast
#1297: FILE: fs/cachefiles/bind.c:195:
+	       (unsigned long long) cache->bcull,

CHECK:SPACING: No space is necessary after a cast
#1298: FILE: fs/cachefiles/bind.c:196:
+	       (unsigned long long) cache->bstop);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1339: FILE: fs/cachefiles/bind.c:237:
+	printk(KERN_INFO "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#1340: FILE: fs/cachefiles/bind.c:238:
+	printk(KERN_INFO "CacheFiles:"
+	       " File cache on %s registered\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1373: FILE: fs/cachefiles/bind.c:271:
+		printk(KERN_INFO "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#1374: FILE: fs/cachefiles/bind.c:272:
+		printk(KERN_INFO "CacheFiles:"
+		       " File cache on %s unregistering\n",

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1395: FILE: fs/cachefiles/daemon.c:1:
+/* Daemon interface

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1474: FILE: fs/cachefiles/daemon.c:80:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*cache)...) over kzalloc(sizeof(struct cachefiles_cache)...)
#1493: FILE: fs/cachefiles/daemon.c:99:
+	cache = kzalloc(sizeof(struct cachefiles_cache), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:SPLIT_STRING: quoted string split across lines
#1572: FILE: fs/cachefiles/daemon.c:178:
+		     "cull=%c"
+		     " frun=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1573: FILE: fs/cachefiles/daemon.c:179:
+		     " frun=%llx"
+		     " fcull=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1574: FILE: fs/cachefiles/daemon.c:180:
+		     " fcull=%llx"
+		     " fstop=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1575: FILE: fs/cachefiles/daemon.c:181:
+		     " fstop=%llx"
+		     " brun=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1576: FILE: fs/cachefiles/daemon.c:182:
+		     " brun=%llx"
+		     " bcull=%llx"

WARNING:SPLIT_STRING: quoted string split across lines
#1577: FILE: fs/cachefiles/daemon.c:183:
+		     " bcull=%llx"
+		     " bstop=%llx",

CHECK:SPACING: No space is necessary after a cast
#1579: FILE: fs/cachefiles/daemon.c:185:
+		     (unsigned long long) cache->frun,

CHECK:SPACING: No space is necessary after a cast
#1580: FILE: fs/cachefiles/daemon.c:186:
+		     (unsigned long long) cache->fcull,

CHECK:SPACING: No space is necessary after a cast
#1581: FILE: fs/cachefiles/daemon.c:187:
+		     (unsigned long long) cache->fstop,

CHECK:SPACING: No space is necessary after a cast
#1582: FILE: fs/cachefiles/daemon.c:188:
+		     (unsigned long long) cache->brun,

CHECK:SPACING: No space is necessary after a cast
#1583: FILE: fs/cachefiles/daemon.c:189:
+		     (unsigned long long) cache->bcull,

CHECK:SPACING: No space is necessary after a cast
#1584: FILE: fs/cachefiles/daemon.c:190:
+		     (unsigned long long) cache->bstop

WARNING:SPLIT_STRING: quoted string split across lines
#1711: FILE: fs/cachefiles/daemon.c:317:
+	kerror("Free space limits must be in range"
+	       " 0%%<=stop<cull<run<100%%");

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1729: FILE: fs/cachefiles/daemon.c:335:
+	frun = simple_strtoul(args, &args, 10);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1753: FILE: fs/cachefiles/daemon.c:359:
+	fcull = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1777: FILE: fs/cachefiles/daemon.c:383:
+	fstop = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1801: FILE: fs/cachefiles/daemon.c:407:
+	brun = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1825: FILE: fs/cachefiles/daemon.c:431:
+	bcull = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1849: FILE: fs/cachefiles/daemon.c:455:
+	bstop = simple_strtoul(args, &args, 10);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#2005: FILE: fs/cachefiles/daemon.c:611:
+	mask = simple_strtoul(args, &args, 0);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2076: FILE: fs/cachefiles/daemon.c:682:
+			 unsigned fnr, unsigned bnr)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2076: FILE: fs/cachefiles/daemon.c:682:
+			 unsigned fnr, unsigned bnr)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2155: FILE: fs/cachefiles/interface.c:1:
+/* FS-Cache interface to CacheFiles

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2182: FILE: fs/cachefiles/interface.c:28:
+static struct fscache_object *cachefiles_alloc_object(

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2190: FILE: fs/cachefiles/interface.c:36:
+	unsigned keylen, auxlen;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2209: FILE: fs/cachefiles/interface.c:55:
+	BUG_ON(test_bit(CACHEFILES_OBJECT_ACTIVE, &object->flags));

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2259: FILE: fs/cachefiles/interface.c:105:
+	BUG_ON(test_bit(CACHEFILES_OBJECT_ACTIVE, &object->flags));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2303: FILE: fs/cachefiles/interface.c:149:
+		printk(KERN_WARNING "CacheFiles: Lookup failed error %d\n",

WARNING:TYPO_SPELLING: 'auxilliary' may be misspelled - perhaps 'auxiliary'?
#2350: FILE: fs/cachefiles/interface.c:196:
+ * update the auxilliary data for an object object on disk
               ^^^^^^^^^^

WARNING:REPEATED_WORD: Possible repeated word: 'object'
#2350: FILE: fs/cachefiles/interface.c:196:
+ * update the auxilliary data for an object object on disk

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2359: FILE: fs/cachefiles/interface.c:205:
+	unsigned auxlen;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2436: FILE: fs/cachefiles/interface.c:282:
+			BUG();

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2509: FILE: fs/cachefiles/interface.c:355:
+	 * written to disc */

WARNING:SPLIT_STRING: quoted string split across lines
#2517: FILE: fs/cachefiles/interface.c:363:
+				    "Attempt to sync backing fs superblock"
+				    " returned error %d",

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#2531: FILE: fs/cachefiles/interface.c:377:
+	uint64_t ni_size;

CHECK:SPACING: No space is necessary after a cast
#2538: FILE: fs/cachefiles/interface.c:384:
+	       _object->debug_id, (unsigned long long) ni_size);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2610: FILE: fs/cachefiles/internal.h:1:
+/* General netfs cache on cache files internal defs

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2630: FILE: fs/cachefiles/internal.h:21:
+extern unsigned cachefiles_debug;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2647: FILE: fs/cachefiles/internal.h:38:
+	uint8_t				type;		/* object type */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2648: FILE: fs/cachefiles/internal.h:39:
+	uint8_t				new;		/* T if object new */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2669: FILE: fs/cachefiles/internal.h:60:
+	unsigned			frun_percent;	/* when to stop culling (% files) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2670: FILE: fs/cachefiles/internal.h:61:
+	unsigned			fcull_percent;	/* when to start culling (% files) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2671: FILE: fs/cachefiles/internal.h:62:
+	unsigned			fstop_percent;	/* when to stop allocating (% files) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2672: FILE: fs/cachefiles/internal.h:63:
+	unsigned			brun_percent;	/* when to stop culling (% blocks) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2673: FILE: fs/cachefiles/internal.h:64:
+	unsigned			bcull_percent;	/* when to start culling (% blocks) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2674: FILE: fs/cachefiles/internal.h:65:
+	unsigned			bstop_percent;	/* when to stop allocating (% blocks) */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2675: FILE: fs/cachefiles/internal.h:66:
+	unsigned			bsize;		/* cache's block size */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2676: FILE: fs/cachefiles/internal.h:67:
+	unsigned			bshift;		/* min(ilog2(PAGE_SIZE / bsize), 0) */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#2677: FILE: fs/cachefiles/internal.h:68:
+	uint64_t			frun;		/* when to stop culling */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#2678: FILE: fs/cachefiles/internal.h:69:
+	uint64_t			fcull;		/* when to start culling */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#2679: FILE: fs/cachefiles/internal.h:70:
+	uint64_t			fstop;		/* when to stop allocating */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#2719: FILE: fs/cachefiles/internal.h:110:
+	uint16_t			len;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2720: FILE: fs/cachefiles/internal.h:111:
+	uint8_t				type;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2721: FILE: fs/cachefiles/internal.h:112:
+	uint8_t				data[];

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2736: FILE: fs/cachefiles/internal.h:127:
+extern int cachefiles_daemon_bind(struct cachefiles_cache *cache, char *args);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2737: FILE: fs/cachefiles/internal.h:128:
+extern void cachefiles_daemon_unbind(struct cachefiles_cache *cache);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2744: FILE: fs/cachefiles/internal.h:135:
+extern int cachefiles_has_space(struct cachefiles_cache *cache,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2745: FILE: fs/cachefiles/internal.h:136:
+				unsigned fnr, unsigned bnr);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2745: FILE: fs/cachefiles/internal.h:136:
+				unsigned fnr, unsigned bnr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2755: FILE: fs/cachefiles/internal.h:146:
+extern char *cachefiles_cook_key(const u8 *raw, int keylen, uint8_t type);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2760: FILE: fs/cachefiles/internal.h:151:
+extern int cachefiles_delete_object(struct cachefiles_cache *cache,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2762: FILE: fs/cachefiles/internal.h:153:
+extern int cachefiles_walk_to_object(struct cachefiles_object *parent,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2766: FILE: fs/cachefiles/internal.h:157:
+extern struct dentry *cachefiles_get_directory(struct cachefiles_cache *cache,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2770: FILE: fs/cachefiles/internal.h:161:
+extern int cachefiles_cull(struct cachefiles_cache *cache, struct dentry *dir,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2773: FILE: fs/cachefiles/internal.h:164:
+extern int cachefiles_check_in_use(struct cachefiles_cache *cache,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2784: FILE: fs/cachefiles/internal.h:175:
+extern int __init cachefiles_proc_init(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2785: FILE: fs/cachefiles/internal.h:176:
+extern void cachefiles_proc_cleanup(void);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2790: FILE: fs/cachefiles/internal.h:181:
+	unsigned long jif = jiffies - start_jif;
+	if (jif >= HZ)

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2804: FILE: fs/cachefiles/internal.h:195:
+extern int cachefiles_read_or_alloc_page(struct fscache_retrieval *,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2806: FILE: fs/cachefiles/internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_retrieval *' should also have an identifier name
#2806: FILE: fs/cachefiles/internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct list_head *' should also have an identifier name
#2806: FILE: fs/cachefiles/internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned *' should also have an identifier name
#2806: FILE: fs/cachefiles/internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'gfp_t' should also have an identifier name
#2806: FILE: fs/cachefiles/internal.h:197:
+extern int cachefiles_read_or_alloc_pages(struct fscache_retrieval *,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#2807: FILE: fs/cachefiles/internal.h:198:
+					  struct list_head *, unsigned *,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2809: FILE: fs/cachefiles/internal.h:200:
+extern int cachefiles_allocate_page(struct fscache_retrieval *, struct page *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_retrieval *' should also have an identifier name
#2809: FILE: fs/cachefiles/internal.h:200:
+extern int cachefiles_allocate_page(struct fscache_retrieval *, struct page *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#2809: FILE: fs/cachefiles/internal.h:200:
+extern int cachefiles_allocate_page(struct fscache_retrieval *, struct page *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'gfp_t' should also have an identifier name
#2809: FILE: fs/cachefiles/internal.h:200:
+extern int cachefiles_allocate_page(struct fscache_retrieval *, struct page *,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2811: FILE: fs/cachefiles/internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_retrieval *' should also have an identifier name
#2811: FILE: fs/cachefiles/internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct list_head *' should also have an identifier name
#2811: FILE: fs/cachefiles/internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned *' should also have an identifier name
#2811: FILE: fs/cachefiles/internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'gfp_t' should also have an identifier name
#2811: FILE: fs/cachefiles/internal.h:202:
+extern int cachefiles_allocate_pages(struct fscache_retrieval *,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#2812: FILE: fs/cachefiles/internal.h:203:
+				     struct list_head *, unsigned *, gfp_t);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2813: FILE: fs/cachefiles/internal.h:204:
+extern int cachefiles_write_page(struct fscache_storage *, struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_storage *' should also have an identifier name
#2813: FILE: fs/cachefiles/internal.h:204:
+extern int cachefiles_write_page(struct fscache_storage *, struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#2813: FILE: fs/cachefiles/internal.h:204:
+extern int cachefiles_write_page(struct fscache_storage *, struct page *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2814: FILE: fs/cachefiles/internal.h:205:
+extern void cachefiles_uncache_page(struct fscache_object *, struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct fscache_object *' should also have an identifier name
#2814: FILE: fs/cachefiles/internal.h:205:
+extern void cachefiles_uncache_page(struct fscache_object *, struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#2814: FILE: fs/cachefiles/internal.h:205:
+extern void cachefiles_uncache_page(struct fscache_object *, struct page *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2819: FILE: fs/cachefiles/internal.h:210:
+extern int cachefiles_get_security_ID(struct cachefiles_cache *cache);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2820: FILE: fs/cachefiles/internal.h:211:
+extern int cachefiles_determine_cache_security(struct cachefiles_cache *cache,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2839: FILE: fs/cachefiles/internal.h:230:
+extern int cachefiles_check_object_type(struct cachefiles_object *object);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2840: FILE: fs/cachefiles/internal.h:231:
+extern int cachefiles_set_object_xattr(struct cachefiles_object *object,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2842: FILE: fs/cachefiles/internal.h:233:
+extern int cachefiles_update_object_xattr(struct cachefiles_object *object,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2844: FILE: fs/cachefiles/internal.h:235:
+extern int cachefiles_check_object_xattr(struct cachefiles_object *object,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2846: FILE: fs/cachefiles/internal.h:237:
+extern int cachefiles_remove_object_xattr(struct cachefiles_cache *cache,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2849: FILE: fs/cachefiles/internal.h:240:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2853: FILE: fs/cachefiles/internal.h:244:
+#define kerror(FMT, ...) printk(KERN_ERR "CacheFiles: "FMT"\n", ##__VA_ARGS__)

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2853: FILE: fs/cachefiles/internal.h:244:
+#define kerror(FMT, ...) printk(KERN_ERR "CacheFiles: "FMT"\n", ##__VA_ARGS__)

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

CHECK:MACRO_ARG_REUSE: Macro argument reuse '___cache' - possible side-effects?
#2855: FILE: fs/cachefiles/internal.h:246:
+#define cachefiles_io_error(___cache, FMT, ...)		\
+do {							\
+	kerror("I/O Error: " FMT, ##__VA_ARGS__);	\
+	fscache_io_error(&(___cache)->cache);		\
+	set_bit(CACHEFILES_DEAD, &(___cache)->flags);	\
+} while (0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2871: FILE: fs/cachefiles/internal.h:262:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#2876: FILE: fs/cachefiles/internal.h:267:
+	printk(KERN_DEBUG "[%-6.6s] "FMT"\n", current->comm, ##__VA_ARGS__)

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2876: FILE: fs/cachefiles/internal.h:267:
+	printk(KERN_DEBUG "[%-6.6s] "FMT"\n", current->comm, ##__VA_ARGS__)

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __printf(1, 2) over __attribute__((format(printf, 1, 2)))
#2880: FILE: fs/cachefiles/internal.h:271:
+	__attribute__((format(printf, 1, 2)));

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2885: FILE: fs/cachefiles/internal.h:276:
+#define kenter(FMT, ...) dbgprintk("==> %s("FMT")", __func__, ##__VA_ARGS__)

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2886: FILE: fs/cachefiles/internal.h:277:
+#define kleave(FMT, ...) dbgprintk("<== %s()"FMT"", __func__, ##__VA_ARGS__)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2889: FILE: fs/cachefiles/internal.h:280:
+
+

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2915: FILE: fs/cachefiles/internal.h:306:
+#define _enter(FMT, ...) _dbprintk("==> %s("FMT")", __func__, ##__VA_ARGS__)

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2916: FILE: fs/cachefiles/internal.h:307:
+#define _leave(FMT, ...) _dbprintk("<== %s()"FMT"", __func__, ##__VA_ARGS__)

WARNING:IF_1: Consider removing the #if 1 and its #endif
#2920: FILE: fs/cachefiles/internal.h:311:
+#if 1 /* defined(__KDEBUGALL) */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2925: FILE: fs/cachefiles/internal.h:316:
+		printk(KERN_ERR "\n");					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2926: FILE: fs/cachefiles/internal.h:317:
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2927: FILE: fs/cachefiles/internal.h:318:
+		BUG();							\

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'X' - possible side-effects?
#2931: FILE: fs/cachefiles/internal.h:322:
+#define ASSERTCMP(X, OP, Y)						\
+do {									\
+	if (unlikely(!((X) OP (Y)))) {					\
+		printk(KERN_ERR "\n");					\
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\
+		       (unsigned long)(X), (unsigned long)(Y));		\
+		BUG();							\
+	}								\
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'Y' - possible side-effects?
#2931: FILE: fs/cachefiles/internal.h:322:
+#define ASSERTCMP(X, OP, Y)						\
+do {									\
+	if (unlikely(!((X) OP (Y)))) {					\
+		printk(KERN_ERR "\n");					\
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\
+		       (unsigned long)(X), (unsigned long)(Y));		\
+		BUG();							\
+	}								\
+} while (0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2933: FILE: fs/cachefiles/internal.h:324:
+	if (unlikely(!((X) OP (Y)))) {					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2934: FILE: fs/cachefiles/internal.h:325:
+		printk(KERN_ERR "\n");					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2935: FILE: fs/cachefiles/internal.h:326:
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2936: FILE: fs/cachefiles/internal.h:327:
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2938: FILE: fs/cachefiles/internal.h:329:
+		BUG();							\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2945: FILE: fs/cachefiles/internal.h:336:
+		printk(KERN_ERR "\n");					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2946: FILE: fs/cachefiles/internal.h:337:
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2947: FILE: fs/cachefiles/internal.h:338:
+		BUG();							\

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'X' - possible side-effects?
#2951: FILE: fs/cachefiles/internal.h:342:
+#define ASSERTIFCMP(C, X, OP, Y)					\
+do {									\
+	if (unlikely((C) && !((X) OP (Y)))) {				\
+		printk(KERN_ERR "\n");					\
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\
+		       (unsigned long)(X), (unsigned long)(Y));		\
+		BUG();							\
+	}								\
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'Y' - possible side-effects?
#2951: FILE: fs/cachefiles/internal.h:342:
+#define ASSERTIFCMP(C, X, OP, Y)					\
+do {									\
+	if (unlikely((C) && !((X) OP (Y)))) {				\
+		printk(KERN_ERR "\n");					\
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\
+		       (unsigned long)(X), (unsigned long)(Y));		\
+		BUG();							\
+	}								\
+} while (0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2953: FILE: fs/cachefiles/internal.h:344:
+	if (unlikely((C) && !((X) OP (Y)))) {				\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2954: FILE: fs/cachefiles/internal.h:345:
+		printk(KERN_ERR "\n");					\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2955: FILE: fs/cachefiles/internal.h:346:
+		printk(KERN_ERR "CacheFiles: Assertion failed\n");	\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2956: FILE: fs/cachefiles/internal.h:347:
+		printk(KERN_ERR "%lx " #OP " %lx is false\n",		\

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2958: FILE: fs/cachefiles/internal.h:349:
+		BUG();							\

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2976: FILE: fs/cachefiles/key.c:1:
+/* Key to pathname encoder

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3021: FILE: fs/cachefiles/key.c:46:
+	BUG_ON(keylen < 2 || keylen > 514);

CHECK:SPACING: No space is necessary after a cast
#3063: FILE: fs/cachefiles/key.c:88:
+	sprintf(key, "@%02x%c+", (unsigned) csum, 0);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3063: FILE: fs/cachefiles/key.c:88:
+	sprintf(key, "@%02x%c+", (unsigned) csum, 0);

CHECK:SPACING: No space is necessary after a cast
#3068: FILE: fs/cachefiles/key.c:93:
+		acc = *(uint16_t *) raw;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#3090: FILE: fs/cachefiles/key.c:115:
+		case FSCACHE_COOKIE_TYPE_INDEX:		type = 'I';	break;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#3091: FILE: fs/cachefiles/key.c:116:
+		case FSCACHE_COOKIE_TYPE_DATAFILE:	type = 'D';	break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#3092: FILE: fs/cachefiles/key.c:117:
+		default:				type = 'S';	break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#3122: FILE: fs/cachefiles/key.c:147:
+		case FSCACHE_COOKIE_TYPE_INDEX:		type = 'J';	break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#3123: FILE: fs/cachefiles/key.c:148:
+		case FSCACHE_COOKIE_TYPE_DATAFILE:	type = 'E';	break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#3124: FILE: fs/cachefiles/key.c:149:
+		default:				type = 'T';	break;

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3141: FILE: fs/cachefiles/main.c:1:
+/* Network filesystem caching backend to use cache files on a premounted

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3167: FILE: fs/cachefiles/main.c:27:
+unsigned cachefiles_debug;

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IWUSR | S_IRUGO' are not preferred. Consider using octal permissions '0644'.
#3168: FILE: fs/cachefiles/main.c:28:
+module_param_named(debug, cachefiles_debug, uint, S_IWUSR | S_IRUGO);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#3211: FILE: fs/cachefiles/main.c:71:
+		printk(KERN_NOTICE

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3220: FILE: fs/cachefiles/main.c:80:
+	printk(KERN_INFO "CacheFiles: Loaded\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3239: FILE: fs/cachefiles/main.c:99:
+	printk(KERN_INFO "CacheFiles: Unloading\n");

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3253: FILE: fs/cachefiles/namei.c:1:
+/* CacheFiles path walking and related routines

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3298: FILE: fs/cachefiles/namei.c:46:
+		BUG();

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3325: FILE: fs/cachefiles/namei.c:73:
+	 * need to wait for it to be destroyed */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3328: FILE: fs/cachefiles/namei.c:76:
+		printk(KERN_ERR "\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3329: FILE: fs/cachefiles/namei.c:77:
+		printk(KERN_ERR "CacheFiles: Error:"

WARNING:SPLIT_STRING: quoted string split across lines
#3330: FILE: fs/cachefiles/namei.c:78:
+		printk(KERN_ERR "CacheFiles: Error:"
+		       " Unexpected object collision\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3331: FILE: fs/cachefiles/namei.c:79:
+		printk(KERN_ERR "xobject: OBJ%x\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3333: FILE: fs/cachefiles/namei.c:81:
+		printk(KERN_ERR "xobjstate=%s\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3335: FILE: fs/cachefiles/namei.c:83:
+		printk(KERN_ERR "xobjflags=%lx\n", xobject->fscache.flags);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3336: FILE: fs/cachefiles/namei.c:84:
+		printk(KERN_ERR "xobjevent=%lx [%lx]\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3338: FILE: fs/cachefiles/namei.c:86:
+		printk(KERN_ERR "xops=%u inp=%u exc=%u\n",

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#3341: FILE: fs/cachefiles/namei.c:89:
+		printk(KERN_ERR "xcookie=%p [pr=%p nd=%p fl=%lx]\n",
 		                                   ^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3341: FILE: fs/cachefiles/namei.c:89:
+		printk(KERN_ERR "xcookie=%p [pr=%p nd=%p fl=%lx]\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3346: FILE: fs/cachefiles/namei.c:94:
+		printk(KERN_ERR "xparent=%p\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3348: FILE: fs/cachefiles/namei.c:96:
+		printk(KERN_ERR "object: OBJ%x\n",

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#3350: FILE: fs/cachefiles/namei.c:98:
+		printk(KERN_ERR "cookie=%p [pr=%p nd=%p fl=%lx]\n",
 		                                  ^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3350: FILE: fs/cachefiles/namei.c:98:
+		printk(KERN_ERR "cookie=%p [pr=%p nd=%p fl=%lx]\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3355: FILE: fs/cachefiles/namei.c:103:
+		printk(KERN_ERR "parent=%p\n",

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3357: FILE: fs/cachefiles/namei.c:105:
+		BUG();

CHECK:SPACING: No space is necessary after a cast
#3411: FILE: fs/cachefiles/namei.c:159:
+		(uint32_t) get_seconds(),

CHECK:SPACING: No space is necessary after a cast
#3412: FILE: fs/cachefiles/namei.c:160:
+		(uint32_t) atomic_inc_return(&cache->gravecounter));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3420: FILE: fs/cachefiles/namei.c:168:
+		 * lock */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3577: FILE: fs/cachefiles/namei.c:325:
+	 * there's nothing for them to actually read */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3649: FILE: fs/cachefiles/namei.c:397:
+	 * check its attributes and delete it if it's out of date */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3657: FILE: fs/cachefiles/namei.c:405:
+			 * mutex) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3690: FILE: fs/cachefiles/namei.c:438:
+		 * open) */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3707: FILE: fs/cachefiles/namei.c:455:
+			BUG(); // TODO: open file in data-class subdir

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4031: FILE: fs/cachefiles/proc.c:1:
+/* CacheFiles statistics

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4057: FILE: fs/cachefiles/proc.c:27:
+	unsigned x, y, z, t;

CHECK:SPACING: No space is necessary after a cast
#4059: FILE: fs/cachefiles/proc.c:29:
+	switch ((unsigned long) v) {

CHECK:SPACING: No space is necessary after a cast
#4067: FILE: fs/cachefiles/proc.c:37:
+		index = (unsigned long) v - 3;

CHECK:SPACING: No space is necessary after a cast
#4090: FILE: fs/cachefiles/proc.c:60:
+	return (void *)(unsigned long) *_pos;

CHECK:SPACING: No space is necessary after a cast
#4100: FILE: fs/cachefiles/proc.c:70:
+		NULL : (void *)(unsigned long) *pos;

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4171: FILE: fs/cachefiles/rdwr.c:1:
+/* Storage object read/write

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4190: FILE: fs/cachefiles/rdwr.c:20:
+static int cachefiles_read_waiter(wait_queue_t *wait, unsigned mode,

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#4273: FILE: fs/cachefiles/rdwr.c:103:
+			cachefiles_io_error_obj(

CHECK:SPACING: No space is necessary after a cast
#4276: FILE: fs/cachefiles/rdwr.c:106:
+				(unsigned long) monitor->back_page->flags);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4355: FILE: fs/cachefiles/rdwr.c:185:
+	 * to the LRU list and start it reading */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4385: FILE: fs/cachefiles/rdwr.c:215:
+	 * one in such a case */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4393: FILE: fs/cachefiles/rdwr.c:223:
+	 * three states: read in progress, read failed or read okay */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4414: FILE: fs/cachefiles/rdwr.c:244:
+	 * page to the pagecache and LRU and copy the data across */

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#4416: FILE: fs/cachefiles/rdwr.c:246:
+	_debug("- uptodate");
 	          ^^^^^^^^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4480: FILE: fs/cachefiles/rdwr.c:310:
+	unsigned shift;

CHECK:SPACING: No space is necessary after a cast
#4520: FILE: fs/cachefiles/rdwr.c:350:
+	       (unsigned long long) block0,

CHECK:SPACING: No space is necessary after a cast
#4521: FILE: fs/cachefiles/rdwr.c:351:
+	       (unsigned long long) block);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4525: FILE: fs/cachefiles/rdwr.c:355:
+		 * read from disk */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4596: FILE: fs/cachefiles/rdwr.c:426:
+		 * to the LRU list and start it reading */

WARNING:INDENTED_LABEL: labels should not be indented
#4597: FILE: fs/cachefiles/rdwr.c:427:
+	installed_new_backing_page:

WARNING:INDENTED_LABEL: labels should not be indented
#4607: FILE: fs/cachefiles/rdwr.c:437:
+	reread_backing_page:

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4613: FILE: fs/cachefiles/rdwr.c:443:
+		 * monitor to transfer the data across */

WARNING:INDENTED_LABEL: labels should not be indented
#4614: FILE: fs/cachefiles/rdwr.c:444:
+	monitor_backing_page:

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4643: FILE: fs/cachefiles/rdwr.c:473:
+		 * ensure that we do get one in such a case */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4657: FILE: fs/cachefiles/rdwr.c:487:
+		 * three states: read in progress, read failed or read okay */

WARNING:INDENTED_LABEL: labels should not be indented
#4658: FILE: fs/cachefiles/rdwr.c:488:
+	backing_page_already_present:

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4682: FILE: fs/cachefiles/rdwr.c:512:
+		 * so we need to attempt to read it again */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4686: FILE: fs/cachefiles/rdwr.c:516:
+		 * page to the pagecache and LRU and copy the data across */

WARNING:INDENTED_LABEL: labels should not be indented
#4687: FILE: fs/cachefiles/rdwr.c:517:
+	backing_page_already_uptodate_unlock:

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#4688: FILE: fs/cachefiles/rdwr.c:518:
+		_debug("uptodate %lx", backpage->flags);
 		        ^^^^^^^^

WARNING:INDENTED_LABEL: labels should not be indented
#4690: FILE: fs/cachefiles/rdwr.c:520:
+	backing_page_already_uptodate:

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#4691: FILE: fs/cachefiles/rdwr.c:521:
+		_debug("- uptodate");
 		          ^^^^^^^^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#4769: FILE: fs/cachefiles/rdwr.c:599:
+				   unsigned *nr_pages,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#4778: FILE: fs/cachefiles/rdwr.c:608:
+	unsigned shift, nrbackpages;

CHECK:SPACING: No space is necessary after a cast
#4832: FILE: fs/cachefiles/rdwr.c:662:
+		       (unsigned long long) block0,

CHECK:SPACING: No space is necessary after a cast
#4833: FILE: fs/cachefiles/rdwr.c:663:
+		       (unsigned long long) block);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4837: FILE: fs/cachefiles/rdwr.c:667:
+			 * backing fs */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4854: FILE: fs/cachefiles/rdwr.c:684:
+	 * disk */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#4923: FILE: fs/cachefiles/rdwr.c:753:
+			      unsigned *nr_pages,

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "op"
#4972: FILE: fs/cachefiles/rdwr.c:802:
+	ASSERT(op != NULL);

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "page"
#4973: FILE: fs/cachefiles/rdwr.c:803:
+	ASSERT(page != NULL);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#4998: FILE: fs/cachefiles/rdwr.c:828:
+			cachefiles_io_error_obj(

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5030: FILE: fs/cachefiles/security.c:1:
+/* CacheFiles security management

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5066: FILE: fs/cachefiles/security.c:37:
+			printk(KERN_ERR "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#5067: FILE: fs/cachefiles/security.c:38:
+			printk(KERN_ERR "CacheFiles:"
+			       " Security denies permission to nominate"

WARNING:SPLIT_STRING: quoted string split across lines
#5068: FILE: fs/cachefiles/security.c:39:
+			       " Security denies permission to nominate"
+			       " security context: error %d\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5091: FILE: fs/cachefiles/security.c:62:
+		printk(KERN_ERR "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#5092: FILE: fs/cachefiles/security.c:63:
+		printk(KERN_ERR "CacheFiles:"
+		       " Security denies permission to make dirs: error %d",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5099: FILE: fs/cachefiles/security.c:70:
+		printk(KERN_ERR "CacheFiles:"

WARNING:SPLIT_STRING: quoted string split across lines
#5100: FILE: fs/cachefiles/security.c:71:
+		printk(KERN_ERR "CacheFiles:"
+		       " Security denies permission to create files: error %d",

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#5120: FILE: fs/cachefiles/security.c:91:
+	 * force, so we can use prepare_creds() to do this) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#5128: FILE: fs/cachefiles/security.c:99:
+	 * which create files */

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5152: FILE: fs/cachefiles/xattr.c:1:
+/* CacheFiles extended attribute management

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#5274: FILE: fs/cachefiles/xattr.c:123:
+		cachefiles_io_error_obj(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#5303: FILE: fs/cachefiles/xattr.c:152:
+		cachefiles_io_error_obj(

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*auxbuf)...) over kmalloc(sizeof(struct cachefiles_xattr)...)
#5327: FILE: fs/cachefiles/xattr.c:176:
+	auxbuf = kmalloc(sizeof(struct cachefiles_xattr) + 512, GFP_KERNEL);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#5339: FILE: fs/cachefiles/xattr.c:188:
+				     * mid-cull? */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5386: FILE: fs/cachefiles/xattr.c:235:
+			BUG();

WARNING:SPLIT_STRING: quoted string split across lines
#5396: FILE: fs/cachefiles/xattr.c:245:
+						"Can't update xattr on %lu"
+						" (error %d)",

WARNING:SPLIT_STRING: quoted string split across lines
#5436: FILE: fs/cachefiles/xattr.c:285:
+					    "Can't remove xattr from %lu"
+					    " (error %d)",

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000145737.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 6 errors, 179 warnings, 85 checks, 4852 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000145737.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
