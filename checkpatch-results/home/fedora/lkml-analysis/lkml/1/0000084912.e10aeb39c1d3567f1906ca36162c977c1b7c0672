WARNING:MAINTAINERS_STYLE: Misordered MAINTAINERS entry - list 'M:' before 'P:'
#96: FILE: MAINTAINERS:6317:
+P:	Michael S. Tsirkin
+M:	mst@redhat.com

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#137: FILE: drivers/vhost/Kconfig:1:
+config VHOST_NET
+	tristate "Host kernel accelerator for virtio net"
+	depends on NET && EVENTFD
+	---help---
+	  This kernel module can be loaded in host kernel to accelerate
+	  guest networking with virtio_net. Not to be confused with virtio_net
+	  module itself which needs to be loaded in guest kernel.
+
+	  To compile this driver as a module, choose M here: the module will
+	  be called vhost_net.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#162: FILE: drivers/vhost/net.c:1:
+/* Copyright (C) 2009 Red Hat, Inc.

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:INCLUDE_LINUX: Use #include <linux/mmu_context.h> instead of <asm/mmu_context.h>
#188: FILE: drivers/vhost/net.c:27:
+#include <asm/mmu_context.h>

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#207: FILE: drivers/vhost/net.c:46:
+	 * Writers use device mutex. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#213: FILE: drivers/vhost/net.c:52:
+ * read-size critical section for our kind of RCU. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#217: FILE: drivers/vhost/net.c:56:
+	unsigned head, out, in;

WARNING:LINE_SPACING: Missing a blank line after declarations
#229: FILE: drivers/vhost/net.c:68:
+	struct socket *sock = rcu_dereference(net->sock);
+	if (!sock || !sock_writeable(sock->sk))

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPLIT_STRING: quoted string split across lines
#241: FILE: drivers/vhost/net.c:80:
+			vq_err(vq, "Unexpected descriptor format for TX: "
+			       "out %d, int %d\n", out, in);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#247: FILE: drivers/vhost/net.c:86:
+			vq_err(vq, "Unexpected header len for TX: "
+			       "%ld expected %zd\n", vq->iov->iov_len,

WARNING:SPLIT_STRING: quoted string split across lines
#262: FILE: drivers/vhost/net.c:101:
+			pr_err("Truncated TX packet: "
+			       " len %d != %zd\n", err, len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#264: FILE: drivers/vhost/net.c:103:
+		vhost_add_used_and_trigger(vq, head,
+				     len + sizeof(struct virtio_net_hdr));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#272: FILE: drivers/vhost/net.c:111:
+ * read-size critical section for our kind of RCU. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#276: FILE: drivers/vhost/net.c:115:
+	unsigned head, out, in;

WARNING:LINE_SPACING: Missing a blank line after declarations
#294: FILE: drivers/vhost/net.c:133:
+	struct socket *sock = rcu_dereference(net->sock);
+	if (!sock || skb_queue_empty(&sock->sk->sk_receive_queue))

WARNING:SPLIT_STRING: quoted string split across lines
#328: FILE: drivers/vhost/net.c:167:
+			pr_err("Discarded truncated rx packet: "
+			       " len %d > %zd\n", err, len);

WARNING:SIZEOF_PARENTHESIS: sizeof hdr should be sizeof(hdr)
#333: FILE: drivers/vhost/net.c:172:
+		err = copy_to_user(vq->iov->iov_base, &hdr, sizeof hdr);

WARNING:SIZEOF_PARENTHESIS: sizeof hdr should be sizeof(hdr)
#339: FILE: drivers/vhost/net.c:178:
+		vhost_add_used_and_trigger(vq, head, len + sizeof hdr);

WARNING:LINE_SPACING: Missing a blank line after declarations
#350: FILE: drivers/vhost/net.c:189:
+	struct vhost_net *net;
+	vq = container_of(work, struct vhost_virtqueue, poll.work);

WARNING:LINE_SPACING: Missing a blank line after declarations
#359: FILE: drivers/vhost/net.c:198:
+	struct vhost_net *net;
+	vq = container_of(work, struct vhost_virtqueue, poll.work);

WARNING:LINE_SPACING: Missing a blank line after declarations
#367: FILE: drivers/vhost/net.c:206:
+	struct vhost_net *net;
+	net = container_of(work, struct vhost_net, poll[VHOST_NET_VQ_TX].work);

WARNING:LINE_SPACING: Missing a blank line after declarations
#374: FILE: drivers/vhost/net.c:213:
+	struct vhost_net *net;
+	net = container_of(work, struct vhost_net, poll[VHOST_NET_VQ_RX].work);

WARNING:SIZEOF_PARENTHESIS: sizeof *n should be sizeof(*n)
#380: FILE: drivers/vhost/net.c:219:
+	struct vhost_net *n = kzalloc(sizeof *n, GFP_KERNEL);

WARNING:LINE_SPACING: Missing a blank line after declarations
#382: FILE: drivers/vhost/net.c:221:
+	int r;
+	if (!n)

WARNING:LINE_SPACING: Missing a blank line after declarations
#401: FILE: drivers/vhost/net.c:240:
+	struct socket *sock = n->sock;
+	rcu_assign_pointer(n->sock, NULL);

WARNING:SIZEOF_PARENTHESIS: sizeof uaddr should be sizeof(uaddr)
#429: FILE: drivers/vhost/net.c:268:
+	int uaddr_len = sizeof uaddr, r;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#441: FILE: drivers/vhost/net.c:280:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#492: FILE: drivers/vhost/net.c:331:
+	long r;
+	mutex_lock(&n->dev.mutex);

WARNING:LINE_SPACING: Missing a blank line after declarations
#514: FILE: drivers/vhost/net.c:353:
+	int fd, r;
+	switch (ioctl) {

WARNING:CONST_STRUCT: struct file_operations should normally be const
#547: FILE: drivers/vhost/net.c:386:
+static struct file_operations vhost_net_fops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:LINE_SPACING: Missing a blank line after declarations
#566: FILE: drivers/vhost/net.c:405:
+	int r = vhost_init();
+	if (r)

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#577: FILE: drivers/vhost/net.c:416:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#597: FILE: drivers/vhost/vhost.c:1:
+/* Copyright (C) 2009 Red Hat, Inc.

WARNING:INCLUDE_LINUX: Use #include <linux/mmu_context.h> instead of <asm/mmu_context.h>
#627: FILE: drivers/vhost/vhost.c:31:
+#include <asm/mmu_context.h>

WARNING:LINE_SPACING: Missing a blank line after declarations
#641: FILE: drivers/vhost/vhost.c:45:
+	struct vhost_poll *poll;
+	poll = container_of(pt, struct vhost_poll, table);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#647: FILE: drivers/vhost/vhost.c:51:
+static int vhost_poll_wakeup(wait_queue_t *wait, unsigned mode, int sync, void *key)

WARNING:LINE_SPACING: Missing a blank line after declarations
#650: FILE: drivers/vhost/vhost.c:54:
+	struct vhost_poll *poll;
+	poll = container_of(wait, struct vhost_poll, wait);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#669: FILE: drivers/vhost/vhost.c:73:
+ * keep a reference to a file until after vhost_poll_stop is called. */

WARNING:LINE_SPACING: Missing a blank line after declarations
#673: FILE: drivers/vhost/vhost.c:77:
+	unsigned long mask;
+	mask = file->f_op->poll(file, &poll->table);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#679: FILE: drivers/vhost/vhost.c:83:
+ * file reference. You must also flush afterwards. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#686: FILE: drivers/vhost/vhost.c:90:
+ * locks that are also used by the callback. */

WARNING:LINE_SPACING: Missing a blank line after declarations
#695: FILE: drivers/vhost/vhost.c:99:
+	int i;
+	dev->vqs = vqs;

ERROR:SPACING: space required before the open parenthesis '('
#699: FILE: drivers/vhost/vhost.c:103:
+	for(i = 0; i < dev->nvqs; ++i) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SIZEOF_PARENTHESIS: sizeof *memory->regions should be sizeof(*memory->regions)
#732: FILE: drivers/vhost/vhost.c:136:
+			 2 * sizeof *memory->regions, GFP_KERNEL);

WARNING:LINE_SPACING: Missing a blank line after declarations
#753: FILE: drivers/vhost/vhost.c:157:
+	int i;
+	for(i = 0; i < dev->nvqs; ++i) {

ERROR:SPACING: space required before the open parenthesis '('
#753: FILE: drivers/vhost/vhost.c:157:
+	for(i = 0; i < dev->nvqs; ++i) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#787: FILE: drivers/vhost/vhost.c:191:
+	long r;
+	r = copy_from_user(&mem, m, size);

WARNING:SIZEOF_PARENTHESIS: sizeof *m->regions should be sizeof(*m->regions)
#794: FILE: drivers/vhost/vhost.c:198:
+	newmem = kmalloc(size + mem.nregions * sizeof *m->regions, GFP_KERNEL);

WARNING:SIZEOF_PARENTHESIS: sizeof *m->regions should be sizeof(*m->regions)
#800: FILE: drivers/vhost/vhost.c:204:
+			   mem.nregions * sizeof *m->regions);

WARNING:LINE_SPACING: Missing a blank line after declarations
#816: FILE: drivers/vhost/vhost.c:220:
+	int r = put_user(flags, &vq->used->flags);
+	if (r)

WARNING:SIZEOF_PARENTHESIS: sizeof s should be sizeof(s)
#845: FILE: drivers/vhost/vhost.c:249:
+		r = copy_from_user(&s, argp, sizeof s);

WARNING:SIZEOF_PARENTHESIS: sizeof s should be sizeof(s)
#855: FILE: drivers/vhost/vhost.c:259:
+		r = copy_from_user(&s, argp, sizeof s);

WARNING:SIZEOF_PARENTHESIS: sizeof s should be sizeof(s)
#867: FILE: drivers/vhost/vhost.c:271:
+		r = copy_to_user(argp, &s, sizeof s);

WARNING:SIZEOF_PARENTHESIS: sizeof a should be sizeof(a)
#870: FILE: drivers/vhost/vhost.c:274:
+		r = copy_from_user(&a, argp, sizeof a);

WARNING:SIZEOF_PARENTHESIS: sizeof a should be sizeof(a)
#884: FILE: drivers/vhost/vhost.c:288:
+		r = copy_from_user(&a, argp, sizeof a);

WARNING:SIZEOF_PARENTHESIS: sizeof a should be sizeof(a)
#898: FILE: drivers/vhost/vhost.c:302:
+		r = copy_from_user(&a, argp, sizeof a);

WARNING:SIZEOF_PARENTHESIS: sizeof f should be sizeof(f)
#915: FILE: drivers/vhost/vhost.c:319:
+		r = copy_from_user(&f, argp, sizeof f);

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#918: FILE: drivers/vhost/vhost.c:322:
+		eventfp = f.fd == -1 ? NULL: eventfd_fget(f.fd);
 		                           ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#921: FILE: drivers/vhost/vhost.c:325:
+		if (eventfp != vq->kick) {
[...]
+		} else
[...]

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#922: FILE: drivers/vhost/vhost.c:326:
+			pollstop = filep = vq->kick;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#923: FILE: drivers/vhost/vhost.c:327:
+			pollstart = vq->kick = eventfp;

CHECK:BRACES: Unbalanced braces around else statement
#924: FILE: drivers/vhost/vhost.c:328:
+		} else

WARNING:SIZEOF_PARENTHESIS: sizeof f should be sizeof(f)
#928: FILE: drivers/vhost/vhost.c:332:
+		r = copy_from_user(&f, argp, sizeof f);

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#931: FILE: drivers/vhost/vhost.c:335:
+		eventfp = f.fd == -1 ? NULL: eventfd_fget(f.fd);
 		                           ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#934: FILE: drivers/vhost/vhost.c:338:
+		if (eventfp != vq->call) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#940: FILE: drivers/vhost/vhost.c:344:
+		} else

WARNING:SIZEOF_PARENTHESIS: sizeof f should be sizeof(f)
#944: FILE: drivers/vhost/vhost.c:348:
+		r = copy_from_user(&f, argp, sizeof f);

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#947: FILE: drivers/vhost/vhost.c:351:
+		eventfp = f.fd == -1 ? NULL: eventfd_fget(f.fd);
 		                           ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#950: FILE: drivers/vhost/vhost.c:354:
+		if (eventfp != vq->error) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#956: FILE: drivers/vhost/vhost.c:360:
+		} else

ERROR:TRAILING_WHITESPACE: trailing whitespace
#995: FILE: drivers/vhost/vhost.c:399:
+^I^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1015: FILE: drivers/vhost/vhost.c:419:
+	 * regions in practice */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1026: FILE: drivers/vhost/vhost.c:430:
+ * address/len pairs */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#1029: FILE: drivers/vhost/vhost.c:433:
+		   unsigned *num)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1042: FILE: drivers/vhost/vhost.c:446:
+		u64 size;
+		if (*num + iov_count >= iov_size) {

WARNING:MINMAX: min() should probably be min_t(u64, len, size)
#1053: FILE: drivers/vhost/vhost.c:457:
+		_iov->iov_len = min((u64)len, size);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1060: FILE: drivers/vhost/vhost.c:464:
+^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1067: FILE: drivers/vhost/vhost.c:471:
+ * at the end. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1068: FILE: drivers/vhost/vhost.c:472:
+static unsigned next_desc(struct vhost_virtqueue *vq, struct vring_desc *desc)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1080: FILE: drivers/vhost/vhost.c:484:
+	 * architectures only need a compiler barrier here. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1097: FILE: drivers/vhost/vhost.c:501:
+ * is never a valid descriptor number) if none was found. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1098: FILE: drivers/vhost/vhost.c:502:
+unsigned vhost_get_vq_desc(struct vhost_dev *dev, struct vhost_virtqueue *vq,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1113: FILE: drivers/vhost/vhost.c:517:
+^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1125: FILE: drivers/vhost/vhost.c:529:
+	 * the index we've seen. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#1146: FILE: drivers/vhost/vhost.c:550:
+		unsigned *num;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1147: FILE: drivers/vhost/vhost.c:551:
+		unsigned iov_count;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1148: FILE: drivers/vhost/vhost.c:552:
+		unsigned iov_count;
+		if (copy_from_user(&desc, vq->desc + i, sizeof desc)) {

WARNING:SIZEOF_PARENTHESIS: sizeof desc should be sizeof(desc)
#1148: FILE: drivers/vhost/vhost.c:552:
+		if (copy_from_user(&desc, vq->desc + i, sizeof desc)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1159: FILE: drivers/vhost/vhost.c:563:
+			 * to come before any input descriptors. */

WARNING:SPLIT_STRING: quoted string split across lines
#1162: FILE: drivers/vhost/vhost.c:566:
+				vq_err(vq, "Descriptor has out after in: "
+				       "idx %d\n", i);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1194: FILE: drivers/vhost/vhost.c:598:
+ * want to send them an interrupt, using vq->call. */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1196: FILE: drivers/vhost/vhost.c:600:
+int vhost_add_used(struct vhost_virtqueue *vq,
+			  unsigned int head, int len)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1201: FILE: drivers/vhost/vhost.c:605:
+	 * next entry in that used ring. */

WARNING:LINE_SPACING: Missing a blank line after declarations
#1226: FILE: drivers/vhost/vhost.c:630:
+	__u16 flags = 0;
+	if (get_user(flags, &vq->avail->flags)) {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1266: FILE: drivers/vhost/vhost.h:1:
+#ifndef _VHOST_H

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1340: FILE: drivers/vhost/vhost.h:75:
+	 * Writers use mutex below.*/

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#1345: FILE: drivers/vhost/vhost.h:80:
+	struct mutex mutex;

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_dev *' should also have an identifier name
#1348: FILE: drivers/vhost/vhost.h:83:
+long vhost_dev_init(struct vhost_dev *, struct vhost_virtqueue *vqs, int nvqs);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_dev *' should also have an identifier name
#1349: FILE: drivers/vhost/vhost.h:84:
+long vhost_dev_check_owner(struct vhost_dev *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_dev *' should also have an identifier name
#1350: FILE: drivers/vhost/vhost.h:85:
+long vhost_dev_reset_owner(struct vhost_dev *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_dev *' should also have an identifier name
#1351: FILE: drivers/vhost/vhost.h:86:
+void vhost_dev_cleanup(struct vhost_dev *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_dev *' should also have an identifier name
#1352: FILE: drivers/vhost/vhost.h:87:
+long vhost_dev_ioctl(struct vhost_dev *, unsigned int ioctl, unsigned long arg);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1354: FILE: drivers/vhost/vhost.h:89:
+unsigned vhost_get_vq_desc(struct vhost_dev *, struct vhost_virtqueue *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_dev *' should also have an identifier name
#1354: FILE: drivers/vhost/vhost.h:89:
+unsigned vhost_get_vq_desc(struct vhost_dev *, struct vhost_virtqueue *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_virtqueue *' should also have an identifier name
#1354: FILE: drivers/vhost/vhost.h:89:
+unsigned vhost_get_vq_desc(struct vhost_dev *, struct vhost_virtqueue *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_virtqueue *' should also have an identifier name
#1357: FILE: drivers/vhost/vhost.h:92:
+void vhost_discard_vq_desc(struct vhost_virtqueue *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_virtqueue *' should also have an identifier name
#1359: FILE: drivers/vhost/vhost.h:94:
+int vhost_add_used(struct vhost_virtqueue *, unsigned int head, int len);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_virtqueue *' should also have an identifier name
#1360: FILE: drivers/vhost/vhost.h:95:
+void vhost_trigger_irq(struct vhost_virtqueue *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vhost_virtqueue *' should also have an identifier name
#1361: FILE: drivers/vhost/vhost.h:96:
+void vhost_add_used_and_trigger(struct vhost_virtqueue *,

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'vq' - possible side-effects?
#1367: FILE: drivers/vhost/vhost.h:102:
+#define vq_err(vq, fmt, ...) do {                                  \
+		printk(KERN_ERR pr_fmt(fmt), ##__VA_ARGS__);       \
+		if ((vq)->error_ctx)                               \
+				eventfd_signal((vq)->error_ctx, 1);\
+	} while (0)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1368: FILE: drivers/vhost/vhost.h:103:
+		printk(KERN_ERR pr_fmt(fmt), ##__VA_ARGS__);       \

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 32)
#1369: FILE: drivers/vhost/vhost.h:104:
+		if ((vq)->error_ctx)                               \
+				eventfd_signal((vq)->error_ctx, 1);\

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1404: FILE: include/linux/vhost.h:1:
+#ifndef _LINUX_VHOST_H

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1461: FILE: include/linux/vhost.h:58:
+ * VHOST_OWNER_SET fail until VHOST_OWNER_RESET is called. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1464: FILE: include/linux/vhost.h:61:
+ * Allows subsequent call to VHOST_OWNER_SET to succeed. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1471: FILE: include/linux/vhost.h:68:
+ * (bound to a device). */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1486: FILE: include/linux/vhost.h:83:
+ * for events. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1500: FILE: include/linux/vhost.h:97:
+ * This can be used to stop the device (e.g. for migration). */

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000084912.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 9 errors, 96 warnings, 13 checks, 1357 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000084912.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
