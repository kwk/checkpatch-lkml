CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#135: FILE: include/linux/suspend.h:341:
+extern int try_tuxonice_hibernate(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#152: FILE: include/linux/suspend.h:358:
+extern void try_tuxonice_resume(void);

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#166: FILE: kernel/power/Kconfig:182:
+menuconfig TOI_CORE
+	bool "Enhanced Hibernation (TuxOnIce)"
+	depends on HIBERNATION
+	default y
+	---help---
+	  TuxOnIce is the 'new and improved' suspend support.
+
+	  See the TuxOnIce home page (tuxonice.net)
+	  for FAQs, HOWTOs and other documentation.
+
+	comment "Image Storage (you need at least one allocator)"
+		depends on TOI_CORE
+
+	comment "General Options"
+		depends on TOI_CORE
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#182: FILE: kernel/power/Kconfig:198:
+	config TOI_KEEP_IMAGE
+		bool "Allow Keep Image Mode"
+		depends on TOI_CORE
+		---help---
+		  This option allows you to keep and image and reuse it. It is intended
+		  __ONLY__ for use with systems where all filesystems are mounted read-
+		  only (kiosks, for example). To use it, compile this option in and boot
+		  normally. Set the KEEP_IMAGE flag in /sys/power/tuxonice and suspend.
+		  When you resume, the image will not be removed. You will be unable to turn
+		  off swap partitions (assuming you are using the swap allocator), but future
+		  suspends simply do a power-down. The image can be updated using the
+		  kernel command line parameter suspend_act= to turn off the keep image
+		  bit. Keep image mode is a little less user friendly on purpose - it
+		  should not be used without thought!
+

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#197: FILE: kernel/power/Kconfig:213:
+	config TOI_IGNORE_LATE_INITCALL
+		bool "Wait for initrd/ramfs to run, by default"
+		default n
+		depends on TOI_CORE
+		---help---
+		  When booting, TuxOnIce can check for an image and start to resume prior
+		  to any initrd/ramfs running (via a late initcall).
+
+		  If you don't have an initrd/ramfs, this is what you want to happen -
+		  otherwise you won't be able to safely resume. You should set this option
+		  to 'No'.
+
+		  If, however, you want your initrd/ramfs to run anyway before resuming,
+		  you need to tell TuxOnIce to ignore that earlier opportunity to resume.
+		  This can be done either by using this compile time option, or by
+		  overriding this option with the boot-time parameter toi_initramfs_resume_only=1.
+
+		  Note that if TuxOnIce can't resume at the earlier opportunity, the
+		  value of this option won't matter - the initramfs/initrd (if any) will
+		  run anyway.
+

WARNING:TYPO_SPELLING: 'TOI' may be misspelled - perhaps 'TO'?
#248: FILE: kernel/power/Kconfig:264:
+config TOI
        ^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'name' may be better as '(name)' to avoid precedence issues
#356: FILE: kernel/power/snapshot.c:581:
+#define DEFINE_MEMORY_BITMAP(name) \
+struct memory_bitmap *name;

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#356: FILE: kernel/power/snapshot.c:581:
+#define DEFINE_MEMORY_BITMAP(name) \
+struct memory_bitmap *name;

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

CHECK:SPACING: No space is necessary after a cast
#380: FILE: kernel/power/snapshot.c:605:
+	result = (*rw_chunk)(WRITE, NULL, (char *) &nr, sizeof(unsigned int));

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#385: FILE: kernel/power/snapshot.c:610:
+		result = (*rw_chunk)(WRITE, NULL, (char *) &bb->start_pfn,

CHECK:SPACING: No space is necessary after a cast
#390: FILE: kernel/power/snapshot.c:615:
+		result = (*rw_chunk)(WRITE, NULL, (char *) bb->data, PAGE_SIZE);

CHECK:SPACING: No space is necessary after a cast
#413: FILE: kernel/power/snapshot.c:638:
+	result = (*rw_chunk)(READ, NULL, (char *) &nr, sizeof(unsigned int));

CHECK:CAMELCASE: Avoid CamelCase: <Free>
#415: FILE: kernel/power/snapshot.c:640:
+		goto Free;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:SPACING: No space is necessary after a cast
#420: FILE: kernel/power/snapshot.c:645:
+		result = (*rw_chunk)(READ, NULL, (char *) &pfn,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#430: FILE: kernel/power/snapshot.c:655:
+			printk(KERN_ERR

CHECK:SPACING: No space is necessary after a cast
#436: FILE: kernel/power/snapshot.c:661:
+		result = (*rw_chunk)(READ, NULL, (char *) &pfn,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#442: FILE: kernel/power/snapshot.c:667:
+			printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#444: FILE: kernel/power/snapshot.c:669:
+				"TuxOnIce: Failed to load memory bitmap. "
+				"End PFN doesn't match what was saved.\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:SPACING: No space is necessary after a cast
#449: FILE: kernel/power/snapshot.c:674:
+		result = (*rw_chunk)(READ, NULL, (char *) bb->data, PAGE_SIZE);

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#476: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#481: FILE: kernel/power/tuxonice.h:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#482: FILE: kernel/power/tuxonice.h:2:
+ * kernel/power/tuxonice.h

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#523: FILE: kernel/power/tuxonice.h:43:
+/*^I^I == Action states == ^I^I*/$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#550: FILE: kernel/power/tuxonice.h:70:
+/*^I^I == Result states == ^I^I*/$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#593: FILE: kernel/power/tuxonice.h:113:
+/*^I == Debug sections and levels == ^I*/$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#636: FILE: kernel/power/tuxonice.h:156:
+/*		== TuxOnIce states ==
+	(see also include/linux/suspend.h)	*/

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#636: FILE: kernel/power/tuxonice.h:156:
+	(see also include/linux/suspend.h)	*/

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#639: FILE: kernel/power/tuxonice.h:159:
+#define restore_toi_state(saved_state) \
+	do { toi_state = saved_state; } while (0)

For the multi-statement macros, it is necessary to use the do-while
loop to avoid unpredictable code paths. The do-while loop helps to
group the multiple statements into a single one so that a
function-like macro can be used as a function only.

But for the single statement macros, it is unnecessary to use the
do-while loop. Although the code is syntactically correct but using
the do-while loop is redundant. So remove the do-while loop for single
statement macros.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#657: FILE: kernel/power/tuxonice.h:177:
+extern int toi_start_anything(int toi_or_resume);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#658: FILE: kernel/power/tuxonice.h:178:
+extern void toi_finish_anything(int toi_or_resume);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#660: FILE: kernel/power/tuxonice.h:180:
+extern int save_image_part1(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#661: FILE: kernel/power/tuxonice.h:181:
+extern int toi_atomic_restore(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#663: FILE: kernel/power/tuxonice.h:183:
+extern int toi_try_hibernate(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#664: FILE: kernel/power/tuxonice.h:184:
+extern void toi_try_resume(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#666: FILE: kernel/power/tuxonice.h:186:
+extern int __toi_post_context_save(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#671: FILE: kernel/power/tuxonice.h:191:
+extern void copyback_post(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#672: FILE: kernel/power/tuxonice.h:192:
+extern int toi_hibernate(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#677: FILE: kernel/power/tuxonice.h:197:
+extern void toi_early_boot_message(int can_erase_image, int default_answer,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#678: FILE: kernel/power/tuxonice.h:198:
+extern void toi_early_boot_message(int can_erase_image, int default_answer,
+	char *warning_reason, ...);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#686: FILE: kernel/power/tuxonice.h:206:
+extern int do_check_can_resume(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#687: FILE: kernel/power/tuxonice.h:207:
+extern int do_toi_step(int step);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#688: FILE: kernel/power/tuxonice.h:208:
+extern int toi_launch_userspace_program(char *command, int channel_no,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#689: FILE: kernel/power/tuxonice.h:209:
+extern int toi_launch_userspace_program(char *command, int channel_no,
+		enum umh_wait wait, int debug);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#699: FILE: kernel/power/tuxonice_alloc.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#700: FILE: kernel/power/tuxonice_alloc.h:2:
+ * kernel/power/tuxonice_alloc.h

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#717: FILE: kernel/power/tuxonice_alloc.h:19:
+#define toi_free_page(FAIL, ALLOCN) do { free_page(ALLOCN); } while (0)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#735: FILE: kernel/power/tuxonice_atomic_copy.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#736: FILE: kernel/power/tuxonice_atomic_copy.c:2:
+ * kernel/power/tuxonice_atomic_copy.c

CHECK:SPACING: No space is necessary after a cast
#781: FILE: kernel/power/tuxonice_atomic_copy.c:47:
+			page = (struct page *) *list;

CHECK:SPACING: No space is necessary after a cast
#782: FILE: kernel/power/tuxonice_atomic_copy.c:48:
+			free_pbe = (struct pbe *) kmap(page);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#795: FILE: kernel/power/tuxonice_atomic_copy.c:61:
+				toi_free_page(29,
+					(unsigned long) free_pbe->address);

CHECK:SPACING: No space is necessary after a cast
#795: FILE: kernel/power/tuxonice_atomic_copy.c:61:
+					(unsigned long) free_pbe->address);

CHECK:SPACING: No space is necessary after a cast
#809: FILE: kernel/power/tuxonice_atomic_copy.c:75:
+		*list = (struct pbe *) next_page;

CHECK:SPACING: No space is necessary after a cast
#827: FILE: kernel/power/tuxonice_atomic_copy.c:93:
+		(struct toi_boot_kernel_data *) boot_kernel_data_buffer;

CHECK:SPACING: No space is necessary after a cast
#836: FILE: kernel/power/tuxonice_atomic_copy.c:102:
+	memcpy(&toi_bkd, (char *) boot_kernel_data_buffer,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#837: FILE: kernel/power/tuxonice_atomic_copy.c:103:
+	memcpy(&toi_bkd, (char *) boot_kernel_data_buffer,
+			min_t(int, sizeof(struct toi_boot_kernel_data),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#838: FILE: kernel/power/tuxonice_atomic_copy.c:104:
+			min_t(int, sizeof(struct toi_boot_kernel_data),
+				bkd->size));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#947: FILE: kernel/power/tuxonice_atomic_copy.c:213:
+		printk(KERN_INFO "Pageset1 has grown by %ld pages. "

WARNING:SPLIT_STRING: quoted string split across lines
#948: FILE: kernel/power/tuxonice_atomic_copy.c:214:
+		printk(KERN_INFO "Pageset1 has grown by %ld pages. "
+			"extra_pages_allowance is currently only %lu.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1007: FILE: kernel/power/tuxonice_atomic_copy.c:273:
+	memcpy(&toi_bkd.toi_nosave_commandline, saved_command_line,
+		strlen(saved_command_line));

CHECK:CAMELCASE: Avoid CamelCase: <Failed>
#1010: FILE: kernel/power/tuxonice_atomic_copy.c:276:
+		goto Failed;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1028: FILE: kernel/power/tuxonice_atomic_copy.c:294:
+	BUG();

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1042: FILE: kernel/power/tuxonice_atomic_copy.c:308:
+ * @suspend_time: ^IWhether we're suspending or resuming.$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1096: FILE: kernel/power/tuxonice_atomic_copy.c:362:
+			toi_end_atomic(ATOMIC_STEP_CPU_HOTPLUG,
+					suspend_time, 1);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1155: FILE: kernel/power/tuxonice_atomic_copy.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1156: FILE: kernel/power/tuxonice_atomic_copy.h:2:
+ * kernel/power/tuxonice_atomic_copy.h

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1182: FILE: kernel/power/tuxonice_builtin.c:1:
+/*

CHECK:SPACING: No space is necessary after a cast
#1233: FILE: kernel/power/tuxonice_builtin.c:52:
+	struct page *pbe_page = (struct page *) restore_highmem_pblist;

CHECK:SPACING: No space is necessary after a cast
#1241: FILE: kernel/power/tuxonice_builtin.c:60:
+	this_pbe = (struct pbe *) kmap_atomic(pbe_page, KM_BOUNCE_READ);

CHECK:SPACING: No space is necessary after a cast
#1247: FILE: kernel/power/tuxonice_builtin.c:66:
+		origpage = kmap_atomic((struct page *) this_pbe->orig_address,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1248: FILE: kernel/power/tuxonice_builtin.c:67:
+		origpage = kmap_atomic((struct page *) this_pbe->orig_address,
+			KM_BIO_DST_IRQ);

CHECK:SPACING: No space is necessary after a cast
#1249: FILE: kernel/power/tuxonice_builtin.c:68:
+		copypage = kmap_atomic((struct page *) this_pbe->address,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1250: FILE: kernel/power/tuxonice_builtin.c:69:
+		copypage = kmap_atomic((struct page *) this_pbe->address,
+			KM_BIO_SRC_IRQ);

CHECK:SPACING: No space is necessary after a cast
#1267: FILE: kernel/power/tuxonice_builtin.c:86:
+			pbe_page = (struct page *) this_pbe->next;

CHECK:SPACING: No space is necessary after a cast
#1271: FILE: kernel/power/tuxonice_builtin.c:90:
+			this_pbe = (struct pbe *) kmap_atomic(pbe_page,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1295: FILE: kernel/power/tuxonice_builtin.c:114:
+		printk(KERN_INFO "Couldn't open /dev/console.\n");

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1304: FILE: kernel/power/tuxonice_builtin.c:123:
+	t.c_lflag &= ~(ISIG|ICANON|ECHO);
 	                   ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1304: FILE: kernel/power/tuxonice_builtin.c:123:
+	t.c_lflag &= ~(ISIG|ICANON|ECHO);
 	                          ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#1327: FILE: kernel/power/tuxonice_builtin.c:146:
+		if (test_toi_state(TOI_SANITY_CHECK_PROMPT)) {
[...]
+		} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: braces {} should be used on all arms of this statement
#1328: FILE: kernel/power/tuxonice_builtin.c:147:
+			if (key == 'c') {
[...]
+			} else if (key == ' ')
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1333: FILE: kernel/power/tuxonice_builtin.c:152:
+		} else

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __aligned(PAGE_SIZE) over __attribute__((aligned(PAGE_SIZE)))
#1346: FILE: kernel/power/tuxonice_builtin.c:165:
+		__attribute__((aligned(PAGE_SIZE))) = {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1357: FILE: kernel/power/tuxonice_builtin.c:176:
+	int err = -ENOMEM;
+	if (bdev)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1401: FILE: kernel/power/tuxonice_builtin.c:220:
+		printk(KERN_INFO "TuxOnIce: Ignoring late initcall, as requested.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1408: FILE: kernel/power/tuxonice_builtin.c:227:
+		printk(KERN_INFO "TuxOnIce core not loaded yet.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1418: FILE: kernel/power/tuxonice_builtin.c:237:
+		printk(KERN_ERR "Error %d hibernating\n", error);

WARNING:NAKED_SSCANF: unchecked sscanf return value
#1450: FILE: kernel/power/tuxonice_builtin.c:269:
+	if (sscanf(str, "=%d", &value)) {
+		if (value < -1 || value > 255)
+			printk(KERN_INFO "TuxOnIce_wait outside range -1 to "
+					"255.\n");
+		else
+			toi_wait = value;
+	}

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1452: FILE: kernel/power/tuxonice_builtin.c:271:
+			printk(KERN_INFO "TuxOnIce_wait outside range -1 to "

WARNING:SPLIT_STRING: quoted string split across lines
#1453: FILE: kernel/power/tuxonice_builtin.c:272:
+			printk(KERN_INFO "TuxOnIce_wait outside range -1 to "
+					"255.\n");

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#1461: FILE: kernel/power/tuxonice_builtin.c:280:
+__setup("toi_wait", toi_wait_setup);

WARNING:NAKED_SSCANF: unchecked sscanf return value
#1467: FILE: kernel/power/tuxonice_builtin.c:286:
+	if (sscanf(str, "=%d", &value))
+		ignore_late_initcall = value;

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#1473: FILE: kernel/power/tuxonice_builtin.c:292:
+__setup("toi_initramfs_resume_only", toi_ignore_late_initcall_setup);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1481: FILE: kernel/power/tuxonice_builtin.h:1:
+/*

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1502: FILE: kernel/power/tuxonice_builtin.h:22:
+extern unsigned long toi_get_nonconflicting_page(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1503: FILE: kernel/power/tuxonice_builtin.h:23:
+extern int toi_post_context_save(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1505: FILE: kernel/power/tuxonice_builtin.h:25:
+extern char toi_wait_for_keypress_dev_console(int timeout);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1506: FILE: kernel/power/tuxonice_builtin.h:26:
+extern struct block_device *toi_open_by_devnum(dev_t dev, fmode_t mode);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1514: FILE: kernel/power/tuxonice_extent.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1515: FILE: kernel/power/tuxonice_extent.c:2:
+ * kernel/power/tuxonice_extent.c

CHECK:SPACING: No space is necessary after a cast
#1538: FILE: kernel/power/tuxonice_extent.c:25:
+	return (struct hibernate_extent *) toi_kzalloc(2,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1539: FILE: kernel/power/tuxonice_extent.c:26:
+	return (struct hibernate_extent *) toi_kzalloc(2,
+			sizeof(struct hibernate_extent), TOI_ATOMIC_GFP);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1554: FILE: kernel/power/tuxonice_extent.c:41:
+		struct hibernate_extent *next = this->next;
+		toi_kfree(2, this, sizeof(*this));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1573: FILE: kernel/power/tuxonice_extent.c:60:
+int toi_add_to_extent_chain(struct hibernate_extent_chain *chain,
+		unsigned long start, unsigned long end)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1589: FILE: kernel/power/tuxonice_extent.c:76:
+			struct hibernate_extent *next_ext = cur_ext->next;
+			cur_ext->end = end;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1608: FILE: kernel/power/tuxonice_extent.c:95:
+		printk(KERN_INFO "Error unable to append a new extent to the "

WARNING:SPLIT_STRING: quoted string split across lines
#1609: FILE: kernel/power/tuxonice_extent.c:96:
+		printk(KERN_INFO "Error unable to append a new extent to the "
+				"chain.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1638: FILE: kernel/power/tuxonice_extent.c:125:
+int toi_serialise_extent_chain(struct toi_module_ops *owner,
+		struct hibernate_extent_chain *chain)

CHECK:SPACING: No space is necessary after a cast
#1643: FILE: kernel/power/tuxonice_extent.c:130:
+	ret = toiActiveAllocator->rw_header_chunk(WRITE, owner, (char *) chain,

CHECK:CAMELCASE: Avoid CamelCase: <toiActiveAllocator>
#1643: FILE: kernel/power/tuxonice_extent.c:130:
+	ret = toiActiveAllocator->rw_header_chunk(WRITE, owner, (char *) chain,

CHECK:SPACING: No space is necessary after a cast
#1651: FILE: kernel/power/tuxonice_extent.c:138:
+				(char *) this, 2 * sizeof(unsigned long));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#1659: FILE: kernel/power/tuxonice_extent.c:146:
+		printk(KERN_EMERG "Saved %d extents but chain metadata says "

WARNING:SPLIT_STRING: quoted string split across lines
#1660: FILE: kernel/power/tuxonice_extent.c:147:
+		printk(KERN_EMERG "Saved %d extents but chain metadata says "
+			"there should be %d.\n", i, chain->num_extents);

CHECK:SPACING: No space is necessary after a cast
#1681: FILE: kernel/power/tuxonice_extent.c:168:
+			(char *) chain, 2 * sizeof(int));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1683: FILE: kernel/power/tuxonice_extent.c:170:
+		printk(KERN_ERR "Failed to read the size of extent chain.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1689: FILE: kernel/power/tuxonice_extent.c:176:
+		this = toi_kzalloc(3, sizeof(struct hibernate_extent),
+				TOI_ATOMIC_GFP);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1691: FILE: kernel/power/tuxonice_extent.c:178:
+			printk(KERN_INFO "Failed to allocate a new extent.\n");

CHECK:SPACING: No space is necessary after a cast
#1697: FILE: kernel/power/tuxonice_extent.c:184:
+				NULL, (char *) this, 2 * sizeof(unsigned long));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1699: FILE: kernel/power/tuxonice_extent.c:186:
+			printk(KERN_INFO "Failed to read an extent.\n");

CHECK:BRACES: braces {} should be used on all arms of this statement
#1726: FILE: kernel/power/tuxonice_extent.c:213:
+		if (state->current_offset == state->current_extent->end) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1736: FILE: kernel/power/tuxonice_extent.c:223:
+		} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1778: FILE: kernel/power/tuxonice_extent.c:265:
+void toi_extent_state_save(struct toi_extent_iterate_state *state,
+		struct hibernate_extent_iterate_saved_state *saved_state)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1803: FILE: kernel/power/tuxonice_extent.c:290:
+void toi_extent_state_restore(struct toi_extent_iterate_state *state,
+		struct hibernate_extent_iterate_saved_state *saved_state)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1825: FILE: kernel/power/tuxonice_extent.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1826: FILE: kernel/power/tuxonice_extent.h:2:
+ * kernel/power/tuxonice_extent.h

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'state' - possible side-effects?
#1868: FILE: kernel/power/tuxonice_extent.h:44:
+#define toi_extent_state_eof(state) \
+	((state)->num_chains == (state)->current_chain)

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros starting with if should be enclosed by a do - while loop to avoid possible if/else logic defects
#1872: FILE: kernel/power/tuxonice_extent.h:48:
+#define toi_extent_for_each(extent_chain, extentpointer, value) \
+if ((extent_chain)->first) \
+	for ((extentpointer) = (extent_chain)->first, (value) = \
+			(extentpointer)->start; \
+	     ((extentpointer) && ((extentpointer)->next || (value) <= \
+				 (extentpointer)->end)); \
+	     (((value) == (extentpointer)->end) ? \
+		((extentpointer) = (extentpointer)->next, (value) = \
+		 ((extentpointer) ? (extentpointer)->start : 0)) : \
+			(value)++))

Macros with multiple statements should be enclosed in a
do - while block.  Same should also be the case for macros
starting with `if` to avoid logic defects::

  #define macrofun(a, b, c)                 \
    do {                                    \
            if (a == 5)                     \
                    do_this(b, c);          \
    } while (0)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#macros-enums-and-rtl

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'extent_chain' - possible side-effects?
#1872: FILE: kernel/power/tuxonice_extent.h:48:
+#define toi_extent_for_each(extent_chain, extentpointer, value) \
+if ((extent_chain)->first) \
+	for ((extentpointer) = (extent_chain)->first, (value) = \
+			(extentpointer)->start; \
+	     ((extentpointer) && ((extentpointer)->next || (value) <= \
+				 (extentpointer)->end)); \
+	     (((value) == (extentpointer)->end) ? \
+		((extentpointer) = (extentpointer)->next, (value) = \
+		 ((extentpointer) ? (extentpointer)->start : 0)) : \
+			(value)++))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'extentpointer' - possible side-effects?
#1872: FILE: kernel/power/tuxonice_extent.h:48:
+#define toi_extent_for_each(extent_chain, extentpointer, value) \
+if ((extent_chain)->first) \
+	for ((extentpointer) = (extent_chain)->first, (value) = \
+			(extentpointer)->start; \
+	     ((extentpointer) && ((extentpointer)->next || (value) <= \
+				 (extentpointer)->end)); \
+	     (((value) == (extentpointer)->end) ? \
+		((extentpointer) = (extentpointer)->next, (value) = \
+		 ((extentpointer) ? (extentpointer)->start : 0)) : \
+			(value)++))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'value' - possible side-effects?
#1872: FILE: kernel/power/tuxonice_extent.h:48:
+#define toi_extent_for_each(extent_chain, extentpointer, value) \
+if ((extent_chain)->first) \
+	for ((extentpointer) = (extent_chain)->first, (value) = \
+			(extentpointer)->start; \
+	     ((extentpointer) && ((extentpointer)->next || (value) <= \
+				 (extentpointer)->end)); \
+	     (((value) == (extentpointer)->end) ? \
+		((extentpointer) = (extentpointer)->next, (value) = \
+		 ((extentpointer) ? (extentpointer)->start : 0)) : \
+			(value)++))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1885: FILE: kernel/power/tuxonice_extent.h:61:
+int toi_add_to_extent_chain(struct hibernate_extent_chain *chain,
+		unsigned long start, unsigned long end);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1887: FILE: kernel/power/tuxonice_extent.h:63:
+int toi_serialise_extent_chain(struct toi_module_ops *owner,
+		struct hibernate_extent_chain *chain);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1891: FILE: kernel/power/tuxonice_extent.h:67:
+void toi_extent_state_save(struct toi_extent_iterate_state *state,
+		struct hibernate_extent_iterate_saved_state *saved_state);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1893: FILE: kernel/power/tuxonice_extent.h:69:
+void toi_extent_state_restore(struct toi_extent_iterate_state *state,
+		struct hibernate_extent_iterate_saved_state *saved_state);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1903: FILE: kernel/power/tuxonice_highlevel.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1904: FILE: kernel/power/tuxonice_highlevel.c:2:
+ * kernel/power/tuxonice_highlevel.c

WARNING:TYPO_SPELLING: 'independant' may be misspelled - perhaps 'independent'?
#1912: FILE: kernel/power/tuxonice_highlevel.c:10:
+ * code is also architecture independant, so it should be very easy to port
                              ^^^^^^^^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#2028: FILE: kernel/power/tuxonice_highlevel.c:126:
+	"We can't hibernate at the moment (invalid resume= or filewriter "
+		"target?)",

WARNING:SPLIT_STRING: quoted string split across lines
#2030: FILE: kernel/power/tuxonice_highlevel.c:128:
+	"A hibernation preparation notifier chain member cancelled the "
+		"hibernation",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2089: FILE: kernel/power/tuxonice_highlevel.c:187:
+		printk(KERN_INFO "TuxOnIce: Get modules failed!\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2097: FILE: kernel/power/tuxonice_highlevel.c:195:
+		set_cpus_allowed(current,
+				cpumask_of_cpu(first_cpu(cpu_online_map)));

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*bm)...) over kzalloc(sizeof(struct memory_bitmap)...)
#2156: FILE: kernel/power/tuxonice_highlevel.c:254:
+	*bm = kzalloc(sizeof(struct memory_bitmap), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2158: FILE: kernel/power/tuxonice_highlevel.c:256:
+		printk(KERN_ERR "Failed to kzalloc memory for a bitmap.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2165: FILE: kernel/power/tuxonice_highlevel.c:263:
+		printk(KERN_ERR "Failed to create a bitmap.\n");

CHECK:SPACING: No space is necessary after a cast
#2228: FILE: kernel/power/tuxonice_highlevel.c:326:
+		MB((unsigned long) toi_bkd.toi_io_time[write][0]) * HZ /

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2232: FILE: kernel/power/tuxonice_highlevel.c:330:
+#define SNPRINTF(a...) ^Ido { len += scnprintf(((char *) buffer) + len, \$

CHECK:SPACING: No space is necessary after a cast
#2232: FILE: kernel/power/tuxonice_highlevel.c:330:
+#define SNPRINTF(a...) 	do { len += scnprintf(((char *) buffer) + len, \

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#2232: FILE: kernel/power/tuxonice_highlevel.c:330:
+#define SNPRINTF(a...) 	do { len += scnprintf(((char *) buffer) + len, \
+		count - len - 1, ## a); } while (0)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2253: FILE: kernel/power/tuxonice_highlevel.c:351:
+	SNPRINTF("- Parameters     : %ld %ld %ld %d %d %ld\n",
+			toi_result,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2260: FILE: kernel/power/tuxonice_highlevel.c:358:
+	SNPRINTF("- Overall expected compression percentage: %d.\n",
+			100 - toi_expected_compression_ratio());

CHECK:SPACING: No space is necessary after a cast
#2261: FILE: kernel/power/tuxonice_highlevel.c:359:
+	len += toi_print_module_debug_info(((char *) buffer) + len,

CHECK:BRACES: braces {} should be used on all arms of this statement
#2263: FILE: kernel/power/tuxonice_highlevel.c:361:
+	if (toi_bkd.toi_io_time[0][1]) {
[...]
+	} else
[...]

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2266: FILE: kernel/power/tuxonice_highlevel.c:364:
+			SNPRINTF("- I/O speed: Write %ld KB/s",
+			  (KB((unsigned long) toi_bkd.toi_io_time[0][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#2266: FILE: kernel/power/tuxonice_highlevel.c:364:
+			  (KB((unsigned long) toi_bkd.toi_io_time[0][0]) * HZ /

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2270: FILE: kernel/power/tuxonice_highlevel.c:368:
+				SNPRINTF(", Read %ld KB/s",
+				  (KB((unsigned long)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2275: FILE: kernel/power/tuxonice_highlevel.c:373:
+			SNPRINTF("- I/O speed: Write %ld MB/s",
+			 (MB((unsigned long) toi_bkd.toi_io_time[0][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#2275: FILE: kernel/power/tuxonice_highlevel.c:373:
+			 (MB((unsigned long) toi_bkd.toi_io_time[0][0]) * HZ /

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2279: FILE: kernel/power/tuxonice_highlevel.c:377:
+				SNPRINTF(", Read %ld MB/s",
+				 (MB((unsigned long)

CHECK:BRACES: Unbalanced braces around else statement
#2284: FILE: kernel/power/tuxonice_highlevel.c:382:
+	} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2287: FILE: kernel/power/tuxonice_highlevel.c:385:
+	SNPRINTF("- Extra pages    : %ld used/%ld.\n",
+			extra_pd1_pages_used, extra_pd1_pages_allowance);

CHECK:SPACING: No space is necessary after a cast
#2320: FILE: kernel/power/tuxonice_highlevel.c:418:
+		buffer = (char *) toi_get_zeroed_page(20, TOI_ATOMIC_GFP);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2344: FILE: kernel/power/tuxonice_highlevel.c:442:
+		toi_message(TOI_ANY_SECTION, TOI_LOW, 1,
+			"TuxOnIce: Not invalidating the image due "

WARNING:SPLIT_STRING: quoted string split across lines
#2345: FILE: kernel/power/tuxonice_highlevel.c:443:
+			"TuxOnIce: Not invalidating the image due "
+			"to Keep Image being enabled.\n");

CHECK:BRACES: Unbalanced braces around else statement
#2347: FILE: kernel/power/tuxonice_highlevel.c:445:
+	} else

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2361: FILE: kernel/power/tuxonice_highlevel.c:459:
+		 * its level mangling. */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2363: FILE: kernel/power/tuxonice_highlevel.c:461:
+			printk(KERN_ERR "%s", buffer + (1023 * i));

CHECK:SPACING: No space is necessary after a cast
#2364: FILE: kernel/power/tuxonice_highlevel.c:462:
+		toi_free_page(20, (unsigned long) buffer);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2398: FILE: kernel/power/tuxonice_highlevel.c:496:
+		printk(KERN_INFO "Image already stored: powering down "

WARNING:SPLIT_STRING: quoted string split across lines
#2399: FILE: kernel/power/tuxonice_highlevel.c:497:
+		printk(KERN_INFO "Image already stored: powering down "
+				"immediately.");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2404: FILE: kernel/power/tuxonice_highlevel.c:502:
+	printk(KERN_INFO "Invalidating previous image.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2422: FILE: kernel/power/tuxonice_highlevel.c:520:
+	printk(KERN_INFO "Initiating a hibernation cycle.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2448: FILE: kernel/power/tuxonice_highlevel.c:546:
+		printk(KERN_ERR "TuxOnIce: Failed to disable usermode "

WARNING:SPLIT_STRING: quoted string split across lines
#2449: FILE: kernel/power/tuxonice_highlevel.c:547:
+		printk(KERN_ERR "TuxOnIce: Failed to disable usermode "
+				"helpers\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2456: FILE: kernel/power/tuxonice_highlevel.c:554:
+		printk(KERN_ERR "TuxOnIce: Failed to allocate "

WARNING:SPLIT_STRING: quoted string split across lines
#2457: FILE: kernel/power/tuxonice_highlevel.c:555:
+		printk(KERN_ERR "TuxOnIce: Failed to allocate "
+				"boot_kernel_data_buffer.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2463: FILE: kernel/power/tuxonice_highlevel.c:561:
+	if (test_action_state(TOI_LATE_CPU_HOTPLUG) ||
+			!disable_nonboot_cpus())

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2483: FILE: kernel/power/tuxonice_highlevel.c:581:
+		printk(KERN_INFO "TuxOnIce: Hibernation is disabled.\n"

WARNING:SPLIT_STRING: quoted string split across lines
#2485: FILE: kernel/power/tuxonice_highlevel.c:583:
+			"This may be because you haven't put something along "
+			"the lines of\n\nresume=swap:/dev/hda1\n\n"

WARNING:SPLIT_STRING: quoted string split across lines
#2487: FILE: kernel/power/tuxonice_highlevel.c:585:
+			"in lilo.conf or equivalent. (Where /dev/hda1 is your "
+			"swap partition).\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2496: FILE: kernel/power/tuxonice_highlevel.c:594:
+			printk(KERN_INFO "Alternate resume parameter now "

WARNING:SPLIT_STRING: quoted string split across lines
#2497: FILE: kernel/power/tuxonice_highlevel.c:595:
+			printk(KERN_INFO "Alternate resume parameter now "
+					"invalid. Aborting.\n");

WARNING:MEMORY_BARRIER: memory barrier without comment
#2522: FILE: kernel/power/tuxonice_highlevel.c:620:
+	mb();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2543: FILE: kernel/power/tuxonice_highlevel.c:641:
+	toi_message(TOI_ANY_SECTION, TOI_LOW, 1,
+		" - Final values: %d and %d.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2594: FILE: kernel/power/tuxonice_highlevel.c:692:
+	toi_update_status(pagedir2.size, pagedir1.size + pagedir2.size,
+			NULL);

WARNING:SPLIT_STRING: quoted string split across lines
#2631: FILE: kernel/power/tuxonice_highlevel.c:729:
+		panic("Attempt to reload pagedir 2 while aborting "
+				"a hibernate failed.");

WARNING:LINE_SPACING: Missing a blank line after declarations
#2644: FILE: kernel/power/tuxonice_highlevel.c:742:
+		struct page *page = pfn_to_page(pfn);
+		kernel_map_pages(page, 1, enable);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2658: FILE: kernel/power/tuxonice_highlevel.c:756:
+	int result;
+	map_ps2_pages(0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2689: FILE: kernel/power/tuxonice_highlevel.c:787:
+	if (toi_init(restarting) && !toi_prepare_image() &&
+			!test_result_state(TOI_ABORTED))

CHECK:SPACING: No space is necessary after a cast
#2704: FILE: kernel/power/tuxonice_highlevel.c:802:
+	char *buf = (char *) toi_get_zeroed_page(21, TOI_ATOMIC_GFP);

CHECK:SPACING: No space is necessary after a cast
#2716: FILE: kernel/power/tuxonice_highlevel.c:814:
+	toi_free_page(21, (unsigned long) buf);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2735: FILE: kernel/power/tuxonice_highlevel.c:833:
+		printk(KERN_WARNING "TuxOnIce: The size of swp_entry_t != size"

WARNING:SPLIT_STRING: quoted string split across lines
#2736: FILE: kernel/power/tuxonice_highlevel.c:834:
+		printk(KERN_WARNING "TuxOnIce: The size of swp_entry_t != size"
+			" of long. Please report this!\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2741: FILE: kernel/power/tuxonice_highlevel.c:839:
+		printk(KERN_WARNING "TuxOnIce: "

WARNING:SPLIT_STRING: quoted string split across lines
#2742: FILE: kernel/power/tuxonice_highlevel.c:840:
+		printk(KERN_WARNING "TuxOnIce: "
+			"You need to use a resume= command line parameter to "

WARNING:SPLIT_STRING: quoted string split across lines
#2743: FILE: kernel/power/tuxonice_highlevel.c:841:
+			"You need to use a resume= command line parameter to "
+			"tell TuxOnIce where to look for an image.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2748: FILE: kernel/power/tuxonice_highlevel.c:846:
+	if (!(test_toi_state(TOI_RESUME_DEVICE_OK)) &&
+		!toi_attempt_to_parse_resume_device(0)) {

CHECK:CAMELCASE: Avoid CamelCase: <toiNumAllocators>
#2754: FILE: kernel/power/tuxonice_highlevel.c:852:
+		if (!toiNumAllocators)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_alert([subsystem]dev, ... then dev_alert(dev, ... then pr_alert(...  to printk(KERN_ALERT ...
#2755: FILE: kernel/power/tuxonice_highlevel.c:853:
+			printk(KERN_ALERT "TuxOnIce: "

WARNING:SPLIT_STRING: quoted string split across lines
#2756: FILE: kernel/power/tuxonice_highlevel.c:854:
+			printk(KERN_ALERT "TuxOnIce: "
+			  "No storage allocators have been registered.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_alert([subsystem]dev, ... then dev_alert(dev, ... then pr_alert(...  to printk(KERN_ALERT ...
#2758: FILE: kernel/power/tuxonice_highlevel.c:856:
+			printk(KERN_ALERT "TuxOnIce: "

WARNING:SPLIT_STRING: quoted string split across lines
#2759: FILE: kernel/power/tuxonice_highlevel.c:857:
+			printk(KERN_ALERT "TuxOnIce: "
+				"Missing or invalid storage location "

WARNING:SPLIT_STRING: quoted string split across lines
#2760: FILE: kernel/power/tuxonice_highlevel.c:858:
+				"Missing or invalid storage location "
+				"(resume= parameter). Please correct and "

WARNING:SPLIT_STRING: quoted string split across lines
#2761: FILE: kernel/power/tuxonice_highlevel.c:859:
+				"(resume= parameter). Please correct and "
+				"rerun lilo (or equivalent) before "

WARNING:SPLIT_STRING: quoted string split across lines
#2762: FILE: kernel/power/tuxonice_highlevel.c:860:
+				"rerun lilo (or equivalent) before "
+				"hibernating.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2837: FILE: kernel/power/tuxonice_highlevel.c:935:
+		printk(KERN_INFO "Trying to resume alternate image.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2842: FILE: kernel/power/tuxonice_highlevel.c:940:
+			printk(KERN_INFO "Nothing to resume from.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2848: FILE: kernel/power/tuxonice_highlevel.c:946:
+		printk(KERN_INFO "Failed to load image.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2879: FILE: kernel/power/tuxonice_highlevel.c:977:
+	if (do_toi_step(STEP_RESUME_CAN_RESUME) &&
+			!do_toi_step(STEP_RESUME_LOAD_PS1))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2963: FILE: kernel/power/tuxonice_highlevel.c:1061:
+			printk(KERN_INFO "Automatically adjusting the extra"

WARNING:SPLIT_STRING: quoted string split across lines
#2964: FILE: kernel/power/tuxonice_highlevel.c:1062:
+			printk(KERN_INFO "Automatically adjusting the extra"
+				" pages allowance to %ld and restarting.\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2969: FILE: kernel/power/tuxonice_highlevel.c:1067:
+		printk(KERN_INFO "Adjusted extra pages allowance twice and "

WARNING:SPLIT_STRING: quoted string split across lines
#2970: FILE: kernel/power/tuxonice_highlevel.c:1068:
+		printk(KERN_INFO "Adjusted extra pages allowance twice and "
+			"still couldn't hibernate successfully. Giving up.");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2990: FILE: kernel/power/tuxonice_highlevel.c:1088:
+int toi_launch_userspace_program(char *command, int channel_no,
+		enum umh_wait wait, int debug)

WARNING:STATIC_CONST_CHAR_ARRAY: char * array declaration might be better as static const
#2993: FILE: kernel/power/tuxonice_highlevel.c:1091:
+	static char *envp[] = {

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#2999: FILE: kernel/power/tuxonice_highlevel.c:1097:
+	static char *argv[] =
+		{ NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL };

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3011: FILE: kernel/power/tuxonice_highlevel.c:1109:
+			printk(KERN_INFO "Failed to allocate memory in "

WARNING:SPLIT_STRING: quoted string split across lines
#3012: FILE: kernel/power/tuxonice_highlevel.c:1110:
+			printk(KERN_INFO "Failed to allocate memory in "
+				"preparing to launch userspace program.\n");

WARNING:NAKED_SSCANF: unchecked sscanf return value
#3019: FILE: kernel/power/tuxonice_highlevel.c:1117:
+		sscanf(orig_posn, "%s", test_read);

CHECK:BRACES: braces {} should be used on all arms of this statement
#3030: FILE: kernel/power/tuxonice_highlevel.c:1128:
+	if (channel_no) {
[...]
+	} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#3033: FILE: kernel/power/tuxonice_highlevel.c:1131:
+	} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3048: FILE: kernel/power/tuxonice_highlevel.c:1146:
+		printk(KERN_ERR "Failed to launch userspace program '%s': "

WARNING:SPLIT_STRING: quoted string split across lines
#3049: FILE: kernel/power/tuxonice_highlevel.c:1147:
+		printk(KERN_ERR "Failed to launch userspace program '%s': "
+				"Error %d\n", command, retval);

WARNING:LINE_SPACING: Missing a blank line after declarations
#3053: FILE: kernel/power/tuxonice_highlevel.c:1151:
+		int i;
+		for (i = 0; i < arg; i++)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#3055: FILE: kernel/power/tuxonice_highlevel.c:1153:
+				toi_kfree(5, argv[i], sizeof (*argv[i]));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3069: FILE: kernel/power/tuxonice_highlevel.c:1167:
+	SYSFS_LONG("extra_pages_allowance", SYSFS_RW,
+			&extra_pd1_pages_allowance, 0, LONG_MAX, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3071: FILE: kernel/power/tuxonice_highlevel.c:1169:
+	SYSFS_CUSTOM("image_exists", SYSFS_RW, image_exists_read,
+			image_exists_write, SYSFS_NEEDS_SM_FOR_BOTH, NULL),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3073: FILE: kernel/power/tuxonice_highlevel.c:1171:
+	SYSFS_STRING("resume", SYSFS_RW, resume_file, 255,
+			SYSFS_NEEDS_SM_FOR_WRITE,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3076: FILE: kernel/power/tuxonice_highlevel.c:1174:
+	SYSFS_STRING("alt_resume_param", SYSFS_RW, alt_resume_param, 255,
+			SYSFS_NEEDS_SM_FOR_WRITE,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3079: FILE: kernel/power/tuxonice_highlevel.c:1177:
+	SYSFS_CUSTOM("debug_info", SYSFS_READONLY, get_toi_debug_info, NULL, 0,
+			NULL),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3081: FILE: kernel/power/tuxonice_highlevel.c:1179:
+	SYSFS_BIT("ignore_rootfs", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_IGNORE_ROOTFS, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3083: FILE: kernel/power/tuxonice_highlevel.c:1181:
+	SYSFS_INT("image_size_limit", SYSFS_RW, &image_size_limit, -2,
+			INT_MAX, 0, NULL),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3086: FILE: kernel/power/tuxonice_highlevel.c:1184:
+	SYSFS_BIT("no_multithreaded_io", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_NO_MULTITHREADED_IO, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3088: FILE: kernel/power/tuxonice_highlevel.c:1186:
+	SYSFS_BIT("no_flusher_thread", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_NO_FLUSHER_THREAD, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3090: FILE: kernel/power/tuxonice_highlevel.c:1188:
+	SYSFS_BIT("full_pageset2", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_PAGESET2_FULL, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3093: FILE: kernel/power/tuxonice_highlevel.c:1191:
+	SYSFS_STRING("resume_commandline", SYSFS_RW,
+			toi_bkd.toi_nosave_commandline, COMMAND_LINE_SIZE, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3097: FILE: kernel/power/tuxonice_highlevel.c:1195:
+	SYSFS_BIT("no_load_direct", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_NO_DIRECT_LOAD, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3099: FILE: kernel/power/tuxonice_highlevel.c:1197:
+	SYSFS_BIT("freezer_test", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_FREEZER_TEST, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3102: FILE: kernel/power/tuxonice_highlevel.c:1200:
+	SYSFS_BIT("test_filter_speed", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_TEST_FILTER_SPEED, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3104: FILE: kernel/power/tuxonice_highlevel.c:1202:
+	SYSFS_BIT("no_pageset2", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_NO_PAGESET2, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3106: FILE: kernel/power/tuxonice_highlevel.c:1204:
+	SYSFS_BIT("no_pageset2_if_unneeded", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_NO_PS2_IF_UNNEEDED, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3108: FILE: kernel/power/tuxonice_highlevel.c:1206:
+	SYSFS_BIT("late_cpu_hotplug", SYSFS_RW, &toi_bkd.toi_action,
+			TOI_LATE_CPU_HOTPLUG, 0),

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#3110: FILE: kernel/power/tuxonice_highlevel.c:1208:
+	SYSFS_BIT("keep_image", SYSFS_RW , &toi_bkd.toi_action, TOI_KEEP_IMAGE,
 	                                 ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3111: FILE: kernel/power/tuxonice_highlevel.c:1209:
+	SYSFS_BIT("keep_image", SYSFS_RW , &toi_bkd.toi_action, TOI_KEEP_IMAGE,
+			0),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3134: FILE: kernel/power/tuxonice_highlevel.c:1232:
+	printk(KERN_INFO "TuxOnIce " TOI_CORE_VERSION

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3164: FILE: kernel/power/tuxonice_io.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#3165: FILE: kernel/power/tuxonice_io.c:2:
+ * kernel/power/tuxonice_io.c

CHECK:SPACING: No space is necessary after a cast
#3214: FILE: kernel/power/tuxonice_io.c:51:
+#define MONITOR ((void *) 1)

CHECK:CAMELCASE: Avoid CamelCase: <Allocator>
#3223: FILE: kernel/power/tuxonice_io.c:60:
+	struct list_head *Allocator;

CHECK:CAMELCASE: Avoid CamelCase: <thisAllocator>
#3224: FILE: kernel/power/tuxonice_io.c:61:
+	struct toi_module_ops *thisAllocator;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3237: FILE: kernel/power/tuxonice_io.c:74:
+			printk(KERN_INFO "TuxOnIce: No storage allocators have "

WARNING:SPLIT_STRING: quoted string split across lines
#3238: FILE: kernel/power/tuxonice_io.c:75:
+			printk(KERN_INFO "TuxOnIce: No storage allocators have "
+				"been registered. Hibernating will be "

WARNING:SPLIT_STRING: quoted string split across lines
#3239: FILE: kernel/power/tuxonice_io.c:76:
+				"been registered. Hibernating will be "
+				"disabled.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3245: FILE: kernel/power/tuxonice_io.c:82:
+			printk(KERN_INFO "TuxOnIce: Resume= parameter is empty."

WARNING:SPLIT_STRING: quoted string split across lines
#3246: FILE: kernel/power/tuxonice_io.c:83:
+			printk(KERN_INFO "TuxOnIce: Resume= parameter is empty."
+				" Hibernating will be disabled.\n");

CHECK:CAMELCASE: Avoid CamelCase: <toiAllocators>
#3250: FILE: kernel/power/tuxonice_io.c:87:
+	list_for_each(Allocator, &toiAllocators) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3252: FILE: kernel/power/tuxonice_io.c:89:
+		thisAllocator = list_entry(Allocator, struct toi_module_ops,
+								type_list);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#3261: FILE: kernel/power/tuxonice_io.c:98:
+		result = thisAllocator->parse_sig_location(

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3268: FILE: kernel/power/tuxonice_io.c:105:
+			 * configuration. Error already printed. */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3282: FILE: kernel/power/tuxonice_io.c:119:
+		printk(KERN_INFO "TuxOnIce: No matching enabled allocator "

WARNING:SPLIT_STRING: quoted string split across lines
#3283: FILE: kernel/power/tuxonice_io.c:120:
+		printk(KERN_INFO "TuxOnIce: No matching enabled allocator "
+				"found. Resuming disabled.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3320: FILE: kernel/power/tuxonice_io.c:157:
+	printk(KERN_INFO "=== Trying Poweroff Resume2 ===\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3325: FILE: kernel/power/tuxonice_io.c:162:
+	printk(KERN_INFO "=== Done ===\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3332: FILE: kernel/power/tuxonice_io.c:169:
+	printk(KERN_INFO "Can't resume from that location; clearing "

WARNING:SPLIT_STRING: quoted string split across lines
#3333: FILE: kernel/power/tuxonice_io.c:170:
+	printk(KERN_INFO "Can't resume from that location; clearing "
+			"alt_resume_param.\n");

CHECK:SPACING: No space is necessary after a cast
#3364: FILE: kernel/power/tuxonice_io.c:201:
+	error = init_header((struct swsusp_info *) sh);

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3376: FILE: kernel/power/tuxonice_io.c:213:
+		sh->io_time[i/2][i%2] = toi_bkd.toi_io_time[i/2][i%2];
 		             ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#3376: FILE: kernel/power/tuxonice_io.c:213:
+		sh->io_time[i/2][i%2] = toi_bkd.toi_io_time[i/2][i%2];
 		                  ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3376: FILE: kernel/power/tuxonice_io.c:213:
+		sh->io_time[i/2][i%2] = toi_bkd.toi_io_time[i/2][i%2];
 		                                             ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#3376: FILE: kernel/power/tuxonice_io.c:213:
+		sh->io_time[i/2][i%2] = toi_bkd.toi_io_time[i/2][i%2];
 		                                                  ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3398: FILE: kernel/power/tuxonice_io.c:235:
+			abort_hibernate(TOI_FAILED_MODULE_INIT,
+				"Failed to initialize the %s filter.",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3419: FILE: kernel/power/tuxonice_io.c:256:
+			printk(KERN_INFO "Setting aborted flag due to module "

WARNING:SPLIT_STRING: quoted string split across lines
#3420: FILE: kernel/power/tuxonice_io.c:257:
+			printk(KERN_INFO "Setting aborted flag due to module "
+					"init failure.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3474: FILE: kernel/power/tuxonice_io.c:311:
+		if (*my_last_sought && *my_last_high_page &&
+				*my_last_sought < orig_page)

CHECK:SPACING: No space is necessary after a cast
#3477: FILE: kernel/power/tuxonice_io.c:314:
+			high_page = (struct page *) restore_highmem_pblist;

CHECK:SPACING: No space is necessary after a cast
#3478: FILE: kernel/power/tuxonice_io.c:315:
+		this = (struct pbe *) kmap(high_page);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3482: FILE: kernel/power/tuxonice_io.c:319:
+		if (*my_last_sought && *my_last_low_page &&
+				*my_last_sought < orig_page)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3493: FILE: kernel/power/tuxonice_io.c:330:
+	while (this[PBES_PER_PAGE - 1].next &&
+			this[PBES_PER_PAGE - 1].orig_address < compare) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#3494: FILE: kernel/power/tuxonice_io.c:331:
+		if (is_high) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#3500: FILE: kernel/power/tuxonice_io.c:337:
+		} else

CHECK:BRACES: braces {} should be used on all arms of this statement
#3509: FILE: kernel/power/tuxonice_io.c:346:
+		if (!this[index].orig_address ||
[...]
+		else if (this[index].orig_address == compare) {
[...]
+		} else
[...]

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#3521: FILE: kernel/power/tuxonice_io.c:358:
+			return virt_to_page(this[index].address);
+		} else

CHECK:BRACES: Unbalanced braces around else statement
#3521: FILE: kernel/power/tuxonice_io.c:358:
+		} else

WARNING:SPLIT_STRING: quoted string split across lines
#3530: FILE: kernel/power/tuxonice_io.c:367:
+	abort_hibernate(TOI_FAILED_IO, "Failed to get destination page for"
+		" orig page %p. This[min].orig_address=%p.\n", orig_page,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3546: FILE: kernel/power/tuxonice_io.c:383:
+static int write_next_page(unsigned long *data_pfn, int *my_io_index,
+		unsigned long *write_pfn, struct toi_module_ops *first_filter)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3556: FILE: kernel/power/tuxonice_io.c:393:
+			printk(KERN_INFO "Ran out of pfns but io_count is "

WARNING:SPLIT_STRING: quoted string split across lines
#3557: FILE: kernel/power/tuxonice_io.c:394:
+			printk(KERN_INFO "Ran out of pfns but io_count is "
+					"still %d.\n", atomic_read(&io_count));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3558: FILE: kernel/power/tuxonice_io.c:395:
+			BUG();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3596: FILE: kernel/power/tuxonice_io.c:433:
+static int read_next_page(int *my_io_index, unsigned long *write_pfn,
+		struct page *buffer, struct toi_module_ops *first_filter)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3623: FILE: kernel/power/tuxonice_io.c:460:
+		abort_hibernate(TOI_FAILED_IO,
+			"I/O pipeline returned %d bytes instead"

WARNING:SPLIT_STRING: quoted string split across lines
#3624: FILE: kernel/power/tuxonice_io.c:461:
+			"I/O pipeline returned %d bytes instead"
+			" of %ud.\n", buf_size, PAGE_SIZE);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3633: FILE: kernel/power/tuxonice_io.c:470:
+ * $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3643: FILE: kernel/power/tuxonice_io.c:480:
+		BUG_ON(!copy_page);

WARNING:JIFFIES_COMPARISON: Comparing jiffies is almost always wrong; prefer time_after, time_before and friends
#3688: FILE: kernel/power/tuxonice_io.c:525:
+		if (data && jiffies > next_jiffies) {

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#3691: FILE: kernel/power/tuxonice_io.c:528:
+				toiActiveAllocator->update_throughput_throttle(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3704: FILE: kernel/power/tuxonice_io.c:541:
+			result = write_next_page(&data_pfn, &my_io_index,
+					&write_pfn, first_filter);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3707: FILE: kernel/power/tuxonice_io.c:544:
+			result = read_next_page(&my_io_index, &write_pfn,
+					buffer, first_filter);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3715: FILE: kernel/power/tuxonice_io.c:552:
+				printk(KERN_INFO "Write chunk returned %d.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3716: FILE: kernel/power/tuxonice_io.c:553:
+				printk(KERN_INFO "Write chunk returned %d.\n",
+						result);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3718: FILE: kernel/power/tuxonice_io.c:555:
+				abort_hibernate(TOI_FAILED_IO,
+					"Failed to write a chunk of the "

WARNING:SPLIT_STRING: quoted string split across lines
#3719: FILE: kernel/power/tuxonice_io.c:556:
+					"Failed to write a chunk of the "
+					"image.");

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3736: FILE: kernel/power/tuxonice_io.c:573:
+				MB(io_base+my_io_index+1), MB(io_barmax));
 				          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3736: FILE: kernel/power/tuxonice_io.c:573:
+				MB(io_base+my_io_index+1), MB(io_barmax));
 				                      ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3739: FILE: kernel/power/tuxonice_io.c:576:
+			printk(KERN_ERR "...%d%%.\n", 20 * io_pc_step);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3785: FILE: kernel/power/tuxonice_io.c:622:
+		p = kthread_create(worker_rw_loop, num_started ? NULL : MONITOR,
+				"ktoi_io/%d", cpu);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#3787: FILE: kernel/power/tuxonice_io.c:624:
+			printk(KERN_ERR "ktoi_io for %i failed\n", cpu);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3805: FILE: kernel/power/tuxonice_io.c:642:
+static int do_rw_loop(int write, int finish_at, struct memory_bitmap *pageflags,
+		int base, int barmax, int pageset)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3845: FILE: kernel/power/tuxonice_io.c:682:
+	BUG_ON(index < finish_at);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3858: FILE: kernel/power/tuxonice_io.c:695:
+	if (!num_other_threads || !toiActiveAllocator->io_flusher ||
+		test_action_state(TOI_NO_FLUSHER_THREAD))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3876: FILE: kernel/power/tuxonice_io.c:713:
+		toi_update_status(io_base + io_finish_at, io_barmax,
+				" %d/%d MB ",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3882: FILE: kernel/power/tuxonice_io.c:719:
+			printk(KERN_INFO "Finished I/O loop but still work to "

WARNING:SPLIT_STRING: quoted string split across lines
#3883: FILE: kernel/power/tuxonice_io.c:720:
+			printk(KERN_INFO "Finished I/O loop but still work to "
+					"do?\nFinish at = %d. io_count = %d.\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#3885: FILE: kernel/power/tuxonice_io.c:722:
+			printk(KERN_INFO "I/O bitmap still records work to do."

WARNING:SPLIT_STRING: quoted string split across lines
#3886: FILE: kernel/power/tuxonice_io.c:723:
+			printk(KERN_INFO "I/O bitmap still records work to do."
+					"%ld.\n", next);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3887: FILE: kernel/power/tuxonice_io.c:724:
+			BUG();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3917: FILE: kernel/power/tuxonice_io.c:754:
+		toi_prepare_status(DONT_CLEAR_BAR,
+				"Writing kernel & process data...");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3939: FILE: kernel/power/tuxonice_io.c:776:
+		error = do_rw_loop(1, finish_at, pageflags, base, barmax,
+				pagedir->id);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3975: FILE: kernel/power/tuxonice_io.c:812:
+		toi_prepare_status(DONT_CLEAR_BAR,
+				"Reading kernel & process data...");

CHECK:BRACES: braces {} should be used on all arms of this statement
#3979: FILE: kernel/power/tuxonice_io.c:816:
+		if (overwrittenpagesonly) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#3982: FILE: kernel/power/tuxonice_io.c:819:
+		} else

CHECK:BRACES: Unbalanced braces around else statement
#3992: FILE: kernel/power/tuxonice_io.c:829:
+	} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3994: FILE: kernel/power/tuxonice_io.c:831:
+		result = do_rw_loop(0, finish_at, pageflags, base, barmax,
+				pagedir->id);

CHECK:SPACING: No space is necessary after a cast
#4023: FILE: kernel/power/tuxonice_io.c:860:
+	char *buffer = (char *) toi_get_zeroed_page(22, TOI_ATOMIC_GFP);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4028: FILE: kernel/power/tuxonice_io.c:865:
+		printk(KERN_INFO "Failed to allocate a buffer for saving "

WARNING:SPLIT_STRING: quoted string split across lines
#4029: FILE: kernel/power/tuxonice_io.c:866:
+		printk(KERN_INFO "Failed to allocate a buffer for saving "
+				"module configuration info.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4056: FILE: kernel/power/tuxonice_io.c:893:
+		strncpy(toi_module_header.name, this_module->name,
+					sizeof(toi_module_header.name));

CHECK:SPACING: No space is necessary after a cast
#4059: FILE: kernel/power/tuxonice_io.c:896:
+				(char *) &toi_module_header,

CHECK:SPACING: No space is necessary after a cast
#4065: FILE: kernel/power/tuxonice_io.c:902:
+				(char *) &len, sizeof(int));

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#4067: FILE: kernel/power/tuxonice_io.c:904:
+			toiActiveAllocator->rw_header_chunk(

CHECK:SPACING: No space is necessary after a cast
#4074: FILE: kernel/power/tuxonice_io.c:911:
+			(char *) &toi_module_header, sizeof(toi_module_header));

CHECK:SPACING: No space is necessary after a cast
#4076: FILE: kernel/power/tuxonice_io.c:913:
+	toi_free_page(22, (unsigned long) buffer);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4101: FILE: kernel/power/tuxonice_io.c:938:
+			toi_early_boot_message(1, TOI_CONTINUE_REQ,
+				"It looks like we need module %s for reading "

WARNING:SPLIT_STRING: quoted string split across lines
#4102: FILE: kernel/power/tuxonice_io.c:939:
+				"It looks like we need module %s for reading "
+				"the image but it hasn't been registered.\n",

CHECK:BRACES: Unbalanced braces around else statement
#4106: FILE: kernel/power/tuxonice_io.c:943:
+		} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4107: FILE: kernel/power/tuxonice_io.c:944:
+			printk(KERN_INFO "Module %s configuration data found, "

WARNING:SPLIT_STRING: quoted string split across lines
#4108: FILE: kernel/power/tuxonice_io.c:945:
+			printk(KERN_INFO "Module %s configuration data found, "
+				"but the module hasn't registered. Looks like "

WARNING:SPLIT_STRING: quoted string split across lines
#4109: FILE: kernel/power/tuxonice_io.c:946:
+				"but the module hasn't registered. Looks like "
+				"it was disabled, so we're ignoring its data.",

CHECK:SPACING: No space is necessary after a cast
#4114: FILE: kernel/power/tuxonice_io.c:951:
+	result = toiActiveAllocator->rw_header_chunk(READ, NULL, (char *) &len,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4117: FILE: kernel/power/tuxonice_io.c:954:
+		printk(KERN_ERR "Failed to read the length of the module %s's"

WARNING:SPLIT_STRING: quoted string split across lines
#4118: FILE: kernel/power/tuxonice_io.c:955:
+		printk(KERN_ERR "Failed to read the length of the module %s's"
+				" configuration data.\n",

CHECK:SPACING: No space is necessary after a cast
#4127: FILE: kernel/power/tuxonice_io.c:964:
+	buffer = (char *) toi_get_zeroed_page(23, TOI_ATOMIC_GFP);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4130: FILE: kernel/power/tuxonice_io.c:967:
+		printk(KERN_ERR "Failed to allocate a buffer for reloading "

WARNING:SPLIT_STRING: quoted string split across lines
#4131: FILE: kernel/power/tuxonice_io.c:968:
+		printk(KERN_ERR "Failed to allocate a buffer for reloading "
+				"module configuration info.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4141: FILE: kernel/power/tuxonice_io.c:978:
+		printk(KERN_ERR "Huh? Module %s appears to have a "

WARNING:SPLIT_STRING: quoted string split across lines
#4142: FILE: kernel/power/tuxonice_io.c:979:
+		printk(KERN_ERR "Huh? Module %s appears to have a "
+				"save_config_info, but not a load_config_info "

WARNING:SPLIT_STRING: quoted string split across lines
#4143: FILE: kernel/power/tuxonice_io.c:980:
+				"save_config_info, but not a load_config_info "
+				"function!\n", this_module->name);

CHECK:SPACING: No space is necessary after a cast
#4160: FILE: kernel/power/tuxonice_io.c:997:
+	toi_free_page(23, (unsigned long) buffer);

CHECK:SPACING: No space is necessary after a cast
#4185: FILE: kernel/power/tuxonice_io.c:1022:
+			(char *) &toi_module_header,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4188: FILE: kernel/power/tuxonice_io.c:1025:
+		printk(KERN_ERR "Failed to read the next module header.\n");

CHECK:SPACING: No space is necessary after a cast
#4201: FILE: kernel/power/tuxonice_io.c:1038:
+				(char *) &toi_module_header,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4205: FILE: kernel/power/tuxonice_io.c:1042:
+			printk(KERN_ERR "Failed to read the next module "

WARNING:SPLIT_STRING: quoted string split across lines
#4206: FILE: kernel/power/tuxonice_io.c:1043:
+			printk(KERN_ERR "Failed to read the next module "
+					"header.\n");

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#4223: FILE: kernel/power/tuxonice_io.c:1060:
+	int total = pagedir1.size + pagedir2.size+2;
 	                                         ^

WARNING:SPLIT_STRING: quoted string split across lines
#4231: FILE: kernel/power/tuxonice_io.c:1068:
+				"Active allocator's write_header_init"
+				" function failed.");

CHECK:SPACING: No space is necessary after a cast
#4236: FILE: kernel/power/tuxonice_io.c:1073:
+	header_buffer = (char *) toi_get_zeroed_page(24, TOI_ATOMIC_GFP);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4239: FILE: kernel/power/tuxonice_io.c:1076:
+		abort_hibernate(TOI_OUT_OF_MEMORY,
+			"Out of memory when trying to get page for header!");

CHECK:SPACING: No space is necessary after a cast
#4244: FILE: kernel/power/tuxonice_io.c:1081:
+	if (fill_toi_header((struct toi_header *) header_buffer)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4246: FILE: kernel/power/tuxonice_io.c:1083:
+		abort_hibernate(TOI_OUT_OF_MEMORY,
+			"Failure to fill header information!");

CHECK:SPACING: No space is necessary after a cast
#4252: FILE: kernel/power/tuxonice_io.c:1089:
+	toi_free_page(24, (unsigned long) header_buffer);

CHECK:SPACING: No space is necessary after a cast
#4295: FILE: kernel/power/tuxonice_io.c:1132:
+	char *reason = check_image_kernel((struct swsusp_info *) sh);

WARNING:LINE_SPACING: Missing a blank line after declarations
#4302: FILE: kernel/power/tuxonice_io.c:1139:
+		const struct super_block *sb;
+		list_for_each_entry(sb, &super_blocks, s_list) {

WARNING:SPLIT_STRING: quoted string split across lines
#4306: FILE: kernel/power/tuxonice_io.c:1143:
+				return "Device backed fs has been mounted "
+					"rw prior to resume or initrd/ramfs "

WARNING:SPLIT_STRING: quoted string split across lines
#4307: FILE: kernel/power/tuxonice_io.c:1144:
+					"rw prior to resume or initrd/ramfs "
+					"is mounted rw.";

CHECK:SPACING: No space is necessary after a cast
#4338: FILE: kernel/power/tuxonice_io.c:1175:
+	char *header_buffer = (char *) toi_get_zeroed_page(25, TOI_ATOMIC_GFP),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4343: FILE: kernel/power/tuxonice_io.c:1180:
+		printk(KERN_INFO "Unable to allocate a page for reading the "

WARNING:SPLIT_STRING: quoted string split across lines
#4344: FILE: kernel/power/tuxonice_io.c:1181:
+		printk(KERN_INFO "Unable to allocate a page for reading the "
+				"signature.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4353: FILE: kernel/power/tuxonice_io.c:1190:
+		printk(KERN_INFO "TuxOnIce: No image found.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4370: FILE: kernel/power/tuxonice_io.c:1207:
+		printk(KERN_INFO "TuxOnIce: Failed to initialise, reading the "

WARNING:SPLIT_STRING: quoted string split across lines
#4371: FILE: kernel/power/tuxonice_io.c:1208:
+		printk(KERN_INFO "TuxOnIce: Failed to initialise, reading the "
+				"image header.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4377: FILE: kernel/power/tuxonice_io.c:1214:
+		printk(KERN_INFO "TuxOnIce: Noresume on command line. Removed "

WARNING:SPLIT_STRING: quoted string split across lines
#4378: FILE: kernel/power/tuxonice_io.c:1215:
+		printk(KERN_INFO "TuxOnIce: Noresume on command line. Removed "
+				"image.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4386: FILE: kernel/power/tuxonice_io.c:1223:
+			printk(KERN_INFO "TuxOnIce: Tried to resume before: "

WARNING:SPLIT_STRING: quoted string split across lines
#4387: FILE: kernel/power/tuxonice_io.c:1224:
+			printk(KERN_INFO "TuxOnIce: Tried to resume before: "
+					"Invalidated image.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4398: FILE: kernel/power/tuxonice_io.c:1235:
+		printk(KERN_ERR "TuxOnIce: Failed to read the image "

WARNING:SPLIT_STRING: quoted string split across lines
#4399: FILE: kernel/power/tuxonice_io.c:1236:
+		printk(KERN_ERR "TuxOnIce: Failed to read the image "
+				"signature.\n");

CHECK:SPACING: No space is necessary after a cast
#4403: FILE: kernel/power/tuxonice_io.c:1240:
+	toi_header = (struct toi_header *) header_buffer;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4412: FILE: kernel/power/tuxonice_io.c:1249:
+		toi_early_boot_message(1, TOI_CONTINUE_REQ,
+				sanity_error);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4413: FILE: kernel/power/tuxonice_io.c:1250:
+		printk(KERN_INFO "TuxOnIce: Sanity check failed.\n");

CHECK:SPACING: No space is necessary after a cast
#4426: FILE: kernel/power/tuxonice_io.c:1263:
+	memcpy((char *) &pagedir1,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4427: FILE: kernel/power/tuxonice_io.c:1264:
+	memcpy((char *) &pagedir1,
+		(char *) &toi_header->pagedir, sizeof(pagedir1));

CHECK:SPACING: No space is necessary after a cast
#4427: FILE: kernel/power/tuxonice_io.c:1264:
+		(char *) &toi_header->pagedir, sizeof(pagedir1));

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#4435: FILE: kernel/power/tuxonice_io.c:1272:
+		toi_bkd.toi_io_time[i/2][i%2] =
 		                     ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#4435: FILE: kernel/power/tuxonice_io.c:1272:
+		toi_bkd.toi_io_time[i/2][i%2] =
 		                          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#4436: FILE: kernel/power/tuxonice_io.c:1273:
+			toi_header->io_time[i/2][i%2];
 			                     ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#4436: FILE: kernel/power/tuxonice_io.c:1273:
+			toi_header->io_time[i/2][i%2];
 			                          ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4446: FILE: kernel/power/tuxonice_io.c:1283:
+		printk(KERN_INFO "TuxOnIce: Failed to read TuxOnIce module "

WARNING:SPLIT_STRING: quoted string split across lines
#4447: FILE: kernel/power/tuxonice_io.c:1284:
+		printk(KERN_INFO "TuxOnIce: Failed to read TuxOnIce module "
+				"configurations.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4487: FILE: kernel/power/tuxonice_io.c:1324:
+		printk(KERN_ERR "TuxOnIce: Failed to cleanup after reading the "

WARNING:SPLIT_STRING: quoted string split across lines
#4488: FILE: kernel/power/tuxonice_io.c:1325:
+		printk(KERN_ERR "TuxOnIce: Failed to cleanup after reading the "
+				"image header.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4499: FILE: kernel/power/tuxonice_io.c:1336:
+		printk(KERN_INFO "TuxOnIce: Failed to get load addresses for "

WARNING:SPLIT_STRING: quoted string split across lines
#4500: FILE: kernel/power/tuxonice_io.c:1337:
+		printk(KERN_INFO "TuxOnIce: Failed to get load addresses for "
+				"pageset1.\n");

CHECK:SPACING: No space is necessary after a cast
#4524: FILE: kernel/power/tuxonice_io.c:1361:
+	toi_free_page(25, (unsigned long) header_buffer);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4557: FILE: kernel/power/tuxonice_io.c:1394:
+	if (error && error != -ENODATA && error != -EINVAL &&
+					!test_result_state(TOI_ABORTED))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4559: FILE: kernel/power/tuxonice_io.c:1396:
+		abort_hibernate(TOI_IMAGE_ERROR,
+			"TuxOnIce: Error %d resuming\n", error);

CHECK:SPACING: No space is necessary after a cast
#4569: FILE: kernel/power/tuxonice_io.c:1406:
+	char *output_buffer = (char *) toi_get_zeroed_page(26, TOI_ATOMIC_GFP);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4573: FILE: kernel/power/tuxonice_io.c:1410:
+		printk(KERN_INFO "Output buffer null.\n");

CHECK:SPACING: No space is necessary after a cast
#4591: FILE: kernel/power/tuxonice_io.c:1428:
+	toi_header = (struct toi_header *) output_buffer;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4594: FILE: kernel/power/tuxonice_io.c:1431:
+	sprintf(output_buffer, "1\n%s\n%s\n",
+			toi_header->uts.machine,

CHECK:SPACING: No space is necessary after a cast
#4654: FILE: kernel/power/tuxonice_io.c:1491:
+		len = sprintf((char *) page, "-1\n");

CHECK:SPACING: No space is necessary after a cast
#4658: FILE: kernel/power/tuxonice_io.c:1495:
+			len = sprintf((char *) page, "%s",  result);

CHECK:SPACING: No space is necessary after a cast
#4659: FILE: kernel/power/tuxonice_io.c:1496:
+			toi_free_page(26, (unsigned long) result);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4691: FILE: kernel/power/tuxonice_io.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#4692: FILE: kernel/power/tuxonice_io.h:2:
+ * kernel/power/tuxonice_io.h

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4737: FILE: kernel/power/tuxonice_io.h:47:
+extern int write_pageset(struct pagedir *pagedir);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4738: FILE: kernel/power/tuxonice_io.h:48:
+extern int write_image_header(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4739: FILE: kernel/power/tuxonice_io.h:49:
+extern int read_pageset1(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4740: FILE: kernel/power/tuxonice_io.h:50:
+extern int read_pageset2(int overwrittenpagesonly);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4742: FILE: kernel/power/tuxonice_io.h:52:
+extern int toi_attempt_to_parse_resume_device(int quiet);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4743: FILE: kernel/power/tuxonice_io.h:53:
+extern void attempt_to_parse_resume_device2(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4744: FILE: kernel/power/tuxonice_io.h:54:
+extern void attempt_to_parse_alt_resume_param(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4747: FILE: kernel/power/tuxonice_io.h:57:
+extern void save_restore_alt_param(int replace, int quiet);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4757: FILE: kernel/power/tuxonice_io.h:67:
+extern dev_t name_to_dev_t(char *line);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4767: FILE: kernel/power/tuxonice_modules.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#4768: FILE: kernel/power/tuxonice_modules.c:2:
+ * kernel/power/tuxonice_modules.c

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#4825: FILE: kernel/power/tuxonice_modules.c:59:
+	printk(KERN_DEBUG "Header storage:\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#4837: FILE: kernel/power/tuxonice_modules.c:71:
+			printk(KERN_DEBUG "+ %16s : %-4d/%d.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4838: FILE: kernel/power/tuxonice_modules.c:72:
+			printk(KERN_DEBUG "+ %16s : %-4d/%d.\n",
+					this_module->name,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#4843: FILE: kernel/power/tuxonice_modules.c:77:
+	printk(KERN_DEBUG "+ empty terminator : %ld.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4844: FILE: kernel/power/tuxonice_modules.c:78:
+	printk(KERN_DEBUG "+ empty terminator : %ld.\n",
+			sizeof(struct toi_module_header));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#4845: FILE: kernel/power/tuxonice_modules.c:79:
+	printk(KERN_DEBUG "                     ====\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#4846: FILE: kernel/power/tuxonice_modules.c:80:
+	printk(KERN_DEBUG "                     %ld\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4847: FILE: kernel/power/tuxonice_modules.c:81:
+	printk(KERN_DEBUG "                     %ld\n",
+			bytes + sizeof(struct toi_module_header));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4863: FILE: kernel/power/tuxonice_modules.c:97:
+		printk(KERN_INFO "Memory for modules:\n===================\n");

WARNING:LINE_SPACING: Missing a blank line after declarations
#4866: FILE: kernel/power/tuxonice_modules.c:100:
+		int this;
+		if (!this_module->enabled)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4871: FILE: kernel/power/tuxonice_modules.c:105:
+				printk(KERN_INFO "%10d bytes (%5ld pages) for "

WARNING:SPLIT_STRING: quoted string split across lines
#4872: FILE: kernel/power/tuxonice_modules.c:106:
+				printk(KERN_INFO "%10d bytes (%5ld pages) for "
+						"module '%s'.\n", this,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4881: FILE: kernel/power/tuxonice_modules.c:115:
+		printk(KERN_INFO " => %ld bytes, %ld pages.\n", bytes, result);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4910: FILE: kernel/power/tuxonice_modules.c:144:
+ * ^I^I^Ito its directory name$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4929: FILE: kernel/power/tuxonice_modules.c:163:
+ * ^I^I^Ito its name$

WARNING:LINE_SPACING: Missing a blank line after declarations
#4960: FILE: kernel/power/tuxonice_modules.c:194:
+			int result;
+			result = this_module->print_debug_info(buffer + len,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#4985: FILE: kernel/power/tuxonice_modules.c:219:
+		printk(KERN_INFO "TuxOnIce: Trying to load module %s,"

WARNING:SPLIT_STRING: quoted string split across lines
#4986: FILE: kernel/power/tuxonice_modules.c:220:
+		printk(KERN_INFO "TuxOnIce: Trying to load module %s,"
+				" which is already registered.\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5004: FILE: kernel/power/tuxonice_modules.c:238:
+		printk(KERN_ERR "Hmmm. Module '%s' has an invalid type."

WARNING:SPLIT_STRING: quoted string split across lines
#5005: FILE: kernel/power/tuxonice_modules.c:239:
+		printk(KERN_ERR "Hmmm. Module '%s' has an invalid type."
+			" It has been ignored.\n", module->name);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5012: FILE: kernel/power/tuxonice_modules.c:246:
+	if ((!module->directory && !module->shared_directory) ||
+			!module->sysfs_data || !module->num_sysfs_entries)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5024: FILE: kernel/power/tuxonice_modules.c:258:
+			printk(KERN_ERR "TuxOnIce: Module %s wants to share "

WARNING:SPLIT_STRING: quoted string split across lines
#5025: FILE: kernel/power/tuxonice_modules.c:259:
+			printk(KERN_ERR "TuxOnIce: Module %s wants to share "
+					"%s's directory but %s isn't loaded.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5060: FILE: kernel/power/tuxonice_modules.c:294:
+			toi_unregister_sysfs_file(module->dir_kobj,
+					&module->sysfs_data[i]);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5063: FILE: kernel/power/tuxonice_modules.c:297:
+	if (!module->shared_directory && module->directory &&
+			strncmp(module->directory, "[ROOT]", 6))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5084: FILE: kernel/power/tuxonice_modules.c:318:
+		printk(KERN_ERR "Module '%s' has an invalid type."

WARNING:SPLIT_STRING: quoted string split across lines
#5085: FILE: kernel/power/tuxonice_modules.c:319:
+		printk(KERN_ERR "Module '%s' has an invalid type."
+			" It has been ignored.\n", module->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5112: FILE: kernel/power/tuxonice_modules.c:346:
+		printk(KERN_ERR "Module '%s' has an invalid type."

WARNING:SPLIT_STRING: quoted string split across lines
#5113: FILE: kernel/power/tuxonice_modules.c:347:
+		printk(KERN_ERR "Module '%s' has an invalid type."
+			" It has been ignored.\n", module->name);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5139: FILE: kernel/power/tuxonice_modules.c:373:
+			toi_message(TOI_MEMORY, TOI_MEDIUM, 1,
+				"Initialising module %s.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5167: FILE: kernel/power/tuxonice_modules.c:401:
+			toi_message(TOI_MEMORY, TOI_MEDIUM, 1,
+				"Cleaning up module %s.\n",

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'last_filter == filter_sought'
#5187: FILE: kernel/power/tuxonice_modules.c:421:
+		if ((last_filter == filter_sought) || (!filter_sought))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '!filter_sought'
#5187: FILE: kernel/power/tuxonice_modules.c:421:
+		if ((last_filter == filter_sought) || (!filter_sought))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5203: FILE: kernel/power/tuxonice_modules.c:437:
+	printk(KERN_INFO "TuxOnIce " TOI_CORE_VERSION ", with support for");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#5208: FILE: kernel/power/tuxonice_modules.c:442:
+		printk("%s %s%s%s", prev ? "," : "",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5209: FILE: kernel/power/tuxonice_modules.c:443:
+		printk("%s %s%s%s", prev ? "," : "",
+				this_module->enabled ? "" : "[",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#5215: FILE: kernel/power/tuxonice_modules.c:449:
+	printk(".\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5235: FILE: kernel/power/tuxonice_modules.c:469:
+		list_for_each_entry(this_module2, &toi_modules,
+				module_list) {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5262: FILE: kernel/power/tuxonice_modules.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#5263: FILE: kernel/power/tuxonice_modules.h:2:
+ * kernel/power/tuxonice_modules.h

WARNING:SPACING: Unnecessary space before function pointer arguments
#5321: FILE: kernel/power/tuxonice_modules.h:60:
+	int (*memory_needed) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5322: FILE: kernel/power/tuxonice_modules.h:61:
+	int (*storage_needed) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5326: FILE: kernel/power/tuxonice_modules.h:65:
+	int (*expected_compression) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5331: FILE: kernel/power/tuxonice_modules.h:70:
+	int (*print_debug_info) (char *buffer, int size);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5332: FILE: kernel/power/tuxonice_modules.h:71:
+	int (*save_config_info) (char *buffer);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5333: FILE: kernel/power/tuxonice_modules.h:72:
+	void (*load_config_info) (char *buffer, int len);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5339: FILE: kernel/power/tuxonice_modules.h:78:
+	int (*initialise) (int starting_cycle);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5340: FILE: kernel/power/tuxonice_modules.h:79:
+	void (*cleanup) (int finishing_cycle);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5352: FILE: kernel/power/tuxonice_modules.h:91:
+	int (*storage_available) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5353: FILE: kernel/power/tuxonice_modules.h:92:
+	void (*reserve_header_space) (int space_requested);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5354: FILE: kernel/power/tuxonice_modules.h:93:
+	int (*allocate_storage) (int space_requested);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5355: FILE: kernel/power/tuxonice_modules.h:94:
+	int (*storage_allocated) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5360: FILE: kernel/power/tuxonice_modules.h:99:
+	int (*rw_init) (int rw, int stream_number);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5361: FILE: kernel/power/tuxonice_modules.h:100:
+	int (*rw_cleanup) (int rw);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5362: FILE: kernel/power/tuxonice_modules.h:101:
+	int (*write_page) (unsigned long index, struct page *buffer_page,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5363: FILE: kernel/power/tuxonice_modules.h:102:
+	int (*write_page) (unsigned long index, struct page *buffer_page,
+			unsigned int buf_size);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5364: FILE: kernel/power/tuxonice_modules.h:103:
+	int (*read_page) (unsigned long *index, struct page *buffer_page,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5365: FILE: kernel/power/tuxonice_modules.h:104:
+	int (*read_page) (unsigned long *index, struct page *buffer_page,
+			unsigned int *buf_size);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5366: FILE: kernel/power/tuxonice_modules.h:105:
+	int (*io_flusher) (int rw);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5369: FILE: kernel/power/tuxonice_modules.h:108:
+	void (*noresume_reset) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5372: FILE: kernel/power/tuxonice_modules.h:111:
+	int (*write_header_init) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5373: FILE: kernel/power/tuxonice_modules.h:112:
+	int (*write_header_cleanup) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5375: FILE: kernel/power/tuxonice_modules.h:114:
+	int (*read_header_init) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5376: FILE: kernel/power/tuxonice_modules.h:115:
+	int (*read_header_cleanup) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5378: FILE: kernel/power/tuxonice_modules.h:117:
+	int (*rw_header_chunk) (int rw, struct toi_module_ops *owner,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5379: FILE: kernel/power/tuxonice_modules.h:118:
+	int (*rw_header_chunk) (int rw, struct toi_module_ops *owner,
+			char *buffer_start, int buffer_size);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5381: FILE: kernel/power/tuxonice_modules.h:120:
+	int (*rw_header_chunk_noreadahead) (int rw,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5382: FILE: kernel/power/tuxonice_modules.h:121:
+	int (*rw_header_chunk_noreadahead) (int rw,
+			struct toi_module_ops *owner, char *buffer_start,

WARNING:SPACING: Unnecessary space before function pointer arguments
#5386: FILE: kernel/power/tuxonice_modules.h:125:
+	int (*parse_sig_location) (char *buffer, int only_writer, int quiet);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5389: FILE: kernel/power/tuxonice_modules.h:128:
+	void (*update_throughput_throttle) (int jif_index);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5392: FILE: kernel/power/tuxonice_modules.h:131:
+	int (*finish_all_io) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5395: FILE: kernel/power/tuxonice_modules.h:134:
+	int (*image_exists) (int quiet);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5398: FILE: kernel/power/tuxonice_modules.h:137:
+	int (*mark_resume_attempted) (int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#5398: FILE: kernel/power/tuxonice_modules.h:137:
+	int (*mark_resume_attempted) (int);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:SPACING: Unnecessary space before function pointer arguments
#5401: FILE: kernel/power/tuxonice_modules.h:140:
+	int (*remove_image) (void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5413: FILE: kernel/power/tuxonice_modules.h:152:
+extern void toi_prepare_console_modules(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5414: FILE: kernel/power/tuxonice_modules.h:153:
+extern void toi_cleanup_console_modules(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5416: FILE: kernel/power/tuxonice_modules.h:155:
+extern struct toi_module_ops *toi_find_module_given_name(char *name);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5417: FILE: kernel/power/tuxonice_modules.h:156:
+extern struct toi_module_ops *toi_get_next_filter(struct toi_module_ops *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct toi_module_ops *' should also have an identifier name
#5417: FILE: kernel/power/tuxonice_modules.h:156:
+extern struct toi_module_ops *toi_get_next_filter(struct toi_module_ops *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5419: FILE: kernel/power/tuxonice_modules.h:158:
+extern int toi_register_module(struct toi_module_ops *module);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5420: FILE: kernel/power/tuxonice_modules.h:159:
+extern void toi_move_module_tail(struct toi_module_ops *module);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5422: FILE: kernel/power/tuxonice_modules.h:161:
+extern long toi_header_storage_for_modules(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5423: FILE: kernel/power/tuxonice_modules.h:162:
+extern long toi_memory_for_modules(int print_parts);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5424: FILE: kernel/power/tuxonice_modules.h:163:
+extern void print_toi_header_storage_for_modules(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5425: FILE: kernel/power/tuxonice_modules.h:164:
+extern int toi_expected_compression_ratio(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5427: FILE: kernel/power/tuxonice_modules.h:166:
+extern int toi_print_module_debug_info(char *buffer, int buffer_size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5428: FILE: kernel/power/tuxonice_modules.h:167:
+extern int toi_register_module(struct toi_module_ops *module);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5429: FILE: kernel/power/tuxonice_modules.h:168:
+extern void toi_unregister_module(struct toi_module_ops *module);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5431: FILE: kernel/power/tuxonice_modules.h:170:
+extern int toi_initialise_modules(int starting_cycle, int early);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5436: FILE: kernel/power/tuxonice_modules.h:175:
+extern void toi_cleanup_modules(int finishing_cycle);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5438: FILE: kernel/power/tuxonice_modules.h:177:
+extern void toi_print_modules(void);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5449: FILE: kernel/power/tuxonice_netlink.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#5450: FILE: kernel/power/tuxonice_netlink.h:2:
+ * kernel/power/tuxonice_netlink.h

WARNING:SPACING: Unnecessary space before function pointer arguments
#5473: FILE: kernel/power/tuxonice_netlink.h:25:
+	int (*rcv_msg) (struct sk_buff *skb, struct nlmsghdr *nlh);

WARNING:SPACING: Unnecessary space before function pointer arguments
#5474: FILE: kernel/power/tuxonice_netlink.h:26:
+	void (*not_ready) (void);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5497: FILE: kernel/power/tuxonice_netlink.h:49:
+void toi_send_netlink_message(struct user_helper_data *uhd,
+		int type, void *params, size_t len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5507: FILE: kernel/power/tuxonice_netlink.h:59:
+static inline void toi_send_netlink_message(struct user_helper_data *uhd,
+		int type, void *params, size_t len) { };

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5517: FILE: kernel/power/tuxonice_pagedir.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#5518: FILE: kernel/power/tuxonice_pagedir.c:2:
+ * kernel/power/tuxonice_pagedir.c

CHECK:SPACING: No space is necessary after a cast
#5568: FILE: kernel/power/tuxonice_pagedir.c:52:
+			*((struct page **) kmap(first_conflicting_page));

WARNING:LINE_SPACING: Missing a blank line after declarations
#5585: FILE: kernel/power/tuxonice_pagedir.c:69:
+	gfp_t flags = TOI_ATOMIC_GFP;
+	if (can_be_highmem)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5588: FILE: kernel/power/tuxonice_pagedir.c:72:
+
+

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'ptoi_pfn != BM_END_OF_MAP'
#5589: FILE: kernel/power/tuxonice_pagedir.c:73:
+	if (test_toi_state(TOI_LOADING_ALT_IMAGE) &&
+			pageset2_map &&
+			(ptoi_pfn != BM_END_OF_MAP)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5590: FILE: kernel/power/tuxonice_pagedir.c:74:
+	if (test_toi_state(TOI_LOADING_ALT_IMAGE) &&
+			pageset2_map &&

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5606: FILE: kernel/power/tuxonice_pagedir.c:90:
+			printk(KERN_INFO "Failed to get nonconflicting "

WARNING:SPLIT_STRING: quoted string split across lines
#5607: FILE: kernel/power/tuxonice_pagedir.c:91:
+			printk(KERN_INFO "Failed to get nonconflicting "
+					"page.\n");

CHECK:SPACING: No space is necessary after a cast
#5611: FILE: kernel/power/tuxonice_pagedir.c:95:
+			struct page **next = (struct page **) kmap(page);

CHECK:SPACING: No space is necessary after a cast
#5624: FILE: kernel/power/tuxonice_pagedir.c:108:
+	return page ? (unsigned long) page_address(page) : 0;

WARNING:LINE_SPACING: Missing a blank line after declarations
#5624: FILE: kernel/power/tuxonice_pagedir.c:108:
+	struct page *page = ___toi_get_nonconflicting_page(0);
+	return page ? (unsigned long) page_address(page) : 0;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5628: FILE: kernel/power/tuxonice_pagedir.c:112:
+static struct pbe *get_next_pbe(struct page **page_ptr, struct pbe *this_pbe,
+		int highmem)

CHECK:SPACING: No space is necessary after a cast
#5630: FILE: kernel/power/tuxonice_pagedir.c:114:
+	if (((((unsigned long) this_pbe) & (PAGE_SIZE - 1))

CHECK:BRACES: braces {} should be used on all arms of this statement
#5630: FILE: kernel/power/tuxonice_pagedir.c:114:
+	if (((((unsigned long) this_pbe) & (PAGE_SIZE - 1))
[...]
+	} else
[...]

CHECK:SPACING: No space is necessary after a cast
#5636: FILE: kernel/power/tuxonice_pagedir.c:120:
+		this_pbe = (struct pbe *) kmap(new_page);

CHECK:BRACES: Unbalanced braces around else statement
#5639: FILE: kernel/power/tuxonice_pagedir.c:123:
+	} else

CHECK:SPACING: No space is necessary after a cast
#5704: FILE: kernel/power/tuxonice_pagedir.c:188:
+		this_high_pbe = (struct pbe *) kmap(high_pbe_page);

CHECK:SPACING: No space is necessary after a cast
#5713: FILE: kernel/power/tuxonice_pagedir.c:197:
+	this_low_pbe = (struct pbe *) page_address(low_pbe_page);

WARNING:LINE_SPACING: Missing a blank line after declarations
#5737: FILE: kernel/power/tuxonice_pagedir.c:221:
+		int is_high;
+		page = pfn_to_page(pfn);

WARNING:LINE_SPACING: Missing a blank line after declarations
#5783: FILE: kernel/power/tuxonice_pagedir.c:267:
+		int is_high;
+		page = pfn_to_page(pfn);

WARNING:LINE_SPACING: Missing a blank line after declarations
#5804: FILE: kernel/power/tuxonice_pagedir.c:288:
+			struct page *orig_page;
+			high_pbes_done++;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5809: FILE: kernel/power/tuxonice_pagedir.c:293:
+				BUG_ON(orig_high_pfn == BM_END_OF_MAP);

CHECK:BRACES: braces {} should be used on all arms of this statement
#5817: FILE: kernel/power/tuxonice_pagedir.c:301:
+			if (last_high_pbe_page != high_pbe_page) {
[...]
+			} else
[...]

CHECK:SPACING: No space is necessary after a cast
#5819: FILE: kernel/power/tuxonice_pagedir.c:303:
+					(struct pbe *) high_pbe_page;

CHECK:BRACES: Unbalanced braces around else statement
#5822: FILE: kernel/power/tuxonice_pagedir.c:306:
+			} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5830: FILE: kernel/power/tuxonice_pagedir.c:314:
+			this_high_pbe = get_next_pbe(&high_pbe_page,
+					this_high_pbe, 1);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5832: FILE: kernel/power/tuxonice_pagedir.c:316:
+				printk(KERN_INFO

WARNING:LINE_SPACING: Missing a blank line after declarations
#5838: FILE: kernel/power/tuxonice_pagedir.c:322:
+			struct page *orig_page;
+			low_pbes_done++;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5841: FILE: kernel/power/tuxonice_pagedir.c:325:
+				BUG_ON(orig_low_pfn == BM_END_OF_MAP);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5852: FILE: kernel/power/tuxonice_pagedir.c:336:
+			this_low_pbe = get_next_pbe(&low_pbe_page,
+					this_low_pbe, 0);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5854: FILE: kernel/power/tuxonice_pagedir.c:338:
+				printk(KERN_INFO "this_low_pbe is an error.\n");

CHECK:SPACING: No space is necessary after a cast
#5883: FILE: kernel/power/tuxonice_pagedir.c:367:
+	this_low_pbe->address = (char *) __toi_get_nonconflicting_page();

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5885: FILE: kernel/power/tuxonice_pagedir.c:369:
+		printk(KERN_INFO "Failed to get bkd atomic restore buffer.");

CHECK:SPACING: No space is necessary after a cast
#5893: FILE: kernel/power/tuxonice_pagedir.c:377:
+	this_low_pbe->orig_address = (char *) boot_kernel_data_buffer;

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5903: FILE: kernel/power/tuxonice_pagedir.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#5904: FILE: kernel/power/tuxonice_pagedir.h:2:
+ * kernel/power/tuxonice_pagedir.h

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#5931: FILE: kernel/power/tuxonice_pagedir.h:29:
+#define set_highmem_size(pagedir, sz) do { pagedir.size_high = sz; } while (0)

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#5932: FILE: kernel/power/tuxonice_pagedir.h:30:
+#define inc_highmem_size(pagedir) do { pagedir.size_high++; } while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pagedir' - possible side-effects?
#5933: FILE: kernel/power/tuxonice_pagedir.h:31:
+#define get_lowmem_size(pagedir) (pagedir.size - pagedir.size_high)

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5943: FILE: kernel/power/tuxonice_pagedir.h:41:
+extern void toi_copy_pageset1(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5945: FILE: kernel/power/tuxonice_pagedir.h:43:
+extern int toi_get_pageset1_load_addresses(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5947: FILE: kernel/power/tuxonice_pagedir.h:45:
+extern unsigned long __toi_get_nonconflicting_page(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5950: FILE: kernel/power/tuxonice_pagedir.h:48:
+extern void toi_reset_alt_image_pageset2_pfn(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#5951: FILE: kernel/power/tuxonice_pagedir.h:49:
+extern int add_boot_kernel_data_pbe(void);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5959: FILE: kernel/power/tuxonice_pageflags.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#5960: FILE: kernel/power/tuxonice_pageflags.c:2:
+ * kernel/power/tuxonice_pageflags.c

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5992: FILE: kernel/power/tuxonice_pageflags.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#5993: FILE: kernel/power/tuxonice_pageflags.h:2:
+ * kernel/power/tuxonice_pageflags.h

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6060: FILE: kernel/power/tuxonice_pageflags.h:69:
+extern void save_pageflags(struct memory_bitmap *pagemap);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6061: FILE: kernel/power/tuxonice_pageflags.h:70:
+extern int load_pageflags(struct memory_bitmap *pagemap);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6062: FILE: kernel/power/tuxonice_pageflags.h:71:
+extern int toi_pageflags_space_needed(void);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#6070: FILE: kernel/power/tuxonice_power_off.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#6071: FILE: kernel/power/tuxonice_power_off.c:2:
+ * kernel/power/tuxonice_power_off.c

WARNING:SPLIT_STRING: quoted string split across lines
#6136: FILE: kernel/power/tuxonice_power_off.c:67:
+			panic("Attempt to reload pagedir 2 failed. "
+					"Try rebooting.");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6166: FILE: kernel/power/tuxonice_power_off.c:97:
+		toi_cond_pause(1,
+			"Falling back to alternate power off method.");

WARNING:RETURN_VOID: void function return statements are not generally useful
#6181: FILE: kernel/power/tuxonice_power_off.c:112:
+	return;
+}

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros starting with if should be enclosed by a do - while loop to avoid possible if/else logic defects
#6183: FILE: kernel/power/tuxonice_power_off.c:114:
+#define CLOSE_FILE(file) \
+	if (file) { \
+		filp_close(file, NULL); file = NULL; \
+	}

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'file' - possible side-effects?
#6183: FILE: kernel/power/tuxonice_power_off.c:114:
+#define CLOSE_FILE(file) \
+	if (file) { \
+		filp_close(file, NULL); file = NULL; \
+	}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6199: FILE: kernel/power/tuxonice_power_off.c:130:
+static void open_file(char *format, char *arg, struct file **var, int mode,
+		char *desc)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6207: FILE: kernel/power/tuxonice_power_off.c:138:
+			printk(KERN_INFO "Failed to open %s file '%s' (%p).\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6208: FILE: kernel/power/tuxonice_power_off.c:139:
+			printk(KERN_INFO "Failed to open %s file '%s' (%p).\n",
+				desc, buf, *var);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6222: FILE: kernel/power/tuxonice_power_off.c:153:
+	open_file("/proc/acpi/button/%s/state", lid_state_file, &lid_file,
+			O_RDONLY, "lid");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6226: FILE: kernel/power/tuxonice_power_off.c:157:
+		open_file("/sys/class/rtc/%s/wakealarm", wake_alarm_dir,
+				&alarm_file, O_WRONLY, "alarm");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6229: FILE: kernel/power/tuxonice_power_off.c:160:
+		open_file("/sys/class/rtc/%s/since_epoch", wake_alarm_dir,
+				&epoch_file, O_RDONLY, "epoch");

CHECK:SPACING: No space is necessary after a cast
#6244: FILE: kernel/power/tuxonice_power_off.c:175:
+	size = vfs_read(lid_file, (char __user *) array, 25, &pos);

CHECK:SPACING: No space is necessary after a cast
#6245: FILE: kernel/power/tuxonice_power_off.c:176:
+	if ((int) size < 1) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6246: FILE: kernel/power/tuxonice_power_off.c:177:
+		printk(KERN_INFO "Failed to read lid state file (%d).\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6247: FILE: kernel/power/tuxonice_power_off.c:178:
+		printk(KERN_INFO "Failed to read lid state file (%d).\n",
+			(int) size);

CHECK:SPACING: No space is necessary after a cast
#6247: FILE: kernel/power/tuxonice_power_off.c:178:
+			(int) size);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6271: FILE: kernel/power/tuxonice_power_off.c:202:
+		printk(KERN_INFO "Error %d writing alarm value %s.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6272: FILE: kernel/power/tuxonice_power_off.c:203:
+		printk(KERN_INFO "Error %d writing alarm value %s.\n",
+				(int) size, buf);

CHECK:SPACING: No space is necessary after a cast
#6272: FILE: kernel/power/tuxonice_power_off.c:203:
+				(int) size, buf);

CHECK:SPACING: No space is necessary after a cast
#6293: FILE: kernel/power/tuxonice_power_off.c:224:
+		size_t size = vfs_read(epoch_file, (char __user *) array, 25,

CHECK:SPACING: No space is necessary after a cast
#6296: FILE: kernel/power/tuxonice_power_off.c:227:
+		if (((int) size) < 1)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6297: FILE: kernel/power/tuxonice_power_off.c:228:
+			printk(KERN_INFO "Failed to read epoch file (%d).\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6298: FILE: kernel/power/tuxonice_power_off.c:229:
+			printk(KERN_INFO "Failed to read epoch file (%d).\n",
+					(int) size);

CHECK:SPACING: No space is necessary after a cast
#6298: FILE: kernel/power/tuxonice_power_off.c:229:
+					(int) size);

CHECK:BRACES: Unbalanced braces around else statement
#6299: FILE: kernel/power/tuxonice_power_off.c:230:
+		else {

WARNING:LINE_SPACING: Missing a blank line after declarations
#6301: FILE: kernel/power/tuxonice_power_off.c:232:
+			unsigned long since_epoch;
+			if (!strict_strtoul(array, 0, &since_epoch)) {

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#6301: FILE: kernel/power/tuxonice_power_off.c:232:
+			if (!strict_strtoul(array, 0, &since_epoch)) {

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6322: FILE: kernel/power/tuxonice_power_off.c:253:
+	SYSFS_INT("post_wake_state", SYSFS_RW, &post_wake_state, -1, 5, 0,
+			NULL),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6325: FILE: kernel/power/tuxonice_power_off.c:256:
+	SYSFS_INT("did_suspend_to_both", SYSFS_READONLY, &did_suspend_to_both,
+		0, 0, 0, NULL)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#6356: FILE: kernel/power/tuxonice_power_off.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#6357: FILE: kernel/power/tuxonice_power_off.h:2:
+ * kernel/power/tuxonice_power_off.h

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6373: FILE: kernel/power/tuxonice_power_off.h:18:
+extern int platform_begin(int platform_mode);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6374: FILE: kernel/power/tuxonice_power_off.h:19:
+extern int platform_pre_snapshot(int platform_mode);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6375: FILE: kernel/power/tuxonice_power_off.h:20:
+extern void platform_leave(int platform_mode);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6376: FILE: kernel/power/tuxonice_power_off.h:21:
+extern void platform_end(int platform_mode);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6377: FILE: kernel/power/tuxonice_power_off.h:22:
+extern void platform_finish(int platform_mode);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6378: FILE: kernel/power/tuxonice_power_off.h:23:
+extern int platform_pre_restore(int platform_mode);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#6379: FILE: kernel/power/tuxonice_power_off.h:24:
+extern void platform_restore_cleanup(int platform_mode);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#6386: FILE: kernel/power/tuxonice_prepare_image.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#6387: FILE: kernel/power/tuxonice_prepare_image.c:2:
+ * kernel/power/tuxonice_prepare_image.c

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6473: FILE: kernel/power/tuxonice_prepare_image.c:88:
+			toi_kzalloc(6, sizeof(struct attention_list),
+					TOI_WAIT_GFP);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6475: FILE: kernel/power/tuxonice_prepare_image.c:90:
+			printk(KERN_INFO "Failed to allocate slab for "

WARNING:SPLIT_STRING: quoted string split across lines
#6476: FILE: kernel/power/tuxonice_prepare_image.c:91:
+			printk(KERN_INFO "Failed to allocate slab for "
+					"attention list.\n");

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#6526: FILE: kernel/power/tuxonice_prepare_image.c:141:
+ * ^I^I     as belonging to a particular pageset.$

CHECK:BRACES: braces {} should be used on all arms of this statement
#6561: FILE: kernel/power/tuxonice_prepare_image.c:176:
+			if (pageset2)
[...]
+			else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#6563: FILE: kernel/power/tuxonice_prepare_image.c:178:
+			else {

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#6590: FILE: kernel/power/tuxonice_prepare_image.c:205:
+
+}

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#6595: FILE: kernel/power/tuxonice_prepare_image.c:210:
+ * ^I^Ibeing able to be written out in a separate pagedir.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#6596: FILE: kernel/power/tuxonice_prepare_image.c:211:
+ * ^I^IHighMem pages are simply marked as pageset2. They won't be$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#6597: FILE: kernel/power/tuxonice_prepare_image.c:212:
+ * ^I^Ineeded during hibernate.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#6670: FILE: kernel/power/tuxonice_prepare_image.c:285:
+ * ^I^Icase where it is bigger than pagedir2.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#6672: FILE: kernel/power/tuxonice_prepare_image.c:287:
+ * Result:^Iint. ^INumber of extra pages we now have allocated.$

CHECK:SPACING: No space is necessary after a cast
#6694: FILE: kernel/power/tuxonice_prepare_image.c:309:
+		extras_entry = (struct extras *) toi_kzalloc(7,

WARNING:LINE_SPACING: Missing a blank line after declarations
#6751: FILE: kernel/power/tuxonice_prepare_image.c:366:
+			struct per_cpu_pages *pcp = &pset->pcp;
+			result += pcp->count;

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#6774: FILE: kernel/power/tuxonice_prepare_image.c:389:
+		extra_pd1_pages_allowance = max(

CHECK:SPACING: No space is necessary after a cast
#6776: FILE: kernel/power/tuxonice_prepare_image.c:391:
+			(long) MIN_EXTRA_PAGES_ALLOWANCE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6786: FILE: kernel/power/tuxonice_prepare_image.c:401:
+static long main_storage_needed(int use_ecr,
+		int ignore_extra_pd1_allow)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6887: FILE: kernel/power/tuxonice_prepare_image.c:502:
+	toi_message(TOI_EAT_MEMORY, TOI_LOW, 1,
+		"Amount still needed (%ld) > 0:%d,"

WARNING:SPLIT_STRING: quoted string split across lines
#6888: FILE: kernel/power/tuxonice_prepare_image.c:503:
+		"Amount still needed (%ld) > 0:%d,"
+		" Storage allocd: %ld < %ld: %d.\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6908: FILE: kernel/power/tuxonice_prepare_image.c:523:
+	printk(KERN_INFO "Failed to prepare the image because...\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6911: FILE: kernel/power/tuxonice_prepare_image.c:526:
+		printk(KERN_INFO "- You need some storage available to be "

WARNING:SPLIT_STRING: quoted string split across lines
#6912: FILE: kernel/power/tuxonice_prepare_image.c:527:
+		printk(KERN_INFO "- You need some storage available to be "
+				"able to hibernate.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6917: FILE: kernel/power/tuxonice_prepare_image.c:532:
+		printk(KERN_INFO "- The maximum number of iterations was "

WARNING:SPLIT_STRING: quoted string split across lines
#6918: FILE: kernel/power/tuxonice_prepare_image.c:533:
+		printk(KERN_INFO "- The maximum number of iterations was "
+				"reached without successfully preparing the "

WARNING:SPLIT_STRING: quoted string split across lines
#6919: FILE: kernel/power/tuxonice_prepare_image.c:534:
+				"reached without successfully preparing the "
+				"image.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6922: FILE: kernel/power/tuxonice_prepare_image.c:537:
+		printk(KERN_INFO " - We need at least %ld pages of storage "

WARNING:SPLIT_STRING: quoted string split across lines
#6923: FILE: kernel/power/tuxonice_prepare_image.c:538:
+		printk(KERN_INFO " - We need at least %ld pages of storage "
+				"(ignoring the header), but only have %ld.\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6930: FILE: kernel/power/tuxonice_prepare_image.c:545:
+		printk(KERN_INFO " - We need %ld more free pages of low "

WARNING:SPLIT_STRING: quoted string split across lines
#6931: FILE: kernel/power/tuxonice_prepare_image.c:546:
+		printk(KERN_INFO " - We need %ld more free pages of low "
+				"memory.\n", ram_required);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6932: FILE: kernel/power/tuxonice_prepare_image.c:547:
+		printk(KERN_INFO "     Minimum free     : %8d\n", MIN_FREE_RAM);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6933: FILE: kernel/power/tuxonice_prepare_image.c:548:
+		printk(KERN_INFO "   + Reqd. by modules : %8ld\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6934: FILE: kernel/power/tuxonice_prepare_image.c:549:
+		printk(KERN_INFO "   + Reqd. by modules : %8ld\n",
+				toi_memory_for_modules(0));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6935: FILE: kernel/power/tuxonice_prepare_image.c:550:
+		printk(KERN_INFO "   + 2 * extra allow  : %8ld\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6936: FILE: kernel/power/tuxonice_prepare_image.c:551:
+		printk(KERN_INFO "   + 2 * extra allow  : %8ld\n",
+				2 * extra_pd1_pages_allowance);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6937: FILE: kernel/power/tuxonice_prepare_image.c:552:
+		printk(KERN_INFO "   - Currently free   : %8ld\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6938: FILE: kernel/power/tuxonice_prepare_image.c:553:
+		printk(KERN_INFO "   - Currently free   : %8ld\n",
+				real_nr_free_low_pages());

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6939: FILE: kernel/power/tuxonice_prepare_image.c:554:
+		printk(KERN_INFO "                      : ========\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6940: FILE: kernel/power/tuxonice_prepare_image.c:555:
+		printk(KERN_INFO "     Still needed     : %8ld\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6941: FILE: kernel/power/tuxonice_prepare_image.c:556:
+		printk(KERN_INFO "     Still needed     : %8ld\n",
+				ram_required);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6949: FILE: kernel/power/tuxonice_prepare_image.c:564:
+		printk(KERN_INFO "- We need to free %ld highmem pageset 1 "

WARNING:SPLIT_STRING: quoted string split across lines
#6950: FILE: kernel/power/tuxonice_prepare_image.c:565:
+		printk(KERN_INFO "- We need to free %ld highmem pageset 1 "
+				"pages.\n", high_ps1);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#6955: FILE: kernel/power/tuxonice_prepare_image.c:570:
+		printk(KERN_INFO " - We need to free %ld lowmem pageset 1 "

WARNING:SPLIT_STRING: quoted string split across lines
#6956: FILE: kernel/power/tuxonice_prepare_image.c:571:
+		printk(KERN_INFO " - We need to free %ld lowmem pageset 1 "
+				"pages.\n", low_ps1);

WARNING:LINE_SPACING: Missing a blank line after declarations
#6964: FILE: kernel/power/tuxonice_prepare_image.c:579:
+	char buffer[255];
+	snprintf(buffer, 254,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6965: FILE: kernel/power/tuxonice_prepare_image.c:580:
+	snprintf(buffer, 254,
+		"Free:%ld(%ld). Sets:%ld(%ld),%ld(%ld). "

WARNING:SPLIT_STRING: quoted string split across lines
#6966: FILE: kernel/power/tuxonice_prepare_image.c:581:
+		"Free:%ld(%ld). Sets:%ld(%ld),%ld(%ld). "
+		"Nosave:%ld-%ld=%ld. Storage:%lu/%lu(%lu=>%lu). "

WARNING:SPLIT_STRING: quoted string split across lines
#6967: FILE: kernel/power/tuxonice_prepare_image.c:582:
+		"Nosave:%ld-%ld=%ld. Storage:%lu/%lu(%lu=>%lu). "
+		"Needed:%ld,%ld,%ld(%d,%ld,%ld,%ld) (PS2:%s)\n",

CHECK:SPACING: No space is necessary after a cast
#6991: FILE: kernel/power/tuxonice_prepare_image.c:606:
+		extra_pd1_pages_allowance, ((long) image_size_limit) << 8,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#6996: FILE: kernel/power/tuxonice_prepare_image.c:611:
+		printk("%s", buffer);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#7004: FILE: kernel/power/tuxonice_prepare_image.c:619:
+ * ^I^Ilists used by the memory manager. We then use the bitmap$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#7005: FILE: kernel/power/tuxonice_prepare_image.c:620:
+ * ^I^Ito quickly calculate which pages to save and in which$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#7006: FILE: kernel/power/tuxonice_prepare_image.c:621:
+ * ^I^Ipagesets.$

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#7019: FILE: kernel/power/tuxonice_prepare_image.c:634:
+			ClearPageNosaveFree(pfn_to_page(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7024: FILE: kernel/power/tuxonice_prepare_image.c:639:
+			list_for_each(curr,
+					&zone->free_area[order].free_list[t]) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7028: FILE: kernel/power/tuxonice_prepare_image.c:643:
+				pfn = page_to_pfn(list_entry(curr, struct page,
+							lru));

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#7050: FILE: kernel/power/tuxonice_prepare_image.c:665:
+ * ^I^Iincluding this one.$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7149: FILE: kernel/power/tuxonice_prepare_image.c:764:
+		toi_message(TOI_EAT_MEMORY, TOI_MEDIUM, 0,
+			"Count data pages: Set1 (%d) + Set2 (%d) + Nosave (%ld)"

WARNING:SPLIT_STRING: quoted string split across lines
#7150: FILE: kernel/power/tuxonice_prepare_image.c:765:
+			"Count data pages: Set1 (%d) + Set2 (%d) + Nosave (%ld)"
+						" + NumFree (%d) = %d.\n",

WARNING:LINE_SPACING: Missing a blank line after declarations
#7160: FILE: kernel/power/tuxonice_prepare_image.c:775:
+		unsigned long pfn;
+		memory_bm_position_reset(pageset2_map);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7192: FILE: kernel/power/tuxonice_prepare_image.c:807:
+			toi_message(TOI_EAT_MEMORY, TOI_LOW, 1,
+				"Want %d extra pages for pageset1, got %d.\n",

WARNING:SPLIT_STRING: quoted string split across lines
#7251: FILE: kernel/power/tuxonice_prepare_image.c:866:
+	toi_prepare_status(CLEAR_BAR, "Freezing processes & syncing "
+			"filesystems.");

WARNING:TYPO_SPELLING: 'specificied' may be misspelled - perhaps 'specified'?
#7271: FILE: kernel/power/tuxonice_prepare_image.c:886:
+ * - User specificied image size limit.
           ^^^^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7308: FILE: kernel/power/tuxonice_prepare_image.c:923:
+	if (amount_wanted > 0 && !test_result_state(TOI_ABORTED) &&
+			image_size_limit != -1) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7312: FILE: kernel/power/tuxonice_prepare_image.c:927:
+		toi_prepare_status(CLEAR_BAR,
+				"Seeking to free %ldMB of memory.",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#7329: FILE: kernel/power/tuxonice_prepare_image.c:944:
+		printk("Asked shrink_all_memory for %ld pages, got %ld.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7330: FILE: kernel/power/tuxonice_prepare_image.c:945:
+		printk("Asked shrink_all_memory for %ld pages, got %ld.\n",
+				request, request - amount_wanted);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#7374: FILE: kernel/power/tuxonice_prepare_image.c:989:
+		printk(KERN_INFO "No storage available. Didn't try to prepare "

WARNING:SPLIT_STRING: quoted string split across lines
#7375: FILE: kernel/power/tuxonice_prepare_image.c:990:
+		printk(KERN_INFO "No storage available. Didn't try to prepare "
+				"an image.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7391: FILE: kernel/power/tuxonice_prepare_image.c:1006:
+		toi_prepare_status(CLEAR_BAR,
+				"Preparing Image. Try %d.", tries);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7412: FILE: kernel/power/tuxonice_prepare_image.c:1027:
+			abort_hibernate(TOI_UNABLE_TO_PREPARE_IMAGE,
+				"Unable to successfully prepare the image.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7416: FILE: kernel/power/tuxonice_prepare_image.c:1031:
+			if (!need_pageset2() &&
+				  test_action_state(TOI_NO_PS2_IF_UNNEEDED)) {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#7434: FILE: kernel/power/tuxonice_prepare_image.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#7435: FILE: kernel/power/tuxonice_prepare_image.h:2:
+ * kernel/power/tuxonice_prepare_image.h

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#7445: FILE: kernel/power/tuxonice_prepare_image.h:12:
+extern int toi_prepare_image(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#7446: FILE: kernel/power/tuxonice_prepare_image.h:13:
+extern void toi_recalculate_image_contents(int storage_available);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#7447: FILE: kernel/power/tuxonice_prepare_image.h:14:
+extern long real_nr_free_pages(unsigned long zone_idx_mask);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#7449: FILE: kernel/power/tuxonice_prepare_image.h:16:
+extern void toi_free_extra_pagedir_memory(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#7451: FILE: kernel/power/tuxonice_prepare_image.h:18:
+extern void free_attention_list(void);

CHECK:SPACING: No space is necessary after a cast
#7456: FILE: kernel/power/tuxonice_prepare_image.h:23:
+#define all_zones_mask ((unsigned long) ((1 << MAX_NR_ZONES) - 1))

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#7476: FILE: kernel/power/tuxonice_storage.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#7477: FILE: kernel/power/tuxonice_storage.h:2:
+ * kernel/power/tuxonice_storage.h

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#7517: FILE: kernel/power/tuxonice_sysfs.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#7518: FILE: kernel/power/tuxonice_sysfs.c:2:
+ * kernel/power/tuxonice_sysfs.c

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7551: FILE: kernel/power/tuxonice_sysfs.c:35:
+static ssize_t toi_attr_show(struct kobject *kobj, struct attribute *attr,
+			      char *page)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (sysfs_data->data.special.read_sysfs)
#7566: FILE: kernel/power/tuxonice_sysfs.c:50:
+			(sysfs_data->data.special.read_sysfs)(page, PAGE_SIZE)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7571: FILE: kernel/power/tuxonice_sysfs.c:55:
+		len = sprintf(page, "%d\n",
+			-test_bit(sysfs_data->data.bit.bit,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7576: FILE: kernel/power/tuxonice_sysfs.c:60:
+		len = sprintf(page, "%d\n",
+			*(sysfs_data->data.integer.variable));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around sysfs_data->data.integer.variable
#7576: FILE: kernel/power/tuxonice_sysfs.c:60:
+			*(sysfs_data->data.integer.variable));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7580: FILE: kernel/power/tuxonice_sysfs.c:64:
+		len = sprintf(page, "%ld\n",
+			*(sysfs_data->data.a_long.variable));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around sysfs_data->data.a_long.variable
#7580: FILE: kernel/power/tuxonice_sysfs.c:64:
+			*(sysfs_data->data.a_long.variable));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7584: FILE: kernel/power/tuxonice_sysfs.c:68:
+		len = sprintf(page, "%lu\n",
+			*(sysfs_data->data.ul.variable));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around sysfs_data->data.ul.variable
#7584: FILE: kernel/power/tuxonice_sysfs.c:68:
+			*(sysfs_data->data.ul.variable));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7588: FILE: kernel/power/tuxonice_sysfs.c:72:
+		len = sprintf(page, "%s\n",
+			sysfs_data->data.string.variable);

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_variable' - possible side-effects?
#7601: FILE: kernel/power/tuxonice_sysfs.c:85:
+#define BOUND(_variable, _type) do { \
+	if (*_variable < sysfs_data->data._type.minimum) \
+		*_variable = sysfs_data->data._type.minimum; \
+	else if (*_variable > sysfs_data->data._type.maximum) \
+		*_variable = sysfs_data->data._type.maximum; \
+} while (0)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument '_variable' may be better as '(_variable)' to avoid precedence issues
#7601: FILE: kernel/power/tuxonice_sysfs.c:85:
+#define BOUND(_variable, _type) do { \
+	if (*_variable < sysfs_data->data._type.minimum) \
+		*_variable = sysfs_data->data._type.minimum; \
+	else if (*_variable > sysfs_data->data._type.maximum) \
+		*_variable = sysfs_data->data._type.maximum; \
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_type' - possible side-effects?
#7601: FILE: kernel/power/tuxonice_sysfs.c:85:
+#define BOUND(_variable, _type) do { \
+	if (*_variable < sysfs_data->data._type.minimum) \
+		*_variable = sysfs_data->data._type.minimum; \
+	else if (*_variable > sysfs_data->data._type.maximum) \
+		*_variable = sysfs_data->data._type.maximum; \
+} while (0)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7609: FILE: kernel/power/tuxonice_sysfs.c:93:
+static ssize_t toi_attr_store(struct kobject *kobj, struct attribute *attr,
+		const char *my_buf, size_t count)

CHECK:SPACING: No space is necessary after a cast
#7617: FILE: kernel/power/tuxonice_sysfs.c:101:
+	((char *) my_buf)[count] = 0;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (sysfs_data->data.special.write_sysfs)
#7625: FILE: kernel/power/tuxonice_sysfs.c:109:
+			result = (sysfs_data->data.special.write_sysfs)(my_buf,

WARNING:LINE_SPACING: Missing a blank line after declarations
#7631: FILE: kernel/power/tuxonice_sysfs.c:115:
+		unsigned long value;
+		result = strict_strtoul(my_buf, 0, &value);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#7631: FILE: kernel/power/tuxonice_sysfs.c:115:
+		result = strict_strtoul(my_buf, 0, &value);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7639: FILE: kernel/power/tuxonice_sysfs.c:123:
+			clear_bit(sysfs_data->data.bit.bit,
+				(sysfs_data->data.bit.bit_vector));

WARNING:LINE_SPACING: Missing a blank line after declarations
#7645: FILE: kernel/power/tuxonice_sysfs.c:129:
+			long temp;
+			result = strict_strtol(my_buf, 0, &temp);

WARNING:CONSIDER_KSTRTO: strict_strtol is obsolete, use kstrtol instead
#7645: FILE: kernel/power/tuxonice_sysfs.c:129:
+			result = strict_strtol(my_buf, 0, &temp);

CHECK:SPACING: No space is necessary after a cast
#7648: FILE: kernel/power/tuxonice_sysfs.c:132:
+			*(sysfs_data->data.integer.variable) = (int) temp;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around sysfs_data->data.integer.variable
#7648: FILE: kernel/power/tuxonice_sysfs.c:132:
+			*(sysfs_data->data.integer.variable) = (int) temp;

WARNING:CONSIDER_KSTRTO: strict_strtol is obsolete, use kstrtol instead
#7656: FILE: kernel/power/tuxonice_sysfs.c:140:
+			result = strict_strtol(my_buf, 0, variable);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#7666: FILE: kernel/power/tuxonice_sysfs.c:150:
+			result = strict_strtoul(my_buf, 0, variable);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'copy_len > sysfs_data->data.string.max_length'
#7679: FILE: kernel/power/tuxonice_sysfs.c:163:
+			if (sysfs_data->data.string.max_length &&
+			    (copy_len > sysfs_data->data.string.max_length))

CHECK:SPACING: No space is necessary after a cast
#7684: FILE: kernel/power/tuxonice_sysfs.c:168:
+				variable = (char *) toi_get_zeroed_page(31,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7707: FILE: kernel/power/tuxonice_sysfs.c:191:
+		toi_free_page(31,
+			(unsigned long) sysfs_data->data.string.variable);

CHECK:SPACING: No space is necessary after a cast
#7707: FILE: kernel/power/tuxonice_sysfs.c:191:
+			(unsigned long) sysfs_data->data.string.variable);

WARNING:CONST_STRUCT: struct sysfs_ops should normally be const
#7719: FILE: kernel/power/tuxonice_sysfs.c:203:
+static struct sysfs_ops toi_sysfs_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7738: FILE: kernel/power/tuxonice_sysfs.c:222:
+	SYSFS_CUSTOM("do_hibernate", SYSFS_WRITEONLY, NULL, NULL,
+		SYSFS_HIBERNATING, toi_main_wrapper),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7740: FILE: kernel/power/tuxonice_sysfs.c:224:
+	SYSFS_CUSTOM("do_resume", SYSFS_WRITEONLY, NULL, NULL,
+		SYSFS_RESUMING, toi_try_resume)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#7756: FILE: kernel/power/tuxonice_sysfs.c:240:
+		printk(KERN_INFO "TuxOnIce: Can't allocate kobject for sysfs "

WARNING:SPLIT_STRING: quoted string split across lines
#7757: FILE: kernel/power/tuxonice_sysfs.c:241:
+		printk(KERN_INFO "TuxOnIce: Can't allocate kobject for sysfs "
+				"dir!\n");

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#7771: FILE: kernel/power/tuxonice_sysfs.c:255:
+int toi_register_sysfs_file(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#7782: FILE: kernel/power/tuxonice_sysfs.c:266:
+		printk(KERN_INFO "TuxOnIce: sysfs_create_file for %s "

WARNING:SPLIT_STRING: quoted string split across lines
#7783: FILE: kernel/power/tuxonice_sysfs.c:267:
+		printk(KERN_INFO "TuxOnIce: sysfs_create_file for %s "
+			"returned %d.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7796: FILE: kernel/power/tuxonice_sysfs.c:280:
+void toi_unregister_sysfs_file(struct kobject *kobj,
+		struct toi_sysfs_data *toi_sysfs_data)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#7856: FILE: kernel/power/tuxonice_sysfs.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#7857: FILE: kernel/power/tuxonice_sysfs.h:2:
+ * kernel/power/tuxonice_sysfs.h

WARNING:SPACING: Unnecessary space before function pointer arguments
#7895: FILE: kernel/power/tuxonice_sysfs.h:40:
+			int (*read_sysfs) (const char *buffer, int count);

WARNING:SPACING: Unnecessary space before function pointer arguments
#7896: FILE: kernel/power/tuxonice_sysfs.h:41:
+			int (*write_sysfs) (const char *buffer, int count);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#7902: FILE: kernel/power/tuxonice_sysfs.h:47:
+	 * resume= entry when it changes */

WARNING:SPACING: Unnecessary space before function pointer arguments
#7903: FILE: kernel/power/tuxonice_sysfs.h:48:
+	void (*write_side_effect) (void);

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#7922: FILE: kernel/power/tuxonice_sysfs.h:67:
+	.attr = {.name  = _name , .mode   = _mode }, \
 	                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#7928: FILE: kernel/power/tuxonice_sysfs.h:73:
+	.attr = {.name  = _name , .mode   = _mode }, \
 	                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#7936: FILE: kernel/power/tuxonice_sysfs.h:81:
+	.attr = {.name  = _name , .mode   = _mode }, \
 	                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#7943: FILE: kernel/power/tuxonice_sysfs.h:88:
+	.attr = {.name  = _name , .mode   = _mode }, \
 	                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#7950: FILE: kernel/power/tuxonice_sysfs.h:95:
+	.attr = {.name  = _name , .mode   = _mode }, \
 	                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#7957: FILE: kernel/power/tuxonice_sysfs.h:102:
+	.attr = {.name  = _name , .mode   = _mode }, \
 	                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#7964: FILE: kernel/power/tuxonice_sysfs.h:109:
+	.attr = {.name  = _name , .mode   = SYSFS_WRITEONLY }, \
 	                        ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#7978: FILE: kernel/power/tuxonice_sysfs.h:123:
+ (SYSFS_NEEDS_SM_FOR_READ | SYSFS_NEEDS_SM_FOR_WRITE)$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7981: FILE: kernel/power/tuxonice_sysfs.h:126:
+int toi_register_sysfs_file(struct kobject *kobj,
+		struct toi_sysfs_data *toi_sysfs_data);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#7983: FILE: kernel/power/tuxonice_sysfs.h:128:
+void toi_unregister_sysfs_file(struct kobject *kobj,
+		struct toi_sysfs_data *toi_sysfs_data);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#7989: FILE: kernel/power/tuxonice_sysfs.h:134:
+extern void toi_cleanup_sysfs(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#7991: FILE: kernel/power/tuxonice_sysfs.h:136:
+extern int toi_sysfs_init(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#7992: FILE: kernel/power/tuxonice_sysfs.h:137:
+extern void toi_sysfs_exit(void);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#7999: FILE: kernel/power/tuxonice_ui.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#8000: FILE: kernel/power/tuxonice_ui.c:2:
+ * kernel/power/tuxonice_ui.c

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8058: FILE: kernel/power/tuxonice_ui.c:60:
+ * ^I^IThe user may press C to continue booting, perhaps$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8059: FILE: kernel/power/tuxonice_ui.c:61:
+ * ^I^Iinvalidating the image,  or space to reboot.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8060: FILE: kernel/power/tuxonice_ui.c:62:
+ * ^I^IThis works from either the serial console or normally$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8061: FILE: kernel/power/tuxonice_ui.c:63:
+ * ^I^Iattached keyboard.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8063: FILE: kernel/power/tuxonice_ui.c:65:
+ * ^I^INote that we come in here from init, while the kernel is$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8064: FILE: kernel/power/tuxonice_ui.c:66:
+ * ^I^Ilocked. If we want to get events from the serial console,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8065: FILE: kernel/power/tuxonice_ui.c:67:
+ * ^I^Iwe need to temporarily unlock the kernel.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8067: FILE: kernel/power/tuxonice_ui.c:69:
+ * ^I^Itoi_early_boot_message may also be called post-boot.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8068: FILE: kernel/power/tuxonice_ui.c:70:
+ * ^I^IIn this case, it simply printks the message and returns.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8071: FILE: kernel/power/tuxonice_ui.c:73:
+ * ^I^Iint^Idefault_answer. What to do when we timeout. This$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8072: FILE: kernel/power/tuxonice_ui.c:74:
+ * ^I^I^Iwill normally be continue, but the user might$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8073: FILE: kernel/power/tuxonice_ui.c:75:
+ * ^I^I^Iprovide command line options (__setup) to override$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8074: FILE: kernel/power/tuxonice_ui.c:76:
+ * ^I^I^Iparticular cases.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#8075: FILE: kernel/power/tuxonice_ui.c:77:
+ * ^I^IChar *. Pointer to a string explaining why we're moaning.$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#8078: FILE: kernel/power/tuxonice_ui.c:80:
+#define say(message, a...) printk(KERN_EMERG message, ##a)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#8081: FILE: kernel/power/tuxonice_ui.c:83:
+void toi_early_boot_message(int message_detail, int default_answer,
+	char *warning_reason, ...)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#8102: FILE: kernel/power/tuxonice_ui.c:104:
+		printed_len = vsnprintf(local_printf_buf,
+				sizeof(local_printf_buf),

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#8109: FILE: kernel/power/tuxonice_ui.c:111:
+		printk("TuxOnIce: %s\n", local_printf_buf);

WARNING:SPLIT_STRING: quoted string split across lines
#8127: FILE: kernel/power/tuxonice_ui.c:129:
+			say("If you continue booting, note that any image WILL"
+				"NOT BE REMOVED.\nTuxOnIce is unable to do so "

WARNING:MISSING_SPACE: break quoted strings at a space character
#8127: FILE: kernel/power/tuxonice_ui.c:129:
+			say("If you continue booting, note that any image WILL"
+				"NOT BE REMOVED.\nTuxOnIce is unable to do so "

WARNING:SPLIT_STRING: quoted string split across lines
#8128: FILE: kernel/power/tuxonice_ui.c:130:
+				"NOT BE REMOVED.\nTuxOnIce is unable to do so "
+				"because the appropriate modules aren't\n"

WARNING:SPLIT_STRING: quoted string split across lines
#8130: FILE: kernel/power/tuxonice_ui.c:132:
+				"loaded. You should manually remove the image "
+				"to avoid any\npossibility of corrupting your "

WARNING:SPLIT_STRING: quoted string split across lines
#8131: FILE: kernel/power/tuxonice_ui.c:133:
+				"to avoid any\npossibility of corrupting your "
+				"filesystem(s) later.\n");

WARNING:SPLIT_STRING: quoted string split across lines
#8135: FILE: kernel/power/tuxonice_ui.c:137:
+			say("If you want to use the current TuxOnIce image, "
+				"reboot and try\nagain with the same kernel "

WARNING:SPLIT_STRING: quoted string split across lines
#8136: FILE: kernel/power/tuxonice_ui.c:138:
+				"reboot and try\nagain with the same kernel "
+				"that you hibernated from. If you want\n"

WARNING:SPLIT_STRING: quoted string split across lines
#8138: FILE: kernel/power/tuxonice_ui.c:140:
+				"to forget that image, continue and the image "
+				"will be erased.\n");

WARNING:SPLIT_STRING: quoted string split across lines
#8142: FILE: kernel/power/tuxonice_ui.c:144:
+		say("Press SPACE to reboot or C to continue booting with "
+			"this kernel\n\n");

WARNING:SPLIT_STRING: quoted string split across lines
#8145: FILE: kernel/power/tuxonice_ui.c:147:
+			say("Default action if you don't select one in %d "
+				"seconds is: %s.\n",

WARNING:SPLIT_STRING: quoted string split across lines
#8154: FILE: kernel/power/tuxonice_ui.c:156:
+			"Would you like to remove the image and boot "
+			"normally?\nThis will be equivalent to entering "

WARNING:SPLIT_STRING: quoted string split across lines
#8155: FILE: kernel/power/tuxonice_ui.c:157:
+			"normally?\nThis will be equivalent to entering "
+			"noresume on the\nkernel command line.\n\n"

WARNING:SPLIT_STRING: quoted string split across lines
#8157: FILE: kernel/power/tuxonice_ui.c:159:
+			"Press SPACE to remove the image or C to continue "
+			"resuming.\n\n");

WARNING:SPLIT_STRING: quoted string split across lines
#8160: FILE: kernel/power/tuxonice_ui.c:162:
+			say("Default action if you don't select one in %d "
+				"seconds is: %s.\n", toi_wait,

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '!continue_req'
#8177: FILE: kernel/power/tuxonice_ui.c:179:
+	if ((warning_reason) && (!continue_req))

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#8184: FILE: kernel/power/tuxonice_ui.c:186:
+}
+#undef say

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#8193: FILE: kernel/power/tuxonice_ui.c:195:
+	SYSFS_INT("default_console_level", SYSFS_RW,
+			&toi_bkd.toi_default_console_level, 0, 7, 0, NULL),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#8195: FILE: kernel/power/tuxonice_ui.c:197:
+	SYSFS_UL("debug_sections", SYSFS_RW, &toi_bkd.toi_debug_state, 0,
+			1 << 30, 0),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#8197: FILE: kernel/power/tuxonice_ui.c:199:
+	SYSFS_BIT("log_everything", SYSFS_RW, &toi_bkd.toi_action, TOI_LOGALL,
+			0)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#8214: FILE: kernel/power/tuxonice_ui.c:216:
+		printk(KERN_INFO "Only one TuxOnIce user interface module can "

WARNING:SPLIT_STRING: quoted string split across lines
#8215: FILE: kernel/power/tuxonice_ui.c:217:
+		printk(KERN_INFO "Only one TuxOnIce user interface module can "
+				"be loaded at a time.");

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#8251: FILE: kernel/power/tuxonice_ui.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#8252: FILE: kernel/power/tuxonice_ui.h:2:
+ * kernel/power/tuxonice_ui.h

WARNING:SPACING: Unnecessary space before function pointer arguments
#8290: FILE: kernel/power/tuxonice_ui.h:40:
+	char (*wait_for_key) (int timeout);

WARNING:SPACING: Unnecessary space before function pointer arguments
#8291: FILE: kernel/power/tuxonice_ui.h:41:
+	u32 (*update_status) (u32 value, u32 maximum, const char *fmt, ...);

WARNING:SPACING: Unnecessary space before function pointer arguments
#8292: FILE: kernel/power/tuxonice_ui.h:42:
+	void (*prepare_status) (int clearbar, const char *fmt, ...);

WARNING:SPACING: Unnecessary space before function pointer arguments
#8293: FILE: kernel/power/tuxonice_ui.h:43:
+	void (*cond_pause) (int pause, char *message);

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'max' - possible side-effects?
#8304: FILE: kernel/power/tuxonice_ui.h:54:
+#define toi_update_status(val, max, fmt, args...) \
+ (toi_current_ui ? (toi_current_ui->update_status) (val, max, fmt, ##args) : \
+	max)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#8305: FILE: kernel/power/tuxonice_ui.h:55:
+ (toi_current_ui ? (toi_current_ui->update_status) (val, max, fmt, ##args) : \$

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (toi_current_ui->update_status)
#8305: FILE: kernel/power/tuxonice_ui.h:55:
+ (toi_current_ui ? (toi_current_ui->update_status) (val, max, fmt, ##args) : \

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (toi_current_ui->post_atomic_restore)
#8310: FILE: kernel/power/tuxonice_ui.h:60:
+		(toi_current_ui->post_atomic_restore)(); \

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (toi_current_ui->prepare)
#8315: FILE: kernel/power/tuxonice_ui.h:65:
+		(toi_current_ui->prepare)(); \

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (toi_current_ui->cleanup)
#8320: FILE: kernel/power/tuxonice_ui.h:70:
+		(toi_current_ui->cleanup)(); \

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'result' - possible side-effects?
#8323: FILE: kernel/power/tuxonice_ui.h:73:
+#define abort_hibernate(result, fmt, args...) \
+	do { if (toi_current_ui) \
+		(toi_current_ui->abort)(result, fmt, ##args); \
+	     else { \
+		set_abort_result(result); \
+	     } \
+	} while (0)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (toi_current_ui->abort)
#8325: FILE: kernel/power/tuxonice_ui.h:75:
+		(toi_current_ui->abort)(result, fmt, ##args); \

WARNING:TABSTOP: Statements should start on a tabstop
#8326: FILE: kernel/power/tuxonice_ui.h:76:
+	     else { \

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (toi_current_ui->cond_pause)
#8333: FILE: kernel/power/tuxonice_ui.h:83:
+		(toi_current_ui->cond_pause)(pause, message); \

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'fmt' - possible side-effects?
#8336: FILE: kernel/power/tuxonice_ui.h:86:
+#define toi_prepare_status(clear, fmt, args...) \
+	do { if (toi_current_ui) \
+		(toi_current_ui->prepare_status)(clear, fmt, ##args); \
+	     else \
+		printk(KERN_ERR fmt "%s", ##args, "\n"); \
+	} while (0)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (toi_current_ui->prepare_status)
#8338: FILE: kernel/power/tuxonice_ui.h:88:
+		(toi_current_ui->prepare_status)(clear, fmt, ##args); \

WARNING:TABSTOP: Statements should start on a tabstop
#8339: FILE: kernel/power/tuxonice_ui.h:89:
+	     else \

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#8340: FILE: kernel/power/tuxonice_ui.h:90:
+		printk(KERN_ERR fmt "%s", ##args, "\n"); \

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'sn' - possible side-effects?
#8343: FILE: kernel/power/tuxonice_ui.h:93:
+#define toi_message(sn, lev, log, fmt, a...) \
+do { \
+	if (toi_current_ui && (!sn || test_debug_state(sn))) \
+		toi_current_ui->message(sn, lev, log, fmt, ##a); \
+} while (0)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'sn' may be better as '(sn)' to avoid precedence issues
#8343: FILE: kernel/power/tuxonice_ui.h:93:
+#define toi_message(sn, lev, log, fmt, a...) \
+do { \
+	if (toi_current_ui && (!sn || test_debug_state(sn))) \
+		toi_current_ui->message(sn, lev, log, fmt, ##a); \
+} while (0)

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#8350: FILE: kernel/power/tuxonice_ui.h:100:
+extern int toi_ui_init(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#8351: FILE: kernel/power/tuxonice_ui.h:101:
+extern void toi_ui_exit(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#8352: FILE: kernel/power/tuxonice_ui.h:102:
+extern int toi_register_ui_ops(struct ui_ops *this_ui);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#8353: FILE: kernel/power/tuxonice_ui.h:103:
+extern void toi_remove_ui_ops(struct ui_ops *this_ui);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000129173.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 12 errors, 402 warnings, 397 checks, 8066 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000129173.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
