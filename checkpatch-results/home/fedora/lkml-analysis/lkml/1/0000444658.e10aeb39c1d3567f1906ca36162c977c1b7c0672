CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#128: FILE: drivers/scsi/qla2xxx/qla_init.c:1428:
+		qla_printk(KERN_WARNING, ha,
+		    "Reload the driver with the ql2xoverrideinvalidnvram \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#128: FILE: drivers/scsi/qla2xxx/qla_init.c:1428:
+		    "Reload the driver with the ql2xoverrideinvalidnvram \n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#130: FILE: drivers/scsi/qla2xxx/qla_init.c:1430:
+		qla_printk(KERN_WARNING, ha,
+		    " module parameter set to a non-zero value to ignore \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#130: FILE: drivers/scsi/qla2xxx/qla_init.c:1430:
+		    " module parameter set to a non-zero value to ignore \n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#132: FILE: drivers/scsi/qla2xxx/qla_init.c:1432:
+		qla_printk(KERN_WARNING, ha,
+		    " this warning.\n");

WARNING:SPLIT_STRING: quoted string split across lines
#148: FILE: drivers/scsi/qla2xxx/qla_init.c:1487:
+		qla_printk(KERN_WARNING, ha, "Falling back to functioning (yet "
+		    "invalid -- WWPN) defaults.\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#161: FILE: drivers/scsi/qla2xxx/qla_init.c:1500:
+			nv->frame_payload_size = __constant_cpu_to_le16(2048);

Use of __constant_<foo> form is discouraged for the following functions::

  __constant_cpu_to_be[x]
  __constant_cpu_to_le[x]
  __constant_be[x]_to_cpu
  __constant_le[x]_to_cpu
  __constant_htons
  __constant_ntohs

Using any of these outside of include/uapi/ is not preferred as using the
function without __constant_ is identical when the argument is a
constant.

In big endian systems, the macros like __constant_cpu_to_be32(x) and
cpu_to_be32(x) expand to the same expression::

  #define __constant_cpu_to_be32(x) ((__force __be32)(__u32)(x))
  #define __cpu_to_be32(x)          ((__force __be32)(__u32)(x))

In little endian systems, the macros __constant_cpu_to_be32(x) and
cpu_to_be32(x) expand to __constant_swab32 and __swab32.  __swab32
has a __builtin_constant_p check::

  #define __swab32(x)				\
    (__builtin_constant_p((__u32)(x)) ?	\
    ___constant_swab32(x) :			\
    __fswab32(x))

So ultimately they have a special case for constants.
Similar is the case with all of the macros in the list.  Thus
using the __constant_... forms are unnecessarily verbose and
not preferred outside of include/uapi.

See: https://lore.kernel.org/lkml/1400106425.12666.6.camel@joe-AO725/

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#168: FILE: drivers/scsi/qla2xxx/qla_init.c:1507:
+			nv->frame_payload_size = __constant_cpu_to_le16(1024);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#172: FILE: drivers/scsi/qla2xxx/qla_init.c:1511:
+			nv->frame_payload_size = __constant_cpu_to_le16(1024);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#175: FILE: drivers/scsi/qla2xxx/qla_init.c:1514:
+		nv->max_iocb_allocation = __constant_cpu_to_le16(256);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#176: FILE: drivers/scsi/qla2xxx/qla_init.c:1515:
+		nv->execution_throttle = __constant_cpu_to_le16(16);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#194: FILE: drivers/scsi/qla2xxx/qla_init.c:1533:
+		nv->max_luns_per_target = __constant_cpu_to_le16(8);

WARNING:SPLIT_STRING: quoted string split across lines
#236: FILE: drivers/scsi/qla2xxx/qla_init.c:3451:
+		qla_printk(KERN_WARNING, ha, "Falling back to functioning (yet "
+		    "invalid -- WWPN) defaults.\n");

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#242: FILE: drivers/scsi/qla2xxx/qla_init.c:3457:
+		nv->nvram_version = __constant_cpu_to_le16(ICB_VERSION);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#243: FILE: drivers/scsi/qla2xxx/qla_init.c:3458:
+		nv->version = __constant_cpu_to_le16(ICB_VERSION);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#244: FILE: drivers/scsi/qla2xxx/qla_init.c:3459:
+		nv->frame_payload_size = __constant_cpu_to_le16(2048);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#245: FILE: drivers/scsi/qla2xxx/qla_init.c:3460:
+		nv->execution_throttle = __constant_cpu_to_le16(0xFFFF);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#246: FILE: drivers/scsi/qla2xxx/qla_init.c:3461:
+		nv->exchange_count = __constant_cpu_to_le16(0);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#247: FILE: drivers/scsi/qla2xxx/qla_init.c:3462:
+		nv->hard_address = __constant_cpu_to_le16(124);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#265: FILE: drivers/scsi/qla2xxx/qla_init.c:3480:
+		nv->login_retry_count = __constant_cpu_to_le16(8);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#266: FILE: drivers/scsi/qla2xxx/qla_init.c:3481:
+		nv->interrupt_delay_timer = __constant_cpu_to_le16(0);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#267: FILE: drivers/scsi/qla2xxx/qla_init.c:3482:
+		nv->login_timeout = __constant_cpu_to_le16(0);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#269: FILE: drivers/scsi/qla2xxx/qla_init.c:3484:
+		    __constant_cpu_to_le32(BIT_14|BIT_13|BIT_2|BIT_1);
 		                                 ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#269: FILE: drivers/scsi/qla2xxx/qla_init.c:3484:
+		    __constant_cpu_to_le32(BIT_14|BIT_13|BIT_2|BIT_1);
 		                                        ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#269: FILE: drivers/scsi/qla2xxx/qla_init.c:3484:
+		    __constant_cpu_to_le32(BIT_14|BIT_13|BIT_2|BIT_1);
 		                                              ^

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le32 should be cpu_to_le32
#269: FILE: drivers/scsi/qla2xxx/qla_init.c:3484:
+		    __constant_cpu_to_le32(BIT_14|BIT_13|BIT_2|BIT_1);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le32 should be cpu_to_le32
#270: FILE: drivers/scsi/qla2xxx/qla_init.c:3485:
+		nv->firmware_options_2 = __constant_cpu_to_le32(2 << 4);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le32 should be cpu_to_le32
#271: FILE: drivers/scsi/qla2xxx/qla_init.c:3486:
+		nv->firmware_options_2 |= __constant_cpu_to_le32(BIT_12);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le32 should be cpu_to_le32
#272: FILE: drivers/scsi/qla2xxx/qla_init.c:3487:
+		nv->firmware_options_3 = __constant_cpu_to_le32(2 << 13);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#273: FILE: drivers/scsi/qla2xxx/qla_init.c:3488:
+		nv->host_p = __constant_cpu_to_le32(BIT_11|BIT_10);
 		                                          ^

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le32 should be cpu_to_le32
#273: FILE: drivers/scsi/qla2xxx/qla_init.c:3488:
+		nv->host_p = __constant_cpu_to_le32(BIT_11|BIT_10);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le32 should be cpu_to_le32
#274: FILE: drivers/scsi/qla2xxx/qla_init.c:3489:
+		nv->efi_parameters = __constant_cpu_to_le32(0);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#276: FILE: drivers/scsi/qla2xxx/qla_init.c:3491:
+		nv->max_luns_per_target = __constant_cpu_to_le16(128);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#277: FILE: drivers/scsi/qla2xxx/qla_init.c:3492:
+		nv->port_down_retry_count = __constant_cpu_to_le16(30);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le16 should be cpu_to_le16
#278: FILE: drivers/scsi/qla2xxx/qla_init.c:3493:
+		nv->link_down_timeout = __constant_cpu_to_le16(30);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#291: FILE: drivers/scsi/qla2xxx/qla_os.c:94:
+module_param(ql2xoverrideinvalidnvram, int, S_IRUGO|S_IRUSR);
                                                    ^

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO|S_IRUSR' are not preferred. Consider using octal permissions '0444'.
#291: FILE: drivers/scsi/qla2xxx/qla_os.c:94:
+module_param(ql2xoverrideinvalidnvram, int, S_IRUGO|S_IRUSR);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#293: FILE: drivers/scsi/qla2xxx/qla_os.c:96:
+MODULE_PARM_DESC(ql2xoverrideinvalidnvram,
+		"When set and upon detecting an invalid or non-present "

WARNING:SPLIT_STRING: quoted string split across lines
#294: FILE: drivers/scsi/qla2xxx/qla_os.c:97:
+		"When set and upon detecting an invalid or non-present "
+		"NVRAM state, use doctored settings (potentially invalid) "

WARNING:SPLIT_STRING: quoted string split across lines
#295: FILE: drivers/scsi/qla2xxx/qla_os.c:98:
+		"NVRAM state, use doctored settings (potentially invalid) "
+		"to initialize the HBA.");

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000444658.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 31 warnings, 9 checks, 231 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000444658.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
