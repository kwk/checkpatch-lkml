WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#34: 
Subject: [PATCH 2.6.27.7-9-pae #7 SMP 1/1] networking tcp: Writing tcp socket be atomic

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#46: 
But it¡¯s more than pipe. The pipe can only be used by multi processes in a
      ^

ERROR:BAD_SIGN_OFF: Unrecognized email address: 'John Ye (Seeker) johny@asimco.com.cn'
#77: 
Signed-off-by: John Ye (Seeker) johny@asimco.com.cn

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#88: FILE: net/ipv4/tcp.c:825:
+       int atomic;     /* is atomic write? johnye. Feb 2, 2010 */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#97: FILE: net/ipv4/tcp.c:854:
+        /* for multi-seg data or too big chunk, no atomic. johnye. */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#98: FILE: net/ipv4/tcp.c:855:
+       atomic = tp->atomic_size;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#99: FILE: net/ipv4/tcp.c:856:
+        if(iovlen > 1 || iov->iov_len > atomic) atomic = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#99: FILE: net/ipv4/tcp.c:856:
+        if(iovlen > 1 || iov->iov_len > atomic) atomic = 0;$

ERROR:SPACING: space required before the open parenthesis '('
#99: FILE: net/ipv4/tcp.c:856:
+        if(iovlen > 1 || iov->iov_len > atomic) atomic = 0;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#99: FILE: net/ipv4/tcp.c:856:
+        if(iovlen > 1 || iov->iov_len > atomic) atomic = 0;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:CODE_INDENT: code indent should use tabs where possible
#108: FILE: net/ipv4/tcp.c:898:
+                       /* if atomic write. johnye */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#109: FILE: net/ipv4/tcp.c:899:
+                       if (atomic)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#109: FILE: net/ipv4/tcp.c:899:
+                       if (atomic)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (23, 31)
#109: FILE: net/ipv4/tcp.c:899:
+                       if (atomic)
+                               copy = seglen;

ERROR:CODE_INDENT: code indent should use tabs where possible
#110: FILE: net/ipv4/tcp.c:900:
+                               copy = seglen;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#110: FILE: net/ipv4/tcp.c:900:
+                               copy = seglen;$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (23, 31)
#113: FILE: net/ipv4/tcp.c:903:
                        if (skb_tailroom(skb) > 0) {
[...]
+                               if (copy > skb_tailroom(skb)) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#116: FILE: net/ipv4/tcp.c:905:
+                               /* consider atomic write, johnye */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#117: FILE: net/ipv4/tcp.c:906:
+                               if (copy > skb_tailroom(skb)) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#117: FILE: net/ipv4/tcp.c:906:
+                               if (copy > skb_tailroom(skb)) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (31, 39)
#117: FILE: net/ipv4/tcp.c:906:
+                               if (copy > skb_tailroom(skb)) {
+                                       if(atomic)

ERROR:CODE_INDENT: code indent should use tabs where possible
#118: FILE: net/ipv4/tcp.c:907:
+                                       if(atomic)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#118: FILE: net/ipv4/tcp.c:907:
+                                       if(atomic)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (39, 43)
#118: FILE: net/ipv4/tcp.c:907:
+                                       if(atomic)
+                                           goto skb_page_start;        /* q mark yet, johnye */

ERROR:SPACING: space required before the open parenthesis '('
#118: FILE: net/ipv4/tcp.c:907:
+                                       if(atomic)

ERROR:CODE_INDENT: code indent should use tabs where possible
#119: FILE: net/ipv4/tcp.c:908:
+                                           goto skb_page_start;        /* q mark yet, johnye */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#119: FILE: net/ipv4/tcp.c:908:
+                                           goto skb_page_start;        /* q mark yet, johnye */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#122: FILE: net/ipv4/tcp.c:911:
+                               }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#122: FILE: net/ipv4/tcp.c:911:
+                               }$

ERROR:CODE_INDENT: code indent should use tabs where possible
#127: FILE: net/ipv4/tcp.c:915:
+                               goto skb_page_done;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#127: FILE: net/ipv4/tcp.c:915:
+                               goto skb_page_done;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#128: FILE: net/ipv4/tcp.c:916:
+                       //} else {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#129: FILE: net/ipv4/tcp.c:917:
+                       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#129: FILE: net/ipv4/tcp.c:917:
+                       }$

ERROR:CODE_INDENT: code indent should use tabs where possible
#130: FILE: net/ipv4/tcp.c:918:
+                       skb_page_start:$

WARNING:INDENTED_LABEL: labels should not be indented
#130: FILE: net/ipv4/tcp.c:918:
+                       skb_page_start:

ERROR:CODE_INDENT: code indent should use tabs where possible
#131: FILE: net/ipv4/tcp.c:919:
+                       {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#131: FILE: net/ipv4/tcp.c:919:
+                       {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#141: FILE: net/ipv4/tcp.c:948:
+                               /* consider atomic write, johnye */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#142: FILE: net/ipv4/tcp.c:949:
+                               if (copy > PAGE_SIZE - off) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#142: FILE: net/ipv4/tcp.c:949:
+                               if (copy > PAGE_SIZE - off) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (31, 39)
#142: FILE: net/ipv4/tcp.c:949:
+                               if (copy > PAGE_SIZE - off) {
+                                       if (atomic && page) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#143: FILE: net/ipv4/tcp.c:950:
+                                       if (atomic && page) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#143: FILE: net/ipv4/tcp.c:950:
+                                       if (atomic && page) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (39, 48)
#143: FILE: net/ipv4/tcp.c:950:
+                                       if (atomic && page) {
+                                                put_page(page);

ERROR:CODE_INDENT: code indent should use tabs where possible
#144: FILE: net/ipv4/tcp.c:951:
+                                                put_page(page);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#144: FILE: net/ipv4/tcp.c:951:
+                                                put_page(page);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#145: FILE: net/ipv4/tcp.c:952:
+                                                TCP_PAGE(sk) = page = NULL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#145: FILE: net/ipv4/tcp.c:952:
+                                                TCP_PAGE(sk) = page = NULL;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#146: FILE: net/ipv4/tcp.c:953:
+                                                off = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#146: FILE: net/ipv4/tcp.c:953:
+                                                off = 0;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#147: FILE: net/ipv4/tcp.c:954:
+                                               merge = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#147: FILE: net/ipv4/tcp.c:954:
+                                               merge = 0;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#148: FILE: net/ipv4/tcp.c:955:
+                                       } else {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#148: FILE: net/ipv4/tcp.c:955:
+                                       } else {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (39, 47)
#148: FILE: net/ipv4/tcp.c:955:
+                                       } else {
+                                               copy = PAGE_SIZE - off;

ERROR:CODE_INDENT: code indent should use tabs where possible
#149: FILE: net/ipv4/tcp.c:956:
+                                               copy = PAGE_SIZE - off;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#149: FILE: net/ipv4/tcp.c:956:
+                                               copy = PAGE_SIZE - off;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#150: FILE: net/ipv4/tcp.c:957:
+                                       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#150: FILE: net/ipv4/tcp.c:957:
+                                       }$

ERROR:CODE_INDENT: code indent should use tabs where possible
#151: FILE: net/ipv4/tcp.c:958:
+                               }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#151: FILE: net/ipv4/tcp.c:958:
+                               }$

ERROR:CODE_INDENT: code indent should use tabs where possible
#159: FILE: net/ipv4/tcp.c:1000:
+                       skb_page_done:$

WARNING:INDENTED_LABEL: labels should not be indented
#159: FILE: net/ipv4/tcp.c:1000:
+                       skb_page_done:

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#166: FILE: net/ipv4/tcp.c:2051:
        switch (optname) {
[...]
+        case TCP_ATOMIC:

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#167: FILE: net/ipv4/tcp.c:2052:
        switch (optname) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#169: FILE: net/ipv4/tcp.c:2054:
+        case TCP_ATOMIC:$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#169: FILE: net/ipv4/tcp.c:2054:
+        case TCP_ATOMIC:$

ERROR:CODE_INDENT: code indent should use tabs where possible
#170: FILE: net/ipv4/tcp.c:2055:
+               if(val > 1024) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#170: FILE: net/ipv4/tcp.c:2055:
+               if(val > 1024) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#170: FILE: net/ipv4/tcp.c:2055:
+               if(val > 1024) {
+                       err = -EINVAL;

ERROR:SPACING: space required before the open parenthesis '('
#170: FILE: net/ipv4/tcp.c:2055:
+               if(val > 1024) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#171: FILE: net/ipv4/tcp.c:2056:
+                       err = -EINVAL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#171: FILE: net/ipv4/tcp.c:2056:
+                       err = -EINVAL;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#172: FILE: net/ipv4/tcp.c:2057:
+                       break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#172: FILE: net/ipv4/tcp.c:2057:
+                       break;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#173: FILE: net/ipv4/tcp.c:2058:
+               }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#173: FILE: net/ipv4/tcp.c:2058:
+               }$

ERROR:CODE_INDENT: code indent should use tabs where possible
#174: FILE: net/ipv4/tcp.c:2059:
+               tp->atomic_size = val;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#174: FILE: net/ipv4/tcp.c:2059:
+               tp->atomic_size = val;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#175: FILE: net/ipv4/tcp.c:2060:
+               break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#175: FILE: net/ipv4/tcp.c:2060:
+               break;$

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#184: FILE: net/ipv4/tcp.c:2319:
        switch (optname) {
+

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#186: FILE: net/ipv4/tcp.c:2321:
+       case TCP_ATOMIC:$

ERROR:CODE_INDENT: code indent should use tabs where possible
#187: FILE: net/ipv4/tcp.c:2322:
+               val = tp->atomic_size;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#187: FILE: net/ipv4/tcp.c:2322:
+               val = tp->atomic_size;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#188: FILE: net/ipv4/tcp.c:2323:
+               break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#188: FILE: net/ipv4/tcp.c:2323:
+               break;$

WARNING:TYPO_SPELLING: 'writting' may be misspelled - perhaps 'writing'?
#199: FILE: include/linux/tcp.h:100:
+#define        TCP_ATOMIC              20      /* atomic TCP socket writting */
                                                                     ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LONG_LINE_COMMENT: line length of 101 exceeds 100 columns
#208: FILE: include/linux/tcp.h:416:
+       u32                     atomic_size;    /* for atomic tcp socket write, johnye. Feb 2, 2010 */

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#208: FILE: include/linux/tcp.h:416:
+       u32                     atomic_size;    /* for atomic tcp socket write, johnye. Feb 2, 2010 */$

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000016095.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 42 errors, 46 warnings, 3 checks, 117 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000016095.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
