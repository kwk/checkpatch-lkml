WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#170: FILE: fs/logfs/logfs.h:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#171: FILE: fs/logfs/logfs.h:2:
+ * fs/logfs/logfs.h

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#184: FILE: fs/logfs/logfs.h:15:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#194: FILE: fs/logfs/logfs.h:25:
+
+

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#196: FILE: fs/logfs/logfs.h:27:
+#define LOGFS_LINK_MAX (1<<30)
                          ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:BIT_MACRO: Prefer using the BIT macro
#196: FILE: fs/logfs/logfs.h:27:
+#define LOGFS_LINK_MAX (1<<30)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#198: FILE: fs/logfs/logfs.h:29:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#212: FILE: fs/logfs/logfs.h:43:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#238: FILE: fs/logfs/logfs.h:69:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#254: FILE: fs/logfs/logfs.h:85:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#278: FILE: fs/logfs/logfs.h:109:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#294: FILE: fs/logfs/logfs.h:125:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#337: FILE: fs/logfs/logfs.h:168:
+	struct logfs_journal_entry s_retired[JE_LAST+1]; /* for journal scan */
 	                                            ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#338: FILE: fs/logfs/logfs.h:169:
+	struct logfs_journal_entry s_speculative[JE_LAST+1]; /* dito */
 	                                                ^

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#344: FILE: fs/logfs/logfs.h:175:
+	struct mutex s_w_mutex;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#354: FILE: fs/logfs/logfs.h:185:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#372: FILE: fs/logfs/logfs.h:203:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#373: FILE: fs/logfs/logfs.h:204:
+#define journal_for_each(__i) for (__i=0; __i<LOGFS_JOURNAL_SEGS; __i++)
                                       ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#373: FILE: fs/logfs/logfs.h:204:
+#define journal_for_each(__i) for (__i=0; __i<LOGFS_JOURNAL_SEGS; __i++)
                                              ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__i' - possible side-effects?
#373: FILE: fs/logfs/logfs.h:204:
+#define journal_for_each(__i) for (__i=0; __i<LOGFS_JOURNAL_SEGS; __i++)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#375: FILE: fs/logfs/logfs.h:206:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#383: FILE: fs/logfs/logfs.h:214:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#385: FILE: fs/logfs/logfs.h:216:
+extern struct inode_operations logfs_dir_iops;

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:CONST_STRUCT: struct file_operations should normally be const
#386: FILE: fs/logfs/logfs.h:217:
+extern struct file_operations logfs_dir_fops;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#389: FILE: fs/logfs/logfs.h:220:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#391: FILE: fs/logfs/logfs.h:222:
+extern struct inode_operations logfs_reg_iops;

WARNING:CONST_STRUCT: struct file_operations should normally be const
#392: FILE: fs/logfs/logfs.h:223:
+extern struct file_operations logfs_reg_fops;

WARNING:CONST_STRUCT: struct address_space_operations should normally be const
#393: FILE: fs/logfs/logfs.h:224:
+extern struct address_space_operations logfs_reg_aops;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#397: FILE: fs/logfs/logfs.h:228:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#403: FILE: fs/logfs/logfs.h:234:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#416: FILE: fs/logfs/logfs.h:247:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#422: FILE: fs/logfs/logfs.h:253:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#429: FILE: fs/logfs/logfs.h:260:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#433: FILE: fs/logfs/logfs.h:264:
+int logfs_inode_write(struct inode *inode, const void *buf, size_t n,
+		loff_t pos);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#451: FILE: fs/logfs/logfs.h:282:
+s64 logfs_segment_write(struct inode *inode, void *buf, u64 pos, int level,
+		int alloc);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#469: FILE: fs/logfs/logfs.h:300:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#477: FILE: fs/logfs/logfs.h:308:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#481: FILE: fs/logfs/logfs.h:312:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#485: FILE: fs/logfs/logfs.h:316:
+	BUG();				\

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

ERROR:SPACING: space required before the open parenthesis '('
#486: FILE: fs/logfs/logfs.h:317:
+} while(0)

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#489: FILE: fs/logfs/logfs.h:320:
+	do { if (unlikely((condition)!=0)) LOGFS_BUG((sb)); } while(0)
 	                             ^

ERROR:SPACING: space required before the open parenthesis '('
#489: FILE: fs/logfs/logfs.h:320:
+	do { if (unlikely((condition)!=0)) LOGFS_BUG((sb)); } while(0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#491: FILE: fs/logfs/logfs.h:322:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#502: FILE: fs/logfs/logfs.h:333:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#505: FILE: fs/logfs/logfs.h:336:
+	return cpu_to_be32(crc32(~0, data+skip, len-skip));
 	                                 ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#505: FILE: fs/logfs/logfs.h:336:
+	return cpu_to_be32(crc32(~0, data+skip, len-skip));
 	                                           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#508: FILE: fs/logfs/logfs.h:339:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#514: FILE: fs/logfs/logfs.h:345:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#520: FILE: fs/logfs/logfs.h:351:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#522: FILE: fs/logfs/logfs.h:353:
+static inline u64 logfs_block_ofs(struct super_block *sb, u32 segno,
+		u32 blockno)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#528: FILE: fs/logfs/logfs.h:359:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#534: FILE: fs/logfs/logfs.h:365:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#536: FILE: fs/logfs/logfs.h:367:
+static inline int device_read(struct super_block *sb, u32 segno, u32 ofs,
+		size_t len, void *buf)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#541: FILE: fs/logfs/logfs.h:372:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#546: FILE: fs/logfs/compr.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#547: FILE: fs/logfs/compr.c:2:
+ * fs/logfs/compr.c	- compression routines

CHECK:LINE_SPACING: Please don't use multiple blank lines
#562: FILE: fs/logfs/compr.c:17:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#571: FILE: fs/logfs/compr.c:26:
+
+

CHECK:CAMELCASE: Avoid CamelCase: <zlib_deflateInit>
#578: FILE: fs/logfs/compr.c:33:
+	err = zlib_deflateInit(&stream, COMPR_LEVEL);

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <zlib_deflateEnd>
#593: FILE: fs/logfs/compr.c:48:
+	err = zlib_deflateEnd(&stream);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#606: FILE: fs/logfs/compr.c:61:
+
+

CHECK:CAMELCASE: Avoid CamelCase: <zlib_inflateInit>
#613: FILE: fs/logfs/compr.c:68:
+	err = zlib_inflateInit(&stream);

CHECK:CAMELCASE: Avoid CamelCase: <zlib_inflateEnd>
#628: FILE: fs/logfs/compr.c:83:
+	err = zlib_inflateEnd(&stream);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#638: FILE: fs/logfs/compr.c:93:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#656: FILE: fs/logfs/dir.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#657: FILE: fs/logfs/dir.c:2:
+ * fs/logfs/dir.c	- directory-related code

CHECK:LINE_SPACING: Please don't use multiple blank lines
#665: FILE: fs/logfs/dir.c:10:
+
+

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#670: FILE: fs/logfs/dir.c:15:
+ * created/removed/altered in seperate operations.  Therefore we need to do
                               ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#721: FILE: fs/logfs/dir.c:66:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#725: FILE: fs/logfs/dir.c:70:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#732: FILE: fs/logfs/dir.c:77:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#739: FILE: fs/logfs/dir.c:84:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#745: FILE: fs/logfs/dir.c:90:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#747: FILE: fs/logfs/dir.c:92:
+static int write_dir(struct inode *dir, struct logfs_disk_dentry *dd,
+		loff_t pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#752: FILE: fs/logfs/dir.c:97:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#760: FILE: fs/logfs/dir.c:105:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#762: FILE: fs/logfs/dir.c:107:
+static int __logfs_dir_walk(struct inode *dir, struct dentry *dentry,
+		dir_callback handler, struct logfs_disk_dentry *dd, loff_t *pos)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#778: FILE: fs/logfs/dir.c:123:
+		BUG_ON(dd->namelen == 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#792: FILE: fs/logfs/dir.c:137:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#794: FILE: fs/logfs/dir.c:139:
+static int logfs_dir_walk(struct inode *dir, struct dentry *dentry,
+		dir_callback handler)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#802: FILE: fs/logfs/dir.c:147:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#804: FILE: fs/logfs/dir.c:149:
+static int logfs_lookup_handler(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#814: FILE: fs/logfs/dir.c:159:
+
+

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#816: FILE: fs/logfs/dir.c:161:
+		struct nameidata *nd)
 		                  ^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#816: FILE: fs/logfs/dir.c:161:
+static struct dentry *logfs_lookup(struct inode *dir, struct dentry *dentry,
+		struct nameidata *nd)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#821: FILE: fs/logfs/dir.c:166:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#824: FILE: fs/logfs/dir.c:169:
+static int logfs_unlink_handler(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#829: FILE: fs/logfs/dir.c:174:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#842: FILE: fs/logfs/dir.c:187:
+
+

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#854: FILE: fs/logfs/dir.c:199:
+	inode->i_ctime = dir->i_ctime = dir->i_mtime = CURRENT_TIME;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#865: FILE: fs/logfs/dir.c:210:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#867: FILE: fs/logfs/dir.c:212:
+static int logfs_empty_handler(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t pos)

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#871: FILE: fs/logfs/dir.c:216:
+}
+static inline int logfs_empty_dir(struct inode *dir)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#876: FILE: fs/logfs/dir.c:221:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#887: FILE: fs/logfs/dir.c:232:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#889: FILE: fs/logfs/dir.c:234:
+ * way to combine the two copies */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#898: FILE: fs/logfs/dir.c:243:
+	BUG_ON(pos<0);

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#898: FILE: fs/logfs/dir.c:243:
+	BUG_ON(pos<0);
 	          ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#910: FILE: fs/logfs/dir.c:255:
+		BUG_ON(dd.namelen == 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#913: FILE: fs/logfs/dir.c:258:
+		if (filldir(buf, dd.name, be16_to_cpu(dd.namelen), pos,
+					be64_to_cpu(dd.ino), dd.type))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#921: FILE: fs/logfs/dir.c:266:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#946: FILE: fs/logfs/dir.c:291:
+
+

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#952: FILE: fs/logfs/dir.c:297:
+}
+static void logfs_set_name(struct logfs_disk_dentry *dd, struct qstr *name)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#954: FILE: fs/logfs/dir.c:299:
+	BUG_ON(name->len > LOGFS_MAX_NAMELEN);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#958: FILE: fs/logfs/dir.c:303:
+}
+static int logfs_write_dir(struct inode *dir, struct dentry *dentry,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#959: FILE: fs/logfs/dir.c:304:
+static int logfs_write_dir(struct inode *dir, struct dentry *dentry,
+		struct inode *inode)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#969: FILE: fs/logfs/dir.c:314:
+	dir->i_ctime = dir->i_mtime = CURRENT_TIME;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#981: FILE: fs/logfs/dir.c:326:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#983: FILE: fs/logfs/dir.c:328:
+static int __logfs_create(struct inode *dir, struct dentry *dentry,
+		struct inode *inode, const char *dest, long destlen)

WARNING:TYPO_SPELLING: 'creat' may be misspelled - perhaps 'create'?
#998: FILE: fs/logfs/dir.c:343:
+		/* creat/mkdir/mknod */
 		   ^^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1007: FILE: fs/logfs/dir.c:352:
+		iput(inode);
 		^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1019: FILE: fs/logfs/dir.c:364:
+		iput(inode);
 		^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1026: FILE: fs/logfs/dir.c:371:
+
+

WARNING:TYPO_SPELLING: 'creat' may be misspelled - perhaps 'create'?
#1036: FILE: fs/logfs/dir.c:381:
+	 * correct for mknod, creat, etc.?  Smells like the vfs *should*
 	                      ^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1049: FILE: fs/logfs/dir.c:394:
+
+

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1051: FILE: fs/logfs/dir.c:396:
+		struct nameidata *nd)
 		                  ^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1051: FILE: fs/logfs/dir.c:396:
+static int logfs_create(struct inode *dir, struct dentry *dentry, int mode,
+		struct nameidata *nd)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1066: FILE: fs/logfs/dir.c:411:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1068: FILE: fs/logfs/dir.c:413:
+static int logfs_mknod(struct inode *dir, struct dentry *dentry, int mode,
+		dev_t rdev)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1072: FILE: fs/logfs/dir.c:417:
+	BUG_ON(dentry->d_name.len > LOGFS_MAX_NAMELEN);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1083: FILE: fs/logfs/dir.c:428:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#1084: FILE: fs/logfs/dir.c:429:
+static struct inode_operations logfs_symlink_iops = {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1090: FILE: fs/logfs/dir.c:435:
+static int logfs_symlink(struct inode *dir, struct dentry *dentry,
+		const char *target)

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRWXUGO' are not preferred. Consider using octal permissions '0777'.
#1098: FILE: fs/logfs/dir.c:443:
+	inode = logfs_new_inode(dir, S_IFLNK | S_IRWXUGO);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1108: FILE: fs/logfs/dir.c:453:
+
+

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1109: FILE: fs/logfs/dir.c:454:
+static int logfs_permission(struct inode *inode, int mask, struct nameidata *nd)
                                                                              ^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1114: FILE: fs/logfs/dir.c:459:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1116: FILE: fs/logfs/dir.c:461:
+static int logfs_link(struct dentry *old_dentry, struct inode *dir,
+		struct dentry *dentry)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1123: FILE: fs/logfs/dir.c:468:
+	inode->i_ctime = dir->i_ctime = dir->i_mtime = CURRENT_TIME;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1130: FILE: fs/logfs/dir.c:475:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1132: FILE: fs/logfs/dir.c:477:
+static int logfs_nop_handler(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1137: FILE: fs/logfs/dir.c:482:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1139: FILE: fs/logfs/dir.c:484:
+static inline int logfs_get_dd(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t *pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1145: FILE: fs/logfs/dir.c:490:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1150: FILE: fs/logfs/dir.c:495:
+static int logfs_rename_local(struct inode *dir, struct dentry *old_dentry,
+		struct dentry *new_dentry)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1164: FILE: fs/logfs/dir.c:509:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1166: FILE: fs/logfs/dir.c:511:
+static int logfs_delete_dd(struct inode *dir, struct logfs_disk_dentry *dd,
+		loff_t pos)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1181: FILE: fs/logfs/dir.c:526:
+	dir->i_ctime = dir->i_mtime = CURRENT_TIME;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1187: FILE: fs/logfs/dir.c:532:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1194: FILE: fs/logfs/dir.c:539:
+static int logfs_rename_cross(struct inode *old_dir, struct dentry *old_dentry,
+		struct inode *new_dir, struct dentry *new_dentry)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1232: FILE: fs/logfs/dir.c:577:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1234: FILE: fs/logfs/dir.c:579:
+static int logfs_replace_inode(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, struct inode *inode)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1248: FILE: fs/logfs/dir.c:593:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1254: FILE: fs/logfs/dir.c:599:
+static int logfs_rename_target(struct inode *old_dir, struct dentry *old_dentry,
+		struct inode *new_dir, struct dentry *new_dentry)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1264: FILE: fs/logfs/dir.c:609:
+	BUG_ON(isdir != S_ISDIR(new_inode->i_mode));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1304: FILE: fs/logfs/dir.c:649:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1306: FILE: fs/logfs/dir.c:651:
+static int logfs_rename(struct inode *old_dir, struct dentry *old_dentry,
+		struct inode *new_dir, struct dentry *new_dentry)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1315: FILE: fs/logfs/dir.c:660:
+
+

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1334: FILE: fs/logfs/dir.c:679:
+		iput(inode);
 		^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1351: FILE: fs/logfs/dir.c:696:
+		iput(inode);
 		^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1364: FILE: fs/logfs/dir.c:709:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#1365: FILE: fs/logfs/dir.c:710:
+struct inode_operations logfs_dir_iops = {

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1377: FILE: fs/logfs/dir.c:722:
+};
+struct file_operations logfs_dir_fops = {

WARNING:CONST_STRUCT: struct file_operations should normally be const
#1377: FILE: fs/logfs/dir.c:722:
+struct file_operations logfs_dir_fops = {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1384: FILE: fs/logfs/file.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1385: FILE: fs/logfs/file.c:2:
+ * fs/logfs/file.c	- prepare_write, commit_write and friends

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1393: FILE: fs/logfs/file.c:10:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1395: FILE: fs/logfs/file.c:12:
+static int logfs_prepare_write(struct file *file, struct page *page,
+		unsigned start, unsigned end)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1395: FILE: fs/logfs/file.c:12:
+		unsigned start, unsigned end)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1395: FILE: fs/logfs/file.c:12:
+		unsigned start, unsigned end)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'start == 0'
#1400: FILE: fs/logfs/file.c:17:
+	if ((start == 0) && (end == PAGE_CACHE_SIZE))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'end == PAGE_CACHE_SIZE'
#1400: FILE: fs/logfs/file.c:17:
+	if ((start == 0) && (end == PAGE_CACHE_SIZE))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1406: FILE: fs/logfs/file.c:23:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1408: FILE: fs/logfs/file.c:25:
+static int logfs_commit_write(struct file *file, struct page *page,
+		unsigned start, unsigned end)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1408: FILE: fs/logfs/file.c:25:
+		unsigned start, unsigned end)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1408: FILE: fs/logfs/file.c:25:
+		unsigned start, unsigned end)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1415: FILE: fs/logfs/file.c:32:
+	BUG_ON(PAGE_CACHE_SIZE != inode->i_sb->s_blocksize);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1415: FILE: fs/logfs/file.c:32:
+	BUG_ON(PAGE_CACHE_SIZE != inode->i_sb->s_blocksize);

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1416: FILE: fs/logfs/file.c:33:
+	BUG_ON(page->index > I3_BLOCKS);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1432: FILE: fs/logfs/file.c:49:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1442: FILE: fs/logfs/file.c:59:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#1443: FILE: fs/logfs/file.c:60:
+struct inode_operations logfs_reg_iops = {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1447: FILE: fs/logfs/file.c:64:
+
+

WARNING:CONST_STRUCT: struct file_operations should normally be const
#1448: FILE: fs/logfs/file.c:65:
+struct file_operations logfs_reg_fops = {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1458: FILE: fs/logfs/file.c:75:
+
+

WARNING:CONST_STRUCT: struct address_space_operations should normally be const
#1459: FILE: fs/logfs/file.c:76:
+struct address_space_operations logfs_reg_aops = {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1468: FILE: fs/logfs/gc.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1469: FILE: fs/logfs/gc.c:2:
+ * fs/logfs/gc.c	- garbage collection code

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1477: FILE: fs/logfs/gc.c:10:
+#if 0

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1511: FILE: fs/logfs/gc.c:44:
+	if (t >= 32*theta)
 	           ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1514: FILE: fs/logfs/gc.c:47:
+	shift = t/theta;
 	         ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#1515: FILE: fs/logfs/gc.c:48:
+	fac = theta - (t%theta)/2;
 	                ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1515: FILE: fs/logfs/gc.c:48:
+	fac = theta - (t%theta)/2;
 	                       ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1520: FILE: fs/logfs/gc.c:53:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1538: FILE: fs/logfs/gc.c:71:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1538: FILE: fs/logfs/gc.c:71:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1540: FILE: fs/logfs/gc.c:73:
+		struct logfs_area *area = super->s_area[i];
+		if (area->a_is_open && (area->a_segno == segno)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'area->a_segno == segno'
#1540: FILE: fs/logfs/gc.c:73:
+		if (area->a_is_open && (area->a_segno == segno)) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1540: FILE: fs/logfs/gc.c:73:
+		if (area->a_is_open && (area->a_segno == segno)) {
+			return super->s_segsize;
+		}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1546: FILE: fs/logfs/gc.c:79:
+	BUG_ON(err);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1553: FILE: fs/logfs/gc.c:86:
+		BUG_ON(err);

WARNING:UNNECESSARY_KERN_LEVEL: Possible unnecessary KERN_INFO
#1565: FILE: fs/logfs/gc.c:98:
+	pr_debug(KERN_INFO "LOGFS valid(%x) = %x\n", segno, valid);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1569: FILE: fs/logfs/gc.c:102:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1571: FILE: fs/logfs/gc.c:104:
+static void logfs_cleanse_block(struct super_block *sb, u64 ofs, u64 ino,
+		u64 pos, int level)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1577: FILE: fs/logfs/gc.c:110:
+	BUG_ON(!inode);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1579: FILE: fs/logfs/gc.c:112:
+	BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1583: FILE: fs/logfs/gc.c:116:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1594: FILE: fs/logfs/gc.c:127:
+	BUG_ON(err);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1595: FILE: fs/logfs/gc.c:128:
+	sh = (void*)&h;

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1601: FILE: fs/logfs/gc.c:134:
+		BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1611: FILE: fs/logfs/gc.c:144:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1623: FILE: fs/logfs/gc.c:156:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1623: FILE: fs/logfs/gc.c:156:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1625: FILE: fs/logfs/gc.c:158:
+		struct logfs_area *area = super->s_area[i];
+		BUG_ON(area->a_is_open && (area->a_segno == segno));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1625: FILE: fs/logfs/gc.c:158:
+		BUG_ON(area->a_is_open && (area->a_segno == segno));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1630: FILE: fs/logfs/gc.c:163:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1632: FILE: fs/logfs/gc.c:165:
+static void __add_segment(struct list_head *list, int *count, u32 segno,
+		int valid)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1646: FILE: fs/logfs/gc.c:179:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1648: FILE: fs/logfs/gc.c:181:
+static void add_segment(struct list_head *list, int *count, u32 segno,
+		int valid)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1658: FILE: fs/logfs/gc.c:191:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1672: FILE: fs/logfs/gc.c:205:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1676: FILE: fs/logfs/gc.c:209:
+	struct logfs_super *super = LOGFS_SUPER(sb);
+	add_segment(&super->s_free_list, &super->s_free_count, segno, 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1679: FILE: fs/logfs/gc.c:212:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1683: FILE: fs/logfs/gc.c:216:
+	struct logfs_super *super = LOGFS_SUPER(sb);
+	add_segment(&super->s_low_list, &super->s_low_count, segno, valid);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1686: FILE: fs/logfs/gc.c:219:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1690: FILE: fs/logfs/gc.c:223:
+	struct logfs_super *super = LOGFS_SUPER(sb);
+	del_segment(&super->s_low_list, &super->s_low_count, segno);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1693: FILE: fs/logfs/gc.c:226:
+
+

CHECK:BRACES: braces {} should be used on all arms of this statement
#1701: FILE: fs/logfs/gc.c:234:
+	if (valid == 0) {
[...]
+	} else if (valid < full)
[...]

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1708: FILE: fs/logfs/gc.c:241:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1714: FILE: fs/logfs/gc.c:247:
+	for (i = super->s_sweeper+1; i != super->s_sweeper; i++) {
 	                         ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1728: FILE: fs/logfs/gc.c:261:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1733: FILE: fs/logfs/gc.c:266:
+	unsigned min_valid = super->s_segsize;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1736: FILE: fs/logfs/gc.c:269:
+	BUG_ON(list_empty(&super->s_low_list));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1755: FILE: fs/logfs/gc.c:288:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1757: FILE: fs/logfs/gc.c:290:
+ * If we made enough room, return */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1774: FILE: fs/logfs/gc.c:307:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1798: FILE: fs/logfs/gc.c:331:
+	for (i=4; i; i--) {
 	      ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1812: FILE: fs/logfs/gc.c:345:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1823: FILE: fs/logfs/gc.c:356:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1840: FILE: fs/logfs/inode.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1841: FILE: fs/logfs/inode.c:2:
+ * fs/logfs/inode.c	- inode handling code

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1873: FILE: fs/logfs/inode.c:34:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1876: FILE: fs/logfs/inode.c:37:
+
+

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1889: FILE: fs/logfs/inode.c:50:
+			iput(inode);
 			^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1897: FILE: fs/logfs/inode.c:58:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1923: FILE: fs/logfs/inode.c:84:
+
+

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1932: FILE: fs/logfs/inode.c:93:
+	iput(inode);
 	^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1935: FILE: fs/logfs/inode.c:96:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1952: FILE: fs/logfs/inode.c:113:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1952: FILE: fs/logfs/inode.c:113:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	           ^

WARNING:RETURN_VOID: void function return statements are not generally useful
#1956: FILE: fs/logfs/inode.c:117:
+	return;
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1958: FILE: fs/logfs/inode.c:119:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1970: FILE: fs/logfs/inode.c:131:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1985: FILE: fs/logfs/inode.c:146:
+	 * to be nonstatic, alas. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2002: FILE: fs/logfs/inode.c:163:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2022: FILE: fs/logfs/inode.c:183:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2031: FILE: fs/logfs/inode.c:192:
+
+

ERROR:POINTER_LOCATION: "foo*bar" should be "foo *bar"
#2032: FILE: fs/logfs/inode.c:193:
+static void logfs_disk_to_inode(struct logfs_disk_inode *di, struct inode*inode)

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#2049: FILE: fs/logfs/inode.c:210:
+	case S_IFCHR: /* fall through */

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#2050: FILE: fs/logfs/inode.c:211:
+	case S_IFBLK: /* fall through */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2055: FILE: fs/logfs/inode.c:216:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2055: FILE: fs/logfs/inode.c:216:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2061: FILE: fs/logfs/inode.c:222:
+
+

ERROR:POINTER_LOCATION: "foo*bar" should be "foo *bar"
#2062: FILE: fs/logfs/inode.c:223:
+static void logfs_inode_to_disk(struct inode *inode, struct logfs_disk_inode*di)

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#2080: FILE: fs/logfs/inode.c:241:
+	case S_IFCHR: /* fall through */

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#2081: FILE: fs/logfs/inode.c:242:
+	case S_IFBLK: /* fall through */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2086: FILE: fs/logfs/inode.c:247:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2086: FILE: fs/logfs/inode.c:247:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2092: FILE: fs/logfs/inode.c:253:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2095: FILE: fs/logfs/inode.c:256:
+static int logfs_read_disk_inode(struct logfs_disk_inode *di,
+		struct inode *inode)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2101: FILE: fs/logfs/inode.c:262:
+	BUG_ON(!super->s_master_inode);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2111: FILE: fs/logfs/inode.c:272:
+		printk(KERN_WARNING"LOGFS: read corrupt inode #%lx\n", ino);

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2111: FILE: fs/logfs/inode.c:272:
+		printk(KERN_WARNING"LOGFS: read corrupt inode #%lx\n", ino);

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2119: FILE: fs/logfs/inode.c:280:
+
+

WARNING:DEFAULT_NO_BREAK: switch default: should use break
#2148: FILE: fs/logfs/inode.c:309:
+	default:
+		;

switch default case is sometimes written as "default:;".  This can
cause new cases added below default to be defective.

A "break;" should be added after empty default statement to avoid
unwanted fallthrough.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2155: FILE: fs/logfs/inode.c:316:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2160: FILE: fs/logfs/inode.c:321:
+	BUG_ON(inode->i_ino == LOGFS_INO_MASTER);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2165: FILE: fs/logfs/inode.c:326:
+	BUG_ON(ret);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2168: FILE: fs/logfs/inode.c:329:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2170: FILE: fs/logfs/inode.c:331:
+static int logfs_write_disk_inode(struct logfs_disk_inode *di,
+		struct inode *inode)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2178: FILE: fs/logfs/inode.c:339:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2189: FILE: fs/logfs/inode.c:350:
+	BUG_ON(inode->i_ino == LOGFS_INO_MASTER);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2192: FILE: fs/logfs/inode.c:353:
+	 * bother writing it. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2201: FILE: fs/logfs/inode.c:362:
+
+

WARNING:TYPO_SPELLING: 'creat' may be misspelled - perhaps 'create'?
#2206: FILE: fs/logfs/inode.c:367:
+	/* Can only happen if creat() failed.  Safe to skip. */
 	                      ^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2215: FILE: fs/logfs/inode.c:376:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2223: FILE: fs/logfs/inode.c:384:
+
+

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#2232: FILE: fs/logfs/inode.c:393:
+	if (! (LOGFS_INODE(inode)->li_flags & LOGFS_IF_ZOMBIE)) {
 	    ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2240: FILE: fs/logfs/inode.c:401:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2246: FILE: fs/logfs/inode.c:407:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2258: FILE: fs/logfs/inode.c:419:
+	BUG_ON(list_empty(&li->li_freeing_list));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2265: FILE: fs/logfs/inode.c:426:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2276: FILE: fs/logfs/inode.c:437:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2296: FILE: fs/logfs/inode.c:457:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2316: FILE: fs/logfs/inode.c:477:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2318: FILE: fs/logfs/inode.c:479:
+static void logfs_init_once(void *_li, struct kmem_cache *cachep,
+		unsigned long flags)

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#2323: FILE: fs/logfs/inode.c:484:
+	if ((flags & (SLAB_CTOR_VERIFY|SLAB_CTOR_CONSTRUCTOR)) ==
 	                              ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2327: FILE: fs/logfs/inode.c:488:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2327: FILE: fs/logfs/inode.c:488:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		           ^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2332: FILE: fs/logfs/inode.c:493:
+
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2334: FILE: fs/logfs/inode.c:495:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2345: FILE: fs/logfs/inode.c:506:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2349: FILE: fs/logfs/inode.c:510:
+	logfs_inode_cache = kmem_cache_create("logfs_inode_cache",
+			sizeof(struct logfs_inode), 0, SLAB_RECLAIM_ACCOUNT,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2356: FILE: fs/logfs/inode.c:517:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2364: FILE: fs/logfs/journal.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#2365: FILE: fs/logfs/journal.c:2:
+ * fs/logfs/journal.c	- journal handling code

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2373: FILE: fs/logfs/journal.c:10:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2379: FILE: fs/logfs/journal.c:16:
+	for (i=0; i<JE_LAST; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2379: FILE: fs/logfs/journal.c:16:
+	for (i=0; i<JE_LAST; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2384: FILE: fs/logfs/journal.c:21:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2390: FILE: fs/logfs/journal.c:27:
+	for (i=0; i<JE_LAST; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2390: FILE: fs/logfs/journal.c:27:
+	for (i=0; i<JE_LAST; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2394: FILE: fs/logfs/journal.c:31:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2401: FILE: fs/logfs/journal.c:38:
+	for (i=0; i<JE_LAST; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2401: FILE: fs/logfs/journal.c:38:
+	for (i=0; i<JE_LAST; i++) {
 	           ^

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#2404: FILE: fs/logfs/journal.c:41:
+		if (! spec->used)
 		    ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'spec->version <= retired->version'
#2406: FILE: fs/logfs/journal.c:43:
+		if (retired->used && (spec->version <= retired->version))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2416: FILE: fs/logfs/journal.c:53:
+
+

WARNING:TYPO_SPELLING: 'substract' may be misspelled - perhaps 'subtract'?
#2423: FILE: fs/logfs/journal.c:60:
+ * So we read the first entry, store its version and substract that from
                                                      ^^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2429: FILE: fs/logfs/journal.c:66:
+static void __logfs_scan_journal(struct super_block *sb, void *block,
+		u32 segno, u64 block_ofs, int block_index)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2435: FILE: fs/logfs/journal.c:72:
+	for (h = block; (void*)h - block < sb->s_blocksize; h++) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2437: FILE: fs/logfs/journal.c:74:
+		unsigned long ofs = (void*)h - block;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'len < 16'
#2443: FILE: fs/logfs/journal.c:80:
+		if ((len < 16) || (len > remainder))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'len > remainder'
#2443: FILE: fs/logfs/journal.c:80:
+		if ((len < 16) || (len > remainder))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type < JE_FIRST'
#2445: FILE: fs/logfs/journal.c:82:
+		if ((type < JE_FIRST) || (type > JE_LAST))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type > JE_LAST'
#2445: FILE: fs/logfs/journal.c:82:
+		if ((type < JE_FIRST) || (type > JE_LAST))

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2456: FILE: fs/logfs/journal.c:93:
+		if (abs(version) > 1<<14)
 		                    ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'version <= spec->version'
#2464: FILE: fs/logfs/journal.c:101:
+			if (spec->used && (version <= spec->version))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'version <= retired->version'
#2473: FILE: fs/logfs/journal.c:110:
+			if (retired->used && (version <= retired->version))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2495: FILE: fs/logfs/journal.c:132:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2510: FILE: fs/logfs/journal.c:147:
+		for (k=0; k<super->s_no_blocks; k++) {
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2510: FILE: fs/logfs/journal.c:147:
+		for (k=0; k<super->s_no_blocks; k++) {
 		           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2521: FILE: fs/logfs/journal.c:158:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2523: FILE: fs/logfs/journal.c:160:
+static void logfs_read_commit(struct logfs_super *super,
+		struct logfs_journal_header *h)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2528: FILE: fs/logfs/journal.c:165:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2550: FILE: fs/logfs/journal.c:187:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2557: FILE: fs/logfs/journal.c:194:
+	err = btree_insert(head, 0, (void*)1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2558: FILE: fs/logfs/journal.c:195:
+	BUG_ON(err);

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#2561: FILE: fs/logfs/journal.c:198:
+		if (! super->s_journal_seg[i])
 		    ^

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2563: FILE: fs/logfs/journal.c:200:
+		err = btree_insert(head, super->s_journal_seg[i], (void*)1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2564: FILE: fs/logfs/journal.c:201:
+		BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2568: FILE: fs/logfs/journal.c:205:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2570: FILE: fs/logfs/journal.c:207:
+static void logfs_read_dynsb(struct super_block *sb,
+		struct logfs_je_dynsb *dynsb)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2582: FILE: fs/logfs/journal.c:219:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2584: FILE: fs/logfs/journal.c:221:
+static void logfs_read_anchor(struct super_block *sb,
+		struct logfs_je_anchor *da)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2596: FILE: fs/logfs/journal.c:233:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2596: FILE: fs/logfs/journal.c:233:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2600: FILE: fs/logfs/journal.c:237:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2602: FILE: fs/logfs/journal.c:239:
+static void logfs_read_erasecount(struct super_block *sb,
+		struct logfs_je_journal_ec *ec)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2611: FILE: fs/logfs/journal.c:248:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2623: FILE: fs/logfs/journal.c:260:
+		err = btree_insert(head, be32_to_cpu(*seg), (void*)1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2624: FILE: fs/logfs/journal.c:261:
+		BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2629: FILE: fs/logfs/journal.c:266:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2635: FILE: fs/logfs/journal.c:272:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2635: FILE: fs/logfs/journal.c:272:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2644: FILE: fs/logfs/journal.c:281:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2658: FILE: fs/logfs/journal.c:295:
+	BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2662: FILE: fs/logfs/journal.c:299:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2679: FILE: fs/logfs/journal.c:316:
+	for (i=0; i<JE_LAST; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2679: FILE: fs/logfs/journal.c:316:
+	for (i=0; i<JE_LAST; i++) {
 	           ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#2681: FILE: fs/logfs/journal.c:318:
+		struct logfs_journal_entry *je = super->s_retired + i;
+		if (!super->s_retired[i].used) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2686: FILE: fs/logfs/journal.c:323:
+				printk(KERN_WARNING "LogFS: Missing journal "

WARNING:SPLIT_STRING: quoted string split across lines
#2687: FILE: fs/logfs/journal.c:324:
+				printk(KERN_WARNING "LogFS: Missing journal "
+						"entry %x?\n", i);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2713: FILE: fs/logfs/journal.c:350:
+				logfs_read_erasecount(sb,unpack(block,scratch));
 				                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2713: FILE: fs/logfs/journal.c:350:
+				logfs_read_erasecount(sb,unpack(block,scratch));
 				                                     ^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2735: FILE: fs/logfs/journal.c:372:
+
+	}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2739: FILE: fs/logfs/journal.c:376:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2763: FILE: fs/logfs/journal.c:400:
+	BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2766: FILE: fs/logfs/journal.c:403:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2770: FILE: fs/logfs/journal.c:407:
+	 * journal_get_free_segment() - nothing to do here */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2773: FILE: fs/logfs/journal.c:410:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2779: FILE: fs/logfs/journal.c:416:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2787: FILE: fs/logfs/journal.c:424:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2795: FILE: fs/logfs/journal.c:432:
+	BUG_ON(err);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2801: FILE: fs/logfs/journal.c:438:
+	BUG_ON(ofs >= LOGFS_SUPER(sb)->s_size);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2805: FILE: fs/logfs/journal.c:442:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2816: FILE: fs/logfs/journal.c:453:
+	BUG_ON(ret <= 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2821: FILE: fs/logfs/journal.c:458:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2823: FILE: fs/logfs/journal.c:460:
+static size_t __logfs_write_header(struct logfs_super *super,
+		struct logfs_journal_header *h, size_t len, size_t datalen,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2838: FILE: fs/logfs/journal.c:475:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2840: FILE: fs/logfs/journal.c:477:
+static size_t logfs_write_header(struct logfs_super *super,
+		struct logfs_journal_header *h, size_t datalen, u16 type)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2847: FILE: fs/logfs/journal.c:484:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2849: FILE: fs/logfs/journal.c:486:
+static void *logfs_write_bb(struct super_block *sb, void *h,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2856: FILE: fs/logfs/journal.c:493:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2862: FILE: fs/logfs/journal.c:499:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2864: FILE: fs/logfs/journal.c:501:
+static void *logfs_write_erasecount(struct super_block *sb, void *_ec,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2877: FILE: fs/logfs/journal.c:514:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2879: FILE: fs/logfs/journal.c:516:
+static void *logfs_write_wbuf(struct super_block *sb, void *h,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2889: FILE: fs/logfs/journal.c:526:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2891: FILE: fs/logfs/journal.c:528:
+static void *__logfs_write_anchor(struct super_block *sb, void *_da,
+		u16 *type, size_t *len)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2902: FILE: fs/logfs/journal.c:539:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2902: FILE: fs/logfs/journal.c:539:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2909: FILE: fs/logfs/journal.c:546:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2911: FILE: fs/logfs/journal.c:548:
+static void *logfs_write_dynsb(struct super_block *sb, void *_dynsb,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2927: FILE: fs/logfs/journal.c:564:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2929: FILE: fs/logfs/journal.c:566:
+static void *logfs_write_areas(struct super_block *sb, void *_a,
+		u16 *type, size_t *len)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2935: FILE: fs/logfs/journal.c:572:
+	for (i=0; i<16; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2935: FILE: fs/logfs/journal.c:572:
+	for (i=0; i<16; i++) {
 	           ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2940: FILE: fs/logfs/journal.c:577:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2940: FILE: fs/logfs/journal.c:577:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2950: FILE: fs/logfs/journal.c:587:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2952: FILE: fs/logfs/journal.c:589:
+static void *logfs_write_commit(struct super_block *sb, void *h,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2959: FILE: fs/logfs/journal.c:596:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2961: FILE: fs/logfs/journal.c:598:
+static size_t logfs_write_je(struct super_block *sb, size_t jpos,
+		void* (*write)(struct super_block *sb, void *scratch,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2962: FILE: fs/logfs/journal.c:599:
+		void* (*write)(struct super_block *sb, void *scratch,
+			u16 *type, size_t *len))

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2983: FILE: fs/logfs/journal.c:620:
+	BUG_ON(compr_len < 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2992: FILE: fs/logfs/journal.c:629:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3003: FILE: fs/logfs/journal.c:640:
+	BUG_ON(ofs >= super->s_size);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3007: FILE: fs/logfs/journal.c:644:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3007: FILE: fs/logfs/journal.c:644:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3018: FILE: fs/logfs/journal.c:655:
+	BUG_ON(jpos > sb->s_blocksize);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3023: FILE: fs/logfs/journal.c:660:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3031: FILE: fs/logfs/journal.c:668:
+
+

WARNING:TYPO_SPELLING: 'noone' may be misspelled - perhaps 'no one'?
#3055: FILE: fs/logfs/journal.c:692:
+	/* make sure noone tries to evict this inode */
 	             ^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3060: FILE: fs/logfs/journal.c:697:
+	 * then re-reads those entries and copies their contents over. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3083: FILE: fs/logfs/journal.c:720:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3098: FILE: fs/logfs/memtree.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#3099: FILE: fs/logfs/memtree.c:2:
+ * fs/logfs/memtree.c	- Simple In-memory B+Tree

WARNING:TYPO_SPELLING: 'excercise' may be misspelled - perhaps 'exercise'?
#3109: FILE: fs/logfs/memtree.c:12:
+ * excercise to understand how B+Trees work.  Turned out to be useful as well.
    ^^^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3159: FILE: fs/logfs/memtree.c:62:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3167: FILE: fs/logfs/memtree.c:70:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3180: FILE: fs/logfs/memtree.c:83:
+		for (i=0; i<BTREE_NODES; i++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3180: FILE: fs/logfs/memtree.c:83:
+		for (i=0; i<BTREE_NODES; i++)
 		           ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3186: FILE: fs/logfs/memtree.c:89:
+	for (i=0; i<BTREE_NODES; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3186: FILE: fs/logfs/memtree.c:89:
+	for (i=0; i<BTREE_NODES; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3193: FILE: fs/logfs/memtree.c:96:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3198: FILE: fs/logfs/memtree.c:101:
+	for (i=0; i<BTREE_NODES; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3198: FILE: fs/logfs/memtree.c:101:
+	for (i=0; i<BTREE_NODES; i++)
 	           ^

ERROR:SPACING: spaces required around that '=' (ctx:VxO)
#3202: FILE: fs/logfs/memtree.c:105:
+	for (i=*pos; i<BTREE_NODES; i++)
 	      ^

ERROR:SPACING: space required before that '*' (ctx:OxV)
#3202: FILE: fs/logfs/memtree.c:105:
+	for (i=*pos; i<BTREE_NODES; i++)
 	       ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3202: FILE: fs/logfs/memtree.c:105:
+	for (i=*pos; i<BTREE_NODES; i++)
 	              ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3208: FILE: fs/logfs/memtree.c:111:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3210: FILE: fs/logfs/memtree.c:113:
+static struct btree_node *find_level(struct btree_head *head, long val,
+		int level)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3216: FILE: fs/logfs/memtree.c:119:
+		for (i=0; i<BTREE_NODES; i++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3216: FILE: fs/logfs/memtree.c:119:
+		for (i=0; i<BTREE_NODES; i++)
 		           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3224: FILE: fs/logfs/memtree.c:127:
+
+

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3233: FILE: fs/logfs/memtree.c:136:
+		node->val = head->node[BTREE_NODES-1].val;
 		                                  ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3241: FILE: fs/logfs/memtree.c:144:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3243: FILE: fs/logfs/memtree.c:146:
+static int btree_insert_level(struct btree_head *head, long val, void *ptr,
+		int level)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3250: FILE: fs/logfs/memtree.c:153:
+		BUG_ON(level != 1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3264: FILE: fs/logfs/memtree.c:167:
+	BUG_ON(node[pos].val == val);

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3273: FILE: fs/logfs/memtree.c:176:
+		err = btree_insert_level(head, node[BTREE_NODES/2 - 1].val, new,
 		                                               ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3274: FILE: fs/logfs/memtree.c:177:
+		err = btree_insert_level(head, node[BTREE_NODES/2 - 1].val, new,
+				level+1);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3274: FILE: fs/logfs/memtree.c:177:
+				level+1);
 				     ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3279: FILE: fs/logfs/memtree.c:182:
+		for (i=0; i<BTREE_NODES/2; i++) {
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3279: FILE: fs/logfs/memtree.c:182:
+		for (i=0; i<BTREE_NODES/2; i++) {
 		           ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3279: FILE: fs/logfs/memtree.c:182:
+		for (i=0; i<BTREE_NODES/2; i++) {
 		                       ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3282: FILE: fs/logfs/memtree.c:185:
+			node[i].val = node[i + BTREE_NODES/2].val;
 			                                  ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3283: FILE: fs/logfs/memtree.c:186:
+			node[i].node = node[i + BTREE_NODES/2].node;
 			                                   ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3284: FILE: fs/logfs/memtree.c:187:
+			node[i + BTREE_NODES/2].val = 0;
 			                    ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3285: FILE: fs/logfs/memtree.c:188:
+			node[i + BTREE_NODES/2].node = NULL;
 			                    ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3289: FILE: fs/logfs/memtree.c:192:
+	BUG_ON(fill >= BTREE_NODES);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3292: FILE: fs/logfs/memtree.c:195:
+	for (i=fill; i>pos; i--) {
 	      ^

ERROR:SPACING: spaces required around that '>' (ctx:VxV)
#3292: FILE: fs/logfs/memtree.c:195:
+	for (i=fill; i>pos; i--) {
 	              ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3293: FILE: fs/logfs/memtree.c:196:
+		node[i].val = node[i-1].val;
 		                    ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3294: FILE: fs/logfs/memtree.c:197:
+		node[i].node = node[i-1].node;
 		                     ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3302: FILE: fs/logfs/memtree.c:205:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3308: FILE: fs/logfs/memtree.c:211:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3323: FILE: fs/logfs/memtree.c:226:
+		BUG_ON(node[pos].val != val);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3326: FILE: fs/logfs/memtree.c:229:
+	for (i=pos; i<fill-1; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3326: FILE: fs/logfs/memtree.c:229:
+	for (i=pos; i<fill-1; i++) {
 	             ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3326: FILE: fs/logfs/memtree.c:229:
+	for (i=pos; i<fill-1; i++) {
 	                  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3327: FILE: fs/logfs/memtree.c:230:
+		node[i].val = node[i+1].val;
 		                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3328: FILE: fs/logfs/memtree.c:231:
+		node[i].node = node[i+1].node;
 		                     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3330: FILE: fs/logfs/memtree.c:233:
+	node[fill-1].val = 0;
 	         ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3331: FILE: fs/logfs/memtree.c:234:
+	node[fill-1].node = NULL;
 	         ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3333: FILE: fs/logfs/memtree.c:236:
+	if (fill-1 < BTREE_NODES/2) {
 	        ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#3333: FILE: fs/logfs/memtree.c:236:
+	if (fill-1 < BTREE_NODES/2) {
 	                        ^

WARNING:TYPO_SPELLING: 'excercise' may be misspelled - perhaps 'exercise'?
#3340: FILE: fs/logfs/memtree.c:243:
+		 * As you can see, that code is left as an excercise to the
 		                                           ^^^^^^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3351: FILE: fs/logfs/memtree.c:254:
+	if (fill-1 == 0) {
 	        ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3352: FILE: fs/logfs/memtree.c:255:
+		btree_remove_level(head, val, level+1);
 		                                   ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3360: FILE: fs/logfs/memtree.c:263:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3368: FILE: fs/logfs/readwrite.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#3369: FILE: fs/logfs/readwrite.c:2:
+ * fs/logfs/readwrite.c

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3385: FILE: fs/logfs/readwrite.c:18:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3395: FILE: fs/logfs/readwrite.c:28:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3404: FILE: fs/logfs/readwrite.c:37:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3406: FILE: fs/logfs/readwrite.c:39:
+static int logfs_read_direct(struct inode *inode, pgoff_t index, void *buf,
+		int read_zero)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3418: FILE: fs/logfs/readwrite.c:51:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3425: FILE: fs/logfs/readwrite.c:58:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3431: FILE: fs/logfs/readwrite.c:64:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3441: FILE: fs/logfs/readwrite.c:74:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3447: FILE: fs/logfs/readwrite.c:80:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3458: FILE: fs/logfs/readwrite.c:91:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3460: FILE: fs/logfs/readwrite.c:93:
+static int logfs_read_loop(struct inode *inode, pgoff_t index, void *buf,
+		int read_zero, int count)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3474: FILE: fs/logfs/readwrite.c:107:
+	for (i=count; i>=0; i--) {
 	      ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#3474: FILE: fs/logfs/readwrite.c:107:
+	for (i=count; i>=0; i--) {
 	               ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3492: FILE: fs/logfs/readwrite.c:125:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3494: FILE: fs/logfs/readwrite.c:127:
+static int logfs_read_block(struct inode *inode, pgoff_t index, void *buf,
+		int read_zero)

CHECK:BRACES: braces {} should be used on all arms of this statement
#3498: FILE: fs/logfs/readwrite.c:131:
+	if (li->li_flags & LOGFS_IF_EMBEDDED) {
[...]
+	} else if (index < I0_BLOCKS)
[...]
+	else if (index < I1_BLOCKS)
[...]
+	else if (index < I2_BLOCKS)
[...]
+	else if (index < I3_BLOCKS)
[...]

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3512: FILE: fs/logfs/readwrite.c:145:
+	BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3516: FILE: fs/logfs/readwrite.c:149:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3527: FILE: fs/logfs/readwrite.c:160:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3537: FILE: fs/logfs/readwrite.c:170:
+	BUG_ON(!bofs);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3541: FILE: fs/logfs/readwrite.c:174:
+	for (i=count; i>=0; i--) {
 	      ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#3541: FILE: fs/logfs/readwrite.c:174:
+	for (i=count; i>=0; i--) {
 	               ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3558: FILE: fs/logfs/readwrite.c:191:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3591: FILE: fs/logfs/readwrite.c:224:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3604: FILE: fs/logfs/readwrite.c:237:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3610: FILE: fs/logfs/readwrite.c:243:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3612: FILE: fs/logfs/readwrite.c:245:
+static int __logfs_is_valid_loop(struct inode *inode, pgoff_t index,
+		int count, u64 ofs, u64 bofs, __be64 *rblock)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3617: FILE: fs/logfs/readwrite.c:250:
+	for (i=count; i>=0; i--) {
 	      ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#3617: FILE: fs/logfs/readwrite.c:250:
+	for (i=count; i>=0; i--) {
 	               ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3632: FILE: fs/logfs/readwrite.c:265:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3634: FILE: fs/logfs/readwrite.c:267:
+static int logfs_is_valid_loop(struct inode *inode, pgoff_t index,
+		int count, u64 ofs)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3654: FILE: fs/logfs/readwrite.c:287:
+
+

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'inode->i_nlink == 0'
#3659: FILE: fs/logfs/readwrite.c:292:
+	if ((inode->i_nlink == 0) && atomic_read(&inode->i_count) == 1)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3674: FILE: fs/logfs/readwrite.c:307:
+	BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3678: FILE: fs/logfs/readwrite.c:311:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3685: FILE: fs/logfs/readwrite.c:318:
+	 * blocks are by definition invalid. */

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#3695: FILE: fs/logfs/readwrite.c:328:
+#if 0

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3710: FILE: fs/logfs/readwrite.c:343:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3733: FILE: fs/logfs/readwrite.c:366:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3738: FILE: fs/logfs/readwrite.c:371:
+static ssize_t __logfs_inode_read(struct inode *inode, char *buf, size_t count,
+		loff_t *ppos, int read_zero)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3749: FILE: fs/logfs/readwrite.c:382:
+	BUG_ON(logfs_index(*ppos) != logfs_index(*ppos + count - 1));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3756: FILE: fs/logfs/readwrite.c:389:
+	err = logfs_read_block(inode, logfs_index(*ppos), block_data,
+			read_zero);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3768: FILE: fs/logfs/readwrite.c:401:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3770: FILE: fs/logfs/readwrite.c:403:
+static s64 logfs_segment_write_pos(struct inode *inode, void *buf, u64 pos,
+		int level, int alloc)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3775: FILE: fs/logfs/readwrite.c:408:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3789: FILE: fs/logfs/readwrite.c:422:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3799: FILE: fs/logfs/readwrite.c:432:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3809: FILE: fs/logfs/readwrite.c:442:
+
+

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#3821: FILE: fs/logfs/readwrite.c:454:
+	if (! (li->li_flags & LOGFS_IF_EMBEDDED))
 	    ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3837: FILE: fs/logfs/readwrite.c:470:
+	for (i=1; i<LOGFS_EMBEDDED_FIELDS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#3837: FILE: fs/logfs/readwrite.c:470:
+	for (i=1; i<LOGFS_EMBEDDED_FIELDS; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3843: FILE: fs/logfs/readwrite.c:476:
+
+

WARNING:MINMAX: max() should probably be max_t(long long, LOGFS_EMBEDDED_SIZE, i_size_read(inode))
#3849: FILE: fs/logfs/readwrite.c:482:
+	memcpy(dst, buf, max((long long)LOGFS_EMBEDDED_SIZE, i_size_read(inode)));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3857: FILE: fs/logfs/readwrite.c:490:
+
+

WARNING:BRACES: braces {} are not necessary for single statement blocks
#3864: FILE: fs/logfs/readwrite.c:497:
+		if (logfs_reserve_blocks(inode, 1)) {
+			return -ENOSPC;
+		}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3879: FILE: fs/logfs/readwrite.c:512:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3881: FILE: fs/logfs/readwrite.c:514:
+static int logfs_write_loop(struct inode *inode, pgoff_t index, void *buf,
+		__be64 **wblocks, int count)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3890: FILE: fs/logfs/readwrite.c:523:
+	for (i=count; i>=0; i--) {
 	      ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#3890: FILE: fs/logfs/readwrite.c:523:
+	for (i=count; i>=0; i--) {
 	               ^

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#3902: FILE: fs/logfs/readwrite.c:535:
+	if (! wblocks[0][get_bits(index, 0, bits)])
 	    ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3908: FILE: fs/logfs/readwrite.c:541:
+	allocs = allocs ? allocs-1 : 0;
 	                        ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#3912: FILE: fs/logfs/readwrite.c:545:
+	for (i=0; i<=count; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<=' (ctx:VxV)
#3912: FILE: fs/logfs/readwrite.c:545:
+	for (i=0; i<=count; i++) {
 	           ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3914: FILE: fs/logfs/readwrite.c:547:
+		block = logfs_segment_write(inode, wblocks[i], index, i+1,
 		                                                       ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3915: FILE: fs/logfs/readwrite.c:548:
+		block = logfs_segment_write(inode, wblocks[i], index, i+1,
+				allocs);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3916: FILE: fs/logfs/readwrite.c:549:
+		allocs = allocs ? allocs-1 : 0;
 		                        ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3926: FILE: fs/logfs/readwrite.c:559:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3928: FILE: fs/logfs/readwrite.c:561:
+static int __logfs_write_buf(struct inode *inode, pgoff_t index, void *buf,
+		__be64 **wblocks)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#3933: FILE: fs/logfs/readwrite.c:566:
+	inode->i_ctime.tv_sec = inode->i_mtime.tv_sec = get_seconds();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3951: FILE: fs/logfs/readwrite.c:584:
+	BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3955: FILE: fs/logfs/readwrite.c:588:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3968: FILE: fs/logfs/readwrite.c:601:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3979: FILE: fs/logfs/readwrite.c:612:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#3992: FILE: fs/logfs/readwrite.c:625:
+	cmap = (void*)lmap;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4002: FILE: fs/logfs/readwrite.c:635:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4004: FILE: fs/logfs/readwrite.c:637:
+static int logfs_delete_loop(struct inode *inode, pgoff_t index,
+		__be64 **wblocks, int count)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#4017: FILE: fs/logfs/readwrite.c:650:
+	for (i=count; i>=0; i--) {
 	      ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#4017: FILE: fs/logfs/readwrite.c:650:
+	for (i=count; i>=0; i--) {
 	               ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#4023: FILE: fs/logfs/readwrite.c:656:
+		ofs_array[i+1] = bofs;
 		           ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#4030: FILE: fs/logfs/readwrite.c:663:
+	for (i=0; i<=count; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<=' (ctx:VxV)
#4030: FILE: fs/logfs/readwrite.c:663:
+	for (i=0; i<=count; i++) {
 	           ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'block == 0'
#4032: FILE: fs/logfs/readwrite.c:665:
+		if ((block == 0) && mem_zero(wblocks[i], sb->s_blocksize)) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#4033: FILE: fs/logfs/readwrite.c:666:
+			logfs_segment_delete(inode, ofs_array[i+1], index, i+1);
 			                                       ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#4033: FILE: fs/logfs/readwrite.c:666:
+			logfs_segment_delete(inode, ofs_array[i+1], index, i+1);
 			                                                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#4036: FILE: fs/logfs/readwrite.c:669:
+		block = logfs_segment_write(inode, wblocks[i], index, i+1, 0);
 		                                                       ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4046: FILE: fs/logfs/readwrite.c:679:
+
+

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#4051: FILE: fs/logfs/readwrite.c:684:
+	inode->i_ctime.tv_sec = inode->i_mtime.tv_sec = get_seconds();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4070: FILE: fs/logfs/readwrite.c:703:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4083: FILE: fs/logfs/readwrite.c:716:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4085: FILE: fs/logfs/readwrite.c:718:
+static int logfs_rewrite_direct(struct inode *inode, int index, pgoff_t pos,
+		void *buf, int level)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4092: FILE: fs/logfs/readwrite.c:725:
+	BUG_ON(block == 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4107: FILE: fs/logfs/readwrite.c:740:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4109: FILE: fs/logfs/readwrite.c:742:
+static int logfs_rewrite_loop(struct inode *inode, pgoff_t index, void *buf,
+		__be64 **wblocks, int count, int level)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#4121: FILE: fs/logfs/readwrite.c:754:
+	for (i=count; i>=level; i--) {
 	      ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#4121: FILE: fs/logfs/readwrite.c:754:
+	for (i=count; i>=level; i--) {
 	               ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4127: FILE: fs/logfs/readwrite.c:760:
+			BUG();

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#4143: FILE: fs/logfs/readwrite.c:776:
+	for (i=level; i<=count; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<=' (ctx:VxV)
#4143: FILE: fs/logfs/readwrite.c:776:
+	for (i=level; i<=count; i++) {
 	               ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#4145: FILE: fs/logfs/readwrite.c:778:
+		block = logfs_segment_write(inode, wblocks[i], index, i+1, 0);
 		                                                       ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4155: FILE: fs/logfs/readwrite.c:788:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4157: FILE: fs/logfs/readwrite.c:790:
+static int __logfs_rewrite_block(struct inode *inode, pgoff_t index, void *buf,
+		__be64 **wblocks, int level)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4161: FILE: fs/logfs/readwrite.c:794:
+	BUG_ON(level >= LOGFS_MAX_LEVELS);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4172: FILE: fs/logfs/readwrite.c:805:
+	BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4176: FILE: fs/logfs/readwrite.c:809:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4190: FILE: fs/logfs/readwrite.c:823:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4198: FILE: fs/logfs/readwrite.c:831:
+static s64 __logfs_truncate_i0(struct inode *inode, u64 size, u64 bofs,
+		u64 pos, __be64 **wblocks)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4207: FILE: fs/logfs/readwrite.c:840:
+		logfs_segment_delete(inode, bofs,
+				pos >> inode->i_sb->s_blocksize_bits, 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4220: FILE: fs/logfs/readwrite.c:853:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4229: FILE: fs/logfs/readwrite.c:862:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4237: FILE: fs/logfs/readwrite.c:870:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4242: FILE: fs/logfs/readwrite.c:875:
+static s64 __logfs_truncate_loop(struct inode *inode, u64 size, u64 old_bofs,
+		u64 pos, __be64 **wblocks, int i)

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#4252: FILE: fs/logfs/readwrite.c:885:
+	for (e = LOGFS_BLOCK_FACTOR-1; e>=0; e--) {
 	                           ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#4252: FILE: fs/logfs/readwrite.c:885:
+	for (e = LOGFS_BLOCK_FACTOR-1; e>=0; e--) {
 	                                ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#4254: FILE: fs/logfs/readwrite.c:887:
+		u64 new_pos = pos + e*logfs_factor[i];
 		                     ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4267: FILE: fs/logfs/readwrite.c:900:
+			ofs = __logfs_truncate_loop(inode, size, bofs, new_pos,
+					wblocks, i-1);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#4267: FILE: fs/logfs/readwrite.c:900:
+					wblocks, i-1);
 					          ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4270: FILE: fs/logfs/readwrite.c:903:
+			ofs = __logfs_truncate_i0(inode, size, bofs, new_pos,
+					wblocks);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#4279: FILE: fs/logfs/readwrite.c:912:
+		logfs_segment_delete(inode, old_bofs, logfs_index(pos), i+1);
 		                                                         ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4287: FILE: fs/logfs/readwrite.c:920:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4289: FILE: fs/logfs/readwrite.c:922:
+static int logfs_truncate_direct(struct inode *inode, u64 size,
+		__be64 **wblocks)

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#4295: FILE: fs/logfs/readwrite.c:928:
+	for (e = I1_INDEX-1; e>=0; e--) {
 	                 ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#4295: FILE: fs/logfs/readwrite.c:928:
+	for (e = I1_INDEX-1; e>=0; e--) {
 	                      ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#4296: FILE: fs/logfs/readwrite.c:929:
+		u64 new_pos = e*logfs_factor[0];
 		               ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#4298: FILE: fs/logfs/readwrite.c:931:
+		if (size > e*logfs_factor[0])
 		            ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4314: FILE: fs/logfs/readwrite.c:947:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4316: FILE: fs/logfs/readwrite.c:949:
+static int logfs_truncate_loop(struct inode *inode, u64 size, __be64 **wblocks,
+		int i)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4333: FILE: fs/logfs/readwrite.c:966:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#4337: FILE: fs/logfs/readwrite.c:970:
+	void *buf = (void*)li->li_data + size;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4345: FILE: fs/logfs/readwrite.c:978:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4359: FILE: fs/logfs/readwrite.c:992:
+	BUG_ON(ret);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4364: FILE: fs/logfs/readwrite.c:997:
+	BUG_ON(ret);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4369: FILE: fs/logfs/readwrite.c:1002:
+	BUG_ON(ret);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4372: FILE: fs/logfs/readwrite.c:1005:
+	BUG_ON(ret);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4375: FILE: fs/logfs/readwrite.c:1008:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4387: FILE: fs/logfs/readwrite.c:1020:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4389: FILE: fs/logfs/readwrite.c:1022:
+static ssize_t __logfs_inode_write(struct inode *inode, const char *buf,
+		size_t count, loff_t *ppos)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4394: FILE: fs/logfs/readwrite.c:1027:
+	BUG_ON(logfs_index(*ppos) != logfs_index(*ppos + count - 1));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4420: FILE: fs/logfs/readwrite.c:1053:
+
+

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#4431: FILE: fs/logfs/readwrite.c:1064:
+	ret = ret==n ? 0 : -EIO;
 	         ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4435: FILE: fs/logfs/readwrite.c:1068:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4437: FILE: fs/logfs/readwrite.c:1070:
+int logfs_inode_write(struct inode *inode, const void *buf, size_t n,
+		loff_t _pos)

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#4445: FILE: fs/logfs/readwrite.c:1078:
+	return ret==n ? 0 : -EIO;
 	          ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4448: FILE: fs/logfs/readwrite.c:1081:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#4458: FILE: fs/logfs/readwrite.c:1091:
+	for (i=0; i<=LOGFS_MAX_INDIRECT; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<=' (ctx:VxV)
#4458: FILE: fs/logfs/readwrite.c:1091:
+	for (i=0; i<=LOGFS_MAX_INDIRECT; i++) {
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4469: FILE: fs/logfs/readwrite.c:1102:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#4474: FILE: fs/logfs/readwrite.c:1107:
+	for (i=0; i<=LOGFS_MAX_INDIRECT; i++)
 	      ^

ERROR:SPACING: spaces required around that '<=' (ctx:VxV)
#4474: FILE: fs/logfs/readwrite.c:1107:
+	for (i=0; i<=LOGFS_MAX_INDIRECT; i++)
 	           ^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4481: FILE: fs/logfs/segment.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#4482: FILE: fs/logfs/segment.c:2:
+ * fs/logfs/segment.c	- Handling the Object Store

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4498: FILE: fs/logfs/segment.c:18:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4508: FILE: fs/logfs/segment.c:28:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4510: FILE: fs/logfs/segment.c:30:
+static s32 __logfs_get_free_bytes(struct logfs_area *area, u64 ino, u64 pos,
+		size_t bytes)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4516: FILE: fs/logfs/segment.c:36:
+	BUG_ON(ret>0);

ERROR:SPACING: spaces required around that '>' (ctx:VxV)
#4516: FILE: fs/logfs/segment.c:36:
+	BUG_ON(ret>0);
 	          ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4522: FILE: fs/logfs/segment.c:42:
+	BUG_ON(area->a_used_bytes >= LOGFS_SUPER(area->a_sb)->s_segsize);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4527: FILE: fs/logfs/segment.c:47:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4538: FILE: fs/logfs/segment.c:58:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4547: FILE: fs/logfs/segment.c:67:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4553: FILE: fs/logfs/segment.c:73:
+	BUG_ON(li->li_used_bytes + bytes < bytes);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4560: FILE: fs/logfs/segment.c:80:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4566: FILE: fs/logfs/segment.c:86:
+	BUG_ON(li->li_used_bytes < bytes);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4573: FILE: fs/logfs/segment.c:93:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4620: FILE: fs/logfs/segment.c:140:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4623: FILE: fs/logfs/segment.c:143:
+	BUG_ON(level >= LOGFS_MAX_LEVELS);

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#4626: FILE: fs/logfs/segment.c:146:
+		/* ifile has seperate areas */
 		             ^^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4632: FILE: fs/logfs/segment.c:152:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4638: FILE: fs/logfs/segment.c:158:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4640: FILE: fs/logfs/segment.c:160:
+s64 __logfs_segment_write(struct inode *inode, void *buf, u64 pos, int level,
+		int alloc, int len, int compr)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4664: FILE: fs/logfs/segment.c:184:
+	BUG_ON(err);

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#4668: FILE: fs/logfs/segment.c:188:
+		int acc_len = (level==0) ? len : sb->s_blocksize;
 		                    ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#4669: FILE: fs/logfs/segment.c:189:
+		int acc_len = (level==0) ? len : sb->s_blocksize;
+		logfs_consume_bytes(inode, acc_len + LOGFS_HEADERSIZE);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4678: FILE: fs/logfs/segment.c:198:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4680: FILE: fs/logfs/segment.c:200:
+s64 logfs_segment_write(struct inode *inode, void *buf, u64 pos, int level,
+		int alloc)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4697: FILE: fs/logfs/segment.c:217:
+		ofs = __logfs_segment_write(inode, compressor_buf, pos, level,
+				alloc, compr_len, COMPR_ZLIB);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4700: FILE: fs/logfs/segment.c:220:
+		ofs = __logfs_segment_write(inode, buf, pos, level, alloc, bs,
+				COMPR_NONE);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4706: FILE: fs/logfs/segment.c:226:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4709: FILE: fs/logfs/segment.c:229:
+static void fixup_from_wbuf(struct super_block *sb, struct logfs_area *area,
+		void *read, u64 ofs, size_t readlen)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4739: FILE: fs/logfs/segment.c:259:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#4751: FILE: fs/logfs/segment.c:271:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#4751: FILE: fs/logfs/segment.c:271:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4761: FILE: fs/logfs/segment.c:281:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#4772: FILE: fs/logfs/segment.c:292:
+	h = (void*)compressor_buf;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4781: FILE: fs/logfs/segment.c:301:
+		err = logfs_uncompress(compressor_buf + LOGFS_HEADERSIZE, buf,
+				len, bs);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4782: FILE: fs/logfs/segment.c:302:
+		BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4792: FILE: fs/logfs/segment.c:312:
+
+

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#4795: FILE: fs/logfs/segment.c:315:
+	~(I1_BLOCKS-1),
 	           ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#4796: FILE: fs/logfs/segment.c:316:
+	~(I2_BLOCKS-1),
 	           ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#4797: FILE: fs/logfs/segment.c:317:
+	~(I3_BLOCKS-1)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4800: FILE: fs/logfs/segment.c:320:
+
+

ERROR:SPACING: space prohibited after that open parenthesis '('
#4808: FILE: fs/logfs/segment.c:328:
+	LOGFS_BUG_ON(	(pos1 & logfs_block_mask[level]) !=

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4812: FILE: fs/logfs/segment.c:332:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4820: FILE: fs/logfs/segment.c:340:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#4824: FILE: fs/logfs/segment.c:344:
+	h = (void*)compressor_buf;

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#4830: FILE: fs/logfs/segment.c:350:
+	len = (level==0) ? len : sb->s_blocksize;
 	            ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4835: FILE: fs/logfs/segment.c:355:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4855: FILE: fs/logfs/segment.c:375:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4864: FILE: fs/logfs/segment.c:384:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4874: FILE: fs/logfs/segment.c:394:
+	BUG_ON(list_empty(&super->s_free_list));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4883: FILE: fs/logfs/segment.c:403:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#4890: FILE: fs/logfs/segment.c:410:
+	BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4894: FILE: fs/logfs/segment.c:414:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4918: FILE: fs/logfs/segment.c:438:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4941: FILE: fs/logfs/segment.c:461:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4958: FILE: fs/logfs/segment.c:478:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4966: FILE: fs/logfs/segment.c:486:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4973: FILE: fs/logfs/segment.c:493:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5000: FILE: fs/logfs/segment.c:520:
+
+

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*super->s_journal_area)...) over kzalloc(sizeof(struct logfs_area)...)
#5006: FILE: fs/logfs/segment.c:526:
+	super->s_journal_area = kzalloc(sizeof(struct logfs_area), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#5011: FILE: fs/logfs/segment.c:531:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#5011: FILE: fs/logfs/segment.c:531:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#5019: FILE: fs/logfs/segment.c:539:
+	for (i--; i>=0; i--)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5025: FILE: fs/logfs/segment.c:545:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#5030: FILE: fs/logfs/segment.c:550:
+	for (i=0; i<LOGFS_NO_AREAS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#5030: FILE: fs/logfs/segment.c:550:
+	for (i=0; i<LOGFS_NO_AREAS; i++)
 	           ^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5037: FILE: fs/logfs/super.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#5038: FILE: fs/logfs/super.c:2:
+ * fs/logfs/super.c

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5050: FILE: fs/logfs/super.c:14:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5058: FILE: fs/logfs/super.c:22:
+	BUG_ON(ret == -EINVAL);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5069: FILE: fs/logfs/super.c:33:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5079: FILE: fs/logfs/super.c:43:
+	BUG_ON((ofs >= mtd->size) || (len > mtd->size - ofs));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5080: FILE: fs/logfs/super.c:44:
+	BUG_ON(ofs != (ofs >> super->s_writeshift) << super->s_writeshift);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5081: FILE: fs/logfs/super.c:45:
+	BUG_ON(len > PAGE_CACHE_SIZE);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'retlen != len'
#5086: FILE: fs/logfs/super.c:50:
+	if (ret || (retlen != len))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5092: FILE: fs/logfs/super.c:56:
+
+

WARNING:TYPO_SPELLING: 'excercise' may be misspelled - perhaps 'exercise'?
#5099: FILE: fs/logfs/super.c:63:
+ * from mtderase().  What an excercise in futility!
                              ^^^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5103: FILE: fs/logfs/super.c:67:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5109: FILE: fs/logfs/super.c:73:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5117: FILE: fs/logfs/super.c:81:
+	BUG_ON(len % mtd->erasesize);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#5119: FILE: fs/logfs/super.c:83:
+	truncate_inode_pages_range(&inode->i_data, ofs, ofs+len-1);
 	                                                   ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#5119: FILE: fs/logfs/super.c:83:
+	truncate_inode_pages_range(&inode->i_data, ofs, ofs+len-1);
 	                                                       ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5135: FILE: fs/logfs/super.c:99:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5145: FILE: fs/logfs/super.c:109:
+
+

CHECK:SPACING: No space is necessary after a cast
#5157: FILE: fs/logfs/super.c:121:
+	void *stack = (void *) ((ulong)current & ~0x1fffUL);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#5160: FILE: fs/logfs/super.c:124:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#5160: FILE: fs/logfs/super.c:124:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#5162: FILE: fs/logfs/super.c:126:
+		u64 ofs = sb->s_blocksize + i*super->s_writesize;
 		                             ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#5163: FILE: fs/logfs/super.c:127:
+		u64 ofs = sb->s_blocksize + i*super->s_writesize;
+		mtdwrite(sb, ofs, super->s_writesize, wbuf);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#5174: FILE: fs/logfs/super.c:138:
+	for (i=0; i<LOGFS_MAX_LEVELS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#5174: FILE: fs/logfs/super.c:138:
+	for (i=0; i<LOGFS_MAX_LEVELS; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5178: FILE: fs/logfs/super.c:142:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#5184: FILE: fs/logfs/super.c:148:
+	for (i=0; i<len; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#5184: FILE: fs/logfs/super.c:148:
+	for (i=0; i<len; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5190: FILE: fs/logfs/super.c:154:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#5206: FILE: fs/logfs/super.c:170:
+	stats->f_namelen= LOGFS_MAX_NAMELEN;
 	                ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5210: FILE: fs/logfs/super.c:174:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5221: FILE: fs/logfs/super.c:185:
+
+

WARNING:IF_1: Consider removing the #if 1 and its #endif
#5236: FILE: fs/logfs/super.c:200:
+#if 1

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5242: FILE: fs/logfs/super.c:206:
+		printk(KERN_ERR "LOGFS: fsck failed, refusing to mount\n");

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#5249: FILE: fs/logfs/super.c:213:
+	iput(LOGFS_SUPER(sb)->s_master_inode);
 	^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5253: FILE: fs/logfs/super.c:217:
+
+

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#5292: FILE: fs/logfs/super.c:256:
+	super->s_gc_reserve = super->s_total_levels * (2*super->s_no_blocks -1);
 	                                                ^

CHECK:SPACING: spaces preferred around that '-' (ctx:WxV)
#5292: FILE: fs/logfs/super.c:256:
+	super->s_gc_reserve = super->s_total_levels * (2*super->s_no_blocks -1);
 	                                                                    ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#5317: FILE: fs/logfs/super.c:281:
+	 * for rw-mounts, if necessary */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5336: FILE: fs/logfs/super.c:300:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5351: FILE: fs/logfs/super.c:315:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5353: FILE: fs/logfs/super.c:317:
+static int logfs_get_sb_mtd(struct file_system_type *type, int flags,
+		struct mtd_info *mtd, struct vfsmount *mnt)

ERROR:SPACING: space required before that '*' (ctx:VxV)
#5359: FILE: fs/logfs/super.c:323:
+	super = kzalloc(sizeof*super, GFP_KERNEL);
 	                      ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5393: FILE: fs/logfs/super.c:357:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5395: FILE: fs/logfs/super.c:359:
+static int logfs_get_sb(struct file_system_type *type, int flags,
+		const char *devname, void *data, struct vfsmount *mnt)

WARNING:LINE_SPACING: Missing a blank line after declarations
#5407: FILE: fs/logfs/super.c:371:
+		char *garbage;
+		mtdnr = simple_strtoul(devname+3, &garbage, 0);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#5407: FILE: fs/logfs/super.c:371:
+		mtdnr = simple_strtoul(devname+3, &garbage, 0);
 		                              ^

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#5407: FILE: fs/logfs/super.c:371:
+		mtdnr = simple_strtoul(devname+3, &garbage, 0);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5419: FILE: fs/logfs/super.c:383:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5427: FILE: fs/logfs/super.c:391:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5445: FILE: fs/logfs/super.c:409:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5453: FILE: fs/logfs/super.c:417:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5459: FILE: fs/logfs/progs/fsck.c:1:
+/*

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5478: FILE: fs/logfs/progs/fsck.c:20:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5483: FILE: fs/logfs/progs/fsck.c:25:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5501: FILE: fs/logfs/progs/fsck.c:43:
+	BUG_ON(err);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5508: FILE: fs/logfs/progs/fsck.c:50:
+		BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5528: FILE: fs/logfs/progs/fsck.c:70:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5535: FILE: fs/logfs/progs/fsck.c:77:
+	printk(KERN_INFO);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#5536: FILE: fs/logfs/progs/fsck.c:78:
+	for (i=0; i<super->s_no_segs; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#5536: FILE: fs/logfs/progs/fsck.c:78:
+	for (i=0; i<super->s_no_segs; i++) {
 	           ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#5539: FILE: fs/logfs/progs/fsck.c:81:
+		printk(" %5x", free);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#5541: FILE: fs/logfs/progs/fsck.c:83:
+			printk("\n" KERN_INFO);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#5543: FILE: fs/logfs/progs/fsck.c:85:
+	printk("\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5546: FILE: fs/logfs/progs/fsck.c:88:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5551: FILE: fs/logfs/progs/fsck.c:93:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5553: FILE: fs/logfs/progs/fsck.c:95:
+static noinline int read_one_dd(struct inode *dir, loff_t pos, u64 *ino,
+		u8 *type)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5566: FILE: fs/logfs/progs/fsck.c:108:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5574: FILE: fs/logfs/progs/fsck.c:116:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#5583: FILE: fs/logfs/progs/fsck.c:125:
+	for (pos=0; ; pos++) {
 	        ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5597: FILE: fs/logfs/progs/fsck.c:139:
+			printk(KERN_INFO "ino %llx > last_ino %llx\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5598: FILE: fs/logfs/progs/fsck.c:140:
+			printk(KERN_INFO "ino %llx > last_ino %llx\n",
+					ino, last_ino);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5603: FILE: fs/logfs/progs/fsck.c:145:
+			printk(KERN_INFO "Could not find inode #%llx\n", ino);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5607: FILE: fs/logfs/progs/fsck.c:149:
+			printk(KERN_INFO "dd type %x != inode type %x\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5608: FILE: fs/logfs/progs/fsck.c:150:
+			printk(KERN_INFO "dd type %x != inode type %x\n",
+					type, logfs_type(inode));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5628: FILE: fs/logfs/progs/fsck.c:170:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5646: FILE: fs/logfs/progs/fsck.c:188:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5651: FILE: fs/logfs/progs/fsck.c:193:
+
+

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#5661: FILE: fs/logfs/progs/fsck.c:203:
+	if (bytes0 || bytes1 || links0 || links1
+			|| inode->i_ino == LOGFS_SUPER(inode->i_sb)->s_last_ino)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5662: FILE: fs/logfs/progs/fsck.c:204:
+		printk(KERN_INFO "%lx: %llx(%llx) bytes, %llx(%llx) links\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5663: FILE: fs/logfs/progs/fsck.c:205:
+		printk(KERN_INFO "%lx: %llx(%llx) bytes, %llx(%llx) links\n",
+				inode->i_ino, bytes0, bytes1, links0, links1);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5668: FILE: fs/logfs/progs/fsck.c:210:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5682: FILE: fs/logfs/progs/fsck.c:224:
+
+

WARNING:ONE_SEMICOLON: Statements terminations use 1 semicolon
#5690: FILE: fs/logfs/progs/fsck.c:232:
+		ret = 0;;

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#5693: FILE: fs/logfs/progs/fsck.c:235:
+	for (i=16; i<super->s_last_ino; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#5693: FILE: fs/logfs/progs/fsck.c:235:
+	for (i=16; i<super->s_last_ino; i++) {
 	            ^

WARNING:ONE_SEMICOLON: Statements terminations use 1 semicolon
#5696: FILE: fs/logfs/progs/fsck.c:238:
+			ret = 0;;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5701: FILE: fs/logfs/progs/fsck.c:243:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5706: FILE: fs/logfs/progs/fsck.c:248:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#5724: FILE: fs/logfs/progs/fsck.c:266:
+	printk(KERN_INFO "free:%8llx, used:%8llx, total:%8llx",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5725: FILE: fs/logfs/progs/fsck.c:267:
+	printk(KERN_INFO "free:%8llx, used:%8llx, total:%8llx",
+			free_bytes, used_bytes, expected);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#5727: FILE: fs/logfs/progs/fsck.c:269:
+		printk(" + %llx\n", total - expected);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#5729: FILE: fs/logfs/progs/fsck.c:271:
+		printk(" - %llx\n", expected - total);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#5731: FILE: fs/logfs/progs/fsck.c:273:
+		printk("\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5736: FILE: fs/logfs/progs/fsck.c:278:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5747: FILE: fs/logfs/progs/fsck.c:289:
+		printk(KERN_ERR "Pass 2: directory check failed\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5753: FILE: fs/logfs/progs/fsck.c:295:
+		printk(KERN_ERR "Pass 3: inode check failed\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#5759: FILE: fs/logfs/progs/fsck.c:301:
+		printk(KERN_ERR "Pass 4: statistic check failed\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5766: FILE: fs/logfs/progs/fsck.c:308:
+
+

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#5775: FILE: fs/logfs/progs/fsck.c:317:
+	inode_bytes = kzalloc(last_ino * sizeof(u64), GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#5778: FILE: fs/logfs/progs/fsck.c:320:
+	inode_links = kzalloc(last_ino * sizeof(u64), GFP_KERNEL);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#5794: FILE: fs/logfs/progs/mkfs.c:1:
+/*

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5831: FILE: fs/logfs/progs/mkfs.c:38:
+
+

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#5832: FILE: fs/logfs/progs/mkfs.c:39:
+#if 0

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5851: FILE: fs/logfs/progs/mkfs.c:58:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5875: FILE: fs/logfs/progs/mkfs.c:82:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5878: FILE: fs/logfs/progs/mkfs.c:85:
+static size_t __write_header(struct logfs_journal_header *h, size_t len,
+		size_t datalen, u16 type, u8 compr)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5892: FILE: fs/logfs/progs/mkfs.c:99:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5894: FILE: fs/logfs/progs/mkfs.c:101:
+static size_t write_header(struct logfs_journal_header *h, size_t datalen,
+		u16 type)

WARNING:LINE_SPACING: Missing a blank line after declarations
#5897: FILE: fs/logfs/progs/mkfs.c:104:
+	size_t len = datalen + sizeof(*h);
+	return __write_header(h, len, datalen, type, COMPR_NONE);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5900: FILE: fs/logfs/progs/mkfs.c:107:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5908: FILE: fs/logfs/progs/mkfs.c:115:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#5915: FILE: fs/logfs/progs/mkfs.c:122:
+	da->da_size	= cpu_to_be64((LOGFS_INO_ROOT+1) * blocksize);
 	           	                             ^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#5916: FILE: fs/logfs/progs/mkfs.c:123:
+#if 0

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#5918: FILE: fs/logfs/progs/mkfs.c:125:
+	da->da_data[LOGFS_INO_ROOT] = cpu_to_be64(3*segsize);
 	                                           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5926: FILE: fs/logfs/progs/mkfs.c:133:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5937: FILE: fs/logfs/progs/mkfs.c:144:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5944: FILE: fs/logfs/progs/mkfs.c:151:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#5946: FILE: fs/logfs/progs/mkfs.c:153:
+static size_t write_je(size_t jpos, void *scratch, void *header,
+		size_t (*write)(void *scratch, u16 *type))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'compr_len < 0'
#5962: FILE: fs/logfs/progs/mkfs.c:169:
+	if ((compr_len < 0) || (type == JE_ANCHOR)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type == JE_ANCHOR'
#5962: FILE: fs/logfs/progs/mkfs.c:169:
+	if ((compr_len < 0) || (type == JE_ANCHOR)) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#5966: FILE: fs/logfs/progs/mkfs.c:173:
+	BUG_ON(compr_len < 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#5975: FILE: fs/logfs/progs/mkfs.c:182:
+
+

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#5982: FILE: fs/logfs/progs/mkfs.c:189:
+	journal = kzalloc(2*blocksize, GFP_KERNEL);
 	                   ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6000: FILE: fs/logfs/progs/mkfs.c:207:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#6019: FILE: fs/logfs/progs/mkfs.c:226:
+	ds->ds_feature_ro_compat= 0;
 	                        ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6044: FILE: fs/logfs/progs/mkfs.c:251:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#6047: FILE: fs/logfs/progs/mkfs.c:254:
+static void getsize(struct super_block *sb, u64 *size,
+		u64 *no_segs)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6053: FILE: fs/logfs/progs/mkfs.c:260:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#6058: FILE: fs/logfs/progs/mkfs.c:265:
+	int k, seg=0;
 	          ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#6062: FILE: fs/logfs/progs/mkfs.c:269:
+	for (ofs=0; ofs<fssize; ofs+=segsize) {
 	        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#6062: FILE: fs/logfs/progs/mkfs.c:269:
+	for (ofs=0; ofs<fssize; ofs+=segsize) {
 	               ^

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#6062: FILE: fs/logfs/progs/mkfs.c:269:
+	for (ofs=0; ofs<fssize; ofs+=segsize) {
 	                           ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#6065: FILE: fs/logfs/progs/mkfs.c:272:
+		for (k=0; k<segsize; k+=mtd->erasesize) {
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#6065: FILE: fs/logfs/progs/mkfs.c:272:
+		for (k=0; k<segsize; k+=mtd->erasesize) {
 		           ^

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#6065: FILE: fs/logfs/progs/mkfs.c:272:
+		for (k=0; k<segsize; k+=mtd->erasesize) {
 		                      ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#6067: FILE: fs/logfs/progs/mkfs.c:274:
+			bad = bad ? : mtd->block_isbad(mtd, ofs+k);
 			                                       ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6082: FILE: fs/logfs/progs/mkfs.c:289:
+
+

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#6108: FILE: fs/logfs/progs/mkfs.c:315:
+#if 0

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#6179: FILE: include/linux/logfs.h:1:
+/*

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6191: FILE: include/linux/logfs.h:13:
+
+

WARNING:TYPO_SPELLING: 'stricly' may be misspelled - perhaps 'strictly'?
#6194: FILE: include/linux/logfs.h:16:
+ * various positions or offsets.  To remove confusion, we stricly
                                                           ^^^^^^^

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#6221: FILE: include/linux/logfs.h:43:
+ * Levels 1-11 are necessary for robust gc operations and help seperate
                                                                ^^^^^^^^

WARNING:TYPO_SPELLING: 'seperated' may be misspelled - perhaps 'separated'?
#6223: FILE: include/linux/logfs.h:45:
+ * file data should get seperated into several segments based on simple
                         ^^^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6230: FILE: include/linux/logfs.h:52:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6237: FILE: include/linux/logfs.h:59:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#6269: FILE: include/linux/logfs.h:91:
+#define I0_BLOCKS		(4+16)
                  		  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#6277: FILE: include/linux/logfs.h:99:
+#define I1_INDEX		(4+16)
                 		  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#6278: FILE: include/linux/logfs.h:100:
+#define I2_INDEX		(5+16)
                 		  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#6279: FILE: include/linux/logfs.h:101:
+#define I3_INDEX		(6+16)
                 		  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#6280: FILE: include/linux/logfs.h:102:
+#define I4_INDEX		(7+16)
                 		  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#6281: FILE: include/linux/logfs.h:103:
+#define I5_INDEX		(8+16)
                 		  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#6284: FILE: include/linux/logfs.h:106:
+#define LOGFS_EMBEDDED_FIELDS	(9+16)
                              	  ^

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#6303: FILE: include/linux/logfs.h:125:
+ * LogFS needs to seperate data into levels.  Each level is defined as the
                   ^^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6326: FILE: include/linux/logfs.h:148:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6339: FILE: include/linux/logfs.h:161:
+
+

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#6341: FILE: include/linux/logfs.h:163:
+#if 0

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6346: FILE: include/linux/logfs.h:168:
+
+

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#6354: FILE: include/linux/logfs.h:176:
+ * @ds_data_levels:		number of seperate levels for data
                    		          ^^^^^^^^

ERROR:SPACING: space required after that close brace '}'
#6396: FILE: include/linux/logfs.h:218:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6398: FILE: include/linux/logfs.h:220:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6416: FILE: include/linux/logfs.h:238:
+
+

ERROR:SPACING: space required after that close brace '}'
#6449: FILE: include/linux/logfs.h:271:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6451: FILE: include/linux/logfs.h:273:
+
+

ERROR:SPACING: space required after that close brace '}'
#6465: FILE: include/linux/logfs.h:287:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6467: FILE: include/linux/logfs.h:289:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6475: FILE: include/linux/logfs.h:297:
+
+

ERROR:SPACING: space required after that close brace '}'
#6493: FILE: include/linux/logfs.h:315:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6495: FILE: include/linux/logfs.h:317:
+
+

ERROR:SPACING: space required after that close brace '}'
#6515: FILE: include/linux/logfs.h:337:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6517: FILE: include/linux/logfs.h:339:
+
+

ERROR:SPACING: space required after that close brace '}'
#6537: FILE: include/linux/logfs.h:359:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6539: FILE: include/linux/logfs.h:361:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6561: FILE: include/linux/logfs.h:383:
+
+

ERROR:SPACING: space required after that close brace '}'
#6576: FILE: include/linux/logfs.h:398:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6578: FILE: include/linux/logfs.h:400:
+
+

ERROR:SPACING: space required after that close brace '}'
#6588: FILE: include/linux/logfs.h:410:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6590: FILE: include/linux/logfs.h:412:
+
+

ERROR:SPACING: space required after that close brace '}'
#6600: FILE: include/linux/logfs.h:422:
+}__packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6602: FILE: include/linux/logfs.h:424:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6618: FILE: include/linux/logfs.h:440:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6624: FILE: include/linux/logfs.h:446:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#6626: FILE: include/linux/logfs.h:448:
+ * entries, next groups contain one entry per level */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#6645: FILE: include/linux/logfs.h:467:
+
+

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000431083.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 146 errors, 196 warnings, 521 checks, 6497 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000431083.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
