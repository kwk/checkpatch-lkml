WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#38: FILE: drivers/block/drbd/drbd_int.h:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#39: FILE: drivers/block/drbd/drbd_int.h:2:
+/*
+  drbd_int.h

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#60: FILE: drivers/block/drbd/drbd_int.h:23:
+  the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:SPACING: space required after that ',' (ctx:VxV)
#84: FILE: drivers/block/drbd/drbd_int.h:47:
+# define __protected_by(x)       __attribute__((require_context(x,1,999,"rdwr")))
                                                                  ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#84: FILE: drivers/block/drbd/drbd_int.h:47:
+# define __protected_by(x)       __attribute__((require_context(x,1,999,"rdwr")))
                                                                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#84: FILE: drivers/block/drbd/drbd_int.h:47:
+# define __protected_by(x)       __attribute__((require_context(x,1,999,"rdwr")))
                                                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#85: FILE: drivers/block/drbd/drbd_int.h:48:
+# define __protected_read_by(x)  __attribute__((require_context(x,1,999,"read")))
                                                                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#85: FILE: drivers/block/drbd/drbd_int.h:48:
+# define __protected_read_by(x)  __attribute__((require_context(x,1,999,"read")))
                                                                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#85: FILE: drivers/block/drbd/drbd_int.h:48:
+# define __protected_read_by(x)  __attribute__((require_context(x,1,999,"read")))
                                                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#86: FILE: drivers/block/drbd/drbd_int.h:49:
+# define __protected_write_by(x) __attribute__((require_context(x,1,999,"write")))
                                                                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#86: FILE: drivers/block/drbd/drbd_int.h:49:
+# define __protected_write_by(x) __attribute__((require_context(x,1,999,"write")))
                                                                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#86: FILE: drivers/block/drbd/drbd_int.h:49:
+# define __protected_write_by(x) __attribute__((require_context(x,1,999,"write")))
                                                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#87: FILE: drivers/block/drbd/drbd_int.h:50:
+# define __must_hold(x)       __attribute__((context(x,1,1), require_context(x,1,999,"call")))
                                                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#87: FILE: drivers/block/drbd/drbd_int.h:50:
+# define __must_hold(x)       __attribute__((context(x,1,1), require_context(x,1,999,"call")))
                                                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#87: FILE: drivers/block/drbd/drbd_int.h:50:
+# define __must_hold(x)       __attribute__((context(x,1,1), require_context(x,1,999,"call")))
                                                                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#87: FILE: drivers/block/drbd/drbd_int.h:50:
+# define __must_hold(x)       __attribute__((context(x,1,1), require_context(x,1,999,"call")))
                                                                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#87: FILE: drivers/block/drbd/drbd_int.h:50:
+# define __must_hold(x)       __attribute__((context(x,1,1), require_context(x,1,999,"call")))
                                                                                     ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'x' - possible side-effects?
#87: FILE: drivers/block/drbd/drbd_int.h:50:
+# define __must_hold(x)       __attribute__((context(x,1,1), require_context(x,1,999,"call")))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'lock' - possible side-effects?
#95: FILE: drivers/block/drbd/drbd_int.h:58:
+#define __no_warn(lock, stmt) do { __acquire(lock); stmt; __release(lock); } while (0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#110: FILE: drivers/block/drbd/drbd_int.h:73:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'asender' may be misspelled - perhaps 'ascender'?
#119: FILE: drivers/block/drbd/drbd_int.h:82:
+ * This is used to wake the asender,
                             ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'adress' may be misspelled - perhaps 'address'?
#134: FILE: drivers/block/drbd/drbd_int.h:97:
+ * so if it says "cannot dereference null pointer at adress 0x00000001",
                                                      ^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#135: FILE: drivers/block/drbd/drbd_int.h:98:
+ * it is most likely one of these :( */

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#156: FILE: drivers/block/drbd/drbd_int.h:119:
+#define DUMPP(A)   ERR(#A " = %p in %s:%d\n", (A), __FILE__, __LINE__);

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#157: FILE: drivers/block/drbd/drbd_int.h:120:
+#define DUMPLU(A)  ERR(#A " = %lu in %s:%d\n", (unsigned long)(A), __FILE__, __LINE__);

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#158: FILE: drivers/block/drbd/drbd_int.h:121:
+#define DUMPLLU(A) ERR(#A " = %llu in %s:%d\n", (unsigned long long)(A), __FILE__, __LINE__);

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#159: FILE: drivers/block/drbd/drbd_int.h:122:
+#define DUMPLX(A)  ERR(#A " = %lx in %s:%d\n", (A), __FILE__, __LINE__);

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#160: FILE: drivers/block/drbd/drbd_int.h:123:
+#define DUMPI(A)   ERR(#A " = %d in %s:%d\n", (int)(A), __FILE__, __LINE__);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#162: FILE: drivers/block/drbd/drbd_int.h:125:
+
+

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#164: FILE: drivers/block/drbd/drbd_int.h:127:
+	printk(level "drbd%d: " fmt, \

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#165: FILE: drivers/block/drbd/drbd_int.h:128:
+		mdev->minor , ##args)
 		            ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#167: FILE: drivers/block/drbd/drbd_int.h:130:
+#define ALERT(fmt, args...) PRINTK(KERN_ALERT, fmt , ##args)
                                                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#168: FILE: drivers/block/drbd/drbd_int.h:131:
+#define ERR(fmt, args...)   PRINTK(KERN_ERR, fmt , ##args)
                                                  ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#170: FILE: drivers/block/drbd/drbd_int.h:133:
+#define drbd_WARN(fmt, args...)  PRINTK(KERN_WARNING, fmt , ##args)
                                                           ^

WARNING:UNNECESSARY_KERN_LEVEL: Possible unnecessary KERN_WARNING
#170: FILE: drivers/block/drbd/drbd_int.h:133:
+#define drbd_WARN(fmt, args...)  PRINTK(KERN_WARNING, fmt , ##args)

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#171: FILE: drivers/block/drbd/drbd_int.h:134:
+#define INFO(fmt, args...)  PRINTK(KERN_INFO, fmt , ##args)
                                                   ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#172: FILE: drivers/block/drbd/drbd_int.h:135:
+#define DBG(fmt, args...)   PRINTK(KERN_DEBUG, fmt , ##args)
                                                    ^

WARNING:TYPO_SPELLING: 'independend' may be misspelled - perhaps 'independent'?
#175: FILE: drivers/block/drbd/drbd_int.h:138:
+ * macro, so it is easy do have independend rate limits at different locations
                                 ^^^^^^^^^^^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ratelimit_jiffies' - possible side-effects?
#179: FILE: drivers/block/drbd/drbd_int.h:142:
+#define DRBD_ratelimit(ratelimit_jiffies, ratelimit_burst)	\
+({								\
+	int __ret;						\
+	static unsigned long toks = 0x80000000UL;		\
+	static unsigned long last_msg;				\
+	static int missed;					\
+	unsigned long now = jiffies;				\
+	toks += now - last_msg;					\
+	last_msg = now;						\
+	if (toks > (ratelimit_burst * ratelimit_jiffies))	\
+		toks = ratelimit_burst * ratelimit_jiffies;	\
+	if (toks >= ratelimit_jiffies) {			\
+		int lost = missed;				\
+		missed = 0;					\
+		toks -= ratelimit_jiffies;			\
+		if (lost)					\
+			drbd_WARN("%d messages suppressed in %s:%d.\n", \
+				lost, __FILE__, __LINE__);	\
+		__ret = 1;					\
+	} else {						\
+		missed++;					\
+		__ret = 0;					\
+	}							\
+	__ret;							\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'ratelimit_jiffies' may be better as '(ratelimit_jiffies)' to avoid precedence issues
#179: FILE: drivers/block/drbd/drbd_int.h:142:
+#define DRBD_ratelimit(ratelimit_jiffies, ratelimit_burst)	\
+({								\
+	int __ret;						\
+	static unsigned long toks = 0x80000000UL;		\
+	static unsigned long last_msg;				\
+	static int missed;					\
+	unsigned long now = jiffies;				\
+	toks += now - last_msg;					\
+	last_msg = now;						\
+	if (toks > (ratelimit_burst * ratelimit_jiffies))	\
+		toks = ratelimit_burst * ratelimit_jiffies;	\
+	if (toks >= ratelimit_jiffies) {			\
+		int lost = missed;				\
+		missed = 0;					\
+		toks -= ratelimit_jiffies;			\
+		if (lost)					\
+			drbd_WARN("%d messages suppressed in %s:%d.\n", \
+				lost, __FILE__, __LINE__);	\
+		__ret = 1;					\
+	} else {						\
+		missed++;					\
+		__ret = 0;					\
+	}							\
+	__ret;							\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ratelimit_burst' - possible side-effects?
#179: FILE: drivers/block/drbd/drbd_int.h:142:
+#define DRBD_ratelimit(ratelimit_jiffies, ratelimit_burst)	\
+({								\
+	int __ret;						\
+	static unsigned long toks = 0x80000000UL;		\
+	static unsigned long last_msg;				\
+	static int missed;					\
+	unsigned long now = jiffies;				\
+	toks += now - last_msg;					\
+	last_msg = now;						\
+	if (toks > (ratelimit_burst * ratelimit_jiffies))	\
+		toks = ratelimit_burst * ratelimit_jiffies;	\
+	if (toks >= ratelimit_jiffies) {			\
+		int lost = missed;				\
+		missed = 0;					\
+		toks -= ratelimit_jiffies;			\
+		if (lost)					\
+			drbd_WARN("%d messages suppressed in %s:%d.\n", \
+				lost, __FILE__, __LINE__);	\
+		__ret = 1;					\
+	} else {						\
+		missed++;					\
+		__ret = 0;					\
+	}							\
+	__ret;							\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'ratelimit_burst' may be better as '(ratelimit_burst)' to avoid precedence issues
#179: FILE: drivers/block/drbd/drbd_int.h:142:
+#define DRBD_ratelimit(ratelimit_jiffies, ratelimit_burst)	\
+({								\
+	int __ret;						\
+	static unsigned long toks = 0x80000000UL;		\
+	static unsigned long last_msg;				\
+	static int missed;					\
+	unsigned long now = jiffies;				\
+	toks += now - last_msg;					\
+	last_msg = now;						\
+	if (toks > (ratelimit_burst * ratelimit_jiffies))	\
+		toks = ratelimit_burst * ratelimit_jiffies;	\
+	if (toks >= ratelimit_jiffies) {			\
+		int lost = missed;				\
+		missed = 0;					\
+		toks -= ratelimit_jiffies;			\
+		if (lost)					\
+			drbd_WARN("%d messages suppressed in %s:%d.\n", \
+				lost, __FILE__, __LINE__);	\
+		__ret = 1;					\
+	} else {						\
+		missed++;					\
+		__ret = 0;					\
+	}							\
+	__ret;							\
+})

CHECK:LINE_SPACING: Please don't use multiple blank lines
#205: FILE: drivers/block/drbd/drbd_int.h:168:
+
+

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros starting with if should be enclosed by a do - while loop to avoid possible if/else logic defects
#206: FILE: drivers/block/drbd/drbd_int.h:169:
+#define D_ASSERT(exp)	if (!(exp)) \
+	 ERR("ASSERT( " #exp " ) in %s:%d\n", __FILE__, __LINE__)

Macros with multiple statements should be enclosed in a
do - while block.  Same should also be the case for macros
starting with `if` to avoid logic defects::

  #define macrofun(a, b, c)                 \
    do {                                    \
            if (a == 5)                     \
                    do_this(b, c);          \
    } while (0)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#macros-enums-and-rtl

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros starting with if should be enclosed by a do - while loop to avoid possible if/else logic defects
#209: FILE: drivers/block/drbd/drbd_int.h:172:
+#define ERR_IF(exp) if (({				\
+	int _b = (exp) != 0;				\
+	if (_b) ERR("%s: (%s) in %s:%d\n",		\
+		__func__, #exp, __FILE__, __LINE__);	\
+	 _b;						\
+	}))

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#211: FILE: drivers/block/drbd/drbd_int.h:174:
+	if (_b) ERR("%s: (%s) in %s:%d\n",		\

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#218: FILE: drivers/block/drbd/drbd_int.h:181:
+    DRBD_FAULT_MD_WR = 0,^I/* meta data write */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#219: FILE: drivers/block/drbd/drbd_int.h:182:
+    DRBD_FAULT_MD_RD,^I^I/*           read  */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#220: FILE: drivers/block/drbd/drbd_int.h:183:
+    DRBD_FAULT_RS_WR,^I^I/* resync          */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#221: FILE: drivers/block/drbd/drbd_int.h:184:
+    DRBD_FAULT_RS_RD,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#222: FILE: drivers/block/drbd/drbd_int.h:185:
+    DRBD_FAULT_DT_WR,^I^I/* data            */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: drivers/block/drbd/drbd_int.h:186:
+    DRBD_FAULT_DT_RD,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#224: FILE: drivers/block/drbd/drbd_int.h:187:
+    DRBD_FAULT_DT_RA,^I^I/* data read ahead */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#225: FILE: drivers/block/drbd/drbd_int.h:188:
+    DRBD_FAULT_AL_EE,^I^I/* alloc ee */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#227: FILE: drivers/block/drbd/drbd_int.h:190:
+    DRBD_FAULT_MAX,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#235: FILE: drivers/block/drbd/drbd_int.h:198:
+    return fault_rate &&$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#236: FILE: drivers/block/drbd/drbd_int.h:199:
+	    (enable_faults & (1<<type)) &&
 	                       ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#239: FILE: drivers/block/drbd/drbd_int.h:202:
+}
+#define FAULT_ACTIVE(_m, _t) (drbd_insert_fault((_m), (_t)))

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#246: FILE: drivers/block/drbd/drbd_int.h:209:
+#define div_ceil(A, B) ((A)/(B) + ((A)%(B) ? 1 : 0))
                            ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#246: FILE: drivers/block/drbd/drbd_int.h:209:
+#define div_ceil(A, B) ((A)/(B) + ((A)%(B) ? 1 : 0))
                                       ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'A' - possible side-effects?
#246: FILE: drivers/block/drbd/drbd_int.h:209:
+#define div_ceil(A, B) ((A)/(B) + ((A)%(B) ? 1 : 0))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'B' - possible side-effects?
#246: FILE: drivers/block/drbd/drbd_int.h:209:
+#define div_ceil(A, B) ((A)/(B) + ((A)%(B) ? 1 : 0))

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#248: FILE: drivers/block/drbd/drbd_int.h:211:
+#define div_floor(A, B) ((A)/(B))
                             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#252: FILE: drivers/block/drbd/drbd_int.h:215:
+#define DRBD_MD_MAGIC (DRBD_MAGIC+4)
                                  ^

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Packet_Cmd>
#260: FILE: drivers/block/drbd/drbd_int.h:223:
+enum Drbd_Packet_Cmd {

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <Data>
#262: FILE: drivers/block/drbd/drbd_int.h:225:
+	Data              = 0x00,

CHECK:CAMELCASE: Avoid CamelCase: <DataReply>
#263: FILE: drivers/block/drbd/drbd_int.h:226:
+	DataReply         = 0x01, /* Response to DataRequest */

CHECK:CAMELCASE: Avoid CamelCase: <RSDataReply>
#264: FILE: drivers/block/drbd/drbd_int.h:227:
+	RSDataReply       = 0x02, /* Response to RSDataRequest */

CHECK:CAMELCASE: Avoid CamelCase: <Barrier>
#265: FILE: drivers/block/drbd/drbd_int.h:228:
+	Barrier           = 0x03,

CHECK:CAMELCASE: Avoid CamelCase: <ReportBitMap>
#266: FILE: drivers/block/drbd/drbd_int.h:229:
+	ReportBitMap      = 0x04,

CHECK:CAMELCASE: Avoid CamelCase: <BecomeSyncTarget>
#267: FILE: drivers/block/drbd/drbd_int.h:230:
+	BecomeSyncTarget  = 0x05,

CHECK:CAMELCASE: Avoid CamelCase: <BecomeSyncSource>
#268: FILE: drivers/block/drbd/drbd_int.h:231:
+	BecomeSyncSource  = 0x06,

CHECK:CAMELCASE: Avoid CamelCase: <UnplugRemote>
#269: FILE: drivers/block/drbd/drbd_int.h:232:
+	UnplugRemote      = 0x07, /* Used at various times to hint the peer */

CHECK:CAMELCASE: Avoid CamelCase: <DataRequest>
#270: FILE: drivers/block/drbd/drbd_int.h:233:
+	DataRequest       = 0x08, /* Used to ask for a data block */

CHECK:CAMELCASE: Avoid CamelCase: <RSDataRequest>
#271: FILE: drivers/block/drbd/drbd_int.h:234:
+	RSDataRequest     = 0x09, /* Used to ask for a data block for resync */

CHECK:CAMELCASE: Avoid CamelCase: <SyncParam>
#272: FILE: drivers/block/drbd/drbd_int.h:235:
+	SyncParam         = 0x0a,

CHECK:CAMELCASE: Avoid CamelCase: <ReportProtocol>
#273: FILE: drivers/block/drbd/drbd_int.h:236:
+	ReportProtocol    = 0x0b,

CHECK:CAMELCASE: Avoid CamelCase: <ReportUUIDs>
#274: FILE: drivers/block/drbd/drbd_int.h:237:
+	ReportUUIDs       = 0x0c,

CHECK:CAMELCASE: Avoid CamelCase: <ReportSizes>
#275: FILE: drivers/block/drbd/drbd_int.h:238:
+	ReportSizes       = 0x0d,

CHECK:CAMELCASE: Avoid CamelCase: <ReportState>
#276: FILE: drivers/block/drbd/drbd_int.h:239:
+	ReportState       = 0x0e,

CHECK:CAMELCASE: Avoid CamelCase: <ReportSyncUUID>
#277: FILE: drivers/block/drbd/drbd_int.h:240:
+	ReportSyncUUID    = 0x0f,

CHECK:CAMELCASE: Avoid CamelCase: <AuthChallenge>
#278: FILE: drivers/block/drbd/drbd_int.h:241:
+	AuthChallenge     = 0x10,

CHECK:CAMELCASE: Avoid CamelCase: <AuthResponse>
#279: FILE: drivers/block/drbd/drbd_int.h:242:
+	AuthResponse      = 0x11,

CHECK:CAMELCASE: Avoid CamelCase: <StateChgRequest>
#280: FILE: drivers/block/drbd/drbd_int.h:243:
+	StateChgRequest   = 0x12,

WARNING:TYPO_SPELLING: 'asender' may be misspelled - perhaps 'ascender'?
#282: FILE: drivers/block/drbd/drbd_int.h:245:
+	/* asender (meta socket */
 	   ^^^^^^^

CHECK:CAMELCASE: Avoid CamelCase: <Ping>
#283: FILE: drivers/block/drbd/drbd_int.h:246:
+	Ping              = 0x13,

CHECK:CAMELCASE: Avoid CamelCase: <PingAck>
#284: FILE: drivers/block/drbd/drbd_int.h:247:
+	PingAck           = 0x14,

CHECK:CAMELCASE: Avoid CamelCase: <RecvAck>
#285: FILE: drivers/block/drbd/drbd_int.h:248:
+	RecvAck           = 0x15, /* Used in protocol B */

CHECK:CAMELCASE: Avoid CamelCase: <WriteAck>
#286: FILE: drivers/block/drbd/drbd_int.h:249:
+	WriteAck          = 0x16, /* Used in protocol C */

CHECK:CAMELCASE: Avoid CamelCase: <RSWriteAck>
#287: FILE: drivers/block/drbd/drbd_int.h:250:
+	RSWriteAck        = 0x17, /* Is a WriteAck, additionally call set_in_sync(). */

CHECK:CAMELCASE: Avoid CamelCase: <DiscardAck>
#288: FILE: drivers/block/drbd/drbd_int.h:251:
+	DiscardAck        = 0x18, /* Used in proto C, two-primaries conflict detection */

CHECK:CAMELCASE: Avoid CamelCase: <NegAck>
#289: FILE: drivers/block/drbd/drbd_int.h:252:
+	NegAck            = 0x19, /* Sent if local disk is unusable */

CHECK:CAMELCASE: Avoid CamelCase: <NegDReply>
#290: FILE: drivers/block/drbd/drbd_int.h:253:
+	NegDReply         = 0x1a, /* Local disk is broken... */

CHECK:CAMELCASE: Avoid CamelCase: <NegRSDReply>
#291: FILE: drivers/block/drbd/drbd_int.h:254:
+	NegRSDReply       = 0x1b, /* Local disk is broken... */

CHECK:CAMELCASE: Avoid CamelCase: <BarrierAck>
#292: FILE: drivers/block/drbd/drbd_int.h:255:
+	BarrierAck        = 0x1c,

CHECK:CAMELCASE: Avoid CamelCase: <StateChgReply>
#293: FILE: drivers/block/drbd/drbd_int.h:256:
+	StateChgReply     = 0x1d,

CHECK:CAMELCASE: Avoid CamelCase: <OVRequest>
#297: FILE: drivers/block/drbd/drbd_int.h:260:
+	OVRequest         = 0x1e, /* data socket */

CHECK:CAMELCASE: Avoid CamelCase: <OVReply>
#298: FILE: drivers/block/drbd/drbd_int.h:261:
+	OVReply           = 0x1f,

CHECK:CAMELCASE: Avoid CamelCase: <OVResult>
#299: FILE: drivers/block/drbd/drbd_int.h:262:
+	OVResult          = 0x20, /* meta socket */

CHECK:CAMELCASE: Avoid CamelCase: <CsumRSRequest>
#300: FILE: drivers/block/drbd/drbd_int.h:263:
+	CsumRSRequest     = 0x21, /* data socket */

CHECK:CAMELCASE: Avoid CamelCase: <RSIsInSync>
#301: FILE: drivers/block/drbd/drbd_int.h:264:
+	RSIsInSync        = 0x22, /* meta socket */

CHECK:CAMELCASE: Avoid CamelCase: <SyncParam89>
#302: FILE: drivers/block/drbd/drbd_int.h:265:
+	SyncParam89       = 0x23, /* data socket, protocol version 89 replacement for SyncParam */

CHECK:CAMELCASE: Avoid CamelCase: <MayIgnore>
#305: FILE: drivers/block/drbd/drbd_int.h:268:
+	MayIgnore         = 0x100, /* Flag to test if (cmd > MayIgnore) ... */

CHECK:CAMELCASE: Avoid CamelCase: <HandShakeM>
#310: FILE: drivers/block/drbd/drbd_int.h:273:
+	HandShakeM        = 0xfff1, /* First Packet on the MetaSock */

CHECK:CAMELCASE: Avoid CamelCase: <HandShakeS>
#311: FILE: drivers/block/drbd/drbd_int.h:274:
+	HandShakeS        = 0xfff2, /* First Packet on the Socket */

CHECK:CAMELCASE: Avoid CamelCase: <HandShake>
#313: FILE: drivers/block/drbd/drbd_int.h:276:
+	HandShake         = 0xfffe  /* FIXED for the next century! */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#320: FILE: drivers/block/drbd/drbd_int.h:283:
+	 * one PRO_VERSION */

WARNING:STATIC_CONST_CHAR_ARRAY: static const char * array should probably be static const char * const
#321: FILE: drivers/block/drbd/drbd_int.h:284:
+	static const char *cmdnames[] = {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#372: FILE: drivers/block/drbd/drbd_int.h:335:
+
+

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Header>
#383: FILE: drivers/block/drbd/drbd_int.h:346:
+struct Drbd_Header {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Data_Packet>
#411: FILE: drivers/block/drbd/drbd_int.h:374:
+struct Drbd_Data_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_BlockAck_Packet>
#427: FILE: drivers/block/drbd/drbd_int.h:390:
+struct Drbd_BlockAck_Packet {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#435: FILE: drivers/block/drbd/drbd_int.h:398:
+
+

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_BlockRequest_Packet>
#436: FILE: drivers/block/drbd/drbd_int.h:399:
+struct Drbd_BlockRequest_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_HandShake_Packet>
#453: FILE: drivers/block/drbd/drbd_int.h:416:
+struct Drbd_HandShake_Packet {

WARNING:TYPO_SPELLING: 'reserverd' may be misspelled - perhaps 'reserved'?
#460: FILE: drivers/block/drbd/drbd_int.h:423:
+	 * for now, feature_flags and the reserverd array shall be zero.
 	                                  ^^^^^^^^^

WARNING:TYPO_SPELLING: 'reserverd' may be misspelled - perhaps 'reserved'?
#464: FILE: drivers/block/drbd/drbd_int.h:427:
+	u64 reserverd[7];
 	    ^^^^^^^^^

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Barrier_Packet>
#468: FILE: drivers/block/drbd/drbd_int.h:431:
+struct Drbd_Barrier_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_BarrierAck_Packet>
#474: FILE: drivers/block/drbd/drbd_int.h:437:
+struct Drbd_BarrierAck_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_SyncParam_Packet>
#480: FILE: drivers/block/drbd/drbd_int.h:443:
+struct Drbd_SyncParam_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_SyncParam89_Packet>
#488: FILE: drivers/block/drbd/drbd_int.h:451:
+struct Drbd_SyncParam89_Packet {

ERROR:CODE_INDENT: code indent should use tabs where possible
#491: FILE: drivers/block/drbd/drbd_int.h:454:
+        /* protocol version 89: */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Protocol_Packet>
#496: FILE: drivers/block/drbd/drbd_int.h:459:
+struct Drbd_Protocol_Packet {

ERROR:CODE_INDENT: code indent should use tabs where possible
#505: FILE: drivers/block/drbd/drbd_int.h:468:
+              /* Since protocol version 87 and higher. */$

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_GenCnt_Packet>
#510: FILE: drivers/block/drbd/drbd_int.h:473:
+struct Drbd_GenCnt_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_SyncUUID_Packet>
#515: FILE: drivers/block/drbd/drbd_int.h:478:
+struct Drbd_SyncUUID_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Sizes_Packet>
#520: FILE: drivers/block/drbd/drbd_int.h:483:
+struct Drbd_Sizes_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_State_Packet>
#529: FILE: drivers/block/drbd/drbd_int.h:492:
+struct Drbd_State_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Req_State_Packet>
#534: FILE: drivers/block/drbd/drbd_int.h:497:
+struct Drbd_Req_State_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_RqS_Reply_Packet>
#540: FILE: drivers/block/drbd/drbd_int.h:503:
+struct Drbd_RqS_Reply_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd06_Parameter_P>
#545: FILE: drivers/block/drbd/drbd_int.h:508:
+struct Drbd06_Parameter_P {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Discard_Packet>
#555: FILE: drivers/block/drbd/drbd_int.h:518:
+struct Drbd_Discard_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_Polymorph_Packet>
#562: FILE: drivers/block/drbd/drbd_int.h:525:
+union Drbd_Polymorph_Packet {

CHECK:CAMELCASE: Avoid CamelCase: <BlockAck>
#566: FILE: drivers/block/drbd/drbd_int.h:529:
+	struct Drbd_BlockAck_Packet	BlockAck;

CHECK:CAMELCASE: Avoid CamelCase: <Protocol>
#570: FILE: drivers/block/drbd/drbd_int.h:533:
+	struct Drbd_Protocol_Packet	Protocol;

CHECK:CAMELCASE: Avoid CamelCase: <Sizes>
#571: FILE: drivers/block/drbd/drbd_int.h:534:
+	struct Drbd_Sizes_Packet	Sizes;

CHECK:CAMELCASE: Avoid CamelCase: <GenCnt>
#572: FILE: drivers/block/drbd/drbd_int.h:535:
+	struct Drbd_GenCnt_Packet	GenCnt;

CHECK:CAMELCASE: Avoid CamelCase: <State>
#573: FILE: drivers/block/drbd/drbd_int.h:536:
+	struct Drbd_State_Packet	State;

CHECK:CAMELCASE: Avoid CamelCase: <ReqState>
#574: FILE: drivers/block/drbd/drbd_int.h:537:
+	struct Drbd_Req_State_Packet	ReqState;

CHECK:CAMELCASE: Avoid CamelCase: <RqSReply>
#575: FILE: drivers/block/drbd/drbd_int.h:538:
+	struct Drbd_RqS_Reply_Packet	RqSReply;

CHECK:CAMELCASE: Avoid CamelCase: <BlockRequest>
#576: FILE: drivers/block/drbd/drbd_int.h:539:
+	struct Drbd_BlockRequest_Packet	BlockRequest;

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_thread_state>
#580: FILE: drivers/block/drbd/drbd_int.h:543:
+enum Drbd_thread_state {

CHECK:CAMELCASE: Avoid CamelCase: <None>
#581: FILE: drivers/block/drbd/drbd_int.h:544:
+	None,

CHECK:CAMELCASE: Avoid CamelCase: <Running>
#582: FILE: drivers/block/drbd/drbd_int.h:545:
+	Running,

CHECK:CAMELCASE: Avoid CamelCase: <Exiting>
#583: FILE: drivers/block/drbd/drbd_int.h:546:
+	Exiting,

CHECK:CAMELCASE: Avoid CamelCase: <Restarting>
#584: FILE: drivers/block/drbd/drbd_int.h:547:
+	Restarting

CHECK:CAMELCASE: Avoid CamelCase: <Drbd_thread>
#587: FILE: drivers/block/drbd/drbd_int.h:550:
+struct Drbd_thread {

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#588: FILE: drivers/block/drbd/drbd_int.h:551:
+	spinlock_t t_lock;

WARNING:SPACING: Unnecessary space before function pointer arguments
#591: FILE: drivers/block/drbd/drbd_int.h:554:
+	int (*function) (struct Drbd_thread *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct Drbd_thread *' should also have an identifier name
#591: FILE: drivers/block/drbd/drbd_int.h:554:
+	int (*function) (struct Drbd_thread *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#596: FILE: drivers/block/drbd/drbd_int.h:559:
+static inline enum Drbd_thread_state get_t_state(struct Drbd_thread *thi)
                                                                      ^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#600: FILE: drivers/block/drbd/drbd_int.h:563:
+	 *	--lge */

WARNING:MEMORY_BARRIER: memory barrier without comment
#602: FILE: drivers/block/drbd/drbd_int.h:565:
+	smp_rmb();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#606: FILE: drivers/block/drbd/drbd_int.h:569:
+
+

WARNING:TYPO_SPELLING: 'colision' may be misspelled - perhaps 'collision'?
#625: FILE: drivers/block/drbd/drbd_int.h:588:
+	struct hlist_node colision;
 	                  ^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#636: FILE: drivers/block/drbd/drbd_int.h:599:
+	 * we might be able to use that to our advantage...  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#656: FILE: drivers/block/drbd/drbd_int.h:619:
+/* These Tl_epoch_entries may be in one of 6 lists:
+   active_ee .. data packet being written

CHECK:CAMELCASE: Avoid CamelCase: <Tl_epoch_entry>
#679: FILE: drivers/block/drbd/drbd_int.h:642:
+struct Tl_epoch_entry {

WARNING:TYPO_SPELLING: 'colision' may be misspelled - perhaps 'collision'?
#683: FILE: drivers/block/drbd/drbd_int.h:646:
+	struct hlist_node colision;
 	                  ^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#689: FILE: drivers/block/drbd/drbd_int.h:652:
+	 * we might be able to use that to our advantage...  */

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#707: FILE: drivers/block/drbd/drbd_int.h:670:
+};
+#define EE_CALL_AL_COMPLETE_IO (1<<__EE_CALL_AL_COMPLETE_IO)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#707: FILE: drivers/block/drbd/drbd_int.h:670:
+#define EE_CALL_AL_COMPLETE_IO (1<<__EE_CALL_AL_COMPLETE_IO)
                                  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#707: FILE: drivers/block/drbd/drbd_int.h:670:
+#define EE_CALL_AL_COMPLETE_IO (1<<__EE_CALL_AL_COMPLETE_IO)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#708: FILE: drivers/block/drbd/drbd_int.h:671:
+#define EE_CONFLICT_PENDING    (1<<__EE_CONFLICT_PENDING)
                                  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#708: FILE: drivers/block/drbd/drbd_int.h:671:
+#define EE_CONFLICT_PENDING    (1<<__EE_CONFLICT_PENDING)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#709: FILE: drivers/block/drbd/drbd_int.h:672:
+#define EE_MAY_SET_IN_SYNC     (1<<__EE_MAY_SET_IN_SYNC)
                                  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#709: FILE: drivers/block/drbd/drbd_int.h:672:
+#define EE_MAY_SET_IN_SYNC     (1<<__EE_MAY_SET_IN_SYNC)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#710: FILE: drivers/block/drbd/drbd_int.h:673:
+#define EE_IS_BARRIER          (1<<__EE_IS_BARRIER)
                                  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#710: FILE: drivers/block/drbd/drbd_int.h:673:
+#define EE_IS_BARRIER          (1<<__EE_IS_BARRIER)

WARNING:TYPO_SPELLING: 'preceeded' may be misspelled - perhaps 'preceded'?
#714: FILE: drivers/block/drbd/drbd_int.h:677:
+	CREATE_BARRIER,		/* next Data is preceeded by a Barrier */
 	               		                ^^^^^^^^^

WARNING:TYPO_SPELLING: 'asender' may be misspelled - perhaps 'ascender'?
#715: FILE: drivers/block/drbd/drbd_int.h:678:
+	SIGNAL_ASENDER,		/* whether asender wants to be interrupted */
 	               		           ^^^^^^^

WARNING:TYPO_SPELLING: 'asender' may be misspelled - perhaps 'ascender'?
#716: FILE: drivers/block/drbd/drbd_int.h:679:
+	SEND_PING,		/* whether asender should send a ping asap */
 	          		           ^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#729: FILE: drivers/block/drbd/drbd_int.h:692:
+				 * goes into Connected state. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#735: FILE: drivers/block/drbd/drbd_int.h:698:
+	MD_NO_BARRIER,		/* meta data device does not support barriers,
+				   so don't even try */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#735: FILE: drivers/block/drbd/drbd_int.h:698:
+				   so don't even try */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#738: FILE: drivers/block/drbd/drbd_int.h:701:
+	BITMAP_IO,		/* suspend application io;
+				   once no more io in flight, start bitmap io */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#738: FILE: drivers/block/drbd/drbd_int.h:701:
+				   once no more io in flight, start bitmap io */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#746: FILE: drivers/block/drbd/drbd_int.h:709:
+ * MAYBE group them further */

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#763: FILE: drivers/block/drbd/drbd_int.h:726:
+	struct mutex mutex;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#766: FILE: drivers/block/drbd/drbd_int.h:729:
+	 * send/receive buffers off the stack */

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#790: FILE: drivers/block/drbd/drbd_int.h:753:
+#define NL_PACKET(name, number, fields) struct name { fields };

ERROR:SPACING: space required after that ',' (ctx:VxV)
#791: FILE: drivers/block/drbd/drbd_int.h:754:
+#define NL_INTEGER(pn,pr,member) int member;
                      ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#791: FILE: drivers/block/drbd/drbd_int.h:754:
+#define NL_INTEGER(pn,pr,member) int member;
                         ^

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#791: FILE: drivers/block/drbd/drbd_int.h:754:
+#define NL_INTEGER(pn,pr,member) int member;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#792: FILE: drivers/block/drbd/drbd_int.h:755:
+#define NL_INT64(pn,pr,member) __u64 member;
                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#792: FILE: drivers/block/drbd/drbd_int.h:755:
+#define NL_INT64(pn,pr,member) __u64 member;
                       ^

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#792: FILE: drivers/block/drbd/drbd_int.h:755:
+#define NL_INT64(pn,pr,member) __u64 member;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#793: FILE: drivers/block/drbd/drbd_int.h:756:
+#define NL_BIT(pn,pr,member)   unsigned member:1;
                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#793: FILE: drivers/block/drbd/drbd_int.h:756:
+#define NL_BIT(pn,pr,member)   unsigned member:1;
                     ^

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#793: FILE: drivers/block/drbd/drbd_int.h:756:
+#define NL_BIT(pn,pr,member)   unsigned member:1;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#794: FILE: drivers/block/drbd/drbd_int.h:757:
+#define NL_STRING(pn,pr,member,len) unsigned char member[len]; int member ## _len;
                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#794: FILE: drivers/block/drbd/drbd_int.h:757:
+#define NL_STRING(pn,pr,member,len) unsigned char member[len]; int member ## _len;
                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#794: FILE: drivers/block/drbd/drbd_int.h:757:
+#define NL_STRING(pn,pr,member,len) unsigned char member[len]; int member ## _len;
                               ^

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#794: FILE: drivers/block/drbd/drbd_int.h:757:
+#define NL_STRING(pn,pr,member,len) unsigned char member[len]; int member ## _len;

WARNING:TYPO_SPELLING: 'replys' may be misspelled - perhaps 'replies'?
#867: FILE: drivers/block/drbd/drbd_int.h:830:
+	atomic_t unacked_cnt;	 /* Need to send replys for */
 	                     	                 ^^^^^^

WARNING:TYPO_SPELLING: 'asender' may be misspelled - perhaps 'ascender'?
#903: FILE: drivers/block/drbd/drbd_int.h:866:
+	struct Drbd_thread asender;
 	                   ^^^^^^^

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#916: FILE: drivers/block/drbd/drbd_int.h:879:
+	spinlock_t epoch_lock;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#953: FILE: drivers/block/drbd/drbd_int.h:916:
+	spinlock_t peer_seq_lock;

WARNING:TYPO_SPELLING: 'successfull' may be misspelled - perhaps 'successful'?
#977: FILE: drivers/block/drbd/drbd_int.h:940:
+/* returns 1 if it was successfull,
                        ^^^^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#989: FILE: drivers/block/drbd/drbd_int.h:952:
+	 * while we were waiting in down()... */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mdev->data.socket"
#990: FILE: drivers/block/drbd/drbd_int.h:953:
+	if (unlikely(mdev->data.socket == NULL)) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:CAMELCASE: Avoid CamelCase: <ChgStateHard>
#1009: FILE: drivers/block/drbd/drbd_int.h:972:
+	ChgStateHard	= 1,

CHECK:CAMELCASE: Avoid CamelCase: <ChgStateVerbose>
#1010: FILE: drivers/block/drbd/drbd_int.h:973:
+	ChgStateVerbose = 2,

CHECK:CAMELCASE: Avoid CamelCase: <ChgWaitComplete>
#1011: FILE: drivers/block/drbd/drbd_int.h:974:
+	ChgWaitComplete = 4,

CHECK:CAMELCASE: Avoid CamelCase: <ChgSerialize>
#1012: FILE: drivers/block/drbd/drbd_int.h:975:
+	ChgSerialize    = 8,

CHECK:CAMELCASE: Avoid CamelCase: <ChgOrdered>
#1013: FILE: drivers/block/drbd/drbd_int.h:976:
+	ChgOrdered      = ChgWaitComplete + ChgSerialize,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1016: FILE: drivers/block/drbd/drbd_int.h:979:
+extern void drbd_init_set_defaults(struct drbd_conf *mdev);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1017: FILE: drivers/block/drbd/drbd_int.h:980:
+extern int drbd_change_state(struct drbd_conf *mdev, enum chg_state_flags f,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1018: FILE: drivers/block/drbd/drbd_int.h:981:
+extern int drbd_change_state(struct drbd_conf *mdev, enum chg_state_flags f,
+			union drbd_state_t mask, union drbd_state_t val);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1019: FILE: drivers/block/drbd/drbd_int.h:982:
+extern void drbd_force_state(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1019: FILE: drivers/block/drbd/drbd_int.h:982:
+extern void drbd_force_state(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'union drbd_state_t' should also have an identifier name
#1019: FILE: drivers/block/drbd/drbd_int.h:982:
+extern void drbd_force_state(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'union drbd_state_t' should also have an identifier name
#1019: FILE: drivers/block/drbd/drbd_int.h:982:
+extern void drbd_force_state(struct drbd_conf *, union drbd_state_t,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1020: FILE: drivers/block/drbd/drbd_int.h:983:
+extern void drbd_force_state(struct drbd_conf *, union drbd_state_t,
+			union drbd_state_t);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1021: FILE: drivers/block/drbd/drbd_int.h:984:
+extern int _drbd_request_state(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1021: FILE: drivers/block/drbd/drbd_int.h:984:
+extern int _drbd_request_state(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'union drbd_state_t' should also have an identifier name
#1021: FILE: drivers/block/drbd/drbd_int.h:984:
+extern int _drbd_request_state(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'union drbd_state_t' should also have an identifier name
#1021: FILE: drivers/block/drbd/drbd_int.h:984:
+extern int _drbd_request_state(struct drbd_conf *, union drbd_state_t,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1022: FILE: drivers/block/drbd/drbd_int.h:985:
+extern int _drbd_request_state(struct drbd_conf *, union drbd_state_t,
+			union drbd_state_t, enum chg_state_flags);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1023: FILE: drivers/block/drbd/drbd_int.h:986:
+extern int _drbd_set_state(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1023: FILE: drivers/block/drbd/drbd_int.h:986:
+extern int _drbd_set_state(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'union drbd_state_t' should also have an identifier name
#1023: FILE: drivers/block/drbd/drbd_int.h:986:
+extern int _drbd_set_state(struct drbd_conf *, union drbd_state_t,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1025: FILE: drivers/block/drbd/drbd_int.h:988:
+extern void print_st_err(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1025: FILE: drivers/block/drbd/drbd_int.h:988:
+extern void print_st_err(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'union drbd_state_t' should also have an identifier name
#1025: FILE: drivers/block/drbd/drbd_int.h:988:
+extern void print_st_err(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'union drbd_state_t' should also have an identifier name
#1025: FILE: drivers/block/drbd/drbd_int.h:988:
+extern void print_st_err(struct drbd_conf *, union drbd_state_t,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1025: FILE: drivers/block/drbd/drbd_int.h:988:
+extern void print_st_err(struct drbd_conf *, union drbd_state_t,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1026: FILE: drivers/block/drbd/drbd_int.h:989:
+extern void print_st_err(struct drbd_conf *, union drbd_state_t,
+			union drbd_state_t, int);

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1027: FILE: drivers/block/drbd/drbd_int.h:990:
+extern int  drbd_thread_start(struct Drbd_thread *thi);
                                                   ^^^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1027: FILE: drivers/block/drbd/drbd_int.h:990:
+extern int  drbd_thread_start(struct Drbd_thread *thi);

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1028: FILE: drivers/block/drbd/drbd_int.h:991:
+extern void _drbd_thread_stop(struct Drbd_thread *thi, int restart, int wait);
                                                   ^^^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1028: FILE: drivers/block/drbd/drbd_int.h:991:
+extern void _drbd_thread_stop(struct Drbd_thread *thi, int restart, int wait);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1030: FILE: drivers/block/drbd/drbd_int.h:993:
+extern void drbd_thread_current_set_cpu(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1031: FILE: drivers/block/drbd/drbd_int.h:994:
+extern cpumask_t drbd_calc_cpu_mask(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1036: FILE: drivers/block/drbd/drbd_int.h:999:
+extern void drbd_free_resources(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1037: FILE: drivers/block/drbd/drbd_int.h:1000:
+extern void tl_release(struct drbd_conf *mdev, unsigned int barrier_nr,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1039: FILE: drivers/block/drbd/drbd_int.h:1002:
+extern void tl_clear(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1040: FILE: drivers/block/drbd/drbd_int.h:1003:
+extern void _tl_add_barrier(struct drbd_conf *, struct drbd_barrier *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1040: FILE: drivers/block/drbd/drbd_int.h:1003:
+extern void _tl_add_barrier(struct drbd_conf *, struct drbd_barrier *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_barrier *' should also have an identifier name
#1040: FILE: drivers/block/drbd/drbd_int.h:1003:
+extern void _tl_add_barrier(struct drbd_conf *, struct drbd_barrier *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1041: FILE: drivers/block/drbd/drbd_int.h:1004:
+extern void drbd_free_sock(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1042: FILE: drivers/block/drbd/drbd_int.h:1005:
+extern int drbd_send(struct drbd_conf *mdev, struct socket *sock,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1043: FILE: drivers/block/drbd/drbd_int.h:1006:
+extern int drbd_send(struct drbd_conf *mdev, struct socket *sock,
+			void *buf, size_t size, unsigned msg_flags);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1043: FILE: drivers/block/drbd/drbd_int.h:1006:
+			void *buf, size_t size, unsigned msg_flags);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1044: FILE: drivers/block/drbd/drbd_int.h:1007:
+extern int drbd_send_protocol(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1045: FILE: drivers/block/drbd/drbd_int.h:1008:
+extern int _drbd_send_uuids(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1046: FILE: drivers/block/drbd/drbd_int.h:1009:
+extern int drbd_send_uuids(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1047: FILE: drivers/block/drbd/drbd_int.h:1010:
+extern int drbd_send_sync_uuid(struct drbd_conf *mdev, u64 val);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1048: FILE: drivers/block/drbd/drbd_int.h:1011:
+extern int drbd_send_sizes(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1049: FILE: drivers/block/drbd/drbd_int.h:1012:
+extern int _drbd_send_state(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1050: FILE: drivers/block/drbd/drbd_int.h:1013:
+extern int drbd_send_state(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1051: FILE: drivers/block/drbd/drbd_int.h:1014:
+extern int _drbd_send_cmd(struct drbd_conf *mdev, struct socket *sock,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1052: FILE: drivers/block/drbd/drbd_int.h:1015:
+extern int _drbd_send_cmd(struct drbd_conf *mdev, struct socket *sock,
+			enum Drbd_Packet_Cmd cmd, struct Drbd_Header *h,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1053: FILE: drivers/block/drbd/drbd_int.h:1016:
+			size_t size, unsigned msg_flags);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1056: FILE: drivers/block/drbd/drbd_int.h:1019:
+extern int drbd_send_cmd(struct drbd_conf *mdev, int use_data_socket,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1057: FILE: drivers/block/drbd/drbd_int.h:1020:
+extern int drbd_send_cmd(struct drbd_conf *mdev, int use_data_socket,
+			enum Drbd_Packet_Cmd cmd, struct Drbd_Header *h,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1059: FILE: drivers/block/drbd/drbd_int.h:1022:
+extern int drbd_send_cmd2(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1060: FILE: drivers/block/drbd/drbd_int.h:1023:
+extern int drbd_send_cmd2(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,
+			char *data, size_t size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1061: FILE: drivers/block/drbd/drbd_int.h:1024:
+extern int drbd_send_sync_param(struct drbd_conf *mdev, struct syncer_conf *sc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1062: FILE: drivers/block/drbd/drbd_int.h:1025:
+extern int drbd_send_b_ack(struct drbd_conf *mdev, u32 barrier_nr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1063: FILE: drivers/block/drbd/drbd_int.h:1026:
+extern int drbd_send_b_ack(struct drbd_conf *mdev, u32 barrier_nr,
+			u32 set_size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1064: FILE: drivers/block/drbd/drbd_int.h:1027:
+extern int drbd_send_ack(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1065: FILE: drivers/block/drbd/drbd_int.h:1028:
+extern int drbd_send_ack(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,
+			struct Tl_epoch_entry *e);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1066: FILE: drivers/block/drbd/drbd_int.h:1029:
+extern int drbd_send_ack_rp(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1067: FILE: drivers/block/drbd/drbd_int.h:1030:
+extern int drbd_send_ack_rp(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,
+			struct Drbd_BlockRequest_Packet *rp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1068: FILE: drivers/block/drbd/drbd_int.h:1031:
+extern int drbd_send_ack_dp(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1069: FILE: drivers/block/drbd/drbd_int.h:1032:
+extern int drbd_send_ack_dp(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,
+			struct Drbd_Data_Packet *dp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1070: FILE: drivers/block/drbd/drbd_int.h:1033:
+extern int drbd_send_ack_ex(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1072: FILE: drivers/block/drbd/drbd_int.h:1035:
+extern int _drbd_send_page(struct drbd_conf *mdev, struct page *page,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1073: FILE: drivers/block/drbd/drbd_int.h:1036:
+extern int _drbd_send_page(struct drbd_conf *mdev, struct page *page,
+			int offset, size_t size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1074: FILE: drivers/block/drbd/drbd_int.h:1037:
+extern int drbd_send_block(struct drbd_conf *mdev, enum Drbd_Packet_Cmd cmd,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1076: FILE: drivers/block/drbd/drbd_int.h:1039:
+extern int drbd_send_dblock(struct drbd_conf *mdev, struct drbd_request *req);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1077: FILE: drivers/block/drbd/drbd_int.h:1040:
+extern int _drbd_send_barrier(struct drbd_conf *mdev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1078: FILE: drivers/block/drbd/drbd_int.h:1041:
+extern int _drbd_send_barrier(struct drbd_conf *mdev,
+			struct drbd_barrier *barrier);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1079: FILE: drivers/block/drbd/drbd_int.h:1042:
+extern int drbd_send_drequest(struct drbd_conf *mdev, int cmd,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1081: FILE: drivers/block/drbd/drbd_int.h:1044:
+extern int drbd_send_drequest_csum(struct drbd_conf *mdev,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1082: FILE: drivers/block/drbd/drbd_int.h:1045:
+				   sector_t sector,int size,
 				                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1085: FILE: drivers/block/drbd/drbd_int.h:1048:
+extern int drbd_send_ov_request(struct drbd_conf *mdev,sector_t sector,int size);
                                                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1085: FILE: drivers/block/drbd/drbd_int.h:1048:
+extern int drbd_send_ov_request(struct drbd_conf *mdev,sector_t sector,int size);
                                                                       ^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1085: FILE: drivers/block/drbd/drbd_int.h:1048:
+extern int drbd_send_ov_request(struct drbd_conf *mdev,sector_t sector,int size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1087: FILE: drivers/block/drbd/drbd_int.h:1050:
+extern int drbd_send_bitmap(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1088: FILE: drivers/block/drbd/drbd_int.h:1051:
+extern int _drbd_send_bitmap(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1089: FILE: drivers/block/drbd/drbd_int.h:1052:
+extern int drbd_send_sr_reply(struct drbd_conf *mdev, int retcode);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1090: FILE: drivers/block/drbd/drbd_int.h:1053:
+extern void drbd_free_bc(struct drbd_backing_dev *bc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1091: FILE: drivers/block/drbd/drbd_int.h:1054:
+extern int drbd_io_error(struct drbd_conf *mdev, int forcedetach);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1092: FILE: drivers/block/drbd/drbd_int.h:1055:
+extern void drbd_mdev_cleanup(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1095: FILE: drivers/block/drbd/drbd_int.h:1058:
+extern void drbd_md_sync(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1096: FILE: drivers/block/drbd/drbd_int.h:1059:
+extern int  drbd_md_read(struct drbd_conf *mdev, struct drbd_backing_dev *bdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1098: FILE: drivers/block/drbd/drbd_int.h:1061:
+extern void drbd_uuid_set(struct drbd_conf *mdev, int idx, u64 val) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1099: FILE: drivers/block/drbd/drbd_int.h:1062:
+extern void _drbd_uuid_set(struct drbd_conf *mdev, int idx, u64 val) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1100: FILE: drivers/block/drbd/drbd_int.h:1063:
+extern void drbd_uuid_new_current(struct drbd_conf *mdev) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1101: FILE: drivers/block/drbd/drbd_int.h:1064:
+extern void _drbd_uuid_new_current(struct drbd_conf *mdev) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1102: FILE: drivers/block/drbd/drbd_int.h:1065:
+extern void drbd_uuid_set_bm(struct drbd_conf *mdev, u64 val) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1103: FILE: drivers/block/drbd/drbd_int.h:1066:
+extern void drbd_md_set_flag(struct drbd_conf *mdev, int flags) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1104: FILE: drivers/block/drbd/drbd_int.h:1067:
+extern void drbd_md_clear_flag(struct drbd_conf *mdev, int flags)__must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1105: FILE: drivers/block/drbd/drbd_int.h:1068:
+extern int drbd_md_test_flag(struct drbd_backing_dev *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_backing_dev *' should also have an identifier name
#1105: FILE: drivers/block/drbd/drbd_int.h:1068:
+extern int drbd_md_test_flag(struct drbd_backing_dev *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1105: FILE: drivers/block/drbd/drbd_int.h:1068:
+extern int drbd_md_test_flag(struct drbd_backing_dev *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1106: FILE: drivers/block/drbd/drbd_int.h:1069:
+extern void drbd_md_mark_dirty(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1107: FILE: drivers/block/drbd/drbd_int.h:1070:
+extern void drbd_queue_bitmap_io(struct drbd_conf *mdev,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1109: FILE: drivers/block/drbd/drbd_int.h:1072:
+				 void (*done)(struct drbd_conf *, int),

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1109: FILE: drivers/block/drbd/drbd_int.h:1072:
+				 void (*done)(struct drbd_conf *, int),

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1111: FILE: drivers/block/drbd/drbd_int.h:1074:
+extern int drbd_bmio_set_n_write(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1112: FILE: drivers/block/drbd/drbd_int.h:1075:
+extern int drbd_bmio_clear_n_write(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1113: FILE: drivers/block/drbd/drbd_int.h:1076:
+extern int drbd_bitmap_io(struct drbd_conf *mdev, int (*io_fn)(struct drbd_conf *), char *why);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1115: FILE: drivers/block/drbd/drbd_int.h:1078:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1117: FILE: drivers/block/drbd/drbd_int.h:1080:
+/* Meta data layout
+   We reserve a 128MB Block (4k aligned)

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#1119: FILE: drivers/block/drbd/drbd_int.h:1082:
+   * or on a seperate meta data device. */
              ^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1119: FILE: drivers/block/drbd/drbd_int.h:1082:
+   * or on a seperate meta data device. */

WARNING:TYPO_SPELLING: 'smalles' may be misspelled - perhaps 'smallest'?
#1128: FILE: drivers/block/drbd/drbd_int.h:1091:
+/* Since the smalles IO unit is usually 512 byte */
              ^^^^^^^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1130: FILE: drivers/block/drbd/drbd_int.h:1093:
+#define MD_HARDSECT	 (1<<MD_HARDSECT_B)
                    	   ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#1130: FILE: drivers/block/drbd/drbd_int.h:1093:
+#define MD_HARDSECT	 (1<<MD_HARDSECT_B)

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1133: FILE: drivers/block/drbd/drbd_int.h:1096:
+#define AL_EXTENTS_PT ((MD_HARDSECT-12)/8-1) /* 61 ; Extents per 512B sector */
                                    ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1133: FILE: drivers/block/drbd/drbd_int.h:1096:
+#define AL_EXTENTS_PT ((MD_HARDSECT-12)/8-1) /* 61 ; Extents per 512B sector */
                                        ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1133: FILE: drivers/block/drbd/drbd_int.h:1096:
+#define AL_EXTENTS_PT ((MD_HARDSECT-12)/8-1) /* 61 ; Extents per 512B sector */
                                          ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1135: FILE: drivers/block/drbd/drbd_int.h:1098:
+#define AL_EXTENT_SIZE (1<<AL_EXTENT_SIZE_B)
                          ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#1135: FILE: drivers/block/drbd/drbd_int.h:1098:
+#define AL_EXTENT_SIZE (1<<AL_EXTENT_SIZE_B)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1170: FILE: drivers/block/drbd/drbd_int.h:1133:
+#define BM_BLOCK_SIZE	 (1<<BM_BLOCK_SIZE_B)
                      	   ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#1170: FILE: drivers/block/drbd/drbd_int.h:1133:
+#define BM_BLOCK_SIZE	 (1<<BM_BLOCK_SIZE_B)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1172: FILE: drivers/block/drbd/drbd_int.h:1135:
+ * per sector of on disk bitmap */

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1174: FILE: drivers/block/drbd/drbd_int.h:1137:
+#define BM_EXT_SIZE	 (1<<BM_EXT_SIZE_B)
                    	   ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#1174: FILE: drivers/block/drbd/drbd_int.h:1137:
+#define BM_EXT_SIZE	 (1<<BM_EXT_SIZE_B)

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#1181: FILE: drivers/block/drbd/drbd_int.h:1144:
+#define BM_SECT_TO_BIT(x)   ((x)>>(BM_BLOCK_SIZE_B-9))
                                 ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1181: FILE: drivers/block/drbd/drbd_int.h:1144:
+#define BM_SECT_TO_BIT(x)   ((x)>>(BM_BLOCK_SIZE_B-9))
                                                   ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1182: FILE: drivers/block/drbd/drbd_int.h:1145:
+#define BM_BIT_TO_SECT(x)   ((sector_t)(x)<<(BM_BLOCK_SIZE_B-9))
                                           ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1182: FILE: drivers/block/drbd/drbd_int.h:1145:
+#define BM_BIT_TO_SECT(x)   ((sector_t)(x)<<(BM_BLOCK_SIZE_B-9))
                                                             ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1186: FILE: drivers/block/drbd/drbd_int.h:1149:
+#define Bit2KB(bits) ((bits)<<(BM_BLOCK_SIZE_B-10))
                             ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1186: FILE: drivers/block/drbd/drbd_int.h:1149:
+#define Bit2KB(bits) ((bits)<<(BM_BLOCK_SIZE_B-10))
                                               ^

CHECK:CAMELCASE: Avoid CamelCase: <Bit2KB>
#1186: FILE: drivers/block/drbd/drbd_int.h:1149:
+#define Bit2KB(bits) ((bits)<<(BM_BLOCK_SIZE_B-10))

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1189: FILE: drivers/block/drbd/drbd_int.h:1152:
+ * _storage_ sector is located in */

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#1190: FILE: drivers/block/drbd/drbd_int.h:1153:
+#define BM_SECT_TO_EXT(x)   ((x)>>(BM_EXT_SIZE_B-9))
                                 ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1190: FILE: drivers/block/drbd/drbd_int.h:1153:
+#define BM_SECT_TO_EXT(x)   ((x)>>(BM_EXT_SIZE_B-9))
                                                 ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1193: FILE: drivers/block/drbd/drbd_int.h:1156:
+#define BM_EXT_TO_SECT(x)   ((sector_t)(x) << (BM_EXT_SIZE_B-9))
                                                             ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1198: FILE: drivers/block/drbd/drbd_int.h:1161:
+#define BM_WORDS_PER_AL_EXT (1 << (AL_EXTENT_SIZE_B-BM_BLOCK_SIZE_B-LN2_BPL))
                                                    ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1198: FILE: drivers/block/drbd/drbd_int.h:1161:
+#define BM_WORDS_PER_AL_EXT (1 << (AL_EXTENT_SIZE_B-BM_BLOCK_SIZE_B-LN2_BPL))
                                                                    ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1200: FILE: drivers/block/drbd/drbd_int.h:1163:
+
+

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1202: FILE: drivers/block/drbd/drbd_int.h:1165:
+#define BM_BLOCKS_PER_BM_EXT_MASK  ((1<<BM_BLOCKS_PER_BM_EXT_B) - 1)
                                       ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1209: FILE: drivers/block/drbd/drbd_int.h:1172:
+#define BM_PACKET_WORDS ((4096-sizeof(struct Drbd_Header))/sizeof(long))
                               ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1209: FILE: drivers/block/drbd/drbd_int.h:1172:
+#define BM_PACKET_WORDS ((4096-sizeof(struct Drbd_Header))/sizeof(long))
                                                           ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1231: FILE: drivers/block/drbd/drbd_int.h:1194:
+	  ((MD_RESERVED_SECT - MD_BM_OFFSET) * (1LL<<(BM_EXT_SIZE_B-9)))
 	                                           ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1231: FILE: drivers/block/drbd/drbd_int.h:1194:
+	  ((MD_RESERVED_SECT - MD_BM_OFFSET) * (1LL<<(BM_EXT_SIZE_B-9)))
 	                                                           ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1244: FILE: drivers/block/drbd/drbd_int.h:1207:
+ * you should use 64bit OS for that much storage, anyways. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1253: FILE: drivers/block/drbd/drbd_int.h:1216:
+ * hash table. */

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1255: FILE: drivers/block/drbd/drbd_int.h:1218:
+#define DRBD_MAX_SEGMENT_SIZE (1U<<(9+HT_SHIFT))
                                  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1255: FILE: drivers/block/drbd/drbd_int.h:1218:
+#define DRBD_MAX_SEGMENT_SIZE (1U<<(9+HT_SHIFT))
                                      ^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1260: FILE: drivers/block/drbd/drbd_int.h:1223:
+extern int  drbd_bm_init(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1261: FILE: drivers/block/drbd/drbd_int.h:1224:
+extern int  drbd_bm_resize(struct drbd_conf *mdev, sector_t sectors);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1262: FILE: drivers/block/drbd/drbd_int.h:1225:
+extern void drbd_bm_cleanup(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1263: FILE: drivers/block/drbd/drbd_int.h:1226:
+extern void drbd_bm_set_all(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1264: FILE: drivers/block/drbd/drbd_int.h:1227:
+extern void drbd_bm_clear_all(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1265: FILE: drivers/block/drbd/drbd_int.h:1228:
+extern void drbd_bm_reset_find(struct drbd_conf *mdev);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1266: FILE: drivers/block/drbd/drbd_int.h:1229:
+extern int  drbd_bm_set_bits(

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1266: FILE: drivers/block/drbd/drbd_int.h:1229:
+extern int  drbd_bm_set_bits(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1268: FILE: drivers/block/drbd/drbd_int.h:1231:
+extern int  drbd_bm_clear_bits(

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1268: FILE: drivers/block/drbd/drbd_int.h:1231:
+extern int  drbd_bm_clear_bits(

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1270: FILE: drivers/block/drbd/drbd_int.h:1233:
+extern int  drbd_bm_test_bit(struct drbd_conf *mdev, unsigned long bitnr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1271: FILE: drivers/block/drbd/drbd_int.h:1234:
+extern int  drbd_bm_e_weight(struct drbd_conf *mdev, unsigned long enr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1272: FILE: drivers/block/drbd/drbd_int.h:1235:
+extern int  drbd_bm_write_sect(struct drbd_conf *mdev, unsigned long enr) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1273: FILE: drivers/block/drbd/drbd_int.h:1236:
+extern int  drbd_bm_read(struct drbd_conf *mdev) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1274: FILE: drivers/block/drbd/drbd_int.h:1237:
+extern int  drbd_bm_write(struct drbd_conf *mdev) __must_hold(local);

CHECK:CAMELCASE: Avoid CamelCase: <drbd_bm_ALe_set_all>
#1275: FILE: drivers/block/drbd/drbd_int.h:1238:
+extern unsigned long drbd_bm_ALe_set_all(struct drbd_conf *mdev,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1275: FILE: drivers/block/drbd/drbd_int.h:1238:
+extern unsigned long drbd_bm_ALe_set_all(struct drbd_conf *mdev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1276: FILE: drivers/block/drbd/drbd_int.h:1239:
+extern unsigned long drbd_bm_ALe_set_all(struct drbd_conf *mdev,
+		unsigned long al_enr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1277: FILE: drivers/block/drbd/drbd_int.h:1240:
+extern size_t	     drbd_bm_words(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1278: FILE: drivers/block/drbd/drbd_int.h:1241:
+extern unsigned long drbd_bm_bits(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1279: FILE: drivers/block/drbd/drbd_int.h:1242:
+extern sector_t      drbd_bm_capacity(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1280: FILE: drivers/block/drbd/drbd_int.h:1243:
+extern unsigned long drbd_bm_find_next(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1281: FILE: drivers/block/drbd/drbd_int.h:1244:
+extern void drbd_bm_set_find(struct drbd_conf *mdev, unsigned long i);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1282: FILE: drivers/block/drbd/drbd_int.h:1245:
+extern unsigned long drbd_bm_total_weight(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1283: FILE: drivers/block/drbd/drbd_int.h:1246:
+extern int drbd_bm_rs_done(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1285: FILE: drivers/block/drbd/drbd_int.h:1248:
+extern void drbd_bm_merge_lel(struct drbd_conf *mdev, size_t offset,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1286: FILE: drivers/block/drbd/drbd_int.h:1249:
+extern void drbd_bm_merge_lel(struct drbd_conf *mdev, size_t offset,
+		size_t number, unsigned long *buffer);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1288: FILE: drivers/block/drbd/drbd_int.h:1251:
+extern void drbd_bm_get_lel(struct drbd_conf *mdev, size_t offset,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1289: FILE: drivers/block/drbd/drbd_int.h:1252:
+extern void drbd_bm_get_lel(struct drbd_conf *mdev, size_t offset,
+		size_t number, unsigned long *buffer);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1291: FILE: drivers/block/drbd/drbd_int.h:1254:
+extern void drbd_bm_lock(struct drbd_conf *mdev, char *why);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1292: FILE: drivers/block/drbd/drbd_int.h:1255:
+extern void drbd_bm_unlock(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1294: FILE: drivers/block/drbd/drbd_int.h:1257:
+extern void _drbd_bm_recount_bits(struct drbd_conf *mdev, char *file, int line);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1297: FILE: drivers/block/drbd/drbd_int.h:1260:
+extern int drbd_bm_count_bits(struct drbd_conf *mdev, const unsigned long s, const unsigned long e);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1310: FILE: drivers/block/drbd/drbd_int.h:1273:
+extern struct drbd_conf *drbd_new_device(unsigned int minor);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1311: FILE: drivers/block/drbd/drbd_int.h:1274:
+extern void drbd_free_mdev(struct drbd_conf *mdev);

CHECK:CAMELCASE: Avoid CamelCase: <TraceLvlAlways>
#1322: FILE: drivers/block/drbd/drbd_int.h:1285:
+	TraceLvlAlways = 0,

CHECK:CAMELCASE: Avoid CamelCase: <TraceLvlSummary>
#1323: FILE: drivers/block/drbd/drbd_int.h:1286:
+	TraceLvlSummary,

CHECK:CAMELCASE: Avoid CamelCase: <TraceLvlMetrics>
#1324: FILE: drivers/block/drbd/drbd_int.h:1287:
+	TraceLvlMetrics,

CHECK:CAMELCASE: Avoid CamelCase: <TraceLvlAll>
#1325: FILE: drivers/block/drbd/drbd_int.h:1288:
+	TraceLvlAll,

CHECK:CAMELCASE: Avoid CamelCase: <TraceLvlMax>
#1326: FILE: drivers/block/drbd/drbd_int.h:1289:
+	TraceLvlMax

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypePacket>
#1330: FILE: drivers/block/drbd/drbd_int.h:1293:
+	TraceTypePacket = 0x00000001,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeRq>
#1331: FILE: drivers/block/drbd/drbd_int.h:1294:
+	TraceTypeRq	= 0x00000002,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeUuid>
#1332: FILE: drivers/block/drbd/drbd_int.h:1295:
+	TraceTypeUuid	= 0x00000004,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeResync>
#1333: FILE: drivers/block/drbd/drbd_int.h:1296:
+	TraceTypeResync = 0x00000008,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeEE>
#1334: FILE: drivers/block/drbd/drbd_int.h:1297:
+	TraceTypeEE	= 0x00000010,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeUnplug>
#1335: FILE: drivers/block/drbd/drbd_int.h:1298:
+	TraceTypeUnplug = 0x00000020,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeNl>
#1336: FILE: drivers/block/drbd/drbd_int.h:1299:
+	TraceTypeNl	= 0x00000040,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeALExts>
#1337: FILE: drivers/block/drbd/drbd_int.h:1300:
+	TraceTypeALExts = 0x00000080,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeIntRq>
#1338: FILE: drivers/block/drbd/drbd_int.h:1301:
+	TraceTypeIntRq  = 0x00000100,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeMDIO>
#1339: FILE: drivers/block/drbd/drbd_int.h:1302:
+	TraceTypeMDIO   = 0x00000200,

CHECK:CAMELCASE: Avoid CamelCase: <TraceTypeEpochs>
#1340: FILE: drivers/block/drbd/drbd_int.h:1303:
+	TraceTypeEpochs = 0x00000400,

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1347: FILE: drivers/block/drbd/drbd_int.h:1310:
+}
+static inline int

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1372: FILE: drivers/block/drbd/drbd_int.h:1335:
+ *	 of the buffer. */

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1374: FILE: drivers/block/drbd/drbd_int.h:1337:
+    DBGPRINT_BUFFADDR = 0x0001,$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1377: FILE: drivers/block/drbd/drbd_int.h:1340:
+extern void drbd_print_uuid(struct drbd_conf *mdev, unsigned int idx);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1379: FILE: drivers/block/drbd/drbd_int.h:1342:
+extern void drbd_print_buffer(const char *prefix, unsigned int flags, int size,

WARNING:LONG_LINE: line length of 118 exceeds 100 columns
#1384: FILE: drivers/block/drbd/drbd_int.h:1347:
+extern void _dump_bio(const char *pfx, struct drbd_conf *mdev, struct bio *bio, int complete, struct drbd_request *r);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1384: FILE: drivers/block/drbd/drbd_int.h:1347:
+extern void _dump_bio(const char *pfx, struct drbd_conf *mdev, struct bio *bio, int complete, struct drbd_request *r);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1387: FILE: drivers/block/drbd/drbd_int.h:1350:
+static inline void dump_bio(struct drbd_conf *mdev,
+		struct bio *bio, int complete, struct drbd_request *r)

WARNING:LONG_LINE: line length of 108 exceeds 100 columns
#1394: FILE: drivers/block/drbd/drbd_int.h:1357:
+static inline void dump_internal_bio(const char *pfx, struct drbd_conf *mdev, struct bio *bio, int complete)

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1402: FILE: drivers/block/drbd/drbd_int.h:1365:
+extern void _dump_packet(struct drbd_conf *mdev, struct socket *sock,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1426: FILE: drivers/block/drbd/drbd_int.h:1389:
+extern int drbd_make_request_26(struct request_queue *q, struct bio *bio);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1427: FILE: drivers/block/drbd/drbd_int.h:1390:
+extern int drbd_read_remote(struct drbd_conf *mdev, struct drbd_request *req);

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1428: FILE: drivers/block/drbd/drbd_int.h:1391:
+extern int drbd_merge_bvec(struct request_queue *q, struct bvec_merge_data *bvm, struct bio_vec *bvec);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1428: FILE: drivers/block/drbd/drbd_int.h:1391:
+extern int drbd_merge_bvec(struct request_queue *q, struct bvec_merge_data *bvm, struct bio_vec *bvec);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1429: FILE: drivers/block/drbd/drbd_int.h:1392:
+extern int is_valid_ar_handle(struct drbd_request *, sector_t);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_request *' should also have an identifier name
#1429: FILE: drivers/block/drbd/drbd_int.h:1392:
+extern int is_valid_ar_handle(struct drbd_request *, sector_t);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'sector_t' should also have an identifier name
#1429: FILE: drivers/block/drbd/drbd_int.h:1392:
+extern int is_valid_ar_handle(struct drbd_request *, sector_t);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1431: FILE: drivers/block/drbd/drbd_int.h:1394:
+
+

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1433: FILE: drivers/block/drbd/drbd_int.h:1396:
+extern void drbd_suspend_io(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1434: FILE: drivers/block/drbd/drbd_int.h:1397:
+extern void drbd_resume_io(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1435: FILE: drivers/block/drbd/drbd_int.h:1398:
+extern char *ppsize(char *buf, unsigned long long size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1436: FILE: drivers/block/drbd/drbd_int.h:1399:
+extern sector_t drbd_new_dev_size(struct drbd_conf *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1436: FILE: drivers/block/drbd/drbd_int.h:1399:
+extern sector_t drbd_new_dev_size(struct drbd_conf *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_backing_dev *' should also have an identifier name
#1436: FILE: drivers/block/drbd/drbd_int.h:1399:
+extern sector_t drbd_new_dev_size(struct drbd_conf *,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1437: FILE: drivers/block/drbd/drbd_int.h:1400:
+extern sector_t drbd_new_dev_size(struct drbd_conf *,
+		struct drbd_backing_dev *);

CHECK:SPACING: No space is necessary after a cast
#1439: FILE: drivers/block/drbd/drbd_int.h:1402:
+extern enum determin_dev_size_enum drbd_determin_dev_size(struct drbd_conf *) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1439: FILE: drivers/block/drbd/drbd_int.h:1402:
+extern enum determin_dev_size_enum drbd_determin_dev_size(struct drbd_conf *) __must_hold(local);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1439: FILE: drivers/block/drbd/drbd_int.h:1402:
+extern enum determin_dev_size_enum drbd_determin_dev_size(struct drbd_conf *) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1440: FILE: drivers/block/drbd/drbd_int.h:1403:
+extern void resync_after_online_grow(struct drbd_conf *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1440: FILE: drivers/block/drbd/drbd_int.h:1403:
+extern void resync_after_online_grow(struct drbd_conf *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1441: FILE: drivers/block/drbd/drbd_int.h:1404:
+extern void drbd_setup_queue_param(struct drbd_conf *mdev, unsigned int) __must_hold(local);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned int' should also have an identifier name
#1441: FILE: drivers/block/drbd/drbd_int.h:1404:
+extern void drbd_setup_queue_param(struct drbd_conf *mdev, unsigned int) __must_hold(local);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1442: FILE: drivers/block/drbd/drbd_int.h:1405:
+extern int drbd_set_role(struct drbd_conf *mdev, enum drbd_role new_role,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1443: FILE: drivers/block/drbd/drbd_int.h:1406:
+extern int drbd_set_role(struct drbd_conf *mdev, enum drbd_role new_role,
+		int force);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1445: FILE: drivers/block/drbd/drbd_int.h:1408:
+extern int drbd_khelper(struct drbd_conf *mdev, char *cmd);

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1448: FILE: drivers/block/drbd/drbd_int.h:1411:
+extern int drbd_worker(struct Drbd_thread *thi);
                                            ^^^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1448: FILE: drivers/block/drbd/drbd_int.h:1411:
+extern int drbd_worker(struct Drbd_thread *thi);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1449: FILE: drivers/block/drbd/drbd_int.h:1412:
+extern void drbd_alter_sa(struct drbd_conf *mdev, int na);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1450: FILE: drivers/block/drbd/drbd_int.h:1413:
+extern void drbd_start_resync(struct drbd_conf *mdev, enum drbd_conns side);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1451: FILE: drivers/block/drbd/drbd_int.h:1414:
+extern void resume_next_sg(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1452: FILE: drivers/block/drbd/drbd_int.h:1415:
+extern void suspend_other_sg(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1453: FILE: drivers/block/drbd/drbd_int.h:1416:
+extern int drbd_resync_finished(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1455: FILE: drivers/block/drbd/drbd_int.h:1418:
+extern int drbd_md_sync_page_io(struct drbd_conf *mdev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1456: FILE: drivers/block/drbd/drbd_int.h:1419:
+extern int drbd_md_sync_page_io(struct drbd_conf *mdev,
+		struct drbd_backing_dev *bdev, sector_t sector, int rw);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1457: FILE: drivers/block/drbd/drbd_int.h:1420:
+extern void drbd_ov_oos_found(struct drbd_conf*, sector_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf*' should also have an identifier name
#1457: FILE: drivers/block/drbd/drbd_int.h:1420:
+extern void drbd_ov_oos_found(struct drbd_conf*, sector_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'sector_t' should also have an identifier name
#1457: FILE: drivers/block/drbd/drbd_int.h:1420:
+extern void drbd_ov_oos_found(struct drbd_conf*, sector_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1457: FILE: drivers/block/drbd/drbd_int.h:1420:
+extern void drbd_ov_oos_found(struct drbd_conf*, sector_t, int);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1463: FILE: drivers/block/drbd/drbd_int.h:1426:
+		ERR("Out of sync: start=%llu, size=%lu (sectors)\n",
+		     (unsigned long long)mdev->ov_last_oos_start,

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1466: FILE: drivers/block/drbd/drbd_int.h:1429:
+	mdev->ov_last_oos_size=0;
 	                      ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1469: FILE: drivers/block/drbd/drbd_int.h:1432:
+
+

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1472: FILE: drivers/block/drbd/drbd_int.h:1435:
+extern int w_req_cancel_conflict(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1472: FILE: drivers/block/drbd/drbd_int.h:1435:
+extern int w_req_cancel_conflict(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1472: FILE: drivers/block/drbd/drbd_int.h:1435:
+extern int w_req_cancel_conflict(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1472: FILE: drivers/block/drbd/drbd_int.h:1435:
+extern int w_req_cancel_conflict(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1473: FILE: drivers/block/drbd/drbd_int.h:1436:
+extern int w_read_retry_remote(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1473: FILE: drivers/block/drbd/drbd_int.h:1436:
+extern int w_read_retry_remote(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1473: FILE: drivers/block/drbd/drbd_int.h:1436:
+extern int w_read_retry_remote(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1473: FILE: drivers/block/drbd/drbd_int.h:1436:
+extern int w_read_retry_remote(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1474: FILE: drivers/block/drbd/drbd_int.h:1437:
+extern int w_e_end_data_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1474: FILE: drivers/block/drbd/drbd_int.h:1437:
+extern int w_e_end_data_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1474: FILE: drivers/block/drbd/drbd_int.h:1437:
+extern int w_e_end_data_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1474: FILE: drivers/block/drbd/drbd_int.h:1437:
+extern int w_e_end_data_req(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1475: FILE: drivers/block/drbd/drbd_int.h:1438:
+extern int w_e_end_rsdata_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1475: FILE: drivers/block/drbd/drbd_int.h:1438:
+extern int w_e_end_rsdata_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1475: FILE: drivers/block/drbd/drbd_int.h:1438:
+extern int w_e_end_rsdata_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1475: FILE: drivers/block/drbd/drbd_int.h:1438:
+extern int w_e_end_rsdata_req(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1476: FILE: drivers/block/drbd/drbd_int.h:1439:
+extern int w_e_end_csum_rs_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1476: FILE: drivers/block/drbd/drbd_int.h:1439:
+extern int w_e_end_csum_rs_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1476: FILE: drivers/block/drbd/drbd_int.h:1439:
+extern int w_e_end_csum_rs_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1476: FILE: drivers/block/drbd/drbd_int.h:1439:
+extern int w_e_end_csum_rs_req(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1477: FILE: drivers/block/drbd/drbd_int.h:1440:
+extern int w_e_end_ov_reply(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1477: FILE: drivers/block/drbd/drbd_int.h:1440:
+extern int w_e_end_ov_reply(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1477: FILE: drivers/block/drbd/drbd_int.h:1440:
+extern int w_e_end_ov_reply(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1477: FILE: drivers/block/drbd/drbd_int.h:1440:
+extern int w_e_end_ov_reply(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1478: FILE: drivers/block/drbd/drbd_int.h:1441:
+extern int w_e_end_ov_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1478: FILE: drivers/block/drbd/drbd_int.h:1441:
+extern int w_e_end_ov_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1478: FILE: drivers/block/drbd/drbd_int.h:1441:
+extern int w_e_end_ov_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1478: FILE: drivers/block/drbd/drbd_int.h:1441:
+extern int w_e_end_ov_req(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1479: FILE: drivers/block/drbd/drbd_int.h:1442:
+extern int w_ov_finished(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1479: FILE: drivers/block/drbd/drbd_int.h:1442:
+extern int w_ov_finished(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1479: FILE: drivers/block/drbd/drbd_int.h:1442:
+extern int w_ov_finished(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1479: FILE: drivers/block/drbd/drbd_int.h:1442:
+extern int w_ov_finished(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1480: FILE: drivers/block/drbd/drbd_int.h:1443:
+extern int w_resync_inactive(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1480: FILE: drivers/block/drbd/drbd_int.h:1443:
+extern int w_resync_inactive(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1480: FILE: drivers/block/drbd/drbd_int.h:1443:
+extern int w_resync_inactive(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1480: FILE: drivers/block/drbd/drbd_int.h:1443:
+extern int w_resync_inactive(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1481: FILE: drivers/block/drbd/drbd_int.h:1444:
+extern int w_resume_next_sg(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1481: FILE: drivers/block/drbd/drbd_int.h:1444:
+extern int w_resume_next_sg(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1481: FILE: drivers/block/drbd/drbd_int.h:1444:
+extern int w_resume_next_sg(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1481: FILE: drivers/block/drbd/drbd_int.h:1444:
+extern int w_resume_next_sg(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1482: FILE: drivers/block/drbd/drbd_int.h:1445:
+extern int w_io_error(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1482: FILE: drivers/block/drbd/drbd_int.h:1445:
+extern int w_io_error(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1482: FILE: drivers/block/drbd/drbd_int.h:1445:
+extern int w_io_error(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1482: FILE: drivers/block/drbd/drbd_int.h:1445:
+extern int w_io_error(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1483: FILE: drivers/block/drbd/drbd_int.h:1446:
+extern int w_send_write_hint(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1483: FILE: drivers/block/drbd/drbd_int.h:1446:
+extern int w_send_write_hint(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1483: FILE: drivers/block/drbd/drbd_int.h:1446:
+extern int w_send_write_hint(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1483: FILE: drivers/block/drbd/drbd_int.h:1446:
+extern int w_send_write_hint(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1484: FILE: drivers/block/drbd/drbd_int.h:1447:
+extern int w_make_resync_request(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1484: FILE: drivers/block/drbd/drbd_int.h:1447:
+extern int w_make_resync_request(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1484: FILE: drivers/block/drbd/drbd_int.h:1447:
+extern int w_make_resync_request(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1484: FILE: drivers/block/drbd/drbd_int.h:1447:
+extern int w_make_resync_request(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1485: FILE: drivers/block/drbd/drbd_int.h:1448:
+extern int w_send_dblock(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1485: FILE: drivers/block/drbd/drbd_int.h:1448:
+extern int w_send_dblock(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1485: FILE: drivers/block/drbd/drbd_int.h:1448:
+extern int w_send_dblock(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1485: FILE: drivers/block/drbd/drbd_int.h:1448:
+extern int w_send_dblock(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1486: FILE: drivers/block/drbd/drbd_int.h:1449:
+extern int w_send_barrier(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1486: FILE: drivers/block/drbd/drbd_int.h:1449:
+extern int w_send_barrier(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1486: FILE: drivers/block/drbd/drbd_int.h:1449:
+extern int w_send_barrier(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1486: FILE: drivers/block/drbd/drbd_int.h:1449:
+extern int w_send_barrier(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1487: FILE: drivers/block/drbd/drbd_int.h:1450:
+extern int w_send_read_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1487: FILE: drivers/block/drbd/drbd_int.h:1450:
+extern int w_send_read_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1487: FILE: drivers/block/drbd/drbd_int.h:1450:
+extern int w_send_read_req(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1487: FILE: drivers/block/drbd/drbd_int.h:1450:
+extern int w_send_read_req(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1488: FILE: drivers/block/drbd/drbd_int.h:1451:
+extern int w_prev_work_done(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1488: FILE: drivers/block/drbd/drbd_int.h:1451:
+extern int w_prev_work_done(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1488: FILE: drivers/block/drbd/drbd_int.h:1451:
+extern int w_prev_work_done(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1488: FILE: drivers/block/drbd/drbd_int.h:1451:
+extern int w_prev_work_done(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1489: FILE: drivers/block/drbd/drbd_int.h:1452:
+extern int w_e_reissue(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_conf *' should also have an identifier name
#1489: FILE: drivers/block/drbd/drbd_int.h:1452:
+extern int w_e_reissue(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_work *' should also have an identifier name
#1489: FILE: drivers/block/drbd/drbd_int.h:1452:
+extern int w_e_reissue(struct drbd_conf *, struct drbd_work *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1489: FILE: drivers/block/drbd/drbd_int.h:1452:
+extern int w_e_reissue(struct drbd_conf *, struct drbd_work *, int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1491: FILE: drivers/block/drbd/drbd_int.h:1454:
+extern void resync_timer_fn(unsigned long data);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1494: FILE: drivers/block/drbd/drbd_int.h:1457:
+extern int drbd_release_ee(struct drbd_conf *mdev, struct list_head *list);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1495: FILE: drivers/block/drbd/drbd_int.h:1458:
+extern struct Tl_epoch_entry *drbd_alloc_ee(struct drbd_conf *mdev,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1500: FILE: drivers/block/drbd/drbd_int.h:1463:
+extern void drbd_free_ee(struct drbd_conf *mdev, struct Tl_epoch_entry *e);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1501: FILE: drivers/block/drbd/drbd_int.h:1464:
+extern void drbd_wait_ee_list_empty(struct drbd_conf *mdev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1502: FILE: drivers/block/drbd/drbd_int.h:1465:
+extern void drbd_wait_ee_list_empty(struct drbd_conf *mdev,
+		struct list_head *head);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1503: FILE: drivers/block/drbd/drbd_int.h:1466:
+extern void _drbd_wait_ee_list_empty(struct drbd_conf *mdev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1504: FILE: drivers/block/drbd/drbd_int.h:1467:
+extern void _drbd_wait_ee_list_empty(struct drbd_conf *mdev,
+		struct list_head *head);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1505: FILE: drivers/block/drbd/drbd_int.h:1468:
+extern void drbd_set_recv_tcq(struct drbd_conf *mdev, int tcq_enabled);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1506: FILE: drivers/block/drbd/drbd_int.h:1469:
+extern void _drbd_clear_done_ee(struct drbd_conf *mdev);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1509: FILE: drivers/block/drbd/drbd_int.h:1472:
+ * mess with get_fs/set_fs, we know we are KERNEL_DS always. */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1511: FILE: drivers/block/drbd/drbd_int.h:1474:
+static inline int drbd_setsockopt(struct socket *sock, int level, int optname,
+			char __user *optval, int optlen)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1514: FILE: drivers/block/drbd/drbd_int.h:1477:
+	int err;
+	if (level == SOL_SOCKET)

CHECK:SPACING: No space is necessary after a cast
#1525: FILE: drivers/block/drbd/drbd_int.h:1488:
+	(void) drbd_setsockopt(sock, SOL_TCP, TCP_CORK,

CHECK:SPACING: No space is necessary after a cast
#1532: FILE: drivers/block/drbd/drbd_int.h:1495:
+	(void) drbd_setsockopt(sock, SOL_TCP, TCP_CORK,

CHECK:SPACING: No space is necessary after a cast
#1539: FILE: drivers/block/drbd/drbd_int.h:1502:
+	(void) drbd_setsockopt(sock, SOL_TCP, TCP_NODELAY,

CHECK:SPACING: No space is necessary after a cast
#1546: FILE: drivers/block/drbd/drbd_int.h:1509:
+	(void) drbd_setsockopt(sock, SOL_TCP, TCP_QUICKACK,

WARNING:CONST_STRUCT: struct file_operations should normally be const
#1554: FILE: drivers/block/drbd/drbd_int.h:1517:
+extern struct file_operations drbd_proc_fops;

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1555: FILE: drivers/block/drbd/drbd_int.h:1518:
+extern const char *conns_to_name(enum drbd_conns s);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1556: FILE: drivers/block/drbd/drbd_int.h:1519:
+extern const char *roles_to_name(enum drbd_role s);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1559: FILE: drivers/block/drbd/drbd_int.h:1522:
+extern void drbd_al_begin_io(struct drbd_conf *mdev, sector_t sector);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1560: FILE: drivers/block/drbd/drbd_int.h:1523:
+extern void drbd_al_complete_io(struct drbd_conf *mdev, sector_t sector);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1561: FILE: drivers/block/drbd/drbd_int.h:1524:
+extern void drbd_rs_complete_io(struct drbd_conf *mdev, sector_t sector);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1562: FILE: drivers/block/drbd/drbd_int.h:1525:
+extern int drbd_rs_begin_io(struct drbd_conf *mdev, sector_t sector);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1563: FILE: drivers/block/drbd/drbd_int.h:1526:
+extern int drbd_try_rs_begin_io(struct drbd_conf *mdev, sector_t sector);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1564: FILE: drivers/block/drbd/drbd_int.h:1527:
+extern void drbd_rs_cancel_all(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1565: FILE: drivers/block/drbd/drbd_int.h:1528:
+extern int drbd_rs_del_all(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1566: FILE: drivers/block/drbd/drbd_int.h:1529:
+extern void drbd_rs_failed_io(struct drbd_conf *mdev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1567: FILE: drivers/block/drbd/drbd_int.h:1530:
+extern void drbd_rs_failed_io(struct drbd_conf *mdev,
+		sector_t sector, int size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1568: FILE: drivers/block/drbd/drbd_int.h:1531:
+extern int drbd_al_read_log(struct drbd_conf *mdev, struct drbd_backing_dev *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct drbd_backing_dev *' should also have an identifier name
#1568: FILE: drivers/block/drbd/drbd_int.h:1531:
+extern int drbd_al_read_log(struct drbd_conf *mdev, struct drbd_backing_dev *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1569: FILE: drivers/block/drbd/drbd_int.h:1532:
+extern void __drbd_set_in_sync(struct drbd_conf *mdev, sector_t sector,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1570: FILE: drivers/block/drbd/drbd_int.h:1533:
+extern void __drbd_set_in_sync(struct drbd_conf *mdev, sector_t sector,
+		int size, const char *file, const unsigned int line);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1573: FILE: drivers/block/drbd/drbd_int.h:1536:
+extern void __drbd_set_out_of_sync(struct drbd_conf *mdev, sector_t sector,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1574: FILE: drivers/block/drbd/drbd_int.h:1537:
+extern void __drbd_set_out_of_sync(struct drbd_conf *mdev, sector_t sector,
+		int size, const char *file, const unsigned int line);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1577: FILE: drivers/block/drbd/drbd_int.h:1540:
+extern void drbd_al_apply_to_bm(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1578: FILE: drivers/block/drbd/drbd_int.h:1541:
+extern void drbd_al_to_on_disk_bm(struct drbd_conf *mdev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1579: FILE: drivers/block/drbd/drbd_int.h:1542:
+extern void drbd_al_shrink(struct drbd_conf *mdev);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1581: FILE: drivers/block/drbd/drbd_int.h:1544:
+
+

WARNING:FUNCTION_ARGUMENTS: function definition argument 'union drbd_state_t' should also have an identifier name
#1586: FILE: drivers/block/drbd/drbd_int.h:1549:
+void drbd_bcast_state(struct drbd_conf *mdev, union drbd_state_t);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1589: FILE: drivers/block/drbd/drbd_int.h:1552:
+void drbd_bcast_ee(struct drbd_conf *mdev,
+		const char *reason, const int dgs,

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1590: FILE: drivers/block/drbd/drbd_int.h:1553:
+		const char* seen_hash, const char* calc_hash,

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1590: FILE: drivers/block/drbd/drbd_int.h:1553:
+		const char* seen_hash, const char* calc_hash,

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1591: FILE: drivers/block/drbd/drbd_int.h:1554:
+		const struct Tl_epoch_entry* e);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1593: FILE: drivers/block/drbd/drbd_int.h:1556:
+
+

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1616: FILE: drivers/block/drbd/drbd_int.h:1579:
+#define NS(T, S) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T = T##_mask; mask; }), \
+	({ union drbd_state_t val; val.i = 0; val.T = (S); val; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'T' - possible side-effects?
#1616: FILE: drivers/block/drbd/drbd_int.h:1579:
+#define NS(T, S) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T = T##_mask; mask; }), \
+	({ union drbd_state_t val; val.i = 0; val.T = (S); val; })

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1619: FILE: drivers/block/drbd/drbd_int.h:1582:
+#define NS2(T1, S1, T2, S2) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T1 = T1##_mask; \
+	  mask.T2 = T2##_mask; mask; }), \
+	({ union drbd_state_t val; val.i = 0; val.T1 = (S1); \
+	  val.T2 = (S2); val; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'T1' - possible side-effects?
#1619: FILE: drivers/block/drbd/drbd_int.h:1582:
+#define NS2(T1, S1, T2, S2) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T1 = T1##_mask; \
+	  mask.T2 = T2##_mask; mask; }), \
+	({ union drbd_state_t val; val.i = 0; val.T1 = (S1); \
+	  val.T2 = (S2); val; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'T2' - possible side-effects?
#1619: FILE: drivers/block/drbd/drbd_int.h:1582:
+#define NS2(T1, S1, T2, S2) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T1 = T1##_mask; \
+	  mask.T2 = T2##_mask; mask; }), \
+	({ union drbd_state_t val; val.i = 0; val.T1 = (S1); \
+	  val.T2 = (S2); val; })

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1624: FILE: drivers/block/drbd/drbd_int.h:1587:
+#define NS3(T1, S1, T2, S2, T3, S3) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T1 = T1##_mask; \
+	  mask.T2 = T2##_mask; mask.T3 = T3##_mask; mask; }), \
+	({ union drbd_state_t val;  val.i = 0; val.T1 = (S1); \
+	  val.T2 = (S2); val.T3 = (S3); val; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'T1' - possible side-effects?
#1624: FILE: drivers/block/drbd/drbd_int.h:1587:
+#define NS3(T1, S1, T2, S2, T3, S3) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T1 = T1##_mask; \
+	  mask.T2 = T2##_mask; mask.T3 = T3##_mask; mask; }), \
+	({ union drbd_state_t val;  val.i = 0; val.T1 = (S1); \
+	  val.T2 = (S2); val.T3 = (S3); val; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'T2' - possible side-effects?
#1624: FILE: drivers/block/drbd/drbd_int.h:1587:
+#define NS3(T1, S1, T2, S2, T3, S3) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T1 = T1##_mask; \
+	  mask.T2 = T2##_mask; mask.T3 = T3##_mask; mask; }), \
+	({ union drbd_state_t val;  val.i = 0; val.T1 = (S1); \
+	  val.T2 = (S2); val.T3 = (S3); val; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'T3' - possible side-effects?
#1624: FILE: drivers/block/drbd/drbd_int.h:1587:
+#define NS3(T1, S1, T2, S2, T3, S3) \
+	({ union drbd_state_t mask; mask.i = 0; mask.T1 = T1##_mask; \
+	  mask.T2 = T2##_mask; mask.T3 = T3##_mask; mask; }), \
+	({ union drbd_state_t val;  val.i = 0; val.T1 = (S1); \
+	  val.T2 = (S2); val.T3 = (S3); val; })

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1630: FILE: drivers/block/drbd/drbd_int.h:1593:
+#define _NS(D, T, S) \
+	D, ({ union drbd_state_t __ns; __ns.i = D->state.i; __ns.T = (S); __ns; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'D' - possible side-effects?
#1630: FILE: drivers/block/drbd/drbd_int.h:1593:
+#define _NS(D, T, S) \
+	D, ({ union drbd_state_t __ns; __ns.i = D->state.i; __ns.T = (S); __ns; })

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1632: FILE: drivers/block/drbd/drbd_int.h:1595:
+#define _NS2(D, T1, S1, T2, S2) \
+	D, ({ union drbd_state_t __ns; __ns.i = D->state.i; __ns.T1 = (S1); \
+	__ns.T2 = (S2); __ns; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'D' - possible side-effects?
#1632: FILE: drivers/block/drbd/drbd_int.h:1595:
+#define _NS2(D, T1, S1, T2, S2) \
+	D, ({ union drbd_state_t __ns; __ns.i = D->state.i; __ns.T1 = (S1); \
+	__ns.T2 = (S2); __ns; })

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1635: FILE: drivers/block/drbd/drbd_int.h:1598:
+#define _NS3(D, T1, S1, T2, S2, T3, S3) \
+	D, ({ union drbd_state_t __ns; __ns.i = D->state.i; __ns.T1 = (S1); \
+	__ns.T2 = (S2); __ns.T3 = (S3); __ns; })

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'D' - possible side-effects?
#1635: FILE: drivers/block/drbd/drbd_int.h:1598:
+#define _NS3(D, T1, S1, T2, S2, T3, S3) \
+	D, ({ union drbd_state_t __ns; __ns.i = D->state.i; __ns.T1 = (S1); \
+	__ns.T2 = (S2); __ns.T3 = (S3); __ns; })

WARNING:PRINTK_RATELIMITED: Prefer printk_ratelimited or pr_<level>_ratelimited to printk_ratelimit
#1671: FILE: drivers/block/drbd/drbd_int.h:1634:
+			if (printk_ratelimit())

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#1675: FILE: drivers/block/drbd/drbd_int.h:1638:
+		/* NOTE fall through to detach case if forcedetach set */

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

CHECK:CAMELCASE: Avoid CamelCase: <Failed>
#1678: FILE: drivers/block/drbd/drbd_int.h:1641:
+		if (mdev->state.disk > Failed) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1687: FILE: drivers/block/drbd/drbd_int.h:1650:
+static inline void drbd_chk_io_error(struct drbd_conf *mdev,
+	int error, int forcedetach)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1691: FILE: drivers/block/drbd/drbd_int.h:1654:
+		unsigned long flags;
+		spin_lock_irqsave(&mdev->req_lock, flags);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1714: FILE: drivers/block/drbd/drbd_int.h:1677:
+ * to be able to catch out of band md access */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1736: FILE: drivers/block/drbd/drbd_int.h:1699:
+ * current implementation will oops sooner or later */

WARNING:LINE_SPACING: Missing a blank line after declarations
#1740: FILE: drivers/block/drbd/drbd_int.h:1703:
+	sector_t s;
+	switch (bdev->dc.meta_dev_idx) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1750: FILE: drivers/block/drbd/drbd_int.h:1713:
+		s = min_t(sector_t, DRBD_MAX_SECTORS_FLEX,
+				drbd_get_capacity(bdev->backing_bdev));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1753: FILE: drivers/block/drbd/drbd_int.h:1716:
+		s = min_t(sector_t, s,
+			BM_EXT_TO_SECT(bdev->md.md_size_sect

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1758: FILE: drivers/block/drbd/drbd_int.h:1721:
+		s = min_t(sector_t, DRBD_MAX_SECTORS,
+				drbd_get_capacity(bdev->backing_bdev));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1774: FILE: drivers/block/drbd/drbd_int.h:1737:
+		 * position: last 4k aligned block of 4k size */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1776: FILE: drivers/block/drbd/drbd_int.h:1739:
+			if (DRBD_ratelimit(5*HZ, 5)) {
 			                    ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1800: FILE: drivers/block/drbd/drbd_int.h:1763:
+	unsigned long flags;
+	spin_lock_irqsave(&q->q_lock, flags);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1803: FILE: drivers/block/drbd/drbd_int.h:1766:
+	up(&q->s); /* within the spinlock,
+		      see comment near end of drbd_worker() */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1803: FILE: drivers/block/drbd/drbd_int.h:1766:
+		      see comment near end of drbd_worker() */

WARNING:LINE_SPACING: Missing a blank line after declarations
#1811: FILE: drivers/block/drbd/drbd_int.h:1774:
+	unsigned long flags;
+	spin_lock_irqsave(&q->q_lock, flags);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1814: FILE: drivers/block/drbd/drbd_int.h:1777:
+	up(&q->s); /* within the spinlock,
+		      see comment near end of drbd_worker() */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1814: FILE: drivers/block/drbd/drbd_int.h:1777:
+		      see comment near end of drbd_worker() */

WARNING:TYPO_SPELLING: 'asender' may be misspelled - perhaps 'ascender'?
#1821: FILE: drivers/block/drbd/drbd_int.h:1784:
+		force_sig(DRBD_SIG, mdev->asender.task);
 		                          ^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1831: FILE: drivers/block/drbd/drbd_int.h:1794:
+static inline int drbd_send_short_cmd(struct drbd_conf *mdev,
+	enum Drbd_Packet_Cmd cmd)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1834: FILE: drivers/block/drbd/drbd_int.h:1797:
+	struct Drbd_Header h;
+	return drbd_send_cmd(mdev, USE_DATA_SOCKET, cmd, &h, sizeof(h));

WARNING:LINE_SPACING: Missing a blank line after declarations
#1840: FILE: drivers/block/drbd/drbd_int.h:1803:
+	struct Drbd_Header h;
+	return drbd_send_cmd(mdev, USE_META_SOCKET, Ping, &h, sizeof(h));

WARNING:LINE_SPACING: Missing a blank line after declarations
#1846: FILE: drivers/block/drbd/drbd_int.h:1809:
+	struct Drbd_Header h;
+	return drbd_send_cmd(mdev, USE_META_SOCKET, PingAck, &h, sizeof(h));

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1849: FILE: drivers/block/drbd/drbd_int.h:1812:
+static inline void drbd_thread_stop(struct Drbd_thread *thi)
                                                         ^^^

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1851: FILE: drivers/block/drbd/drbd_int.h:1814:
+	_drbd_thread_stop(thi, FALSE, TRUE);
 	                  ^^^

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1854: FILE: drivers/block/drbd/drbd_int.h:1817:
+static inline void drbd_thread_stop_nowait(struct Drbd_thread *thi)
                                                                ^^^

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1856: FILE: drivers/block/drbd/drbd_int.h:1819:
+	_drbd_thread_stop(thi, FALSE, FALSE);
 	                  ^^^

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1859: FILE: drivers/block/drbd/drbd_int.h:1822:
+static inline void drbd_thread_restart_nowait(struct Drbd_thread *thi)
                                                                   ^^^

WARNING:TYPO_SPELLING: 'thi' may be misspelled - perhaps 'the'?
#1861: FILE: drivers/block/drbd/drbd_int.h:1824:
+	_drbd_thread_stop(thi, TRUE, FALSE);
 	                  ^^^

WARNING:REPEATED_WORD: Possible repeated word: 'packets'
#1864: FILE: drivers/block/drbd/drbd_int.h:1827:
+/* counts how many answer packets packets we expect from our peer,

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros starting with if should be enclosed by a do - while loop to avoid possible if/else logic defects
#1891: FILE: drivers/block/drbd/drbd_int.h:1854:
+#define ERR_IF_CNT_IS_NEGATIVE(which)				\
+	if (atomic_read(&mdev->which) < 0)			\
+		ERR("in %s:%d: " #which " = %d < 0 !\n",	\
+		    __func__ , __LINE__ ,			\
+		    atomic_read(&mdev->which))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'which' - possible side-effects?
#1891: FILE: drivers/block/drbd/drbd_int.h:1854:
+#define ERR_IF_CNT_IS_NEGATIVE(which)				\
+	if (atomic_read(&mdev->which) < 0)			\
+		ERR("in %s:%d: " #which " = %d < 0 !\n",	\
+		    __func__ , __LINE__ ,			\
+		    atomic_read(&mdev->which))

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'which' may be better as '(which)' to avoid precedence issues
#1891: FILE: drivers/block/drbd/drbd_int.h:1854:
+#define ERR_IF_CNT_IS_NEGATIVE(which)				\
+	if (atomic_read(&mdev->which) < 0)			\
+		ERR("in %s:%d: " #which " = %d < 0 !\n",	\
+		    __func__ , __LINE__ ,			\
+		    atomic_read(&mdev->which))

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1894: FILE: drivers/block/drbd/drbd_int.h:1857:
+		    __func__ , __LINE__ ,			\
 		             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#1894: FILE: drivers/block/drbd/drbd_int.h:1857:
+		    __func__ , __LINE__ ,			\
 		                        ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'mdev' - possible side-effects?
#1897: FILE: drivers/block/drbd/drbd_int.h:1860:
+#define dec_ap_pending(mdev)	do {				\
+	typecheck(struct drbd_conf *, mdev);			\
+	if (atomic_dec_and_test(&mdev->ap_pending_cnt))		\
+		wake_up(&mdev->misc_wait);			\
+	ERR_IF_CNT_IS_NEGATIVE(ap_pending_cnt); } while (0)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'mdev' may be better as '(mdev)' to avoid precedence issues
#1897: FILE: drivers/block/drbd/drbd_int.h:1860:
+#define dec_ap_pending(mdev)	do {				\
+	typecheck(struct drbd_conf *, mdev);			\
+	if (atomic_dec_and_test(&mdev->ap_pending_cnt))		\
+		wake_up(&mdev->misc_wait);			\
+	ERR_IF_CNT_IS_NEGATIVE(ap_pending_cnt); } while (0)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1901: FILE: drivers/block/drbd/drbd_int.h:1864:
+	ERR_IF_CNT_IS_NEGATIVE(ap_pending_cnt); } while (0)

WARNING:TYPO_SPELLING: 'whith' may be misspelled - perhaps 'with'?
#1906: FILE: drivers/block/drbd/drbd_int.h:1869:
+ * SyncSource sends RSDataReply   (and expects WriteAck whith ID_SYNCER)
                                                         ^^^^^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'mdev' may be better as '(mdev)' to avoid precedence issues
#1914: FILE: drivers/block/drbd/drbd_int.h:1877:
+#define dec_rs_pending(mdev)	do {				\
+	typecheck(struct drbd_conf *, mdev);			\
+	atomic_dec(&mdev->rs_pending_cnt);			\
+	ERR_IF_CNT_IS_NEGATIVE(rs_pending_cnt); } while (0)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1917: FILE: drivers/block/drbd/drbd_int.h:1880:
+	ERR_IF_CNT_IS_NEGATIVE(rs_pending_cnt); } while (0)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'mdev' may be better as '(mdev)' to avoid precedence issues
#1933: FILE: drivers/block/drbd/drbd_int.h:1896:
+#define dec_unacked(mdev)	do {				\
+	typecheck(struct drbd_conf *, mdev);			\
+	atomic_dec(&mdev->unacked_cnt);				\
+	ERR_IF_CNT_IS_NEGATIVE(unacked_cnt); } while (0)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1936: FILE: drivers/block/drbd/drbd_int.h:1899:
+	ERR_IF_CNT_IS_NEGATIVE(unacked_cnt); } while (0)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'mdev' may be better as '(mdev)' to avoid precedence issues
#1938: FILE: drivers/block/drbd/drbd_int.h:1901:
+#define sub_unacked(mdev, n)	do {				\
+	typecheck(struct drbd_conf *, mdev);			\
+	atomic_sub(n, &mdev->unacked_cnt);			\
+	ERR_IF_CNT_IS_NEGATIVE(unacked_cnt); } while (0)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1941: FILE: drivers/block/drbd/drbd_int.h:1904:
+	ERR_IF_CNT_IS_NEGATIVE(unacked_cnt); } while (0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1943: FILE: drivers/block/drbd/drbd_int.h:1906:
+
+

CHECK:CAMELCASE: Avoid CamelCase: <Unconnected>
#1959: FILE: drivers/block/drbd/drbd_int.h:1922:
+	have_net_conf = mdev->state.conn >= Unconnected;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1969: FILE: drivers/block/drbd/drbd_int.h:1932:
+#define inc_local_if_state(M,MINS) __cond_lock(local, _inc_local_if_state(M,MINS))
                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1969: FILE: drivers/block/drbd/drbd_int.h:1932:
+#define inc_local_if_state(M,MINS) __cond_lock(local, _inc_local_if_state(M,MINS))
                                                                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1970: FILE: drivers/block/drbd/drbd_int.h:1933:
+#define inc_local(M) __cond_lock(local, _inc_local_if_state(M,Inconsistent))
                                                              ^

CHECK:CAMELCASE: Avoid CamelCase: <Inconsistent>
#1970: FILE: drivers/block/drbd/drbd_int.h:1933:
+#define inc_local(M) __cond_lock(local, _inc_local_if_state(M,Inconsistent))

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1992: FILE: drivers/block/drbd/drbd_int.h:1955:
+extern int _inc_local_if_state(struct drbd_conf *mdev, enum drbd_disk_state mins);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1997: FILE: drivers/block/drbd/drbd_int.h:1960:
+static inline void drbd_get_syncer_progress(struct drbd_conf *mdev,
+		unsigned long *bits_left, unsigned int *per_mil_done)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2007: FILE: drivers/block/drbd/drbd_int.h:1970:
+	 * for the percentage, we don't care. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2011: FILE: drivers/block/drbd/drbd_int.h:1974:
+	 * +1 to prevent division by zero */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2020: FILE: drivers/block/drbd/drbd_int.h:1983:
+		drbd_WARN("cs:%s rs_left=%lu > rs_total=%lu (rs_failed %lu)\n",
+				conns_to_name(mdev->state.conn),

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#2026: FILE: drivers/block/drbd/drbd_int.h:1989:
+				(*bits_left >> 10)*1000UL
 				                  ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2032: FILE: drivers/block/drbd/drbd_int.h:1995:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2035: FILE: drivers/block/drbd/drbd_int.h:1998:
+ * maybe re-implement using semaphores? */

WARNING:LINE_SPACING: Missing a blank line after declarations
#2039: FILE: drivers/block/drbd/drbd_int.h:2002:
+	int mxb = 1000000; /* arbitrary limit on open requests */
+	if (inc_net(mdev)) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#2048: FILE: drivers/block/drbd/drbd_int.h:2011:
+{
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2050: FILE: drivers/block/drbd/drbd_int.h:2013:
+	 * for any newly introduced state we may have forgotten to add here */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2068: FILE: drivers/block/drbd/drbd_int.h:2031:
+	 * like handshake or teardown */

WARNING:TYPO_SPELLING: 'UpToDate' may be misspelled - perhaps 'Up-to-date'?
#2092: FILE: drivers/block/drbd/drbd_int.h:2055:
+	case UpToDate:
 	     ^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2120: FILE: drivers/block/drbd/drbd_int.h:2083:
+	 * to start during "stable" states. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2127: FILE: drivers/block/drbd/drbd_int.h:2090:
+	 * and we are within the spinlock anyways, we have this workaround.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2137: FILE: drivers/block/drbd/drbd_int.h:2100:
+ * and not sure when it has 3 or 4 arguments */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2141: FILE: drivers/block/drbd/drbd_int.h:2104:
+	 * os.conn != WFBitMapS && ns.conn == WFBitMapS */

WARNING:TYPO_SPELLING: 'exeed' may be misspelled - perhaps 'exceed'?
#2147: FILE: drivers/block/drbd/drbd_int.h:2110:
+	 *    handshake as long as we would exeed the max_buffer limit.
 	                                    ^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2150: FILE: drivers/block/drbd/drbd_int.h:2113:
+	 * we need to atomic_inc within the spinlock. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2172: FILE: drivers/block/drbd/drbd_int.h:2135:
+	 * e.g. (ap_bio == mxb/2 || ap_bio == 0) ? */

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2200: FILE: drivers/block/drbd/drbd_int.h:2163:
+}
+#define seq_lt(a, b) (seq_cmp((a), (b)) < 0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'a' - possible side-effects?
#2205: FILE: drivers/block/drbd/drbd_int.h:2168:
+#define seq_max(a, b) ((u32)(seq_gt((a), (b)) ? (a) : (b)))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'b' - possible side-effects?
#2205: FILE: drivers/block/drbd/drbd_int.h:2168:
+#define seq_max(a, b) ((u32)(seq_gt((a), (b)) ? (a) : (b)))

WARNING:LINE_SPACING: Missing a blank line after declarations
#2210: FILE: drivers/block/drbd/drbd_int.h:2173:
+	unsigned int m;
+	spin_lock(&mdev->peer_seq_lock);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2221: FILE: drivers/block/drbd/drbd_int.h:2184:
+	 * of distributed TCQ stuff */

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2261: FILE: drivers/block/drbd/drbd_wrappers.h:1:
+#include <linux/ctype.h>

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2264: FILE: drivers/block/drbd/drbd_wrappers.h:4:
+
+

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2298: FILE: drivers/block/drbd/drbd_wrappers.h:38:
+extern void drbd_md_io_complete(struct bio *bio, int error);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2299: FILE: drivers/block/drbd/drbd_wrappers.h:39:
+extern void drbd_endio_read_sec(struct bio *bio, int error);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2300: FILE: drivers/block/drbd/drbd_wrappers.h:40:
+extern void drbd_endio_write_sec(struct bio *bio, int error);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2301: FILE: drivers/block/drbd/drbd_wrappers.h:41:
+extern void drbd_endio_pri(struct bio *bio, int error);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2311: FILE: drivers/block/drbd/drbd_wrappers.h:51:
+		printk(KERN_ERR "drbd%d: drbd_generic_make_request: "

WARNING:SPLIT_STRING: quoted string split across lines
#2312: FILE: drivers/block/drbd/drbd_wrappers.h:52:
+		printk(KERN_ERR "drbd%d: drbd_generic_make_request: "
+				"bio->bi_bdev == NULL\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:LINE_SPACING: Missing a blank line after declarations
#2328: FILE: drivers/block/drbd/drbd_wrappers.h:68:
+	struct request_queue *q;
+	q = bdev_get_queue(mdev->this_bdev);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2333: FILE: drivers/block/drbd/drbd_wrappers.h:73:
+ * implicitly checked in blk_plug_device */

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2345: FILE: drivers/block/drbd/drbd_wrappers.h:85:
+# define __cond_lock(x,c) (c)
                       ^

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000150929.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 59 errors, 208 warnings, 400 checks, 2306 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000150929.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
