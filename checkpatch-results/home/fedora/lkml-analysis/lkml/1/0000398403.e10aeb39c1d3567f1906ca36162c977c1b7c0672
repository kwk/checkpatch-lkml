WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#223: FILE: drivers/block/floppy.c:2544:
+			printk(KERN_DEBUG "fsector_t=%d buffer_min=%d\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#225: FILE: drivers/block/floppy.c:2546:
+			printk(KERN_DEBUG "current_count_sectors=%ld\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#234: FILE: drivers/block/floppy.c:2549:
+				printk(KERN_DEBUG "read\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#236: FILE: drivers/block/floppy.c:2551:
+				printk(KERN_DEBUG "write\n");

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#273: FILE: drivers/block/lguest_blk.c:152:
+		BUG_ON(i == LGUEST_MAX_DMA_SECTIONS);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#278: FILE: drivers/block/lguest_blk.c:156:
+		BUG_ON(!bvec.bv_len);

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#346: FILE: drivers/block/nbd.c:226:
+				printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#379: FILE: drivers/block/nbd.c:328:
+				printk(KERN_ERR

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#422: FILE: drivers/block/xen-blkfront.c:189:
+		BUG_ON(ring_req->nr_segments

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#429: FILE: drivers/block/xen-blkfront.c:196:
+		BUG_ON(ref == -ENOSPC);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#431: FILE: drivers/block/xen-blkfront.c:198:
+		gnttab_grant_foreign_access_ref(

ERROR:SPACING: space prohibited before that close parenthesis ')'
#435: FILE: drivers/block/xen-blkfront.c:202:
+			rq_data_dir(req) );

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#671: FILE: drivers/s390/block/dasd_eckd.c:1214:
+		if (idal_is_needed (page_address(bv.bv_page),

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#780: FILE: drivers/s390/block/dasd_fba.c:265:
+		if (idal_is_needed (page_address(bv.bv_page),

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 24)
#871: FILE: drivers/s390/char/tape_34xx.c:1147:
+	rq_for_each_segment(req, i, bv)
 			count += bv->bv_len >> (TAPEBLOCK_HSEC_S2B + 9);

CHECK:SPACING: No space is necessary after a cast
#901: FILE: drivers/s390/char/tape_34xx.c:1182:
+			set_normalized_cda(ccw, (void *) __pa(dst));

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:SPACING: No space is necessary after a cast
#965: FILE: drivers/s390/char/tape_3590.c:662:
+			set_normalized_cda(ccw, (void *) __pa(dst));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#970: FILE: drivers/s390/char/tape_3590.c:667:
+			BUG();

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#986: FILE: include/linux/blkdev.h:644:
+};
+#define rq_for_each_segment(rq, _iter, bvec)	\

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#986: FILE: include/linux/blkdev.h:644:
+#define rq_for_each_segment(rq, _iter, bvec)	\
+	for (_iter.bio = (rq)->bio; _iter.bio; _iter.bio = _iter.bio->bi_next) \
+		for (_iter.i = _iter.bio->bi_idx, 			       \
+			bvec = *bio_iovec_idx(_iter.bio, _iter.i);	       \
+		     _iter.i < _iter.bio->bi_vcnt;			       \
+		     _iter.i++, bvec = *bio_iovec_idx(_iter.bio, _iter.i)      \
+		)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_iter' - possible side-effects?
#986: FILE: include/linux/blkdev.h:644:
+#define rq_for_each_segment(rq, _iter, bvec)	\
+	for (_iter.bio = (rq)->bio; _iter.bio; _iter.bio = _iter.bio->bi_next) \
+		for (_iter.i = _iter.bio->bi_idx, 			       \
+			bvec = *bio_iovec_idx(_iter.bio, _iter.i);	       \
+		     _iter.i < _iter.bio->bi_vcnt;			       \
+		     _iter.i++, bvec = *bio_iovec_idx(_iter.bio, _iter.i)      \
+		)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'bvec' - possible side-effects?
#986: FILE: include/linux/blkdev.h:644:
+#define rq_for_each_segment(rq, _iter, bvec)	\
+	for (_iter.bio = (rq)->bio; _iter.bio; _iter.bio = _iter.bio->bi_next) \
+		for (_iter.i = _iter.bio->bi_idx, 			       \
+			bvec = *bio_iovec_idx(_iter.bio, _iter.i);	       \
+		     _iter.i < _iter.bio->bi_vcnt;			       \
+		     _iter.i++, bvec = *bio_iovec_idx(_iter.bio, _iter.i)      \
+		)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#988: FILE: include/linux/blkdev.h:646:
+^I^Ifor (_iter.i = _iter.bio->bi_idx, ^I^I^I       \$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#993: FILE: include/linux/blkdev.h:651:
+#define rq_iter_last(rq, _iter) (_iter.bio->bi_next == NULL && ^I\$

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_iter' - possible side-effects?
#993: FILE: include/linux/blkdev.h:651:
+#define rq_iter_last(rq, _iter) (_iter.bio->bi_next == NULL && 	\
+				 _iter.i == _iter.bio->bi_vcnt - 1)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!_iter.bio->bi_next"
#993: FILE: include/linux/blkdev.h:651:
+#define rq_iter_last(rq, _iter) (_iter.bio->bi_next == NULL && 	\

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000398403.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 2 errors, 28 warnings, 8 checks, 864 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000398403.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
