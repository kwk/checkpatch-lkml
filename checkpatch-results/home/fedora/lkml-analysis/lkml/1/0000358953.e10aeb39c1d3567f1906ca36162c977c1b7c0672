WARNING:TYPO_SPELLING: 'SIE' may be misspelled - perhaps 'SIZE'?
#31: 
instruction with KVM. The SIE instruction requires that the page tables
                          ^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'SIE' may be misspelled - perhaps 'SIZE'?
#34: 
the SIE instruction. The pgstes are updated by the hardware and by the
    ^^^

WARNING:TYPO_SPELLING: 'SIE' may be misspelled - perhaps 'SIZE'?
#37: 
should return 1K/2K (31/64 bit) and 2K/4K if the process is using SIE.
                                                                  ^^^

ERROR:SPACING: space prohibited after that open parenthesis '('
#267: FILE: arch/sparc/mm/srmmu.c:501:
+	page = pfn_to_page( __nocache_pa(pte) >> PAGE_SHIFT );

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close parenthesis ')'
#267: FILE: arch/sparc/mm/srmmu.c:501:
+	page = pfn_to_page( __nocache_pa(pte) >> PAGE_SHIFT );

WARNING:NEW_TYPEDEFS: do not add new typedefs
#370: FILE: include/asm-alpha/page.h:65:
+typedef struct page *pgtable_t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#388: FILE: include/asm-alpha/pgalloc.h:18:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:NEW_TYPEDEFS: do not add new typedefs
#431: FILE: include/asm-arm/page.h:174:
+typedef struct page *pgtable_t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#477: FILE: include/asm-arm/pgalloc.h:132:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#489: FILE: include/asm-avr32/page.h:37:
+typedef struct page *pgtable_t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#506: FILE: include/asm-avr32/pgalloc.h:24:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#533: FILE: include/asm-avr32/pgalloc.h:72:
+#define __pte_free_tlb(tlb,pte)				\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pte' - possible side-effects?
#533: FILE: include/asm-avr32/pgalloc.h:72:
+#define __pte_free_tlb(tlb,pte)				\
+do {							\
+	pgtable_page_dtor(pte);				\
+	tlb_remove_page((tlb), pte);			\
+} while (0)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#549: FILE: include/asm-cris/page.h:32:
+typedef struct page *pgtable_t;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#591: FILE: include/asm-cris/pgalloc.h:50:
+#define __pte_free_tlb(tlb,pte)				\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pte' - possible side-effects?
#591: FILE: include/asm-cris/pgalloc.h:50:
+#define __pte_free_tlb(tlb,pte)				\
+do {							\
+	pgtable_page_dtor(pte);				\
+	tlb_remove_page((tlb), pte);			\
+} while (0)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#607: FILE: include/asm-frv/page.h:28:
+typedef struct page *pgtable_t;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#628: FILE: include/asm-frv/pgalloc.h:39:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct mm_struct *' should also have an identifier name
#628: FILE: include/asm-frv/pgalloc.h:39:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long' should also have an identifier name
#628: FILE: include/asm-frv/pgalloc.h:39:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#643: FILE: include/asm-frv/pgalloc.h:52:
+#define __pte_free_tlb(tlb,pte)				\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pte' - possible side-effects?
#643: FILE: include/asm-frv/pgalloc.h:52:
+#define __pte_free_tlb(tlb,pte)				\
+do {							\
+	pgtable_page_dtor(pte);				\
+	tlb_remove_page((tlb),(pte));			\
+} while (0)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#646: FILE: include/asm-frv/pgalloc.h:55:
+	tlb_remove_page((tlb),(pte));			\
 	                     ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#659: FILE: include/asm-ia64/page.h:188:
+  typedef struct page *pgtable_t;$

WARNING:NEW_TYPEDEFS: do not add new typedefs
#659: FILE: include/asm-ia64/page.h:188:
+  typedef struct page *pgtable_t;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#667: FILE: include/asm-ia64/page.h:210:
+    typedef struct page *pgtable_t;$

WARNING:NEW_TYPEDEFS: do not add new typedefs
#667: FILE: include/asm-ia64/page.h:210:
+    typedef struct page *pgtable_t;

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#680: FILE: include/asm-ia64/pgalloc.h:73:
+pmd_populate(struct mm_struct *mm, pmd_t * pmd_entry, pgtable_t pte)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#684: FILE: include/asm-ia64/pgalloc.h:77:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#729: FILE: include/asm-m32r/page.h:31:
+typedef struct page *pgtable_t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#746: FILE: include/asm-m32r/pgalloc.h:16:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

WARNING:INLINE: plain inline is preferred over __inline__
#755: FILE: include/asm-m32r/pgalloc.h:41:
+static __inline__ pgtable_t pte_alloc_one(struct mm_struct *mm,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#756: FILE: include/asm-m32r/pgalloc.h:42:
+static __inline__ pgtable_t pte_alloc_one(struct mm_struct *mm,
 	unsigned long address)

WARNING:INLINE: plain inline is preferred over __inline__
#770: FILE: include/asm-m32r/pgalloc.h:55:
+static __inline__ void pte_free(struct mm_struct *mm, pgtable_t pte)

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#831: FILE: include/asm-m68k/motorola_pgalloc.h:102:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#843: FILE: include/asm-m68k/page.h:94:
+typedef struct page *pgtable_t;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#863: FILE: include/asm-m68k/sun3_pgalloc.h:35:
+#define __pte_free_tlb(tlb,pte)				\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pte' - possible side-effects?
#863: FILE: include/asm-m68k/sun3_pgalloc.h:35:
+#define __pte_free_tlb(tlb,pte)				\
+do {							\
+	pgtable_page_dtor(pte);				\
+	tlb_remove_page((tlb), pte);			\
+} while (0)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#878: FILE: include/asm-m68k/sun3_pgalloc.h:54:
+static inline pgtable_t pte_alloc_one(struct mm_struct *mm,
+					unsigned long address)

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#899: FILE: include/asm-m68k/sun3_pgalloc.h:76:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#911: FILE: include/asm-mips/page.h:93:
+typedef struct page *pgtable_t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#928: FILE: include/asm-mips/pgalloc.h:27:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#949: FILE: include/asm-parisc/page.h:94:
+typedef struct page *pgtable_t;

WARNING:NEW_TYPEDEFS: do not add new typedefs
#994: FILE: include/asm-powerpc/page.h:193:
+typedef struct page *pgtable_t;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1018: FILE: include/asm-powerpc/pgalloc-32.h:35:
+extern pgtable_t pte_alloc_one(struct mm_struct *mm, unsigned long addr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1021: FILE: include/asm-powerpc/pgalloc-32.h:37:
+extern void pte_free(struct mm_struct *mm, pgtable_t pte);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1044: FILE: include/asm-powerpc/pgalloc-64.h:92:
+static inline pgtable_t pte_alloc_one(struct mm_struct *mm,
+					unsigned long address)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1076: FILE: include/asm-powerpc/pgalloc-64.h:143:
+#define __pte_free_tlb(tlb,ptepage)	\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptepage' - possible side-effects?
#1076: FILE: include/asm-powerpc/pgalloc-64.h:143:
+#define __pte_free_tlb(tlb,ptepage)	\
+do { \
+	pgtable_page_dtor(ptepage); \
 	pgtable_free_tlb(tlb, pgtable_free_cache(page_address(ptepage), \
+		PTE_NONCACHE_NUM, PTE_TABLE_SIZE-1)); \
+} while (0)

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1081: FILE: include/asm-powerpc/pgalloc-64.h:147:
+		PTE_NONCACHE_NUM, PTE_TABLE_SIZE-1)); \
 		                                ^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1105: FILE: include/asm-ppc/pgalloc.h:36:
+extern pgtable_t pte_alloc_one(struct mm_struct *mm, unsigned long addr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1108: FILE: include/asm-ppc/pgalloc.h:38:
+extern void pte_free(struct mm_struct *mm, pgtable_t pte);

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1120: FILE: include/asm-s390/page.h:112:
+typedef struct page *pgtable_t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1142: FILE: include/asm-s390/pgalloc.h:145:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1167: FILE: include/asm-sh/page.h:108:
+typedef struct page *pgtable_t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1185: FILE: include/asm-sh/pgalloc.h:21:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1196: FILE: include/asm-sh/pgalloc.h:52:
+static inline pgtable_t pte_alloc_one(struct mm_struct *mm,
+					unsigned long address)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1224: FILE: include/asm-sh/pgalloc.h:76:
+#define __pte_free_tlb(tlb,pte)				\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pte' - possible side-effects?
#1224: FILE: include/asm-sh/pgalloc.h:76:
+#define __pte_free_tlb(tlb,pte)				\
+do {							\
+	pgtable_page_dtor(pte);				\
+	tlb_remove_page((tlb), (pte));			\
+} while (0)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1240: FILE: include/asm-sh64/page.h:85:
+typedef struct page *pgtable_t;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1256: FILE: include/asm-sh64/pgalloc.h:55:
+static inline pgtable_t pte_alloc_one(struct mm_struct *mm,
+					unsigned long address)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1288: FILE: include/asm-sh64/pgalloc.h:85:
+#define __pte_free_tlb(tlb,pte)				\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pte' - possible side-effects?
#1288: FILE: include/asm-sh64/pgalloc.h:85:
+#define __pte_free_tlb(tlb,pte)				\
+do {							\
+	pgtable_page_dtor(pte);				\
+	tlb_remove_page((tlb),(pte));			\
+} while (0)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1291: FILE: include/asm-sh64/pgalloc.h:88:
+	tlb_remove_page((tlb),(pte));			\
 	                     ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1305: FILE: include/asm-sh64/pgalloc.h:131:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1317: FILE: include/asm-sparc/page.h:126:
+typedef struct page *pgtable_t;

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1335: FILE: include/asm-sparc/pgalloc.h:57:
+BTFIXUPDEF_CALL(pgtable_t , pte_alloc_one, struct mm_struct *, unsigned long)
                           ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1344: FILE: include/asm-sparc/pgalloc.h:65:
+BTFIXUPDEF_CALL(void, pte_free, pgtable_t )

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1356: FILE: include/asm-sparc64/page.h:107:
+typedef struct page *pgtable_t;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1372: FILE: include/asm-sparc64/pgalloc.h:47:
+static inline pgtable_t pte_alloc_one(struct mm_struct *mm,
+					unsigned long address)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1415: FILE: include/asm-um/page.h:82:
+typedef struct page *pgtable_t;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1437: FILE: include/asm-um/pgalloc.h:30:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct mm_struct *' should also have an identifier name
#1437: FILE: include/asm-um/pgalloc.h:30:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long' should also have an identifier name
#1437: FILE: include/asm-um/pgalloc.h:30:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1452: FILE: include/asm-um/pgalloc.h:43:
+#define __pte_free_tlb(tlb,pte)				\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pte' - possible side-effects?
#1452: FILE: include/asm-um/pgalloc.h:43:
+#define __pte_free_tlb(tlb,pte)				\
+do {							\
+	pgtable_page_dtor(pte);				\
+	tlb_remove_page((tlb),(pte));			\
+} while (0)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1455: FILE: include/asm-um/pgalloc.h:46:
+	tlb_remove_page((tlb),(pte));			\
 	                     ^

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1468: FILE: include/asm-x86/page_32.h:118:
+typedef struct page *pgtable_t;

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1481: FILE: include/asm-x86/page_64.h:64:
+typedef struct page *pgtable_t;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1503: FILE: include/asm-x86/pgalloc_32.h:40:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct mm_struct *' should also have an identifier name
#1503: FILE: include/asm-x86/pgalloc_32.h:40:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long' should also have an identifier name
#1503: FILE: include/asm-x86/pgalloc_32.h:40:
+extern pgtable_t pte_alloc_one(struct mm_struct *, unsigned long);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1548: FILE: include/asm-x86/pgalloc_64.h:99:
+	p = (void *)get_zeroed_page(GFP_KERNEL|__GFP_REPEAT);
 	                                      ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1570: FILE: include/asm-x86/pgalloc_64.h:122:
+#define __pte_free_tlb(tlb,pte)				\
                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pte' - possible side-effects?
#1570: FILE: include/asm-x86/pgalloc_64.h:122:
+#define __pte_free_tlb(tlb,pte)				\
+do {							\
+	pgtable_page_dtor((pte));				\
+	tlb_remove_page((tlb), (pte));			\
+} while (0)

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1586: FILE: include/asm-xtensa/page.h:101:
+typedef struct page *pgtable_t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1631: FILE: include/asm-xtensa/pgalloc.h:70:
 }
+#define pmd_pgtable(pmd) pmd_page(pmd)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000358953.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 17 errors, 34 warnings, 36 checks, 1317 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000358953.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
