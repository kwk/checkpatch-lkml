ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#30: 
--- a/kernel/kallsyms.c	2008-08-03 16:10:19.000000000 -0600

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#40: FILE: kernel/kallsyms.c:484:
+    register loff_t pos = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#41: FILE: kernel/kallsyms.c:485:
+    register struct kallsym_iter *iter = &mdb_iter;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#43: FILE: kernel/kallsyms.c:487:
+    if (!print)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (4, 7)
#43: FILE: kernel/kallsyms.c:487:
+    if (!print)
+       return 0;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#44: FILE: kernel/kallsyms.c:488:
+       return 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#47: FILE: kernel/kallsyms.c:491:
+    reset_iter(iter, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#48: FILE: kernel/kallsyms.c:492:
+    while (1)$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#48: FILE: kernel/kallsyms.c:492:
+    while (1)
+    {

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (4, 7)
#48: FILE: kernel/kallsyms.c:492:
+    while (1)
[...]
+       // search the kallsyms list

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#49: FILE: kernel/kallsyms.c:493:
+    {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#51: FILE: kernel/kallsyms.c:495:
+       if (!update_iter(iter, pos++))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 10)
#51: FILE: kernel/kallsyms.c:495:
+       if (!update_iter(iter, pos++))
+          break;

ERROR:CODE_INDENT: code indent should use tabs where possible
#52: FILE: kernel/kallsyms.c:496:
+          break;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#52: FILE: kernel/kallsyms.c:496:
+          break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#54: FILE: kernel/kallsyms.c:498:
+       if (!iter->name[0])$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 10)
#54: FILE: kernel/kallsyms.c:498:
+       if (!iter->name[0])
+ 	  continue;

ERROR:CODE_INDENT: code indent should use tabs where possible
#55: FILE: kernel/kallsyms.c:499:
+ ^I  continue;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#55: FILE: kernel/kallsyms.c:499:
+ ^I  continue;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#55: FILE: kernel/kallsyms.c:499:
+ ^I  continue;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#58: FILE: kernel/kallsyms.c:502:
+       if (str && *str && !strstr(iter->name, str))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 10)
#58: FILE: kernel/kallsyms.c:502:
+       if (str && *str && !strstr(iter->name, str))
+          continue;

ERROR:CODE_INDENT: code indent should use tabs where possible
#59: FILE: kernel/kallsyms.c:503:
+          continue;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#59: FILE: kernel/kallsyms.c:503:
+          continue;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#61: FILE: kernel/kallsyms.c:505:
+       if (iter->module_name[0])$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#61: FILE: kernel/kallsyms.c:505:
+       if (iter->module_name[0])
+       {

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 10)
#61: FILE: kernel/kallsyms.c:505:
+       if (iter->module_name[0])
+       {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#62: FILE: kernel/kallsyms.c:506:
+       {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#63: FILE: kernel/kallsyms.c:507:
+          if (print("%0*lx %c %s [%s]\n", (int)(2*sizeof(void*)),$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#63: FILE: kernel/kallsyms.c:507:
+          if (print("%0*lx %c %s [%s]\n", (int)(2*sizeof(void*)),$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (10, 13)
#63: FILE: kernel/kallsyms.c:507:
+          if (print("%0*lx %c %s [%s]\n", (int)(2*sizeof(void*)),
[...]
+             return 1;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#63: FILE: kernel/kallsyms.c:507:
+          if (print("%0*lx %c %s [%s]\n", (int)(2*sizeof(void*)),

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#63: FILE: kernel/kallsyms.c:507:
+          if (print("%0*lx %c %s [%s]\n", (int)(2*sizeof(void*)),
                                                  ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#64: FILE: kernel/kallsyms.c:508:
+          if (print("%0*lx %c %s [%s]\n", (int)(2*sizeof(void*)),
+	      iter->value, iter->type, iter->name,

ERROR:CODE_INDENT: code indent should use tabs where possible
#66: FILE: kernel/kallsyms.c:510:
+             return 1;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#66: FILE: kernel/kallsyms.c:510:
+             return 1;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#67: FILE: kernel/kallsyms.c:511:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#68: FILE: kernel/kallsyms.c:512:
+       else$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#68: FILE: kernel/kallsyms.c:512:
+       else
+       {

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 10)
#68: FILE: kernel/kallsyms.c:512:
+       else
+       {

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#68: FILE: kernel/kallsyms.c:512:
+       }
+       else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#69: FILE: kernel/kallsyms.c:513:
+       {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#70: FILE: kernel/kallsyms.c:514:
+          if (print("%0*lx %c %s\n", (int)(2*sizeof(void*)),$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#70: FILE: kernel/kallsyms.c:514:
+          if (print("%0*lx %c %s\n", (int)(2*sizeof(void*)),$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (10, 13)
#70: FILE: kernel/kallsyms.c:514:
+          if (print("%0*lx %c %s\n", (int)(2*sizeof(void*)),
[...]
+             return 1;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#70: FILE: kernel/kallsyms.c:514:
+          if (print("%0*lx %c %s\n", (int)(2*sizeof(void*)),

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#70: FILE: kernel/kallsyms.c:514:
+          if (print("%0*lx %c %s\n", (int)(2*sizeof(void*)),
                                             ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#71: FILE: kernel/kallsyms.c:515:
+   ^I      iter->value, iter->type, iter->name))$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#71: FILE: kernel/kallsyms.c:515:
+   ^I      iter->value, iter->type, iter->name))$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#71: FILE: kernel/kallsyms.c:515:
+          if (print("%0*lx %c %s\n", (int)(2*sizeof(void*)),
+   	      iter->value, iter->type, iter->name))

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#71: FILE: kernel/kallsyms.c:515:
+   ^I      iter->value, iter->type, iter->name))$

ERROR:CODE_INDENT: code indent should use tabs where possible
#72: FILE: kernel/kallsyms.c:516:
+             return 1;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#72: FILE: kernel/kallsyms.c:516:
+             return 1;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#73: FILE: kernel/kallsyms.c:517:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#74: FILE: kernel/kallsyms.c:518:
+    }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#75: FILE: kernel/kallsyms.c:519:
+    return 0;$

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000245239.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 15 errors, 37 warnings, 4 checks, 48 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000245239.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
