WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#26: 
This file contains the functions for handlinf GRU TLB flushing, This includes

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#41: FILE: drivers/misc/gru/grutlbpurge.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#44: FILE: drivers/misc/gru/grutlbpurge.c:4:
+ * ^I^IMMUOPS callbacks  + TLB flushing$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#64: FILE: drivers/misc/gru/grutlbpurge.c:24:
+ *  along with this program; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#65: FILE: drivers/misc/gru/grutlbpurge.c:25:
+ *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA$

WARNING:INCLUDE_LINUX: Use #include <linux/processor.h> instead of <asm/processor.h>
#79: FILE: drivers/misc/gru/grutlbpurge.c:39:
+#include <asm/processor.h>

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#151: FILE: drivers/misc/gru/grutlbpurge.c:111:
+ * ^I- GRU contexts are not loaded into a GRU unless a reference is made to$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#152: FILE: drivers/misc/gru/grutlbpurge.c:112:
+ * ^I  the data segment or control block (this is true, not an assumption).$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#153: FILE: drivers/misc/gru/grutlbpurge.c:113:
+ * ^I  If a DS/CB is referenced, the user will also issue instructions that$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#154: FILE: drivers/misc/gru/grutlbpurge.c:114:
+ * ^I  cause TLBmisses. It is not necessary to optimize for the case where$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#155: FILE: drivers/misc/gru/grutlbpurge.c:115:
+ * ^I  contexts are loaded but no instructions cause TLB misses. (I know$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#156: FILE: drivers/misc/gru/grutlbpurge.c:116:
+ * ^I  this will happen but I'm not optimizing for it).$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#157: FILE: drivers/misc/gru/grutlbpurge.c:117:
+ * ^I- GRU instructions to invalidate TLB entries are SLOOOOWWW - normally$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#158: FILE: drivers/misc/gru/grutlbpurge.c:118:
+ * ^I  a few usec but in unusual cases, it could be longer. Avoid if$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#159: FILE: drivers/misc/gru/grutlbpurge.c:119:
+ * ^I  possible.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#160: FILE: drivers/misc/gru/grutlbpurge.c:120:
+ * ^I- intrablade process migration between cpus is not frequent but is$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#161: FILE: drivers/misc/gru/grutlbpurge.c:121:
+ * ^I  common.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#162: FILE: drivers/misc/gru/grutlbpurge.c:122:
+ * ^I- a GRU context is not typically migrated to a different GRU on the$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#163: FILE: drivers/misc/gru/grutlbpurge.c:123:
+ * ^I  blade because of intrablade migration$

WARNING:REPEATED_WORD: Possible repeated word: 'very'
#167: FILE: drivers/misc/gru/grutlbpurge.c:127:
+ *	  is very very rare (ie., no optimization for this case)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#178: FILE: drivers/misc/gru/grutlbpurge.c:138:
+ * ^I- asid[maxgrus] array. ASIDs are assigned to a GRU when a context is$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#179: FILE: drivers/misc/gru/grutlbpurge.c:139:
+ * ^I  loaded into the GRU.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#180: FILE: drivers/misc/gru/grutlbpurge.c:140:
+ * ^I- asidmap[maxgrus]. bitmap to make it easier to find non-zero asids in$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#181: FILE: drivers/misc/gru/grutlbpurge.c:141:
+ * ^I  the above array$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#187: FILE: drivers/misc/gru/grutlbpurge.c:147:
+ * ^I- scan the asidmap for GRUs where the context has been loaded, ie,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#188: FILE: drivers/misc/gru/grutlbpurge.c:148:
+ * ^I  asid is non-zero.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#189: FILE: drivers/misc/gru/grutlbpurge.c:149:
+ * ^I- for each gru found:$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#190: FILE: drivers/misc/gru/grutlbpurge.c:150:
+ * ^I^I- if the ctxtmap is non-zero, there are active contexts in the$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#191: FILE: drivers/misc/gru/grutlbpurge.c:151:
+ * ^I^I  GRU. TLB invalidate instructions must be issued to the GRU.$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#227: FILE: drivers/misc/gru/grutlbpurge.c:187:
+			gru_dbg(grudev,
+	"  FLUSH gruid %d, asid 0x%x, num %ld, cbmap 0x%x\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#238: FILE: drivers/misc/gru/grutlbpurge.c:198:
+			gru_dbg(grudev,
+	"  CLEARASID gruid %d, asid 0x%x, cbtmap 0x%x, asidmap 0x%lx\n",

CHECK:LINE_SPACING: Please don't use multiple blank lines
#309: FILE: drivers/misc/gru/grutlbpurge.c:269:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#319: FILE: drivers/misc/gru/grutlbpurge.c:279:
+static struct mmu_notifier *mmu_find_ops(struct mm_struct *mm,
+			const struct mmu_notifier_ops *ops)

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 20)
#326: FILE: drivers/misc/gru/grutlbpurge.c:286:
+		hlist_for_each_entry_rcu(mn, n, &mm->mmu_notifier_mm->list,
[...]
+		    if (mn->ops == ops) {

WARNING:TABSTOP: Statements should start on a tabstop
#328: FILE: drivers/misc/gru/grutlbpurge.c:288:
+		    if (mn->ops == ops) {

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#374: FILE: drivers/misc/gru/grutlbpurge.c:334:
+ * ^I- 24 TGH handles per GRU chiplet$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#375: FILE: drivers/misc/gru/grutlbpurge.c:335:
+ * ^I- a portion (MAX_LOCAL_TGH) of the handles are reserved for$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#376: FILE: drivers/misc/gru/grutlbpurge.c:336:
+ * ^I  use by blade-local cpus$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#377: FILE: drivers/misc/gru/grutlbpurge.c:337:
+ * ^I- the rest are used by off-blade cpus. This usage is$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#378: FILE: drivers/misc/gru/grutlbpurge.c:338:
+ * ^I  less frequent than blade-local usage.$

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#409: FILE: drivers/misc/gru/grutlbpurge.c:369:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000269439.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 2 errors, 34 warnings, 5 checks, 369 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000269439.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
