WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#43: FILE: drivers/video/via/viafbdev.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#59: FILE: drivers/video/via/viafbdev.c:17:
+ * along with this program; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#61: FILE: drivers/video/via/viafbdev.c:19:
+ * 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:CAMELCASE: Avoid CamelCase: <viafb_resMode>
#79: FILE: drivers/video/via/viafbdev.c:37:
+static int viafb_resMode = VIA_RES_640X480;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:LINE_SPACING: Please don't use multiple blank lines
#94: FILE: drivers/video/via/viafbdev.c:52:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#97: FILE: drivers/video/via/viafbdev.c:55:
+static int apply_device_setting(struct viafb_ioctl_setting setting_info,
+			 struct fb_info *info);

WARNING:CONST_STRUCT: struct fb_ops should normally be const
#150: FILE: drivers/video/via/viafbdev.c:108:
+static struct fb_ops viafb_ops;

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#157: FILE: drivers/video/via/viafbdev.c:115:
+		p_max_size->x = p_max_size->y = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#160: FILE: drivers/video/via/viafbdev.c:118:
+		p_max_size->x = p_max_size->y = 0;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#163: FILE: drivers/video/via/viafbdev.c:121:
+}
+static void get_panel_max_scal_pos(struct _panel_size_pos_info *p_para)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#167: FILE: drivers/video/via/viafbdev.c:125:
+		p_para->x = p_para->y = 0;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#170: FILE: drivers/video/via/viafbdev.c:128:
+		p_para->x = p_para->y = 0;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#178: FILE: drivers/video/via/viafbdev.c:136:
+		p_para->x = p_para->y = 0;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#181: FILE: drivers/video/via/viafbdev.c:139:
+		p_para->x = p_para->y = 0;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#184: FILE: drivers/video/via/viafbdev.c:142:
+}
+static void get_panel_scal_size(struct _panel_size_pos_info *p_para)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#188: FILE: drivers/video/via/viafbdev.c:146:
+		p_para->x = p_para->y = 0;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#191: FILE: drivers/video/via/viafbdev.c:149:
+		p_para->x = p_para->y = 0;

WARNING:DEFAULT_NO_BREAK: switch default: should use break
#200: FILE: drivers/video/via/viafbdev.c:158:
+	default:
+		;

switch default case is sometimes written as "default:;".  This can
cause new cases added below default to be defective.

A "break;" should be added after empty default statement to avoid
unwanted fallthrough.

WARNING:DEFAULT_NO_BREAK: switch default: should use break
#210: FILE: drivers/video/via/viafbdev.c:168:
+	default:
+		;

WARNING:LINE_SPACING: Missing a blank line after declarations
#218: FILE: drivers/video/via/viafbdev.c:176:
+	struct viafb_par *ppar;
+	ppar = info->par;

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_update_fix', this function's name, in a string
#220: FILE: drivers/video/via/viafbdev.c:178:
+	DEBUG_MSG(KERN_INFO "viafb_update_fix!\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#229: FILE: drivers/video/via/viafbdev.c:187:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#231: FILE: drivers/video/via/viafbdev.c:189:
+static void viafb_setup_fixinfo(struct fb_fix_screeninfo *fix,
+	struct viafb_par *viaparinfo)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#244: FILE: drivers/video/via/viafbdev.c:202:
+	fix->xpanstep = fix->ywrapstep = 0;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#250: FILE: drivers/video/via/viafbdev.c:208:
+}
+static int viafb_open(struct fb_info *info, int user)

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_open', this function's name, in a string
#252: FILE: drivers/video/via/viafbdev.c:210:
+	DEBUG_MSG(KERN_INFO "viafb_open!\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_release', this function's name, in a string
#258: FILE: drivers/video/via/viafbdev.c:216:
+	DEBUG_MSG(KERN_INFO "viafb_release!\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#276: FILE: drivers/video/via/viafbdev.c:234:
+static int viafb_check_var(struct fb_var_screeninfo *var,
+	struct fb_info *info)

WARNING:LINE_SPACING: Missing a blank line after declarations
#282: FILE: drivers/video/via/viafbdev.c:240:
+	struct viafb_par *p_viafb_par;
+	ppar = info->par;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#284: FILE: drivers/video/via/viafbdev.c:242:
+
+

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_check_var', this function's name, in a string
#285: FILE: drivers/video/via/viafbdev.c:243:
+	DEBUG_MSG(KERN_INFO "viafb_check_var!\n");

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#299: FILE: drivers/video/via/viafbdev.c:257:
+	if (24 == var->bits_per_pixel)

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#303: FILE: drivers/video/via/viafbdev.c:261:
+	if (var->bits_per_pixel != 8 && var->bits_per_pixel != 16 &&
+		var->bits_per_pixel != 32)

WARNING:TYPO_SPELLING: 'reutrn' may be misspelled - perhaps 'return'?
#324: FILE: drivers/video/via/viafbdev.c:282:
+	/* Not supported by our driver, reutrn immediately */
 	                                ^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LINE_SPACING: Missing a blank line after declarations
#345: FILE: drivers/video/via/viafbdev.c:303:
+	int vmode_index1 = 0;
+	DEBUG_MSG(KERN_INFO "viafb_set_par!\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_set_par', this function's name, in a string
#345: FILE: drivers/video/via/viafbdev.c:303:
+	DEBUG_MSG(KERN_INFO "viafb_set_par!\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#348: FILE: drivers/video/via/viafbdev.c:306:
+	viafb_update_device_setting(info->var.xres, info->var.yres,
+			      info->var.bits_per_pixel, viafb_refresh, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#357: FILE: drivers/video/via/viafbdev.c:315:
+		vmode_index1 = viafb_get_mode_index(viafb_second_xres,
+			viafb_second_yres, 1);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#359: FILE: drivers/video/via/viafbdev.c:317:
+		DEBUG_MSG(KERN_INFO "->viafb_SAMM_ON: index=%d\n",
+			vmode_index1);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#362: FILE: drivers/video/via/viafbdev.c:320:
+		viafb_update_device_setting(viafb_second_xres,
+			viafb_second_yres, via_fb_bpp1, viafb_refresh1, 1);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#367: FILE: drivers/video/via/viafbdev.c:325:
+		viafb_setmode(vmode_index, info->var.xres, info->var.yres,
+			info->var.bits_per_pixel, vmode_index1,

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_get_cmap_len', this function's name, in a string
#392: FILE: drivers/video/via/viafbdev.c:350:
+	DEBUG_MSG(KERN_INFO "viafb_get_cmap_len!\n");

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#398: FILE: drivers/video/via/viafbdev.c:356:
+static int viafb_setcolreg(unsigned regno, unsigned red, unsigned green,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#398: FILE: drivers/video/via/viafbdev.c:356:
+static int viafb_setcolreg(unsigned regno, unsigned red, unsigned green,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#398: FILE: drivers/video/via/viafbdev.c:356:
+static int viafb_setcolreg(unsigned regno, unsigned red, unsigned green,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#399: FILE: drivers/video/via/viafbdev.c:357:
+static int viafb_setcolreg(unsigned regno, unsigned red, unsigned green,
+unsigned blue, unsigned transp, struct fb_info *info)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#399: FILE: drivers/video/via/viafbdev.c:357:
+unsigned blue, unsigned transp, struct fb_info *info)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#399: FILE: drivers/video/via/viafbdev.c:357:
+unsigned blue, unsigned transp, struct fb_info *info)

WARNING:LINE_SPACING: Missing a blank line after declarations
#402: FILE: drivers/video/via/viafbdev.c:360:
+	u8 sr1a, sr1b, cr67, cr6a, rev = 0, shift = 10;
+	DEBUG_MSG(KERN_INFO "viafb_setcolreg!\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_setcolreg', this function's name, in a string
#402: FILE: drivers/video/via/viafbdev.c:360:
+	DEBUG_MSG(KERN_INFO "viafb_setcolreg!\n");

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#405: FILE: drivers/video/via/viafbdev.c:363:
+	if (UNICHROME_CLE266 == viaparinfo->chip_info->gfx_chip_name) {

WARNING:TYPECAST_INT_CONSTANT: Unnecessary typecast of c90 int constant - '(unsigned long)0xCF8' could be '0xCF8UL'
#407: FILE: drivers/video/via/viafbdev.c:365:
+		outl(0x80000000 | (0xf6 & ~3), (unsigned long)0xCF8);

WARNING:TYPECAST_INT_CONSTANT: Unnecessary typecast of c90 int constant - '(unsigned long)0xCFC' could be '0xCFCUL'
#408: FILE: drivers/video/via/viafbdev.c:366:
+		rev = (inl((unsigned long)0xCFC) >> ((0xf6 & 3) * 8)) & 0xff;

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#442: FILE: drivers/video/via/viafbdev.c:400:
+		if (UNICHROME_CLE266 == viaparinfo->chip_info->gfx_chip_name &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#443: FILE: drivers/video/via/viafbdev.c:401:
+		if (UNICHROME_CLE266 == viaparinfo->chip_info->gfx_chip_name &&
+			rev >= 15) {

CHECK:SPACING: No space is necessary after a cast
#477: FILE: drivers/video/via/viafbdev.c:435:
+		((u32 *) info->pseudo_palette)[regno] = (red & 0xF800) |

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#481: FILE: drivers/video/via/viafbdev.c:439:
+		((u32 *) info->pseudo_palette)[regno] =

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#490: FILE: drivers/video/via/viafbdev.c:448:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#505: FILE: drivers/video/via/viafbdev.c:463:
+	u8 sr1a, sr1b, cr67, cr6a, rev = 0, shift = 10;
+	if (len > 256)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#507: FILE: drivers/video/via/viafbdev.c:465:
+	if (UNICHROME_CLE266 == viaparinfo->chip_info->gfx_chip_name) {

WARNING:TYPECAST_INT_CONSTANT: Unnecessary typecast of c90 int constant - '(unsigned long)0xCF8' could be '0xCF8UL'
#509: FILE: drivers/video/via/viafbdev.c:467:
+		outl(0x80000000 | (0xf6 & ~3), (unsigned long)0xCF8);

WARNING:TYPECAST_INT_CONSTANT: Unnecessary typecast of c90 int constant - '(unsigned long)0xCFC' could be '0xCFCUL'
#510: FILE: drivers/video/via/viafbdev.c:468:
+		rev = (inl((unsigned long)0xCFC) >> ((0xf6 & 3) * 8)) & 0xff;

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#542: FILE: drivers/video/via/viafbdev.c:500:
+		if (UNICHROME_CLE266 == viaparinfo->chip_info->gfx_chip_name &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#543: FILE: drivers/video/via/viafbdev.c:501:
+		if (UNICHROME_CLE266 == viaparinfo->chip_info->gfx_chip_name &&
+			rev >= 15) {

CHECK:SPACING: No space is necessary after a cast
#583: FILE: drivers/video/via/viafbdev.c:541:
+			((u32 *) info->pseudo_palette)[i] =

CHECK:SPACING: No space is necessary after a cast
#593: FILE: drivers/video/via/viafbdev.c:551:
+				((u32 *) info->pseudo_palette)[i] =

CHECK:SPACING: No space is necessary after a cast
#600: FILE: drivers/video/via/viafbdev.c:558:
+				((u32 *) info->pseudo_palette)[i] =

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#612: FILE: drivers/video/via/viafbdev.c:570:
+static int viafb_pan_display(struct fb_var_screeninfo *var,
+	struct fb_info *info)

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_pan_display', this function's name, in a string
#616: FILE: drivers/video/via/viafbdev.c:574:
+	DEBUG_MSG(KERN_INFO "viafb_pan_display!\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_blank', this function's name, in a string
#633: FILE: drivers/video/via/viafbdev.c:591:
+	DEBUG_MSG(KERN_INFO "viafb_blank!\n");

CHECK:SPACING: No space is necessary after a cast
#674: FILE: drivers/video/via/viafbdev.c:632:
+	u32 __user *argp = (u32 __user *) arg;

WARNING:LINE_SPACING: Missing a blank line after declarations
#679: FILE: drivers/video/via/viafbdev.c:637:
+	struct device_t active_dev;
+	ss = sizeof(active_dev);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_ioctl', this function's name, in a string
#683: FILE: drivers/video/via/viafbdev.c:641:
+	DEBUG_MSG(KERN_INFO "viafb_ioctl: 0x%X !!\n", cmd);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#688: FILE: drivers/video/via/viafbdev.c:646:
+	if (copy_to_user((void __user *)arg, viaparinfo->chip_info,
+		sizeof(struct chip_information)))

WARNING:UNNECESSARY_BREAK: break is not useful after a return
#690: FILE: drivers/video/via/viafbdev.c:648:
+		return -EFAULT;
+		break;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#698: FILE: drivers/video/via/viafbdev.c:656:
+				viafb_ioctl_hotplug(info->var.xres,
+					      info->var.yres,

CHECK:SPACING: No space is necessary after a cast
#707: FILE: drivers/video/via/viafbdev.c:665:
+		viamode.xres = (u32) via_fb_hotplug_Xres;

CHECK:CAMELCASE: Avoid CamelCase: <via_fb_hotplug_Xres>
#707: FILE: drivers/video/via/viafbdev.c:665:
+		viamode.xres = (u32) via_fb_hotplug_Xres;

CHECK:SPACING: No space is necessary after a cast
#708: FILE: drivers/video/via/viafbdev.c:666:
+		viamode.yres = (u32) via_fb_hotplug_Yres;

CHECK:CAMELCASE: Avoid CamelCase: <via_fb_hotplug_Yres>
#708: FILE: drivers/video/via/viafbdev.c:666:
+		viamode.yres = (u32) via_fb_hotplug_Yres;

CHECK:SPACING: No space is necessary after a cast
#709: FILE: drivers/video/via/viafbdev.c:667:
+		viamode.refresh = (u32) via_fb_hotplug_refresh;

CHECK:SPACING: No space is necessary after a cast
#710: FILE: drivers/video/via/viafbdev.c:668:
+		viamode.bpp = (u32) via_fb_hotplug_bpp;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#727: FILE: drivers/video/via/viafbdev.c:685:
+		if (copy_to_user((void __user *)arg,
+			&viamode, sizeof(viamode)))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#762: FILE: drivers/video/via/viafbdev.c:720:
+		if (copy_to_user((void __user *)arg,
+			&viasamm, sizeof(viasamm)))

CHECK:CAMELCASE: Avoid CamelCase: <iMajorNum>
#823: FILE: drivers/video/via/viafbdev.c:781:
+		driver_version.iMajorNum = VERSION_MAJOR;

CHECK:CAMELCASE: Avoid CamelCase: <iKernelNum>
#824: FILE: drivers/video/via/viafbdev.c:782:
+		driver_version.iKernelNum = VERSION_KERNEL;

CHECK:CAMELCASE: Avoid CamelCase: <iOSNum>
#825: FILE: drivers/video/via/viafbdev.c:783:
+		driver_version.iOSNum = VERSION_OS;

CHECK:CAMELCASE: Avoid CamelCase: <iMinorNum>
#826: FILE: drivers/video/via/viafbdev.c:784:
+		driver_version.iMinorNum = VERSION_MINOR;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#985: FILE: drivers/video/via/viafbdev.c:943:
+static void viafb_fillrect(struct fb_info *info,
+	const struct fb_fillrect *rect)

CHECK:SPACING: No space is necessary after a cast
#1011: FILE: drivers/video/via/viafbdev.c:969:
+		col = ((u32 *) (info->pseudo_palette))[rect->color];

CHECK:SPACING: No space is necessary after a cast
#1014: FILE: drivers/video/via/viafbdev.c:972:
+		col = ((u32 *) (info->pseudo_palette))[rect->color];

CHECK:SPACING: No space is necessary after a cast
#1025: FILE: drivers/video/via/viafbdev.c:983:
+		   ((u32) (info->screen_base) - (u32) viafb_FB_MM) >> 3);

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'info->var.bits_per_pixel'
#1033: FILE: drivers/video/via/viafbdev.c:991:
+		      (((pitch * info->
+		      var.bits_per_pixel >> 3) >> 3) << 16)));

A single dereferencing identifier spanned on multiple lines like::

  struct_identifier->member[index].
  member = <foo>;

is generally hard to follow. It can easily lead to typos and so makes
the code vulnerable to bugs.

If fixing the multiple line dereferencing leads to an 80 column
violation, then either rewrite the code in a more simple way or if the
starting part of the dereferencing identifier is the same and used at
multiple places then store it in a temporary variable, and use that
temporary variable only at all the places. For example, if there are
two dereferencing identifiers::

  member1->member2->member3.foo1;
  member1->member2->member3.foo2;

then store the member1->member2->member3 part in a temporary variable.
It not only helps to avoid the 80 column violation but also reduces
the program size by removing the unnecessary dereferences.

But if none of the above methods work then ignore the 80 column
violation because it is much easier to read a dereferencing identifier
on a single line.

WARNING:TYPO_SPELLING: 'Forground' may be misspelled - perhaps 'Foreground'?
#1039: FILE: drivers/video/via/viafbdev.c:997:
+	/* Forground color or Destination color */
 	   ^^^^^^^^^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1044: FILE: drivers/video/via/viafbdev.c:1002:
+
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1047: FILE: drivers/video/via/viafbdev.c:1005:
+static void viafb_copyarea(struct fb_info *info,
+	const struct fb_copyarea *area)

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_copyarea', this function's name, in a string
#1053: FILE: drivers/video/via/viafbdev.c:1011:
+	DEBUG_MSG(KERN_INFO "viafb_copyarea!!\n");

CHECK:SPACING: No space is necessary after a cast
#1076: FILE: drivers/video/via/viafbdev.c:1034:
+		   ((u32) (info->screen_base) - (u32) viafb_FB_MM) >> 3);

CHECK:SPACING: No space is necessary after a cast
#1080: FILE: drivers/video/via/viafbdev.c:1038:
+		   ((u32) (info->screen_base) - (u32) viafb_FB_MM) >> 3);

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'info->var.bits_per_pixel'
#1089: FILE: drivers/video/via/viafbdev.c:1047:
+								info->var.
+								bits_per_pixel

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1102: FILE: drivers/video/via/viafbdev.c:1060:
+
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1105: FILE: drivers/video/via/viafbdev.c:1063:
+static void viafb_imageblit(struct fb_info *info,
+	const struct fb_image *image)

CHECK:SPACING: No space is necessary after a cast
#1114: FILE: drivers/video/via/viafbdev.c:1072:
+	udata = (u32 *) image->data;

CHECK:SPACING: No space is necessary after a cast
#1122: FILE: drivers/video/via/viafbdev.c:1080:
+		bg_col = ((u32 *) (info->pseudo_palette))[image->bg_color];

CHECK:SPACING: No space is necessary after a cast
#1123: FILE: drivers/video/via/viafbdev.c:1081:
+		fg_col = ((u32 *) (info->pseudo_palette))[image->fg_color];

CHECK:SPACING: No space is necessary after a cast
#1126: FILE: drivers/video/via/viafbdev.c:1084:
+		bg_col = ((u32 *) (info->pseudo_palette))[image->bg_color];

CHECK:SPACING: No space is necessary after a cast
#1127: FILE: drivers/video/via/viafbdev.c:1085:
+		fg_col = ((u32 *) (info->pseudo_palette))[image->fg_color];

CHECK:SPACING: No space is necessary after a cast
#1137: FILE: drivers/video/via/viafbdev.c:1095:
+		   ((u32) (info->screen_base) - (u32) viafb_FB_MM) >> 3);

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'info->var.bits_per_pixel'
#1145: FILE: drivers/video/via/viafbdev.c:1103:
+								info->var.
+								bits_per_pixel

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1167: FILE: drivers/video/via/viafbdev.c:1125:
+
+}

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'info->par'
#1189: FILE: drivers/video/via/viafbdev.c:1147:
+	if ((((struct viafb_par *)(info->par))->iga_path == IGA2)
+	    && (viaparinfo->chip_info->gfx_chip_name == UNICHROME_CLE266))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'viaparinfo->chip_info->gfx_chip_name == UNICHROME_CLE266'
#1189: FILE: drivers/video/via/viafbdev.c:1147:
+	if ((((struct viafb_par *)(info->par))->iga_path == IGA2)
+	    && (viaparinfo->chip_info->gfx_chip_name == UNICHROME_CLE266))

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1190: FILE: drivers/video/via/viafbdev.c:1148:
+	if ((((struct viafb_par *)(info->par))->iga_path == IGA2)
+	    && (viaparinfo->chip_info->gfx_chip_name == UNICHROME_CLE266))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'info->par'
#1194: FILE: drivers/video/via/viafbdev.c:1152:
+	if (viafb_LCD_ON || ((struct viafb_par *)(info->par))->duoview)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cursor->image.width <= 32'
#1219: FILE: drivers/video/via/viafbdev.c:1177:
+		if ((cursor->image.width <= 32)
+		    && (cursor->image.height <= 32)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cursor->image.height <= 32'
#1219: FILE: drivers/video/via/viafbdev.c:1177:
+		if ((cursor->image.width <= 32)
+		    && (cursor->image.height <= 32)) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1220: FILE: drivers/video/via/viafbdev.c:1178:
+		if ((cursor->image.width <= 32)
+		    && (cursor->image.height <= 32)) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1224: FILE: drivers/video/via/viafbdev.c:1182:
+		} else if ((cursor->image.width <= 64)
+			   && (cursor->image.height <= 64)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'p_viafb_par->chip_info->gfx_chip_name ==
 			UNICHROME_CX700'
#1272: FILE: drivers/video/via/viafbdev.c:1230:
+		if ((p_viafb_par->chip_info->gfx_chip_name ==
+			UNICHROME_CX700) ||
+			((p_viafb_par->chip_info->gfx_chip_name ==
+			UNICHROME_VX800))) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'p_viafb_par->chip_info->gfx_chip_name ==
 			UNICHROME_VX800'
#1272: FILE: drivers/video/via/viafbdev.c:1230:
+		if ((p_viafb_par->chip_info->gfx_chip_name ==
+			UNICHROME_CX700) ||
+			((p_viafb_par->chip_info->gfx_chip_name ==
+			UNICHROME_VX800))) {

CHECK:SPACING: No space is necessary after a cast
#1333: FILE: drivers/video/via/viafbdev.c:1291:
+				data_bak[j] = (u32) data[i];

CHECK:SPACING: No space is necessary after a cast
#1339: FILE: drivers/video/via/viafbdev.c:1297:
+				data_bak[j] = (u32) data[i];

WARNING:LINE_SPACING: Missing a blank line after declarations
#1368: FILE: drivers/video/via/viafbdev.c:1326:
+	u32 i;
+	DEBUG_MSG(KERN_INFO "viafb_get_mode_index!\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_get_mode_index', this function's name, in a string
#1368: FILE: drivers/video/via/viafbdev.c:1326:
+	DEBUG_MSG(KERN_INFO "viafb_get_mode_index!\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1372: FILE: drivers/video/via/viafbdev.c:1330:
+		if (viafb_modentry[i].xres == hres &&
+			viafb_modentry[i].yres == vres)

CHECK:CAMELCASE: Avoid CamelCase: <viafb_DeviceStatus>
#1393: FILE: drivers/video/via/viafbdev.c:1351:
+	viafb_DeviceStatus = None_Device;

CHECK:CAMELCASE: Avoid CamelCase: <None_Device>
#1393: FILE: drivers/video/via/viafbdev.c:1351:
+	viafb_DeviceStatus = None_Device;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'device_num < MAX_ACTIVE_DEV_NUM'
#1395: FILE: drivers/video/via/viafbdev.c:1353:
+	if ((device_id & CRT_Device) && (device_num < MAX_ACTIVE_DEV_NUM)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'device_num < MAX_ACTIVE_DEV_NUM'
#1401: FILE: drivers/video/via/viafbdev.c:1359:
+	if ((device_id & DVI_Device) && (device_num < MAX_ACTIVE_DEV_NUM)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'device_num < MAX_ACTIVE_DEV_NUM'
#1407: FILE: drivers/video/via/viafbdev.c:1365:
+	if ((device_id & LCD_Device) && (device_num < MAX_ACTIVE_DEV_NUM)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'device_num < MAX_ACTIVE_DEV_NUM'
#1413: FILE: drivers/video/via/viafbdev.c:1371:
+	if ((device_id & LCD2_Device) && (device_num < MAX_ACTIVE_DEV_NUM)) {

CHECK:CAMELCASE: Avoid CamelCase: <LCD2_Device>
#1413: FILE: drivers/video/via/viafbdev.c:1371:
+	if ((device_id & LCD2_Device) && (device_num < MAX_ACTIVE_DEV_NUM)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1431: FILE: drivers/video/via/viafbdev.c:1389:
+	int device_id = None_Device;
+	if (active_dev.crt)

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#1481: FILE: drivers/video/via/viafbdev.c:1439:
+	if ((active_dev.samm == STATE_OFF)
[...]
+	    viafb_SAMM_ON = active_dev.samm;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'active_dev.samm == STATE_OFF'
#1481: FILE: drivers/video/via/viafbdev.c:1439:
+	if ((active_dev.samm == STATE_OFF)
+	    || (active_dev.samm == STATE_ON))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'active_dev.samm == STATE_ON'
#1481: FILE: drivers/video/via/viafbdev.c:1439:
+	if ((active_dev.samm == STATE_OFF)
+	    || (active_dev.samm == STATE_ON))

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1482: FILE: drivers/video/via/viafbdev.c:1440:
+	if ((active_dev.samm == STATE_OFF)
+	    || (active_dev.samm == STATE_ON))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1524: FILE: drivers/video/via/viafbdev.c:1482:
+				DEBUG_MSG(KERN_INFO "CRT IGA Path:%d\n",
+					viaparinfo->

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->crt_setting_info->iga_path'
#1525: FILE: drivers/video/via/viafbdev.c:1483:
+					viaparinfo->
+					crt_setting_info->iga_path);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1532: FILE: drivers/video/via/viafbdev.c:1490:
+				DEBUG_MSG(KERN_INFO "DVI IGA Path:%d\n",
+					viaparinfo->

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->tmds_setting_info->iga_path'
#1533: FILE: drivers/video/via/viafbdev.c:1491:
+					viaparinfo->
+					tmds_setting_info->iga_path);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1540: FILE: drivers/video/via/viafbdev.c:1498:
+				DEBUG_MSG(KERN_INFO "LCD IGA Path:%d\n",
+					viaparinfo->

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->lvds_setting_info->iga_path'
#1541: FILE: drivers/video/via/viafbdev.c:1499:
+					viaparinfo->
+					lvds_setting_info->iga_path);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1548: FILE: drivers/video/via/viafbdev.c:1506:
+				DEBUG_MSG(KERN_INFO "LCD2 IGA Path:%d\n",
+					viaparinfo->

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->lvds_setting_info2->iga_path'
#1549: FILE: drivers/video/via/viafbdev.c:1507:
+					viaparinfo->
+					lvds_setting_info2->iga_path);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1559: FILE: drivers/video/via/viafbdev.c:1517:
+	if (0 == viafb_SAMM_ON) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1597: FILE: drivers/video/via/viafbdev.c:1555:
+	viafb_refresh1 = viafb_get_refresh(sec_var->xres, sec_var->yres,
+		long_refresh);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1601: FILE: drivers/video/via/viafbdev.c:1559:
+static int apply_device_setting(struct viafb_ioctl_setting setting_info,
+	struct fb_info *info)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1604: FILE: drivers/video/via/viafbdev.c:1562:
+	int need_set_mode = 0;
+	DEBUG_MSG(KERN_INFO "apply_device_setting\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'apply_device_setting', this function's name, in a string
#1604: FILE: drivers/video/via/viafbdev.c:1562:
+	DEBUG_MSG(KERN_INFO "apply_device_setting\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1612: FILE: drivers/video/via/viafbdev.c:1570:
+	/* Unlock LCD's operation according to LCD flag
+	   and check if the setting value is valid. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1612: FILE: drivers/video/via/viafbdev.c:1570:
+	   and check if the setting value is valid. */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1664: FILE: drivers/video/via/viafbdev.c:1622:
+		if (setting_info.samm_status == 0
+		    || setting_info.samm_status == 1) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1690: FILE: drivers/video/via/viafbdev.c:1648:
+{
+

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'viaparinfo->video_on_crt == 1'
#1700: FILE: drivers/video/via/viafbdev.c:1658:
+	if ((viaparinfo->video_on_crt == 1) && (viafb_CRT_ON == 1)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'viafb_CRT_ON == 1'
#1700: FILE: drivers/video/via/viafbdev.c:1658:
+	if ((viaparinfo->video_on_crt == 1) && (viafb_CRT_ON == 1)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1741: FILE: drivers/video/via/viafbdev.c:1699:
+	/* 2. Keep the order of devices, so we can set corresponding
+	   IGA path to devices in SAMM case. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1741: FILE: drivers/video/via/viafbdev.c:1699:
+	   IGA path to devices in SAMM case. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1743: FILE: drivers/video/via/viafbdev.c:1701:
+	/*    Note: The previous of active_dev is primary device,
+	   and the following is secondary device. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1743: FILE: drivers/video/via/viafbdev.c:1701:
+	   and the following is secondary device. */

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->chip_info->lvds_chip_info.output_interface'
#1839: FILE: drivers/video/via/viafbdev.c:1797:
+	parse_port(viafb_lcd_port, &viaparinfo->chip_info->lvds_chip_info.
+		output_interface);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'parse_lcd_port', this function's name, in a string
#1844: FILE: drivers/video/via/viafbdev.c:1802:
+	DEBUG_MSG(KERN_INFO "parse_lcd_port: viafb_lcd_port:%s,interface:%d\n",

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'iaparinfo->chip_info->lvds_chip_info.output_interface'
#1846: FILE: drivers/video/via/viafbdev.c:1804:
+		  viafb_lcd_port, iaparinfo->chip_info->lvds_chip_info.
+		  output_interface);

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->chip_info->tmds_chip_info.output_interface'
#1852: FILE: drivers/video/via/viafbdev.c:1810:
+	parse_port(viafb_dvi_port, &viaparinfo->chip_info->tmds_chip_info.
+		output_interface);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'parse_dvi_port', this function's name, in a string
#1854: FILE: drivers/video/via/viafbdev.c:1812:
+	DEBUG_MSG(KERN_INFO "parse_dvi_port: viafb_dvi_port:%s,interface:%d\n",

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->chip_info->tmds_chip_info.output_interface'
#1856: FILE: drivers/video/via/viafbdev.c:1814:
+		  viafb_dvi_port, viaparinfo->chip_info->tmds_chip_info.
+		  output_interface);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1866: FILE: drivers/video/via/viafbdev.c:1824:
+static int viafb_dvp0_proc_read(char *buf, char **start, off_t offset,
+int count, int *eof, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1870: FILE: drivers/video/via/viafbdev.c:1828:
+	u8 dvp0_data_dri = 0, dvp0_clk_dri = 0, dvp0 = 0;
+	dvp0_data_dri =

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1882: FILE: drivers/video/via/viafbdev.c:1840:
+}
+static int viafb_dvp0_proc_write(struct file *file,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1883: FILE: drivers/video/via/viafbdev.c:1841:
+static int viafb_dvp0_proc_write(struct file *file,
+	const char __user *buffer, unsigned long count, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1888: FILE: drivers/video/via/viafbdev.c:1846:
+	unsigned long length, i;
+	if (count < 1)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "value"
#1897: FILE: drivers/video/via/viafbdev.c:1855:
+		if (value != NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#1898: FILE: drivers/video/via/viafbdev.c:1856:
+			strict_strtoul(value, 0, (unsigned long *)&reg_val);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1904: FILE: drivers/video/via/viafbdev.c:1862:
+				viafb_write_reg_mask(CR96, VIACR,
+					reg_val, 0x0f);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1908: FILE: drivers/video/via/viafbdev.c:1866:
+				viafb_write_reg_mask(SR2A, VIASR,
+					reg_val << 4, BIT5);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1910: FILE: drivers/video/via/viafbdev.c:1868:
+				viafb_write_reg_mask(SR1B, VIASR,
+					reg_val << 1, BIT1);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1914: FILE: drivers/video/via/viafbdev.c:1872:
+				viafb_write_reg_mask(SR2A, VIASR,
+					reg_val << 3, BIT4);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1916: FILE: drivers/video/via/viafbdev.c:1874:
+				viafb_write_reg_mask(SR1E, VIASR,
+					reg_val << 2, BIT2);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1927: FILE: drivers/video/via/viafbdev.c:1885:
+}
+static int viafb_dvp1_proc_read(char *buf, char **start, off_t offset,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1928: FILE: drivers/video/via/viafbdev.c:1886:
+static int viafb_dvp1_proc_read(char *buf, char **start, off_t offset,
+	int count, int *eof, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1932: FILE: drivers/video/via/viafbdev.c:1890:
+	u8 dvp1 = 0, dvp1_data_dri = 0, dvp1_clk_dri = 0;
+	dvp1 = viafb_read_reg(VIACR, CR9B) & 0x0f;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1940: FILE: drivers/video/via/viafbdev.c:1898:
+}
+static int viafb_dvp1_proc_write(struct file *file,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1941: FILE: drivers/video/via/viafbdev.c:1899:
+static int viafb_dvp1_proc_write(struct file *file,
+	const char __user *buffer, unsigned long count, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1946: FILE: drivers/video/via/viafbdev.c:1904:
+	unsigned long length, i;
+	if (count < 1)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "value"
#1955: FILE: drivers/video/via/viafbdev.c:1913:
+		if (value != NULL) {

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#1956: FILE: drivers/video/via/viafbdev.c:1914:
+			strict_strtoul(value, 0, (unsigned long *)&reg_val);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1960: FILE: drivers/video/via/viafbdev.c:1918:
+				viafb_write_reg_mask(CR9B, VIACR,
+					reg_val, 0x0f);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1964: FILE: drivers/video/via/viafbdev.c:1922:
+				viafb_write_reg_mask(SR65, VIASR,
+					reg_val << 2, 0x0c);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1968: FILE: drivers/video/via/viafbdev.c:1926:
+				viafb_write_reg_mask(SR65, VIASR,
+					reg_val, 0x03);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1981: FILE: drivers/video/via/viafbdev.c:1939:
+static int viafb_dfph_proc_read(char *buf, char **start, off_t offset,
+	int count, int *eof, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1985: FILE: drivers/video/via/viafbdev.c:1943:
+	u8 dfp_high = 0;
+	dfp_high = viafb_read_reg(VIACR, CR97) & 0x0f;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1990: FILE: drivers/video/via/viafbdev.c:1948:
+}
+static int viafb_dfph_proc_write(struct file *file,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1991: FILE: drivers/video/via/viafbdev.c:1949:
+static int viafb_dfph_proc_write(struct file *file,
+	const char __user *buffer, unsigned long count, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1996: FILE: drivers/video/via/viafbdev.c:1954:
+	unsigned long length;
+	if (count < 1)

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2002: FILE: drivers/video/via/viafbdev.c:1960:
+	strict_strtoul(&buf[0], 0, (unsigned long *)&reg_val);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2006: FILE: drivers/video/via/viafbdev.c:1964:
+}
+static int viafb_dfpl_proc_read(char *buf, char **start, off_t offset,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2007: FILE: drivers/video/via/viafbdev.c:1965:
+static int viafb_dfpl_proc_read(char *buf, char **start, off_t offset,
+	int count, int *eof, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#2011: FILE: drivers/video/via/viafbdev.c:1969:
+	u8 dfp_low = 0;
+	dfp_low = viafb_read_reg(VIACR, CR99) & 0x0f;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2016: FILE: drivers/video/via/viafbdev.c:1974:
+}
+static int viafb_dfpl_proc_write(struct file *file,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2017: FILE: drivers/video/via/viafbdev.c:1975:
+static int viafb_dfpl_proc_write(struct file *file,
+	const char __user *buffer, unsigned long count, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#2022: FILE: drivers/video/via/viafbdev.c:1980:
+	unsigned long length;
+	if (count < 1)

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2028: FILE: drivers/video/via/viafbdev.c:1986:
+	strict_strtoul(&buf[0], 0, (unsigned long *)&reg_val);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2032: FILE: drivers/video/via/viafbdev.c:1990:
+}
+static int viafb_vt1636_proc_read(char *buf, char **start,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2033: FILE: drivers/video/via/viafbdev.c:1991:
+static int viafb_vt1636_proc_read(char *buf, char **start,
+	off_t offset, int count, int *eof, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#2037: FILE: drivers/video/via/viafbdev.c:1995:
+	u8 vt1636_08 = 0, vt1636_09 = 0;
+	switch (viaparinfo->chip_info->lvds_chip_info.lvds_chip_name) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2041: FILE: drivers/video/via/viafbdev.c:1999:
+		    viafb_gpio_i2c_read_lvds(viaparinfo->lvds_setting_info,
+		    &viaparinfo->chip_info->lvds_chip_info, 0x08) & 0x0f;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2044: FILE: drivers/video/via/viafbdev.c:2002:
+		    viafb_gpio_i2c_read_lvds(viaparinfo->lvds_setting_info,
+		    &viaparinfo->chip_info->lvds_chip_info, 0x09) & 0x1f;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2054: FILE: drivers/video/via/viafbdev.c:2012:
+		    viafb_gpio_i2c_read_lvds(viaparinfo->lvds_setting_info2,
+			&viaparinfo->chip_info->lvds_chip_info2, 0x08) & 0x0f;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2057: FILE: drivers/video/via/viafbdev.c:2015:
+		    viafb_gpio_i2c_read_lvds(viaparinfo->lvds_setting_info2,
+			&viaparinfo->chip_info->lvds_chip_info2, 0x09) & 0x1f;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2066: FILE: drivers/video/via/viafbdev.c:2024:
+}
+static int viafb_vt1636_proc_write(struct file *file,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2067: FILE: drivers/video/via/viafbdev.c:2025:
+static int viafb_vt1636_proc_write(struct file *file,
+	const char __user *buffer, unsigned long count, void *data)

WARNING:LINE_SPACING: Missing a blank line after declarations
#2072: FILE: drivers/video/via/viafbdev.c:2030:
+	unsigned long length, i;
+	if (count < 1)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "value"
#2083: FILE: drivers/video/via/viafbdev.c:2041:
+			if (value != NULL) {

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2084: FILE: drivers/video/via/viafbdev.c:2042:
+				strict_strtoul(value, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2085: FILE: drivers/video/via/viafbdev.c:2043:
+				strict_strtoul(value, 0,
+					(unsigned long *)&reg_val.Data);

CHECK:CAMELCASE: Avoid CamelCase: <Data>
#2085: FILE: drivers/video/via/viafbdev.c:2043:
+					(unsigned long *)&reg_val.Data);

CHECK:CAMELCASE: Avoid CamelCase: <Index>
#2088: FILE: drivers/video/via/viafbdev.c:2046:
+					reg_val.Index = 0x08;

CHECK:CAMELCASE: Avoid CamelCase: <Mask>
#2089: FILE: drivers/video/via/viafbdev.c:2047:
+					reg_val.Mask = 0x0f;

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->chip_info->lvds_chip_info'
#2093: FILE: drivers/video/via/viafbdev.c:2051:
+					    &viaparinfo->
+					    chip_info->lvds_chip_info,

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->chip_info->lvds_chip_info'
#2102: FILE: drivers/video/via/viafbdev.c:2060:
+					    &viaparinfo->
+					    chip_info->lvds_chip_info,

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "value"
#2120: FILE: drivers/video/via/viafbdev.c:2078:
+			if (value != NULL) {

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2121: FILE: drivers/video/via/viafbdev.c:2079:
+				strict_strtoul(value, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2122: FILE: drivers/video/via/viafbdev.c:2080:
+				strict_strtoul(value, 0,
+					(unsigned long *)&reg_val.Data);

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->chip_info->lvds_chip_info2'
#2130: FILE: drivers/video/via/viafbdev.c:2088:
+					    &viaparinfo->
+					    chip_info->lvds_chip_info2,

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->chip_info->lvds_chip_info2'
#2139: FILE: drivers/video/via/viafbdev.c:2097:
+					    &viaparinfo->
+					    chip_info->lvds_chip_info2,

WARNING:LINE_SPACING: Missing a blank line after declarations
#2159: FILE: drivers/video/via/viafbdev.c:2117:
+	struct proc_dir_entry *entry;
+	viafb_entry = proc_mkdir("viafb", NULL);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#2185: FILE: drivers/video/via/viafbdev.c:2143:
+		if (VT1636_LVDS == viaparinfo->chip_info->lvds_chip_info.

WARNING:MULTILINE_DEREFERENCE: Avoid multiple line dereference - prefer 'viaparinfo->chip_info->lvds_chip_info.lvds_chip_name'
#2186: FILE: drivers/video/via/viafbdev.c:2144:
+		if (VT1636_LVDS == viaparinfo->chip_info->lvds_chip_info.
+			lvds_chip_name || VT1636_LVDS ==

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2196: FILE: drivers/video/via/viafbdev.c:2154:
+
+	}

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2198: FILE: drivers/video/via/viafbdev.c:2156:
+}
+static void viafb_remove_proc(struct proc_dir_entry *viafb_entry)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#2209: FILE: drivers/video/via/viafbdev.c:2167:
+static int __devinit via_pci_probe(void)

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#2211: FILE: drivers/video/via/viafbdev.c:2169:
+{
+

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2217: FILE: drivers/video/via/viafbdev.c:2175:
+    u32 tmds_length, lvds_length, crt_length, chip_length, viafb_par_length;$

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#2221: FILE: drivers/video/via/viafbdev.c:2179:
+#define BYTES_PER_LONG (BITS_PER_LONG/8)
                                      ^

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#2237: FILE: drivers/video/via/viafbdev.c:2195:
+	 * variables
+	*/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2241: FILE: drivers/video/via/viafbdev.c:2199:
+		printk(KERN_ERR"Could not allocate memory for viafb_info.\n");

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2241: FILE: drivers/video/via/viafbdev.c:2199:
+		printk(KERN_ERR"Could not allocate memory for viafb_info.\n");

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2273: FILE: drivers/video/via/viafbdev.c:2231:
+	viaparinfo->fbmem_virt = ioremap_nocache(viaparinfo->fbmem,
+		viaparinfo->memsize);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2277: FILE: drivers/video/via/viafbdev.c:2235:
+		printk(KERN_INFO "ioremap failed\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2283: FILE: drivers/video/via/viafbdev.c:2241:
+	viaparinfo->io_virt = ioremap_nocache(viaparinfo->mmio_base,
+		viaparinfo->mmio_len);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'viafb_second_size < 8'
#2296: FILE: drivers/video/via/viafbdev.c:2254:
+	if (viafb_second_size && (viafb_second_size < 8)) {

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2308: FILE: drivers/video/via/viafbdev.c:2266:
+	strict_strtoul(tmpc, 0, (unsigned long *)&default_xres);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2309: FILE: drivers/video/via/viafbdev.c:2267:
+	strict_strtoul(tmpm, 0, (unsigned long *)&default_yres);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2318: FILE: drivers/video/via/viafbdev.c:2276:
+			strict_strtoul(tmpc_sec, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2319: FILE: drivers/video/via/viafbdev.c:2277:
+			strict_strtoul(tmpc_sec, 0,
+				(unsigned long *)&viafb_second_xres);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2320: FILE: drivers/video/via/viafbdev.c:2278:
+			strict_strtoul(tmpm_sec, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2321: FILE: drivers/video/via/viafbdev.c:2279:
+			strict_strtoul(tmpm_sec, 0,
+				(unsigned long *)&viafb_second_yres);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#2326: FILE: drivers/video/via/viafbdev.c:2284:
+		if (0 == viafb_second_virtual_xres) {

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#2336: FILE: drivers/video/via/viafbdev.c:2294:
+		if (0 == viafb_second_virtual_yres)

CHECK:BRACES: braces {} should be used on all arms of this statement
#2377: FILE: drivers/video/via/viafbdev.c:2335:
+	if (via_fb_accel) {
[...]
+	} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#2382: FILE: drivers/video/via/viafbdev.c:2340:
+	} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2388: FILE: drivers/video/via/viafbdev.c:2346:
+			printk(KERN_ERR

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2431: FILE: drivers/video/via/viafbdev.c:2389:
+		    viafb_get_pixclock(viafb_second_xres, viafb_second_yres,
+		    viafb_refresh);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'viafb_primary_dev == LCD_Device'
#2454: FILE: drivers/video/via/viafbdev.c:2412:
+	if (viafb_dual_fb && (viafb_primary_dev == LCD_Device)
+	    && (viaparinfo->chip_info->gfx_chip_name == UNICHROME_CLE266)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'viaparinfo->chip_info->gfx_chip_name == UNICHROME_CLE266'
#2454: FILE: drivers/video/via/viafbdev.c:2412:
+	if (viafb_dual_fb && (viafb_primary_dev == LCD_Device)
+	    && (viaparinfo->chip_info->gfx_chip_name == UNICHROME_CLE266)) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2455: FILE: drivers/video/via/viafbdev.c:2413:
+	if (viafb_dual_fb && (viafb_primary_dev == LCD_Device)
+	    && (viaparinfo->chip_info->gfx_chip_name == UNICHROME_CLE266)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'viafb_primary_dev != LCD_Device'
#2462: FILE: drivers/video/via/viafbdev.c:2420:
+	if (viafb_dual_fb && ((viafb_primary_dev != LCD_Device)
+			|| (viaparinfo->chip_info->gfx_chip_name !=
+			UNICHROME_CLE266))) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'viaparinfo->chip_info->gfx_chip_name !=
 			UNICHROME_CLE266'
#2462: FILE: drivers/video/via/viafbdev.c:2420:
+	if (viafb_dual_fb && ((viafb_primary_dev != LCD_Device)
+			|| (viaparinfo->chip_info->gfx_chip_name !=
+			UNICHROME_CLE266))) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2463: FILE: drivers/video/via/viafbdev.c:2421:
+	if (viafb_dual_fb && ((viafb_primary_dev != LCD_Device)
+			|| (viaparinfo->chip_info->gfx_chip_name !=

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#2477: FILE: drivers/video/via/viafbdev.c:2435:
+static void __devexit via_pci_remove(void)

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'via_pci_remove', this function's name, in a string
#2479: FILE: drivers/video/via/viafbdev.c:2437:
+	DEBUG_MSG(KERN_INFO "via_pci_remove!\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_init', this function's name, in a string
#2495: FILE: drivers/video/via/viafbdev.c:2453:
+	DEBUG_MSG(KERN_INFO "viafb_init!\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2496: FILE: drivers/video/via/viafbdev.c:2454:
+	printk(KERN_INFO

WARNING:TYPO_SPELLING: 'Intergration' may be misspelled - perhaps 'Integration'?
#2497: FILE: drivers/video/via/viafbdev.c:2455:
+       "VIA Graphics Intergration Chipset framebuffer %d.%d initializing\n",
                      ^^^^^^^^^^^^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2497: FILE: drivers/video/via/viafbdev.c:2455:
+       "VIA Graphics Intergration Chipset framebuffer %d.%d initializing\n",$

WARNING:LINE_SPACING: Missing a blank line after declarations
#2501: FILE: drivers/video/via/viafbdev.c:2459:
+	char *option = NULL;
+	if (fb_get_options("viafb", &option))

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_exit', this function's name, in a string
#2510: FILE: drivers/video/via/viafbdev.c:2468:
+	DEBUG_MSG(KERN_INFO "viafb_exit!\n");

WARNING:LINE_SPACING: Missing a blank line after declarations
#2521: FILE: drivers/video/via/viafbdev.c:2479:
+	char *this_opt;
+	DEBUG_MSG(KERN_INFO "viafb_setup!\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'viafb_setup', this function's name, in a string
#2521: FILE: drivers/video/via/viafbdev.c:2479:
+	DEBUG_MSG(KERN_INFO "viafb_setup!\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2535: FILE: drivers/video/via/viafbdev.c:2493:
+			viafb_mode1 = kmalloc(strlen(this_opt + 11),
+				GFP_KERNEL);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2538: FILE: drivers/video/via/viafbdev.c:2496:
+			strict_strtoul(this_opt + 11, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2539: FILE: drivers/video/via/viafbdev.c:2497:
+			strict_strtoul(this_opt + 11, 0,
+				(unsigned long *)&via_fb_bpp);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2541: FILE: drivers/video/via/viafbdev.c:2499:
+			strict_strtoul(this_opt + 12, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2542: FILE: drivers/video/via/viafbdev.c:2500:
+			strict_strtoul(this_opt + 12, 0,
+				(unsigned long *)&via_fb_bpp1);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2544: FILE: drivers/video/via/viafbdev.c:2502:
+			strict_strtoul(this_opt + 14, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2545: FILE: drivers/video/via/viafbdev.c:2503:
+			strict_strtoul(this_opt + 14, 0,
+				(unsigned long *)&viafb_refresh);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2547: FILE: drivers/video/via/viafbdev.c:2505:
+			strict_strtoul(this_opt + 15, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2548: FILE: drivers/video/via/viafbdev.c:2506:
+			strict_strtoul(this_opt + 15, 0,
+				(unsigned long *)&viafb_refresh1);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2550: FILE: drivers/video/via/viafbdev.c:2508:
+			strict_strtoul(this_opt + 21, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2551: FILE: drivers/video/via/viafbdev.c:2509:
+			strict_strtoul(this_opt + 21, 0,
+				(unsigned long *)&viafb_lcd_dsp_method);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2553: FILE: drivers/video/via/viafbdev.c:2511:
+			strict_strtoul(this_opt + 19, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2554: FILE: drivers/video/via/viafbdev.c:2512:
+			strict_strtoul(this_opt + 19, 0,
+				(unsigned long *)&viafb_lcd_panel_id);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2556: FILE: drivers/video/via/viafbdev.c:2514:
+			strict_strtoul(this_opt + 13, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2557: FILE: drivers/video/via/viafbdev.c:2515:
+			strict_strtoul(this_opt + 13, 0,
+				(unsigned long *)&via_fb_accel);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2559: FILE: drivers/video/via/viafbdev.c:2517:
+			strict_strtoul(this_opt + 14, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2560: FILE: drivers/video/via/viafbdev.c:2518:
+			strict_strtoul(this_opt + 14, 0,
+				(unsigned long *)&viafb_SAMM_ON);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2563: FILE: drivers/video/via/viafbdev.c:2521:
+			viafb_active_dev = kmalloc(strlen(this_opt + 16),
+				GFP_KERNEL);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2567: FILE: drivers/video/via/viafbdev.c:2525:
+			strict_strtoul(this_opt + 30, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2568: FILE: drivers/video/via/viafbdev.c:2526:
+			strict_strtoul(this_opt + 30, 0,
+				(unsigned long *)

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2571: FILE: drivers/video/via/viafbdev.c:2529:
+			strict_strtoul(this_opt + 18, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2572: FILE: drivers/video/via/viafbdev.c:2530:
+			strict_strtoul(this_opt + 18, 0,
+				(unsigned long *)&viafb_second_size);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2574: FILE: drivers/video/via/viafbdev.c:2532:
+		else if (!strncmp(this_opt,
+		"viafb_platform_epia_dvi=", 24))

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2575: FILE: drivers/video/via/viafbdev.c:2533:
+			strict_strtoul(this_opt + 24, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2576: FILE: drivers/video/via/viafbdev.c:2534:
+			strict_strtoul(this_opt + 24, 0,
+				(unsigned long *)&viafb_platform_epia_dvi);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2578: FILE: drivers/video/via/viafbdev.c:2536:
+		else if (!strncmp(this_opt,
+		"viafb_device_lcd_dualedge=", 26))

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2579: FILE: drivers/video/via/viafbdev.c:2537:
+			strict_strtoul(this_opt + 26, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2580: FILE: drivers/video/via/viafbdev.c:2538:
+			strict_strtoul(this_opt + 26, 0,
+				(unsigned long *)&viafb_device_lcd_dualedge);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2582: FILE: drivers/video/via/viafbdev.c:2540:
+			strict_strtoul(this_opt + 13, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2583: FILE: drivers/video/via/viafbdev.c:2541:
+			strict_strtoul(this_opt + 13, 0,
+				(unsigned long *)&via_bus_width);

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2585: FILE: drivers/video/via/viafbdev.c:2543:
+			strict_strtoul(this_opt + 15, 0,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2586: FILE: drivers/video/via/viafbdev.c:2544:
+			strict_strtoul(this_opt + 15, 0,
+				(unsigned long *)&viafb_lcd_mode);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2589: FILE: drivers/video/via/viafbdev.c:2547:
+			viafb_video_dev = kmalloc(strlen(this_opt + 15),
+				GFP_KERNEL);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2593: FILE: drivers/video/via/viafbdev.c:2551:
+			viafb_lcd_port = kmalloc(strlen(this_opt + 14),
+				GFP_KERNEL);

WARNING:CONST_STRUCT: struct fb_ops should normally be const
#2600: FILE: drivers/video/via/viafbdev.c:2558:
+static struct fb_ops viafb_ops = {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2638: FILE: drivers/video/via/viafbdev.c:2596:
+MODULE_PARM_DESC(viafb_refresh,
+	"Set CRT viafb_refresh rate (default = 60)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2642: FILE: drivers/video/via/viafbdev.c:2600:
+MODULE_PARM_DESC(viafb_refresh1,
+	"Set CRT refresh rate (default = 60)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2646: FILE: drivers/video/via/viafbdev.c:2604:
+MODULE_PARM_DESC(viafb_lcd_panel_id,
+	"Set Flat Panel type(Default=1024x768)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2650: FILE: drivers/video/via/viafbdev.c:2608:
+MODULE_PARM_DESC(viafb_lcd_dsp_method,
+	"Set Flat Panel display scaling method.(Default=Expandsion)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2654: FILE: drivers/video/via/viafbdev.c:2612:
+MODULE_PARM_DESC(viafb_SAMM_ON,
+	"Turn on/off flag of SAMM(Default=OFF)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2658: FILE: drivers/video/via/viafbdev.c:2616:
+MODULE_PARM_DESC(via_fb_accel,
+	"Set 2D Hardware Acceleration.(Default = OFF)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2665: FILE: drivers/video/via/viafbdev.c:2623:
+MODULE_PARM_DESC(viafb_display_hardware_layout,
+	"Display Hardware Layout (LCD Only, DVI Only...,etc)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2669: FILE: drivers/video/via/viafbdev.c:2627:
+MODULE_PARM_DESC(viafb_second_size,
+	"Set secondary device memory size");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2673: FILE: drivers/video/via/viafbdev.c:2631:
+MODULE_PARM_DESC(viafb_dual_fb,
+	"Turn on/off flag of dual framebuffer devices.(Default = OFF)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2677: FILE: drivers/video/via/viafbdev.c:2635:
+MODULE_PARM_DESC(viafb_platform_epia_dvi,
+	"Turn on/off flag of DVI devices on EPIA board.(Default = OFF)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2681: FILE: drivers/video/via/viafbdev.c:2639:
+MODULE_PARM_DESC(viafb_device_lcd_dualedge,
+	"Turn on/off flag of dual edge panel.(Default = OFF)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2685: FILE: drivers/video/via/viafbdev.c:2643:
+MODULE_PARM_DESC(via_bus_width,
+	"Set bus width of panel.(Default = 12)");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2689: FILE: drivers/video/via/viafbdev.c:2647:
+MODULE_PARM_DESC(viafb_lcd_mode,
+	"Set Flat Panel mode(Default=OPENLDI)");

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2706: FILE: drivers/video/via/viafbdev.h:1:
+/*

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#2722: FILE: drivers/video/via/viafbdev.h:17:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#2724: FILE: drivers/video/via/viafbdev.h:19:
+ * 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2780: FILE: drivers/video/via/viafbdev.h:75:
+};
+struct viafb_modeinfo {

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2786: FILE: drivers/video/via/viafbdev.h:81:
+};
+extern unsigned int viafb_second_virtual_yres;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2799: FILE: drivers/video/via/viafbdev.h:94:
+extern int soft_cursor(struct fb_info *info, struct fb_cursor *cursor);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2801: FILE: drivers/video/via/viafbdev.h:96:
+extern int strict_strtoul(const char *cp, unsigned int base,

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#2801: FILE: drivers/video/via/viafbdev.h:96:
+extern int strict_strtoul(const char *cp, unsigned int base,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2802: FILE: drivers/video/via/viafbdev.h:97:
+extern int strict_strtoul(const char *cp, unsigned int base,
+	unsigned long *res);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2806: FILE: drivers/video/via/viafbdev.h:101:
+void viafb_fill_var_timing_info(struct fb_var_screeninfo *var, int refresh,
+			  int mode_index);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000261262.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 4 errors, 126 warnings, 197 checks, 2769 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000261262.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
