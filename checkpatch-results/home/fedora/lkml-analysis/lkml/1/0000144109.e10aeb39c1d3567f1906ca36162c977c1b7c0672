WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#38: 
This patch adds support for exhaustive support for SPC-3 compliant persistent reservations

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#44: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#49: FILE: drivers/target/target_core_pr.c:1:
+/*******************************************************************************

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#71: FILE: drivers/target/target_core_pr.c:23:
+ * along with this program; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#72: FILE: drivers/target/target_core_pr.c:24:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#98: FILE: drivers/target/target_core_pr.c:50:
+static void __core_scsi3_complete_pro_release(se_device_t *, se_node_acl_t *,
+			t10_pr_registration_t *g, int);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#100: FILE: drivers/target/target_core_pr.c:52:
+int core_scsi2_reservation_seq_non_holder(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#158: FILE: drivers/target/target_core_pr.c:110:
+	printk(KERN_INFO "SCSI-2 Released reservation for %s LUN: %u ->"

WARNING:SPLIT_STRING: quoted string split across lines
#159: FILE: drivers/target/target_core_pr.c:111:
+	printk(KERN_INFO "SCSI-2 Released reservation for %s LUN: %u ->"
+		" MAPPED LUN: %u for %s\n", TPG_TFO(tpg)->get_fabric_name(),

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:TYPO_SPELLING: 'Obselete' may be misspelled - perhaps 'Obsolete'?
#176: FILE: drivers/target/target_core_pr.c:128:
+		printk(KERN_ERR "LongIO and Obselete Bits set, returning"
 		                            ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#176: FILE: drivers/target/target_core_pr.c:128:
+		printk(KERN_ERR "LongIO and Obselete Bits set, returning"

WARNING:SPLIT_STRING: quoted string split across lines
#177: FILE: drivers/target/target_core_pr.c:129:
+		printk(KERN_ERR "LongIO and Obselete Bits set, returning"
+				" ILLEGAL_REQUEST\n");

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'dev->dev_reserved_node_acl != sess->se_node_acl'
#189: FILE: drivers/target/target_core_pr.c:141:
+	if (dev->dev_reserved_node_acl &&
+	   (dev->dev_reserved_node_acl != sess->se_node_acl)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#190: FILE: drivers/target/target_core_pr.c:142:
+	if (dev->dev_reserved_node_acl &&
+	   (dev->dev_reserved_node_acl != sess->se_node_acl)) {

WARNING:TYPO_SPELLING: 'CONFLIFT' may be misspelled - perhaps 'CONFLICT'?
#191: FILE: drivers/target/target_core_pr.c:143:
+		printk(KERN_ERR "SCSI-2 RESERVATION CONFLIFT for %s fabric\n",
 		                                    ^^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#191: FILE: drivers/target/target_core_pr.c:143:
+		printk(KERN_ERR "SCSI-2 RESERVATION CONFLIFT for %s fabric\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#192: FILE: drivers/target/target_core_pr.c:144:
+		printk(KERN_ERR "SCSI-2 RESERVATION CONFLIFT for %s fabric\n",
+			TPG_TFO(tpg)->get_fabric_name());

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#193: FILE: drivers/target/target_core_pr.c:145:
+		printk(KERN_ERR "Original reserver LUN: %u %s\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#194: FILE: drivers/target/target_core_pr.c:146:
+		printk(KERN_ERR "Original reserver LUN: %u %s\n",
+			SE_LUN(cmd)->unpacked_lun,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#196: FILE: drivers/target/target_core_pr.c:148:
+		printk(KERN_ERR "Current attempt - LUN: %u -> MAPPED LUN: %u"

WARNING:SPLIT_STRING: quoted string split across lines
#197: FILE: drivers/target/target_core_pr.c:149:
+		printk(KERN_ERR "Current attempt - LUN: %u -> MAPPED LUN: %u"
+			" from %s \n", SE_LUN(cmd)->unpacked_lun,

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#197: FILE: drivers/target/target_core_pr.c:149:
+			" from %s \n", SE_LUN(cmd)->unpacked_lun,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#206: FILE: drivers/target/target_core_pr.c:158:
+	printk(KERN_INFO "SCSI-2 Reserved %s LUN: %u -> MAPPED LUN: %u"

WARNING:SPLIT_STRING: quoted string split across lines
#207: FILE: drivers/target/target_core_pr.c:159:
+	printk(KERN_INFO "SCSI-2 Reserved %s LUN: %u -> MAPPED LUN: %u"
+		" for %s\n", TPG_TFO(tpg)->get_fabric_name(),

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#222: FILE: drivers/target/target_core_pr.c:174:
+static int core_scsi3_pr_seq_non_holder(

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#235: FILE: drivers/target/target_core_pr.c:187:
+			 * RESERVATION CONFLICT on some CDBs */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#321: FILE: drivers/target/target_core_pr.c:273:
+			printk(KERN_ERR "Unknown PERSISTENT_RESERVE_OUT service"

WARNING:SPLIT_STRING: quoted string split across lines
#322: FILE: drivers/target/target_core_pr.c:274:
+			printk(KERN_ERR "Unknown PERSISTENT_RESERVE_OUT service"
+				" action: 0x%02x\n", cdb[1] & 0x1f);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#367: FILE: drivers/target/target_core_pr.c:319:
+			printk(KERN_ERR "Unknown MI Service Action: 0x%02x\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#368: FILE: drivers/target/target_core_pr.c:320:
+			printk(KERN_ERR "Unknown MI Service Action: 0x%02x\n",
+				(cdb[1] & 0x1f));

WARNING:TYPO_SPELLING: 'explictly' may be misspelled - perhaps 'explicitly'?
#386: FILE: drivers/target/target_core_pr.c:338:
+	 * Case where the CDB is explictly allowed in the above switch
 	                         ^^^^^^^^^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#390: FILE: drivers/target/target_core_pr.c:342:
+#if 0

WARNING:TYPO_SPELLING: 'explict' may be misspelled - perhaps 'explicit'?
#391: FILE: drivers/target/target_core_pr.c:343:
+		printk(KERN_INFO "Allowing explict CDB: 0x%02x for %s"
 		                           ^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#391: FILE: drivers/target/target_core_pr.c:343:
+		printk(KERN_INFO "Allowing explict CDB: 0x%02x for %s"

WARNING:SPLIT_STRING: quoted string split across lines
#392: FILE: drivers/target/target_core_pr.c:344:
+		printk(KERN_INFO "Allowing explict CDB: 0x%02x for %s"
+			" reservation holder\n", cdb[0],

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cmd->data_direction == SE_DIRECTION_WRITE'
#402: FILE: drivers/target/target_core_pr.c:354:
+		if ((cmd->data_direction == SE_DIRECTION_WRITE) ||
+		    (cmd->data_direction == SE_DIRECTION_BIDI)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cmd->data_direction == SE_DIRECTION_BIDI'
#402: FILE: drivers/target/target_core_pr.c:354:
+		if ((cmd->data_direction == SE_DIRECTION_WRITE) ||
+		    (cmd->data_direction == SE_DIRECTION_BIDI)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#407: FILE: drivers/target/target_core_pr.c:359:
+			printk(KERN_INFO "%s Conflict for unregistered nexus"

WARNING:SPLIT_STRING: quoted string split across lines
#408: FILE: drivers/target/target_core_pr.c:360:
+			printk(KERN_INFO "%s Conflict for unregistered nexus"
+				" %s CDB: 0x%02x to %s reservation\n",

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#413: FILE: drivers/target/target_core_pr.c:365:
+			return 1;
+		} else {

WARNING:TYPO_SPELLING: 'unregisterd' may be misspelled - perhaps 'unregistered'?
#419: FILE: drivers/target/target_core_pr.c:371:
+			 * We only make noise for the unregisterd nexuses,
 			                              ^^^^^^^^^^^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#423: FILE: drivers/target/target_core_pr.c:375:
+#if 0

WARNING:TYPO_SPELLING: 'implict' may be misspelled - perhaps 'implicit'?
#425: FILE: drivers/target/target_core_pr.c:377:
+				printk(KERN_INFO "Allowing implict CDB: 0x%02x"
 				                           ^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#425: FILE: drivers/target/target_core_pr.c:377:
+				printk(KERN_INFO "Allowing implict CDB: 0x%02x"

WARNING:SPLIT_STRING: quoted string split across lines
#426: FILE: drivers/target/target_core_pr.c:378:
+				printk(KERN_INFO "Allowing implict CDB: 0x%02x"
+					" for %s reservation on unregistered"

WARNING:SPLIT_STRING: quoted string split across lines
#427: FILE: drivers/target/target_core_pr.c:379:
+					" for %s reservation on unregistered"
+					" nexus\n", cdb[0],

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#439: FILE: drivers/target/target_core_pr.c:391:
+#if 0

WARNING:TYPO_SPELLING: 'implict' may be misspelled - perhaps 'implicit'?
#440: FILE: drivers/target/target_core_pr.c:392:
+			printk(KERN_INFO "Allowing implict CDB: 0x%02x for %s"
 			                           ^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#440: FILE: drivers/target/target_core_pr.c:392:
+			printk(KERN_INFO "Allowing implict CDB: 0x%02x for %s"

WARNING:SPLIT_STRING: quoted string split across lines
#441: FILE: drivers/target/target_core_pr.c:393:
+			printk(KERN_INFO "Allowing implict CDB: 0x%02x for %s"
+				" reservation\n", cdb[0],

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#447: FILE: drivers/target/target_core_pr.c:399:
+	printk(KERN_INFO "%s Conflict for %sregistered nexus %s CDB: 0x%2x"

WARNING:SPLIT_STRING: quoted string split across lines
#448: FILE: drivers/target/target_core_pr.c:400:
+	printk(KERN_INFO "%s Conflict for %sregistered nexus %s CDB: 0x%2x"
+		" for %s reservation\n", transport_dump_cmd_direction(cmd),

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#476: FILE: drivers/target/target_core_pr.c:428:
+static int core_scsi3_pr_reservation_check(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#517: FILE: drivers/target/target_core_pr.c:469:
+static int core_scsi3_alloc_registration(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#531: FILE: drivers/target/target_core_pr.c:483:
+		printk(KERN_ERR "Unable to allocate t10_pr_registration_t\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#556: FILE: drivers/target/target_core_pr.c:508:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: REGISTER%s Initiator"

WARNING:SPLIT_STRING: quoted string split across lines
#557: FILE: drivers/target/target_core_pr.c:509:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: REGISTER%s Initiator"
+		" Node: %s\n", tfo->get_fabric_name(), (ignore_key) ?

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#559: FILE: drivers/target/target_core_pr.c:511:
+	printk(KERN_INFO "SPC-3 PR [%s] for %s TCM Subsystem %s Object Target"

WARNING:SPLIT_STRING: quoted string split across lines
#560: FILE: drivers/target/target_core_pr.c:512:
+	printk(KERN_INFO "SPC-3 PR [%s] for %s TCM Subsystem %s Object Target"
+		" Port(s)\n",  tfo->get_fabric_name(),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#563: FILE: drivers/target/target_core_pr.c:515:
+	printk(KERN_INFO "SPC-3 PR [%s] SA Res Key: 0x%016Lx PRgeneration:"

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#563: FILE: drivers/target/target_core_pr.c:515:
+	printk(KERN_INFO "SPC-3 PR [%s] SA Res Key: 0x%016Lx PRgeneration:"

WARNING:SPLIT_STRING: quoted string split across lines
#564: FILE: drivers/target/target_core_pr.c:516:
+	printk(KERN_INFO "SPC-3 PR [%s] SA Res Key: 0x%016Lx PRgeneration:"
+		" 0x%08x\n", tfo->get_fabric_name(), pr_reg->pr_res_key,

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#571: FILE: drivers/target/target_core_pr.c:523:
+static t10_pr_registration_t *core_scsi3_locate_pr_reg(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#580: FILE: drivers/target/target_core_pr.c:532:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp,
+			&pr_tmpl->registration_list, pr_reg_list) {

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#599: FILE: drivers/target/target_core_pr.c:551:
+static int core_scsi3_check_implict_release(

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder != NULL'
#609: FILE: drivers/target/target_core_pr.c:561:
+	if ((pr_res_holder != NULL) && (pr_res_holder == pr_reg)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder == pr_reg'
#609: FILE: drivers/target/target_core_pr.c:561:
+	if ((pr_res_holder != NULL) && (pr_res_holder == pr_reg)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "pr_res_holder"
#609: FILE: drivers/target/target_core_pr.c:561:
+	if ((pr_res_holder != NULL) && (pr_res_holder == pr_reg)) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:TYPO_SPELLING: 'implict' may be misspelled - perhaps 'implicit'?
#611: FILE: drivers/target/target_core_pr.c:563:
+		 * Perform an implict RELEASE if the registration that
 		              ^^^^^^^

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#635: FILE: drivers/target/target_core_pr.c:587:
+static void __core_scsi3_free_registration(

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#662: FILE: drivers/target/target_core_pr.c:614:
+		printk("SPC-3 PR [%s] waiting for pr_res_holders\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#663: FILE: drivers/target/target_core_pr.c:615:
+		printk("SPC-3 PR [%s] waiting for pr_res_holders\n",
+				tfo->get_fabric_name());

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#664: FILE: drivers/target/target_core_pr.c:616:
+		msleep(10);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#668: FILE: drivers/target/target_core_pr.c:620:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: UNREGISTER Initiator"

WARNING:SPLIT_STRING: quoted string split across lines
#669: FILE: drivers/target/target_core_pr.c:621:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: UNREGISTER Initiator"
+		" Node: %s\n", tfo->get_fabric_name(),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#671: FILE: drivers/target/target_core_pr.c:623:
+	printk(KERN_INFO "SPC-3 PR [%s] for %s TCM Subsystem %s Object Target"

WARNING:SPLIT_STRING: quoted string split across lines
#672: FILE: drivers/target/target_core_pr.c:624:
+	printk(KERN_INFO "SPC-3 PR [%s] for %s TCM Subsystem %s Object Target"
+		" Port(s)\n", tfo->get_fabric_name(),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#675: FILE: drivers/target/target_core_pr.c:627:
+	printk(KERN_INFO "SPC-3 PR [%s] SA Res Key: 0x%016Lx PRgeneration:"

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#675: FILE: drivers/target/target_core_pr.c:627:
+	printk(KERN_INFO "SPC-3 PR [%s] SA Res Key: 0x%016Lx PRgeneration:"

WARNING:SPLIT_STRING: quoted string split across lines
#676: FILE: drivers/target/target_core_pr.c:628:
+	printk(KERN_INFO "SPC-3 PR [%s] SA Res Key: 0x%016Lx PRgeneration:"
+		" 0x%08x\n", tfo->get_fabric_name(), pr_reg->pr_res_key,

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#692: FILE: drivers/target/target_core_pr.c:644:
+void core_scsi3_free_pr_reg_from_nacl(

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder != NULL'
#704: FILE: drivers/target/target_core_pr.c:656:
+	if ((pr_res_holder != NULL) &&
+	    (pr_res_holder->pr_reg_nacl == nacl))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder->pr_reg_nacl == nacl'
#704: FILE: drivers/target/target_core_pr.c:656:
+	if ((pr_res_holder != NULL) &&
+	    (pr_res_holder->pr_reg_nacl == nacl))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "pr_res_holder"
#704: FILE: drivers/target/target_core_pr.c:656:
+	if ((pr_res_holder != NULL) &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#713: FILE: drivers/target/target_core_pr.c:665:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp,
+			&pr_tmpl->registration_list, pr_reg_list) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#714: FILE: drivers/target/target_core_pr.c:666:
+			&pr_tmpl->registration_list, pr_reg_list) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#723: FILE: drivers/target/target_core_pr.c:675:
+void core_scsi3_free_all_registrations(

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "pr_res_holder"
#731: FILE: drivers/target/target_core_pr.c:683:
+	if (pr_res_holder != NULL) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#733: FILE: drivers/target/target_core_pr.c:685:
+		se_node_acl_t *pr_res_nacl = pr_res_holder->pr_reg_nacl;
+		__core_scsi3_complete_pro_release(dev, pr_res_nacl,

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#734: FILE: drivers/target/target_core_pr.c:686:
+		__core_scsi3_complete_pro_release(dev, pr_res_nacl,
+				pr_res_holder, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#740: FILE: drivers/target/target_core_pr.c:692:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp,
+			&pr_tmpl->registration_list, pr_reg_list) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#741: FILE: drivers/target/target_core_pr.c:693:
+			&pr_tmpl->registration_list, pr_reg_list) {
+

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#747: FILE: drivers/target/target_core_pr.c:699:
+static int core_scsi3_emulate_pro_register(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#766: FILE: drivers/target/target_core_pr.c:718:
+		printk(KERN_ERR "SPC-3 PR: se_sess || se_lun_t is NULL!\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#773: FILE: drivers/target/target_core_pr.c:725:
+		printk(KERN_INFO "Activate Persistence across Target Power"

WARNING:SPLIT_STRING: quoted string split across lines
#774: FILE: drivers/target/target_core_pr.c:726:
+		printk(KERN_INFO "Activate Persistence across Target Power"
+			" Loss = 1 not implemented yet\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#782: FILE: drivers/target/target_core_pr.c:734:
+			printk(KERN_WARNING "SPC-3 PR: Reservation Key non-zero"

WARNING:SPLIT_STRING: quoted string split across lines
#783: FILE: drivers/target/target_core_pr.c:735:
+			printk(KERN_WARNING "SPC-3 PR: Reservation Key non-zero"
+				" for SA REGISTER, returning CONFLICT\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#799: FILE: drivers/target/target_core_pr.c:751:
+			ret = core_scsi3_alloc_registration(SE_DEV(cmd),
+					se_sess->se_node_acl, se_deve,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#802: FILE: drivers/target/target_core_pr.c:754:
+				printk(KERN_ERR "Unable to allocate"

WARNING:SPLIT_STRING: quoted string split across lines
#803: FILE: drivers/target/target_core_pr.c:755:
+				printk(KERN_ERR "Unable to allocate"
+					" t10_pr_registration_t\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#812: FILE: drivers/target/target_core_pr.c:764:
+			printk("Specify Initiator Ports (SPEC_I_PT) = 1 not"

WARNING:SPLIT_STRING: quoted string split across lines
#813: FILE: drivers/target/target_core_pr.c:765:
+			printk("Specify Initiator Ports (SPEC_I_PT) = 1 not"
+					" implemented yet\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#821: FILE: drivers/target/target_core_pr.c:773:
+		pr_reg = core_scsi3_locate_pr_reg(SE_DEV(cmd),
+				se_sess->se_node_acl);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#823: FILE: drivers/target/target_core_pr.c:775:
+			printk(KERN_ERR "SPC-3 PR: Unable to locate"

WARNING:SPLIT_STRING: quoted string split across lines
#824: FILE: drivers/target/target_core_pr.c:776:
+			printk(KERN_ERR "SPC-3 PR: Unable to locate"
+				" PR_REGISTERED *pr_reg for REGISTER\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#832: FILE: drivers/target/target_core_pr.c:784:
+				printk(KERN_ERR "SPC-3 PR REGISTER: Received"

WARNING:SPLIT_STRING: quoted string split across lines
#833: FILE: drivers/target/target_core_pr.c:785:
+				printk(KERN_ERR "SPC-3 PR REGISTER: Received"
+					" res_key: 0x%016Lx does not match"

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#833: FILE: drivers/target/target_core_pr.c:785:
+					" res_key: 0x%016Lx does not match"

WARNING:SPLIT_STRING: quoted string split across lines
#834: FILE: drivers/target/target_core_pr.c:786:
+					" res_key: 0x%016Lx does not match"
+					" existing SA REGISTER res_key:"

WARNING:SPLIT_STRING: quoted string split across lines
#835: FILE: drivers/target/target_core_pr.c:787:
+					" existing SA REGISTER res_key:"
+					" 0x%016Lx\n", res_key,

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#835: FILE: drivers/target/target_core_pr.c:787:
+					" 0x%016Lx\n", res_key,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#842: FILE: drivers/target/target_core_pr.c:794:
+			printk(KERN_ERR "SPC-3 PR UNREGISTER: SPEC_I_PT"

WARNING:SPLIT_STRING: quoted string split across lines
#843: FILE: drivers/target/target_core_pr.c:795:
+			printk(KERN_ERR "SPC-3 PR UNREGISTER: SPEC_I_PT"
+				" set while sa_res_key=0\n");

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#853: FILE: drivers/target/target_core_pr.c:805:
+			pr_holder = core_scsi3_check_implict_release(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#861: FILE: drivers/target/target_core_pr.c:813:
+			__core_scsi3_free_registration(SE_DEV(cmd), pr_reg,
+							NULL, 1);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type == PR_TYPE_WRITE_EXCLUSIVE_REGONLY'
#873: FILE: drivers/target/target_core_pr.c:825:
+			if (pr_holder &&
+			   ((type == PR_TYPE_WRITE_EXCLUSIVE_REGONLY) ||
+			    (type == PR_TYPE_EXCLUSIVE_ACCESS_REGONLY))) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type == PR_TYPE_EXCLUSIVE_ACCESS_REGONLY'
#873: FILE: drivers/target/target_core_pr.c:825:
+			if (pr_holder &&
+			   ((type == PR_TYPE_WRITE_EXCLUSIVE_REGONLY) ||
+			    (type == PR_TYPE_EXCLUSIVE_ACCESS_REGONLY))) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#874: FILE: drivers/target/target_core_pr.c:826:
+			if (pr_holder &&
+			   ((type == PR_TYPE_WRITE_EXCLUSIVE_REGONLY) ||

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#877: FILE: drivers/target/target_core_pr.c:829:
+				list_for_each_entry(pr_reg_p,
+						&pr_tmpl->registration_list,

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#879: FILE: drivers/target/target_core_pr.c:831:
+						pr_reg_list) {
+

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#880: FILE: drivers/target/target_core_pr.c:832:
+					core_scsi3_ua_allocate(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#894: FILE: drivers/target/target_core_pr.c:846:
+			pr_reg->pr_res_generation = core_scsi3_pr_generation(

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#897: FILE: drivers/target/target_core_pr.c:849:
+			printk("SPC-3 PR [%s] REGISTER%s: Changed Reservation"

WARNING:SPLIT_STRING: quoted string split across lines
#898: FILE: drivers/target/target_core_pr.c:850:
+			printk("SPC-3 PR [%s] REGISTER%s: Changed Reservation"
+				" Key for %s to: 0x%016Lx PRgeneration:"

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#898: FILE: drivers/target/target_core_pr.c:850:
+				" Key for %s to: 0x%016Lx PRgeneration:"

WARNING:SPLIT_STRING: quoted string split across lines
#899: FILE: drivers/target/target_core_pr.c:851:
+				" Key for %s to: 0x%016Lx PRgeneration:"
+				" 0x%08x\n", CMD_TFO(cmd)->get_fabric_name(),

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#933: FILE: drivers/target/target_core_pr.c:885:
+static int core_scsi3_pro_reserve(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#947: FILE: drivers/target/target_core_pr.c:899:
+		printk(KERN_ERR "SPC-3 PR: se_sess || se_lun_t is NULL!\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#957: FILE: drivers/target/target_core_pr.c:909:
+		printk(KERN_ERR "SPC-3 PR: Unable to locate"

WARNING:SPLIT_STRING: quoted string split across lines
#958: FILE: drivers/target/target_core_pr.c:910:
+		printk(KERN_ERR "SPC-3 PR: Unable to locate"
+			" PR_REGISTERED *pr_reg for RESERVE\n");

WARNING:TYPO_SPELLING: 'recevied' may be misspelled - perhaps 'received'?
#962: FILE: drivers/target/target_core_pr.c:914:
+	 * For a given ALL_TG_PT=0 PR registration, a recevied PR reserve must
 	                                              ^^^^^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_reg->pr_reg_tg_pt_lun != se_lun'
#965: FILE: drivers/target/target_core_pr.c:917:
+	if (!(pr_reg->pr_reg_all_tg_pt) &&
+	     (pr_reg->pr_reg_tg_pt_lun != se_lun)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#966: FILE: drivers/target/target_core_pr.c:918:
+	if (!(pr_reg->pr_reg_all_tg_pt) &&
+	     (pr_reg->pr_reg_tg_pt_lun != se_lun)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#967: FILE: drivers/target/target_core_pr.c:919:
+		printk(KERN_ERR "SPC-3 PR: Unable to handle RESERVE because"

WARNING:SPLIT_STRING: quoted string split across lines
#968: FILE: drivers/target/target_core_pr.c:920:
+		printk(KERN_ERR "SPC-3 PR: Unable to handle RESERVE because"
+			" ALL_TG_PT=0 and RESERVE was not received on same"

WARNING:SPLIT_STRING: quoted string split across lines
#969: FILE: drivers/target/target_core_pr.c:921:
+			" ALL_TG_PT=0 and RESERVE was not received on same"
+			" target port as REGISTER\n");

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#980: FILE: drivers/target/target_core_pr.c:932:
+^I * ^I registered with the logical unit for the I_T nexus; and$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#983: FILE: drivers/target/target_core_pr.c:935:
+		printk(KERN_ERR "SPC-3 PR RESERVE: Received res_key: 0x%016Lx"

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#983: FILE: drivers/target/target_core_pr.c:935:
+		printk(KERN_ERR "SPC-3 PR RESERVE: Received res_key: 0x%016Lx"

WARNING:SPLIT_STRING: quoted string split across lines
#984: FILE: drivers/target/target_core_pr.c:936:
+		printk(KERN_ERR "SPC-3 PR RESERVE: Received res_key: 0x%016Lx"
+			" does not match existing SA REGISTER res_key:"

WARNING:SPLIT_STRING: quoted string split across lines
#985: FILE: drivers/target/target_core_pr.c:937:
+			" does not match existing SA REGISTER res_key:"
+			" 0x%016Lx\n", res_key, pr_reg->pr_res_key);

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#985: FILE: drivers/target/target_core_pr.c:937:
+			" 0x%016Lx\n", res_key, pr_reg->pr_res_key);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1000: FILE: drivers/target/target_core_pr.c:952:
+		printk(KERN_ERR "SPC-3 PR: Illegal SCOPE: 0x%02x\n", scope);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1024: FILE: drivers/target/target_core_pr.c:976:
+			se_node_acl_t *pr_res_nacl = pr_res_holder->pr_reg_nacl;
+			printk(KERN_ERR "SPC-3 PR: Attempted RESERVE from"

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1024: FILE: drivers/target/target_core_pr.c:976:
+			printk(KERN_ERR "SPC-3 PR: Attempted RESERVE from"

WARNING:SPLIT_STRING: quoted string split across lines
#1025: FILE: drivers/target/target_core_pr.c:977:
+			printk(KERN_ERR "SPC-3 PR: Attempted RESERVE from"
+				" [%s]: %s while reservation already held by"

WARNING:SPLIT_STRING: quoted string split across lines
#1026: FILE: drivers/target/target_core_pr.c:978:
+				" [%s]: %s while reservation already held by"
+				" [%s]: %s, returning RESERVATION_CONFLICT\n",

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder->pr_res_type != type'
#1043: FILE: drivers/target/target_core_pr.c:995:
+		if ((pr_res_holder->pr_res_type != type) ||
+		    (pr_res_holder->pr_res_scope != scope)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder->pr_res_scope != scope'
#1043: FILE: drivers/target/target_core_pr.c:995:
+		if ((pr_res_holder->pr_res_type != type) ||
+		    (pr_res_holder->pr_res_scope != scope)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1046: FILE: drivers/target/target_core_pr.c:998:
+			se_node_acl_t *pr_res_nacl = pr_res_holder->pr_reg_nacl;
+			printk(KERN_ERR "SPC-3 PR: Attempted RESERVE from"

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1046: FILE: drivers/target/target_core_pr.c:998:
+			printk(KERN_ERR "SPC-3 PR: Attempted RESERVE from"

WARNING:SPLIT_STRING: quoted string split across lines
#1047: FILE: drivers/target/target_core_pr.c:999:
+			printk(KERN_ERR "SPC-3 PR: Attempted RESERVE from"
+				" [%s]: %s trying to change TYPE and/or SCOPE,"

WARNING:SPLIT_STRING: quoted string split across lines
#1048: FILE: drivers/target/target_core_pr.c:1000:
+				" [%s]: %s trying to change TYPE and/or SCOPE,"
+				" while reservation already held by [%s]: %s,"

WARNING:SPLIT_STRING: quoted string split across lines
#1049: FILE: drivers/target/target_core_pr.c:1001:
+				" while reservation already held by [%s]: %s,"
+				" returning RESERVATION_CONFLICT\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1082: FILE: drivers/target/target_core_pr.c:1034:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: RESERVE created new"

WARNING:SPLIT_STRING: quoted string split across lines
#1083: FILE: drivers/target/target_core_pr.c:1035:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: RESERVE created new"
+		" reservation holder TYPE: %s ALL_TG_PT: %d\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1086: FILE: drivers/target/target_core_pr.c:1038:
+	printk(KERN_INFO "SPC-3 PR [%s] RESERVE Node: %s\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1087: FILE: drivers/target/target_core_pr.c:1039:
+	printk(KERN_INFO "SPC-3 PR [%s] RESERVE Node: %s\n",
+			CMD_TFO(cmd)->get_fabric_name(),

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1095: FILE: drivers/target/target_core_pr.c:1047:
+static int core_scsi3_emulate_pro_reserve(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1114: FILE: drivers/target/target_core_pr.c:1066:
+		printk(KERN_ERR "SPC-3 PR: Unknown Service Action RESERVE Type:"

WARNING:SPLIT_STRING: quoted string split across lines
#1115: FILE: drivers/target/target_core_pr.c:1067:
+		printk(KERN_ERR "SPC-3 PR: Unknown Service Action RESERVE Type:"
+			" 0x%02x\n", type);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1125: FILE: drivers/target/target_core_pr.c:1077:
+static void __core_scsi3_complete_pro_release(

WARNING:TYPO_SPELLING: 'explict' may be misspelled - perhaps 'explicit'?
#1129: FILE: drivers/target/target_core_pr.c:1081:
+	int explict)
 	    ^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1137: FILE: drivers/target/target_core_pr.c:1089:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: %s RELEASE cleared"

WARNING:SPLIT_STRING: quoted string split across lines
#1138: FILE: drivers/target/target_core_pr.c:1090:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: %s RELEASE cleared"
+		" reservation holder TYPE: %s ALL_TG_PT: %d\n",

WARNING:TYPO_SPELLING: 'explict' may be misspelled - perhaps 'explicit'?
#1139: FILE: drivers/target/target_core_pr.c:1091:
+		tfo->get_fabric_name(), (explict) ? "explict" : "implict",
 		                         ^^^^^^^

WARNING:TYPO_SPELLING: 'explict' may be misspelled - perhaps 'explicit'?
#1139: FILE: drivers/target/target_core_pr.c:1091:
+		tfo->get_fabric_name(), (explict) ? "explict" : "implict",
 		                                     ^^^^^^^

WARNING:TYPO_SPELLING: 'implict' may be misspelled - perhaps 'implicit'?
#1139: FILE: drivers/target/target_core_pr.c:1091:
+		tfo->get_fabric_name(), (explict) ? "explict" : "implict",
 		                                                 ^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1142: FILE: drivers/target/target_core_pr.c:1094:
+	printk(KERN_INFO "SPC-3 PR [%s] RELEASE Node: %s\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1143: FILE: drivers/target/target_core_pr.c:1095:
+	printk(KERN_INFO "SPC-3 PR [%s] RELEASE Node: %s\n",
+		tfo->get_fabric_name(),

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1148: FILE: drivers/target/target_core_pr.c:1100:
+	pr_reg->pr_res_holder = pr_reg->pr_res_type = pr_reg->pr_res_scope = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1151: FILE: drivers/target/target_core_pr.c:1103:
+static int core_scsi3_emulate_pro_release(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1164: FILE: drivers/target/target_core_pr.c:1116:
+		printk(KERN_ERR "SPC-3 PR: se_sess || se_lun_t is NULL!\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1172: FILE: drivers/target/target_core_pr.c:1124:
+		printk(KERN_ERR "SPC-3 PR: Unable to locate"

WARNING:SPLIT_STRING: quoted string split across lines
#1173: FILE: drivers/target/target_core_pr.c:1125:
+		printk(KERN_ERR "SPC-3 PR: Unable to locate"
+			" PR_REGISTERED *pr_reg for RELEASE\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1222: FILE: drivers/target/target_core_pr.c:1174:
+		printk(KERN_ERR "SPC-3 PR RELEASE: Received res_key: 0x%016Lx"

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#1222: FILE: drivers/target/target_core_pr.c:1174:
+		printk(KERN_ERR "SPC-3 PR RELEASE: Received res_key: 0x%016Lx"

WARNING:SPLIT_STRING: quoted string split across lines
#1223: FILE: drivers/target/target_core_pr.c:1175:
+		printk(KERN_ERR "SPC-3 PR RELEASE: Received res_key: 0x%016Lx"
+			" does not match existing SA REGISTER res_key:"

WARNING:SPLIT_STRING: quoted string split across lines
#1224: FILE: drivers/target/target_core_pr.c:1176:
+			" does not match existing SA REGISTER res_key:"
+			" 0x%016Lx\n", res_key, pr_reg->pr_res_key);

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#1224: FILE: drivers/target/target_core_pr.c:1176:
+			" 0x%016Lx\n", res_key, pr_reg->pr_res_key);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder->pr_res_type != type'
#1235: FILE: drivers/target/target_core_pr.c:1187:
+	if ((pr_res_holder->pr_res_type != type) ||
+	    (pr_res_holder->pr_res_scope != scope)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder->pr_res_scope != scope'
#1235: FILE: drivers/target/target_core_pr.c:1187:
+	if ((pr_res_holder->pr_res_type != type) ||
+	    (pr_res_holder->pr_res_scope != scope)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1238: FILE: drivers/target/target_core_pr.c:1190:
+		se_node_acl_t *pr_res_nacl = pr_res_holder->pr_reg_nacl;
+		printk(KERN_ERR "SPC-3 PR RELEASE: Attempted to release"

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1238: FILE: drivers/target/target_core_pr.c:1190:
+		printk(KERN_ERR "SPC-3 PR RELEASE: Attempted to release"

WARNING:SPLIT_STRING: quoted string split across lines
#1239: FILE: drivers/target/target_core_pr.c:1191:
+		printk(KERN_ERR "SPC-3 PR RELEASE: Attempted to release"
+			" reservation from [%s]: %s with different TYPE "

WARNING:SPLIT_STRING: quoted string split across lines
#1240: FILE: drivers/target/target_core_pr.c:1192:
+			" reservation from [%s]: %s with different TYPE "
+			"and/or SCOPE  while reservation already held by"

WARNING:SPLIT_STRING: quoted string split across lines
#1241: FILE: drivers/target/target_core_pr.c:1193:
+			"and/or SCOPE  while reservation already held by"
+			" [%s]: %s, returning RESERVATION_CONFLICT\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1268: FILE: drivers/target/target_core_pr.c:1220:
+	__core_scsi3_complete_pro_release(dev, se_sess->se_node_acl,
+			pr_reg, 1);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type != PR_TYPE_WRITE_EXCLUSIVE_REGONLY'
#1270: FILE: drivers/target/target_core_pr.c:1222:
+	if ((type != PR_TYPE_WRITE_EXCLUSIVE_REGONLY) &&
+	    (type != PR_TYPE_EXCLUSIVE_ACCESS_REGONLY) &&
+	    (type != PR_TYPE_WRITE_EXCLUSIVE_ALLREG) &&
+	    (type != PR_TYPE_EXCLUSIVE_ACCESS_ALLREG)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type != PR_TYPE_EXCLUSIVE_ACCESS_REGONLY'
#1270: FILE: drivers/target/target_core_pr.c:1222:
+	if ((type != PR_TYPE_WRITE_EXCLUSIVE_REGONLY) &&
+	    (type != PR_TYPE_EXCLUSIVE_ACCESS_REGONLY) &&
+	    (type != PR_TYPE_WRITE_EXCLUSIVE_ALLREG) &&
+	    (type != PR_TYPE_EXCLUSIVE_ACCESS_ALLREG)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type != PR_TYPE_WRITE_EXCLUSIVE_ALLREG'
#1270: FILE: drivers/target/target_core_pr.c:1222:
+	if ((type != PR_TYPE_WRITE_EXCLUSIVE_REGONLY) &&
+	    (type != PR_TYPE_EXCLUSIVE_ACCESS_REGONLY) &&
+	    (type != PR_TYPE_WRITE_EXCLUSIVE_ALLREG) &&
+	    (type != PR_TYPE_EXCLUSIVE_ACCESS_ALLREG)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type != PR_TYPE_EXCLUSIVE_ACCESS_ALLREG'
#1270: FILE: drivers/target/target_core_pr.c:1222:
+	if ((type != PR_TYPE_WRITE_EXCLUSIVE_REGONLY) &&
+	    (type != PR_TYPE_EXCLUSIVE_ACCESS_REGONLY) &&
+	    (type != PR_TYPE_WRITE_EXCLUSIVE_ALLREG) &&
+	    (type != PR_TYPE_EXCLUSIVE_ACCESS_ALLREG)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1282: FILE: drivers/target/target_core_pr.c:1234:
+	list_for_each_entry(pr_reg_p, &pr_tmpl->registration_list,
+			pr_reg_list) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1291: FILE: drivers/target/target_core_pr.c:1243:
+		core_scsi3_ua_allocate(pr_reg_p->pr_reg_nacl,
+				pr_reg_p->pr_res_mapped_lun,

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1300: FILE: drivers/target/target_core_pr.c:1252:
+static int core_scsi3_emulate_pro_clear(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1315: FILE: drivers/target/target_core_pr.c:1267:
+	pr_reg_n = core_scsi3_locate_pr_reg(SE_DEV(cmd),
+			se_sess->se_node_acl);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1317: FILE: drivers/target/target_core_pr.c:1269:
+		printk(KERN_ERR "SPC-3 PR: Unable to locate"

WARNING:SPLIT_STRING: quoted string split across lines
#1318: FILE: drivers/target/target_core_pr.c:1270:
+		printk(KERN_ERR "SPC-3 PR: Unable to locate"
+			" PR_REGISTERED *pr_reg for CLEAR\n");

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1330: FILE: drivers/target/target_core_pr.c:1282:
+^I * ^I   that is registered with the logical unit for the I_T nexus.$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1333: FILE: drivers/target/target_core_pr.c:1285:
+		printk(KERN_ERR "SPC-3 PR REGISTER: Received"

WARNING:SPLIT_STRING: quoted string split across lines
#1334: FILE: drivers/target/target_core_pr.c:1286:
+		printk(KERN_ERR "SPC-3 PR REGISTER: Received"
+			" res_key: 0x%016Lx does not match"

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#1334: FILE: drivers/target/target_core_pr.c:1286:
+			" res_key: 0x%016Lx does not match"

WARNING:SPLIT_STRING: quoted string split across lines
#1335: FILE: drivers/target/target_core_pr.c:1287:
+			" res_key: 0x%016Lx does not match"
+			" existing SA REGISTER res_key:"

WARNING:SPLIT_STRING: quoted string split across lines
#1336: FILE: drivers/target/target_core_pr.c:1288:
+			" existing SA REGISTER res_key:"
+			" 0x%016Lx\n", res_key, pr_reg_n->pr_res_key);

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#1336: FILE: drivers/target/target_core_pr.c:1288:
+			" 0x%016Lx\n", res_key, pr_reg_n->pr_res_key);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1347: FILE: drivers/target/target_core_pr.c:1299:
+		se_node_acl_t *pr_res_nacl = pr_res_holder->pr_reg_nacl;
+		__core_scsi3_complete_pro_release(dev, pr_res_nacl,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1348: FILE: drivers/target/target_core_pr.c:1300:
+		__core_scsi3_complete_pro_release(dev, pr_res_nacl,
+			pr_res_holder, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1356: FILE: drivers/target/target_core_pr.c:1308:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp,
+			&pr_tmpl->registration_list, pr_reg_list) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1357: FILE: drivers/target/target_core_pr.c:1309:
+			&pr_tmpl->registration_list, pr_reg_list) {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1362: FILE: drivers/target/target_core_pr.c:1314:
+		__core_scsi3_free_registration(dev, pr_reg, NULL,
+					calling_it_nexus);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1372: FILE: drivers/target/target_core_pr.c:1324:
+			core_scsi3_ua_allocate(pr_reg_nacl, pr_res_mapped_lun,
+				0x2A, ASCQ_2AH_RESERVATIONS_PREEMPTED);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1376: FILE: drivers/target/target_core_pr.c:1328:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: CLEAR complete\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1377: FILE: drivers/target/target_core_pr.c:1329:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: CLEAR complete\n",
+		CMD_TFO(cmd)->get_fabric_name());

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1386: FILE: drivers/target/target_core_pr.c:1338:
+static void __core_scsi3_complete_pro_preempt(

WARNING:TYPO_SPELLING: 'implict' may be misspelled - perhaps 'implicit'?
#1397: FILE: drivers/target/target_core_pr.c:1349:
+	 * Do an implict RELEASE of the existing reservation.
 	         ^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1401: FILE: drivers/target/target_core_pr.c:1353:
+		__core_scsi3_complete_pro_release(dev, nacl,
+				dev->dev_pr_res_holder, 0);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1408: FILE: drivers/target/target_core_pr.c:1360:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: PREEMPT%s created new"

WARNING:SPLIT_STRING: quoted string split across lines
#1409: FILE: drivers/target/target_core_pr.c:1361:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: PREEMPT%s created new"
+		" reservation holder TYPE: %s ALL_TG_PT: %d\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1413: FILE: drivers/target/target_core_pr.c:1365:
+	printk(KERN_INFO "SPC-3 PR [%s] PREEMPT%s from Node: %s\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1414: FILE: drivers/target/target_core_pr.c:1366:
+	printk(KERN_INFO "SPC-3 PR [%s] PREEMPT%s from Node: %s\n",
+		tfo->get_fabric_name(), (abort) ? "_AND_ABORT" : "",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1423: FILE: drivers/target/target_core_pr.c:1375:
+		list_add_tail(&pr_reg->pr_reg_abort_list,
+				preempt_and_abort_list);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1426: FILE: drivers/target/target_core_pr.c:1378:
+static void core_scsi3_release_preempt_and_abort(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1433: FILE: drivers/target/target_core_pr.c:1385:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp, preempt_and_abort_list,
+				pr_reg_abort_list) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1434: FILE: drivers/target/target_core_pr.c:1386:
+				pr_reg_abort_list) {
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1439: FILE: drivers/target/target_core_pr.c:1391:
+			printk(KERN_WARNING "pr_reg->pr_res_holder still set\n");

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1449: FILE: drivers/target/target_core_pr.c:1401:
+int core_scsi3_check_cdb_abort_and_preempt(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1456: FILE: drivers/target/target_core_pr.c:1408:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp, preempt_and_abort_list,
+				pr_reg_abort_list) {

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1464: FILE: drivers/target/target_core_pr.c:1416:
+static int core_scsi3_emulate_pro_preempt(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1493: FILE: drivers/target/target_core_pr.c:1445:
+		printk(KERN_ERR "SPC-3 PR: Unable to locate"

WARNING:SPLIT_STRING: quoted string split across lines
#1494: FILE: drivers/target/target_core_pr.c:1446:
+		printk(KERN_ERR "SPC-3 PR: Unable to locate"
+			" PR_REGISTERED *pr_reg for PREEMPT%s\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1503: FILE: drivers/target/target_core_pr.c:1455:
+		printk(KERN_ERR "SPC-3 PR: Illegal SCOPE: 0x%02x\n", scope);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder->pr_res_type == PR_TYPE_WRITE_EXCLUSIVE_ALLREG'
#1511: FILE: drivers/target/target_core_pr.c:1463:
+	if (pr_res_holder &&
+	   ((pr_res_holder->pr_res_type == PR_TYPE_WRITE_EXCLUSIVE_ALLREG) ||
+	    (pr_res_holder->pr_res_type == PR_TYPE_EXCLUSIVE_ACCESS_ALLREG)))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder->pr_res_type == PR_TYPE_EXCLUSIVE_ACCESS_ALLREG'
#1511: FILE: drivers/target/target_core_pr.c:1463:
+	if (pr_res_holder &&
+	   ((pr_res_holder->pr_res_type == PR_TYPE_WRITE_EXCLUSIVE_ALLREG) ||
+	    (pr_res_holder->pr_res_type == PR_TYPE_EXCLUSIVE_ACCESS_ALLREG)))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1512: FILE: drivers/target/target_core_pr.c:1464:
+	if (pr_res_holder &&
+	   ((pr_res_holder->pr_res_type == PR_TYPE_WRITE_EXCLUSIVE_ALLREG) ||

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_res_holder->pr_res_key != sa_res_key'
#1530: FILE: drivers/target/target_core_pr.c:1482:
+	if (!(pr_res_holder) || (pr_res_holder->pr_res_key != sa_res_key)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1539: FILE: drivers/target/target_core_pr.c:1491:
+		list_for_each_entry_safe(pr_reg, pr_reg_tmp,
+				&pr_tmpl->registration_list, pr_reg_list) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1565: FILE: drivers/target/target_core_pr.c:1517:
+				__core_scsi3_free_registration(dev, pr_reg,
+					(abort) ? &preempt_and_abort_list :

WARNING:TYPO_SPELLING: 'implict' may be misspelled - perhaps 'implicit'?
#1575: FILE: drivers/target/target_core_pr.c:1527:
+				 * all other registrations and do an implict
 				                                     ^^^^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_reg->pr_res_key != sa_res_key'
#1582: FILE: drivers/target/target_core_pr.c:1534:
+				if ((sa_res_key) &&
+				     (pr_reg->pr_res_key != sa_res_key))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1583: FILE: drivers/target/target_core_pr.c:1535:
+				if ((sa_res_key) &&
+				     (pr_reg->pr_res_key != sa_res_key))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1593: FILE: drivers/target/target_core_pr.c:1545:
+				__core_scsi3_free_registration(dev, pr_reg,
+					(abort) ? &preempt_and_abort_list :

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1599: FILE: drivers/target/target_core_pr.c:1551:
+				core_scsi3_ua_allocate(pr_reg_nacl,
+					pr_res_mapped_lun, 0x2A,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1622: FILE: drivers/target/target_core_pr.c:1574:
+			__core_scsi3_complete_pro_preempt(dev, pr_reg_n,
+				(abort) ? &preempt_and_abort_list : NULL,

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1626: FILE: drivers/target/target_core_pr.c:1578:
+				core_scsi3_release_preempt_and_abort(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1667: FILE: drivers/target/target_core_pr.c:1619:
+		__core_scsi3_complete_pro_release(dev,
+				pr_res_holder->pr_reg_nacl,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1681: FILE: drivers/target/target_core_pr.c:1633:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp,
+			&pr_tmpl->registration_list, pr_reg_list) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1682: FILE: drivers/target/target_core_pr.c:1634:
+			&pr_tmpl->registration_list, pr_reg_list) {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1693: FILE: drivers/target/target_core_pr.c:1645:
+		__core_scsi3_free_registration(dev, pr_reg,
+				(abort) ? &preempt_and_abort_list : NULL,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1702: FILE: drivers/target/target_core_pr.c:1654:
+		core_scsi3_ua_allocate(pr_reg_nacl, pr_res_mapped_lun, 0x2A,
+				ASCQ_2AH_RESERVATIONS_PREEMPTED);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1710: FILE: drivers/target/target_core_pr.c:1662:
+	__core_scsi3_complete_pro_preempt(dev, pr_reg_n,
+			(abort) ? &preempt_and_abort_list : NULL,

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'prh_type != type'
#1725: FILE: drivers/target/target_core_pr.c:1677:
+	if ((prh_type != type) || (prh_scope != scope)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'prh_scope != scope'
#1725: FILE: drivers/target/target_core_pr.c:1677:
+	if ((prh_type != type) || (prh_scope != scope)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1728: FILE: drivers/target/target_core_pr.c:1680:
+		list_for_each_entry_safe(pr_reg, pr_reg_tmp,
+				&pr_tmpl->registration_list, pr_reg_list) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1729: FILE: drivers/target/target_core_pr.c:1681:
+				&pr_tmpl->registration_list, pr_reg_list) {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1735: FILE: drivers/target/target_core_pr.c:1687:
+			core_scsi3_ua_allocate(pr_reg->pr_reg_nacl,
+					pr_reg->pr_res_mapped_lun, 0x2A,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1754: FILE: drivers/target/target_core_pr.c:1706:
+		core_scsi3_release_preempt_and_abort(&preempt_and_abort_list,
+						pr_reg_n);

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1762: FILE: drivers/target/target_core_pr.c:1714:
+#if 0

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1763: FILE: drivers/target/target_core_pr.c:1715:
+static int core_scsi3_emulate_pro_register_and_move(

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1846: FILE: drivers/target/target_core_pr.c:1798:
+#if 0

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1852: FILE: drivers/target/target_core_pr.c:1804:
+		printk(KERN_ERR "Unknown PERSISTENT_RESERVE_OUT service"

WARNING:SPLIT_STRING: quoted string split across lines
#1853: FILE: drivers/target/target_core_pr.c:1805:
+		printk(KERN_ERR "Unknown PERSISTENT_RESERVE_OUT service"
+			" action: 0x%02x\n", cdb[1] & 0x1f);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1880: FILE: drivers/target/target_core_pr.c:1832:
+	list_for_each_entry(pr_reg, &T10_RES(su_dev)->registration_list,
+			pr_reg_list) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_reg->pr_res_type == PR_TYPE_WRITE_EXCLUSIVE_ALLREG'
#1954: FILE: drivers/target/target_core_pr.c:1906:
+		if ((pr_reg->pr_res_type == PR_TYPE_WRITE_EXCLUSIVE_ALLREG) ||
+		    (pr_reg->pr_res_type == PR_TYPE_EXCLUSIVE_ACCESS_ALLREG))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_reg->pr_res_type == PR_TYPE_EXCLUSIVE_ACCESS_ALLREG'
#1954: FILE: drivers/target/target_core_pr.c:1906:
+		if ((pr_reg->pr_res_type == PR_TYPE_WRITE_EXCLUSIVE_ALLREG) ||
+		    (pr_reg->pr_res_type == PR_TYPE_EXCLUSIVE_ACCESS_ALLREG))

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1994: FILE: drivers/target/target_core_pr.c:1946:
+#if 0

WARNING:TYPO_SPELLING: 'Hanlding' may be misspelled - perhaps 'Handling'?
#1995: FILE: drivers/target/target_core_pr.c:1947:
+	buf[2] |= 0x10; /* CRH: Compatible Reservation Hanlding bit. */
 	                                               ^^^^^^^^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1999: FILE: drivers/target/target_core_pr.c:1951:
+#if 0

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#2014: FILE: drivers/target/target_core_pr.c:1966:
+#if 0

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2055: FILE: drivers/target/target_core_pr.c:2007:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp,
+			&pr_tmpl->registration_list, pr_reg_list) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#2056: FILE: drivers/target/target_core_pr.c:2008:
+			&pr_tmpl->registration_list, pr_reg_list) {
+

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2064: FILE: drivers/target/target_core_pr.c:2016:
+		exp_desc_len = TPG_TFO(se_tpg)->tpg_get_pr_transport_id_len(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2068: FILE: drivers/target/target_core_pr.c:2020:
+			printk(KERN_WARNING "SPC-3 PRIN READ_FULL_STATUS ran"

WARNING:SPLIT_STRING: quoted string split across lines
#2069: FILE: drivers/target/target_core_pr.c:2021:
+			printk(KERN_WARNING "SPC-3 PRIN READ_FULL_STATUS ran"
+				" out of buffer: %d\n", cmd->data_length);

CHECK:BRACES: braces {} should be used on all arms of this statement
#2097: FILE: drivers/target/target_core_pr.c:2049:
+		if (pr_reg->pr_res_holder) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#2101: FILE: drivers/target/target_core_pr.c:2053:
+		} else

CHECK:BRACES: braces {} should be used on all arms of this statement
#2115: FILE: drivers/target/target_core_pr.c:2067:
+		if (!(pr_reg->pr_reg_all_tg_pt)) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#2120: FILE: drivers/target/target_core_pr.c:2072:
+		} else

WARNING:TYPO_SPELLING: 'IDENTIFER' may be misspelled - perhaps 'IDENTIFIER'?
#2121: FILE: drivers/target/target_core_pr.c:2073:
+			off += 2; /* Skip over RELATIVE TARGET PORT IDENTIFER */
 			                                            ^^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2127: FILE: drivers/target/target_core_pr.c:2079:
+		desc_len = TPG_TFO(se_tpg)->tpg_get_pr_transport_id(se_tpg,
+				se_nacl, &format_code, &buf[off+4]);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2127: FILE: drivers/target/target_core_pr.c:2079:
+				se_nacl, &format_code, &buf[off+4]);
 				                               ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2171: FILE: drivers/target/target_core_pr.c:2123:
+		printk(KERN_ERR "Unknown PERSISTENT_RESERVE_IN service"

WARNING:SPLIT_STRING: quoted string split across lines
#2172: FILE: drivers/target/target_core_pr.c:2124:
+		printk(KERN_ERR "Unknown PERSISTENT_RESERVE_IN service"
+			" action: 0x%02x\n", cdb[1] & 0x1f);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2176: FILE: drivers/target/target_core_pr.c:2128:
+
+}

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2202: FILE: drivers/target/target_core_pr.c:2154:
+static int core_pt_seq_non_holder(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2227: FILE: drivers/target/target_core_pr.c:2179:
+		printk(KERN_INFO "%s: Using SPC_PASSTHROUGH, no reservation"

WARNING:SPLIT_STRING: quoted string split across lines
#2228: FILE: drivers/target/target_core_pr.c:2180:
+		printk(KERN_INFO "%s: Using SPC_PASSTHROUGH, no reservation"
+			" emulation\n", TRANSPORT(dev)->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2241: FILE: drivers/target/target_core_pr.c:2193:
+		printk(KERN_INFO "%s: Using SPC3_PERSISTENT_RESERVATIONS"

WARNING:SPLIT_STRING: quoted string split across lines
#2242: FILE: drivers/target/target_core_pr.c:2194:
+		printk(KERN_INFO "%s: Using SPC3_PERSISTENT_RESERVATIONS"
+			" emulation\n", TRANSPORT(dev)->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2250: FILE: drivers/target/target_core_pr.c:2202:
+		printk(KERN_INFO "%s: Using SPC2_RESERVATIONS emulation\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2251: FILE: drivers/target/target_core_pr.c:2203:
+		printk(KERN_INFO "%s: Using SPC2_RESERVATIONS emulation\n",
+			TRANSPORT(dev)->name);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2262: FILE: include/target/target_core_pr.h:1:
+#ifndef TARGET_CORE_PR_H

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2306: FILE: include/target/target_core_pr.h:45:
+extern void core_scsi3_free_pr_reg_from_nacl(struct se_device_s *,

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_device_s *' should also have an identifier name
#2306: FILE: include/target/target_core_pr.h:45:
+extern void core_scsi3_free_pr_reg_from_nacl(struct se_device_s *,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_node_acl_s *' should also have an identifier name
#2306: FILE: include/target/target_core_pr.h:45:
+extern void core_scsi3_free_pr_reg_from_nacl(struct se_device_s *,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2308: FILE: include/target/target_core_pr.h:47:
+extern void core_scsi3_free_all_registrations(struct se_device_s *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_device_s *' should also have an identifier name
#2308: FILE: include/target/target_core_pr.h:47:
+extern void core_scsi3_free_all_registrations(struct se_device_s *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2309: FILE: include/target/target_core_pr.h:48:
+extern unsigned char *core_scsi3_pr_dump_type(int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#2309: FILE: include/target/target_core_pr.h:48:
+extern unsigned char *core_scsi3_pr_dump_type(int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2310: FILE: include/target/target_core_pr.h:49:
+extern int core_scsi3_check_cdb_abort_and_preempt(struct list_head *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct list_head *' should also have an identifier name
#2310: FILE: include/target/target_core_pr.h:49:
+extern int core_scsi3_check_cdb_abort_and_preempt(struct list_head *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_cmd_s *' should also have an identifier name
#2310: FILE: include/target/target_core_pr.h:49:
+extern int core_scsi3_check_cdb_abort_and_preempt(struct list_head *,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2312: FILE: include/target/target_core_pr.h:51:
+extern int core_scsi3_emulate_pr(struct se_cmd_s *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_cmd_s *' should also have an identifier name
#2312: FILE: include/target/target_core_pr.h:51:
+extern int core_scsi3_emulate_pr(struct se_cmd_s *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2313: FILE: include/target/target_core_pr.h:52:
+extern int core_setup_reservations(struct se_device_s *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_device_s *' should also have an identifier name
#2313: FILE: include/target/target_core_pr.h:52:
+extern int core_setup_reservations(struct se_device_s *);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000144109.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 2 errors, 177 warnings, 127 checks, 2261 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000144109.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
