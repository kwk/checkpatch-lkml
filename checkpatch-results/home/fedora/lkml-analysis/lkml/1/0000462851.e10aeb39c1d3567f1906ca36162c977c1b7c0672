WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#46: 
This patch also contains an initial set of paravirt ops for Xen, mostly ones

CHECK:CAMELCASE: Avoid CamelCase: <Xgt_desc_struct>
#395: FILE: arch/i386/kernel/paravirt.c:419:
+void native_store_gdt(struct Xgt_desc_struct *dtr)

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#466: FILE: arch/i386/xen/enlighten.c:1:
+#include <linux/kernel.h>

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/processor.h> instead of <asm/processor.h>
#486: FILE: arch/i386/xen/enlighten.c:21:
+#include <asm/processor.h>

Whenever asm/file.h is included and linux/file.h exists, a
conversion can be made when linux/file.h includes asm/file.h.
However this is not always the case (See signal.h).
This message type is emitted only for includes from arch/.

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/pgtable.h> instead of <asm/pgtable.h>
#489: FILE: arch/i386/xen/enlighten.c:24:
+#include <asm/pgtable.h>

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#495: FILE: arch/i386/xen/enlighten.c:30:
+EXPORT_SYMBOL_GPL(hypercall_page);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#497: FILE: arch/i386/xen/enlighten.c:32:
+static DEFINE_PER_CPU(unsigned, lazy_mode);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#500: FILE: arch/i386/xen/enlighten.c:35:
+extern const char xen_sti_sysexit[];

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#507: FILE: arch/i386/xen/enlighten.c:42:
+	printk(KERN_INFO "Booting paravirtualized kernel on %s\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#509: FILE: arch/i386/xen/enlighten.c:44:
+	printk(KERN_INFO "Hypervisor signature: %s\n", xen_start_info->magic);

WARNING:REPEATED_WORD: Possible repeated word: 'then'
#515: FILE: arch/i386/xen/enlighten.c:50:
+	   and then then cpu_init tries to do it again. If so, just

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#515: FILE: arch/i386/xen/enlighten.c:50:
+	/* Don't re-init boot CPU; we do it once very early in boot,
+	   and then then cpu_init tries to do it again. If so, just

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#516: FILE: arch/i386/xen/enlighten.c:51:
+	   reuse the stuff we already set up. */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#518: FILE: arch/i386/xen/enlighten.c:53:
+		BUG_ON(boot_pda.xen.vcpu == NULL);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!boot_pda.xen.vcpu"
#518: FILE: arch/i386/xen/enlighten.c:53:
+		BUG_ON(boot_pda.xen.vcpu == NULL);

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#530: FILE: arch/i386/xen/enlighten.c:65:
+	unsigned maskedx = ~0;

WARNING:LINE_SPACING: Missing a blank line after declarations
#531: FILE: arch/i386/xen/enlighten.c:66:
+	unsigned maskedx = ~0;
+	if (*eax == 1)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#565: FILE: arch/i386/xen/enlighten.c:100:
+	/* convert to IF type flag
+	   -0 -> 0x00000000

CHECK:BRACES: braces {} should be used on all arms of this statement
#581: FILE: arch/i386/xen/enlighten.c:116:
+	if (flags == 0) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#586: FILE: arch/i386/xen/enlighten.c:121:
+	} else

WARNING:LINE_SPACING: Missing a blank line after declarations
#593: FILE: arch/i386/xen/enlighten.c:128:
+	struct vcpu_info *vcpu;
+	preempt_disable();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#617: FILE: arch/i386/xen/enlighten.c:152:
+		BUG();

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#623: FILE: arch/i386/xen/enlighten.c:158:
+#if 0

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#631: FILE: arch/i386/xen/enlighten.c:166:
+	unsigned *lazy = &get_cpu_var(lazy_mode);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#634: FILE: arch/i386/xen/enlighten.c:169:
+		BUG();

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#641: FILE: arch/i386/xen/enlighten.c:176:
+static unsigned xen_get_lazy_mode(void)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#643: FILE: arch/i386/xen/enlighten.c:178:
+	unsigned ret = get_cpu_var(lazy_mode);

WARNING:LINE_SPACING: Missing a blank line after declarations
#644: FILE: arch/i386/xen/enlighten.c:179:
+	unsigned ret = get_cpu_var(lazy_mode);
+	put_cpu_var(lazy_mode);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#654: FILE: arch/i386/xen/enlighten.c:189:
+static void xen_set_ldt(const void *addr, unsigned entries)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#677: FILE: arch/i386/xen/enlighten.c:212:
+	unsigned size = dtr->size + 1;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#680: FILE: arch/i386/xen/enlighten.c:215:
+	BUG_ON(size > 16*PAGE_SIZE);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#680: FILE: arch/i386/xen/enlighten.c:215:
+	BUG_ON(size > 16*PAGE_SIZE);
 	                ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#690: FILE: arch/i386/xen/enlighten.c:225:
+	/* This is used very early, so we can't rely on per-cpu data
+	   being set up, so no multicalls */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#690: FILE: arch/i386/xen/enlighten.c:225:
+	   being set up, so no multicalls */

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#691: FILE: arch/i386/xen/enlighten.c:226:
+	if (HYPERVISOR_set_gdt(frames, size/8))
 	                                   ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#692: FILE: arch/i386/xen/enlighten.c:227:
+		BUG();

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#698: FILE: arch/i386/xen/enlighten.c:233:
+	xmaddr_t maddr = virt_to_machine(&get_cpu_gdt_table(cpu)[GDT_ENTRY_TLS_MIN+i]);
 	                                                                          ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#711: FILE: arch/i386/xen/enlighten.c:246:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#722: FILE: arch/i386/xen/enlighten.c:257:
+		BUG();

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#746: FILE: arch/i386/xen/enlighten.c:281:
+#if 0

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#762: FILE: arch/i386/xen/enlighten.c:297:
+/* Set an IDT entry.  If the entry is part of the current IDT, then
+   also update Xen. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#762: FILE: arch/i386/xen/enlighten.c:297:
+   also update Xen. */

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#765: FILE: arch/i386/xen/enlighten.c:300:
+{
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#782: FILE: arch/i386/xen/enlighten.c:317:
+				BUG();

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#787: FILE: arch/i386/xen/enlighten.c:322:
+/* Load a new IDT into Xen.  In principle this can be per-CPU, so we
+   hold a spinlock to protect the static traps[] array (static because

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#788: FILE: arch/i386/xen/enlighten.c:323:
+   it avoids allocation, and saves stack space). */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#795: FILE: arch/i386/xen/enlighten.c:330:
+	unsigned in, out, count;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#800: FILE: arch/i386/xen/enlighten.c:335:
+	BUG_ON(count > 256);

ERROR:SPACING: space required before the open parenthesis '('
#803: FILE: arch/i386/xen/enlighten.c:338:
+	for(in = out = 0; in < count; in++) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#813: FILE: arch/i386/xen/enlighten.c:348:
+		BUG();

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#819: FILE: arch/i386/xen/enlighten.c:354:
+/* Write a GDT descriptor entry.  Ignore LDT descriptors, since
+   they're handled differently. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#819: FILE: arch/i386/xen/enlighten.c:354:
+   they're handled differently. */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#830: FILE: arch/i386/xen/enlighten.c:365:
+		if (HYPERVISOR_update_descriptor(virt_to_machine(dt + entry*8).maddr,
 		                                                           ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#832: FILE: arch/i386/xen/enlighten.c:367:
+			BUG();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#837: FILE: arch/i386/xen/enlighten.c:372:
+static void xen_load_esp0(struct tss_struct *tss,
+				   struct thread_struct *thread)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#841: FILE: arch/i386/xen/enlighten.c:376:
+			BUG();

WARNING:LINE_SPACING: Missing a blank line after declarations
#844: FILE: arch/i386/xen/enlighten.c:379:
+		struct multicall_space mcs = xen_mc_entry(0);
+		MULTI_stack_switch(mcs.mc, __KERNEL_DS, thread->esp0);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#848: FILE: arch/i386/xen/enlighten.c:383:
+static void xen_set_iopl_mask(unsigned mask)

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#850: FILE: arch/i386/xen/enlighten.c:385:
+#if 0

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#880: FILE: arch/i386/xen/enlighten.c:415:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#893: FILE: arch/i386/xen/enlighten.c:428:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#907: FILE: arch/i386/xen/enlighten.c:442:
+		BUG();

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#926: FILE: arch/i386/xen/enlighten.c:461:
+#define xen_pfn_to_cr3(pfn) (((unsigned)(pfn) << 12) | ((unsigned)(pfn) >> 20))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#926: FILE: arch/i386/xen/enlighten.c:461:
+#define xen_pfn_to_cr3(pfn) (((unsigned)(pfn) << 12) | ((unsigned)(pfn) >> 20))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pfn' - possible side-effects?
#926: FILE: arch/i386/xen/enlighten.c:461:
+#define xen_pfn_to_cr3(pfn) (((unsigned)(pfn) << 12) | ((unsigned)(pfn) >> 20))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#927: FILE: arch/i386/xen/enlighten.c:462:
+#define xen_cr3_to_pfn(cr3) (((unsigned)(cr3) >> 12) | ((unsigned)(cr3) << 20))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#927: FILE: arch/i386/xen/enlighten.c:462:
+#define xen_cr3_to_pfn(cr3) (((unsigned)(cr3) >> 12) | ((unsigned)(cr3) << 20))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'cr3' - possible side-effects?
#927: FILE: arch/i386/xen/enlighten.c:462:
+#define xen_cr3_to_pfn(cr3) (((unsigned)(cr3) >> 12) | ((unsigned)(cr3) << 20))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#944: FILE: arch/i386/xen/enlighten.c:479:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#957: FILE: arch/i386/xen/enlighten.c:492:
+			BUG();

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#976: FILE: arch/i386/xen/enlighten.c:511:
+	/* make sure next person to allocate this page gets a clean
+	   pmd */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#976: FILE: arch/i386/xen/enlighten.c:511:
+	   pmd */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#986: FILE: arch/i386/xen/enlighten.c:521:
+static void xen_alloc_pd_clone(u32 pfn, u32 clonepfn,
+					u32 start, u32 count)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#998: FILE: arch/i386/xen/enlighten.c:533:
+	/* copy top-level of Xen-supplied pagetable into place.	 For
+	   !PAE we can use this as-is, but for PAE it is a stand-in

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#999: FILE: arch/i386/xen/enlighten.c:534:
+	   while we copy the pmd pages. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1006: FILE: arch/i386/xen/enlighten.c:541:
+		/* For PAE, need to allocate new pmds, rather than
+		   share Xen's, since Xen doesn't like pmd's being

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1008: FILE: arch/i386/xen/enlighten.c:543:
+		   case they're effectively the same address space. */

ERROR:SPACING: space required before the open parenthesis '('
#1009: FILE: arch/i386/xen/enlighten.c:544:
+		for(i = 0; i < PTRS_PER_PGD; i++) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#1010: FILE: arch/i386/xen/enlighten.c:545:
+			if (pgd_val_ma(xen_pgd[i]) & _PAGE_PRESENT) {
[...]
+			} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1019: FILE: arch/i386/xen/enlighten.c:554:
+			} else

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1025: FILE: arch/i386/xen/enlighten.c:560:
+	/* make sure the zero_page is mapped RO so we
+	   can use it in pagetables */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1025: FILE: arch/i386/xen/enlighten.c:560:
+	   can use it in pagetables */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1030: FILE: arch/i386/xen/enlighten.c:565:
+	/* Switch to new pagetable.  This is done before
+	   pagetable_init has done anything so that the new pages

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1031: FILE: arch/i386/xen/enlighten.c:566:
+	   added to the table can be prepared properly for Xen.	 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1038: FILE: arch/i386/xen/enlighten.c:573:
+	/* init_mm has a new pagetable set up - make sure the GDT page
+	   is still read-only in the new pagetable */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1038: FILE: arch/i386/xen/enlighten.c:573:
+	   is still read-only in the new pagetable */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1043: FILE: arch/i386/xen/enlighten.c:578:
+		/* Create a mapping for the shared info page.
+		   Should be set_fixmap(), but shared_info is a machine

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1044: FILE: arch/i386/xen/enlighten.c:579:
+		   address with no corresponding pseudo-phys address. */

CHECK:BRACES: Unbalanced braces around else statement
#1051: FILE: arch/i386/xen/enlighten.c:586:
+	} else

ERROR:INIT_ATTRIBUTE: Use of const init definition must use __initconst
#1060: FILE: arch/i386/xen/enlighten.c:595:
+static const struct paravirt_ops xen_paravirt_ops __initdata = {

Const init definitions should use __initconst instead of
__initdata.

Similarly init definitions without const require a separate
use of const.

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1194: FILE: arch/i386/xen/enlighten.c:729:
+	BUG_ON(memcmp(xen_start_info->magic, "xen-3.0", 7) != 0);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1207: FILE: arch/i386/xen/enlighten.c:742:
+	init_pg_tables_end = __pa(pgd) + xen_start_info->nr_pt_frames*PAGE_SIZE;
 	                                                             ^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1215: FILE: arch/i386/xen/enlighten.c:750:
+	pack_descriptor(&low, &high, (unsigned)&boot_pda, sizeof(boot_pda)-1,

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1215: FILE: arch/i386/xen/enlighten.c:750:
+	pack_descriptor(&low, &high, (unsigned)&boot_pda, sizeof(boot_pda)-1,
 	                                                                  ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1219: FILE: arch/i386/xen/enlighten.c:754:
+	 * be used until batched multicalls work. */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1223: FILE: arch/i386/xen/enlighten.c:758:
+		BUG();

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1254: FILE: arch/i386/xen/events.c:1:
+#include <linux/linkage.h>

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1278: FILE: arch/i386/xen/events.c:25:
+DEFINE_PER_CPU(int, virq_to_irq[NR_VIRQS]) = {[0 ... NR_VIRQS-1] = -1};
                                                              ^

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#1282: FILE: arch/i386/xen/events.c:29:
+struct packed_irq
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1297: FILE: arch/i386/xen/events.c:44:
+	[0 ... NR_EVENT_CHANNELS-1] = -1
 	                        ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1299: FILE: arch/i386/xen/events.c:46:
+};
+static unsigned long cpu_evtchn_mask[NR_CPUS][NR_EVENT_CHANNELS/BITS_PER_LONG];

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1299: FILE: arch/i386/xen/events.c:46:
+static unsigned long cpu_evtchn_mask[NR_CPUS][NR_EVENT_CHANNELS/BITS_PER_LONG];
                                                                ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1358: FILE: arch/i386/xen/events.c:105:
+	BUG_ON(irq == -1);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1387: FILE: arch/i386/xen/events.c:134:
+	struct shared_info *s = HYPERVISOR_shared_info;
+	sync_clear_bit(port, &s->evtchn_pending[0]);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1393: FILE: arch/i386/xen/events.c:140:
+	struct shared_info *s = HYPERVISOR_shared_info;
+	sync_set_bit(port, &s->evtchn_pending[0]);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1396: FILE: arch/i386/xen/events.c:143:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1417: FILE: arch/i386/xen/events.c:164:
+	struct shared_info *s = HYPERVISOR_shared_info;
+	sync_set_bit(port, &s->evtchn_mask[0]);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1427: FILE: arch/i386/xen/events.c:174:
+	BUG_ON(!irqs_disabled());

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1504: FILE: arch/i386/xen/events.c:251:
+			BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1537: FILE: arch/i386/xen/events.c:284:
+			BUG();

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1604: FILE: arch/i386/xen/events.c:351:
+/*
+  Search the CPUs pending events bitmasks.  For each one found, map

WARNING:LINE_SPACING: Missing a blank line after declarations
#1626: FILE: arch/i386/xen/events.c:373:
+		int word_idx = __ffs(pending_words);
+		pending_words &= ~(1UL << word_idx);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1642: FILE: arch/i386/xen/events.c:389:
+static void rebind_irq_to_cpu(unsigned irq, unsigned tcpu)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1642: FILE: arch/i386/xen/events.c:389:
+static void rebind_irq_to_cpu(unsigned irq, unsigned tcpu)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1663: FILE: arch/i386/xen/events.c:410:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1664: FILE: arch/i386/xen/events.c:411:
+static void set_affinity_irq(unsigned irq, cpumask_t dest)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1666: FILE: arch/i386/xen/events.c:413:
+	unsigned tcpu = first_cpu(dest);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1667: FILE: arch/i386/xen/events.c:414:
+	unsigned tcpu = first_cpu(dest);
+	rebind_irq_to_cpu(irq, tcpu);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1738: FILE: arch/i386/xen/features.c:1:
+/******************************************************************************

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1763: FILE: arch/i386/xen/features.c:26:
+		for (j=0; j<32; j++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1763: FILE: arch/i386/xen/features.c:26:
+		for (j=0; j<32; j++)
 		           ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1764: FILE: arch/i386/xen/features.c:27:
+			xen_features[i*32+j] = !!(fi.submap & 1<<j);
 			              ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1764: FILE: arch/i386/xen/features.c:27:
+			xen_features[i*32+j] = !!(fi.submap & 1<<j);
 			                 ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1764: FILE: arch/i386/xen/features.c:27:
+			xen_features[i*32+j] = !!(fi.submap & 1<<j);
 			                                       ^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1771: FILE: arch/i386/xen/mmu.c:1:
+//#include <linux/bug.h>

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/bug.h> instead of <asm/bug.h>
#1772: FILE: arch/i386/xen/mmu.c:2:
+#include <asm/bug.h>

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/pgtable.h> instead of <asm/pgtable.h>
#1774: FILE: arch/i386/xen/mmu.c:4:
+#include <asm/pgtable.h>

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/mmu_context.h> instead of <asm/mmu_context.h>
#1776: FILE: arch/i386/xen/mmu.c:6:
+#include <asm/mmu_context.h>

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1787: FILE: arch/i386/xen/mmu.c:17:
+	unsigned offset = address & PAGE_MASK;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1789: FILE: arch/i386/xen/mmu.c:19:
+	BUG_ON(pte == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pte"
#1789: FILE: arch/i386/xen/mmu.c:19:
+	BUG_ON(pte == NULL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1800: FILE: arch/i386/xen/mmu.c:30:
+	BUG_ON(pte == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pte"
#1800: FILE: arch/i386/xen/mmu.c:30:
+	BUG_ON(pte == NULL);

ERROR:SPACING: space required before the open parenthesis '('
#1807: FILE: arch/i386/xen/mmu.c:37:
+		if(HYPERVISOR_update_va_mapping(address, ptev, 0))

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1808: FILE: arch/i386/xen/mmu.c:38:
+			BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1817: FILE: arch/i386/xen/mmu.c:47:
+	BUG_ON(pte == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pte"
#1817: FILE: arch/i386/xen/mmu.c:47:
+	BUG_ON(pte == NULL);

ERROR:SPACING: space required before the open parenthesis '('
#1824: FILE: arch/i386/xen/mmu.c:54:
+		if(HYPERVISOR_update_va_mapping(address, ptev, 0))

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1825: FILE: arch/i386/xen/mmu.c:55:
+			BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1828: FILE: arch/i386/xen/mmu.c:58:
+
+

WARNING:IF_1: Consider removing the #if 1 and its #endif
#1831: FILE: arch/i386/xen/mmu.c:61:
+#if 1

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1837: FILE: arch/i386/xen/mmu.c:67:
+		BUG();

WARNING:MEMORY_BARRIER: memory barrier without comment
#1840: FILE: arch/i386/xen/mmu.c:70:
+	smp_wmb();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1852: FILE: arch/i386/xen/mmu.c:82:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1863: FILE: arch/i386/xen/mmu.c:93:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1880: FILE: arch/i386/xen/mmu.c:110:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1885: FILE: arch/i386/xen/mmu.c:115:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1890: FILE: arch/i386/xen/mmu.c:120:
+		BUG();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1905: FILE: arch/i386/xen/mmu.c:135:
+void xen_set_pte_at(struct mm_struct *mm, u32 addr,
+			     pte_t *ptep, pte_t pteval)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1926: FILE: arch/i386/xen/mmu.c:156:
+void xen_pte_clear(struct mm_struct *mm, u32 addr,pte_t *ptep)
                                                  ^

WARNING:IF_1: Consider removing the #if 1 and its #endif
#1928: FILE: arch/i386/xen/mmu.c:158:
+#if 1

WARNING:MEMORY_BARRIER: memory barrier without comment
#1930: FILE: arch/i386/xen/mmu.c:160:
+	smp_wmb();

WARNING:LINE_SPACING: Missing a blank line after declarations
#1957: FILE: arch/i386/xen/mmu.c:187:
+	unsigned long long ret = pmd.pmd;
+	if (ret)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1965: FILE: arch/i386/xen/mmu.c:195:
+	unsigned long long ret = pgd.pgd;
+	if (ret)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2018: FILE: arch/i386/xen/mmu.c:248:
+	BUG();

WARNING:LINE_SPACING: Missing a blank line after declarations
#2025: FILE: arch/i386/xen/mmu.c:255:
+	unsigned long ret = pgd.pgd;
+	if (ret)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2040: FILE: arch/i386/xen/mmu.c:270:
+	BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2058: FILE: arch/i386/xen/mmu.c:288:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2066: FILE: arch/i386/xen/mmu.c:296:
+		BUG();

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2086: FILE: arch/i386/xen/mmu.c:316:
+			pgd_walk_set_prot(pud,flags);
 			                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2094: FILE: arch/i386/xen/mmu.c:324:
+				pgd_walk_set_prot(pmd,flags);
 				                     ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2101: FILE: arch/i386/xen/mmu.c:331:
+				/* This can get called before mem_map
+				   is set up, so we assume nothing is

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2102: FILE: arch/i386/xen/mmu.c:332:
+				   highmem at that point. */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mem_map"
#2103: FILE: arch/i386/xen/mmu.c:333:
+				if (mem_map == NULL ||

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2105: FILE: arch/i386/xen/mmu.c:335:
+					pte = pte_offset_kernel(pmd,0);
 					                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2106: FILE: arch/i386/xen/mmu.c:336:
+					pgd_walk_set_prot(pte,flags);
 					                     ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2116: FILE: arch/i386/xen/mmu.c:346:
+		BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2119: FILE: arch/i386/xen/mmu.c:349:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2121: FILE: arch/i386/xen/mmu.c:351:
+/* This is called just after a mm has been duplicated from its parent,
+   but it has not been used yet.  We need to make sure that its

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2124: FILE: arch/i386/xen/mmu.c:354:
+   with respect to any other pagetable. */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2138: FILE: arch/i386/xen/mmu.c:368:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2150: FILE: arch/i386/xen/mmu.c:380:
+		BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2155: FILE: arch/i386/xen/mmu.c:385:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2183: FILE: arch/i386/xen/mmu.c:413:
+		BUG_ON(atomic_read(&mm->mm_count) == 0);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2194: FILE: arch/i386/xen/mmu.h:1:
+#ifndef _XEN_MMU_H

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2203: FILE: arch/i386/xen/mmu.h:10:
+void xen_set_pte_at(struct mm_struct *mm, u32 addr,
+			     pte_t *ptep, pte_t pteval);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'pmd_t' should also have an identifier name
#2219: FILE: arch/i386/xen/mmu.h:26:
+unsigned long long xen_pmd_val(pmd_t);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'pgd_t' should also have an identifier name
#2220: FILE: arch/i386/xen/mmu.h:27:
+unsigned long long xen_pgd_val(pgd_t);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long long' should also have an identifier name
#2222: FILE: arch/i386/xen/mmu.h:29:
+pte_t xen_make_pte(unsigned long long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long long' should also have an identifier name
#2223: FILE: arch/i386/xen/mmu.h:30:
+pmd_t xen_make_pmd(unsigned long long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long long' should also have an identifier name
#2224: FILE: arch/i386/xen/mmu.h:31:
+pgd_t xen_make_pgd(unsigned long long);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2227: FILE: arch/i386/xen/mmu.h:34:
+void xen_set_pte_at(struct mm_struct *mm, u32 addr,
+			     pte_t *ptep, pte_t pteval);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2230: FILE: arch/i386/xen/mmu.h:37:
+void xen_pte_clear(struct mm_struct *mm, u32 addr,pte_t *ptep);
                                                  ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2233: FILE: arch/i386/xen/mmu.h:40:
+
+

WARNING:FUNCTION_ARGUMENTS: function definition argument 'pmd_t' should also have an identifier name
#2236: FILE: arch/i386/xen/mmu.h:43:
+unsigned long xen_pmd_val(pmd_t);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'pgd_t' should also have an identifier name
#2237: FILE: arch/i386/xen/mmu.h:44:
+unsigned long xen_pgd_val(pgd_t);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long' should also have an identifier name
#2239: FILE: arch/i386/xen/mmu.h:46:
+pte_t xen_make_pte(unsigned long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long' should also have an identifier name
#2240: FILE: arch/i386/xen/mmu.h:47:
+pmd_t xen_make_pmd(unsigned long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long' should also have an identifier name
#2241: FILE: arch/i386/xen/mmu.h:48:
+pgd_t xen_make_pgd(unsigned long);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2249: FILE: arch/i386/xen/multicalls.c:1:
+#include <linux/percpu.h>

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2261: FILE: arch/i386/xen/multicalls.c:13:
+	unsigned mcidx, argidx;

CHECK:BRACES: braces {} should be used on all arms of this statement
#2271: FILE: arch/i386/xen/multicalls.c:23:
+	if (b->mcidx) {
[...]
+	} else
[...]

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2275: FILE: arch/i386/xen/multicalls.c:27:
+			BUG();

ERROR:SPACING: space required before the open parenthesis '('
#2276: FILE: arch/i386/xen/multicalls.c:28:
+		for(i = 0; i < b->mcidx; i++)

CHECK:BRACES: Unbalanced braces around else statement
#2281: FILE: arch/i386/xen/multicalls.c:33:
+	} else

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2282: FILE: arch/i386/xen/multicalls.c:34:
+		BUG_ON(b->argidx != 0);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2293: FILE: arch/i386/xen/multicalls.c:45:
+	unsigned argspace = (args + sizeof(u64) - 1) / sizeof(u64);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2295: FILE: arch/i386/xen/multicalls.c:47:
+	BUG_ON(argspace > MC_ARGS);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2300: FILE: arch/i386/xen/multicalls.c:52:
+			BUG();

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2315: FILE: arch/i386/xen/multicalls.h:1:
+#ifndef _XEN_MULTICALLS_H

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#2319: FILE: arch/i386/xen/multicalls.h:5:
+struct multicall_space
+{

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2332: FILE: arch/i386/xen/setup.c:1:
+/*

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#2350: FILE: arch/i386/xen/setup.c:19:
+extern const char xen_failsafe_callback[];

WARNING:MISPLACED_INIT: __initdata should be placed after init_shared
#2352: FILE: arch/i386/xen/setup.c:21:
+static __initdata struct shared_info init_shared;

It is possible to use section markers on variables in a way
which gcc doesn't understand (or at least not the way the
developer intended)::

  static struct __initdata samsung_pll_clock exynos4_plls[nr_plls] = {

does not put exynos4_plls in the .initdata section. The __initdata
marker can be virtually anywhere on the line, except right after
"struct". The preferred location is before the "=" sign if there is
one, or before the trailing ";" otherwise.

See: https://lore.kernel.org/lkml/1377655732.3619.19.camel@joe-AO722/

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#2363: FILE: arch/i386/xen/setup.c:32:
+EXPORT_SYMBOL(phys_to_machine_mapping);

CHECK:BRACES: braces {} should be used on all arms of this statement
#2383: FILE: arch/i386/xen/setup.c:52:
+	if (need_resched())
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#2385: FILE: arch/i386/xen/setup.c:54:
+	else {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2410: FILE: arch/i386/xen/setup.c:79:
+		printk(KERN_INFO "physdev_op failed %d\n", rc);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2414: FILE: arch/i386/xen/setup.c:83:
+		printk(KERN_INFO "ACPI in unprivileged domain disabled\n");

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#2420: FILE: arch/i386/xen/setup.c:89:
+	       MAX_GUEST_CMDLINE > COMMAND_LINE_SIZE ?

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2431: FILE: arch/i386/xen/time.c:1:
+#include <linux/kernel.h>

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#2451: FILE: arch/i386/xen/time.c:21:
+	permitted_clock_jitter = simple_strtoul(str, NULL, 0);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#2454: FILE: arch/i386/xen/time.c:24:
+__setup("permitted_clock_jitter=", __permitted_clock_jitter);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2456: FILE: arch/i386/xen/time.c:26:
+
+

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#2480: FILE: arch/i386/xen/time.c:50:
+#define NS_PER_TICK (1000000000LL/HZ)
                                  ^

WARNING:MEMORY_BARRIER: memory barrier without comment
#2496: FILE: arch/i386/xen/time.c:66:
+		rmb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#2501: FILE: arch/i386/xen/time.c:71:
+		rmb();

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2510: FILE: arch/i386/xen/time.c:80:
+	unsigned dstversion;

WARNING:MEMORY_BARRIER: memory barrier without comment
#2516: FILE: arch/i386/xen/time.c:86:
+	rmb();

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#2527: FILE: arch/i386/xen/time.c:97:
+#ifdef __i386__

Architecture specific defines should be avoided wherever
possible.

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#2536: FILE: arch/i386/xen/time.c:106:
+#ifdef __i386__

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2537: FILE: arch/i386/xen/time.c:107:
+	__asm__ (

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2546: FILE: arch/i386/xen/time.c:116:
+		: "a" ((u32)delta), "1" ((u32)(delta >> 32)), "2" (mul_frac) );

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2548: FILE: arch/i386/xen/time.c:118:
+	__asm__ (

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2550: FILE: arch/i386/xen/time.c:120:
+		: "=a" (product) : "0" (delta), "d" ((u64)mul_frac) );

WARNING:LINE_SPACING: Missing a blank line after declarations
#2561: FILE: arch/i386/xen/time.c:131:
+	u64 now, delta;
+	rdtscll(now);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2566: FILE: arch/i386/xen/time.c:136:
+
+

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#2580: FILE: arch/i386/xen/time.c:150:
+		delta = delta_cpu =

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2583: FILE: arch/i386/xen/time.c:153:
+			printk("tsc_timestamp=%llu system_timestamp=%llu tsc_to_nsec=%u tsc_shift=%d, version=%u, delta=%lld processed_system_time=%lld\n",

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2609: FILE: arch/i386/xen/time.c:179:
+	     unlikely(delta_cpu < -(s64)permitted_clock_jitter))
+	    && printk_ratelimit()) {

WARNING:PRINTK_RATELIMITED: Prefer printk_ratelimited or pr_<level>_ratelimited to printk_ratelimit
#2609: FILE: arch/i386/xen/time.c:179:
+	    && printk_ratelimit()) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2610: FILE: arch/i386/xen/time.c:180:
+		printk("Timer ISR/%d: Time went backwards: "

WARNING:SPLIT_STRING: quoted string split across lines
#2611: FILE: arch/i386/xen/time.c:181:
+		printk("Timer ISR/%d: Time went backwards: "
+		       "delta=%lld delta_cpu=%lld shadow=%lld "

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#2612: FILE: arch/i386/xen/time.c:182:
+		       "delta=%lld delta_cpu=%lld shadow=%lld "
+		       "off=%lld processed=%lld cpu_processed=%lld\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2618: FILE: arch/i386/xen/time.c:188:
+			printk(" %d: %lld\n", i,

ERROR:SPACING: space required before the open parenthesis '('
#2624: FILE: arch/i386/xen/time.c:194:
+	while(delta > NS_PER_TICK) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'stolen > 0'
#2636: FILE: arch/i386/xen/time.c:206:
+	if ((stolen > 0) && (delta_cpu > 0)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'delta_cpu > 0'
#2636: FILE: arch/i386/xen/time.c:206:
+	if ((stolen > 0) && (delta_cpu > 0)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'blocked > 0'
#2651: FILE: arch/i386/xen/time.c:221:
+	if ((blocked > 0) && (delta_cpu > 0)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'delta_cpu > 0'
#2651: FILE: arch/i386/xen/time.c:221:
+	if ((blocked > 0) && (delta_cpu > 0)) {

WARNING:MEMORY_BARRIER: memory barrier without comment
#2688: FILE: arch/i386/xen/time.c:258:
+		rmb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#2691: FILE: arch/i386/xen/time.c:261:
+		rmb();

WARNING:LINE_SPACING: Missing a blank line after declarations
#2722: FILE: arch/i386/xen/time.c:292:
+	struct vcpu_time_info *info;
+	info = &HYPERVISOR_shared_info->vcpu_info[0].time;

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2735: FILE: arch/i386/xen/time.c:305:
+	.mult = 1<<XEN_SHIFT,		/* time directly in nanoseconds */
 	         ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#2777: FILE: arch/i386/xen/time.c:347:
+	printk(KERN_DEBUG "installing Xen timer for CPU 0\n");

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2779: FILE: arch/i386/xen/time.c:349:
+	bind_virq_to_irqhandler(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2796: FILE: arch/i386/xen/time.c:366:
+	printk(KERN_INFO "Xen reported: %u.%03u MHz processor.\n",

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2825: FILE: arch/i386/xen/time.c:395:
+			 * we just end up with a shorter timeout. */

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#2827: FILE: arch/i386/xen/time.c:397:
+		} else if (((unsigned long)delta >> (BITS_PER_LONG-3)) != 0) {
 		                                                  ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2829: FILE: arch/i386/xen/time.c:399:
+			 * We indicate this to Xen by passing zero timeout. */

WARNING:MEMORY_BARRIER: memory barrier without comment
#2859: FILE: arch/i386/xen/time.c:429:
+	smp_mb();

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#2862: FILE: arch/i386/xen/time.c:432:
+	if (rcu_needs_cpu(cpu) || local_softirq_pending() ||

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2869: FILE: arch/i386/xen/time.c:439:
+		BUG();

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2881: FILE: arch/i386/xen/xen-head.S:1:
+/* Xen-specific pieces of head.S, intended to be included in the right

WARNING:LONG_LINE: line length of 101 exceeds 100 columns
#2904: FILE: arch/i386/xen/xen-head.S:24:
+	ELFNOTE(Xen, XEN_ELFNOTE_FEATURES,       .asciz, "!writable_page_tables|pae_pgdir_above_4gb")

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2915: FILE: arch/i386/xen/xen-ops.h:1:
+#ifndef XEN_OPS_H

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct i386_pda *' should also have an identifier name
#2961: FILE: include/asm-i386/paravirt.h:277:
+	void (*init_pda)(struct i386_pda *, int cpu);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2982: FILE: include/asm-i386/paravirt.h:417:
+/* Non-paravirtualized implementations of various operations for
+   back-ends which don't need their own version. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2982: FILE: include/asm-i386/paravirt.h:417:
+   back-ends which don't need their own version. */

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3099: FILE: include/xen/events.h:1:
+#ifndef _XEN_EVENTS_H

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3125: FILE: include/xen/events.h:27:
+extern void notify_remote_via_irq(int irq);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3131: FILE: include/xen/features.h:1:
+/******************************************************************************

ERROR:SPACING: space required before the open parenthesis '('
#3150: FILE: include/xen/features.h:20:
+	switch(flag) {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3161: FILE: include/xen/page.h:1:
+#ifndef __XEN_PAGE_H

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#3166: FILE: include/xen/page.h:6:
+#include <asm/uaccess.h>

WARNING:NEW_TYPEDEFS: do not add new typedefs
#3172: FILE: include/xen/page.h:12:
+typedef struct xmaddr {

WARNING:NEW_TYPEDEFS: do not add new typedefs
#3177: FILE: include/xen/page.h:17:
+typedef struct xpaddr {

WARNING:NEW_TYPEDEFS: do not add new typedefs
#3182: FILE: include/xen/page.h:22:
+typedef struct xmaddr {

WARNING:NEW_TYPEDEFS: do not add new typedefs
#3187: FILE: include/xen/page.h:27:
+typedef struct xpaddr {

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3197: FILE: include/xen/page.h:37:
+#define FOREIGN_FRAME_BIT	(1UL<<31)
                          	    ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3197: FILE: include/xen/page.h:37:
+#define FOREIGN_FRAME_BIT	(1UL<<31)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#3226: FILE: include/xen/page.h:66:
+#if 0

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3244: FILE: include/xen/page.h:84:
+	unsigned offset = phys.paddr & ~PAGE_MASK;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3245: FILE: include/xen/page.h:85:
+	unsigned offset = phys.paddr & ~PAGE_MASK;
+	return XMADDR(PFN_PHYS(pfn_to_mfn(PFN_DOWN(phys.paddr))) | offset);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3250: FILE: include/xen/page.h:90:
+	unsigned offset = machine.maddr & ~PAGE_MASK;

WARNING:LINE_SPACING: Missing a blank line after declarations
#3251: FILE: include/xen/page.h:91:
+	unsigned offset = machine.maddr & ~PAGE_MASK;
+	return XPADDR(PFN_PHYS(mfn_to_pfn(PFN_DOWN(machine.maddr))) | offset);

WARNING:LINE_SPACING: Missing a blank line after declarations
#3278: FILE: include/xen/page.h:118:
+	unsigned long pfn = mfn_to_pfn(mfn);
+	if ((pfn < max_mapnr)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pfn < max_mapnr'
#3278: FILE: include/xen/page.h:118:
+	if ((pfn < max_mapnr)
+	    && !xen_feature(XENFEAT_auto_translated_physmap)
+	    && (phys_to_machine_mapping[pfn] != mfn))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'phys_to_machine_mapping[pfn] != mfn'
#3278: FILE: include/xen/page.h:118:
+	if ((pfn < max_mapnr)
+	    && !xen_feature(XENFEAT_auto_translated_physmap)
+	    && (phys_to_machine_mapping[pfn] != mfn))

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#3279: FILE: include/xen/page.h:119:
+	if ((pfn < max_mapnr)
+	    && !xen_feature(XENFEAT_auto_translated_physmap)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#3280: FILE: include/xen/page.h:120:
+	    && !xen_feature(XENFEAT_auto_translated_physmap)
+	    && (phys_to_machine_mapping[pfn] != mfn))

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3288: FILE: include/xen/page.h:128:
+		BUG_ON(pfn != mfn && mfn != INVALID_P2M_ENTRY);

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_pte' - possible side-effects?
#3300: FILE: include/xen/page.h:140:
+#define pte_mfn(_pte) (((_pte).pte_low >> PAGE_SHIFT) |\
+                       (((_pte).pte_high & 0xfff) << (32-PAGE_SHIFT)))

ERROR:CODE_INDENT: code indent should use tabs where possible
#3301: FILE: include/xen/page.h:141:
+                       (((_pte).pte_high & 0xfff) << (32-PAGE_SHIFT)))$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#3301: FILE: include/xen/page.h:141:
+                       (((_pte).pte_high & 0xfff) << (32-PAGE_SHIFT)))$

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#3301: FILE: include/xen/page.h:141:
+                       (((_pte).pte_high & 0xfff) << (32-PAGE_SHIFT)))
                                                         ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#3319: FILE: include/xen/page.h:159:
+}
+#define pmd_val_ma(v) ((v).pmd)

ERROR:SPACING: space prohibited before that close parenthesis ')'
#3329: FILE: include/xen/page.h:169:
+#define __pte_ma(x)	((pte_t) { (x) } )

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000462851.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 23 errors, 189 warnings, 76 checks, 3111 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000462851.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
