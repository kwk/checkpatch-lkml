WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#91: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#96: FILE: arch/arm/plat-mxc/include/mach/ipu.h:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#225: FILE: arch/arm/plat-mxc/include/mach/ipu.h:130:
+	uint32_t		in_pixel_fmt;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#228: FILE: arch/arm/plat-mxc/include/mach/ipu.h:133:
+	uint32_t		out_pixel_fmt;

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#309: FILE: drivers/dma/Kconfig:65:
+config MX3_IPU
+	bool "MX3x Image Processing Unit support"
+	depends on ARCH_MX3
+	select DMA_ENGINE
+	default y
+	help
+	  If you plan to use the Image Processing unit in the i.MX3x, say
+	  Y here. If unsure, select Y.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#353: FILE: drivers/dma/ipu/ipu_idmac.c:1:
+/*

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'reg' may be better as '(reg)' to avoid precedence issues
#398: FILE: drivers/dma/ipu/ipu_idmac.c:46:
+#define idmac_read_icreg(ipu, reg) __idmac_read_icreg(ipu, reg - IC_CONF)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'reg' may be better as '(reg)' to avoid precedence issues
#405: FILE: drivers/dma/ipu/ipu_idmac.c:53:
+#define idmac_write_icreg(ipu, v, reg) __idmac_write_icreg(ipu, v, reg - IC_CONF)

WARNING:SPLIT_STRING: quoted string split across lines
#423: FILE: drivers/dma/ipu/ipu_idmac.c:71:
+	dev_dbg(ipu->dev, "IDMAC_CONF 0x%x, IC_CONF 0x%x, IDMAC_CHA_EN 0x%x, "
+		"IDMAC_CHA_PRI 0x%x, IDMAC_CHA_BUSY 0x%x\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#430: FILE: drivers/dma/ipu/ipu_idmac.c:78:
+	dev_dbg(ipu->dev, "BUF0_RDY 0x%x, BUF1_RDY 0x%x, CUR_BUF 0x%x, "
+		"DB_MODE 0x%x, TASKS_STAT 0x%x\n",

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#465: FILE: drivers/dma/ipu/ipu_idmac.c:113:
+	uint32_t ic_conf, mask;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#483: FILE: drivers/dma/ipu/ipu_idmac.c:131:
+	uint32_t ic_conf, mask;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#501: FILE: drivers/dma/ipu/ipu_idmac.c:149:
+	uint32_t stat = TASK_STAT_IDLE;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#502: FILE: drivers/dma/ipu/ipu_idmac.c:150:
+	uint32_t task_stat_reg = idmac_read_ipureg(ipu, IPU_TASKS_STAT);

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#556: FILE: drivers/dma/ipu/ipu_idmac.c:204:
+} __attribute__ ((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#615: FILE: drivers/dma/ipu/ipu_idmac.c:263:
+} __attribute__ ((packed));

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#632: FILE: drivers/dma/ipu/ipu_idmac.c:280:
+				  uint32_t pixel_fmt, uint16_t width,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#633: FILE: drivers/dma/ipu/ipu_idmac.c:281:
+				  uint16_t height, uint16_t stride)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#803: FILE: drivers/dma/ipu/ipu_idmac.c:451:
+static void ipu_write_param_mem(uint32_t addr, uint32_t *data,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#820: FILE: drivers/dma/ipu/ipu_idmac.c:468:
+static int calc_resize_coeffs(uint32_t in_size, uint32_t out_size,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#821: FILE: drivers/dma/ipu/ipu_idmac.c:469:
+			      uint32_t *resize_coeff,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#824: FILE: drivers/dma/ipu/ipu_idmac.c:472:
+	uint32_t temp_size;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#825: FILE: drivers/dma/ipu/ipu_idmac.c:473:
+	uint32_t temp_downsize;

WARNING:SPLIT_STRING: quoted string split across lines
#855: FILE: drivers/dma/ipu/ipu_idmac.c:503:
+	dev_dbg(ipu_data.dev, "resizing from %u -> %u pixels, "
+		"downsize=%u, resize=%u.%lu (reg=%u)\n", in_size, out_size,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#879: FILE: drivers/dma/ipu/ipu_idmac.c:527:
+	uint32_t reg, ic_conf;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#880: FILE: drivers/dma/ipu/ipu_idmac.c:528:
+	uint32_t downsize_coeff, resize_coeff;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#885: FILE: drivers/dma/ipu/ipu_idmac.c:533:
+	calc_resize_coeffs(params->video.in_height,
+			    params->video.out_height,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#891: FILE: drivers/dma/ipu/ipu_idmac.c:539:
+	calc_resize_coeffs(params->video.in_width,
+			    params->video.out_width,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#945: FILE: drivers/dma/ipu/ipu_idmac.c:593:
+	uint32_t mask;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#973: FILE: drivers/dma/ipu/ipu_idmac.c:621:
+	uint32_t reg;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1019: FILE: drivers/dma/ipu/ipu_idmac.c:667:
+				   uint16_t width, uint16_t height,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1020: FILE: drivers/dma/ipu/ipu_idmac.c:668:
+				   uint32_t stride,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1029: FILE: drivers/dma/ipu/ipu_idmac.c:677:
+	uint32_t reg;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1030: FILE: drivers/dma/ipu/ipu_idmac.c:678:
+	uint32_t stride_bytes;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'channel <= 13'
#1042: FILE: drivers/dma/ipu/ipu_idmac.c:690:
+	if ((channel <= 13) && (stride % 8)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1054: FILE: drivers/dma/ipu/ipu_idmac.c:702:
+	case IDMAC_IC_7:	/* Hangs with burst 8, 16, other values
+				   invalid - Table 44-30 */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1054: FILE: drivers/dma/ipu/ipu_idmac.c:702:
+				   invalid - Table 44-30 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1056: FILE: drivers/dma/ipu/ipu_idmac.c:704:
+/*
+		ipu_ch_param_set_burst_size(&params, 8);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1118: FILE: drivers/dma/ipu/ipu_idmac.c:766:
+	uint32_t reg;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1258: FILE: drivers/dma/ipu/ipu_idmac.c:906:
+		int ret = ipu_enable_channel(idmac, ichan);
+		if (ret < 0) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1321: FILE: drivers/dma/ipu/ipu_idmac.c:969:
+	uint32_t ipu_conf;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1324: FILE: drivers/dma/ipu/ipu_idmac.c:972:
+	uint32_t reg;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1381: FILE: drivers/dma/ipu/ipu_idmac.c:1029:
+	uint32_t reg;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1383: FILE: drivers/dma/ipu/ipu_idmac.c:1031:
+	uint32_t ipu_conf;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1405: FILE: drivers/dma/ipu/ipu_idmac.c:1053:
+		idmac_write_icreg(ipu, reg & ~(IC_CONF_RWS_EN | IC_CONF_PRPENC_EN),
+			     IC_CONF);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1444: FILE: drivers/dma/ipu/ipu_idmac.c:1092:
+	uint32_t reg;

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#1455: FILE: drivers/dma/ipu/ipu_idmac.c:1103:
+			msleep(10);

WARNING:SPLIT_STRING: quoted string split across lines
#1460: FILE: drivers/dma/ipu/ipu_idmac.c:1108:
+					"Warning: timeout waiting for channel %u to "
+					"stop: buf0_rdy = 0x%08X, buf1_rdy = 0x%08X, "

WARNING:SPLIT_STRING: quoted string split across lines
#1461: FILE: drivers/dma/ipu/ipu_idmac.c:1109:
+					"stop: buf0_rdy = 0x%08X, buf1_rdy = 0x%08X, "
+					"busy = 0x%08X, tstat = 0x%08X\n", channel,

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#1476: FILE: drivers/dma/ipu/ipu_idmac.c:1124:
+			msleep(5);

WARNING:SPLIT_STRING: quoted string split across lines
#1564: FILE: drivers/dma/ipu/ipu_idmac.c:1212:
+				"IRQ on active buffer on channel %x, active "
+				"%d, ready %x, %x, current %x!\n", chan_id,

WARNING:SPLIT_STRING: quoted string split across lines
#1576: FILE: drivers/dma/ipu/ipu_idmac.c:1224:
+			"IRQ with active buffer still ready on channel %x, "
+			"active %d, ready %x, %x!\n", chan_id,

WARNING:SPLIT_STRING: quoted string split across lines
#1585: FILE: drivers/dma/ipu/ipu_idmac.c:1233:
+			"IRQ without queued buffers on channel %x, active %d, "
+			"ready %x, %x!\n", chan_id,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1704: FILE: drivers/dma/ipu/ipu_idmac.c:1352:
+static struct dma_async_tx_descriptor *idmac_prep_slave_sg(struct dma_chan *chan,
+		struct scatterlist *sgl, unsigned int sg_len,

WARNING:LINE_SPACING: Missing a blank line after declarations
#1785: FILE: drivers/dma/ipu/ipu_idmac.c:1433:
+			struct idmac_tx_desc *desc = ichan->desc + i;
+			if (list_empty(&desc->list))

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1820: FILE: drivers/dma/ipu/ipu_idmac.c:1468:
+	BUG_ON(chan->client_count > 1);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1879: FILE: drivers/dma/ipu/ipu_idmac.c:1527:
+static enum dma_status idmac_is_tx_complete(struct dma_chan *chan,
+		dma_cookie_t cookie, dma_cookie_t *done, dma_cookie_t *used)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2099: FILE: drivers/dma/ipu/ipu_intern.h:1:
+/*

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#2257: FILE: drivers/dma/ipu/ipu_intern.h:159:
+	spinlock_t		lock;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2267: FILE: drivers/dma/ipu/ipu_intern.h:169:
+extern int ipu_irq_attach_irq(struct ipu *ipu, struct platform_device *dev);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2268: FILE: drivers/dma/ipu/ipu_intern.h:170:
+extern void ipu_irq_detach_irq(struct ipu *ipu, struct platform_device *dev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2270: FILE: drivers/dma/ipu/ipu_intern.h:172:
+extern bool ipu_irq_status(uint32_t irq);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2271: FILE: drivers/dma/ipu/ipu_intern.h:173:
+extern int ipu_irq_map(unsigned int source);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2272: FILE: drivers/dma/ipu/ipu_intern.h:174:
+extern int ipu_irq_unmap(unsigned int source);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2281: FILE: drivers/dma/ipu/ipu_irq.c:1:
+/*

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2315: FILE: drivers/dma/ipu/ipu_irq.c:35:
+
+

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#2327: FILE: drivers/dma/ipu/ipu_irq.c:47:
+	spinlock_t	lock;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2381: FILE: drivers/dma/ipu/ipu_irq.c:101:
+	uint32_t reg;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2404: FILE: drivers/dma/ipu/ipu_irq.c:124:
+	uint32_t reg;

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000184235.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 24 warnings, 45 checks, 2559 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000184235.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
