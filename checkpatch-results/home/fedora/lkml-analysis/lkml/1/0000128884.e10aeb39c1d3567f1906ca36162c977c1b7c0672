WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#42: 
http://groups.google.com/group/comedi_list/browse_thread/thread/85be8195ddf52896

ERROR:TRAILING_WHITESPACE: trailing whitespace
#119: FILE: drivers/staging/comedi/comedi_fops.c:440:
+^I^Iif (s->range_table && $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#129: FILE: drivers/staging/comedi/comedi_fops.c:507:
+ ^I^Iif(s->range_table == NULL ||$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#129: FILE: drivers/staging/comedi/comedi_fops.c:507:
+ ^I^Iif(s->range_table == NULL ||$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#129: FILE: drivers/staging/comedi/comedi_fops.c:507:
+ ^I^Iif(s->range_table == NULL ||$

ERROR:SPACING: space required before the open parenthesis '('
#129: FILE: drivers/staging/comedi/comedi_fops.c:507:
+ 		if(s->range_table == NULL ||

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!s->range_table"
#129: FILE: drivers/staging/comedi/comedi_fops.c:507:
+ 		if(s->range_table == NULL ||

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

ERROR:CODE_INDENT: code indent should use tabs where possible
#130: FILE: drivers/staging/comedi/comedi_fops.c:508:
+ ^I^I   (s->range_table->mode & COMEDI_PERCHAN_LRANGE) == 0)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#130: FILE: drivers/staging/comedi/comedi_fops.c:508:
+ ^I^I   (s->range_table->mode & COMEDI_PERCHAN_LRANGE) == 0)$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#130: FILE: drivers/staging/comedi/comedi_fops.c:508:
+ 		if(s->range_table == NULL ||
+ 		   (s->range_table->mode & COMEDI_PERCHAN_LRANGE) == 0)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#130: FILE: drivers/staging/comedi/comedi_fops.c:508:
+ ^I^I   (s->range_table->mode & COMEDI_PERCHAN_LRANGE) == 0)$

WARNING:CONST_STRUCT: struct comedi_lrange should normally be const
#164: FILE: drivers/staging/comedi/comedidev.h:417:
+	struct comedi_lrange *list[0];

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#173: FILE: drivers/staging/comedi/comedidev.h:426:
+static inline int setup_global_range_table(struct comedi_subdevice * subd,

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:CONST_STRUCT: struct comedi_lrange should normally be const
#174: FILE: drivers/staging/comedi/comedidev.h:427:
+					   struct comedi_lrange *lrng)

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*subd->range_table)...) over kmalloc(sizeof(struct comedi_crange)...)
#176: FILE: drivers/staging/comedi/comedidev.h:429:
+	subd->range_table = kmalloc(sizeof(struct comedi_crange) +

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:TRAILING_WHITESPACE: trailing whitespace
#177: FILE: drivers/staging/comedi/comedidev.h:430:
+^I^I^I^I    sizeof(struct comedi_lrange *), $

WARNING:CONST_STRUCT: struct comedi_lrange should normally be const
#177: FILE: drivers/staging/comedi/comedidev.h:430:
+				    sizeof(struct comedi_lrange *), 

ERROR:SPACING: space required before the open parenthesis '('
#180: FILE: drivers/staging/comedi/comedidev.h:433:
+	if(subd->range_table == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!subd->range_table"
#180: FILE: drivers/staging/comedi/comedidev.h:433:
+	if(subd->range_table == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#185: FILE: drivers/staging/comedi/comedidev.h:438:
+^I$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#189: FILE: drivers/staging/comedi/comedidev.h:442:
+static inline int alloc_perchan_range_table(struct comedi_subdevice * subd)

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*subd->range_table)...) over kmalloc(sizeof(struct comedi_crange)...)
#191: FILE: drivers/staging/comedi/comedidev.h:444:
+	subd->range_table = kmalloc(sizeof(struct comedi_crange) +

ERROR:TRAILING_WHITESPACE: trailing whitespace
#192: FILE: drivers/staging/comedi/comedidev.h:445:
+^I^I^I^I    sizeof(struct comedi_lrange *) * $

WARNING:CONST_STRUCT: struct comedi_lrange should normally be const
#192: FILE: drivers/staging/comedi/comedidev.h:445:
+				    sizeof(struct comedi_lrange *) * 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#193: FILE: drivers/staging/comedi/comedidev.h:446:
+^I^I^I^I    subd->n_chan, $

ERROR:SPACING: space required before the open parenthesis '('
#196: FILE: drivers/staging/comedi/comedidev.h:449:
+	if(subd->range_table == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!subd->range_table"
#196: FILE: drivers/staging/comedi/comedidev.h:449:
+	if(subd->range_table == NULL)

WARNING:CONST_STRUCT: struct comedi_lrange should normally be const
#201: FILE: drivers/staging/comedi/comedidev.h:454:
+	       sizeof(struct comedi_lrange *) * subd->n_chan);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#202: FILE: drivers/staging/comedi/comedidev.h:455:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#204: FILE: drivers/staging/comedi/comedidev.h:457:
+^I$

WARNING:CONST_STRUCT: struct comedi_lrange should normally be const
#210: FILE: drivers/staging/comedi/comedidev.h:463:
+				  struct comedi_lrange *lrng)

ERROR:SPACING: space required before the open parenthesis '('
#212: FILE: drivers/staging/comedi/comedidev.h:465:
+	if(subd->range_table == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!subd->range_table"
#212: FILE: drivers/staging/comedi/comedidev.h:465:
+	if(subd->range_table == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#222: FILE: drivers/staging/comedi/comedidev.h:475:
+static inline $

WARNING:CONST_STRUCT: struct comedi_lrange should normally be const
#223: FILE: drivers/staging/comedi/comedidev.h:476:
+struct comedi_lrange *get_range_table(struct comedi_subdevice *subd,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#230: FILE: drivers/staging/comedi/comedidev.h:483:
+^I^I^I^I  $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#231: FILE: drivers/staging/comedi/comedidev.h:484:
+				  
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:CONST_STRUCT: struct comedi_lrange should normally be const
#247: FILE: drivers/staging/comedi/drivers.c:278:
+				(s, (struct comedi_lrange *)&range_unknown);

ERROR:CODE_INDENT: code indent should use tabs where possible
#269: FILE: drivers/staging/comedi/range.c:65:
+ ^Iif (s->range_table == NULL || chan >= s->n_chan)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#269: FILE: drivers/staging/comedi/range.c:65:
+ ^Iif (s->range_table == NULL || chan >= s->n_chan)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#269: FILE: drivers/staging/comedi/range.c:65:
+ ^Iif (s->range_table == NULL || chan >= s->n_chan)$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!s->range_table"
#269: FILE: drivers/staging/comedi/range.c:65:
+ 	if (s->range_table == NULL || chan >= s->n_chan)

ERROR:CODE_INDENT: code indent should use tabs where possible
#270: FILE: drivers/staging/comedi/range.c:66:
+ ^I^Ireturn -EINVAL;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#270: FILE: drivers/staging/comedi/range.c:66:
+ ^I^Ireturn -EINVAL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#270: FILE: drivers/staging/comedi/range.c:66:
+ ^I^Ireturn -EINVAL;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#271: FILE: drivers/staging/comedi/range.c:67:
+ ^Ielse$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#271: FILE: drivers/staging/comedi/range.c:67:
+ ^Ielse$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#271: FILE: drivers/staging/comedi/range.c:67:
+ ^Ielse$

ERROR:CODE_INDENT: code indent should use tabs where possible
#272: FILE: drivers/staging/comedi/range.c:68:
+ ^I^Ilr = get_range_table(s, chan);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#272: FILE: drivers/staging/comedi/range.c:68:
+ ^I^Ilr = get_range_table(s, chan);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#272: FILE: drivers/staging/comedi/range.c:68:
+ ^I^Ilr = get_range_table(s, chan);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#311: FILE: drivers/staging/comedi/range.c:124:
+ ^Iif (s->range_table == NULL) {$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#311: FILE: drivers/staging/comedi/range.c:124:
+ ^Iif (s->range_table == NULL) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#311: FILE: drivers/staging/comedi/range.c:124:
+ ^Iif (s->range_table == NULL) {$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!s->range_table"
#311: FILE: drivers/staging/comedi/range.c:124:
+ 	if (s->range_table == NULL) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#312: FILE: drivers/staging/comedi/range.c:125:
+  ^I^Irt_printk("comedi: (bug) no range type list!\n");$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#312: FILE: drivers/staging/comedi/range.c:125:
+  ^I^Irt_printk("comedi: (bug) no range type list!\n");$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#312: FILE: drivers/staging/comedi/range.c:125:
+  ^I^Irt_printk("comedi: (bug) no range type list!\n");$

ERROR:CODE_INDENT: code indent should use tabs where possible
#313: FILE: drivers/staging/comedi/range.c:126:
+  ^I^Ireturn -EINVAL;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#313: FILE: drivers/staging/comedi/range.c:126:
+  ^I^Ireturn -EINVAL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#313: FILE: drivers/staging/comedi/range.c:126:
+  ^I^Ireturn -EINVAL;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#314: FILE: drivers/staging/comedi/range.c:127:
+  ^I}$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#314: FILE: drivers/staging/comedi/range.c:127:
+  ^I}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#314: FILE: drivers/staging/comedi/range.c:127:
+  ^I}$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#315: FILE: drivers/staging/comedi/range.c:128:
+ ^I$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#315: FILE: drivers/staging/comedi/range.c:128:
+ ^I$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#315: FILE: drivers/staging/comedi/range.c:128:
+ ^I$

ERROR:CODE_INDENT: code indent should use tabs where possible
#316: FILE: drivers/staging/comedi/range.c:129:
+ ^Ifor (i = 0; i < n; i++) {$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#316: FILE: drivers/staging/comedi/range.c:129:
+ ^Ifor (i = 0; i < n; i++) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#316: FILE: drivers/staging/comedi/range.c:129:
+ ^Ifor (i = 0; i < n; i++) {$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#317: FILE: drivers/staging/comedi/range.c:130:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#317: FILE: drivers/staging/comedi/range.c:130:
+ $

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#317: FILE: drivers/staging/comedi/range.c:130:
+ 	for (i = 0; i < n; i++) {
+ 

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#318: FILE: drivers/staging/comedi/range.c:131:
+ ^I^Ichan = CR_CHAN(chanlist[i]);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#318: FILE: drivers/staging/comedi/range.c:131:
+ ^I^Ichan = CR_CHAN(chanlist[i]);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#318: FILE: drivers/staging/comedi/range.c:131:
+ ^I^Ichan = CR_CHAN(chanlist[i]);$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#319: FILE: drivers/staging/comedi/range.c:132:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#319: FILE: drivers/staging/comedi/range.c:132:
+ $

ERROR:CODE_INDENT: code indent should use tabs where possible
#320: FILE: drivers/staging/comedi/range.c:133:
+ ^I^Iif (chan >= s->n_chan ||$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#320: FILE: drivers/staging/comedi/range.c:133:
+ ^I^Iif (chan >= s->n_chan ||$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#320: FILE: drivers/staging/comedi/range.c:133:
+ ^I^Iif (chan >= s->n_chan ||$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#321: FILE: drivers/staging/comedi/range.c:134:
+ ^I^I    CR_RANGE(chanlist[i]) >= get_range_table(s, chan)->length || $

ERROR:CODE_INDENT: code indent should use tabs where possible
#321: FILE: drivers/staging/comedi/range.c:134:
+ ^I^I    CR_RANGE(chanlist[i]) >= get_range_table(s, chan)->length || $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#321: FILE: drivers/staging/comedi/range.c:134:
+ ^I^I    CR_RANGE(chanlist[i]) >= get_range_table(s, chan)->length || $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#321: FILE: drivers/staging/comedi/range.c:134:
+ 		if (chan >= s->n_chan ||
+ 		    CR_RANGE(chanlist[i]) >= get_range_table(s, chan)->length || 

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#321: FILE: drivers/staging/comedi/range.c:134:
+ ^I^I    CR_RANGE(chanlist[i]) >= get_range_table(s, chan)->length || $

ERROR:CODE_INDENT: code indent should use tabs where possible
#322: FILE: drivers/staging/comedi/range.c:135:
+ ^I^I    aref_invalid(s, chanlist[i])) {$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#322: FILE: drivers/staging/comedi/range.c:135:
+ ^I^I    aref_invalid(s, chanlist[i])) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#322: FILE: drivers/staging/comedi/range.c:135:
+ ^I^I    aref_invalid(s, chanlist[i])) {$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#323: FILE: drivers/staging/comedi/range.c:136:
+ ^I^I^I$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#323: FILE: drivers/staging/comedi/range.c:136:
+ ^I^I^I$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#323: FILE: drivers/staging/comedi/range.c:136:
+ ^I^I^I$

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#323: FILE: drivers/staging/comedi/range.c:136:
+ 		    aref_invalid(s, chanlist[i])) {
+ 			

ERROR:TRAILING_WHITESPACE: trailing whitespace
#324: FILE: drivers/staging/comedi/range.c:137:
+ ^I^I^Irt_printk("bad chanlist[%d]=0x%08x\n", $

ERROR:CODE_INDENT: code indent should use tabs where possible
#324: FILE: drivers/staging/comedi/range.c:137:
+ ^I^I^Irt_printk("bad chanlist[%d]=0x%08x\n", $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#324: FILE: drivers/staging/comedi/range.c:137:
+ ^I^I^Irt_printk("bad chanlist[%d]=0x%08x\n", $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#324: FILE: drivers/staging/comedi/range.c:137:
+ ^I^I^Irt_printk("bad chanlist[%d]=0x%08x\n", $

ERROR:CODE_INDENT: code indent should use tabs where possible
#325: FILE: drivers/staging/comedi/range.c:138:
+ ^I^I^I^I  i, chanlist[i]);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#325: FILE: drivers/staging/comedi/range.c:138:
+ ^I^I^I^I  i, chanlist[i]);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#325: FILE: drivers/staging/comedi/range.c:138:
+ 			rt_printk("bad chanlist[%d]=0x%08x\n", 
+ 				  i, chanlist[i]);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#325: FILE: drivers/staging/comedi/range.c:138:
+ ^I^I^I^I  i, chanlist[i]);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#326: FILE: drivers/staging/comedi/range.c:139:
+ ^I^I^Ireturn -EINVAL;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#326: FILE: drivers/staging/comedi/range.c:139:
+ ^I^I^Ireturn -EINVAL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#326: FILE: drivers/staging/comedi/range.c:139:
+ ^I^I^Ireturn -EINVAL;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#327: FILE: drivers/staging/comedi/range.c:140:
+ ^I^I}$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#327: FILE: drivers/staging/comedi/range.c:140:
+ ^I^I}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#327: FILE: drivers/staging/comedi/range.c:140:
+ ^I^I}$

ERROR:CODE_INDENT: code indent should use tabs where possible
#328: FILE: drivers/staging/comedi/range.c:141:
+ ^I}$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#328: FILE: drivers/staging/comedi/range.c:141:
+ ^I}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#328: FILE: drivers/staging/comedi/range.c:141:
+ ^I}$

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000128884.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 41 errors, 55 warnings, 14 checks, 207 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000128884.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
