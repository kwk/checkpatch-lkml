ERROR:CODE_INDENT: code indent should use tabs where possible
#92: FILE: arch/x86_64/kernel/nmi.c:228:
+ ^Iif ((((u64)tsc_khz * 1000) / retval) > 0x7fffffffULL) {$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#92: FILE: arch/x86_64/kernel/nmi.c:228:
+ ^Iif ((((u64)tsc_khz * 1000) / retval) > 0x7fffffffULL) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#92: FILE: arch/x86_64/kernel/nmi.c:228:
+ ^Iif ((((u64)tsc_khz * 1000) / retval) > 0x7fffffffULL) {$

WARNING:BRACES: braces {} are not necessary for single statement blocks
#92: FILE: arch/x86_64/kernel/nmi.c:228:
+ 	if ((((u64)tsc_khz * 1000) / retval) > 0x7fffffffULL) {
+		retval = ((u64)tsc_khz * 1000) / 0x7fffffffUL + 1;
 	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/nmi.h> instead of <asm/nmi.h>
#164: FILE: arch/x86_64/kernel/time.c:46:
+#include <asm/nmi.h>

Whenever asm/file.h is included and linux/file.h exists, a
conversion can be made when linux/file.h includes asm/file.h.
However this is not always the case (See signal.h).
This message type is emitted only for includes from arch/.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#173: FILE: arch/x86_64/kernel/time.c:257:
+ * processor frequency */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#177: FILE: arch/x86_64/kernel/time.c:261:
+       int tsc_start, tsc_now;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#178: FILE: arch/x86_64/kernel/time.c:262:
+       int i, no_ctr_free;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#179: FILE: arch/x86_64/kernel/time.c:263:
+       unsigned long evntsel3 = 0, pmc3 = 0, pmc_now = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#180: FILE: arch/x86_64/kernel/time.c:264:
+       unsigned long flags;$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#182: FILE: arch/x86_64/kernel/time.c:266:
+       for (i = 0; i < 4; i++) $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#182: FILE: arch/x86_64/kernel/time.c:266:
+       for (i = 0; i < 4; i++) $

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#182: FILE: arch/x86_64/kernel/time.c:266:
+       for (i = 0; i < 4; i++) 
+               if (avail_to_resrv_perfctr_nmi_bit(i))

ERROR:CODE_INDENT: code indent should use tabs where possible
#183: FILE: arch/x86_64/kernel/time.c:267:
+               if (avail_to_resrv_perfctr_nmi_bit(i))$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#183: FILE: arch/x86_64/kernel/time.c:267:
+               if (avail_to_resrv_perfctr_nmi_bit(i))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#183: FILE: arch/x86_64/kernel/time.c:267:
+               if (avail_to_resrv_perfctr_nmi_bit(i))
+                       break;

ERROR:CODE_INDENT: code indent should use tabs where possible
#184: FILE: arch/x86_64/kernel/time.c:268:
+                       break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#184: FILE: arch/x86_64/kernel/time.c:268:
+                       break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#185: FILE: arch/x86_64/kernel/time.c:269:
+       no_ctr_free = (i == 4);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#186: FILE: arch/x86_64/kernel/time.c:270:
+       if (no_ctr_free) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#186: FILE: arch/x86_64/kernel/time.c:270:
+       if (no_ctr_free) {
+               i = 3;

ERROR:CODE_INDENT: code indent should use tabs where possible
#187: FILE: arch/x86_64/kernel/time.c:271:
+               i = 3;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#187: FILE: arch/x86_64/kernel/time.c:271:
+               i = 3;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#188: FILE: arch/x86_64/kernel/time.c:272:
+               rdmsrl(MSR_K7_EVNTSEL3, evntsel3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#188: FILE: arch/x86_64/kernel/time.c:272:
+               rdmsrl(MSR_K7_EVNTSEL3, evntsel3);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#189: FILE: arch/x86_64/kernel/time.c:273:
+               wrmsrl(MSR_K7_EVNTSEL3, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#189: FILE: arch/x86_64/kernel/time.c:273:
+               wrmsrl(MSR_K7_EVNTSEL3, 0);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#190: FILE: arch/x86_64/kernel/time.c:274:
+               rdmsrl(MSR_K7_PERFCTR3, pmc3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#190: FILE: arch/x86_64/kernel/time.c:274:
+               rdmsrl(MSR_K7_PERFCTR3, pmc3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#191: FILE: arch/x86_64/kernel/time.c:275:
+       } else {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#191: FILE: arch/x86_64/kernel/time.c:275:
+       } else {
+               reserve_perfctr_nmi(MSR_K7_PERFCTR0 + i);

ERROR:CODE_INDENT: code indent should use tabs where possible
#192: FILE: arch/x86_64/kernel/time.c:276:
+               reserve_perfctr_nmi(MSR_K7_PERFCTR0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#192: FILE: arch/x86_64/kernel/time.c:276:
+               reserve_perfctr_nmi(MSR_K7_PERFCTR0 + i);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#193: FILE: arch/x86_64/kernel/time.c:277:
+               reserve_evntsel_nmi(MSR_K7_EVNTSEL0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#193: FILE: arch/x86_64/kernel/time.c:277:
+               reserve_evntsel_nmi(MSR_K7_EVNTSEL0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#194: FILE: arch/x86_64/kernel/time.c:278:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#195: FILE: arch/x86_64/kernel/time.c:279:
+       local_irq_save(flags);$

WARNING:TYPO_SPELLING: 'meauring' may be misspelled - perhaps 'measuring'?
#196: FILE: arch/x86_64/kernel/time.c:280:
+       /* start meauring cycles, incrementing from 0 */
                 ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#197: FILE: arch/x86_64/kernel/time.c:281:
+       wrmsrl(MSR_K7_PERFCTR0 + i, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#198: FILE: arch/x86_64/kernel/time.c:282:
+       wrmsrl(MSR_K7_EVNTSEL0 + i, 1 << 22 | 3 << 16 | 0x76);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#199: FILE: arch/x86_64/kernel/time.c:283:
+       rdtscl(tsc_start);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#200: FILE: arch/x86_64/kernel/time.c:284:
+       do {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#200: FILE: arch/x86_64/kernel/time.c:284:
+       do {
+               rdmsrl(MSR_K7_PERFCTR0 + i, pmc_now);

ERROR:CODE_INDENT: code indent should use tabs where possible
#201: FILE: arch/x86_64/kernel/time.c:285:
+               rdmsrl(MSR_K7_PERFCTR0 + i, pmc_now);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#201: FILE: arch/x86_64/kernel/time.c:285:
+               rdmsrl(MSR_K7_PERFCTR0 + i, pmc_now);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#202: FILE: arch/x86_64/kernel/time.c:286:
+               tsc_now = get_cycles_sync();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#202: FILE: arch/x86_64/kernel/time.c:286:
+               tsc_now = get_cycles_sync();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#203: FILE: arch/x86_64/kernel/time.c:287:
+       } while ((tsc_now - tsc_start) < TICK_COUNT);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#205: FILE: arch/x86_64/kernel/time.c:289:
+       local_irq_restore(flags);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#206: FILE: arch/x86_64/kernel/time.c:290:
+       if (no_ctr_free) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#206: FILE: arch/x86_64/kernel/time.c:290:
+       if (no_ctr_free) {
+               wrmsrl(MSR_K7_EVNTSEL3, 0);

ERROR:CODE_INDENT: code indent should use tabs where possible
#207: FILE: arch/x86_64/kernel/time.c:291:
+               wrmsrl(MSR_K7_EVNTSEL3, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#207: FILE: arch/x86_64/kernel/time.c:291:
+               wrmsrl(MSR_K7_EVNTSEL3, 0);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#208: FILE: arch/x86_64/kernel/time.c:292:
+               wrmsrl(MSR_K7_PERFCTR3, pmc3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#208: FILE: arch/x86_64/kernel/time.c:292:
+               wrmsrl(MSR_K7_PERFCTR3, pmc3);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#209: FILE: arch/x86_64/kernel/time.c:293:
+               wrmsrl(MSR_K7_EVNTSEL3, evntsel3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#209: FILE: arch/x86_64/kernel/time.c:293:
+               wrmsrl(MSR_K7_EVNTSEL3, evntsel3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#210: FILE: arch/x86_64/kernel/time.c:294:
+       } else {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#210: FILE: arch/x86_64/kernel/time.c:294:
+       } else {
+               release_perfctr_nmi(MSR_K7_PERFCTR0 + i);

ERROR:CODE_INDENT: code indent should use tabs where possible
#211: FILE: arch/x86_64/kernel/time.c:295:
+               release_perfctr_nmi(MSR_K7_PERFCTR0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#211: FILE: arch/x86_64/kernel/time.c:295:
+               release_perfctr_nmi(MSR_K7_PERFCTR0 + i);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#212: FILE: arch/x86_64/kernel/time.c:296:
+               release_evntsel_nmi(MSR_K7_EVNTSEL0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#212: FILE: arch/x86_64/kernel/time.c:296:
+               release_evntsel_nmi(MSR_K7_EVNTSEL0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#213: FILE: arch/x86_64/kernel/time.c:297:
+       }$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#215: FILE: arch/x86_64/kernel/time.c:299:
+       return pmc_now * tsc_khz / (tsc_now - tsc_start);       $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#215: FILE: arch/x86_64/kernel/time.c:299:
+       return pmc_now * tsc_khz / (tsc_now - tsc_start);       $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#233: FILE: arch/x86_64/kernel/time.c:395:
+^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#236: FILE: arch/x86_64/kernel/time.c:398:
+	if (cpu_has(&boot_cpu_data, X86_FEATURE_CONSTANT_TSC) &&
+			nmi_known_cpu()) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#237: FILE: arch/x86_64/kernel/time.c:399:
+^I^Icpu_khz = tsc_calibrate_cpu_khz(); $

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#269: FILE: arch/x86_64/kernel/tsc.c:82:
+static unsigned long tsc_khz_ref = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#303: FILE: arch/x86_64/kernel/tsc.c:219:
+		clocksource_tsc.mult = clocksource_khz2mult(tsc_khz,
 							clocksource_tsc.shift);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#327: FILE: include/asm-x86_64/nmi.h:49:
+extern int nmi_known_cpu(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#339: FILE: include/asm-x86_64/proto.h:96:
+extern unsigned tsc_khz;

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000456712.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 21 errors, 48 warnings, 4 checks, 233 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000456712.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
