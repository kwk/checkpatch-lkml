WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#139: FILE: fs/ecryptfs/ecryptfs_kernel.h:392:
+	 * valid. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#166: FILE: fs/ecryptfs/ecryptfs_kernel.h:416:
+	struct mutex mux;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#315: FILE: fs/ecryptfs/keystore.c:361:
+		printk(KERN_ERR "%s: message_len is [%d]; minimum acceptable "

WARNING:SPLIT_STRING: quoted string split across lines
#316: FILE: fs/ecryptfs/keystore.c:362:
+		printk(KERN_ERR "%s: message_len is [%d]; minimum acceptable "
+		       "message length is [%d]\n", __func__, message_len, 4);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#322: FILE: fs/ecryptfs/keystore.c:367:
+		printk(KERN_ERR "%s: Type should be ECRYPTFS_TAG_67\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#330: FILE: fs/ecryptfs/keystore.c:373:
+		printk(KERN_ERR "%s: Status indicator has non zero "

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#331: FILE: fs/ecryptfs/keystore.c:374:
+		       "value [%d]\n", __func__, data[i-1]);
 		                                       ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPLIT_STRING: quoted string split across lines
#331: FILE: fs/ecryptfs/keystore.c:374:
+		printk(KERN_ERR "%s: Status indicator has non zero "
+		       "value [%d]\n", __func__, data[i-1]);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#348: FILE: fs/ecryptfs/keystore.c:388:
+		printk(KERN_ERR "%s: message_len [%d]; max len is [%d]\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#358: FILE: fs/ecryptfs/keystore.c:394:
+		printk(KERN_ERR "%s: Encrypted key_size [%d] larger than "

WARNING:SPLIT_STRING: quoted string split across lines
#359: FILE: fs/ecryptfs/keystore.c:395:
+		printk(KERN_ERR "%s: Encrypted key_size [%d] larger than "
+		       "the maximum key size [%d]\n", __func__,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#413: FILE: fs/ecryptfs/keystore.c:1414:
+		printk(KERN_ERR "Failed to encrypt session key via a key "

WARNING:SPLIT_STRING: quoted string split across lines
#414: FILE: fs/ecryptfs/keystore.c:1415:
+		printk(KERN_ERR "Failed to encrypt session key via a key "
+		       "module; rc = [%d]\n", rc);

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#474: FILE: fs/ecryptfs/messaging.c:30:
+struct mutex ecryptfs_daemon_hash_mux;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#507: FILE: fs/ecryptfs/messaging.c:54:
+		printk(KERN_WARNING "%s: The eCryptfs free "

WARNING:SPLIT_STRING: quoted string split across lines
#508: FILE: fs/ecryptfs/messaging.c:55:
+		printk(KERN_WARNING "%s: The eCryptfs free "
+		       "context list is empty.  It may be helpful to "

WARNING:SPLIT_STRING: quoted string split across lines
#509: FILE: fs/ecryptfs/messaging.c:56:
+		       "context list is empty.  It may be helpful to "
+		       "specify the ecryptfs_message_buf_len "

WARNING:SPLIT_STRING: quoted string split across lines
#510: FILE: fs/ecryptfs/messaging.c:57:
+		       "specify the ecryptfs_message_buf_len "
+		       "parameter to be greater than the current "

WARNING:SPLIT_STRING: quoted string split across lines
#511: FILE: fs/ecryptfs/messaging.c:58:
+		       "parameter to be greater than the current "
+		       "value of [%d]\n", __func__, ecryptfs_message_buf_len);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#617: FILE: fs/ecryptfs/messaging.c:164:
+			printk(KERN_ERR "%s: Error whilst attempting to send "

WARNING:SPLIT_STRING: quoted string split across lines
#618: FILE: fs/ecryptfs/messaging.c:165:
+			printk(KERN_ERR "%s: Error whilst attempting to send "
+			       "message via procfs; rc = [%d]\n", __func__, rc);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#624: FILE: fs/ecryptfs/messaging.c:171:
+		 * be freed as soon as the transport sends out the message. */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#657: FILE: fs/ecryptfs/messaging.c:204:
+		printk(KERN_ERR "%s: Failed to allocate [%d] bytes of "

WARNING:SPLIT_STRING: quoted string split across lines
#658: FILE: fs/ecryptfs/messaging.c:205:
+		printk(KERN_ERR "%s: Failed to allocate [%d] bytes of "
+		       "GFP_KERNEL memory\n", __func__, sizeof(**daemon));

WARNING:SPLIT_STRING: quoted string split across lines
#719: FILE: fs/ecryptfs/messaging.c:245:
 		       "to register daemon [%d]; unregistering daemon "
+		       "[%d]\n", euid, pid, old_daemon->pid);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#740: FILE: fs/ecryptfs/messaging.c:257:
+		printk(KERN_ERR "%s: The gods are displeased with this attempt "

WARNING:SPLIT_STRING: quoted string split across lines
#741: FILE: fs/ecryptfs/messaging.c:258:
+		printk(KERN_ERR "%s: The gods are displeased with this attempt "
+		       "to create a new daemon object for euid [%d]; pid [%d]; "

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#760: FILE: fs/ecryptfs/messaging.c:277:
+	if ((daemon->flags & ECRYPTFS_DAEMON_IN_READ)
+	    || (daemon->flags & ECRYPTFS_DAEMON_IN_POLL)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#762: FILE: fs/ecryptfs/messaging.c:279:
+		printk(KERN_WARNING "%s: Attempt to destroy daemon with pid "

WARNING:SPLIT_STRING: quoted string split across lines
#763: FILE: fs/ecryptfs/messaging.c:280:
+		printk(KERN_WARNING "%s: Attempt to destroy daemon with pid "
+		       "[%d], but it is in the midst of a read or a poll\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#772: FILE: fs/ecryptfs/messaging.c:289:
+		printk(KERN_WARNING "%s: Warning: dropping message that is in "

WARNING:SPLIT_STRING: quoted string split across lines
#773: FILE: fs/ecryptfs/messaging.c:290:
+		printk(KERN_WARNING "%s: Warning: dropping message that is in "
+		       "the out queue of a dying daemon\n", __func__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#823: FILE: fs/ecryptfs/messaging.c:322:
+		printk(KERN_ERR "Received request from user [%d] to "

WARNING:SPLIT_STRING: quoted string split across lines
#824: FILE: fs/ecryptfs/messaging.c:323:
+		printk(KERN_ERR "Received request from user [%d] to "
+		       "unregister unrecognized daemon [%d]\n", euid, pid);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#884: FILE: fs/ecryptfs/messaging.c:366:
+		printk(KERN_ERR "%s: Attempt to reference "

WARNING:SPLIT_STRING: quoted string split across lines
#885: FILE: fs/ecryptfs/messaging.c:367:
+		printk(KERN_ERR "%s: Attempt to reference "
+		       "context buffer at index [%d]; maximum "

WARNING:SPLIT_STRING: quoted string split across lines
#886: FILE: fs/ecryptfs/messaging.c:368:
+		       "context buffer at index [%d]; maximum "
+		       "allowable is [%d]\n", __func__, msg->index,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#902: FILE: fs/ecryptfs/messaging.c:379:
+		printk(KERN_WARNING "%s: User [%d] received a "

WARNING:SPLIT_STRING: quoted string split across lines
#903: FILE: fs/ecryptfs/messaging.c:380:
+		printk(KERN_WARNING "%s: User [%d] received a "
+		       "message response from process [%d] but does "

WARNING:SPLIT_STRING: quoted string split across lines
#904: FILE: fs/ecryptfs/messaging.c:381:
+		       "message response from process [%d] but does "
+		       "not have a registered daemon\n", __func__,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#914: FILE: fs/ecryptfs/messaging.c:387:
+		printk(KERN_WARNING "%s: Received message from user "

WARNING:SPLIT_STRING: quoted string split across lines
#915: FILE: fs/ecryptfs/messaging.c:388:
+		printk(KERN_WARNING "%s: Received message from user "
+		       "[%d]; expected message from user [%d]\n", __func__,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#925: FILE: fs/ecryptfs/messaging.c:394:
+		printk(KERN_ERR "%s: User [%d] sent a message response "

WARNING:SPLIT_STRING: quoted string split across lines
#926: FILE: fs/ecryptfs/messaging.c:395:
+		printk(KERN_ERR "%s: User [%d] sent a message response "
+		       "from an unrecognized process [%d]\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#934: FILE: fs/ecryptfs/messaging.c:401:
+		printk(KERN_WARNING "%s: Desired context element is not "

WARNING:SPLIT_STRING: quoted string split across lines
#935: FILE: fs/ecryptfs/messaging.c:402:
+		printk(KERN_WARNING "%s: Desired context element is not "
+		       "pending a response\n", __func__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#942: FILE: fs/ecryptfs/messaging.c:406:
+		printk(KERN_WARNING "%s: Invalid message sequence; "

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#953: FILE: fs/ecryptfs/messaging.c:415:
+		printk(KERN_ERR "%s: Failed to allocate [%Zd] bytes of "

WARNING:PRINTF_Z: %Zd is non-standard C, use %zd
#953: FILE: fs/ecryptfs/messaging.c:415:
+		printk(KERN_ERR "%s: Failed to allocate [%Zd] bytes of "

WARNING:SPLIT_STRING: quoted string split across lines
#954: FILE: fs/ecryptfs/messaging.c:416:
+		printk(KERN_ERR "%s: Failed to allocate [%Zd] bytes of "
+		       "GFP_KERNEL memory\n", __func__, msg_size);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#992: FILE: fs/ecryptfs/messaging.c:452:
+		printk(KERN_ERR "%s: User [%d] does not have a daemon "

WARNING:SPLIT_STRING: quoted string split across lines
#993: FILE: fs/ecryptfs/messaging.c:453:
+		printk(KERN_ERR "%s: User [%d] does not have a daemon "
+		       "registered\n", __func__, current->euid);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1003: FILE: fs/ecryptfs/messaging.c:460:
+		printk(KERN_WARNING "%s: Could not claim a free "

WARNING:SPLIT_STRING: quoted string split across lines
#1004: FILE: fs/ecryptfs/messaging.c:461:
+		printk(KERN_WARNING "%s: Could not claim a free "
+		       "context element\n", __func__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1031: FILE: fs/ecryptfs/messaging.c:482:
+		printk(KERN_ERR "%s: Error attempting to send message to "

WARNING:SPLIT_STRING: quoted string split across lines
#1032: FILE: fs/ecryptfs/messaging.c:483:
+		printk(KERN_ERR "%s: Error attempting to send message to "
+		       "userspace daemon; rc = [%d]\n", __func__, rc);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1081: FILE: fs/ecryptfs/messaging.c:557:
+		printk(KERN_WARNING "%s: Specified number of users is "

WARNING:SPLIT_STRING: quoted string split across lines
#1082: FILE: fs/ecryptfs/messaging.c:558:
+		printk(KERN_WARNING "%s: Specified number of users is "
+		       "too large, defaulting to [%d] users\n", __func__,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1101: FILE: fs/ecryptfs/messaging.c:570:
+		printk(KERN_ERR "%s: Failed to allocate memory\n", __func__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1118: FILE: fs/ecryptfs/messaging.c:582:
+		printk(KERN_ERR "%s: Failed to allocate memory\n", __func__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1168: FILE: fs/ecryptfs/messaging.c:652:
+					printk(KERN_ERR "%s: Error whilst "

WARNING:SPLIT_STRING: quoted string split across lines
#1169: FILE: fs/ecryptfs/messaging.c:653:
+					printk(KERN_ERR "%s: Error whilst "
+					       "attempting to destroy daemon; "

WARNING:SPLIT_STRING: quoted string split across lines
#1171: FILE: fs/ecryptfs/messaging.c:655:
+					       "rc = [%d]. Dazed and confused, "
+					       "but trying to continue.\n",

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#1206: FILE: fs/ecryptfs/netlink.c:178:
 	switch (nlh->nlmsg_type) {
+		case ECRYPTFS_MSG_RESPONSE:
[...]
+		case ECRYPTFS_MSG_HELO:
[...]
+		case ECRYPTFS_MSG_QUIT:

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000295180.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 1 errors, 59 warnings, 4 checks, 1118 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000295180.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
