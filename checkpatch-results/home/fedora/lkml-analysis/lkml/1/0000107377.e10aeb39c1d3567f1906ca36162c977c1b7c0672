WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#61: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#66: FILE: fs/staging/ceph/osd_client.c:1:
+#include <linux/err.h>

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:LINE_SPACING: Please don't use multiple blank lines
#85: FILE: fs/staging/ceph/osd_client.c:20:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#108: FILE: fs/staging/ceph/osd_client.c:43:
+		dout(10, " skipping last %llu, final file extent %llu~%llu\n",
 		^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#114: FILE: fs/staging/ceph/osd_client.c:49:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#119: FILE: fs/staging/ceph/osd_client.c:54:
+	dout(10, "calc_layout %s (%d) %llu~%llu (%d pages)\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'calc_layout', this function's name, in a string
#119: FILE: fs/staging/ceph/osd_client.c:54:
+	dout(10, "calc_layout %s (%d) %llu~%llu (%d pages)\n",

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#123: FILE: fs/staging/ceph/osd_client.c:58:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#129: FILE: fs/staging/ceph/osd_client.c:64:
+	dout(10, "put_request %p %d -> %d\n", req, atomic_read(&req->r_ref),
 	^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#130: FILE: fs/staging/ceph/osd_client.c:65:
+	     atomic_read(&req->r_ref)-1);
 	                             ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#131: FILE: fs/staging/ceph/osd_client.c:66:
+	BUG_ON(atomic_read(&req->r_ref) <= 0);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#167: FILE: fs/staging/ceph/osd_client.c:102:
+	size_t msg_size = sizeof(*head) + num_op*sizeof(*op);
 	                                        ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!req"
#173: FILE: fs/staging/ceph/osd_client.c:108:
+	if (req == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#183: FILE: fs/staging/ceph/osd_client.c:118:
+	WARN_ON((flags & (CEPH_OSD_FLAG_READ|CEPH_OSD_FLAG_WRITE)) == 0);
 	                                    ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#216: FILE: fs/staging/ceph/osd_client.c:151:
+^I        op->payload_len = cpu_to_le32(*plen);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:LINE_SPACING: Please don't use multiple blank lines
#219: FILE: fs/staging/ceph/osd_client.c:154:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#230: FILE: fs/staging/ceph/osd_client.c:165:
+
+

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#237: FILE: fs/staging/ceph/osd_client.c:172:
+		prevofs =  le64_to_cpu((op-1)->offset);
 		                          ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#238: FILE: fs/staging/ceph/osd_client.c:173:
+		op->truncate_size = cpu_to_le64(truncate_size - (off-prevofs));
 		                                                    ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#253: FILE: fs/staging/ceph/osd_client.c:188:
+	BUG_ON(p > msg->front.iov_base + msg->front.iov_len);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#271: FILE: fs/staging/ceph/osd_client.c:206:
+	dout(30, "register_request %p tid %lld\n", req, req->r_tid);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'register_request', this function's name, in a string
#271: FILE: fs/staging/ceph/osd_client.c:206:
+	dout(30, "register_request %p tid %lld\n", req, req->r_tid);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#280: FILE: fs/staging/ceph/osd_client.c:215:
+		jiffies + osdc->client->mount_args.osd_timeout*HZ;
 		                                              ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#284: FILE: fs/staging/ceph/osd_client.c:219:
+		dout(30, "  timeout on tid %llu at %lu\n", req->r_tid,
 		^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#287: FILE: fs/staging/ceph/osd_client.c:222:
+		schedule_delayed_work(&osdc->timeout_work,
+		      round_jiffies_relative(req->r_timeout_stamp - jiffies));

WARNING:LINE_SPACING: Missing a blank line after declarations
#310: FILE: fs/staging/ceph/osd_client.c:245:
+	unsigned long next_timeout = timeout + jiffies;
+	RADIX_TREE(pings, GFP_NOFS);  /* only send 1 ping per osd */

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#314: FILE: fs/staging/ceph/osd_client.c:249:
+	dout(10, "timeout\n");
 	^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#317: FILE: fs/staging/ceph/osd_client.c:252:
+	ceph_monc_request_osdmap(&osdc->client->monc, osdc->osdmap->epoch+1);
 	                                                                 ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!radix_tree_lookup"
#331: FILE: fs/staging/ceph/osd_client.c:266:
+		    radix_tree_lookup(&pings, req->r_last_osd) == NULL) {

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#336: FILE: fs/staging/ceph/osd_client.c:271:
+			dout(20, " tid %llu (at least) timed out on osd%d\n",
 			^^^^

WARNING:INDENTED_LABEL: labels should not be indented
#342: FILE: fs/staging/ceph/osd_client.c:277:
+	next:

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#365: FILE: fs/staging/ceph/osd_client.c:300:
+	dout(30, "__unregister_request %p tid %lld\n", req, req->r_tid);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using '__unregister_request', this function's name, in a string
#365: FILE: fs/staging/ceph/osd_client.c:300:
+	dout(30, "__unregister_request %p tid %lld\n", req, req->r_tid);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#373: FILE: fs/staging/ceph/osd_client.c:308:
+			dout(30, "no requests, canceling timeout\n");
 			^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#381: FILE: fs/staging/ceph/osd_client.c:316:
+			BUG_ON(ret != 1);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#383: FILE: fs/staging/ceph/osd_client.c:318:
+			dout(30, "rescheduled timeout on tid %llu at %lu\n",
 			^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#386: FILE: fs/staging/ceph/osd_client.c:321:
+			schedule_delayed_work(&osdc->timeout_work,
+			      round_jiffies_relative(req->r_timeout_stamp -

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#407: FILE: fs/staging/ceph/osd_client.c:342:
+	unsigned pps; /* placement ps */

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'map_osds', this function's name, in a string
#423: FILE: fs/staging/ceph/osd_client.c:358:
+		derr(0, "map_osds no crush rule for pool %d type %d size %d\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#447: FILE: fs/staging/ceph/osd_client.c:382:
+	dout(20, "map_osds tid %llu pgid %llx pool %d osd%d (was osd%d)\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'map_osds', this function's name, in a string
#447: FILE: fs/staging/ceph/osd_client.c:382:
+	dout(20, "map_osds tid %llu pgid %llx pool %d osd%d (was osd%d)\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#470: FILE: fs/staging/ceph/osd_client.c:405:
+		dout(10, "send_request %p no up osds in pg\n", req);
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'send_request', this function's name, in a string
#470: FILE: fs/staging/ceph/osd_client.c:405:
+		dout(10, "send_request %p no up osds in pg\n", req);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#472: FILE: fs/staging/ceph/osd_client.c:407:
+					 osdc->osdmap->epoch+1);
 					                    ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#477: FILE: fs/staging/ceph/osd_client.c:412:
+	dout(10, "send_request %p tid %llu to osd%d flags %d\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'send_request', this function's name, in a string
#477: FILE: fs/staging/ceph/osd_client.c:412:
+	dout(10, "send_request %p tid %llu to osd%d flags %d\n",

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#490: FILE: fs/staging/ceph/osd_client.c:425:
+	req->r_timeout_stamp = jiffies+osdc->client->mount_args.osd_timeout*HZ;
 	                              ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#490: FILE: fs/staging/ceph/osd_client.c:425:
+	req->r_timeout_stamp = jiffies+osdc->client->mount_args.osd_timeout*HZ;
 	                                                                   ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#516: FILE: fs/staging/ceph/osd_client.c:451:
+	dout(10, "handle_reply %p tid %llu\n", msg, tid);
 	^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!req"
#521: FILE: fs/staging/ceph/osd_client.c:456:
+	if (req == NULL) {

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#522: FILE: fs/staging/ceph/osd_client.c:457:
+		dout(10, "handle_reply tid %llu dne\n", tid);
 		^^^^

WARNING:TYPO_SPELLING: 'dne' may be misspelled - perhaps 'done'?
#522: FILE: fs/staging/ceph/osd_client.c:457:
+		dout(10, "handle_reply tid %llu dne\n", tid);
 		                                ^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#530: FILE: fs/staging/ceph/osd_client.c:465:
+		dout(10, "handle_reply tid %llu aborted\n", tid);
 		^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!req->r_reply"
#536: FILE: fs/staging/ceph/osd_client.c:471:
+		if (req->r_reply == NULL) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#538: FILE: fs/staging/ceph/osd_client.c:473:
+			/* no data payload, or r_reply would have been set by
+			   prepare_pages. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#538: FILE: fs/staging/ceph/osd_client.c:473:
+			   prepare_pages. */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#543: FILE: fs/staging/ceph/osd_client.c:478:
+			BUG_ON(req->r_reply != msg);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#549: FILE: fs/staging/ceph/osd_client.c:484:
+		dout(10, "handle_reply tid %llu dup ack\n", tid);
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#553: FILE: fs/staging/ceph/osd_client.c:488:
+	dout(10, "handle_reply tid %llu flags %d\n", tid, flags);
 	^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#583: FILE: fs/staging/ceph/osd_client.c:518:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#616: FILE: fs/staging/ceph/osd_client.c:551:
+			dout(20, "tid %llu maps to no valid osd\n", req->r_tid);
 			^^^^

WARNING:INDENTED_LABEL: labels should not be indented
#623: FILE: fs/staging/ceph/osd_client.c:558:
+	kick:

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#624: FILE: fs/staging/ceph/osd_client.c:559:
+		dout(20, "kicking tid %llu osd%d\n", req->r_tid,
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#639: FILE: fs/staging/ceph/osd_client.c:574:
+		dout(10, "%d requests for down osds, need new map\n", needmap);
 		^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#641: FILE: fs/staging/ceph/osd_client.c:576:
+					 osdc->osdmap->epoch+1);
 					                    ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#660: FILE: fs/staging/ceph/osd_client.c:595:
+	dout(2, "handle_map have %u\n", osdc->osdmap ? osdc->osdmap->epoch : 0);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#679: FILE: fs/staging/ceph/osd_client.c:614:
+	dout(10, " %d inc maps\n", nr_maps);
 	^^^^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#681: FILE: fs/staging/ceph/osd_client.c:616:
+		ceph_decode_need(&p, end, 2*sizeof(u32), bad);
 		                           ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#686: FILE: fs/staging/ceph/osd_client.c:621:
+		if (osdc->osdmap && osdc->osdmap->epoch+1 == epoch) {
 		                                       ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#687: FILE: fs/staging/ceph/osd_client.c:622:
+			dout(10, "applying incremental map %u len %d\n",
 			^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#700: FILE: fs/staging/ceph/osd_client.c:635:
+			dout(10, "ignoring incremental map %u len %d\n",
 			^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#711: FILE: fs/staging/ceph/osd_client.c:646:
+	dout(30, " %d full maps\n", nr_maps);
 	^^^^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#713: FILE: fs/staging/ceph/osd_client.c:648:
+		ceph_decode_need(&p, end, 2*sizeof(u32), bad);
 		                           ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#718: FILE: fs/staging/ceph/osd_client.c:653:
+			dout(5, "skipping non-latest full map %u len %d\n",
 			^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#721: FILE: fs/staging/ceph/osd_client.c:656:
+			dout(10, "skipping full map %u len %d, "
 			^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#722: FILE: fs/staging/ceph/osd_client.c:657:
+			dout(10, "skipping full map %u len %d, "
+			     "older than our %u\n", epoch, maplen,

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#725: FILE: fs/staging/ceph/osd_client.c:660:
+			dout(10, "taking full map %u len %d\n", epoch, maplen);
 			^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#726: FILE: fs/staging/ceph/osd_client.c:661:
+			newmap = osdmap_decode(&p, p+maplen);
 			                            ^

WARNING:RETURN_VOID: void function return statements are not generally useful
#752: FILE: fs/staging/ceph/osd_client.c:687:
+	return;
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#769: FILE: fs/staging/ceph/osd_client.c:704:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#786: FILE: fs/staging/ceph/osd_client.c:721:
+	dout(10, "prepare_pages on msg %p want %d\n", m, want);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#794: FILE: fs/staging/ceph/osd_client.c:729:
+		dout(10, "prepare_pages unknown tid %llu\n", tid);
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#797: FILE: fs/staging/ceph/osd_client.c:732:
+	dout(10, "prepare_pages tid %llu has %d pages, want %d\n",
 	^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!req->r_reply"
#799: FILE: fs/staging/ceph/osd_client.c:734:
+	if (likely(req->r_num_pages >= want && req->r_reply == NULL &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#800: FILE: fs/staging/ceph/osd_client.c:735:
+	if (likely(req->r_num_pages >= want && req->r_reply == NULL &&
+		    !req->r_aborted)) {

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#850: FILE: fs/staging/ceph/osd_client.c:785:
+	dout(10, "wait_request tid %llu result %d, %d bytes\n",
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#866: FILE: fs/staging/ceph/osd_client.c:801:
+	dout(0, "abort_request tid %llu, revoking %p pages\n", req->r_tid,
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#908: FILE: fs/staging/ceph/osd_client.c:843:
+		dout(10, "sync waiting on tid %llu (last is %llu)\n",
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#915: FILE: fs/staging/ceph/osd_client.c:850:
+	dout(10, "sync done (thru tid %llu)\n", last_tid);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#923: FILE: fs/staging/ceph/osd_client.c:858:
+	dout(5, "init\n");
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#961: FILE: fs/staging/ceph/osd_client.c:896:
+	dout(10, "readpages on ino %llx.%llx on %llu~%llu\n", vino.ino,
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#974: FILE: fs/staging/ceph/osd_client.c:909:
+	dout(10, "readpages final extent is %llu~%llu (%d pages)\n",
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#993: FILE: fs/staging/ceph/osd_client.c:928:
+			dout(20, "readpages zeroing %d %p from %d\n", i, page,
 			^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1001: FILE: fs/staging/ceph/osd_client.c:936:
+			dout(20, "readpages zeroing %d %p\n", i, page);
 			^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1007: FILE: fs/staging/ceph/osd_client.c:942:
+	dout(10, "readpages result %d\n", rc);
 	^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1026: FILE: fs/staging/ceph/osd_client.c:961:
+	BUG_ON(vino.snap != CEPH_NOSNAP);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1039: FILE: fs/staging/ceph/osd_client.c:974:
+	dout(10, "writepages %llu~%llu (%d pages)\n", off, len,
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1049: FILE: fs/staging/ceph/osd_client.c:984:
+	dout(10, "writepages result %d\n", rc);
 	^^^^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1059: FILE: fs/staging/ceph/osd_client.h:1:
+#ifndef _FS_CEPH_OSD_CLIENT_H

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct ceph_osd_request *' should also have an identifier name
#1095: FILE: fs/staging/ceph/osd_client.h:37:
+	ssize_t (*show)(struct ceph_osd_request *,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct ceph_osd_request_attr *' should also have an identifier name
#1095: FILE: fs/staging/ceph/osd_client.h:37:
+	ssize_t (*show)(struct ceph_osd_request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'char *' should also have an identifier name
#1095: FILE: fs/staging/ceph/osd_client.h:37:
+	ssize_t (*show)(struct ceph_osd_request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct ceph_osd_request *' should also have an identifier name
#1098: FILE: fs/staging/ceph/osd_client.h:40:
+	ssize_t (*store)(struct ceph_osd_request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct ceph_osd_request_attr *' should also have an identifier name
#1098: FILE: fs/staging/ceph/osd_client.h:40:
+	ssize_t (*store)(struct ceph_osd_request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'const char *' should also have an identifier name
#1098: FILE: fs/staging/ceph/osd_client.h:40:
+	ssize_t (*store)(struct ceph_osd_request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'size_t' should also have an identifier name
#1098: FILE: fs/staging/ceph/osd_client.h:40:
+	ssize_t (*store)(struct ceph_osd_request *,

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1119: FILE: fs/staging/ceph/osd_client.h:61:
+^Istruct inode *r_inode;         ^I      /* for use by callbacks */$

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1130: FILE: fs/staging/ceph/osd_client.h:72:
+	unsigned          r_num_pages;        /* size of page array (follows) */

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#1143: FILE: fs/staging/ceph/osd_client.h:85:
+	struct mutex           request_mutex;

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1149: FILE: fs/staging/ceph/osd_client.h:91:
+^Istruct dentry ^I       *debugfs_file;$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1152: FILE: fs/staging/ceph/osd_client.h:94:
+extern void ceph_osdc_init(struct ceph_osd_client *osdc,

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1154: FILE: fs/staging/ceph/osd_client.h:96:
+extern void ceph_osdc_stop(struct ceph_osd_client *osdc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1156: FILE: fs/staging/ceph/osd_client.h:98:
+extern void ceph_osdc_handle_reset(struct ceph_osd_client *osdc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1159: FILE: fs/staging/ceph/osd_client.h:101:
+extern void ceph_osdc_handle_reply(struct ceph_osd_client *osdc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1161: FILE: fs/staging/ceph/osd_client.h:103:
+extern void ceph_osdc_handle_map(struct ceph_osd_client *osdc,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1165: FILE: fs/staging/ceph/osd_client.h:107:
+ * the data payload into. */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1166: FILE: fs/staging/ceph/osd_client.h:108:
+extern int ceph_osdc_prepare_pages(void *p, struct ceph_msg *m, int want);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1168: FILE: fs/staging/ceph/osd_client.h:110:
+extern struct ceph_osd_request *ceph_osdc_new_request(struct ceph_osd_client *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct ceph_osd_client *' should also have an identifier name
#1168: FILE: fs/staging/ceph/osd_client.h:110:
+extern struct ceph_osd_request *ceph_osdc_new_request(struct ceph_osd_client *,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1169: FILE: fs/staging/ceph/osd_client.h:111:
+extern struct ceph_osd_request *ceph_osdc_new_request(struct ceph_osd_client *,
+				      struct ceph_file_layout *layout,

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1181: FILE: fs/staging/ceph/osd_client.h:123:
+}
+extern void ceph_osdc_put_request(struct ceph_osd_request *req);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1181: FILE: fs/staging/ceph/osd_client.h:123:
+extern void ceph_osdc_put_request(struct ceph_osd_request *req);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1183: FILE: fs/staging/ceph/osd_client.h:125:
+extern int ceph_osdc_start_request(struct ceph_osd_client *osdc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1185: FILE: fs/staging/ceph/osd_client.h:127:
+extern int ceph_osdc_wait_request(struct ceph_osd_client *osdc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1187: FILE: fs/staging/ceph/osd_client.h:129:
+extern void ceph_osdc_abort_request(struct ceph_osd_client *osdc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1189: FILE: fs/staging/ceph/osd_client.h:131:
+extern void ceph_osdc_sync(struct ceph_osd_client *osdc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1191: FILE: fs/staging/ceph/osd_client.h:133:
+extern int ceph_osdc_readpages(struct ceph_osd_client *osdc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1198: FILE: fs/staging/ceph/osd_client.h:140:
+extern int ceph_osdc_writepages(struct ceph_osd_client *osdc,

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1216: FILE: fs/staging/ceph/osdmap.c:1:
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1230: FILE: fs/staging/ceph/osdmap.c:15:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1258: FILE: fs/staging/ceph/osdmap.c:43:
+static int calc_bits_of(unsigned t)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1261: FILE: fs/staging/ceph/osdmap.c:46:
+	int b = 0;
+	while (t) {

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1273: FILE: fs/staging/ceph/osdmap.c:58:
+	pi->pg_num_mask = (1 << calc_bits_of(le32_to_cpu(pi->v.pg_num)-1)) - 1;
 	                                                              ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1275: FILE: fs/staging/ceph/osdmap.c:60:
+		(1 << calc_bits_of(le32_to_cpu(pi->v.pgp_num)-1)) - 1;
 		                                             ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1277: FILE: fs/staging/ceph/osdmap.c:62:
+		(1 << calc_bits_of(le32_to_cpu(pi->v.lpg_num)-1)) - 1;
 		                                             ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1279: FILE: fs/staging/ceph/osdmap.c:64:
+		(1 << calc_bits_of(le32_to_cpu(pi->v.lpgp_num)-1)) - 1;
 		                                              ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1288: FILE: fs/staging/ceph/osdmap.c:73:
+	dout(30, "crush_decode_uniform_bucket %p to %p\n", *p, end);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode_uniform_bucket', this function's name, in a string
#1288: FILE: fs/staging/ceph/osdmap.c:73:
+	dout(30, "crush_decode_uniform_bucket %p to %p\n", *p, end);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1289: FILE: fs/staging/ceph/osdmap.c:74:
+	ceph_decode_need(p, end, (1+b->h.size) * sizeof(u32), bad);
 	                           ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1300: FILE: fs/staging/ceph/osdmap.c:85:
+	dout(30, "crush_decode_list_bucket %p to %p\n", *p, end);
 	^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1300: FILE: fs/staging/ceph/osdmap.c:85:
+	int j;
+	dout(30, "crush_decode_list_bucket %p to %p\n", *p, end);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode_list_bucket', this function's name, in a string
#1300: FILE: fs/staging/ceph/osdmap.c:85:
+	dout(30, "crush_decode_list_bucket %p to %p\n", *p, end);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1301: FILE: fs/staging/ceph/osdmap.c:86:
+	b->item_weights = kmalloc(b->h.size * sizeof(u32), GFP_NOFS);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!b->item_weights"
#1302: FILE: fs/staging/ceph/osdmap.c:87:
+	if (b->item_weights == NULL)

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1304: FILE: fs/staging/ceph/osdmap.c:89:
+	b->sum_weights = kmalloc(b->h.size * sizeof(u32), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!b->sum_weights"
#1305: FILE: fs/staging/ceph/osdmap.c:90:
+	if (b->sum_weights == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1321: FILE: fs/staging/ceph/osdmap.c:106:
+	dout(30, "crush_decode_tree_bucket %p to %p\n", *p, end);
 	^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1321: FILE: fs/staging/ceph/osdmap.c:106:
+	int j;
+	dout(30, "crush_decode_tree_bucket %p to %p\n", *p, end);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode_tree_bucket', this function's name, in a string
#1321: FILE: fs/staging/ceph/osdmap.c:106:
+	dout(30, "crush_decode_tree_bucket %p to %p\n", *p, end);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1323: FILE: fs/staging/ceph/osdmap.c:108:
+	b->node_weights = kmalloc(b->num_nodes * sizeof(u32), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!b->node_weights"
#1324: FILE: fs/staging/ceph/osdmap.c:109:
+	if (b->node_weights == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1338: FILE: fs/staging/ceph/osdmap.c:123:
+	dout(30, "crush_decode_straw_bucket %p to %p\n", *p, end);
 	^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1338: FILE: fs/staging/ceph/osdmap.c:123:
+	int j;
+	dout(30, "crush_decode_straw_bucket %p to %p\n", *p, end);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode_straw_bucket', this function's name, in a string
#1338: FILE: fs/staging/ceph/osdmap.c:123:
+	dout(30, "crush_decode_straw_bucket %p to %p\n", *p, end);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1339: FILE: fs/staging/ceph/osdmap.c:124:
+	b->item_weights = kmalloc(b->h.size * sizeof(u32), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!b->item_weights"
#1340: FILE: fs/staging/ceph/osdmap.c:125:
+	if (b->item_weights == NULL)

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1342: FILE: fs/staging/ceph/osdmap.c:127:
+	b->straws = kmalloc(b->h.size * sizeof(u32), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!b->straws"
#1343: FILE: fs/staging/ceph/osdmap.c:128:
+	if (b->straws == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1364: FILE: fs/staging/ceph/osdmap.c:149:
+	dout(30, "crush_decode %p to %p len %d\n", *p, end, (int)(end - *p));
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode', this function's name, in a string
#1364: FILE: fs/staging/ceph/osdmap.c:149:
+	dout(30, "crush_decode %p to %p len %d\n", *p, end, (int)(end - *p));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!c"
#1367: FILE: fs/staging/ceph/osdmap.c:152:
+	if (c == NULL)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1370: FILE: fs/staging/ceph/osdmap.c:155:
+	ceph_decode_need(p, end, 4*sizeof(u32), bad);
 	                          ^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode', this function's name, in a string
#1373: FILE: fs/staging/ceph/osdmap.c:158:
+		derr(0, "crush_decode magic %x != current %x\n",

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1374: FILE: fs/staging/ceph/osdmap.c:159:
+		     (unsigned)magic, (unsigned)CRUSH_MAGIC);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1374: FILE: fs/staging/ceph/osdmap.c:159:
+		     (unsigned)magic, (unsigned)CRUSH_MAGIC);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1381: FILE: fs/staging/ceph/osdmap.c:166:
+	c->device_parents = kmalloc(c->max_devices * sizeof(u32), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!c->device_parents"
#1382: FILE: fs/staging/ceph/osdmap.c:167:
+	if (c->device_parents == NULL)

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1384: FILE: fs/staging/ceph/osdmap.c:169:
+	c->bucket_parents = kmalloc(c->max_buckets * sizeof(u32), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!c->bucket_parents"
#1385: FILE: fs/staging/ceph/osdmap.c:170:
+	if (c->bucket_parents == NULL)

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1388: FILE: fs/staging/ceph/osdmap.c:173:
+	c->buckets = kmalloc(c->max_buckets * sizeof(*c->buckets), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!c->buckets"
#1389: FILE: fs/staging/ceph/osdmap.c:174:
+	if (c->buckets == NULL)

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1391: FILE: fs/staging/ceph/osdmap.c:176:
+	c->rules = kmalloc(c->max_rules * sizeof(*c->rules), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!c->rules"
#1392: FILE: fs/staging/ceph/osdmap.c:177:
+	if (c->rules == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1406: FILE: fs/staging/ceph/osdmap.c:191:
+		dout(30, "crush_decode bucket %d off %x %p to %p\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode', this function's name, in a string
#1406: FILE: fs/staging/ceph/osdmap.c:191:
+		dout(30, "crush_decode bucket %d off %x %p to %p\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1407: FILE: fs/staging/ceph/osdmap.c:192:
+		     i, (int)(*p-start), *p, end);
 		                ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1425: FILE: fs/staging/ceph/osdmap.c:210:
+		BUG_ON(size == 0);

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1426: FILE: fs/staging/ceph/osdmap.c:211:
+		b = c->buckets[i] = kzalloc(size, GFP_NOFS);

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!b"
#1427: FILE: fs/staging/ceph/osdmap.c:212:
+		if (b == NULL)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1430: FILE: fs/staging/ceph/osdmap.c:215:
+		ceph_decode_need(p, end, 4*sizeof(u32), bad);
 		                          ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1437: FILE: fs/staging/ceph/osdmap.c:222:
+		dout(30, "crush_decode bucket size %d off %x %p to %p\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode', this function's name, in a string
#1437: FILE: fs/staging/ceph/osdmap.c:222:
+		dout(30, "crush_decode bucket size %d off %x %p to %p\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1438: FILE: fs/staging/ceph/osdmap.c:223:
+		     b->size, (int)(*p-start), *p, end);
 		                      ^

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1440: FILE: fs/staging/ceph/osdmap.c:225:
+		b->items = kmalloc(b->size * sizeof(__s32), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!b->items"
#1441: FILE: fs/staging/ceph/osdmap.c:226:
+		if (b->items == NULL)

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1443: FILE: fs/staging/ceph/osdmap.c:228:
+		b->perm = kmalloc(b->size * sizeof(u32), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!b->perm"
#1444: FILE: fs/staging/ceph/osdmap.c:229:
+		if (b->perm == NULL)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1448: FILE: fs/staging/ceph/osdmap.c:233:
+		ceph_decode_need(p, end, b->size*sizeof(u32), bad);
 		                                ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1455: FILE: fs/staging/ceph/osdmap.c:240:
+			err = crush_decode_uniform_bucket(p, end,
+				  (struct crush_bucket_uniform *)b);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1461: FILE: fs/staging/ceph/osdmap.c:246:
+			err = crush_decode_list_bucket(p, end,
+			       (struct crush_bucket_list *)b);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1467: FILE: fs/staging/ceph/osdmap.c:252:
+			err = crush_decode_tree_bucket(p, end,
+				(struct crush_bucket_tree *)b);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1473: FILE: fs/staging/ceph/osdmap.c:258:
+			err = crush_decode_straw_bucket(p, end,
+				(struct crush_bucket_straw *)b);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1481: FILE: fs/staging/ceph/osdmap.c:266:
+	dout(30, "rule vec is %p\n", c->rules);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1488: FILE: fs/staging/ceph/osdmap.c:273:
+			dout(30, "crush_decode NO rule %d off %x %p to %p\n",
 			^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode', this function's name, in a string
#1488: FILE: fs/staging/ceph/osdmap.c:273:
+			dout(30, "crush_decode NO rule %d off %x %p to %p\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1489: FILE: fs/staging/ceph/osdmap.c:274:
+			     i, (int)(*p-start), *p, end);
 			                ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1494: FILE: fs/staging/ceph/osdmap.c:279:
+		dout(30, "crush_decode rule %d off %x %p to %p\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode', this function's name, in a string
#1494: FILE: fs/staging/ceph/osdmap.c:279:
+		dout(30, "crush_decode rule %d off %x %p to %p\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1495: FILE: fs/staging/ceph/osdmap.c:280:
+		     i, (int)(*p-start), *p, end);
 		                ^

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1500: FILE: fs/staging/ceph/osdmap.c:285:
+		r = c->rules[i] = kmalloc(sizeof(*r) +

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1501: FILE: fs/staging/ceph/osdmap.c:286:
+					  yes*sizeof(struct crush_rule_step),
 					     ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!r"
#1503: FILE: fs/staging/ceph/osdmap.c:288:
+		if (r == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1505: FILE: fs/staging/ceph/osdmap.c:290:
+		dout(30, " rule %d is at %p\n", i, r);
 		^^^^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1508: FILE: fs/staging/ceph/osdmap.c:293:
+		ceph_decode_need(p, end, r->len*3*sizeof(u32), bad);
 		                               ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1508: FILE: fs/staging/ceph/osdmap.c:293:
+		ceph_decode_need(p, end, r->len*3*sizeof(u32), bad);
 		                                 ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1518: FILE: fs/staging/ceph/osdmap.c:303:
+	dout(30, "crush_decode success\n");
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode', this function's name, in a string
#1518: FILE: fs/staging/ceph/osdmap.c:303:
+	dout(30, "crush_decode success\n");

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1524: FILE: fs/staging/ceph/osdmap.c:309:
+	dout(30, "crush_decode fail %d\n", err);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'crush_decode', this function's name, in a string
#1524: FILE: fs/staging/ceph/osdmap.c:309:
+	dout(30, "crush_decode fail %d\n", err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1529: FILE: fs/staging/ceph/osdmap.c:314:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1535: FILE: fs/staging/ceph/osdmap.c:320:
+	dout(10, "osdmap_destroy %p\n", map);
 	^^^^

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#1554: FILE: fs/staging/ceph/osdmap.c:339:
+	state = kzalloc(max * sizeof(*state), GFP_NOFS);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#1555: FILE: fs/staging/ceph/osdmap.c:340:
+	addr = kzalloc(max * sizeof(*addr), GFP_NOFS);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#1556: FILE: fs/staging/ceph/osdmap.c:341:
+	weight = kzalloc(max * sizeof(*weight), GFP_NOFS);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!state"
#1557: FILE: fs/staging/ceph/osdmap.c:342:
+	if (state == NULL || addr == NULL || weight == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!addr"
#1557: FILE: fs/staging/ceph/osdmap.c:342:
+	if (state == NULL || addr == NULL || weight == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!weight"
#1557: FILE: fs/staging/ceph/osdmap.c:342:
+	if (state == NULL || addr == NULL || weight == NULL) {

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1566: FILE: fs/staging/ceph/osdmap.c:351:
+		memcpy(state, map->osd_state, map->max_osd*sizeof(*state));
 		                                          ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1567: FILE: fs/staging/ceph/osdmap.c:352:
+		memcpy(addr, map->osd_addr, map->max_osd*sizeof(*addr));
 		                                        ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1568: FILE: fs/staging/ceph/osdmap.c:353:
+		memcpy(weight, map->osd_weight, map->max_osd*sizeof(*weight));
 		                                            ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1592: FILE: fs/staging/ceph/osdmap.c:377:
+	dout(30, "osdmap_decode %p to %p len %d\n", *p, end, (int)(end - *p));
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'osdmap_decode', this function's name, in a string
#1592: FILE: fs/staging/ceph/osdmap.c:377:
+	dout(30, "osdmap_decode %p to %p len %d\n", *p, end, (int)(end - *p));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!map"
#1595: FILE: fs/staging/ceph/osdmap.c:380:
+	if (map == NULL)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1598: FILE: fs/staging/ceph/osdmap.c:383:
+	ceph_decode_need(p, end, 2*sizeof(u64)+6*sizeof(u32), bad);
 	                          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1598: FILE: fs/staging/ceph/osdmap.c:383:
+	ceph_decode_need(p, end, 2*sizeof(u64)+6*sizeof(u32), bad);
 	                                      ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1598: FILE: fs/staging/ceph/osdmap.c:383:
+	ceph_decode_need(p, end, 2*sizeof(u64)+6*sizeof(u32), bad);
 	                                        ^

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1610: FILE: fs/staging/ceph/osdmap.c:395:
+	map->pg_pool = kmalloc(map->num_pools * sizeof(*map->pg_pool),
+			       GFP_NOFS);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1618: FILE: fs/staging/ceph/osdmap.c:403:
+		ceph_decode_need(p, end, 4+sizeof(map->pg_pool->v), bad);
 		                          ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1638: FILE: fs/staging/ceph/osdmap.c:423:
+	dout(30, "osdmap_decode max_osd = %d\n", map->max_osd);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'osdmap_decode', this function's name, in a string
#1638: FILE: fs/staging/ceph/osdmap.c:423:
+	dout(30, "osdmap_decode max_osd = %d\n", map->max_osd);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1642: FILE: fs/staging/ceph/osdmap.c:427:
+	ceph_decode_need(p, end, 3*sizeof(u32) +
 	                          ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1643: FILE: fs/staging/ceph/osdmap.c:428:
+			 map->max_osd*(1 + sizeof(*map->osd_weight) +
 			             ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1653: FILE: fs/staging/ceph/osdmap.c:438:
+	ceph_decode_copy(p, map->osd_addr, map->max_osd*sizeof(*map->osd_addr));
 	                                               ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1657: FILE: fs/staging/ceph/osdmap.c:442:
+	dout(30, "osdmap_decode crush len %d from off 0x%x\n", len,
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'osdmap_decode', this function's name, in a string
#1657: FILE: fs/staging/ceph/osdmap.c:442:
+	dout(30, "osdmap_decode crush len %d from off 0x%x\n", len,

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1671: FILE: fs/staging/ceph/osdmap.c:456:
+	dout(30, "osdmap_decode done %p %p\n", *p, end);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'osdmap_decode', this function's name, in a string
#1671: FILE: fs/staging/ceph/osdmap.c:456:
+	dout(30, "osdmap_decode done %p %p\n", *p, end);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1675: FILE: fs/staging/ceph/osdmap.c:460:
+	dout(30, "osdmap_decode fail\n");
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'osdmap_decode', this function's name, in a string
#1675: FILE: fs/staging/ceph/osdmap.c:460:
+	dout(30, "osdmap_decode fail\n");

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1698: FILE: fs/staging/ceph/osdmap.c:483:
+	ceph_decode_need(p, end, sizeof(fsid)+sizeof(modified)+2*sizeof(u32),
 	                                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1698: FILE: fs/staging/ceph/osdmap.c:483:
+	ceph_decode_need(p, end, sizeof(fsid)+sizeof(modified)+2*sizeof(u32),
 	                                                      ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1698: FILE: fs/staging/ceph/osdmap.c:483:
+	ceph_decode_need(p, end, sizeof(fsid)+sizeof(modified)+2*sizeof(u32),
 	                                                        ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1705: FILE: fs/staging/ceph/osdmap.c:490:
+	BUG_ON(epoch != map->epoch+1);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1705: FILE: fs/staging/ceph/osdmap.c:490:
+	BUG_ON(epoch != map->epoch+1);
 	                          ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1713: FILE: fs/staging/ceph/osdmap.c:498:
+		dout(20, "apply_incremental full map len %d, %p to %p\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'apply_incremental', this function's name, in a string
#1713: FILE: fs/staging/ceph/osdmap.c:498:
+		dout(20, "apply_incremental full map len %d, %p to %p\n",

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1715: FILE: fs/staging/ceph/osdmap.c:500:
+		newmap = osdmap_decode(p, min(*p+len, end));
 		                                ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1722: FILE: fs/staging/ceph/osdmap.c:507:
+		dout(20, "apply_incremental new crush map len %d, %p to %p\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'apply_incremental', this function's name, in a string
#1722: FILE: fs/staging/ceph/osdmap.c:507:
+		dout(20, "apply_incremental new crush map len %d, %p to %p\n",

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1724: FILE: fs/staging/ceph/osdmap.c:509:
+		newcrush = crush_decode(*p, min(*p+len, end));
 		                                  ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1733: FILE: fs/staging/ceph/osdmap.c:518:
+	ceph_decode_need(p, end, 5*sizeof(u32), bad);
 	                          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1757: FILE: fs/staging/ceph/osdmap.c:542:
+			void *pg_pool = kzalloc((pool+1)*sizeof(*map->pg_pool),
 			                             ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1757: FILE: fs/staging/ceph/osdmap.c:542:
+			void *pg_pool = kzalloc((pool+1)*sizeof(*map->pg_pool),
 			                                ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1767: FILE: fs/staging/ceph/osdmap.c:552:
+			map->num_pools = pool+1;
 			                     ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1784: FILE: fs/staging/ceph/osdmap.c:569:
+		struct ceph_entity_addr addr;
+		ceph_decode_32_safe(p, end, osd, bad);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1786: FILE: fs/staging/ceph/osdmap.c:571:
+		dout(1, "osd%d up\n", osd);
 		^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1787: FILE: fs/staging/ceph/osdmap.c:572:
+		BUG_ON(osd >= map->max_osd);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1796: FILE: fs/staging/ceph/osdmap.c:581:
+		u32 osd;
+		ceph_decode_32_safe(p, end, osd, bad);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1798: FILE: fs/staging/ceph/osdmap.c:583:
+		dout(1, "osd%d down\n", osd);
 		^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1809: FILE: fs/staging/ceph/osdmap.c:594:
+		u32 osd, off;
+		ceph_decode_need(p, end, sizeof(u32)*2, bad);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1809: FILE: fs/staging/ceph/osdmap.c:594:
+		ceph_decode_need(p, end, sizeof(u32)*2, bad);
 		                                    ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1812: FILE: fs/staging/ceph/osdmap.c:597:
+		dout(1, "osd%d weight 0x%x %s\n", osd, off,
 		^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1831: FILE: fs/staging/ceph/osdmap.c:616:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1833: FILE: fs/staging/ceph/osdmap.c:618:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1854: FILE: fs/staging/ceph/osdmap.c:639:
+	dout(80, "mapping %llu~%llu  osize %u fl_su %u\n", off, *plen,
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1857: FILE: fs/staging/ceph/osdmap.c:642:
+	dout(80, "osize %u / su %u = su_per_object %u\n", osize, su,
 	^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1860: FILE: fs/staging/ceph/osdmap.c:645:
+	BUG_ON((su & ~PAGE_MASK) != 0);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1865: FILE: fs/staging/ceph/osdmap.c:650:
+	dout(80, "off %llu / su %u = bl %u\n", off, su, bl);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1872: FILE: fs/staging/ceph/osdmap.c:657:
+	dout(80, "objset %u * sc %u = bno %u\n", objsetno, sc, (unsigned)*bno);
 	^^^^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1872: FILE: fs/staging/ceph/osdmap.c:657:
+	dout(80, "objset %u * sc %u = bno %u\n", objsetno, sc, (unsigned)*bno);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1879: FILE: fs/staging/ceph/osdmap.c:664:
+	dout(80, " obj extent %llu~%llu\n", *oxoff, *oxlen);
 	^^^^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1891: FILE: fs/staging/ceph/osdmap.c:676:
+	unsigned num, num_mask;

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1925: FILE: fs/staging/ceph/osdmap.h:1:
+#ifndef _FS_CEPH_OSDMAP_H

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1966: FILE: fs/staging/ceph/osdmap.h:42:
+	 * the list of osds that store+replicate them. */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1980: FILE: fs/staging/ceph/osdmap.h:56:
+extern char *ceph_osdmap_state_str(char *str, int len, int state);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1990: FILE: fs/staging/ceph/osdmap.h:66:
+extern struct ceph_osdmap *osdmap_decode(void **p, void *end);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1991: FILE: fs/staging/ceph/osdmap.h:67:
+extern struct ceph_osdmap *apply_incremental(void **p, void *end,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1994: FILE: fs/staging/ceph/osdmap.h:70:
+extern void ceph_osdmap_destroy(struct ceph_osdmap *map);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1997: FILE: fs/staging/ceph/osdmap.h:73:
+extern void ceph_calc_file_object_mapping(struct ceph_file_layout *layout,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2002: FILE: fs/staging/ceph/osdmap.h:78:
+extern int ceph_calc_object_layout(struct ceph_object_layout *ol,

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000107377.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 1 errors, 162 warnings, 117 checks, 1924 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000107377.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
