WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#46: 
   git://git.kernel.org/pub/scm/linux/kernel/git/x86/linux-2.6-x86-bigbox-pci.git for-linus

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#74: 
      x86: seperate mmconf for fam10h out from setup_64.c
           ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'overriden' may be misspelled - perhaps 'overridden'?
#146: FILE: arch/x86/kernel/acpi/boot.c:783:
+	 * and (optionally) overriden by a LAPIC_ADDR_OVR entry (64-bit value).
 	                    ^^^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#153: FILE: arch/x86/kernel/acpi/boot.c:790:
+		printk(KERN_ERR PREFIX

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#176: FILE: arch/x86/kernel/acpi/boot.c:936:
+	if (!acpi_table_parse(ACPI_SIG_MADT, acpi_parse_madt)) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#189: FILE: arch/x86/kernel/acpi/boot.c:949:
+			printk(KERN_ERR PREFIX

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#225: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#230: FILE: arch/x86/kernel/mmconf-fam10h_64.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/io.h> instead of <asm/io.h>
#241: FILE: arch/x86/kernel/mmconf-fam10h_64.c:12:
+#include <asm/io.h>

Whenever asm/file.h is included and linux/file.h exists, a
conversion can be made when linux/file.h includes asm/file.h.
However this is not always the case (See signal.h).
This message type is emitted only for includes from arch/.

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/acpi.h> instead of <asm/acpi.h>
#243: FILE: arch/x86/kernel/mmconf-fam10h_64.c:14:
+#include <asm/acpi.h>

WARNING:MISPLACED_INIT: __cpuinitdata should be placed after fam10h_pci_mmconf_base
#254: FILE: arch/x86/kernel/mmconf-fam10h_64.c:25:
+static u64 __cpuinitdata fam10h_pci_mmconf_base;

It is possible to use section markers on variables in a way
which gcc doesn't understand (or at least not the way the
developer intended)::

  static struct __initdata samsung_pll_clock exynos4_plls[nr_plls] = {

does not put exynos4_plls in the .initdata section. The __initdata
marker can be virtually anywhere on the line, except right after
"struct". The preferred location is before the "=" sign if there is
one, or before the trailing ";" otherwise.

See: https://lore.kernel.org/lkml/1377655732.3619.19.camel@joe-AO722/

WARNING:MISPLACED_INIT: __cpuinitdata should be placed after fam10h_pci_mmconf_base_status
#255: FILE: arch/x86/kernel/mmconf-fam10h_64.c:26:
+static int __cpuinitdata fam10h_pci_mmconf_base_status;

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#281: FILE: arch/x86/kernel/mmconf-fam10h_64.c:52:
+#define FAM10H_PCI_MMCONF_BASE (0xfcULL<<32)
                                        ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'b' - possible side-effects?
#282: FILE: arch/x86/kernel/mmconf-fam10h_64.c:53:
+#define BASE_VALID(b) ((b != (0xfdULL << 32)) && (b != (0xfeULL << 32)))

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'b' may be better as '(b)' to avoid precedence issues
#282: FILE: arch/x86/kernel/mmconf-fam10h_64.c:53:
+#define BASE_VALID(b) ((b != (0xfdULL << 32)) && (b != (0xfeULL << 32)))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#286: FILE: arch/x86/kernel/mmconf-fam10h_64.c:57:
+	unsigned bus;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#287: FILE: arch/x86/kernel/mmconf-fam10h_64.c:58:
+	unsigned slot;

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#317: FILE: arch/x86/kernel/mmconf-fam10h_64.c:88:
+		device = (id>>16) & 0xffff;
 		            ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#333: FILE: arch/x86/kernel/mmconf-fam10h_64.c:104:
+	if (!(val & (1<<21))) {
 	              ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#339: FILE: arch/x86/kernel/mmconf-fam10h_64.c:110:
+		tom2 = val & (0xffffULL<<32);
 		                       ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#343: FILE: arch/x86/kernel/mmconf-fam10h_64.c:114:
+		base = tom2 + (1ULL<<32);
 		                   ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#354: FILE: arch/x86/kernel/mmconf-fam10h_64.c:125:
+		u64 end;
+		reg = read_pci_config(bus, slot, 1, 0x80 + (i << 3));

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'base > tom2'
#383: FILE: arch/x86/kernel/mmconf-fam10h_64.c:154:
+	if ((base > tom2) && BASE_VALID(base))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'base > tom2'
#386: FILE: arch/x86/kernel/mmconf-fam10h_64.c:157:
+	if ((base > tom2) && BASE_VALID(base))

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 8)
#389: FILE: arch/x86/kernel/mmconf-fam10h_64.c:160:
+	if (hi_mmio_num > 1)
+	for (i = 0; i < hi_mmio_num - 1; i++) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'base > tom2'
#393: FILE: arch/x86/kernel/mmconf-fam10h_64.c:164:
+			if ((base > tom2) && BASE_VALID(base))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#419: FILE: arch/x86/kernel/mmconf-fam10h_64.c:190:
+		unsigned busnbits;

WARNING:LINE_SPACING: Missing a blank line after declarations
#420: FILE: arch/x86/kernel/mmconf-fam10h_64.c:191:
+		unsigned busnbits;
+		busnbits = (val >> FAM10H_MMIO_CONF_BUSRANGE_SHIFT) &

WARNING:LINE_SPACING: Missing a blank line after declarations
#426: FILE: arch/x86/kernel/mmconf-fam10h_64.c:197:
+			u64 base;
+			base = val & (0xffffULL << 32);

CHECK:BRACES: braces {} should be used on all arms of this statement
#427: FILE: arch/x86/kernel/mmconf-fam10h_64.c:198:
+			if (fam10h_pci_mmconf_base_status <= 0) {
[...]
+			} else if (fam10h_pci_mmconf_base ==  base)
[...]

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#444: FILE: arch/x86/kernel/mmconf-fam10h_64.c:215:
+	printk(KERN_INFO "Enable MMCONFIG on AMD Family 10h\n");

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#445: FILE: arch/x86/kernel/mmconf-fam10h_64.c:216:
+	val &= ~((FAM10H_MMIO_CONF_BASE_MASK<<FAM10H_MMIO_CONF_BASE_SHIFT) |
 	                                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#446: FILE: arch/x86/kernel/mmconf-fam10h_64.c:217:
+	     (FAM10H_MMIO_CONF_BUSRANGE_MASK<<FAM10H_MMIO_CONF_BUSRANGE_SHIFT));
 	                                    ^

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#452: FILE: arch/x86/kernel/mmconf-fam10h_64.c:223:
+static int __devinit set_check_enable_amd_mmconf(const struct dmi_system_id *d)

ERROR:CODE_INDENT: code indent should use tabs where possible
#454: FILE: arch/x86/kernel/mmconf-fam10h_64.c:225:
+        pci_probe |= PCI_CHECK_ENABLE_AMD_MMCONF;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#454: FILE: arch/x86/kernel/mmconf-fam10h_64.c:225:
+        pci_probe |= PCI_CHECK_ENABLE_AMD_MMCONF;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#455: FILE: arch/x86/kernel/mmconf-fam10h_64.c:226:
+        return 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#455: FILE: arch/x86/kernel/mmconf-fam10h_64.c:226:
+        return 0;$

WARNING:HOTPLUG_SECTION: Using __devinitdata is unnecessary
#458: FILE: arch/x86/kernel/mmconf-fam10h_64.c:229:
+static struct dmi_system_id __devinitdata mmconf_dmi_table[] = {

WARNING:MISPLACED_INIT: __devinitdata should be placed after mmconf_dmi_table[]
#458: FILE: arch/x86/kernel/mmconf-fam10h_64.c:229:
+static struct dmi_system_id __devinitdata mmconf_dmi_table[] = {

ERROR:CODE_INDENT: code indent should use tabs where possible
#459: FILE: arch/x86/kernel/mmconf-fam10h_64.c:230:
+        {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#459: FILE: arch/x86/kernel/mmconf-fam10h_64.c:230:
+        {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#460: FILE: arch/x86/kernel/mmconf-fam10h_64.c:231:
+                .callback = set_check_enable_amd_mmconf,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#460: FILE: arch/x86/kernel/mmconf-fam10h_64.c:231:
+                .callback = set_check_enable_amd_mmconf,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#461: FILE: arch/x86/kernel/mmconf-fam10h_64.c:232:
+                .ident = "Sun Microsystems Machine",$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#461: FILE: arch/x86/kernel/mmconf-fam10h_64.c:232:
+                .ident = "Sun Microsystems Machine",$

ERROR:CODE_INDENT: code indent should use tabs where possible
#462: FILE: arch/x86/kernel/mmconf-fam10h_64.c:233:
+                .matches = {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#462: FILE: arch/x86/kernel/mmconf-fam10h_64.c:233:
+                .matches = {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#463: FILE: arch/x86/kernel/mmconf-fam10h_64.c:234:
+                        DMI_MATCH(DMI_SYS_VENDOR, "Sun Microsystems"),$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#463: FILE: arch/x86/kernel/mmconf-fam10h_64.c:234:
+                        DMI_MATCH(DMI_SYS_VENDOR, "Sun Microsystems"),$

ERROR:CODE_INDENT: code indent should use tabs where possible
#464: FILE: arch/x86/kernel/mmconf-fam10h_64.c:235:
+                },$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#464: FILE: arch/x86/kernel/mmconf-fam10h_64.c:235:
+                },$

ERROR:CODE_INDENT: code indent should use tabs where possible
#465: FILE: arch/x86/kernel/mmconf-fam10h_64.c:236:
+        },$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#465: FILE: arch/x86/kernel/mmconf-fam10h_64.c:236:
+        },$

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#499: FILE: arch/x86/kernel/setup_64.c:294:
+extern void __init check_enable_amd_mmconf_dmi(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#504: FILE: arch/x86/kernel/setup_64.c:299:
+}
+void __init check_enable_amd_mmconf_dmi(void)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#587: FILE: arch/x86/mm/k8topology_64.c:86:
+	unsigned apicid_base;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#599: FILE: arch/x86/mm/k8topology_64.c:209:
+		printk(KERN_INFO "BSP APIC ID: %02x\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#600: FILE: arch/x86/mm/k8topology_64.c:210:
+		printk(KERN_INFO "BSP APIC ID: %02x\n",
+				 boot_cpu_physical_apicid);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#690: FILE: arch/x86/pci/acpi.c:251:
+			printk(KERN_DEBUG "bus %02x -> pxm %d -> node %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#691: FILE: arch/x86/pci/acpi.c:252:
+			printk(KERN_DEBUG "bus %02x -> pxm %d -> node %d\n",
 				busnum, pxm, pxm_to_node(pxm));

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#726: FILE: arch/x86/pci/common.c:428:
 	}
+	else if (!strcmp(str, "check_enable_amd_mmconf")) {

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#769: FILE: arch/x86/pci/direct.c:261:
+	printk(KERN_INFO "PCI: Using configuration type %d for base access\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#770: FILE: arch/x86/pci/direct.c:262:
+	printk(KERN_INFO "PCI: Using configuration type %d for base access\n",
+		 type);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#899: FILE: arch/x86/pci/k8-bus_64.c:13:
 
+

WARNING:TYPO_SPELLING: 'enought' may be misspelled - perhaps 'enough'?
#902: FILE: arch/x86/pci/k8-bus_64.c:16:
+ * so need to make sure have enought slot there, increase PCI_BUS_NUM_RESOURCES?
                              ^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1013: FILE: arch/x86/pci/k8-bus_64.c:127:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1029: FILE: arch/x86/pci/k8-bus_64.c:143:
+				printk(KERN_ERR "run of slot in ranges\n");

WARNING:MINMAX: max() should probably be max_t(size_t, res->start, start)
#1055: FILE: arch/x86/pci/k8-bus_64.c:169:
+		common_start = max((size_t)res->start, start);

WARNING:MINMAX: min() should probably be min_t(size_t, res->end, end)
#1056: FILE: arch/x86/pci/k8-bus_64.c:170:
+		common_end = min((size_t)res->end, end);

WARNING:MINMAX: min() should probably be min_t(size_t, res->start, start)
#1060: FILE: arch/x86/pci/k8-bus_64.c:174:
+		final_start = min((size_t)res->start, start);

WARNING:MINMAX: max() should probably be max_t(size_t, res->end, end)
#1061: FILE: arch/x86/pci/k8-bus_64.c:175:
+		final_end = max((size_t)res->end, end);

WARNING:MISPLACED_INIT: __initdata should be placed after fam10h_mmconf_start
#1097: FILE: arch/x86/pci/k8-bus_64.c:211:
+static u64 __initdata fam10h_mmconf_start;

WARNING:MISPLACED_INIT: __initdata should be placed after fam10h_mmconf_end
#1098: FILE: arch/x86/pci/k8-bus_64.c:212:
+static u64 __initdata fam10h_mmconf_end;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1103: FILE: arch/x86/pci/k8-bus_64.c:217:
+	unsigned segn_busn_bits;

ERROR:CODE_INDENT: code indent should use tabs where possible
#1106: FILE: arch/x86/pci/k8-bus_64.c:220:
+        if (boot_cpu_data.x86 < 0x10)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1106: FILE: arch/x86/pci/k8-bus_64.c:220:
+        if (boot_cpu_data.x86 < 0x10)$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1116: FILE: arch/x86/pci/k8-bus_64.c:230:
+	base = msr & (FAM10H_MMIO_CONF_BASE_MASK<<FAM10H_MMIO_CONF_BASE_SHIFT);
 	                                        ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1122: FILE: arch/x86/pci/k8-bus_64.c:236:
+	fam10h_mmconf_end = base + (1ULL<<(segn_busn_bits + 20)) - 1;
 	                                ^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1183: FILE: arch/x86/pci/k8-bus_64.c:249:
+	unsigned bus;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1184: FILE: arch/x86/pci/k8-bus_64.c:250:
+	unsigned slot;

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#1218: FILE: arch/x86/pci/k8-bus_64.c:284:
+		device = (id>>16) & 0xffff;
 		            ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1233: FILE: arch/x86/pci/k8-bus_64.c:299:
+		int max_bus;
+		reg = read_pci_config(bus, slot, 1, 0xe0 + (i << 2));

CHECK:SPACING: No space is necessary after a cast
#1244: FILE: arch/x86/pci/k8-bus_64.c:310:
+			mp_bus_to_node[j] = (unsigned char) node;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1287: FILE: arch/x86/pci/k8-bus_64.c:353:
+		printk(KERN_DEBUG "node %d link %d: io port [%llx, %llx]\n",

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1316: FILE: arch/x86/pci/k8-bus_64.c:382:
+	range[0].end = (0xfdULL<<32) - 1;
 	                       ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1322: FILE: arch/x86/pci/k8-bus_64.c:388:
+	printk(KERN_INFO "TOM: %016lx aka %ldM\n", end, end>>20);

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#1322: FILE: arch/x86/pci/k8-bus_64.c:388:
+	printk(KERN_INFO "TOM: %016lx aka %ldM\n", end, end>>20);
 	                                                   ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1323: FILE: arch/x86/pci/k8-bus_64.c:389:
+	if (end < (1ULL<<32))
 	               ^

WARNING:LONG_LINE: line length of 107 exceeds 100 columns
#1330: FILE: arch/x86/pci/k8-bus_64.c:396:
+		printk(KERN_DEBUG "Fam 10h mmconf [%llx, %llx]\n", fam10h_mmconf_start, fam10h_mmconf_end);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1330: FILE: arch/x86/pci/k8-bus_64.c:396:
+		printk(KERN_DEBUG "Fam 10h mmconf [%llx, %llx]\n", fam10h_mmconf_start, fam10h_mmconf_end);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1360: FILE: arch/x86/pci/k8-bus_64.c:426:
+		printk(KERN_DEBUG "node %d link %d: mmio [%llx, %llx]",

WARNING:LINE_SPACING: Missing a blank line after declarations
#1369: FILE: arch/x86/pci/k8-bus_64.c:435:
+			u64 endx = 0;
+			if (start >= fam10h_mmconf_start &&

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_cont([subsystem]dev, ... then dev_cont(dev, ... then pr_cont(...  to printk(KERN_CONT ...
#1387: FILE: arch/x86/pci/k8-bus_64.c:453:
+				printk(KERN_CONT " ==> [%llx, %llx]", (u64)start, endx);

WARNING:LOGGING_CONTINUATION: Avoid logging continuation uses where feasible
#1387: FILE: arch/x86/pci/k8-bus_64.c:453:
+				printk(KERN_CONT " ==> [%llx, %llx]", (u64)start, endx);

WARNING:LONG_LINE: line length of 117 exceeds 100 columns
#1393: FILE: arch/x86/pci/k8-bus_64.c:459:
+					printk(KERN_CONT " %s [%llx, %llx]", endx?"and":"==>", (u64)start, (u64)end);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_cont([subsystem]dev, ... then dev_cont(dev, ... then pr_cont(...  to printk(KERN_CONT ...
#1393: FILE: arch/x86/pci/k8-bus_64.c:459:
+					printk(KERN_CONT " %s [%llx, %llx]", endx?"and":"==>", (u64)start, (u64)end);

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#1393: FILE: arch/x86/pci/k8-bus_64.c:459:
+					printk(KERN_CONT " %s [%llx, %llx]", endx?"and":"==>", (u64)start, (u64)end);
 					                                         ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1393: FILE: arch/x86/pci/k8-bus_64.c:459:
+					printk(KERN_CONT " %s [%llx, %llx]", endx?"and":"==>", (u64)start, (u64)end);
 					                                               ^

WARNING:LOGGING_CONTINUATION: Avoid logging continuation uses where feasible
#1393: FILE: arch/x86/pci/k8-bus_64.c:459:
+					printk(KERN_CONT " %s [%llx, %llx]", endx?"and":"==>", (u64)start, (u64)end);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_cont([subsystem]dev, ... then dev_cont(dev, ... then pr_cont(...  to printk(KERN_CONT ...
#1395: FILE: arch/x86/pci/k8-bus_64.c:461:
+					printk(KERN_CONT "%s\n", endx?"":" ==> none");

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#1395: FILE: arch/x86/pci/k8-bus_64.c:461:
+					printk(KERN_CONT "%s\n", endx?"":" ==> none");
 					                             ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1395: FILE: arch/x86/pci/k8-bus_64.c:461:
+					printk(KERN_CONT "%s\n", endx?"":" ==> none");
 					                                ^

WARNING:LOGGING_CONTINUATION: Avoid logging continuation uses where feasible
#1395: FILE: arch/x86/pci/k8-bus_64.c:461:
+					printk(KERN_CONT "%s\n", endx?"":" ==> none");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_cont([subsystem]dev, ... then dev_cont(dev, ... then pr_cont(...  to printk(KERN_CONT ...
#1403: FILE: arch/x86/pci/k8-bus_64.c:469:
+		printk(KERN_CONT "\n");

WARNING:LOGGING_CONTINUATION: Avoid logging continuation uses where feasible
#1403: FILE: arch/x86/pci/k8-bus_64.c:469:
+		printk(KERN_CONT "\n");

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1411: FILE: arch/x86/pci/k8-bus_64.c:477:
+	if (val & (1<<21)) {
 	            ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1416: FILE: arch/x86/pci/k8-bus_64.c:482:
+		printk(KERN_INFO "TOM2: %016lx aka %ldM\n", end, end>>20);

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#1416: FILE: arch/x86/pci/k8-bus_64.c:482:
+		printk(KERN_INFO "TOM2: %016lx aka %ldM\n", end, end>>20);
 		                                                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1417: FILE: arch/x86/pci/k8-bus_64.c:483:
+		update_range(range, 1ULL<<32, end - 1);
 		                        ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1445: FILE: arch/x86/pci/k8-bus_64.c:511:
+			printk(KERN_DEBUG "bus: %02x to node: %02x\n", i, node);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1456: FILE: arch/x86/pci/k8-bus_64.c:522:
+		printk(KERN_DEBUG "bus: [%02x,%02x] on node %x link %x\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1460: FILE: arch/x86/pci/k8-bus_64.c:526:
+			printk(KERN_DEBUG "bus: %02x index %x %s: [%llx, %llx]\n",

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#1462: FILE: arch/x86/pci/k8-bus_64.c:528:
+			       (res->flags & IORESOURCE_IO)?"io port":"mmio",
 			                                   ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1462: FILE: arch/x86/pci/k8-bus_64.c:528:
+			       (res->flags & IORESOURCE_IO)?"io port":"mmio",
 			                                             ^

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#1477: FILE: arch/x86/pci/legacy.c:12:
 static void __devinit pcibios_fixup_peer_bridges(void)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1530: FILE: arch/x86/pci/mmconfig-shared.c:108:
+	unsigned segnbits = 0, busnbits;

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1547: FILE: arch/x86/pci/mmconfig-shared.c:125:
+	base = msr & (FAM10H_MMIO_CONF_BASE_MASK<<FAM10H_MMIO_CONF_BASE_SHIFT);
 	                                        ^

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#1565: FILE: arch/x86/pci/mmconfig-shared.c:143:
+	pci_mmcfg_config = kzalloc(sizeof(pci_mmcfg_config[0]) *
+				   pci_mmcfg_config_num, GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1571: FILE: arch/x86/pci/mmconfig-shared.c:149:
+		pci_mmcfg_config[i].address = base + (1<<28) * i;
 		                                       ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mcfg_res->start >= fixmem32->address'
#1646: FILE: arch/x86/pci/mmconfig-shared.c:257:
+		if ((mcfg_res->start >= fixmem32->address) &&
+		    (mcfg_res->end < (fixmem32->address +
+				      fixmem32->address_length))) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'res->type != ACPI_RESOURCE_TYPE_ADDRESS32'
#1653: FILE: arch/x86/pci/mmconfig-shared.c:264:
+	if ((res->type != ACPI_RESOURCE_TYPE_ADDRESS32) &&
+	    (res->type != ACPI_RESOURCE_TYPE_ADDRESS64))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'res->type != ACPI_RESOURCE_TYPE_ADDRESS64'
#1653: FILE: arch/x86/pci/mmconfig-shared.c:264:
+	if ((res->type != ACPI_RESOURCE_TYPE_ADDRESS32) &&
+	    (res->type != ACPI_RESOURCE_TYPE_ADDRESS64))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'address.address_length <= 0'
#1658: FILE: arch/x86/pci/mmconfig-shared.c:269:
+	if (ACPI_FAILURE(status) ||
+	   (address.address_length <= 0) ||
+	   (address.resource_type != ACPI_MEMORY_RANGE))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'address.resource_type != ACPI_MEMORY_RANGE'
#1658: FILE: arch/x86/pci/mmconfig-shared.c:269:
+	if (ACPI_FAILURE(status) ||
+	   (address.address_length <= 0) ||
+	   (address.resource_type != ACPI_MEMORY_RANGE))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1659: FILE: arch/x86/pci/mmconfig-shared.c:270:
+	if (ACPI_FAILURE(status) ||
+	   (address.address_length <= 0) ||

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mcfg_res->start >= address.minimum'
#1663: FILE: arch/x86/pci/mmconfig-shared.c:274:
+	if ((mcfg_res->start >= address.minimum) &&
+	    (mcfg_res->end < (address.minimum + address.address_length))) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1726: FILE: arch/x86/pci/mmconfig-shared.c:328:
+		u32 size = (cfg->end_bus_number + 1) << 20;
+		cfg = &pci_mmcfg_config[i];

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#1727: FILE: arch/x86/pci/mmconfig-shared.c:329:
+		printk(KERN_NOTICE "PCI: MCFG configuration %d: base %lx "

WARNING:UNNECESSARY_MODIFIER: Integer promotion: Using 'h' in '%hu' is unnecessary
#1727: FILE: arch/x86/pci/mmconfig-shared.c:329:
+		printk(KERN_NOTICE "PCI: MCFG configuration %d: base %lx "
+		       "segment %hu buses %u - %u\n",
+		       i, (unsigned long)cfg->address, cfg->pci_segment,
+		       (unsigned int)cfg->start_bus_number,
+		       (unsigned int)cfg->end_bus_number);

WARNING:SPLIT_STRING: quoted string split across lines
#1728: FILE: arch/x86/pci/mmconfig-shared.c:330:
+		printk(KERN_NOTICE "PCI: MCFG configuration %d: base %lx "
+		       "segment %hu buses %u - %u\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#1735: FILE: arch/x86/pci/mmconfig-shared.c:337:
+			printk(KERN_NOTICE "PCI: MCFG area at %Lx reserved "

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#1735: FILE: arch/x86/pci/mmconfig-shared.c:337:
+			printk(KERN_NOTICE "PCI: MCFG area at %Lx reserved "

WARNING:SPLIT_STRING: quoted string split across lines
#1736: FILE: arch/x86/pci/mmconfig-shared.c:338:
+			printk(KERN_NOTICE "PCI: MCFG area at %Lx reserved "
+			       "in ACPI motherboard resources\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1745: FILE: arch/x86/pci/mmconfig-shared.c:347:
+			printk(KERN_ERR "PCI: BIOS Bug: MCFG area at %Lx is not"

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#1745: FILE: arch/x86/pci/mmconfig-shared.c:347:
+			printk(KERN_ERR "PCI: BIOS Bug: MCFG area at %Lx is not"

WARNING:SPLIT_STRING: quoted string split across lines
#1746: FILE: arch/x86/pci/mmconfig-shared.c:348:
+			printk(KERN_ERR "PCI: BIOS Bug: MCFG area at %Lx is not"
+			       " reserved in ACPI motherboard resources\n",

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1749: FILE: arch/x86/pci/mmconfig-shared.c:351:
+		/* Don't try to do this check unless configuration
+		   type 1 is available. how about type 2 ?*/

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1749: FILE: arch/x86/pci/mmconfig-shared.c:351:
+		   type 1 is available. how about type 2 ?*/

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1751: FILE: arch/x86/pci/mmconfig-shared.c:353:
+		if (raw_pci_ops && e820_all_mapped(cfg->address,
+						  cfg->address + size - 1,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#1753: FILE: arch/x86/pci/mmconfig-shared.c:355:
+			printk(KERN_NOTICE

WARNING:PRINTF_L: %Lx is non-standard C, use %llx
#1754: FILE: arch/x86/pci/mmconfig-shared.c:356:
+			       "PCI: MCFG area at %Lx reserved in E820\n",

WARNING:MISPLACED_INIT: __initdata should be placed after known_bridge
#1787: FILE: arch/x86/pci/mmconfig-shared.c:375:
+static int __initdata known_bridge;

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#1855: FILE: arch/x86/pci/mmconfig_64.c:130:
+	pci_mmcfg_virt = kzalloc(sizeof(*pci_mmcfg_virt) *
 				 pci_mmcfg_config_num, GFP_KERNEL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pci_mmcfg_virt"
#1875: FILE: arch/x86/pci/mmconfig_64.c:156:
+	if (pci_mmcfg_virt == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1895: FILE: arch/x86/pci/mp_bus_to_node.c:1:
+#include <linux/pci.h>

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 8)
#1905: FILE: arch/x86/pci/mp_bus_to_node.c:11:
+	if (busnum >= 0 &&  busnum < BUS_NR)
+	mp_bus_to_node[busnum] = (unsigned char) node;

CHECK:SPACING: No space is necessary after a cast
#1906: FILE: arch/x86/pci/mp_bus_to_node.c:12:
+	mp_bus_to_node[busnum] = (unsigned char) node;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1939: FILE: arch/x86/pci/pci.h:105:
+extern void __init pci_mmcfg_arch_free(void);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2014: FILE: drivers/pci/probe.c:845:
+int pci_cfg_space_size_ext(struct pci_dev *dev, unsigned check_exp_pcix)

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __weak over __attribute__((weak))
#2057: FILE: drivers/pci/probe.c:1091:
+void __attribute__((weak)) set_pci_bus_resources_arch_default(struct pci_bus *b)

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2091: FILE: include/asm-x86/pci.h:22:
+extern struct pci_bus *pci_scan_bus_on_node(int busno, struct pci_ops *ops,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2113: FILE: include/asm-x86/topology.h:205:
+extern int get_mp_bus_to_node(int busnum);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2114: FILE: include/asm-x86/topology.h:206:
+extern void set_mp_bus_to_node(int busnum, int node);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2120: FILE: include/asm-x86/topology.h:212:
+}
+static inline void set_mp_bus_to_node(int busnum, int node)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2166: FILE: include/linux/pci.h:669:
+int pci_cfg_space_size_ext(struct pci_dev *dev, unsigned check_exp_pcix);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2175: FILE: include/linux/pci.h:1058:
+extern void __init pci_mmcfg_early_init(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2176: FILE: include/linux/pci.h:1059:
+extern void __init pci_mmcfg_late_init(void);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000289954.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 11 errors, 90 warnings, 57 checks, 1890 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000289954.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
