WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#28: 
From: Brian Swetland <swetland@google.com>, Iliyan Malchev <ibm@android.com>, San Mehat <san@android.com>

WARNING:TYPO_SPELLING: 'neccessarry' may be misspelled - perhaps 'necessary'?
#30: 
rpcrouter code is neccessarry for communication with QDSP and thus
                  ^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#37: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#52: FILE: drivers/staging/dream/smd/Kconfig:11:
+config MSM_ONCRPCROUTER
+	depends on MSM_SMD
+	default y
+	bool "MSM ONCRPC router support"
+	help
+	  Support for the MSM ONCRPC router for communication between
+	  the ARM9 and ARM11
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#60: FILE: drivers/staging/dream/smd/Kconfig:19:
+config MSM_RPCSERVERS
+	depends on MSM_ONCRPCROUTER
+	default y
+	bool "Kernel side RPC server bundle"
+	help
+	  none
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#85: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:1:
+/* arch/arm/mach-msm/rpc_server_dog_keepalive.c

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#108: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:24:
+#if CONFIG_MSM_AMSS_VERSION==6210
                            ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#111: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:27:
+#elif (CONFIG_MSM_AMSS_VERSION==6220) || (CONFIG_MSM_AMSS_VERSION==6225)
                               ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#111: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:27:
+#elif (CONFIG_MSM_AMSS_VERSION==6220) || (CONFIG_MSM_AMSS_VERSION==6225)
                                                                  ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#114: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:30:
+#elif CONFIG_MSM_AMSS_VERSION==6350
                              ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#122: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:38:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'upated' may be misspelled - perhaps 'updated'?
#123: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:39:
+/* TODO: Remove server registration with _VERS when modem is upated with _COMP*/
                                                              ^^^^^^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#126: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:42:
+			   struct rpc_request_hdr *req, unsigned len)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#132: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:48:
+		printk(KERN_INFO "DOG KEEPALIVE PING\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#151: FILE: drivers/staging/dream/smd/rpc_server_dog_keepalive.c:67:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#159: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:1:
+/* arch/arm/mach-msm/rpc_server_time_remote.c

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#182: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:24:
+#if CONFIG_MSM_AMSS_VERSION==6210
                            ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#184: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:26:
+#elif (CONFIG_MSM_AMSS_VERSION==6220) || (CONFIG_MSM_AMSS_VERSION==6225)
                               ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#184: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:26:
+#elif (CONFIG_MSM_AMSS_VERSION==6220) || (CONFIG_MSM_AMSS_VERSION==6225)
                                                                  ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#186: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:28:
+#elif CONFIG_MSM_AMSS_VERSION==6350
                              ^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#195: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:37:
+	uint32_t tick;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#196: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:38:
+	uint64_t stamp;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#200: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:42:
+			   struct rpc_request_hdr *req, unsigned len)

WARNING:LINE_SPACING: Missing a blank line after declarations
#208: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:50:
+		struct rpc_time_tod_set_apps_bases_args *args;
+		args = (struct rpc_time_tod_set_apps_bases_args *)(req + 1);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#211: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:53:
+		printk(KERN_INFO "RPC_TIME_TOD_SET_APPS_BASES:\n"

CHECK:LINE_SPACING: Please don't use multiple blank lines
#234: FILE: drivers/staging/dream/smd/rpc_server_time_remote.c:76:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#242: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1:
+/* arch/arm/mach-msm/smd_rpcrouter.c

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#278: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:37:
+#include <asm/uaccess.h>

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#298: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:57:
+#define DIAG(x...) printk("[RR] ERROR " x)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#301: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:60:
+#define D(x...) printk(x)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#307: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:66:
+#define RR(x...) printk("[RR] "x)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#313: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:72:
+#define IO(x...) printk("[RPC] "x)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#319: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:78:
+#define NTFY(x...) printk(KERN_ERR "[NOTIFY] "x)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#344: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:103:
+static uint8_t next_pacmarkid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#361: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:120:
+	uint8_t *ptr;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#362: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:121:
+	uint32_t state; /* current assembly state */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#363: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:122:
+	uint32_t count; /* bytes needed in this state */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#373: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:132:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#381: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:140:
+		printk(KERN_ERR "rpcrouter_send_control_msg(): Warning, "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'rpcrouter_send_control_msg', this function's name, in a string
#381: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:140:
+		printk(KERN_ERR "rpcrouter_send_control_msg(): Warning, "

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:SPLIT_STRING: quoted string split across lines
#382: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:141:
+		printk(KERN_ERR "rpcrouter_send_control_msg(): Warning, "
+		       "router not initialized\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#410: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:169:
+static struct rr_server *rpcrouter_create_server(uint32_t pid,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#411: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:170:
+static struct rr_server *rpcrouter_create_server(uint32_t pid,
+							uint32_t cid,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#411: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:170:
+							uint32_t cid,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#412: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:171:
+							uint32_t prog,

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*server)...) over kmalloc(sizeof(struct rr_server)...)
#419: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:178:
+	server = kmalloc(sizeof(struct rr_server), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#458: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:217:
+static struct rr_server *rpcrouter_lookup_server(uint32_t prog, uint32_t ver)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#466: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:225:
+		if (server->prog == prog
+		 && server->vers == ver) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*ept)...) over kmalloc(sizeof(struct msm_rpc_endpoint)...)
#496: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:255:
+	ept = kmalloc(sizeof(struct msm_rpc_endpoint), GFP_KERNEL);

CHECK:SPACING: No space is necessary after a cast
#504: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:263:
+	ept->cid = (uint32_t) ept;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'dev != msm_rpcrouter_devno'
#508: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:267:
+	if ((dev != msm_rpcrouter_devno) && (dev != MKDEV(0, 0))) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'dev != MKDEV(0, 0)'
#508: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:267:
+	if ((dev != msm_rpcrouter_devno) && (dev != MKDEV(0, 0))) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#517: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:276:
+		BUG_ON(!srv);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_c)...) over kmalloc(sizeof(struct rr_remote_endpoint)...)
#568: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:327:
+	new_c = kmalloc(sizeof(struct rr_remote_endpoint), GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#625: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:384:
+		printk(KERN_ERR "rpcrouter: r2r msg size %d != %d\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#668: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:427:
+			printk(KERN_ERR

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#685: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:444:
+			server = rpcrouter_create_server(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#696: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:455:
+				rc = rpcrouter_create_remote_endpoint(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#699: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:458:
+					printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#701: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:460:
+						"rpcrouter:Client create"
+						"error (%d)\n", rc);

WARNING:MISSING_SPACE: break quoted strings at a space character
#701: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:460:
+						"rpcrouter:Client create"
+						"error (%d)\n", rc);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'server->pid == msg->srv.pid'
#706: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:465:
+			if ((server->pid == msg->srv.pid) &&
+			    (server->cid == msg->srv.cid)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'server->cid == msg->srv.cid'
#706: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:465:
+			if ((server->pid == msg->srv.pid) &&
+			    (server->cid == msg->srv.cid)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#708: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:467:
+				printk(KERN_ERR "rpcrouter: Duplicate svr\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#727: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:486:
+			printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#729: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:488:
+			       "rpcrouter: Denying remote removal of "
+			       "local client\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#741: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:500:
+		printk(KERN_ERR "rpcrouter: LOCAL NOTIFICATION NOT IMP\n");

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#742: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:501:
+		rc = -ENOSYS;

ENOSYS means that a nonexistent system call was called.
Earlier, it was wrongly used for things like invalid operations on
otherwise valid syscalls.  This should be avoided in new code.

See: https://lore.kernel.org/lkml/5eb299021dec23c1a48fa7d9f2c8b794e967766d.1408730669.git.luto@amacapital.net/

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#747: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:506:
+		rc = -ENOSYS;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#779: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:538:
+static void rpcrouter_smdnotify(void *_dev, unsigned event)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#789: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:548:
+static void *rr_malloc(unsigned sz)

WARNING:LINE_SPACING: Missing a blank line after declarations
#792: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:551:
+	void *ptr = kmalloc(sz, GFP_KERNEL);
+	if (ptr)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#795: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:554:
+	printk(KERN_ERR "rpcrouter: kmalloc of %d failed, retrying...\n", sz);

ERROR:SPACING: space required before the open parenthesis '('
#809: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:568:
+	for(;;) {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#829: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:588:
+static uint32_t r2r_buf[RPCROUTER_MSGSIZE_MAX];

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#837: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:596:
+	uint32_t pm, mid;

CHECK:SPACING: No space is necessary after a cast
#861: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:620:
+		process_control_msg((void*) r2r_buf, hdr.size);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#861: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:620:
+		process_control_msg((void*) r2r_buf, hdr.size);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#942: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:701:
+	printk(KERN_ERR "rpc_router has died\n");

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#947: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:706:
+		       uint32_t vers, uint32_t proc)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ept"
#962: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:721:
+	if (ept == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#977: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:736:
+	uint32_t pacmark;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#992: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:751:
+		printk(KERN_ERR "rr_write: rejecting runt packet\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#999: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:758:
+			printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1004: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:763:
+			printk(KERN_ERR "rr_write: not connected\n");

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'ept->dst_prog != rq->prog'
#1009: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:768:
+		if ((ept->dst_prog != rq->prog) ||
+			!msm_rpc_is_compatible_version(
+					be32_to_cpu(ept->dst_vers),
+					be32_to_cpu(rq->vers))) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1010: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:769:
+		if ((ept->dst_prog != rq->prog) ||
+			!msm_rpc_is_compatible_version(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1010: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:769:
+			!msm_rpc_is_compatible_version(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1016: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:775:
+			printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#1018: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:777:
+			       "rr_write: cannot write to %08x:%d "
+			       "(bound to %08x:%d)\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1035: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:794:
+			printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1040: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:799:
+			printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1059: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:818:
+		printk(KERN_ERR

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'msm_rpc_write', this function's name, in a string
#1060: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:819:
+			"msm_rpc_write(): No route to ept "

WARNING:SPLIT_STRING: quoted string split across lines
#1061: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:820:
+			"msm_rpc_write(): No route to ept "
+			"[PID %x CID %x]\n", hdr.dst_pid, hdr.dst_cid);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1079: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:838:
+^I^Iif (signal_pending(current) && $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1127: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:886:
+		 unsigned user_len, long timeout)

CHECK:SPACING: No space is necessary after a cast
#1141: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:900:
+		*buffer = (void*) frag;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1141: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:900:
+		*buffer = (void*) frag;

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "frag"
#1151: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:910:
+	while (frag != NULL) {

CHECK:SPACING: No space is necessary after a cast
#1202: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:961:
+		rc = msm_rpc_read(ept, (void*) &reply, -1, timeout);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1202: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:961:
+		rc = msm_rpc_read(ept, (void*) &reply, -1, timeout);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!_reply"
#1230: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:989:
+		if (_reply == NULL) {

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#1234: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:993:
+		if (rc > reply_size) {
[...]
+		} else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1246: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1005:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1251: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1010:
+	int ret;
+	spin_lock_irqsave(&ept->read_q_lock, flags);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1259: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1018:
+		   unsigned len, long timeout)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1273: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1032:
+			rc = wait_event_timeout(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1281: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1040:
+			rc = wait_event_interruptible(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1286: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1045:
+			rc = wait_event_interruptible_timeout(

CHECK:SPACING: No space is necessary after a cast
#1312: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1071:
+	rq = (void*) pkt->first->data;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1312: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1071:
+	rq = (void*) pkt->first->data;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'rq->type == 0'
#1313: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1072:
+	if ((rc >= (sizeof(uint32_t) * 3)) && (rq->type == 0)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1315: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1074:
+		IO("READ on ept %p is a CALL on %08x:%08x proc %d xid %d\n",
+			ept, be32_to_cpu(rq->prog), be32_to_cpu(rq->vers),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1320: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1079:
+			printk(KERN_WARNING

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1331: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1090:
+	else IO("READ on ept %p (%d bytes)\n", ept, rc);

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1339: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1098:
+int msm_rpc_is_compatible_version(uint32_t server_version,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1356: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1115:
+static int msm_rpc_get_compatible_server(uint32_t prog,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1357: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1116:
+static int msm_rpc_get_compatible_server(uint32_t prog,
+					uint32_t ver,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1357: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1116:
+					uint32_t ver,

WARNING:LINE_SPACING: Missing a blank line after declarations
#1362: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1121:
+	unsigned long     flags;
+	if (found_vers == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!found_vers"
#1362: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1121:
+	if (found_vers == NULL)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'server->prog == prog'
#1367: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1126:
+		if ((server->prog == prog) &&
+		    msm_rpc_is_compatible_version(server->vers, ver)) {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1379: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1138:
+struct msm_rpc_endpoint *msm_rpc_connect(uint32_t prog, uint32_t vers, unsigned flags)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1379: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1138:
+struct msm_rpc_endpoint *msm_rpc_connect(uint32_t prog, uint32_t vers, unsigned flags)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1386: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1145:
+		uint32_t found_vers;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1387: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1146:
+		uint32_t found_vers;
+		if (msm_rpc_get_compatible_server(prog, vers, &found_vers) < 0)

ERROR:CODE_INDENT: code indent should use tabs where possible
#1391: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1150:
+^I^I^I ^Iprog, vers, found_vers);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1391: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1150:
+^I^I^I ^Iprog, vers, found_vers);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1391: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1150:
+			D("RPC using new version %08x:{%08x --> %08x}\n",
+			 	prog, vers, found_vers);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1423: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1182:
+			    uint32_t prog, uint32_t vers)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1452: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1211:
+			      uint32_t prog, uint32_t vers)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1455: FILE: drivers/staging/dream/smd/smd_rpcrouter.c:1214:
+	struct rr_server *server;
+	server = rpcrouter_lookup_server(prog, vers);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1522: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:1:
+/** arch/arm/mach-msm/smd_rpcrouter.h

WARNING:TYPO_SPELLING: 'protcol' may be misspelled - perhaps 'protocol'?
#1551: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:30:
+/* definitions for the R2R wire protcol */
                                 ^^^^^^^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1575: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:54:
+	uint32_t cmd;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1577: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:56:
+		uint32_t cmd;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1578: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:57:
+		uint32_t prog;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1579: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:58:
+		uint32_t vers;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1580: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:59:
+		uint32_t pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1581: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:60:
+		uint32_t cid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1584: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:63:
+		uint32_t cmd;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1585: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:64:
+		uint32_t pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1586: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:65:
+		uint32_t cid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1591: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:70:
+	uint32_t version;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1592: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:71:
+	uint32_t type;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1593: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:72:
+	uint32_t src_pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1594: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:73:
+	uint32_t src_cid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1595: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:74:
+	uint32_t confirm_rx;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1596: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:75:
+	uint32_t size;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1597: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:76:
+	uint32_t dst_pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1598: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:77:
+	uint32_t dst_cid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1607: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:86:
+	uint32_t length;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1616: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:95:
+	uint32_t mid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1617: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:96:
+	uint32_t length;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1624: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:103:
+static inline uint32_t PACMARK(uint32_t len, uint32_t mid, uint32_t first,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1636: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:115:
+	uint32_t pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1637: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:116:
+	uint32_t cid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1638: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:117:
+	uint32_t prog;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1639: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:118:
+	uint32_t vers;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1649: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:128:
+	uint32_t pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1650: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:129:
+	uint32_t cid;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#1653: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:132:
+	spinlock_t quota_lock;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#1667: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:146:
+	spinlock_t read_q_lock;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1670: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:149:
+	unsigned flags;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1673: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:152:
+	uint32_t pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1674: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:153:
+	uint32_t cid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1680: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:159:
+	uint32_t dst_pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1681: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:160:
+	uint32_t dst_cid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1682: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:161:
+	uint32_t dst_prog; /* be32 */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1683: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:162:
+	uint32_t dst_vers; /* be32 */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1690: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:169:
+	uint32_t reply_pid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1691: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:170:
+	uint32_t reply_cid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1692: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:171:
+	uint32_t reply_xid; /* be32 */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1693: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:172:
+	uint32_t next_pm;   /* Pacmark sequence */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1703: FILE: drivers/staging/dream/smd/smd_rpcrouter.h:182:
+		   unsigned len, long timeout);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1723: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:1:
+/* arch/arm/mach-msm/smd_rpcrouter_device.c

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#1755: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:33:
+#include <asm/uaccess.h>

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1771: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:49:
+static int rpcrouter_open(struct inode *inode, struct file *filp)
                                                             ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1776: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:54:
+	rc = nonseekable_open(inode, filp);
 	                             ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1788: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:66:
+static int rpcrouter_release(struct inode *inode, struct file *filp)
                                                                ^^^^

CHECK:SPACING: No space is necessary after a cast
#1791: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:69:
+	ept = (struct msm_rpc_endpoint *) filp->private_data;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1791: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:69:
+	struct msm_rpc_endpoint *ept;
+	ept = (struct msm_rpc_endpoint *) filp->private_data;

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1796: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:74:
+static ssize_t rpcrouter_read(struct file *filp, char __user *buf,
                                            ^^^^

CHECK:SPACING: No space is necessary after a cast
#1803: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:81:
+	ept = (struct msm_rpc_endpoint *) filp->private_data;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1811: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:89:
+^Iwhile (frag != NULL) {^I^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "frag"
#1811: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:89:
+	while (frag != NULL) {		

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1813: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:91:
+			printk(KERN_ERR

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1826: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:104:
+static ssize_t rpcrouter_write(struct file *filp, const char __user *buf,
                                             ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1827: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:105:
+static ssize_t rpcrouter_write(struct file *filp, const char __user *buf,
+				size_t count, loff_t *ppos)

CHECK:SPACING: No space is necessary after a cast
#1833: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:111:
+	ept = (struct msm_rpc_endpoint *) filp->private_data;

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1858: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:136:
+static unsigned int rpcrouter_poll(struct file *filp,
                                                 ^^^^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1862: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:140:
+	unsigned mask = 0;

CHECK:SPACING: No space is necessary after a cast
#1863: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:141:
+	ept = (struct msm_rpc_endpoint *) filp->private_data;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1863: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:141:
+	unsigned mask = 0;
+	ept = (struct msm_rpc_endpoint *) filp->private_data;

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1873: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:151:
+		poll_wait(filp, &ept->wait_q, wait);
 		          ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1881: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:159:
+static long rpcrouter_ioctl(struct file *filp, unsigned int cmd,
                                          ^^^^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1887: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:165:
+	uint32_t n;

CHECK:SPACING: No space is necessary after a cast
#1889: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:167:
+	ept = (struct msm_rpc_endpoint *) filp->private_data;

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1891: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:169:
+	switch (cmd) {
+

CHECK:SPACING: No space is necessary after a cast
#1894: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:172:
+		rc = put_user(n, (unsigned int *) arg);

CHECK:SPACING: No space is necessary after a cast
#1902: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:180:
+		rc = put_user(n, (unsigned int *) arg);

CHECK:SPACING: No space is necessary after a cast
#1906: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:184:
+		rc = copy_from_user(&server_args, (void *) arg,

CHECK:SPACING: No space is necessary after a cast
#1916: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:194:
+		rc = copy_from_user(&server_args, (void *) arg,

WARNING:CONST_STRUCT: struct file_operations should normally be const
#1939: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:217:
+static struct file_operations rpcrouter_server_fops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:CONST_STRUCT: struct file_operations should normally be const
#1949: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:227:
+static struct file_operations rpcrouter_router_fops = {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1962: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:240:
+	uint32_t dev_vers;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1965: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:243:
+		printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#1967: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:245:
+		       "rpcrouter: Minor numbers exhausted - Increase "
+		       "RPCROUTER_MAX_REMOTE_SERVERS\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1994: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:272:
+		printk(KERN_ERR

WARNING:ONE_SEMICOLON: Statements terminations use 1 semicolon
#1997: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:275:
+		return PTR_ERR(server->device);;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2005: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:283:
+		printk(KERN_ERR

WARNING:TYPO_SPELLING: 'neccessary' may be misspelled - perhaps 'necessary'?
#2015: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:293:
+ * is neccessary for driver binding
       ^^^^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2047: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:325:
+		printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2056: FILE: drivers/staging/dream/smd/smd_rpcrouter_device.c:334:
+		printk(KERN_ERR

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2105: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:1:
+/* arch/arm/mach-msm/rpc_servers.c

WARNING:LINE_SPACING: Missing a blank line after declarations
#2153: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:49:
+	int rc;
+	rc = msm_rpc_register_server(endpoint, server->prog, server->vers);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2155: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:51:
+		printk(KERN_ERR "[rpcserver] error registering %p @ %08x:%d\n",

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2159: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:55:
+static struct msm_rpc_server *rpc_server_find(uint32_t prog, uint32_t vers)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'server->prog == prog'
#2165: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:61:
+		if ((server->prog == prog) &&
+#if CONFIG_MSM_AMSS_VERSION >= 6350
+		    msm_rpc_is_compatible_version(server->vers, vers)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2166: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:62:
+		if ((server->prog == prog) &&
+#if CONFIG_MSM_AMSS_VERSION >= 6350

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2211: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:107:
+					uint32_t xid, uint32_t accept_status)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#2214: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:110:
+	uint8_t reply_buf[sizeof(struct rpc_reply_hdr)];

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2227: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:123:
+		printk(KERN_ERR

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2229: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:125:
+		       __FUNCTION__, rc);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2244: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:140:
+		rc = wait_event_interruptible(endpoint->wait_q,
+						!list_empty(&endpoint->read_q));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2248: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:144:
+			printk(KERN_ERR "%s: could not read: %d\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2249: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:145:
+			       __FUNCTION__, rc);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2268: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:164:
+			rpc_send_accepted_void_reply(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2278: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:174:
+			rpc_send_accepted_void_reply(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2283: FILE: drivers/staging/dream/smd/smd_rpcrouter_servers.c:179:
+			rpc_send_accepted_void_reply(

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000097975.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 17 errors, 95 warnings, 119 checks, 2250 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000097975.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
