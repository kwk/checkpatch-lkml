WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#67: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#72: FILE: fs/ceph/mds_client.c:1:
+

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:LINE_SPACING: Please don't use multiple blank lines
#123: FILE: fs/ceph/mds_client.c:52:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#173: FILE: fs/ceph/mds_client.c:102:
+			sizeof(u32)*le32_to_cpu(info->dirfrag->ndist);
 			           ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#215: FILE: fs/ceph/mds_client.c:144:
+		sizeof(u32)*le32_to_cpu(info->dir_dir->ndist);
 		           ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!info->dir_in"
#233: FILE: fs/ceph/mds_client.c:162:
+	if (info->dir_in == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#243: FILE: fs/ceph/mds_client.c:172:
+		ceph_decode_need(p, end, sizeof(u32)*2, bad);
 		                                    ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#248: FILE: fs/ceph/mds_client.c:177:
+		dout("parsed dir dname '%.*s'\n", info->dir_dname_len[i],
 		^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#290: FILE: fs/ceph/mds_client.c:219:
+		err = parse_reply_info_trace(&p, p+len, info);
 		                                  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#298: FILE: fs/ceph/mds_client.c:227:
+		err = parse_reply_info_dir(&p, p+len, info);
 		                                ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#325: FILE: fs/ceph/mds_client.c:254:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#344: FILE: fs/ceph/mds_client.c:273:
+	dout("mdsc get_session %p %d -> %d\n", s,
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'get_session', this function's name, in a string
#344: FILE: fs/ceph/mds_client.c:273:
+	dout("mdsc get_session %p %d -> %d\n", s,

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#345: FILE: fs/ceph/mds_client.c:274:
+	     atomic_read(&s->s_ref), atomic_read(&s->s_ref)+1);
 	                                                   ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#352: FILE: fs/ceph/mds_client.c:281:
+	dout("mdsc put_session %p %d -> %d\n", s,
 	^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#353: FILE: fs/ceph/mds_client.c:282:
+	     atomic_read(&s->s_ref), atomic_read(&s->s_ref)-1);
 	                                                   ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mdsc->sessions[mds]"
#366: FILE: fs/ceph/mds_client.c:295:
+	if (mds >= mdsc->max_sessions || mdsc->sessions[mds] == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#369: FILE: fs/ceph/mds_client.c:298:
+	dout("lookup_mds_session %p %d -> %d\n", session,
 	^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#370: FILE: fs/ceph/mds_client.c:299:
+	     atomic_read(&session->s_ref), atomic_read(&session->s_ref)+1);
 	                                                               ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#412: FILE: fs/ceph/mds_client.c:341:
+	dout("register_session mds%d\n", mds);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'register_session', this function's name, in a string
#412: FILE: fs/ceph/mds_client.c:341:
+	dout("register_session mds%d\n", mds);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#414: FILE: fs/ceph/mds_client.c:343:
+		int newmax = 1 << get_count_order(mds+1);
 		                                     ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#417: FILE: fs/ceph/mds_client.c:346:
+		dout("register_session realloc to %d\n", newmax);
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'register_session', this function's name, in a string
#417: FILE: fs/ceph/mds_client.c:346:
+		dout("register_session realloc to %d\n", newmax);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!sa"
#419: FILE: fs/ceph/mds_client.c:348:
+		if (sa == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#439: FILE: fs/ceph/mds_client.c:368:
+	dout("unregister_session mds%d %p\n", mds, mdsc->sessions[mds]);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'unregister_session', this function's name, in a string
#439: FILE: fs/ceph/mds_client.c:368:
+	dout("unregister_session mds%d %p\n", mds, mdsc->sessions[mds]);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#463: FILE: fs/ceph/mds_client.c:392:
+	dout("mdsc put_request %p %d -> %d\n", req,
 	^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#464: FILE: fs/ceph/mds_client.c:393:
+	     atomic_read(&req->r_ref), atomic_read(&req->r_ref)-1);
 	                                                       ^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#475: FILE: fs/ceph/mds_client.c:404:
+			iput(req->r_inode);
 			^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#481: FILE: fs/ceph/mds_client.c:410:
+			iput(req->r_target_inode);
 			^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#503: FILE: fs/ceph/mds_client.c:432:
+static struct ceph_mds_request *__lookup_request(struct ceph_mds_client *mdsc,
+					     u64 tid)

WARNING:LINE_SPACING: Missing a blank line after declarations
#506: FILE: fs/ceph/mds_client.c:435:
+	struct ceph_mds_request *req;
+	req = radix_tree_lookup(&mdsc->request_tree, tid);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#525: FILE: fs/ceph/mds_client.c:454:
+	dout("__register_request %p tid %lld\n", req, req->r_tid);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using '__register_request', this function's name, in a string
#525: FILE: fs/ceph/mds_client.c:454:
+	dout("__register_request %p tid %lld\n", req, req->r_tid);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#542: FILE: fs/ceph/mds_client.c:471:
+	dout("__unregister_request %p tid %lld\n", req, req->r_tid);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using '__unregister_request', this function's name, in a string
#542: FILE: fs/ceph/mds_client.c:471:
+	dout("__unregister_request %p tid %lld\n", req, req->r_tid);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#581: FILE: fs/ceph/mds_client.c:510:
+		dout("choose_mds using resend_mds mds%d\n",
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#601: FILE: fs/ceph/mds_client.c:530:
+	dout("__choose_mds %p is_hash=%d (%d) mode %d\n", inode, (int)is_hash,
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using '__choose_mds', this function's name, in a string
#601: FILE: fs/ceph/mds_client.c:530:
+	dout("__choose_mds %p is_hash=%d (%d) mode %d\n", inode, (int)is_hash,

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#620: FILE: fs/ceph/mds_client.c:549:
+				dout("choose_mds %p %llx.%llx "
 				^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#621: FILE: fs/ceph/mds_client.c:550:
+				dout("choose_mds %p %llx.%llx "
+				     "frag %u mds%d (%d/%d)\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#630: FILE: fs/ceph/mds_client.c:559:
+			 * authoritative mds. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#635: FILE: fs/ceph/mds_client.c:564:
+				dout("choose_mds %p %llx.%llx "
 				^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#636: FILE: fs/ceph/mds_client.c:565:
+				dout("choose_mds %p %llx.%llx "
+				     "frag %u mds%d (auth)\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#654: FILE: fs/ceph/mds_client.c:583:
+	dout("choose_mds %p %llx.%llx mds%d (%scap %p)\n",
 	^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#655: FILE: fs/ceph/mds_client.c:584:
+^I     inode, ceph_vinop(inode), mds, $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#662: FILE: fs/ceph/mds_client.c:591:
+	dout("choose_mds chose random mds%d\n", mds);
 	^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#666: FILE: fs/ceph/mds_client.c:595:
+
+

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_session_msg', this function's name, in a string
#677: FILE: fs/ceph/mds_client.c:606:
+		pr_err("ceph create_session_msg ENOMEM creating msg\n");

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#701: FILE: fs/ceph/mds_client.c:630:
+	dout("open_session to mds%d (%s)\n", mds,
 	^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#749: FILE: fs/ceph/mds_client.c:678:
+static int iterate_session_caps(struct ceph_mds_session *session,
+				 int (*cb)(struct inode *, struct ceph_cap *,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#750: FILE: fs/ceph/mds_client.c:679:
+				 int (*cb)(struct inode *, struct ceph_cap *,
+					    void *), void *arg)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#756: FILE: fs/ceph/mds_client.c:685:
+	dout("iterate_session_caps %p mds%d\n", session, session->s_mds);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'iterate_session_caps', this function's name, in a string
#756: FILE: fs/ceph/mds_client.c:685:
+	dout("iterate_session_caps %p mds%d\n", session, session->s_mds);

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#764: FILE: fs/ceph/mds_client.c:693:
+		iput(inode);
 		^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#775: FILE: fs/ceph/mds_client.c:704:
+static int remove_session_caps_cb(struct inode *inode, struct ceph_cap *cap,
+				   void *arg)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#778: FILE: fs/ceph/mds_client.c:707:
+	dout("removing cap %p, ci is %p, inode is %p\n",
 	^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#778: FILE: fs/ceph/mds_client.c:707:
+	struct ceph_inode_info *ci = ceph_inode(inode);
+	dout("removing cap %p, ci is %p, inode is %p\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#789: FILE: fs/ceph/mds_client.c:718:
+	dout("remove_session_caps on %p\n", session);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'remove_session_caps', this function's name, in a string
#789: FILE: fs/ceph/mds_client.c:718:
+	dout("remove_session_caps on %p\n", session);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#791: FILE: fs/ceph/mds_client.c:720:
+	BUG_ON(session->s_nr_caps > 0);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:SPLIT_STRING: quoted string split across lines
#809: FILE: fs/ceph/mds_client.c:738:
+		pr_err("ceph failed reconnect %p %llx.%llx cap %p "
+		       "(gen %d < session %d)\n", inode, ceph_vinop(inode),

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#820: FILE: fs/ceph/mds_client.c:749:
+	dout("wake_up_session_caps %p mds%d\n", session, session->s_mds);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'wake_up_session_caps', this function's name, in a string
#820: FILE: fs/ceph/mds_client.c:749:
+	dout("wake_up_session_caps %p mds%d\n", session, session->s_mds);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#841: FILE: fs/ceph/mds_client.c:770:
+	 * with its clients. */

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#844: FILE: fs/ceph/mds_client.c:773:
+		dout("send_renew_caps ignoring mds%d (%s)\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'send_renew_caps', this function's name, in a string
#844: FILE: fs/ceph/mds_client.c:773:
+		dout("send_renew_caps ignoring mds%d (%s)\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#849: FILE: fs/ceph/mds_client.c:778:
+	dout("send_renew_caps to mds%d (%s)\n", session->s_mds,
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'send_renew_caps', this function's name, in a string
#849: FILE: fs/ceph/mds_client.c:778:
+	dout("send_renew_caps to mds%d (%s)\n", session->s_mds,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#850: FILE: fs/ceph/mds_client.c:779:
+	dout("send_renew_caps to mds%d (%s)\n", session->s_mds,
+		ceph_mds_state_name(state));

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#873: FILE: fs/ceph/mds_client.c:802:
+		mdsc->mdsmap->m_session_timeout*HZ;
 		                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#880: FILE: fs/ceph/mds_client.c:809:
+			pr_info("ceph mds%d caps still stale\n",session->s_mds);
 			                                       ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#883: FILE: fs/ceph/mds_client.c:812:
+	dout("renewed_caps mds%d ttl now %lu, was %s, now %s\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'renewed_caps', this function's name, in a string
#883: FILE: fs/ceph/mds_client.c:812:
+	dout("renewed_caps mds%d ttl now %lu, was %s, now %s\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#901: FILE: fs/ceph/mds_client.c:830:
+	dout("request_close_session mds%d state %s seq %lld\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'request_close_session', this function's name, in a string
#901: FILE: fs/ceph/mds_client.c:830:
+	dout("request_close_session mds%d state %s seq %lld\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#917: FILE: fs/ceph/mds_client.c:846:
+static int __close_session(struct ceph_mds_client *mdsc,
+			 struct ceph_mds_session *session)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#949: FILE: fs/ceph/mds_client.c:878:
+	dout("trim_caps_cb %p cap %p mine %s oissued %s used %s\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'trim_caps_cb', this function's name, in a string
#949: FILE: fs/ceph/mds_client.c:878:
+	dout("trim_caps_cb %p cap %p mine %s oissued %s used %s\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#965: FILE: fs/ceph/mds_client.c:894:
+		dout("trim_caps_cb %p cap %p  pruned, count now %d\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'trim_caps_cb', this function's name, in a string
#965: FILE: fs/ceph/mds_client.c:894:
+		dout("trim_caps_cb %p cap %p  pruned, count now %d\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#984: FILE: fs/ceph/mds_client.c:913:
+	dout("trim_caps mds%d start: %d / %d, trim %d\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'trim_caps', this function's name, in a string
#984: FILE: fs/ceph/mds_client.c:913:
+	dout("trim_caps mds%d start: %d / %d, trim %d\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#989: FILE: fs/ceph/mds_client.c:918:
+		dout("trim_caps mds%d done: %d / %d, trimmed %d\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'trim_caps', this function's name, in a string
#989: FILE: fs/ceph/mds_client.c:918:
+		dout("trim_caps mds%d done: %d / %d, trimmed %d\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1030: FILE: fs/ceph/mds_client.c:959:
+		dout("add_cap_releases %p msg %p now %d\n", session, msg,
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'add_cap_releases', this function's name, in a string
#1030: FILE: fs/ceph/mds_client.c:959:
+		dout("add_cap_releases %p msg %p now %d\n", session, msg,

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1046: FILE: fs/ceph/mds_client.c:975:
+			dout(" queueing non-full %p (%d)\n", msg,
 			^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1049: FILE: fs/ceph/mds_client.c:978:
+			list_move_tail(&msg->list_head,
+				      &session->s_cap_releases_done);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1069: FILE: fs/ceph/mds_client.c:998:
+	dout("check_cap_flush want %lld\n", want_flush_seq);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'check_cap_flush', this function's name, in a string
#1069: FILE: fs/ceph/mds_client.c:998:
+	dout("check_cap_flush want %lld\n", want_flush_seq);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1089: FILE: fs/ceph/mds_client.c:1018:
+				dout("check_cap_flush still flushing %p "
 				^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'check_cap_flush', this function's name, in a string
#1089: FILE: fs/ceph/mds_client.c:1018:
+				dout("check_cap_flush still flushing %p "

WARNING:SPLIT_STRING: quoted string split across lines
#1090: FILE: fs/ceph/mds_client.c:1019:
+				dout("check_cap_flush still flushing %p "
+				     "seq %lld <= %lld to mds%d\n", inode,

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1106: FILE: fs/ceph/mds_client.c:1035:
+	dout("check_cap_flush ok, flushed thru %lld\n", want_flush_seq);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'check_cap_flush', this function's name, in a string
#1106: FILE: fs/ceph/mds_client.c:1035:
+	dout("check_cap_flush ok, flushed thru %lld\n", want_flush_seq);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1114: FILE: fs/ceph/mds_client.c:1043:
+static void send_cap_releases(struct ceph_mds_client *mdsc,
+		       struct ceph_mds_session *session)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1118: FILE: fs/ceph/mds_client.c:1047:
+	dout("send_cap_releases mds%d\n", session->s_mds);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'send_cap_releases', this function's name, in a string
#1118: FILE: fs/ceph/mds_client.c:1047:
+	dout("send_cap_releases mds%d\n", session->s_mds);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1124: FILE: fs/ceph/mds_client.c:1053:
+		msg = list_first_entry(&session->s_cap_releases_done,
+				 struct ceph_msg, list_head);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1128: FILE: fs/ceph/mds_client.c:1057:
+		dout("send_cap_releases mds%d %p\n", session->s_mds, msg);
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'send_cap_releases', this function's name, in a string
#1128: FILE: fs/ceph/mds_client.c:1057:
+		dout("send_cap_releases mds%d %p\n", session->s_mds, msg);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1172: FILE: fs/ceph/mds_client.c:1101:
+	struct ceph_mds_request *first;
+	if (radix_tree_gang_lookup(&mdsc->request_tree,

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!dentry"
#1195: FILE: fs/ceph/mds_client.c:1124:
+	if (dentry == NULL)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1202: FILE: fs/ceph/mds_client.c:1131:
+		struct inode *inode = temp->d_inode;
+		if (inode && ceph_snap(inode) == CEPH_SNAPDIR)

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#1207: FILE: fs/ceph/mds_client.c:1136:
+			break;
+		else

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!temp"
#1210: FILE: fs/ceph/mds_client.c:1139:
+		if (temp == NULL) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1219: FILE: fs/ceph/mds_client.c:1148:
+	path = kmalloc(len+1, GFP_NOFS);
 	                  ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!path"
#1220: FILE: fs/ceph/mds_client.c:1149:
+	if (path == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1228: FILE: fs/ceph/mds_client.c:1157:
+			dout("build_path_dentry path+%d: %p SNAPDIR\n",
 			^^^^

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#1233: FILE: fs/ceph/mds_client.c:1162:
+			break;
+		} else {

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1239: FILE: fs/ceph/mds_client.c:1168:
+			dout("build_path_dentry path+%d: %p '%.*s'\n",
 			^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!temp"
#1245: FILE: fs/ceph/mds_client.c:1174:
+		if (temp == NULL) {

WARNING:SPLIT_STRING: quoted string split across lines
#1253: FILE: fs/ceph/mds_client.c:1182:
+		pr_err("ceph build_path_dentry did not end path lookup where "
+		       "expected, namelen is %d, pos is %d\n", len, pos);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1255: FILE: fs/ceph/mds_client.c:1184:
+		/* presumably this is only possible if racing with a
+		   rename of one of the parent directories (we can not

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1257: FILE: fs/ceph/mds_client.c:1186:
+		   retrying should be harmless) */

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1264: FILE: fs/ceph/mds_client.c:1193:
+	dout("build_path_dentry on %p %d built %llx '%.*s'\n",
 	^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1316: FILE: fs/ceph/mds_client.c:1245:
+static int set_request_path_attr(struct inode *rinode, struct dentry *rdentry,
+				  const char *rpath, u64 rino,

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1324: FILE: fs/ceph/mds_client.c:1253:
+		dout(" inode %p %llx.%llx\n", rinode, ceph_ino(rinode),
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1328: FILE: fs/ceph/mds_client.c:1257:
+		dout(" dentry %p %llx/%.*s\n", rdentry, *ino, *pathlen,
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1334: FILE: fs/ceph/mds_client.c:1263:
+		dout(" path %.*s\n", *pathlen, rpath);
 		^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1360: FILE: fs/ceph/mds_client.c:1289:
+	ret = set_request_path_attr(req->r_inode, req->r_dentry,
+			      req->r_path1, req->r_ino1.ino,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1368: FILE: fs/ceph/mds_client.c:1297:
+	ret = set_request_path_attr(NULL, req->r_old_dentry,
+			      req->r_path2, req->r_ino2.ino,

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1376: FILE: fs/ceph/mds_client.c:1305:
+		pathlen1 + pathlen2 + 2*(sizeof(u32) + sizeof(u64));
 		                       ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1422: FILE: fs/ceph/mds_client.c:1351:
+	BUG_ON(p > end);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1466: FILE: fs/ceph/mds_client.c:1395:
+	dout("prepare_send_request %p tid %lld %s (attempt %d)\n", req,
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1492: FILE: fs/ceph/mds_client.c:1421:
+	dout(" r_locked_dir = %p\n", req->r_locked_dir);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1516: FILE: fs/ceph/mds_client.c:1445:
+		dout("do_request timed out\n");
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1524: FILE: fs/ceph/mds_client.c:1453:
+		dout("do_request no mds or not active, waiting for map\n");
 		^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1527: FILE: fs/ceph/mds_client.c:1456:
+					 mdsc->mdsmap->m_epoch+1);
 					                      ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1535: FILE: fs/ceph/mds_client.c:1464:
+	dout("do_request mds%d session %p state %s\n", mds, session,
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1595: FILE: fs/ceph/mds_client.c:1524:
+	dout("kick_requests mds%d\n", mds);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'kick_requests', this function's name, in a string
#1595: FILE: fs/ceph/mds_client.c:1524:
+	dout("kick_requests mds%d\n", mds);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1601: FILE: fs/ceph/mds_client.c:1530:
+		nexttid = reqs[got-1]->r_tid + 1;
 		                  ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1609: FILE: fs/ceph/mds_client.c:1538:
+				dout(" kicking tid %llu\n", reqs[i]->r_tid);
 				^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1620: FILE: fs/ceph/mds_client.c:1549:
+	dout("submit_request on %p\n", req);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1637: FILE: fs/ceph/mds_client.c:1566:
+	dout("do_request on %p\n", req);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1685: FILE: fs/ceph/mds_client.c:1614:
+	dout("do_request %p done, result %d\n", req, err);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ceph_mdsc_handle_reply', this function's name, in a string
#1708: FILE: fs/ceph/mds_client.c:1637:
+		pr_err("ceph_mdsc_handle_reply got corrupt (short) reply\n");

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1717: FILE: fs/ceph/mds_client.c:1646:
+		dout("handle_reply on unknown tid %llu\n", tid);
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1721: FILE: fs/ceph/mds_client.c:1650:
+	dout("handle_reply %p\n", req);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1746: FILE: fs/ceph/mds_client.c:1675:
+			dout("got safe reply %llu, mds%d\n", tid, mds);
 			^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1747: FILE: fs/ceph/mds_client.c:1676:
+			BUG_ON(req->r_session == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!req->r_session"
#1747: FILE: fs/ceph/mds_client.c:1676:
+			BUG_ON(req->r_session == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!req->r_session"
#1762: FILE: fs/ceph/mds_client.c:1691:
+	if (req->r_session == NULL) {

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ceph_mdsc_handle_reply', this function's name, in a string
#1763: FILE: fs/ceph/mds_client.c:1692:
+		pr_err("ceph_mdsc_handle_reply got %llu, but no session for"

WARNING:SPLIT_STRING: quoted string split across lines
#1764: FILE: fs/ceph/mds_client.c:1693:
+		pr_err("ceph_mdsc_handle_reply got %llu, but no session for"
+		       " mds%d\n", tid, mds);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1768: FILE: fs/ceph/mds_client.c:1697:
+	BUG_ON(req->r_reply);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ceph_mdsc_handle_reply', this function's name, in a string
#1783: FILE: fs/ceph/mds_client.c:1712:
+		pr_err("ceph_mdsc_handle_reply got corrupt reply mds%d\n", mds);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1787: FILE: fs/ceph/mds_client.c:1716:
+	dout("handle_reply tid %lld result %d\n", tid, result);
 	^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1812: FILE: fs/ceph/mds_client.c:1741:
+		ceph_update_snap_trace(mdsc, rinfo->snapblob,
+			       rinfo->snapblob + rinfo->snapblob_len,

WARNING:RETURN_VOID: void function return statements are not generally useful
#1844: FILE: fs/ceph/mds_client.c:1773:
+	return;
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1846: FILE: fs/ceph/mds_client.c:1775:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1868: FILE: fs/ceph/mds_client.c:1797:
+	ceph_decode_need(&p, end, sizeof(u64)+2*sizeof(u32), bad);
 	                                     ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1868: FILE: fs/ceph/mds_client.c:1797:
+	ceph_decode_need(&p, end, sizeof(u64)+2*sizeof(u32), bad);
 	                                       ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1877: FILE: fs/ceph/mds_client.c:1806:
+		dout("forward %llu dne\n", tid);
 		^^^^

WARNING:TYPO_SPELLING: 'dne' may be misspelled - perhaps 'done'?
#1877: FILE: fs/ceph/mds_client.c:1806:
+		dout("forward %llu dne\n", tid);
 		                   ^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1883: FILE: fs/ceph/mds_client.c:1812:
+		dout("forward %llu to mds%d - old seq %d <= %d\n",
 		^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1890: FILE: fs/ceph/mds_client.c:1819:
+		 * forwarded our message for us. */

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1891: FILE: fs/ceph/mds_client.c:1820:
+		dout("forward %llu to mds%d (mds%d fwded)\n", tid, next_mds,
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1900: FILE: fs/ceph/mds_client.c:1829:
+		dout("forward %llu to mds%d (we resend)\n", tid, next_mds);
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ceph_mdsc_handle_forward', this function's name, in a string
#1912: FILE: fs/ceph/mds_client.c:1841:
+	pr_err("ceph_mdsc_handle_forward decode error err=%d\n", err);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1942: FILE: fs/ceph/mds_client.c:1871:
+		session->s_ttl = jiffies + HZ*mdsc->mdsmap->m_session_autoclose;
 		                             ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1947: FILE: fs/ceph/mds_client.c:1876:
+			dout("handle_session no session for mds%d\n", mds);
 			^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1950: FILE: fs/ceph/mds_client.c:1879:
+		dout("handle_session creating session for mds%d\n", mds);
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1956: FILE: fs/ceph/mds_client.c:1885:
+	dout("handle_session mds%d %s %p state %s seq %llu\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ceph_mdsc_handle_session', this function's name, in a string
#2001: FILE: fs/ceph/mds_client.c:1930:
+		pr_err("ceph_mdsc_handle_session bad op %d mds%d\n", op, mds);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ceph_mdsc_handle_session', this function's name, in a string
#2015: FILE: fs/ceph/mds_client.c:1944:
+	pr_err("ceph_mdsc_handle_session corrupt message mds%d len %d\n", mds,

WARNING:RETURN_VOID: void function return statements are not generally useful
#2018: FILE: fs/ceph/mds_client.c:1947:
+	return;
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2020: FILE: fs/ceph/mds_client.c:1949:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2030: FILE: fs/ceph/mds_client.c:1959:
+	dout("replay_unsafe_requests mds%d\n", session->s_mds);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'replay_unsafe_requests', this function's name, in a string
#2030: FILE: fs/ceph/mds_client.c:1959:
+	dout("replay_unsafe_requests mds%d\n", session->s_mds);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around data->pp
#2058: FILE: fs/ceph/mds_client.c:1987:
+	void *p = *(data->pp);

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2067: FILE: fs/ceph/mds_client.c:1996:
+	dout(" adding %p ino %llx.%llx cap %p %lld %s\n",
 	^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2078: FILE: fs/ceph/mds_client.c:2007:
+			BUG_ON(err);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2084: FILE: fs/ceph/mds_client.c:2013:
+	ceph_decode_need(&p, end, pathlen+4, needmore);
 	                                 ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2090: FILE: fs/ceph/mds_client.c:2019:
+	BUG_ON(p > end);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around data->pp
#2107: FILE: fs/ceph/mds_client.c:2036:
+	*(data->pp) = p;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2113: FILE: fs/ceph/mds_client.c:2042:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2156: FILE: fs/ceph/mds_client.c:2085:
+			(100+sizeof(struct ceph_mds_cap_reconnect));
 			    ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2158: FILE: fs/ceph/mds_client.c:2087:
+		pr_info("estimating i need %d bytes for %d caps\n",
+		     len, session->s_nr_caps);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2160: FILE: fs/ceph/mds_client.c:2089:
+		dout("no session for mds%d, will send short reconnect\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'send_mds_reconnect', this function's name, in a string
#2171: FILE: fs/ceph/mds_client.c:2100:
+		pr_err("ceph send_mds_reconnect ENOMEM on %d for mds%d\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2183: FILE: fs/ceph/mds_client.c:2112:
+	dout("session %p state %s\n", session,
 	^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#2216: FILE: fs/ceph/mds_client.c:2145:
+		struct ceph_mds_snaprealm_reconnect *sr_rec;
+		got = radix_tree_gang_lookup(&mdsc->snap_realms,

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2221: FILE: fs/ceph/mds_client.c:2150:
+		dout(" adding snap realm %llx seq %lld parent %llx\n",
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2237: FILE: fs/ceph/mds_client.c:2166:
+	dout("final len was %u (guessed %d)\n",
 	^^^^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2238: FILE: fs/ceph/mds_client.c:2167:
+	     (unsigned)reply->front.iov_len, len);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2261: FILE: fs/ceph/mds_client.c:2190:
+	newlen = len * ((100 * (session->s_nr_caps+3)) / (num_caps + 1)) / 100;
 	                                          ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2263: FILE: fs/ceph/mds_client.c:2192:
+	pr_info("i guessed %d, and did %d of %d caps, retrying with %d\n",
+	     len, num_caps, session->s_nr_caps, newlen);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2269: FILE: fs/ceph/mds_client.c:2198:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2279: FILE: fs/ceph/mds_client.c:2208:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2295: FILE: fs/ceph/mds_client.c:2224:
+	dout("check_new_map new %u old %u\n",
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'check_new_map', this function's name, in a string
#2295: FILE: fs/ceph/mds_client.c:2224:
+	dout("check_new_map new %u old %u\n",

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mdsc->sessions[i]"
#2299: FILE: fs/ceph/mds_client.c:2228:
+		if (mdsc->sessions[i] == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2305: FILE: fs/ceph/mds_client.c:2234:
+		dout("check_new_map mds%d state %s -> %s (session %s)\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'check_new_map', this function's name, in a string
#2305: FILE: fs/ceph/mds_client.c:2234:
+		dout("check_new_map mds%d state %s -> %s (session %s)\n",

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2314: FILE: fs/ceph/mds_client.c:2243:
+			 * socket. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2320: FILE: fs/ceph/mds_client.c:2249:
+				 * out now */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2354: FILE: fs/ceph/mds_client.c:2283:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2389: FILE: fs/ceph/mds_client.c:2318:
+	dout("handle_lease from mds%d\n", mds);
 	^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2399: FILE: fs/ceph/mds_client.c:2328:
+	if (dname.len != get_unaligned_le32(h+1))
 	                                     ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2417: FILE: fs/ceph/mds_client.c:2346:
+	dout("handle_lease '%s', mask %d, ino %llx %p\n",
 	^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!inode"
#2419: FILE: fs/ceph/mds_client.c:2348:
+	if (inode == NULL) {

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2420: FILE: fs/ceph/mds_client.c:2349:
+		dout("handle_lease no inode %llx\n", vino.ino);
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2428: FILE: fs/ceph/mds_client.c:2357:
+		dout("no parent dentry on inode %p\n", inode);
 		^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#2478: FILE: fs/ceph/mds_client.c:2407:
+	iput(inode);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2497: FILE: fs/ceph/mds_client.c:2426:
+	dout("lease_send_msg inode %p dentry %p %s to mds%d\n",
 	^^^^

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#2509: FILE: fs/ceph/mds_client.c:2438:
+	lease->first = lease->last = cpu_to_le64(ceph_vino(inode).snap);

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2535: FILE: fs/ceph/mds_client.c:2464:
+	BUG_ON(inode == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!inode"
#2535: FILE: fs/ceph/mds_client.c:2464:
+	BUG_ON(inode == NULL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2536: FILE: fs/ceph/mds_client.c:2465:
+	BUG_ON(dentry == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!dentry"
#2536: FILE: fs/ceph/mds_client.c:2465:
+	BUG_ON(dentry == NULL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2537: FILE: fs/ceph/mds_client.c:2466:
+	BUG_ON(mask != CEPH_LOCK_DN);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2546: FILE: fs/ceph/mds_client.c:2475:
+		dout("lease_release inode %p dentry %p -- "
 		^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#2547: FILE: fs/ceph/mds_client.c:2476:
+		dout("lease_release inode %p dentry %p -- "
+		     "no lease on %d\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2559: FILE: fs/ceph/mds_client.c:2488:
+	dout("lease_release inode %p dentry %p mask %d to mds%d\n",
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2572: FILE: fs/ceph/mds_client.c:2501:
+	dout("drop_leases\n");
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'drop_leases', this function's name, in a string
#2572: FILE: fs/ceph/mds_client.c:2501:
+	dout("drop_leases\n");

WARNING:LINE_SPACING: Missing a blank line after declarations
#2576: FILE: fs/ceph/mds_client.c:2505:
+		struct ceph_mds_session *s = __ceph_lookup_mds_session(mdsc, i);
+		if (!s)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2587: FILE: fs/ceph/mds_client.c:2516:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2595: FILE: fs/ceph/mds_client.c:2524:
+	unsigned hz = round_jiffies_relative(HZ * delay);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2596: FILE: fs/ceph/mds_client.c:2525:
+	unsigned hz = round_jiffies_relative(HZ * delay);
+	schedule_delayed_work(&mdsc->delayed_work, hz);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2608: FILE: fs/ceph/mds_client.c:2537:
+	dout("mdsc delayed_work\n");
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'delayed_work', this function's name, in a string
#2608: FILE: fs/ceph/mds_client.c:2537:
+	dout("mdsc delayed_work\n");

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#2613: FILE: fs/ceph/mds_client.c:2542:
+	renew_caps = time_after_eq(jiffies, HZ*renew_interval +
 	                                      ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#2620: FILE: fs/ceph/mds_client.c:2549:
+		struct ceph_mds_session *s = __ceph_lookup_mds_session(mdsc, i);
+		if (s == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!s"
#2620: FILE: fs/ceph/mds_client.c:2549:
+		if (s == NULL)

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2623: FILE: fs/ceph/mds_client.c:2552:
+			dout("resending session close request for mds%d\n",
 			^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#2633: FILE: fs/ceph/mds_client.c:2562:
+				pr_info("ceph mds%d session probably timed out,"
+					" requesting mds map\n", s->s_mds);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2662: FILE: fs/ceph/mds_client.c:2591:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2707: FILE: fs/ceph/mds_client.c:2636:
+		dout("wait_requests waiting for requests\n");
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'wait_requests', this function's name, in a string
#2707: FILE: fs/ceph/mds_client.c:2636:
+		dout("wait_requests waiting for requests\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2709: FILE: fs/ceph/mds_client.c:2638:
+		wait_for_completion_timeout(&mdsc->safe_umount_waiters,
+				    client->mount_args.mount_timeout * HZ);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2715: FILE: fs/ceph/mds_client.c:2644:
+			dout("wait_requests timed out on tid %llu\n",
 			^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'wait_requests', this function's name, in a string
#2715: FILE: fs/ceph/mds_client.c:2644:
+			dout("wait_requests timed out on tid %llu\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2722: FILE: fs/ceph/mds_client.c:2651:
+	dout("wait_requests done\n");
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'wait_requests', this function's name, in a string
#2722: FILE: fs/ceph/mds_client.c:2651:
+	dout("wait_requests done\n");

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2731: FILE: fs/ceph/mds_client.c:2660:
+	dout("pre_umount\n");
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2749: FILE: fs/ceph/mds_client.c:2678:
+	dout("wait_unsafe_requests want %lld\n", want_tid);
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'wait_unsafe_requests', this function's name, in a string
#2749: FILE: fs/ceph/mds_client.c:2678:
+	dout("wait_unsafe_requests want %lld\n", want_tid);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2764: FILE: fs/ceph/mds_client.c:2693:
+		dout("wait_unsafe_requests  wait on %llu (want %llu)\n",
 		^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'wait_unsafe_requests', this function's name, in a string
#2764: FILE: fs/ceph/mds_client.c:2693:
+		dout("wait_unsafe_requests  wait on %llu (want %llu)\n",

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2771: FILE: fs/ceph/mds_client.c:2700:
+	dout("wait_unsafe_requests done\n");
 	^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'wait_unsafe_requests', this function's name, in a string
#2771: FILE: fs/ceph/mds_client.c:2700:
+	dout("wait_unsafe_requests done\n");

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2778: FILE: fs/ceph/mds_client.c:2707:
+	dout("sync\n");
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2783: FILE: fs/ceph/mds_client.c:2712:
+	dout("sync want tid %lld flush_seq %lld\n", want_tid, want_flush);
 	^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2791: FILE: fs/ceph/mds_client.c:2720:
+
+

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2803: FILE: fs/ceph/mds_client.c:2732:
+	dout("close_sessions\n");
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2810: FILE: fs/ceph/mds_client.c:2739:
+		dout("closing sessions\n");
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2830: FILE: fs/ceph/mds_client.c:2759:
+		dout("waiting for sessions to close\n");
 		^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2859: FILE: fs/ceph/mds_client.c:2788:
+	dout("stopped\n");
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2864: FILE: fs/ceph/mds_client.c:2793:
+	dout("stop\n");
 	^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2871: FILE: fs/ceph/mds_client.c:2800:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2885: FILE: fs/ceph/mds_client.c:2814:
+	ceph_decode_need(&p, end, sizeof(fsid)+2*sizeof(u32), bad);
 	                                      ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#2885: FILE: fs/ceph/mds_client.c:2814:
+	ceph_decode_need(&p, end, sizeof(fsid)+2*sizeof(u32), bad);
 	                                        ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2893: FILE: fs/ceph/mds_client.c:2822:
+	dout("handle_map epoch %u len %d\n", epoch, (int)maplen);
 	^^^^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#2899: FILE: fs/ceph/mds_client.c:2828:
+		dout("handle_map epoch %u <= our %u\n",
 		^^^^

WARNING:RETURN_VOID: void function return statements are not generally useful
#2933: FILE: fs/ceph/mds_client.c:2862:
+	return;
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2935: FILE: fs/ceph/mds_client.c:2864:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2943: FILE: fs/ceph/mds_client.h:1:
+#ifndef _FS_CEPH_MDS_CLIENT_H

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3008: FILE: fs/ceph/mds_client.h:66:
+	/* encoded blob describing snapshot contexts for certain
+	   operations (e.g., open) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3008: FILE: fs/ceph/mds_client.h:66:
+	   operations (e.g., open) */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3013: FILE: fs/ceph/mds_client.h:71:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3021: FILE: fs/ceph/mds_client.h:79:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3125: FILE: fs/ceph/mds_client.h:183:
+	unsigned long r_request_started; /* start time for mds request only,
+					    used to measure lease durations */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3125: FILE: fs/ceph/mds_client.h:183:
+					    used to measure lease durations */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3196: FILE: fs/ceph/mds_client.h:254:
+^Istruct dentry ^I  *debugfs_file;$

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#3198: FILE: fs/ceph/mds_client.h:256:
+	spinlock_t	  dentry_lru_lock;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3203: FILE: fs/ceph/mds_client.h:261:
+extern const char *ceph_mds_op_name(int op);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct ceph_mds_client *' should also have an identifier name
#3205: FILE: fs/ceph/mds_client.h:263:
+extern struct ceph_mds_session *

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

ERROR:INLINE_LOCATION: inline keyword should sit between storage class and type
#3208: FILE: fs/ceph/mds_client.h:266:
+inline static struct ceph_mds_session *

The inline keyword should sit between storage class and type.

For example, the following segment::

  inline static int example_function(void)
  {
          ...
  }

should be::

  static inline int example_function(void)
  {
          ...
  }

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3215: FILE: fs/ceph/mds_client.h:273:
+extern void ceph_put_mds_session(struct ceph_mds_session *s);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3217: FILE: fs/ceph/mds_client.h:275:
+extern void ceph_send_msg_mds(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3220: FILE: fs/ceph/mds_client.h:278:
+extern void ceph_mdsc_init(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3222: FILE: fs/ceph/mds_client.h:280:
+extern void ceph_mdsc_close_sessions(struct ceph_mds_client *mdsc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3223: FILE: fs/ceph/mds_client.h:281:
+extern void ceph_mdsc_stop(struct ceph_mds_client *mdsc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3225: FILE: fs/ceph/mds_client.h:283:
+extern void ceph_mdsc_sync(struct ceph_mds_client *mdsc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3227: FILE: fs/ceph/mds_client.h:285:
+extern void ceph_mdsc_handle_map(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3229: FILE: fs/ceph/mds_client.h:287:
+extern void ceph_mdsc_handle_session(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3231: FILE: fs/ceph/mds_client.h:289:
+extern void ceph_mdsc_handle_reply(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3233: FILE: fs/ceph/mds_client.h:291:
+extern void ceph_mdsc_handle_forward(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3236: FILE: fs/ceph/mds_client.h:294:
+extern void ceph_mdsc_handle_lease(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3239: FILE: fs/ceph/mds_client.h:297:
+extern void ceph_mdsc_lease_release(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3245: FILE: fs/ceph/mds_client.h:303:
+extern void ceph_mdsc_submit_request(struct ceph_mds_client *mdsc,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3247: FILE: fs/ceph/mds_client.h:305:
+extern int ceph_mdsc_do_request(struct ceph_mds_client *mdsc,

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#3254: FILE: fs/ceph/mds_client.h:312:
+}
+extern void ceph_mdsc_put_request(struct ceph_mds_request *req);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3254: FILE: fs/ceph/mds_client.h:312:
+extern void ceph_mdsc_put_request(struct ceph_mds_request *req);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3256: FILE: fs/ceph/mds_client.h:314:
+extern void ceph_mdsc_pre_umount(struct ceph_mds_client *mdsc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3257: FILE: fs/ceph/mds_client.h:315:
+extern void ceph_mdsc_handle_reset(struct ceph_mds_client *mdsc, int mds);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3259: FILE: fs/ceph/mds_client.h:317:
+extern char *ceph_mdsc_build_path(struct dentry *dentry, int *plen, u64 *base,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3262: FILE: fs/ceph/mds_client.h:320:
+extern void __ceph_mdsc_drop_dentry_lease(struct dentry *dentry);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3263: FILE: fs/ceph/mds_client.h:321:
+extern void ceph_mdsc_lease_send_msg(struct ceph_mds_client *mdsc, int mds,

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3275: FILE: fs/ceph/mdsmap.c:1:
+#include <linux/bug.h>

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3288: FILE: fs/ceph/mdsmap.c:14:
+
+

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!m"
#3330: FILE: fs/ceph/mdsmap.c:56:
+	if (m == NULL)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#3335: FILE: fs/ceph/mdsmap.c:61:
+	ceph_decode_need(p, end, 8*sizeof(u32) + sizeof(u64), bad);
 	                          ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!m->m_addr"
#3347: FILE: fs/ceph/mdsmap.c:73:
+	if (m->m_addr == NULL || m->m_state == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!m->m_state"
#3347: FILE: fs/ceph/mdsmap.c:73:
+	if (m->m_addr == NULL || m->m_state == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3364: FILE: fs/ceph/mdsmap.c:90:
+^I^I$

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#3366: FILE: fs/ceph/mdsmap.c:92:
+				 5*sizeof(u32) + sizeof(u64) +
 				  ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#3374: FILE: fs/ceph/mdsmap.c:100:
+		*p += sizeof(struct ceph_timespec) + 2*sizeof(u32);
 		                                      ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#3375: FILE: fs/ceph/mdsmap.c:101:
+		dout("mdsmap_decode %d/%d mds%d.%d %u.%u.%u.%u:%u %s\n",
 		^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3376: FILE: fs/ceph/mdsmap.c:102:
+		     i+1, n, mds, inc, IPQUADPORT(addr.ipaddr),
 		      ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#3390: FILE: fs/ceph/mdsmap.c:116:
+	ceph_decode_need(p, end, sizeof(u32)*(n+1), bad);
 	                                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#3390: FILE: fs/ceph/mdsmap.c:116:
+	ceph_decode_need(p, end, sizeof(u32)*(n+1), bad);
 	                                       ^

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#3396: FILE: fs/ceph/mdsmap.c:122:
+	dout("mdsmap_decode success epoch %u\n", m->m_epoch);
 	^^^^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3420: FILE: fs/ceph/mdsmap.h:1:
+#ifndef _FS_CEPH_MDSMAP_H

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3426: FILE: fs/ceph/mdsmap.h:7:
+ * mds map - describe servers in the mds cluster.  $

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3456: FILE: fs/ceph/mdsmap.h:37:
+	BUG_ON(w < 0);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3462: FILE: fs/ceph/mdsmap.h:43:
+extern int ceph_mdsmap_get_random_mds(struct ceph_mdsmap *m);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3463: FILE: fs/ceph/mdsmap.h:44:
+extern struct ceph_mdsmap *ceph_mdsmap_decode(void **p, void *end);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#3464: FILE: fs/ceph/mdsmap.h:45:
+extern void ceph_mdsmap_destroy(struct ceph_mdsmap *m);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000088142.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 5 errors, 199 warnings, 110 checks, 3377 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000088142.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
