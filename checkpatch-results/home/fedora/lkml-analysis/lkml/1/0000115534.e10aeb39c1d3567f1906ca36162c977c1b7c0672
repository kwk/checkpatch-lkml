WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#45: FILE: drivers/mmc/host/Kconfig:245:
+config MMC_STMP
+	tristate "Freescale STMP37xx/378x SD/MMC controller support"
+	depends on ARCH_STMP3XXX
+	help
+	 Say Y or M here if you want to build the STMP3XXX controller support.
+	 If compiled as module, it will be called stmp3xxx-mmc

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#66: FILE: drivers/mmc/host/stmp3xxx_mmc.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#260: FILE: drivers/mmc/host/stmp3xxx_mmc.c:195:
+			BUG();

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#270: FILE: drivers/mmc/host/stmp3xxx_mmc.c:205:
+		printk(KERN_ERR"Unsupported response type 0x%x\n",

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#270: FILE: drivers/mmc/host/stmp3xxx_mmc.c:205:
+		printk(KERN_ERR"Unsupported response type 0x%x\n",

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#271: FILE: drivers/mmc/host/stmp3xxx_mmc.c:206:
+		printk(KERN_ERR"Unsupported response type 0x%x\n",
+			mmc_resp_type(cmd));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#272: FILE: drivers/mmc/host/stmp3xxx_mmc.c:207:
+		BUG();

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#370: FILE: drivers/mmc/host/stmp3xxx_mmc.c:305:
+static unsigned stmp3xxx_ns_to_ssp_ticks(unsigned clock_rate, unsigned ns)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#370: FILE: drivers/mmc/host/stmp3xxx_mmc.c:305:
+static unsigned stmp3xxx_ns_to_ssp_ticks(unsigned clock_rate, unsigned ns)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#370: FILE: drivers/mmc/host/stmp3xxx_mmc.c:305:
+static unsigned stmp3xxx_ns_to_ssp_ticks(unsigned clock_rate, unsigned ns)

WARNING:LINE_SPACING: Missing a blank line after declarations
#373: FILE: drivers/mmc/host/stmp3xxx_mmc.c:308:
+	const unsigned int ssp_timeout_mul = 4096;
+	return ((unsigned long)ns) * clock_rate / 1000 /

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPLIT_STRING: quoted string split across lines
#400: FILE: drivers/mmc/host/stmp3xxx_mmc.c:335:
+		"data list: %u, blocksz: %u, blocks: %u, timeout: %uns %uclks, "
+		"flags: 0x%x\n", resp, ignore_crc, cmd->data->sg_len,

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#407: FILE: drivers/mmc/host/stmp3xxx_mmc.c:342:
+		BUG_ON(copy_size < data_size);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#415: FILE: drivers/mmc/host/stmp3xxx_mmc.c:350:
+		BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#418: FILE: drivers/mmc/host/stmp3xxx_mmc.c:353:
+	BUG_ON(cmd->data->flags & MMC_DATA_STREAM);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#419: FILE: drivers/mmc/host/stmp3xxx_mmc.c:354:
+	BUG_ON((data_size % 8) > 0);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#424: FILE: drivers/mmc/host/stmp3xxx_mmc.c:359:
+^I    BM_APBH_CHn_CMD_IRQONCMPLT ^I^I^I|$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#565: FILE: drivers/mmc/host/stmp3xxx_mmc.c:500:
+		/*
+		   if the SSP is buggy and platform provides callback...

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#573: FILE: drivers/mmc/host/stmp3xxx_mmc.c:508:
+	/*
+	   ...but the RightIdea(tm) is to set divisors to match

WARNING:SPLIT_STRING: quoted string split across lines
#591: FILE: drivers/mmc/host/stmp3xxx_mmc.c:526:
+	dev_dbg(host->dev, "Setting clock rate to %ld kHz [%x+%x] "
+			"(requested %d), source %ldk\n",

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#592: FILE: drivers/mmc/host/stmp3xxx_mmc.c:527:
+			ssp/div1/div2, div1, div2, hz, ssp);
 			   ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#592: FILE: drivers/mmc/host/stmp3xxx_mmc.c:527:
+			ssp/div1/div2, div1, div2, hz, ssp);
 			        ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#600: FILE: drivers/mmc/host/stmp3xxx_mmc.c:535:
+	host->clkrt = ssp/div1/div2 * 1000;
 	                 ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#600: FILE: drivers/mmc/host/stmp3xxx_mmc.c:535:
+	host->clkrt = ssp/div1/div2 * 1000;
 	                      ^

WARNING:SPLIT_STRING: quoted string split across lines
#611: FILE: drivers/mmc/host/stmp3xxx_mmc.c:546:
+		"Clock %u, vdd %u, bus_mode %u, chip_select %u, "
+		"power mode %u, bus_width %u\n", ios->clock, ios->vdd,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#638: FILE: drivers/mmc/host/stmp3xxx_mmc.c:573:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#664: FILE: drivers/mmc/host/stmp3xxx_mmc.c:599:
+^I    BF(8 - 1, SSP_CTRL1_WORD_LENGTH) ^I|^I/* 8 bits      */$

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#683: FILE: drivers/mmc/host/stmp3xxx_mmc.c:618:
+static int __devinit stmp3xxx_mmc_irq_init(struct stmp3xxx_mmc_host *host)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#708: FILE: drivers/mmc/host/stmp3xxx_mmc.c:643:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#717: FILE: drivers/mmc/host/stmp3xxx_mmc.c:652:
+		ret = stmp3xxx_dma_request(host->dmach,
+				host->dev, dev_name(host->dev));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#724: FILE: drivers/mmc/host/stmp3xxx_mmc.c:659:
+		host->dma_buf = dma_alloc_coherent(host->dev, SSP_BUFFER_SIZE,
+					   &host->dma_buf_phys, GFP_DMA);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!host->dma_buf"
#725: FILE: drivers/mmc/host/stmp3xxx_mmc.c:660:
+		if (host->dma_buf == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#726: FILE: drivers/mmc/host/stmp3xxx_mmc.c:661:
+		if (host->dma_buf == NULL) {
+			dev_err(host->dev, "unable to allocate DMA memory\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#732: FILE: drivers/mmc/host/stmp3xxx_mmc.c:667:
+		ret = stmp3xxx_dma_allocate_command(host->dmach,
+				&host->dma_desc);

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#772: FILE: drivers/mmc/host/stmp3xxx_mmc.c:707:
+static int __devinit stmp3xxx_mmc_probe(struct platform_device *pdev)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mmc_data"
#782: FILE: drivers/mmc/host/stmp3xxx_mmc.c:717:
+	if (mmc_data == NULL) {

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#925: FILE: drivers/mmc/host/stmp3xxx_mmc.c:860:
+static int __devexit stmp3xxx_mmc_remove(struct platform_device *pdev)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#961: FILE: drivers/mmc/host/stmp3xxx_mmc.c:896:
+static int stmp3xxx_mmc_suspend(struct platform_device *pdev,
+		pm_message_t state)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000115534.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 24 warnings, 14 checks, 990 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000115534.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
