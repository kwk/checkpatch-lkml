WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#38: 
- Add support for the new Elantech touchpad model as found in the EeePC that

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#548: FILE: drivers/input/mouse/elantech.c:27:
+			printk(KERN_DEBUG format, ##arg);	\

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#559: FILE: drivers/input/mouse/elantech.c:34:
+static int synaptics_send_cmd(struct psmouse *psmouse, unsigned char c,
+				unsigned char *param)

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'synaptics_send_cmd', this function's name, in a string
#563: FILE: drivers/input/mouse/elantech.c:38:
+		pr_err("elantech.c: synaptics_send_cmd query 0x%02x failed.\n", c);

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#588: FILE: drivers/input/mouse/elantech.c:60:
+		elantech_debug("elantech.c: retrying ps2 command 0x%02x (%d).\n",
+			command, tries);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#602: FILE: drivers/input/mouse/elantech.c:74:
+static int elantech_read_reg(struct psmouse *psmouse, unsigned char reg,
+				unsigned char *val)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'reg < 0x10'
#608: FILE: drivers/input/mouse/elantech.c:80:
+	if ((reg < 0x10) || (reg > 0x26))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'reg > 0x26'
#608: FILE: drivers/input/mouse/elantech.c:80:
+	if ((reg < 0x10) || (reg > 0x26))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'reg > 0x11'
#611: FILE: drivers/input/mouse/elantech.c:82:
+	if ((reg > 0x11) && (reg < 0x20))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'reg < 0x20'
#611: FILE: drivers/input/mouse/elantech.c:82:
+	if ((reg > 0x11) && (reg < 0x20))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#647: FILE: drivers/input/mouse/elantech.c:116:
+static int elantech_write_reg(struct psmouse *psmouse, unsigned char reg,
+				unsigned char val)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#687: FILE: drivers/input/mouse/elantech.c:150:
+		pr_err("elantech.c: failed to write register 0x%02x with value 0x%02x.\n",
+			reg, val);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#721: FILE: drivers/input/mouse/elantech.c:180:
+		/* byte 0:  D   U  p1  p2   1  p3   R   L
+		   byte 1:  f   0  th  tw  x9  x8  y9  y8 */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#721: FILE: drivers/input/mouse/elantech.c:180:
+		   byte 1:  f   0  th  tw  x9  x8  y9  y8 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#726: FILE: drivers/input/mouse/elantech.c:185:
+		/* byte 0: n1  n0  p2  p1   1  p3   R   L
+		   byte 1:  0   0   0   0  x9  x8  y9  y8 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#726: FILE: drivers/input/mouse/elantech.c:185:
+		   byte 1:  0   0   0   0  x9  x8  y9  y8 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#733: FILE: drivers/input/mouse/elantech.c:191:
+	/* byte 2: x7  x6  x5  x4  x3  x2  x1  x0
+	   byte 3: y7  y6  y5  y4  y3  y2  y1  y0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#733: FILE: drivers/input/mouse/elantech.c:191:
+	   byte 3: y7  y6  y5  y4  y3  y2  y1  y0 */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'etd->fw_version_maj == 0x01'
#749: FILE: drivers/input/mouse/elantech.c:204:
+	if ((etd->fw_version_maj == 0x01) &&
+	    (etd->capabilities & ETP_CAP_HAS_ROCKER)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#782: FILE: drivers/input/mouse/elantech.c:229:
+		/* byte 1: x15 x14 x13 x12 x11 x10 x9  x8
+		   byte 2: x7  x6  x5  x4  x4  x2  x1  x0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#782: FILE: drivers/input/mouse/elantech.c:229:
+		   byte 2: x7  x6  x5  x4  x4  x2  x1  x0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#785: FILE: drivers/input/mouse/elantech.c:232:
+		/* byte 4: y15 y14 y13 y12 y11 y10 y8  y8
+		   byte 5: y7  y6  y5  y4  y3  y2  y1  y0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#785: FILE: drivers/input/mouse/elantech.c:232:
+		   byte 5: y7  y6  y5  y4  y3  y2  y1  y0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#791: FILE: drivers/input/mouse/elantech.c:238:
+		/* The coordinate of each finger is reported separately with
+		   a lower resolution for two finger touches */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#791: FILE: drivers/input/mouse/elantech.c:238:
+		   a lower resolution for two finger touches */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#793: FILE: drivers/input/mouse/elantech.c:240:
+		/* byte 0:  .   .  ay8 ax8  .   .   .   .
+		   byte 1: ax7 ax6 ax5 ax4 ax3 ax2 ax1 ax0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#793: FILE: drivers/input/mouse/elantech.c:240:
+		   byte 1: ax7 ax6 ax5 ax4 ax3 ax2 ax1 ax0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#798: FILE: drivers/input/mouse/elantech.c:245:
+		/* byte 3:  .   .  by8 bx8  .   .   .   .
+		   byte 4: bx7 bx6 bx5 bx4 bx3 bx2 bx1 bx0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#798: FILE: drivers/input/mouse/elantech.c:245:
+		   byte 4: bx7 bx6 bx5 bx4 bx3 bx2 bx1 bx0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#803: FILE: drivers/input/mouse/elantech.c:250:
+		/* For compatibility with the X Synaptics driver scale up one
+		   coordinate and report as ordinary mouse movent */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#803: FILE: drivers/input/mouse/elantech.c:250:
+		   coordinate and report as ordinary mouse movent */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#807: FILE: drivers/input/mouse/elantech.c:254:
+		/* For compatibility with the proprietary X Elantech driver
+		   report both coordinates as hat coordinates */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#807: FILE: drivers/input/mouse/elantech.c:254:
+		   report both coordinates as hat coordinates */

WARNING:TYPO_SPELLING: 'initalising' may be misspelled - perhaps 'initialising'?
#980: FILE: drivers/input/mouse/elantech.c:353:
+		 * Read back reg 0x10. The touchpad is probably initalising
 		                                                ^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#989: FILE: drivers/input/mouse/elantech.c:362:
+			elantech_debug("elantech.c: retrying read (%d).\n",
+				tries);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1043: FILE: drivers/input/mouse/elantech.c:381:
+^Istruct input_dev ^I*dev = psmouse->dev;$

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'etd->fw_version_maj == 0x01'
#1064: FILE: drivers/input/mouse/elantech.c:397:
+		if ((etd->fw_version_maj == 0x01) &&
+		    (etd->capabilities & ETP_CAP_HAS_ROCKER)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1105: FILE: drivers/input/mouse/elantech.c:426:
+static ssize_t elantech_show_int_attr(struct psmouse *psmouse, void *data,
+					char *buf)

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#1136: FILE: drivers/input/mouse/elantech.c:452:
+	err = strict_strtoul(buf, 16, &value);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1250: FILE: drivers/input/mouse/elantech.c:560:
+	sysfs_remove_group(&psmouse->ps2dev.serio->dev.kobj,
+				&elantech_attr_group);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'etd->fw_version_maj >= 0x02'
#1323: FILE: drivers/input/mouse/elantech.c:614:
+	if ((etd->fw_version_maj >= 0x02) && (etd->fw_version_min >= 0x30)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'etd->fw_version_min >= 0x30'
#1323: FILE: drivers/input/mouse/elantech.c:614:
+	if ((etd->fw_version_maj >= 0x02) && (etd->fw_version_min >= 0x30)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1358: FILE: drivers/input/mouse/elantech.c:645:
+		pr_err("elantech.c: failed to create sysfs attributes, error: %d.\n",
 			error);

WARNING:TYPO_SPELLING: 'harware' may be misspelled - perhaps 'hardware'?
#1445: FILE: drivers/input/mouse/elantech.h:58:
+ * and Y axis range is 0 to 384 for harware version 1.
                                     ^^^^^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1450: FILE: drivers/input/mouse/elantech.h:63:
+#define ETP_XMIN_V1 ^I^I^I(  0 + ETP_EDGE_FUZZ_V1)$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1450: FILE: drivers/input/mouse/elantech.h:63:
+#define ETP_XMIN_V1 			(  0 + ETP_EDGE_FUZZ_V1)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1451: FILE: drivers/input/mouse/elantech.h:64:
+#define ETP_XMAX_V1 ^I^I^I(576 - ETP_EDGE_FUZZ_V1)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1452: FILE: drivers/input/mouse/elantech.h:65:
+#define ETP_YMIN_V1 ^I^I^I(  0 + ETP_EDGE_FUZZ_V1)$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1452: FILE: drivers/input/mouse/elantech.h:65:
+#define ETP_YMIN_V1 			(  0 + ETP_EDGE_FUZZ_V1)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1453: FILE: drivers/input/mouse/elantech.h:66:
+#define ETP_YMAX_V1 ^I^I^I(384 - ETP_EDGE_FUZZ_V1)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1462: FILE: drivers/input/mouse/elantech.h:75:
+#define ETP_XMIN_V2 ^I^I^I(   0 + ETP_EDGE_FUZZ_V2)$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1462: FILE: drivers/input/mouse/elantech.h:75:
+#define ETP_XMIN_V2 			(   0 + ETP_EDGE_FUZZ_V2)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1463: FILE: drivers/input/mouse/elantech.h:76:
+#define ETP_XMAX_V2 ^I^I^I(1152 - ETP_EDGE_FUZZ_V2)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1464: FILE: drivers/input/mouse/elantech.h:77:
+#define ETP_YMIN_V2 ^I^I^I(   0 + ETP_EDGE_FUZZ_V2)$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1464: FILE: drivers/input/mouse/elantech.h:77:
+#define ETP_YMIN_V2 			(   0 + ETP_EDGE_FUZZ_V2)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1465: FILE: drivers/input/mouse/elantech.h:78:
+#define ETP_YMAX_V2 ^I^I^I( 768 - ETP_EDGE_FUZZ_V2)$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1465: FILE: drivers/input/mouse/elantech.h:78:
+#define ETP_YMAX_V2 			( 768 - ETP_EDGE_FUZZ_V2)

ERROR:SPACING: space prohibited after that open parenthesis '('
#1478: FILE: drivers/input/mouse/elantech.h:86:
+#define ETP_2FT_XMIN			(  0 + ETP_2FT_FUZZ)

ERROR:SPACING: space prohibited after that open parenthesis '('
#1480: FILE: drivers/input/mouse/elantech.h:88:
+#define ETP_2FT_YMIN			(  0 + ETP_2FT_FUZZ)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000228295.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 7 errors, 35 warnings, 17 checks, 1452 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000228295.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
