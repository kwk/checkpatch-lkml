WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#31: 
This patch introduces a new SMI (System Management Interrupt) detector module

WARNING:TYPO_SPELLING: 'occuring' may be misspelled - perhaps 'occurring'?
#51: FILE: Documentation/smi_detector.txt:10:
+even know that they are occuring. SMIs are instead are set up by BIOS code
                         ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#107: FILE: drivers/misc/Kconfig:79:
+config SMI_DETECTOR
+	tristate "Test module for detecting time gaps caused by SMIs"
+	depends on DEBUG_FS
+	default m
+	---help---
+	  A simple SMI detector. Use this module to detect large system
+	  latencies introduced by the presence of vendor BIOS SMI
+	  (System Management Interrupts) somehow gone awry. We do this
+	  by hogging all of the CPU(s) for configurable time intervals,
+	  looking to see if something stole time from us. Therefore,
+	  obviously, you should NEVER use this module in a production
+	  environment.
+
+	  If unsure, say N
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#139: FILE: drivers/misc/smi_detector.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#232: FILE: drivers/misc/smi_detector.c:94:
+static int smi_debug_sample_fopen(struct inode *inode, struct file *filp);
                                                                     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#233: FILE: drivers/misc/smi_detector.c:95:
+static ssize_t smi_debug_sample_fread(struct file *filp, char __user *ubuf,
                                                    ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#234: FILE: drivers/misc/smi_detector.c:96:
+static ssize_t smi_debug_sample_fread(struct file *filp, char __user *ubuf,
+					size_t cnt, loff_t *ppos);

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#235: FILE: drivers/misc/smi_detector.c:97:
+static int smi_debug_sample_release(struct inode *inode, struct file *filp);
                                                                       ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#236: FILE: drivers/misc/smi_detector.c:98:
+static int smi_debug_enable_fopen(struct inode *inode, struct file *filp);
                                                                     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#237: FILE: drivers/misc/smi_detector.c:99:
+static ssize_t smi_debug_enable_fread(struct file *filp, char __user *ubuf,
                                                    ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#238: FILE: drivers/misc/smi_detector.c:100:
+static ssize_t smi_debug_enable_fread(struct file *filp, char __user *ubuf,
+					size_t cnt, loff_t *ppos);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#252: FILE: drivers/misc/smi_detector.c:114:
+ * more than smi_buf_size/sizeof(smi_sample) samples are received. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#261: FILE: drivers/misc/smi_detector.c:123:
+static struct smi_data {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: braces {} should be used on all arms of this statement
#318: FILE: drivers/misc/smi_detector.c:180:
+	if (e) {
[...]
+	} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#321: FILE: drivers/misc/smi_detector.c:183:
+	} else

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#345: FILE: drivers/misc/smi_detector.c:207:
+	do {
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#354: FILE: drivers/misc/smi_detector.c:216:
+			printk(KERN_ERR SMI_BANNER "time running backwards\n");

WARNING:TYPO_SPELLING: 'whith' may be misspelled - perhaps 'with'?
#390: FILE: drivers/misc/smi_detector.c:252:
+ * use stop_machine, whith does (intentionally) introduce latency since we
                      ^^^^^

WARNING:TYPO_SPELLING: 'actualy' may be misspelled - perhaps 'actually'?
#396: FILE: drivers/misc/smi_detector.c:258:
+ * find there are any actualy systems with alternate SMI delivery.
                       ^^^^^^^

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#404: FILE: drivers/misc/smi_detector.c:266:
+	while (!kthread_should_stop()) {
+

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#422: FILE: drivers/misc/smi_detector.c:284:
+
+	}

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#426: FILE: drivers/misc/smi_detector.c:288:
+	printk(KERN_ERR SMI_BANNER "could not call stop_machine, disabling\n");

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#431: FILE: drivers/misc/smi_detector.c:293:
+
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#442: FILE: drivers/misc/smi_detector.c:304:
+	smi_kthread = kthread_run(smi_kthread_fn, NULL,
+					"smi_detector");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#444: FILE: drivers/misc/smi_detector.c:306:
+		printk(KERN_ERR SMI_BANNER "could not start sampling thread\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#499: FILE: drivers/misc/smi_detector.c:361:
+		printk(KERN_ERR SMI_BANNER "failed to allocate ring buffer!\n");

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#514: FILE: drivers/misc/smi_detector.c:376:
+
+}

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#519: FILE: drivers/misc/smi_detector.c:381:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#524: FILE: drivers/misc/smi_detector.c:386:
+static int smi_debug_count_fopen(struct inode *inode, struct file *filp)
                                                                    ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#531: FILE: drivers/misc/smi_detector.c:393:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#536: FILE: drivers/misc/smi_detector.c:398:
+static ssize_t smi_debug_count_fread(struct file *filp, char __user *ubuf,
                                                   ^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cnt < sizeof(buf)'
#545: FILE: drivers/misc/smi_detector.c:407:
+	if ((cnt < sizeof(buf)) || (*ppos))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#561: FILE: drivers/misc/smi_detector.c:423:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#566: FILE: drivers/misc/smi_detector.c:428:
+static ssize_t  smi_debug_count_fwrite(struct file *filp,
                                                     ^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#580: FILE: drivers/misc/smi_detector.c:442:
+	buf[SMI_U64STR_SIZE-1] = '\0';			/* just in case */
 	                   ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:CONSIDER_KSTRTO: strict_strtoull is obsolete, use kstrtoull instead
#581: FILE: drivers/misc/smi_detector.c:443:
+	err = strict_strtoull(buf, 10, &val);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#582: FILE: drivers/misc/smi_detector.c:444:
+	if (0 != err)

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#595: FILE: drivers/misc/smi_detector.c:457:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#600: FILE: drivers/misc/smi_detector.c:462:
+static int smi_debug_enable_fopen(struct inode *inode, struct file *filp)
                                                                     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#607: FILE: drivers/misc/smi_detector.c:469:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#612: FILE: drivers/misc/smi_detector.c:474:
+static ssize_t smi_debug_enable_fread(struct file *filp, char __user *ubuf,
                                                    ^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cnt < sizeof(buf)'
#617: FILE: drivers/misc/smi_detector.c:479:
+	if ((cnt < sizeof(buf)) || (*ppos))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#630: FILE: drivers/misc/smi_detector.c:492:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#635: FILE: drivers/misc/smi_detector.c:497:
+static ssize_t  smi_debug_enable_fwrite(struct file *filp,
                                                      ^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#649: FILE: drivers/misc/smi_detector.c:511:
+	buf[sizeof(buf)-1] = '\0';			/* just in case */
 	               ^

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#650: FILE: drivers/misc/smi_detector.c:512:
+	err = strict_strtoul(buf, 10, &val);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#651: FILE: drivers/misc/smi_detector.c:513:
+	if (0 != err)

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#675: FILE: drivers/misc/smi_detector.c:537:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#680: FILE: drivers/misc/smi_detector.c:542:
+static int smi_debug_max_fopen(struct inode *inode, struct file *filp)
                                                                  ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#687: FILE: drivers/misc/smi_detector.c:549:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#692: FILE: drivers/misc/smi_detector.c:554:
+static ssize_t smi_debug_max_fread(struct file *filp, char __user *ubuf,
                                                 ^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cnt < sizeof(buf)'
#701: FILE: drivers/misc/smi_detector.c:563:
+	if ((cnt < sizeof(buf)) || (*ppos))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#717: FILE: drivers/misc/smi_detector.c:579:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#722: FILE: drivers/misc/smi_detector.c:584:
+static ssize_t  smi_debug_max_fwrite(struct file *filp,
                                                   ^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#736: FILE: drivers/misc/smi_detector.c:598:
+	buf[SMI_U64STR_SIZE-1] = '\0';			/* just in case */
 	                   ^

WARNING:CONSIDER_KSTRTO: strict_strtoull is obsolete, use kstrtoull instead
#737: FILE: drivers/misc/smi_detector.c:599:
+	err = strict_strtoull(buf, 10, &val);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#738: FILE: drivers/misc/smi_detector.c:600:
+	if (0 != err)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#748: FILE: drivers/misc/smi_detector.c:610:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#752: FILE: drivers/misc/smi_detector.c:614:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#758: FILE: drivers/misc/smi_detector.c:620:
+static int smi_debug_sample_fopen(struct inode *inode, struct file *filp)
                                                                     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#774: FILE: drivers/misc/smi_detector.c:636:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#783: FILE: drivers/misc/smi_detector.c:645:
+static ssize_t smi_debug_sample_fread(struct file *filp, char __user *ubuf,
                                                    ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#784: FILE: drivers/misc/smi_detector.c:646:
+static ssize_t smi_debug_sample_fread(struct file *filp, char __user *ubuf,
+					size_t cnt, loff_t *ppos)

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*sample)...) over kzalloc(sizeof(struct smi_sample)...)
#793: FILE: drivers/misc/smi_detector.c:655:
+	sample = kzalloc(sizeof(struct smi_sample), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#798: FILE: drivers/misc/smi_detector.c:660:
+	while (!smi_buffer_get_sample(sample)) {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#822: FILE: drivers/misc/smi_detector.c:684:
+	len = snprintf(buf, sizeof(buf), "%010lu.%010lu\t%llu\n",
+		      sample->timestamp.tv_sec,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#826: FILE: drivers/misc/smi_detector.c:688:
+
+

WARNING:TYPO_SPELLING: 'represenation' may be misspelled - perhaps 'representation'?
#841: FILE: drivers/misc/smi_detector.c:703:
+ * @inode: The in-kernel inode represenation of the debugfs "file"
                                ^^^^^^^^^^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#842: FILE: drivers/misc/smi_detector.c:704:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#846: FILE: drivers/misc/smi_detector.c:708:
+static int smi_debug_sample_release(struct inode *inode, struct file *filp)
                                                                       ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#858: FILE: drivers/misc/smi_detector.c:720:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#863: FILE: drivers/misc/smi_detector.c:725:
+static int smi_debug_threshold_fopen(struct inode *inode, struct file *filp)
                                                                        ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#870: FILE: drivers/misc/smi_detector.c:732:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#875: FILE: drivers/misc/smi_detector.c:737:
+static ssize_t smi_debug_threshold_fread(struct file *filp, char __user *ubuf,
                                                       ^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cnt < sizeof(buf)'
#884: FILE: drivers/misc/smi_detector.c:746:
+	if ((cnt < sizeof(buf)) || (*ppos))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#900: FILE: drivers/misc/smi_detector.c:762:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#905: FILE: drivers/misc/smi_detector.c:767:
+static ssize_t  smi_debug_threshold_fwrite(struct file *filp,
                                                         ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#906: FILE: drivers/misc/smi_detector.c:768:
+static ssize_t  smi_debug_threshold_fwrite(struct file *filp,
+					const char __user *ubuf,

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#919: FILE: drivers/misc/smi_detector.c:781:
+	buf[SMI_U64STR_SIZE-1] = '\0';			/* just in case */
 	                   ^

WARNING:CONSIDER_KSTRTO: strict_strtoull is obsolete, use kstrtoull instead
#920: FILE: drivers/misc/smi_detector.c:782:
+	err = strict_strtoull(buf, 10, &val);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#921: FILE: drivers/misc/smi_detector.c:783:
+	if (0 != err)

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#937: FILE: drivers/misc/smi_detector.c:799:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#942: FILE: drivers/misc/smi_detector.c:804:
+static int smi_debug_width_fopen(struct inode *inode, struct file *filp)
                                                                    ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#949: FILE: drivers/misc/smi_detector.c:811:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#954: FILE: drivers/misc/smi_detector.c:816:
+static ssize_t smi_debug_width_fread(struct file *filp, char __user *ubuf,
                                                   ^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cnt < sizeof(buf)'
#963: FILE: drivers/misc/smi_detector.c:825:
+	if ((cnt < sizeof(buf)) || (*ppos))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#979: FILE: drivers/misc/smi_detector.c:841:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#984: FILE: drivers/misc/smi_detector.c:846:
+static ssize_t  smi_debug_width_fwrite(struct file *filp,
                                                     ^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#998: FILE: drivers/misc/smi_detector.c:860:
+	buf[SMI_U64STR_SIZE-1] = '\0';			/* just in case */
 	                   ^

WARNING:CONSIDER_KSTRTO: strict_strtoull is obsolete, use kstrtoull instead
#999: FILE: drivers/misc/smi_detector.c:861:
+	err = strict_strtoull(buf, 10, &val);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1000: FILE: drivers/misc/smi_detector.c:862:
+	if (0 != err)

CHECK:BRACES: braces {} should be used on all arms of this statement
#1004: FILE: drivers/misc/smi_detector.c:866:
+	if (val < smi_data.sample_window)
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1006: FILE: drivers/misc/smi_detector.c:868:
+	else {

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1021: FILE: drivers/misc/smi_detector.c:883:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1026: FILE: drivers/misc/smi_detector.c:888:
+static int smi_debug_window_fopen(struct inode *inode, struct file *filp)
                                                                     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1033: FILE: drivers/misc/smi_detector.c:895:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1038: FILE: drivers/misc/smi_detector.c:900:
+static ssize_t smi_debug_window_fread(struct file *filp, char __user *ubuf,
                                                    ^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cnt < sizeof(buf)'
#1047: FILE: drivers/misc/smi_detector.c:909:
+	if ((cnt < sizeof(buf)) || (*ppos))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1063: FILE: drivers/misc/smi_detector.c:925:
+ * @filp: The active open file structure for the debugfs "file"
     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1068: FILE: drivers/misc/smi_detector.c:930:
+static ssize_t  smi_debug_window_fwrite(struct file *filp,
                                                      ^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1082: FILE: drivers/misc/smi_detector.c:944:
+	buf[SMI_U64STR_SIZE-1] = '\0';			/* just in case */
 	                   ^

WARNING:CONSIDER_KSTRTO: strict_strtoull is obsolete, use kstrtoull instead
#1083: FILE: drivers/misc/smi_detector.c:945:
+	err = strict_strtoull(buf, 10, &val);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1084: FILE: drivers/misc/smi_detector.c:946:
+	if (0 != err)

CHECK:BRACES: braces {} should be used on all arms of this statement
#1088: FILE: drivers/misc/smi_detector.c:950:
+	if (smi_data.sample_width < val)
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1090: FILE: drivers/misc/smi_detector.c:952:
+	else {

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1133: FILE: drivers/misc/smi_detector.c:995:
+^I.open ^I^I= smi_debug_sample_fopen,$

WARNING:TYPO_SPELLING: 'dectector' may be misspelled - perhaps 'detector'?
#1174: FILE: drivers/misc/smi_detector.c:1036:
+ * maximum sample that has been captured since the SMI dectector started.
                                                        ^^^^^^^^^

CHECK:BRACES: braces {} should be used on all arms of this statement
#1223: FILE: drivers/misc/smi_detector.c:1085:
+	if (!smi_debug_enable)
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1226: FILE: drivers/misc/smi_detector.c:1088:
+	else {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1273: FILE: drivers/misc/smi_detector.c:1135:
+	printk(KERN_INFO SMI_BANNER "version %s\n", SMI_VERSION);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1276: FILE: drivers/misc/smi_detector.c:1138:
+	if (0 != ret)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1280: FILE: drivers/misc/smi_detector.c:1142:
+	if (0 != ret)

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1293: FILE: drivers/misc/smi_detector.c:1155:
+
+}

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1308: FILE: drivers/misc/smi_detector.c:1170:
+
+}

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000117718.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 76 warnings, 38 checks, 1255 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000117718.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
