WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#27: 
This patch contains code to access Brocade Fibre channel HBA firmware/hardware, part-1

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#53: FILE: drivers/scsi/bfa/bfa_aen.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#110: FILE: drivers/scsi/bfa/bfa_callback_priv.h:1:
+/*

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__hcb_qe' - possible side-effects?
#145: FILE: drivers/scsi/bfa/bfa_callback_priv.h:36:
+#define bfa_cb_queue(__bfa, __hcb_qe, __cbfn, __cbarg) do {		\
+	(__hcb_qe)->cbfn  = (__cbfn);      \
+	(__hcb_qe)->cbarg = (__cbarg);      \
+	list_add_tail(&(__hcb_qe)->qe, &(__bfa)->comp_q);      \
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__hcb_qe' - possible side-effects?
#153: FILE: drivers/scsi/bfa/bfa_callback_priv.h:44:
+#define bfa_cb_queue_once(__bfa, __hcb_qe, __cbfn, __cbarg) do {	\
+	(__hcb_qe)->cbfn  = (__cbfn);      \
+	(__hcb_qe)->cbarg = (__cbarg);      \
+	if (!(__hcb_qe)->once) {      \
+		list_add_tail((__hcb_qe), &(__bfa)->comp_q);      \
+		(__hcb_qe)->once = BFA_TRUE;				\
+	}								\
+} while (0)

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#162: FILE: drivers/scsi/bfa/bfa_callback_priv.h:53:
+#define bfa_cb_queue_done(__hcb_qe) do {				\
+	(__hcb_qe)->once = BFA_FALSE;					\
+} while (0)

For the multi-statement macros, it is necessary to use the do-while
loop to avoid unpredictable code paths. The do-while loop helps to
group the multiple statements into a single one so that a
function-like macro can be used as a function only.

But for the single statement macros, it is unnecessary to use the
do-while loop. Although the code is syntactically correct but using
the do-while loop is redundant. So remove the do-while loop for single
statement macros.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#171: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:1:
+/*

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#224: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:54:
+	return (lun.bfa_lun);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

CHECK:SPACING: No space is necessary after a cast
#241: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:71:
+	return ((u8 *) cmnd->cmnd);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#270: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:100:
+	return (scsi_bufflen(cmnd));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cmnd->device->host"
#283: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:113:
+	if (cmnd->device->host == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:SPACING: No space is necessary after a cast
#301: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:131:
+		addr = (u64) sg_dma_address(sge);

CHECK:SPACING: No space is necessary after a cast
#303: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:133:
+		addr = (u64) cmnd->SCp.dma_handle;

CHECK:CAMELCASE: Avoid CamelCase: <SCp>
#303: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:133:
+		addr = (u64) cmnd->SCp.dma_handle;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:SPACING: No space is necessary after a cast
#306: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:136:
+	return (*(union bfi_addr_u *) &addr);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#378: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:208:
+	return (cmnd->cmd_len);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#381: FILE: drivers/scsi/bfa/bfa_cb_ioim_macros.h:211:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#388: FILE: drivers/scsi/bfa/bfa_cee.c:1:
+/*

WARNING:TYPO_SPELLING: 'cna' may be misspelled - perhaps 'can'?
#413: FILE: drivers/scsi/bfa/bfa_cee.c:26:
+#include <cna/bfa_cna_trcmod.h>
           ^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'CNA' may be misspelled - perhaps 'CAN'?
#415: FILE: drivers/scsi/bfa/bfa_cee.c:28:
+BFA_TRC_FILE(CNA, CEE);
              ^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#433: FILE: drivers/scsi/bfa/bfa_cee.c:46:
+	struct bfa_cee_stats_s *cee_stats = buffer;
+	bfa_cee_format_dcbcx_stats(&cee_stats->dcbx_stats);

WARNING:LINE_SPACING: Missing a blank line after declarations
#442: FILE: drivers/scsi/bfa/bfa_cee.c:55:
+	struct bfa_cee_attr_s *cee_cfg = buffer;
+	bfa_cee_format_lldp_cfg(&cee_cfg->lldp_remote);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#626: FILE: drivers/scsi/bfa/bfa_cee.c:239:
+ * ^I      dma_kva Kernel Virtual Address of CEE DMA Memory$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#627: FILE: drivers/scsi/bfa/bfa_cee.c:240:
+ * ^I      dma_pa  Physical Address of CEE DMA Memory$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cee"
#659: FILE: drivers/scsi/bfa/bfa_cee.c:272:
+	bfa_assert((cee != NULL) && (cee->ioc != NULL));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cee->ioc"
#659: FILE: drivers/scsi/bfa/bfa_cee.c:272:
+	bfa_assert((cee != NULL) && (cee->ioc != NULL));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cee"
#699: FILE: drivers/scsi/bfa/bfa_cee.c:312:
+	bfa_assert((cee != NULL) && (cee->ioc != NULL));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cee->ioc"
#699: FILE: drivers/scsi/bfa/bfa_cee.c:312:
+	bfa_assert((cee != NULL) && (cee->ioc != NULL));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cee"
#738: FILE: drivers/scsi/bfa/bfa_cee.c:351:
+	bfa_assert((cee != NULL) && (cee->ioc != NULL));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cee->ioc"
#738: FILE: drivers/scsi/bfa/bfa_cee.c:351:
+	bfa_assert((cee != NULL) && (cee->ioc != NULL));

WARNING:LINE_SPACING: Missing a blank line after declarations
#773: FILE: drivers/scsi/bfa/bfa_cee.c:386:
+	struct bfa_cee_s *cee = (struct bfa_cee_s *)cbarg;
+	msg = (union bfi_cee_i2h_msg_u *)m;

WARNING:LINE_SPACING: Missing a blank line after declarations
#805: FILE: drivers/scsi/bfa/bfa_cee.c:418:
+	struct bfa_cee_s *cee;
+	cee = (struct bfa_cee_s *)arg;

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cee"
#851: FILE: drivers/scsi/bfa/bfa_cee.c:464:
+	bfa_assert(cee != NULL);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#884: FILE: drivers/scsi/bfa/bfa_core.c:1:
+/*

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#931: FILE: drivers/scsi/bfa/bfa_core.c:48:
+ * @param[in] cfg - ^Ipointer to bfa_ioc_cfg_t. Driver layer should indicate$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#932: FILE: drivers/scsi/bfa/bfa_core.c:49:
+ * ^I^I^Iits configuration in this structure.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#936: FILE: drivers/scsi/bfa/bfa_core.c:53:
+ * ^I^I^IIf cap's boundary check fails, the library will use$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#940: FILE: drivers/scsi/bfa/bfa_core.c:57:
+ * ^I^I^Iindicates the memory type (see bfa_mem_type_t) and$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cfg"
#957: FILE: drivers/scsi/bfa/bfa_core.c:74:
+	bfa_assert((cfg != NULL) && (meminfo != NULL));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "meminfo"
#957: FILE: drivers/scsi/bfa/bfa_core.c:74:
+	bfa_assert((cfg != NULL) && (meminfo != NULL));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#970: FILE: drivers/scsi/bfa/bfa_core.c:87:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#984: FILE: drivers/scsi/bfa/bfa_core.c:101:
+ * @param[in]^Ibfad ^IOpaque handle back to the driver's IOC structure$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#986: FILE: drivers/scsi/bfa/bfa_core.c:103:
+ * ^I^I^Ithat was used in bfa_cfg_get_meminfo().$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#987: FILE: drivers/scsi/bfa/bfa_core.c:104:
+ * @param[in] ^Imeminfo Pointer to bfa_meminfo_t. The driver should$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#988: FILE: drivers/scsi/bfa/bfa_core.c:105:
+ * ^I^I^Iuse the bfa_cfg_get_meminfo() call to$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#989: FILE: drivers/scsi/bfa/bfa_core.c:106:
+ * ^I^I^Ifind the memory blocks required, allocate the$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#990: FILE: drivers/scsi/bfa/bfa_core.c:107:
+ * ^I^I^Irequired memory and provide the starting addresses.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#991: FILE: drivers/scsi/bfa/bfa_core.c:108:
+ * @param[in] ^Ipcidev^Ipointer to struct bfa_pcidev_s$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1003: FILE: drivers/scsi/bfa/bfa_core.c:120:
+bfa_attach(struct bfa_s *bfa, void *bfad, struct bfa_iocfc_cfg_s *cfg,
+	       struct bfa_meminfo_s *meminfo, struct bfa_pcidev_s *pcidev)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "cfg"
#1010: FILE: drivers/scsi/bfa/bfa_core.c:127:
+	bfa_assert((cfg != NULL) && (meminfo != NULL));

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "meminfo"
#1010: FILE: drivers/scsi/bfa/bfa_core.c:127:
+	bfa_assert((cfg != NULL) && (meminfo != NULL));

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1026: FILE: drivers/scsi/bfa/bfa_core.c:143:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1052: FILE: drivers/scsi/bfa/bfa_core.c:169:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1059: FILE: drivers/scsi/bfa/bfa_core.c:176:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1066: FILE: drivers/scsi/bfa/bfa_core.c:183:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1120: FILE: drivers/scsi/bfa/bfa_core.c:237:
+ * @param[in] ^Ibfa - pointer to bfa_t.$

CHECK:SPACING: No space is necessary after a cast
#1152: FILE: drivers/scsi/bfa/bfa_core.c:269:
+		hcb_qe = (struct bfa_cb_qe_s *) qe;

CHECK:SPACING: No space is necessary after a cast
#1165: FILE: drivers/scsi/bfa/bfa_core.c:282:
+		hcb_qe = (struct bfa_cb_qe_s *) qe;

WARNING:ARRAY_SIZE: Prefer ARRAY_SIZE(__pciids)
#1199: FILE: drivers/scsi/bfa/bfa_core.c:316:
+	*npciids = sizeof(__pciids) / sizeof(__pciids[0]);

The ARRAY_SIZE(foo) macro should be preferred over
sizeof(foo)/sizeof(foo[0]) for finding number of elements in an
array.

The macro is defined in include/linux/kernel.h::

  #define ARRAY_SIZE(x) (sizeof(x) / sizeof((x)[0]))

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1214: FILE: drivers/scsi/bfa/bfa_core.c:331:
+ * ^Inote$

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1237: FILE: drivers/scsi/bfa/bfa_core.c:354:
+
+}

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1271: FILE: drivers/scsi/bfa/bfa_core.c:388:
+ * ^I^IFetch firmware trace data.$

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1290: FILE: drivers/scsi/bfa/bfa_csdebug.c:1:
+/*

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1316: FILE: drivers/scsi/bfa/bfa_csdebug.c:27:
+
+

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tqe"
#1341: FILE: drivers/scsi/bfa/bfa_csdebug.c:52:
+		if (tqe == NULL)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1347: FILE: drivers/scsi/bfa/bfa_csdebug.c:58:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1352: FILE: drivers/scsi/bfa/bfa_fcpim.c:1:
+/*

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1380: FILE: drivers/scsi/bfa/bfa_fcpim.c:29:
+ * ^I^ICompute and return memory needed by FCP(im) module.$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1384: FILE: drivers/scsi/bfa/bfa_fcpim.c:33:
+bfa_fcpim_meminfo(struct bfa_iocfc_cfg_s *cfg, u32 *km_len,
+		u32 *dm_len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1409: FILE: drivers/scsi/bfa/bfa_fcpim.c:58:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1412: FILE: drivers/scsi/bfa/bfa_fcpim.c:61:
+bfa_fcpim_attach(struct bfa_s *bfa, void *bfad, struct bfa_iocfc_cfg_s *cfg,
+		     struct bfa_meminfo_s *meminfo, struct bfa_pcidev_s *pcidev)

CHECK:SPACING: No space is necessary after a cast
#1465: FILE: drivers/scsi/bfa/bfa_fcpim.c:114:
+		itnim = (struct bfa_itnim_s *) qe;

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1523: FILE: drivers/scsi/bfa/bfa_fcpim.c:172:
+	return (fcpim->q_depth);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1526: FILE: drivers/scsi/bfa/bfa_fcpim.c:175:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1531: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:1:
+/*

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1567: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:37:
+#define bfa_fcpim_stats(__fcpim, __stats)   \
+    (__fcpim)->stats.__stats ++

CHECK:MACRO_ARG_PRECEDENCE: Macro argument '__stats' may be better as '(__stats)' to avoid precedence issues
#1567: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:37:
+#define bfa_fcpim_stats(__fcpim, __stats)   \
+    (__fcpim)->stats.__stats ++

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1568: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:38:
+    (__fcpim)->stats.__stats ++$

ERROR:SPACING: space prohibited before that '++' (ctx:WxE)
#1568: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:38:
+    (__fcpim)->stats.__stats ++
                              ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1571: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:41:
+^Istruct bfa_s ^I*bfa;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1572: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:42:
+^Istruct bfa_itnim_s ^I*itnim_arr;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1573: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:43:
+^Istruct bfa_ioim_s ^I*ioim_arr;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1575: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:45:
+^Istruct bfa_tskim_s ^I*tskim_arr;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1583: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:53:
+^Istruct list_head ^Iitnim_q;        /*  queue of active itnim    */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1584: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:54:
+^Istruct list_head ^Iioim_free_q;    /*  free IO resources        */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1585: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:55:
+^Istruct list_head ^Iioim_resfree_q; /*  IOs waiting for f/w      */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1586: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:56:
+^Istruct list_head ^Iioim_comp_q;    /*  IO global comp Q         */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1587: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:57:
+^Istruct list_head ^Itskim_free_q;$

WARNING:TYPO_SPELLING: 'elememt' may be misspelled - perhaps 'element'?
#1600: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:70:
+	struct list_head qe;		/*  queue elememt            */
 	                    		          ^^^^^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1601: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:71:
+^Ibfa_sm_t^I^Ism; ^I/*  BFA ioim state machine   */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1602: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:72:
+^Istruct bfa_s ^I        *bfa;^I/*  BFA module               */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1604: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:74:
+^Istruct bfa_itnim_s ^I*itnim;^I/*  i-t-n nexus for this IO  */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1605: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:75:
+^Istruct bfad_ioim_s ^I*dio;^I/*  driver IO handle         */$

WARNING:TYPO_SPELLING: 'unqiue' may be misspelled - perhaps 'unique'?
#1607: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:77:
+	u16	abort_tag;	/*  unqiue abort request tag */
 	   	          	    ^^^^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1618: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:88:
+^Istruct bfi_msg_s ^Icomp_rspmsg;^I/*  IO comp f/w response     */$

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1676: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:146:
+#define bfa_itnim_is_online(_itnim) (_itnim)->is_online

CHECK:MACRO_ARG_PRECEDENCE: Macro argument '_tmtag' may be better as '(_tmtag)' to avoid precedence issues
#1680: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:150:
+#define BFA_TSKIM_FROM_TAG(_fcpim, _tmtag)                  \
+    (&fcpim->tskim_arr[_tmtag & (fcpim->num_tskim_reqs - 1)])

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1681: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:151:
+    (&fcpim->tskim_arr[_tmtag & (fcpim->num_tskim_reqs - 1)])$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1687: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:157:
+void            bfa_ioim_attach(struct bfa_fcpim_mod_s *fcpim,
+				    struct bfa_meminfo_s *minfo);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1691: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:161:
+void            bfa_ioim_good_comp_isr(struct bfa_s *bfa,
+					struct bfi_msg_s *msg);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1694: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:164:
+void            bfa_ioim_cleanup_tm(struct bfa_ioim_s *ioim,
+					struct bfa_tskim_s *tskim);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1699: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:169:
+void            bfa_tskim_attach(struct bfa_fcpim_mod_s *fcpim,
+				     struct bfa_meminfo_s *minfo);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1707: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:177:
+void            bfa_itnim_meminfo(struct bfa_iocfc_cfg_s *cfg, u32 *km_len,
+				      u32 *dm_len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1709: FILE: drivers/scsi/bfa/bfa_fcpim_priv.h:179:
+void            bfa_itnim_attach(struct bfa_fcpim_mod_s *fcpim,
+				     struct bfa_meminfo_s *minfo);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1723: FILE: drivers/scsi/bfa/bfa_fcport.c:1:
+/*

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__pport' - possible side-effects?
#1751: FILE: drivers/scsi/bfa/bfa_fcport.c:29:
+#define bfa_pport_callback(__pport, __event) do {			\
+	if ((__pport)->bfa->fcs) {      \
+		(__pport)->event_cbfn((__pport)->event_cbarg, (__event));      \
+	} else {							\
+		(__pport)->hcb_event = (__event);      \
+		bfa_cb_queue((__pport)->bfa, &(__pport)->hcb_qe,	\
+		__bfa_cb_port_event, (__pport));      \
+	}								\
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__event' - possible side-effects?
#1751: FILE: drivers/scsi/bfa/bfa_fcport.c:29:
+#define bfa_pport_callback(__pport, __event) do {			\
+	if ((__pport)->bfa->fcs) {      \
+		(__pport)->event_cbfn((__pport)->event_cbarg, (__event));      \
+	} else {							\
+		(__pport)->hcb_event = (__event);      \
+		bfa_cb_queue((__pport)->bfa, &(__pport)->hcb_qe,	\
+		__bfa_cb_port_event, (__pport));      \
+	}								\
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'bfa' - possible side-effects?
#1765: FILE: drivers/scsi/bfa/bfa_fcport.c:43:
+#define BFA_PORT_IS_DISABLED(bfa) \
+	((bfa_pport_is_disabled(bfa) == BFA_TRUE) || \
+	(bfa_ioc_is_disabled(&bfa->ioc) == BFA_TRUE))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pport->cfg.qos_enabled'
#2040: FILE: drivers/scsi/bfa/bfa_fcport.c:318:
+		if ((pport->cfg.qos_enabled)
+		    && (bfa_os_ntohl(pport->qos_attr.state) != BFA_QOS_ONLINE))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2041: FILE: drivers/scsi/bfa/bfa_fcport.c:319:
+		if ((pport->cfg.qos_enabled)
+		    && (bfa_os_ntohl(pport->qos_attr.state) != BFA_QOS_ONLINE))

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#2114: FILE: drivers/scsi/bfa/bfa_fcport.c:392:
+		if (BFA_PORT_IS_DISABLED(pport->bfa)) {
[...]
+		} else {
[...]

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#2124: FILE: drivers/scsi/bfa/bfa_fcport.c:402:
+		if (BFA_PORT_IS_DISABLED(pport->bfa)) {
[...]
+		} else {
[...]

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#2135: FILE: drivers/scsi/bfa/bfa_fcport.c:413:
+		if (BFA_PORT_IS_DISABLED(pport->bfa)) {
[...]
+		} else {
[...]

WARNING:DEFAULT_NO_BREAK: switch default: should use break
#2291: FILE: drivers/scsi/bfa/bfa_fcport.c:569:
+	default:
+		/**
+		 * Ignore all other events.
+		 */
+		;

switch default case is sometimes written as "default:;".  This can
cause new cases added below default to be defective.

A "break;" should be added after empty default statement to avoid
unwanted fallthrough.

WARNING:DEFAULT_NO_BREAK: switch default: should use break
#2315: FILE: drivers/scsi/bfa/bfa_fcport.c:593:
+	default:
+		/**
+		 * Ignore all events.
+		 */
+		;

WARNING:DEFAULT_NO_BREAK: switch default: should use break
#2340: FILE: drivers/scsi/bfa/bfa_fcport.c:618:
+	default:
+		/**
+		 * Ignore all events.
+		 */
+		;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2348: FILE: drivers/scsi/bfa/bfa_fcport.c:626:
+
+

WARNING:TYPO_SPELLING: 'pevent' may be misspelled - perhaps 'prevent'?
#2485: FILE: drivers/scsi/bfa/bfa_fcport.c:763:
+	struct bfi_pport_event_s *pevent = pport->event_arg.i2hmsg.event;
 	                          ^^^^^^

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#2599: FILE: drivers/scsi/bfa/bfa_fcport.c:877:
+{
+

CHECK:SPACING: No space is necessary after a cast
#2614: FILE: drivers/scsi/bfa/bfa_fcport.c:892:
+	m->tx_bbcredit = bfa_os_htons((u16) port->cfg.tx_bbcredit);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2622: FILE: drivers/scsi/bfa/bfa_fcport.c:900:
+
+

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2671: FILE: drivers/scsi/bfa/bfa_fcport.c:949:
+		if (pport->stats_busy == BFA_FALSE
+		    || pport->stats_status == BFA_STATUS_ETIMER)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2685: FILE: drivers/scsi/bfa/bfa_fcport.c:963:
+		if (pport->stats_busy == BFA_FALSE
+		    || pport->stats_status == BFA_STATUS_ETIMER)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2699: FILE: drivers/scsi/bfa/bfa_fcport.c:977:
+
+

WARNING:SPACING: Unnecessary space before function pointer arguments
#2710: FILE: drivers/scsi/bfa/bfa_fcport.c:988:
+			 void (*cbfn) (void *cbarg, bfa_pport_event_t event),

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'speed != BFA_PPORT_SPEED_AUTO'
#2751: FILE: drivers/scsi/bfa/bfa_fcport.c:1029:
+	if ((speed != BFA_PPORT_SPEED_AUTO) && (speed > pport->speed_sup)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'speed > pport->speed_sup'
#2751: FILE: drivers/scsi/bfa/bfa_fcport.c:1029:
+	if ((speed != BFA_PPORT_SPEED_AUTO) && (speed > pport->speed_sup)) {

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#2758: FILE: drivers/scsi/bfa/bfa_fcport.c:1036:
+	return (BFA_STATUS_OK);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#2794: FILE: drivers/scsi/bfa/bfa_fcport.c:1072:
+	return (BFA_STATUS_OK);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#2820: FILE: drivers/scsi/bfa/bfa_fcport.c:1098:
+	return (BFA_STATUS_OK);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#2832: FILE: drivers/scsi/bfa/bfa_fcport.c:1110:
+	return (BFA_STATUS_OK);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'maxfrsize > FC_MAX_PDUSZ'
#2863: FILE: drivers/scsi/bfa/bfa_fcport.c:1141:
+	if ((maxfrsize > FC_MAX_PDUSZ) || (maxfrsize < FC_MIN_PDUSZ))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'maxfrsize < FC_MIN_PDUSZ'
#2863: FILE: drivers/scsi/bfa/bfa_fcport.c:1141:
+	if ((maxfrsize > FC_MAX_PDUSZ) || (maxfrsize < FC_MIN_PDUSZ))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'maxfrsize != FC_MAX_PDUSZ'
#2869: FILE: drivers/scsi/bfa/bfa_fcport.c:1147:
+	if ((maxfrsize != FC_MAX_PDUSZ) && (maxfrsize & (maxfrsize - 1)))

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#2873: FILE: drivers/scsi/bfa/bfa_fcport.c:1151:
+	return (BFA_STATUS_OK);

CHECK:SPACING: No space is necessary after a cast
#2905: FILE: drivers/scsi/bfa/bfa_fcport.c:1183:
+	port->cfg.tx_bbcredit = (u8) tx_bbcredit;

WARNING:LINE_SPACING: Missing a blank line after declarations
#2917: FILE: drivers/scsi/bfa/bfa_fcport.c:1195:
+	struct bfa_pport_s *pport = BFA_PORT_MOD(bfa);
+	if (node)

WARNING:RETURN_VOID: void function return statements are not generally useful
#2988: FILE: drivers/scsi/bfa/bfa_fcport.c:1266:
+	return;
+}

WARNING:RETURN_VOID: void function return statements are not generally useful
#3012: FILE: drivers/scsi/bfa/bfa_fcport.c:1290:
+	return;
+}

WARNING:RETURN_VOID: void function return statements are not generally useful
#3036: FILE: drivers/scsi/bfa/bfa_fcport.c:1314:
+	return;
+}

CHECK:SPACING: No space is necessary after a cast
#3041: FILE: drivers/scsi/bfa/bfa_fcport.c:1319:
+	u32       *dip = (u32 *) d;

CHECK:SPACING: No space is necessary after a cast
#3042: FILE: drivers/scsi/bfa/bfa_fcport.c:1320:
+	u32       *sip = (u32 *) s;

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3141: FILE: drivers/scsi/bfa/bfa_fcport.c:1419:
+		return (BFA_STATUS_DEVBUSY);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3153: FILE: drivers/scsi/bfa/bfa_fcport.c:1431:
+	return (BFA_STATUS_OK);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3163: FILE: drivers/scsi/bfa/bfa_fcport.c:1441:
+		return (BFA_STATUS_DEVBUSY);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3174: FILE: drivers/scsi/bfa/bfa_fcport.c:1452:
+	return (BFA_STATUS_OK);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3241: FILE: drivers/scsi/bfa/bfa_fcport.c:1519:
+	return (bfa_pport_get_stats(bfa, stats, cbfn, cbarg));

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3251: FILE: drivers/scsi/bfa/bfa_fcport.c:1529:
+		return (BFA_STATUS_DEVBUSY);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3262: FILE: drivers/scsi/bfa/bfa_fcport.c:1540:
+	return (BFA_STATUS_OK);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3271: FILE: drivers/scsi/bfa/bfa_fcport.c:1549:
+	return (BFA_STATUS_OK);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#3291: FILE: drivers/scsi/bfa/bfa_fcport.c:1569:
+
+}

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3298: FILE: drivers/scsi/bfa/bfa_fcport.c:1576:
+return (pport->cfg.ratelimit ? BFA_TRUE : BFA_FALSE);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#3300: FILE: drivers/scsi/bfa/bfa_fcport.c:1578:
+
+}

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'speed == BFA_PPORT_SPEED_AUTO'
#3339: FILE: drivers/scsi/bfa/bfa_fcport.c:1617:
+	if ((speed == BFA_PPORT_SPEED_AUTO) || (speed > pport->speed_sup)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'speed > pport->speed_sup'
#3339: FILE: drivers/scsi/bfa/bfa_fcport.c:1617:
+	if ((speed == BFA_PPORT_SPEED_AUTO) || (speed > pport->speed_sup)) {

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3346: FILE: drivers/scsi/bfa/bfa_fcport.c:1624:
+	return (BFA_STATUS_OK);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3358: FILE: drivers/scsi/bfa/bfa_fcport.c:1636:
+	return (pport->cfg.trl_def_speed);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#3360: FILE: drivers/scsi/bfa/bfa_fcport.c:1638:
+
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3394: FILE: drivers/scsi/bfa/bfa_fcport.c:1672:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3399: FILE: drivers/scsi/bfa/bfa_fcxp.c:1:
+/*

CHECK:SPACING: No space is necessary after a cast
#3480: FILE: drivers/scsi/bfa/bfa_fcxp.c:82:
+	fcxp = (struct bfa_fcxp_s *) bfa_meminfo_kva(mi);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3504: FILE: drivers/scsi/bfa/bfa_fcxp.c:106:
+bfa_fcxp_meminfo(struct bfa_iocfc_cfg_s *cfg, u32 *ndm_len,
+		u32 *dm_len)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3528: FILE: drivers/scsi/bfa/bfa_fcxp.c:130:
+bfa_fcxp_attach(struct bfa_s *bfa, void *bfad, struct bfa_iocfc_cfg_s *cfg,
+		    struct bfa_meminfo_s *meminfo, struct bfa_pcidev_s *pcidev)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#3539: FILE: drivers/scsi/bfa/bfa_fcxp.c:141:
+	mod->req_pld_sz = mod->rsp_pld_sz = BFA_FCXP_MAX_IBUF_SZ;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:SPACING: No space is necessary after a cast
#3577: FILE: drivers/scsi/bfa/bfa_fcxp.c:179:
+		fcxp = (struct bfa_fcxp_s *) qe;

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!fcxp->caller"
#3578: FILE: drivers/scsi/bfa/bfa_fcxp.c:180:
+		if (fcxp->caller == NULL) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3585: FILE: drivers/scsi/bfa/bfa_fcxp.c:187:
+			bfa_cb_queue(bfa, &fcxp->hcb_qe,
+				      __bfa_fcxp_send_cbfn, fcxp);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3600: FILE: drivers/scsi/bfa/bfa_fcxp.c:202:
+	return (fcxp);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3623: FILE: drivers/scsi/bfa/bfa_fcxp.c:225:
+bfa_fcxp_null_comp(void *bfad_fcxp, struct bfa_fcxp_s *fcxp, void *cbarg,
+		       bfa_status_t req_status, u32 rsp_len,

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3647: FILE: drivers/scsi/bfa/bfa_fcxp.c:249:
+^Istruct bfa_fcxp_s ^I*fcxp;$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "fcxp->send_cbfn"
#3665: FILE: drivers/scsi/bfa/bfa_fcxp.c:267:
+	bfa_assert(fcxp->send_cbfn != NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "fcxp->send_cbfn"
#3669: FILE: drivers/scsi/bfa/bfa_fcxp.c:271:
+	if (fcxp->send_cbfn != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!fcxp->caller"
#3670: FILE: drivers/scsi/bfa/bfa_fcxp.c:272:
+		if (fcxp->caller == NULL) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3688: FILE: drivers/scsi/bfa/bfa_fcxp.c:290:
+			bfa_cb_queue(bfa, &fcxp->hcb_qe,
+				      __bfa_fcxp_send_cbfn, fcxp);

CHECK:SPACING: No space is necessary after a cast
#3722: FILE: drivers/scsi/bfa/bfa_fcxp.c:324:
+				*((u32 *) BFA_FCXP_REQ_PLD(fcxp));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3725: FILE: drivers/scsi/bfa/bfa_fcxp.c:327:
+			bfa_plog_fchdr_and_pl(bfa->plog, BFA_PL_MID_HAL_FCXP,
+				BFA_PL_EID_TX,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3729: FILE: drivers/scsi/bfa/bfa_fcxp.c:331:
+			bfa_plog_fchdr(bfa->plog, BFA_PL_MID_HAL_FCXP,
+				BFA_PL_EID_TX, reqlen + sizeof(struct fchs_s),

CHECK:SPACING: No space is necessary after a cast
#3745: FILE: drivers/scsi/bfa/bfa_fcxp.c:347:
+				*((u32 *) BFA_FCXP_RSP_PLD(fcxp));

CHECK:SPACING: No space is necessary after a cast
#3749: FILE: drivers/scsi/bfa/bfa_fcxp.c:351:
+					      (u16) fcxp_rsp->rsp_len,

CHECK:SPACING: No space is necessary after a cast
#3754: FILE: drivers/scsi/bfa/bfa_fcxp.c:356:
+				       (u16) fcxp_rsp->rsp_len,

CHECK:SPACING: No space is necessary after a cast
#3759: FILE: drivers/scsi/bfa/bfa_fcxp.c:361:
+			       (u16) fcxp_rsp->rsp_len, &fcxp_rsp->fchs);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3784: FILE: drivers/scsi/bfa/bfa_fcxp.c:386:
+^Istruct bfa_s      ^I^I*bfa = fcxp->fcxp_mod->bfa;$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3790: FILE: drivers/scsi/bfa/bfa_fcxp.c:392:
+	bfi_h2i_set(send_req->mh, BFI_MC_FCXP, BFI_FCXP_H2I_SEND_REQ,
+			bfa_lpuid(bfa));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3862: FILE: drivers/scsi/bfa/bfa_fcxp.c:464:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3873: FILE: drivers/scsi/bfa/bfa_fcxp.c:475:
+ * ^I^I^I^Ibuffer. 0, if fcxp internal buffers are^Iused.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3874: FILE: drivers/scsi/bfa/bfa_fcxp.c:476:
+ * ^I^I^I^IUse bfa_fcxp_get_reqbuf() to get the$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3875: FILE: drivers/scsi/bfa/bfa_fcxp.c:477:
+ * ^I^I^I^Iinternal req buffer.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3877: FILE: drivers/scsi/bfa/bfa_fcxp.c:479:
+ * ^I^I^I^Icopied in by BFA and hence can be freed on$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3878: FILE: drivers/scsi/bfa/bfa_fcxp.c:480:
+ * ^I^I^I^Ireturn from this function.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3880: FILE: drivers/scsi/bfa/bfa_fcxp.c:482:
+ * ^I^I^I^IAddress (given the sge index).$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3882: FILE: drivers/scsi/bfa/bfa_fcxp.c:484:
+ * ^I^I^I^Ilen (given the sge index).$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3884: FILE: drivers/scsi/bfa/bfa_fcxp.c:486:
+ * ^I^I^I^IAddress (given the sge index).$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3886: FILE: drivers/scsi/bfa/bfa_fcxp.c:488:
+ * ^I^I^I^Ilen (given the sge index).$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3892: FILE: drivers/scsi/bfa/bfa_fcxp.c:494:
+bfa_fcxp_alloc(void *caller, struct bfa_s *bfa, int nreq_sgles,
+			int nrsp_sgles, bfa_fcxp_get_sgaddr_t req_sga_cbfn,

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "bfa"
#3900: FILE: drivers/scsi/bfa/bfa_fcxp.c:502:
+	bfa_assert(bfa != NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!fcxp"
#3903: FILE: drivers/scsi/bfa/bfa_fcxp.c:505:
+	if (fcxp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "req_sga_cbfn"
#3913: FILE: drivers/scsi/bfa/bfa_fcxp.c:515:
+		bfa_assert(req_sga_cbfn != NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "req_sglen_cbfn"
#3914: FILE: drivers/scsi/bfa/bfa_fcxp.c:516:
+		bfa_assert(req_sglen_cbfn != NULL);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3932: FILE: drivers/scsi/bfa/bfa_fcxp.c:534:
+				/* bfa_sgpg_wait(bfa, &fcxp->req_sgpg_wqe,
+				nreq_sgpg); */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3932: FILE: drivers/scsi/bfa/bfa_fcxp.c:534:
+				nreq_sgpg); */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "rsp_sga_cbfn"
#3943: FILE: drivers/scsi/bfa/bfa_fcxp.c:545:
+		bfa_assert(rsp_sga_cbfn != NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "rsp_sglen_cbfn"
#3944: FILE: drivers/scsi/bfa/bfa_fcxp.c:546:
+		bfa_assert(rsp_sglen_cbfn != NULL);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3961: FILE: drivers/scsi/bfa/bfa_fcxp.c:563:
+				/* bfa_sgpg_wait(bfa, &fcxp->rsp_sgpg_wqe,
+				nrsp_sgpg); */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3961: FILE: drivers/scsi/bfa/bfa_fcxp.c:563:
+				nrsp_sgpg); */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3977: FILE: drivers/scsi/bfa/bfa_fcxp.c:579:
+ * @return ^I^Ipointer to the internal request buffer$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4020: FILE: drivers/scsi/bfa/bfa_fcxp.c:622:
+ * ^I^IFree the BFA FCXP$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4024: FILE: drivers/scsi/bfa/bfa_fcxp.c:626:
+ * @return ^I^Ivoid$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "fcxp"
#4031: FILE: drivers/scsi/bfa/bfa_fcxp.c:633:
+	bfa_assert(fcxp != NULL);

WARNING:TYPO_SPELLING: 'Continous' may be misspelled - perhaps 'Continuous'?
#4043: FILE: drivers/scsi/bfa/bfa_fcxp.c:645:
+ * @param[in]	cts	use Continous sequence
              	   	    ^^^^^^^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4050: FILE: drivers/scsi/bfa/bfa_fcxp.c:652:
+ * ^I^I^I^I^I^I^I^Ithe response$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4059: FILE: drivers/scsi/bfa/bfa_fcxp.c:661:
+bfa_fcxp_send(struct bfa_fcxp_s *fcxp, struct bfa_rport_s *rport,
+		u16 vf_id, u8 lp_tag, bfa_boolean_t cts, enum fc_cos cos,

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4104: FILE: drivers/scsi/bfa/bfa_fcxp.c:706:
+ * @return ^I^Ivoid$

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#4110: FILE: drivers/scsi/bfa/bfa_fcxp.c:712:
+	return (BFA_STATUS_OK);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4115: FILE: drivers/scsi/bfa/bfa_fcxp.c:717:
+bfa_fcxp_alloc_wait(struct bfa_s *bfa, struct bfa_fcxp_wqe_s *wqe,
+			bfa_fcxp_alloc_cbfn_t alloc_cbfn, void *alloc_cbarg)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4152: FILE: drivers/scsi/bfa/bfa_fcxp.c:754:
+
+

CHECK:SPACING: No space is necessary after a cast
#4163: FILE: drivers/scsi/bfa/bfa_fcxp.c:765:
+		hal_fcxp_send_comp(bfa, (struct bfi_fcxp_send_rsp_s *) msg);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4180: FILE: drivers/scsi/bfa/bfa_fcxp.c:782:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4185: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:1:
+/*

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4210: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:26:
+#define BFA_FCXP_MIN     ^I(1)$

WARNING:TYPO_SPELLING: 'continous' may be misspelled - perhaps 'continuous'?
#4248: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:64:
+	u8 cts;		/*  continous sequence */
 	       		    ^^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4258: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:74:
+					 * be *sent back in this field */

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#4260: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:76:
+	u8         rsp_timeout;	/*  timeout in seconds, 0-no response
+					 */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4266: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:82:
+^Istruct list_head ^Iqe;^I^I/*  fcxp queue element */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4268: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:84:
+^Ivoid           ^I*caller;^I/*  driver or fcs */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4276: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:92:
+^Iu8 ^Iuse_ireqbuf;^I/*  use internal req buf */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4308: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:124:
+#define BFA_FCXP_REQ_PLD(_fcxp) ^I(bfa_fcxp_get_reqbuf(_fcxp))$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4310: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:126:
+#define BFA_FCXP_RSP_FCHS(_fcxp) ^I(&((_fcxp)->rsp_info.fchs))$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4311: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:127:
+#define BFA_FCXP_RSP_PLD(_fcxp) ^I(bfa_fcxp_get_rspbuf(_fcxp))$

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_fcxp' - possible side-effects?
#4313: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:129:
+#define BFA_FCXP_REQ_PLD_PA(_fcxp)					\
+	((_fcxp)->fcxp_mod->req_pld_list_pa +				\
+		((_fcxp)->fcxp_mod->req_pld_sz  * (_fcxp)->fcxp_tag))

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4317: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:133:
+#define BFA_FCXP_RSP_PLD_PA(_fcxp) ^I^I^I^I^I\$

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_fcxp' - possible side-effects?
#4317: FILE: drivers/scsi/bfa/bfa_fcxp_priv.h:133:
+#define BFA_FCXP_RSP_PLD_PA(_fcxp) 					\
+	((_fcxp)->fcxp_mod->rsp_pld_list_pa +				\
+		((_fcxp)->fcxp_mod->rsp_pld_sz * (_fcxp)->fcxp_tag))

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4327: FILE: drivers/scsi/bfa/bfa_fwimg_priv.h:1:
+/*

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#4348: FILE: drivers/scsi/bfa/bfa_fwimg_priv.h:22:
+#define	BFI_FLASH_CHUNK_SZ_WORDS	(BFI_FLASH_CHUNK_SZ/sizeof(u32))
        	                        	                   ^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4350: FILE: drivers/scsi/bfa/bfa_fwimg_priv.h:24:
+extern u32 *bfi_image_ct_get_chunk(u32 off);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#4352: FILE: drivers/scsi/bfa/bfa_fwimg_priv.h:26:
+extern u32 *bfi_image_cb_get_chunk(u32 off);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4362: FILE: drivers/scsi/bfa/bfa_hw_cb.c:1:
+/*

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4387: FILE: drivers/scsi/bfa/bfa_hw_cb.c:26:
+^Iint             ^Ii, q, fn = bfa_ioc_pcifn(&bfa->ioc);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4425: FILE: drivers/scsi/bfa/bfa_hw_cb.c:64:
+	bfa_reg_write(bfa->iocfc.bfa_regs.intr_status,
+		__HFN_INT_RME_Q0 << RME_Q_NUM(bfa_ioc_pcifn(&bfa->ioc), rspq));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4430: FILE: drivers/scsi/bfa/bfa_hw_cb.c:69:
+bfa_hwcb_msix_getvecs(struct bfa_s *bfa, u32 *msix_vecs_bmap,
+		 u32 *num_vecs, u32 *max_vec_bit)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4503: FILE: drivers/scsi/bfa/bfa_hw_cb.c:142:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4508: FILE: drivers/scsi/bfa/bfa_hw_ct.c:1:
+/*

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4563: FILE: drivers/scsi/bfa/bfa_hw_ct.c:56:
+^Iint             ^Ii, q, fn = bfa_ioc_pcifn(&bfa->ioc);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4605: FILE: drivers/scsi/bfa/bfa_hw_ct.c:98:
+bfa_hwct_msix_getvecs(struct bfa_s *bfa, u32 *msix_vecs_bmap,
+		 u32 *num_vecs, u32 *max_vec_bit)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4669: FILE: drivers/scsi/bfa/bfa_hw_ct.c:162:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4674: FILE: drivers/scsi/bfa/bfa_intr.c:1:
+/*

ERROR:SPACING: space prohibited before that '++' (ctx:WxB)
#4735: FILE: drivers/scsi/bfa/bfa_intr.c:62:
+	for (queue = 0; queue < BFI_IOC_MAX_CQS_ASIC; queue ++) {
 	                                                    ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4803: FILE: drivers/scsi/bfa/bfa_intr.c:130:
+^Istruct list_head ^I^I*waitq, *qe, *qen;$

CHECK:SPACING: No space is necessary after a cast
#4817: FILE: drivers/scsi/bfa/bfa_intr.c:144:
+		wqe = (struct bfa_reqq_wait_s *) qe;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4891: FILE: drivers/scsi/bfa/bfa_intr.c:218:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#4896: FILE: drivers/scsi/bfa/bfa_intr_priv.h:1:
+/*

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4923: FILE: drivers/scsi/bfa/bfa_intr_priv.h:28:
+
+

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#4924: FILE: drivers/scsi/bfa/bfa_intr_priv.h:29:
+#define bfa_reqq_pi(__bfa, __reqq)	(__bfa)->iocfc.req_cq_pi[__reqq]

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#4925: FILE: drivers/scsi/bfa/bfa_intr_priv.h:30:
+#define bfa_reqq_ci(__bfa, __reqq)					\
+	*(u32 *)((__bfa)->iocfc.req_cq_shadow_ci[__reqq].kva)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__bfa' - possible side-effects?
#4928: FILE: drivers/scsi/bfa/bfa_intr_priv.h:33:
+#define bfa_reqq_full(__bfa, __reqq)				\
+	(((bfa_reqq_pi(__bfa, __reqq) + 1) &			\
+	  ((__bfa)->iocfc.cfg.drvcfg.num_reqq_elems - 1)) ==	\
+	 bfa_reqq_ci(__bfa, __reqq))

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__reqq' - possible side-effects?
#4928: FILE: drivers/scsi/bfa/bfa_intr_priv.h:33:
+#define bfa_reqq_full(__bfa, __reqq)				\
+	(((bfa_reqq_pi(__bfa, __reqq) + 1) &			\
+	  ((__bfa)->iocfc.cfg.drvcfg.num_reqq_elems - 1)) ==	\
+	 bfa_reqq_ci(__bfa, __reqq))

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__bfa' - possible side-effects?
#4933: FILE: drivers/scsi/bfa/bfa_intr_priv.h:38:
+#define bfa_reqq_next(__bfa, __reqq)				\
+	(bfa_reqq_full(__bfa, __reqq) ? NULL :			\
+	 ((void *)((struct bfi_msg_s *)((__bfa)->iocfc.req_cq_ba[__reqq].kva) \
+			  + bfa_reqq_pi((__bfa), (__reqq)))))

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__reqq' - possible side-effects?
#4933: FILE: drivers/scsi/bfa/bfa_intr_priv.h:38:
+#define bfa_reqq_next(__bfa, __reqq)				\
+	(bfa_reqq_full(__bfa, __reqq) ? NULL :			\
+	 ((void *)((struct bfi_msg_s *)((__bfa)->iocfc.req_cq_ba[__reqq].kva) \
+			  + bfa_reqq_pi((__bfa), (__reqq)))))

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__bfa' - possible side-effects?
#4938: FILE: drivers/scsi/bfa/bfa_intr_priv.h:43:
+#define bfa_reqq_produce(__bfa, __reqq)	do {				\
+	(__bfa)->iocfc.req_cq_pi[__reqq]++;				\
+	(__bfa)->iocfc.req_cq_pi[__reqq] &=				\
+		((__bfa)->iocfc.cfg.drvcfg.num_reqq_elems - 1);      \
+	bfa_reg_write((__bfa)->iocfc.bfa_regs.cpe_q_pi[__reqq],		\
+				(__bfa)->iocfc.req_cq_pi[__reqq]);      \
+	bfa_os_mmiowb();      \
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__reqq' - possible side-effects?
#4938: FILE: drivers/scsi/bfa/bfa_intr_priv.h:43:
+#define bfa_reqq_produce(__bfa, __reqq)	do {				\
+	(__bfa)->iocfc.req_cq_pi[__reqq]++;				\
+	(__bfa)->iocfc.req_cq_pi[__reqq] &=				\
+		((__bfa)->iocfc.cfg.drvcfg.num_reqq_elems - 1);      \
+	bfa_reg_write((__bfa)->iocfc.bfa_regs.cpe_q_pi[__reqq],		\
+				(__bfa)->iocfc.req_cq_pi[__reqq]);      \
+	bfa_os_mmiowb();      \
+} while (0)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#4947: FILE: drivers/scsi/bfa/bfa_intr_priv.h:52:
+#define bfa_rspq_pi(__bfa, __rspq)					\
+	*(u32 *)((__bfa)->iocfc.rsp_cq_shadow_pi[__rspq].kva)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#4950: FILE: drivers/scsi/bfa/bfa_intr_priv.h:55:
+#define bfa_rspq_ci(__bfa, __rspq)	(__bfa)->iocfc.rsp_cq_ci[__rspq]

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#4951: FILE: drivers/scsi/bfa/bfa_intr_priv.h:56:
+#define bfa_rspq_elem(__bfa, __rspq, __ci)				\
+	&((struct bfi_msg_s *)((__bfa)->iocfc.rsp_cq_ba[__rspq].kva))[__ci]

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros with multiple statements should be enclosed in a do - while loop
#4954: FILE: drivers/scsi/bfa/bfa_intr_priv.h:59:
+#define CQ_INCR(__index, __size)					\
+			(__index)++; (__index) &= ((__size) - 1)

Macros with multiple statements should be enclosed in a
do - while block.  Same should also be the case for macros
starting with `if` to avoid logic defects::

  #define macrofun(a, b, c)                 \
    do {                                    \
            if (a == 5)                     \
                    do_this(b, c);          \
    } while (0)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#macros-enums-and-rtl

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__index' - possible side-effects?
#4954: FILE: drivers/scsi/bfa/bfa_intr_priv.h:59:
+#define CQ_INCR(__index, __size)					\
+			(__index)++; (__index) &= ((__size) - 1)

WARNING:TYPO_SPELLING: 'fullfilling' may be misspelled - perhaps 'fulfilling'?
#4959: FILE: drivers/scsi/bfa/bfa_intr_priv.h:64:
+ * maintained when fullfilling requests.
                    ^^^^^^^^^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#4962: FILE: drivers/scsi/bfa/bfa_intr_priv.h:67:
+^Istruct list_head ^Iqe;$

WARNING:SPACING: Unnecessary space before function pointer arguments
#4963: FILE: drivers/scsi/bfa/bfa_intr_priv.h:68:
+	void		(*qresume) (void *cbarg);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4986: FILE: drivers/scsi/bfa/bfa_intr_priv.h:91:
+bfa_reqq_winit(struct bfa_reqq_wait_s *wqe, void (*qresume) (void *cbarg),
+			void *cbarg)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#4992: FILE: drivers/scsi/bfa/bfa_intr_priv.h:97:
+#define bfa_reqq(__bfa, __reqq)	&(__bfa)->reqq_waitq[__reqq]

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__reqq' - possible side-effects?
#4998: FILE: drivers/scsi/bfa/bfa_intr_priv.h:103:
+#define bfa_reqq_wait(__bfa, __reqq, __wqe) do {			\
+									\
+		struct list_head *waitq = bfa_reqq(__bfa, __reqq);      \
+									\
+		bfa_assert(((__reqq) < BFI_IOC_MAX_CQS));      \
+		bfa_assert((__wqe)->qresume && (__wqe)->cbarg);      \
+									\
+		list_add_tail(&(__wqe)->qe, waitq);      \
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__wqe' - possible side-effects?
#4998: FILE: drivers/scsi/bfa/bfa_intr_priv.h:103:
+#define bfa_reqq_wait(__bfa, __reqq, __wqe) do {			\
+									\
+		struct list_head *waitq = bfa_reqq(__bfa, __reqq);      \
+									\
+		bfa_assert(((__reqq) < BFI_IOC_MAX_CQS));      \
+		bfa_assert((__wqe)->qresume && (__wqe)->cbarg);      \
+									\
+		list_add_tail(&(__wqe)->qe, waitq);      \
+} while (0)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000092719.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 33 errors, 110 warnings, 128 checks, 4898 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000092719.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
