WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#43: 
From: Intel Corporation, LAN Access Division <e1000-devel@lists.sourceforge.net>

CHECK:BIT_MACRO: Prefer using the BIT macro
#91: FILE: drivers/net/igb/e1000_82575.h:175:
+#define E1000_DTXSWC_VMDQ_LOOPBACK_EN (1 << 31)  /* global VF LB enable */

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:BIT_MACRO: Prefer using the BIT macro
#98: FILE: drivers/net/igb/e1000_82575.h:182:
+#define E1000_VT_CTL_DISABLE_DEF_POOL   (1 << 29)

CHECK:BIT_MACRO: Prefer using the BIT macro
#99: FILE: drivers/net/igb/e1000_82575.h:183:
+#define E1000_VT_CTL_VM_REPL_EN         (1 << 30)

ERROR:CODE_INDENT: code indent should use tabs where possible
#126: FILE: drivers/net/igb/e1000_82575.h:210:
+                                               * this are the ACK */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#126: FILE: drivers/net/igb/e1000_82575.h:210:
+                                               * this are the ACK */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:CODE_INDENT: code indent should use tabs where possible
#128: FILE: drivers/net/igb/e1000_82575.h:212:
+                                               * this are the NACK */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#128: FILE: drivers/net/igb/e1000_82575.h:212:
+                                               * this are the NACK */

WARNING:TYPO_SPELLING: 'exra' may be misspelled - perhaps 'extra'?
#130: FILE: drivers/net/igb/e1000_82575.h:214:
+/* bits 23:16 are used for exra info for certain messages */
                            ^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:CODE_INDENT: code indent should use tabs where possible
#140: FILE: drivers/net/igb/e1000_82575.h:224:
+                           u32 vf_number, s16 size);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#140: FILE: drivers/net/igb/e1000_82575.h:224:
+                           u32 vf_number, s16 size);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#142: FILE: drivers/net/igb/e1000_82575.h:226:
+                                u32 vf_number, s16 size);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#142: FILE: drivers/net/igb/e1000_82575.h:226:
+                                u32 vf_number, s16 size);$

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32*' should also have an identifier name
#148: FILE: drivers/net/igb/e1000_82575.h:232:
+bool e1000_check_for_pf_mail_vf(struct e1000_hw *hw, u32*);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#261: FILE: drivers/net/igb/igb_main.c:131:
+int igb_send_msg_to_vf(struct igb_adapter *, u32 *, u32);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct igb_adapter *' should also have an identifier name
#261: FILE: drivers/net/igb/igb_main.c:131:
+int igb_send_msg_to_vf(struct igb_adapter *, u32 *, u32);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32 *' should also have an identifier name
#261: FILE: drivers/net/igb/igb_main.c:131:
+int igb_send_msg_to_vf(struct igb_adapter *, u32 *, u32);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32' should also have an identifier name
#261: FILE: drivers/net/igb/igb_main.c:131:
+int igb_send_msg_to_vf(struct igb_adapter *, u32 *, u32);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#267: FILE: drivers/net/igb/igb_main.c:137:
+void igb_set_mc_list_pools(struct igb_adapter *, struct e1000_hw *, int, u16);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct igb_adapter *' should also have an identifier name
#267: FILE: drivers/net/igb/igb_main.c:137:
+void igb_set_mc_list_pools(struct igb_adapter *, struct e1000_hw *, int, u16);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct e1000_hw *' should also have an identifier name
#267: FILE: drivers/net/igb/igb_main.c:137:
+void igb_set_mc_list_pools(struct igb_adapter *, struct e1000_hw *, int, u16);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#267: FILE: drivers/net/igb/igb_main.c:137:
+void igb_set_mc_list_pools(struct igb_adapter *, struct e1000_hw *, int, u16);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u16' should also have an identifier name
#267: FILE: drivers/net/igb/igb_main.c:137:
+void igb_set_mc_list_pools(struct igb_adapter *, struct e1000_hw *, int, u16);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around adapter->tx_ring[i - rbase_offset]
#423: FILE: drivers/net/igb/igb_main.c:1671:
+		struct igb_ring *ring = &(adapter->tx_ring[i - rbase_offset]);

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

ERROR:SPACING: space prohibited before that close parenthesis ')'
#472: FILE: drivers/net/igb/igb_main.c:1898:
+		if ((rctl & E1000_RCTL_LPE) && adapter->vfs_allocated_count > 0 ) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around adapter->rx_ring[i - rbase_offset]
#506: FILE: drivers/net/igb/igb_main.c:1945:
+		struct igb_ring *ring = &(adapter->rx_ring[i - rbase_offset]);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#518: FILE: drivers/net/igb/igb_main.c:2342:
+		igb_update_mc_addr_list_82575(hw, mta_list, i,
+					  adapter->vfs_allocated_count + 1,

CHECK:BRACES: Unbalanced braces around else statement
#526: FILE: drivers/net/igb/igb_main.c:2350:
+	} else

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#528: FILE: drivers/net/igb/igb_main.c:2352:
+		igb_update_mc_addr_list_82575(hw, mta_list, i, 1,
+					  mac->rar_entry_count);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#613: FILE: drivers/net/igb/igb_main.c:4652:
+	 * addresses */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#616: FILE: drivers/net/igb/igb_main.c:4655:
+		printk("Adding MC Addr: %2.2X:%2.2X:%2.2X:%2.2X:%2.2X:%2.2X\n"

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#625: FILE: drivers/net/igb/igb_main.c:4664:
+		printk("Hash value = 0x%03X\n", hash_value);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#642: FILE: drivers/net/igb/igb_main.c:4681:
+		 * set and enabled */

ERROR:SPACING: space required before the open parenthesis '('
#643: FILE: drivers/net/igb/igb_main.c:4682:
+		for(i = 0; i < E1000_VLVF_ARRAY_SIZE; i++) {

ERROR:SPACING: space required before the open parenthesis '('
#663: FILE: drivers/net/igb/igb_main.c:4702:
+			for(i = 0; i < E1000_VLVF_ARRAY_SIZE; i++) {

ERROR:SPACING: space required before the open parenthesis '('
#686: FILE: drivers/net/igb/igb_main.c:4725:
+		for(i = 0; i < E1000_VLVF_ARRAY_SIZE; i++) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#718: FILE: drivers/net/igb/igb_main.c:4757:
+				 * we can't delete it here. */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#754: FILE: drivers/net/igb/igb_main.c:4793:
+		printk("VFLR Event %2.2X\n", vflre);

WARNING:LINE_SPACING: Missing a blank line after declarations
#808: FILE: drivers/net/igb/igb_main.c:4847:
+			unsigned char *p;
+			msgbuf[0] |= E1000_VT_MSGTYPE_ACK;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#811: FILE: drivers/net/igb/igb_main.c:4850:
+			if ((err = igb_send_msg_to_vf(adapter, msgbuf, vf)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#813: FILE: drivers/net/igb/igb_main.c:4852:
+				printk(KERN_INFO "Sending MAC Address %2.2x:%2.2x:"

WARNING:SPLIT_STRING: quoted string split across lines
#814: FILE: drivers/net/igb/igb_main.c:4853:
+				printk(KERN_INFO "Sending MAC Address %2.2x:%2.2x:"
+				       "%2.2x:%2.2x:%2.2x:%2.2x to VF %d\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#821: FILE: drivers/net/igb/igb_main.c:4860:
+			}
+			else {

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#821: FILE: drivers/net/igb/igb_main.c:4860:
+			else {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#822: FILE: drivers/net/igb/igb_main.c:4861:
+				printk(KERN_ERR "Error %d Sending MAC Address to VF\n",

WARNING:LINE_SPACING: Missing a blank line after declarations
#830: FILE: drivers/net/igb/igb_main.c:4869:
+			u32 vfe = rd32(E1000_VFTE);
+			vfe |= (1 << vf);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#835: FILE: drivers/net/igb/igb_main.c:4874:
+			printk(KERN_INFO "Enabling VFTE and VFRE for vf %d\n",

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#838: FILE: drivers/net/igb/igb_main.c:4877:
+			if ((err = igb_send_msg_to_vf(adapter, msgbuf, vf)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#840: FILE: drivers/net/igb/igb_main.c:4879:
+				printk(KERN_ERR "Error %d Sending VFLR Ack"

WARNING:SPLIT_STRING: quoted string split across lines
#841: FILE: drivers/net/igb/igb_main.c:4880:
+				printk(KERN_ERR "Error %d Sending VFLR Ack"
+				       "to VF\n", err);

WARNING:MISSING_SPACE: break quoted strings at a space character
#841: FILE: drivers/net/igb/igb_main.c:4880:
+				printk(KERN_ERR "Error %d Sending VFLR Ack"
+				       "to VF\n", err);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#857: FILE: drivers/net/igb/igb_main.c:4896:
+		if ((err = igb_send_msg_to_vf(adapter, msgbuf, vf) != 0))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#858: FILE: drivers/net/igb/igb_main.c:4897:
+			printk(KERN_ERR "Error %d Sending set VMOLR LPE Ack"

WARNING:SPLIT_STRING: quoted string split across lines
#859: FILE: drivers/net/igb/igb_main.c:4898:
+			printk(KERN_ERR "Error %d Sending set VMOLR LPE Ack"
+			       "to VF\n", err);

WARNING:MISSING_SPACE: break quoted strings at a space character
#859: FILE: drivers/net/igb/igb_main.c:4898:
+			printk(KERN_ERR "Error %d Sending set VMOLR LPE Ack"
+			       "to VF\n", err);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#863: FILE: drivers/net/igb/igb_main.c:4902:
+		if ((err = igb_send_msg_to_vf(adapter, msgbuf, vf) != 0))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#864: FILE: drivers/net/igb/igb_main.c:4903:
+			printk(KERN_ERR "Error %d Sending set VLAN ID Ack"

WARNING:SPLIT_STRING: quoted string split across lines
#865: FILE: drivers/net/igb/igb_main.c:4904:
+			printk(KERN_ERR "Error %d Sending set VLAN ID Ack"
+			       "to VF\n", err);

WARNING:MISSING_SPACE: break quoted strings at a space character
#865: FILE: drivers/net/igb/igb_main.c:4904:
+			printk(KERN_ERR "Error %d Sending set VLAN ID Ack"
+			       "to VF\n", err);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#870: FILE: drivers/net/igb/igb_main.c:4909:
+			printk(KERN_ERR "Unhandled Msg %8.8x\n", msgbuf[0]);

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_i' - possible side-effects?
#882: FILE: drivers/net/igb/igb_main.c:4921:
+#define E1000_RAH(_i)	(((_i) <= 15) ? (0x05404 + ((_i) * 8)) : (0x054E4 + ((_i - 16) * 8)))

ERROR:POINTER_LOCATION: "foo*bar" should be "foo *bar"
#884: FILE: drivers/net/igb/igb_main.c:4923:
+static int igb_set_pf_mac(struct net_device *netdev, int queue, u8*mac_addr)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#915: FILE: drivers/net/igb/igb_main.c:4954:
+static int igb_set_vf_mac(struct net_device *netdev,
+						 int vf,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#951: FILE: drivers/net/igb/igb_main.c:4990:
+		 * can send/receive mail */

WARNING:LINE_SPACING: Missing a blank line after declarations
#984: FILE: drivers/net/igb/igb_main.c:5023:
+		struct igb_ring *ring = &adapter->rx_ring[i - rbase_offset];
+		rdba = ring->dma;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#993: FILE: drivers/net/igb/igb_main.c:5032:
+		printk("RXDCTL%d == %8.8x\n", i, rxdctl);

ERROR:CODE_INDENT: code indent should use tabs where possible
#996: FILE: drivers/net/igb/igb_main.c:5035:
+^I^I                rdba & 0x00000000ffffffffULL);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#996: FILE: drivers/net/igb/igb_main.c:5035:
+		wr32(E1000_RDBAL(i),
+		                rdba & 0x00000000ffffffffULL);

ERROR:CODE_INDENT: code indent should use tabs where possible
#999: FILE: drivers/net/igb/igb_main.c:5038:
+^I^I               ring->count * sizeof(union e1000_adv_rx_desc));$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#999: FILE: drivers/net/igb/igb_main.c:5038:
+		wr32(E1000_RDLEN(i),
+		               ring->count * sizeof(union e1000_adv_rx_desc));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1025: FILE: drivers/net/igb/igb_main.c:5064:
+	 * it can accept packets that match the MTA table */

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000197410.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 16 errors, 42 warnings, 13 checks, 915 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000197410.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
