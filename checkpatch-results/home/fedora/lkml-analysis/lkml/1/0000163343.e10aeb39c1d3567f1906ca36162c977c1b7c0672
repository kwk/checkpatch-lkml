WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#103: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:UNDOCUMENTED_DT_STRING: DT compatible string "fsl,mpc8349-mu" appears un-documented -- check /home/fedora/lkml-analysis/linux/Documentation/devicetree/bindings/
#177: FILE: arch/powerpc/boot/dts/mpc834x_mds.dts:108:
+			compatible = "fsl,mpc8349-mu";

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#194: FILE: drivers/virtio/Kconfig:36:
+config VIRTIO_OVER_PCI_HOST
+	tristate "Virtio-over-PCI Host support (EXPERIMENTAL)"
+	depends on PCI && EXPERIMENTAL
+	select VIRTIO
+	---help---
+	  This driver provides the host support necessary for using virtio
+	  over the PCI bus with a Freescale MPC8349EMDS evaluation board.
+
+	  If unsure, say N.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#204: FILE: drivers/virtio/Kconfig:46:
+config VIRTIO_OVER_PCI_FSL
+	tristate "Virtio-over-PCI Guest support (EXPERIMENTAL)"
+	depends on MPC834x_MDS && EXPERIMENTAL
+	select VIRTIO
+	select DMA_ENGINE
+	select FSL_DMA
+	---help---
+	  This driver provides the guest support necessary for using virtio
+	  over the PCI bus.
+
+	  If unsure, say N.
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#232: FILE: drivers/virtio/vop.h:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#268: FILE: drivers/virtio/vop.h:37:
+} __attribute__((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#276: FILE: drivers/virtio/vop.h:45:
+} __attribute__((packed));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#282: FILE: drivers/virtio/vop.h:51:
+	 * interrupts when things are added to the avail ring */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#286: FILE: drivers/virtio/vop.h:55:
+	 * will be added to the used ring */

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#291: FILE: drivers/virtio/vop.h:60:
+} __attribute__((packed));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#300: FILE: drivers/virtio/vop.h:69:
+	 * interrupts when things are added to the used ring */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#304: FILE: drivers/virtio/vop.h:73:
+	 * will be added to the avail ring */

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#309: FILE: drivers/virtio/vop.h:78:
+} __attribute__((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#329: FILE: drivers/virtio/vop.h:98:
+} __attribute__((packed));

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#357: FILE: drivers/virtio/vop_fsl.c:1:
+/*

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#433: FILE: drivers/virtio/vop_fsl.c:77:
+struct vop_vq {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#478: FILE: drivers/virtio/vop_fsl.c:122:
+struct vop_vdev {
+

WARNING:TYPO_SPELLING: 'offets' may be misspelled - perhaps 'offsets'?
#507: FILE: drivers/virtio/vop_fsl.c:151:
+	 * boundaries, so they appear at offets 1024, 2048, and 3072
 	                                 ^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#516: FILE: drivers/virtio/vop_fsl.c:160:
+struct vop_dev {
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#573: FILE: drivers/virtio/vop_fsl.c:217:
+	BUG_ON(idx >= VOP_RING_SIZE);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#574: FILE: drivers/virtio/vop_fsl.c:218:
+	BUG_ON(!desc);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#593: FILE: drivers/virtio/vop_fsl.c:237:
+	BUG_ON(idx >= VOP_RING_SIZE);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#594: FILE: drivers/virtio/vop_fsl.c:238:
+	BUG_ON(!desc);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#677: FILE: drivers/virtio/vop_fsl.c:321:
+		dev_dbg(vq->dev, "DESC %.2d: 0x%.8x %.6d 0x%.4x %.2d\n",
+				i, desc.addr, desc.len, desc.flags, desc.next);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#688: FILE: drivers/virtio/vop_fsl.c:332:
+		dev_dbg(vq->dev, "REM AVAIL %.2d: %.2d\n",
+				i, le16_to_cpu(vq->guest->avail[i]));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#699: FILE: drivers/virtio/vop_fsl.c:343:
+		dev_dbg(vq->dev, "REM USED %.2d: %.2d %.6d\n", i,
+				ioread32(&vq->host->used[i].id),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#724: FILE: drivers/virtio/vop_fsl.c:368:
+		dev_dbg(vq->dev, "DESC %.2d: 0x%.8x %.6d 0x%.4x %.2d\n",
+				i, desc.addr, desc.len, desc.flags, desc.next);

WARNING:UNNECESSARY_MODIFIER: Integer promotion: Using 'h' in '%.2hu' is unnecessary
#741: FILE: drivers/virtio/vop_fsl.c:385:
+	dev_dbg(vq->dev, "LOC USED IDX %.2hu\n", vq->used.index);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#744: FILE: drivers/virtio/vop_fsl.c:388:
+		dev_dbg(vq->dev, "LOC USED %.2d: %.2d %.6d\n", i,
+				vq->used.ring[i].id, vq->used.ring[i].len);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#797: FILE: drivers/virtio/vop_fsl.c:441:
+	for (i = 0; i < out + in; i++) {
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#799: FILE: drivers/virtio/vop_fsl.c:443:
+		BUG_ON(sg == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!sg"
#799: FILE: drivers/virtio/vop_fsl.c:443:
+		BUG_ON(sg == NULL);

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#844: FILE: drivers/virtio/vop_fsl.c:488:
+static dma_cookie_t dma_async_memcpy_raw_to_raw(struct dma_chan *chan,
+					       dma_addr_t dst,

WARNING:LONG_LINE: line length of 107 exceeds 100 columns
#1148: FILE: drivers/virtio/vop_fsl.c:792:
+	dev_dbg(vq->dev, "rem_avail %d loc_num_bytes %d\n", rem_num_avail(vq), loc_num_bytes(vq, loc_idx));

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1168: FILE: drivers/virtio/vop_fsl.c:812:
+	while (true) {
+

WARNING:LONG_LINE: line length of 116 exceeds 100 columns
#1207: FILE: drivers/virtio/vop_fsl.c:851:
+			vop_rem_avail_to_used(vq, dma->rem_avail + bufs_used, dma->rem_used + bufs_used, rem_total);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1218: FILE: drivers/virtio/vop_fsl.c:862:
+	BUG_ON(rem_total == 0);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1228: FILE: drivers/virtio/vop_fsl.c:872:
+	 * bofer the DMA callback can be triggered */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1239: FILE: drivers/virtio/vop_fsl.c:883:
+	 * indices and trigger the necessary callbacks */

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1316: FILE: drivers/virtio/vop_fsl.c:960:
+	while (true) {
+

WARNING:LONG_LINE: line length of 116 exceeds 100 columns
#1345: FILE: drivers/virtio/vop_fsl.c:989:
+			vop_loc_avail_to_used(vq, dma->loc_avail + bufs_used, dma->loc_used + bufs_used, loc_total);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1355: FILE: drivers/virtio/vop_fsl.c:999:
+	BUG_ON(loc_total == 0);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1363: FILE: drivers/virtio/vop_fsl.c:1007:
+	 * before the DMA callback can be triggered */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1372: FILE: drivers/virtio/vop_fsl.c:1016:
+	 * indices and trigger the necessary callbacks */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1413: FILE: drivers/virtio/vop_fsl.c:1057:
+	BUG_ON(out < 2);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1416: FILE: drivers/virtio/vop_fsl.c:1060:
+	BUG_ON(sg->length != sizeof(struct virtio_net_hdr_mrg_rxbuf));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1422: FILE: drivers/virtio/vop_fsl.c:1066:
+	 * needed, then figure out how many pages that will be */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1429: FILE: drivers/virtio/vop_fsl.c:1073:
+	 * We force little-endian for now, since that's what our host is */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1451: FILE: drivers/virtio/vop_fsl.c:1095:
+	 * avail ring */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1455: FILE: drivers/virtio/vop_fsl.c:1099:
+	BUG_ON(data == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!data"
#1455: FILE: drivers/virtio/vop_fsl.c:1099:
+	BUG_ON(data == NULL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1456: FILE: drivers/virtio/vop_fsl.c:1100:
+	BUG_ON(out + in == 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1461: FILE: drivers/virtio/vop_fsl.c:1105:
+		dev_dbg(vq->dev, "No free space left: len=%d free=%d\n",
+				out + in, vq->num_free);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1510: FILE: drivers/virtio/vop_fsl.c:1154:
+	 * don't update avail->idx until kick() */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1580: FILE: drivers/virtio/vop_fsl.c:1224:
+	BUG_ON(head >= VOP_RING_SIZE);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1581: FILE: drivers/virtio/vop_fsl.c:1225:
+	BUG_ON(!vq->data[head]);

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1619: FILE: drivers/virtio/vop_fsl.c:1263:
+#if 0

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1639: FILE: drivers/virtio/vop_fsl.c:1283:
+	 * was more work to do */

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1642: FILE: drivers/virtio/vop_fsl.c:1286:
+#if 0

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1669: FILE: drivers/virtio/vop_fsl.c:1313:
+static void vopc_get(struct virtio_device *_vdev, unsigned offset, void *buf,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1670: FILE: drivers/virtio/vop_fsl.c:1314:
+		     unsigned len)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1679: FILE: drivers/virtio/vop_fsl.c:1323:
+static void vopc_set(struct virtio_device *_vdev, unsigned offset,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1680: FILE: drivers/virtio/vop_fsl.c:1324:
+		     const void *buf, unsigned len)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1709: FILE: drivers/virtio/vop_fsl.c:1353:
+	dev_dbg(&vdev->vdev.dev, "%s(): <- 0x%.2x (was 0x%.2x)\n",
+			__func__, status, old_status);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1727: FILE: drivers/virtio/vop_fsl.c:1371:
+static struct virtqueue *vopc_find_vq(struct virtio_device *_vdev,
+					     unsigned index,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1727: FILE: drivers/virtio/vop_fsl.c:1371:
+					     unsigned index,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1830: FILE: drivers/virtio/vop_fsl.c:1474:
+ * the host at this point, but how will virtio react? */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1923: FILE: drivers/virtio/vop_fsl.c:1567:
+	 * host memory is valid */

WARNING:TRACING_LOGGING: Unnecessary ftrace-like logging - prefer using ftrace
#2120: FILE: drivers/virtio/vop_fsl.c:1764:
+	dev_dbg(dev, "%s: called\n", __func__);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2201: FILE: drivers/virtio/vop_fsl.c:1845:
+		 * yet, and will have to be set up just before we start */

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#2238: FILE: drivers/virtio/vop_fsl.c:1882:
+	if (!priv) {
+		dev_err(&op->dev, "Unable to allocate device private data\n");

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#2277: FILE: drivers/virtio/vop_fsl.c:1921:
+	if (!priv->guest_mem) {
+		dev_err(&op->dev, "Unable to allocate guest memory\n");

WARNING:CONST_STRUCT: struct of_device_id should normally be const
#2337: FILE: drivers/virtio/vop_fsl.c:1981:
+static struct of_device_id vdev_of_match[] = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:UNDOCUMENTED_DT_STRING: DT compatible string "fsl,mpc8349-mu" appears un-documented -- check /home/fedora/lkml-analysis/linux/Documentation/devicetree/bindings/
#2338: FILE: drivers/virtio/vop_fsl.c:1982:
+	{ .compatible = "fsl,mpc8349-mu", },

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2383: FILE: drivers/virtio/vop_host.c:1:
+/*

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#2418: FILE: drivers/virtio/vop_host.c:36:
+struct vop_vq {
+

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#2457: FILE: drivers/virtio/vop_host.c:75:
+struct vop_vdev {
+

WARNING:TYPO_SPELLING: 'offets' may be misspelled - perhaps 'offsets'?
#2483: FILE: drivers/virtio/vop_host.c:101:
+	 * boundaries, so they appear at offets 1024, 2048, and 3072
 	                                 ^^^^^^

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#2498: FILE: drivers/virtio/vop_host.c:116:
+struct vop_dev {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2530: FILE: drivers/virtio/vop_host.c:148:
+		pr_debug("DESC %.2d: 0x%.8x %.6d 0x%.4x 0x%.4x\n", i,
+				ioread32(&desc->addr), ioread32(&desc->len),

ERROR:PRINTF_0XDECIMAL: Prefixing 0x with decimal output is defective
#2573: FILE: drivers/virtio/vop_host.c:191:
+	pr_debug("HOST USED_IDX: 0x%.2d\n", vq->host->used_idx);

Prefixing 0x with decimal output is defective and should be corrected.

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#2728: FILE: drivers/virtio/vop_host.c:346:
+	for (i = 0; i < out + in; i++) {
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2730: FILE: drivers/virtio/vop_host.c:348:
+		BUG_ON(sg == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!sg"
#2730: FILE: drivers/virtio/vop_host.c:348:
+		BUG_ON(sg == NULL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2776: FILE: drivers/virtio/vop_host.c:394:
+	BUG_ON(out < 2);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2779: FILE: drivers/virtio/vop_host.c:397:
+	BUG_ON(sg->length != sizeof(struct virtio_net_hdr_mrg_rxbuf));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2785: FILE: drivers/virtio/vop_host.c:403:
+	 * needed, then figure out how many pages that will be */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2792: FILE: drivers/virtio/vop_host.c:410:
+	 * We force big-endian for now, since that's what our guest is */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2803: FILE: drivers/virtio/vop_host.c:421:
+static int vop_add_buf(struct virtqueue *_vq, struct scatterlist sg[],
+				unsigned int out, unsigned int in, void *data)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2808: FILE: drivers/virtio/vop_host.c:426:
+	BUG_ON(data == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!data"
#2808: FILE: drivers/virtio/vop_host.c:426:
+	BUG_ON(data == NULL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2809: FILE: drivers/virtio/vop_host.c:427:
+	BUG_ON(out + in == 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2814: FILE: drivers/virtio/vop_host.c:432:
+		dev_dbg(vq->dev, "No free space left: len=%d free=%d\n",
+				out + in, vq->num_free);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2863: FILE: drivers/virtio/vop_host.c:481:
+	 * don't update avail->idx until kick() */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2928: FILE: drivers/virtio/vop_host.c:546:
+	BUG_ON(head >= VOP_RING_SIZE);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2929: FILE: drivers/virtio/vop_host.c:547:
+	BUG_ON(!vq->data[head]);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2969: FILE: drivers/virtio/vop_host.c:587:
+	 * there was more to do */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2992: FILE: drivers/virtio/vop_host.c:610:
+ * for example. It should be reading something from the guest, in this case */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2993: FILE: drivers/virtio/vop_host.c:611:
+static void vopc_get(struct virtio_device *_vdev, unsigned offset, void *buf,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2994: FILE: drivers/virtio/vop_host.c:612:
+		     unsigned len)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3003: FILE: drivers/virtio/vop_host.c:621:
+static void vopc_set(struct virtio_device *_vdev, unsigned offset,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3004: FILE: drivers/virtio/vop_host.c:622:
+		     const void *buf, unsigned len)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3034: FILE: drivers/virtio/vop_host.c:652:
+	dev_dbg(&vdev->vdev.dev, "%s(): <- 0x%.2x (was 0x%.2x)\n",
+			__func__, status, old_status);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3052: FILE: drivers/virtio/vop_host.c:670:
+static struct virtqueue *vopc_find_vq(struct virtio_device *_vdev,
+					     unsigned index,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#3052: FILE: drivers/virtio/vop_host.c:670:
+					     unsigned index,

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#3152: FILE: drivers/virtio/vop_host.c:770:
+	dev_info(&vdev->vdev.dev, "%s(): final features 0x%.8lx\n", __func__, vdev->vdev.features[0]);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3193: FILE: drivers/virtio/vop_host.c:811:
+	 * so we cannot do it here */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3338: FILE: drivers/virtio/vop_host.c:956:
+	priv->host_mem = dma_alloc_coherent(&dev->dev, VOP_HOST_MEM_SIZE,
+			&priv->host_mem_addr, GFP_KERNEL);

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#3340: FILE: drivers/virtio/vop_host.c:958:
+	if (!priv->host_mem) {
+		dev_err(&dev->dev, "Unable to allocate host memory\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3378: FILE: drivers/virtio/vop_host.c:996:
+	dma_free_coherent(&dev->dev, VOP_HOST_MEM_SIZE, priv->host_mem,
+			priv->host_mem_addr);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3410: FILE: drivers/virtio/vop_host.c:1028:
+	dma_free_coherent(&dev->dev, VOP_HOST_MEM_SIZE, priv->host_mem,
+			priv->host_mem_addr);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3460: FILE: drivers/virtio/vop_hw.h:1:
+/*

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3488: FILE: drivers/virtio/vop_hw.h:29:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3491: FILE: drivers/virtio/vop_hw.h:32:
+#define LAWAR0_ENABLE		(1<<31)
                      		  ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:BIT_MACRO: Prefer using the BIT macro
#3491: FILE: drivers/virtio/vop_hw.h:32:
+#define LAWAR0_ENABLE		(1<<31)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3494: FILE: drivers/virtio/vop_hw.h:35:
+#define POCMR0_ENABLE		(1<<31)
                      		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3494: FILE: drivers/virtio/vop_hw.h:35:
+#define POCMR0_ENABLE		(1<<31)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3499: FILE: drivers/virtio/vop_hw.h:40:
+#define LAWAR1_ENABLE		(1<<31)
                      		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3499: FILE: drivers/virtio/vop_hw.h:40:
+#define LAWAR1_ENABLE		(1<<31)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3502: FILE: drivers/virtio/vop_hw.h:43:
+#define POCMR1_ENABLE		(1<<31)
                      		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3502: FILE: drivers/virtio/vop_hw.h:43:
+#define POCMR1_ENABLE		(1<<31)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3506: FILE: drivers/virtio/vop_hw.h:47:
+
+

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3514: FILE: drivers/virtio/vop_hw.h:55:
+#define DMA_CHANNEL_BUSY	(1<<2)
                         	  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3514: FILE: drivers/virtio/vop_hw.h:55:
+#define DMA_CHANNEL_BUSY	(1<<2)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3516: FILE: drivers/virtio/vop_hw.h:57:
+#define DMA_DIRECT_MODE_SNOOP	(1<<20)
                              	  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3516: FILE: drivers/virtio/vop_hw.h:57:
+#define DMA_DIRECT_MODE_SNOOP	(1<<20)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3517: FILE: drivers/virtio/vop_hw.h:58:
+#define DMA_CHANNEL_MODE_DIRECT	(1<<2)
                                	  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3517: FILE: drivers/virtio/vop_hw.h:58:
+#define DMA_CHANNEL_MODE_DIRECT	(1<<2)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3518: FILE: drivers/virtio/vop_hw.h:59:
+#define DMA_CHANNEL_START	(1<<0)
                          	  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3518: FILE: drivers/virtio/vop_hw.h:59:
+#define DMA_CHANNEL_START	(1<<0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3520: FILE: drivers/virtio/vop_hw.h:61:
+
+

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3523: FILE: drivers/virtio/vop_hw.h:64:
+#define LAWAR0_ENABLE		(1<<31)
                      		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3523: FILE: drivers/virtio/vop_hw.h:64:
+#define LAWAR0_ENABLE		(1<<31)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3526: FILE: drivers/virtio/vop_hw.h:67:
+#define POCMR0_ENABLE		(1<<31)
                      		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3526: FILE: drivers/virtio/vop_hw.h:67:
+#define POCMR0_ENABLE		(1<<31)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3530: FILE: drivers/virtio/vop_hw.h:71:
+
+

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3535: FILE: drivers/virtio/vop_hw.h:76:
+#define PIWAR0_ENABLED		(1<<31)
                       		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3535: FILE: drivers/virtio/vop_hw.h:76:
+#define PIWAR0_ENABLED		(1<<31)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#3536: FILE: drivers/virtio/vop_hw.h:77:
+#define PIWAR0_PREFETCH		(1<<29)
                        		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#3536: FILE: drivers/virtio/vop_hw.h:77:
+#define PIWAR0_PREFETCH		(1<<29)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000163343.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 1 errors, 80 warnings, 59 checks, 3393 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000163343.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
