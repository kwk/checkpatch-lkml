CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#56: FILE: drivers/char/cyclades.c:689:
+#define Z_FPGA_LOADED(X)	((readl(&(X)->init_ctrl) & (1<<17)) != 0)
                         	                             ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#72: FILE: drivers/char/cyclades.c:705:
+} __attribute__ ((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#80: FILE: drivers/char/cyclades.c:713:
+} __attribute__ ((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#87: FILE: drivers/char/cyclades.c:720:
+} __attribute__ ((packed));

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#97: FILE: drivers/char/cyclades.c:4780:
+static inline int __devinit cyc_isfwstr(const char *str, unsigned int size)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#112: FILE: drivers/char/cyclades.c:4795:
+static inline void __devinit cyz_fpga_copy(void __iomem *fpga, u8 *data,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#113: FILE: drivers/char/cyclades.c:4796:
+static inline void __devinit cyz_fpga_copy(void __iomem *fpga, u8 *data,
+		unsigned int size)

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#117: FILE: drivers/char/cyclades.c:4800:
+		udelay(10);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#121: FILE: drivers/char/cyclades.c:4804:
+static void __devinit plx_init(struct pci_dev *pdev, int irq,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#122: FILE: drivers/char/cyclades.c:4805:
+static void __devinit plx_init(struct pci_dev *pdev, int irq,
+		struct RUNTIME_9060 __iomem *addr)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#145: FILE: drivers/char/cyclades.c:4824:
+static int __devinit __cyz_load_fw(const struct firmware *fw,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#146: FILE: drivers/char/cyclades.c:4825:
+static int __devinit __cyz_load_fw(const struct firmware *fw,
+		const char *name, const u32 mailbox, void __iomem *base,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#156: FILE: drivers/char/cyclades.c:4835:
+		printk(BAD_FW "too short: %u<%zu\n", len, sizeof(*h));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#164: FILE: drivers/char/cyclades.c:4843:
+	if ((void *)(cs + h->n_config) > ptr + len ||
+			(void *)(bs + h->n_blocks) > ptr + len) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#165: FILE: drivers/char/cyclades.c:4844:
+		printk(BAD_FW "too short");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#170: FILE: drivers/char/cyclades.c:4849:
+	if (cyc_isfwstr(h->name, sizeof(h->name)) ||
+			cyc_isfwstr(h->date, sizeof(h->date))) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#171: FILE: drivers/char/cyclades.c:4850:
+		printk(BAD_FW "bad formatted header string\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#176: FILE: drivers/char/cyclades.c:4855:
+		printk(BAD_FW "bad name '%s' (expected '%s')\n", h->name, name);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#184: FILE: drivers/char/cyclades.c:4863:
+				printk(BAD_FW "bad block ref number in cfgs\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#191: FILE: drivers/char/cyclades.c:4870:
+		printk(BAD_FW "nothing appropriate\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#197: FILE: drivers/char/cyclades.c:4876:
+			printk(BAD_FW "bad block data offset\n");

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "fpga"
#209: FILE: drivers/char/cyclades.c:4888:
+			if (fpga != NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#211: FILE: drivers/char/cyclades.c:4890:
+				cyz_fpga_copy(fpga, ptr + b->file_offset,
+						b->size);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "base"
#213: FILE: drivers/char/cyclades.c:4892:
+			if (base != NULL)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#215: FILE: drivers/char/cyclades.c:4894:
+				memcpy_toio(base + b->ram_offset,
+					       ptr + b->file_offset, b->size);

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#222: FILE: drivers/char/cyclades.c:4901:
+static int __devinit cyz_load_fw(struct pci_dev *pdev, void __iomem *base_addr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#223: FILE: drivers/char/cyclades.c:4902:
+static int __devinit cyz_load_fw(struct pci_dev *pdev, void __iomem *base_addr,
+		struct RUNTIME_9060 __iomem *ctl_addr, int irq)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#240: FILE: drivers/char/cyclades.c:4919:
+^I/* Check whether the firmware is already loaded and running. If $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#241: FILE: drivers/char/cyclades.c:4920:
+	/* Check whether the firmware is already loaded and running. If 
+	   positive, skip this board */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#241: FILE: drivers/char/cyclades.c:4920:
+	   positive, skip this board */

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#245: FILE: drivers/char/cyclades.c:4924:
+		udelay(100);

WARNING:SPLIT_STRING: quoted string split across lines
#249: FILE: drivers/char/cyclades.c:4928:
+			dev_dbg(&pdev->dev, "Cyclades-Z FW already loaded. "
+					"Skipping board.\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#266: FILE: drivers/char/cyclades.c:4945:
+		udelay(100);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#274: FILE: drivers/char/cyclades.c:4953:
+		retval = __cyz_load_fw(fw, "Cyclom-Z", mailbox, NULL,
+				base_addr);

WARNING:SPLIT_STRING: quoted string split across lines
#279: FILE: drivers/char/cyclades.c:4958:
+			dev_err(&pdev->dev, "fw upload successful, but fw is "
+					"not loaded\n");

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#288: FILE: drivers/char/cyclades.c:4967:
+	udelay(100);

WARNING:SPLIT_STRING: quoted string split across lines
#319: FILE: drivers/char/cyclades.c:4998:
+			dev_err(&pdev->dev, "you need an external power supply "
+				"for this number of ports. Firmware halted and "

WARNING:SPLIT_STRING: quoted string split across lines
#320: FILE: drivers/char/cyclades.c:4999:
+				"for this number of ports. Firmware halted and "
+				"board reset.\n");

WARNING:SPLIT_STRING: quoted string split across lines
#325: FILE: drivers/char/cyclades.c:5004:
+		dev_warn(&pdev->dev, "fid->signature = 0x%x... Waiting "
+				"some more time\n", status);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#327: FILE: drivers/char/cyclades.c:5006:
+		while ((status = readl(&fid->signature)) != ZFIRM_ID &&
+				i++ < 200)

WARNING:SPLIT_STRING: quoted string split across lines
#331: FILE: drivers/char/cyclades.c:5010:
+			dev_err(&pdev->dev, "Board not started in 20 seconds! "
+					"Giving up. (fid->signature = 0x%x)\n",

WARNING:SPLIT_STRING: quoted string split across lines
#334: FILE: drivers/char/cyclades.c:5013:
+			dev_info(&pdev->dev, "*** Warning ***: if you are "
+				"upgrading the FW, please power cycle the "

WARNING:SPLIT_STRING: quoted string split across lines
#335: FILE: drivers/char/cyclades.c:5014:
+				"upgrading the FW, please power cycle the "
+				"system before loading the new FW to the "

WARNING:SPLIT_STRING: quoted string split across lines
#336: FILE: drivers/char/cyclades.c:5015:
+				"system before loading the new FW to the "
+				"Cyclades-Z.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#345: FILE: drivers/char/cyclades.c:5024:
+		dev_dbg(&pdev->dev, "Firmware started after %d seconds.\n",
+				i / 10);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#350: FILE: drivers/char/cyclades.c:5029:
+	dev_dbg(&pdev->dev, "fid=> %p, zfwctrl_addr=> %x, npt_zfwctrl=> %p\n",
+			base_addr + ID_ADDRESS, readl(&fid->zfwctrl_addr),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#354: FILE: drivers/char/cyclades.c:5033:
+	dev_info(&pdev->dev, "Cyclades-Z FW loaded: version = %x, ports = %u\n",
+		readl(&pt_zfwctrl->board_ctrl.fw_version),

WARNING:SPLIT_STRING: quoted string split across lines
#359: FILE: drivers/char/cyclades.c:5038:
+		dev_warn(&pdev->dev, "no Cyclades-Z ports were found. Please "
+			"check the connection between the Z host card and the "

WARNING:SPLIT_STRING: quoted string split across lines
#360: FILE: drivers/char/cyclades.c:5039:
+			"check the connection between the Z host card and the "
+			"serial expanders.\n");

WARNING:SPLIT_STRING: quoted string split across lines
#366: FILE: drivers/char/cyclades.c:5045:
+		dev_info(&pdev->dev, "Null number of ports detected. Board "
+				"reset.\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#375: FILE: drivers/char/cyclades.c:5054:
+	/*
+	   Early firmware failed to start looking for commands.

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#392: FILE: drivers/char/cyclades.c:5071:
 static int __devinit cy_pci_probe(struct pci_dev *pdev,

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000429599.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 1 errors, 31 warnings, 20 checks, 394 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000429599.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
