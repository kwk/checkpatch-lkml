WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct restart_block *' should also have an identifier name
#116: FILE: checkpoint/process.c:58:
+	long (*fn)(struct restart_block *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#131: FILE: checkpoint/process.c:73:
+	if (fn == do_no_restart_syscall) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#136: FILE: checkpoint/process.c:78:
+	} else if (fn == hrtimer_nanosleep_restart) {
+

CHECK:SPACING: No space is necessary after a cast
#139: FILE: checkpoint/process.c:81:
+		h->arg_1 = (unsigned long) restart_block->nanosleep.rmtp;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#142: FILE: checkpoint/process.c:84:
+		ckpt_debug("restart_block: hrtimer expire %lld now %lld\n",
+			 expire, base);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#154: FILE: checkpoint/process.c:96:
+		ckpt_debug("restart_block: posix_cpu expire %lld now %lld\n",
+			 expire, base);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#158: FILE: checkpoint/process.c:100:
+	} else if (fn == compat_nanosleep_restart) {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#165: FILE: checkpoint/process.c:107:
+		ckpt_debug("restart_block: compat expire %lld now %lld\n",
+			 expire, base);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#168: FILE: checkpoint/process.c:110:
+	} else if (fn == compat_clock_nanosleep_restart) {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#175: FILE: checkpoint/process.c:117:
+		ckpt_debug("restart_block: compat_clock expire %lld now %lld\n",
+			 expire, base);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#179: FILE: checkpoint/process.c:121:
+	} else if (fn == futex_wait_restart) {
+

CHECK:SPACING: No space is necessary after a cast
#181: FILE: checkpoint/process.c:123:
+		h->arg_0 = (unsigned long) restart_block->futex.uaddr;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#187: FILE: checkpoint/process.c:129:
+		ckpt_debug("restart_block: futex expire %lld now %lld\n",
+			 expire, base);

CHECK:SPACING: No space is necessary after a cast
#193: FILE: checkpoint/process.c:135:
+		h->arg_0 = (unsigned long) restart_block->poll.ufds;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#200: FILE: checkpoint/process.c:142:
+		ckpt_debug("restart_block: poll expire %lld now %lld\n",
+			 expire, base);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#203: FILE: checkpoint/process.c:145:
+	} else {
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#204: FILE: checkpoint/process.c:146:
+		BUG();

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#206: FILE: checkpoint/process.c:148:
+
+	}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#212: FILE: checkpoint/process.c:154:
+	ckpt_debug("restart_block: args %#llx %#llx %#llx %#llx %#llx\n",
+		 h->arg_0, h->arg_1, h->arg_2, h->arg_3, h->arg_4);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#256: FILE: checkpoint/process.c:236:
+	ckpt_debug("restart_block: expire %lld begin %lld\n",
+		 expire, ktime_to_ns(ctx->ktime_begin));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#258: FILE: checkpoint/process.c:238:
+	ckpt_debug("restart_block: args %#llx %#llx %#llx %#llx %#llx\n",
+		 h->arg_0, h->arg_1, h->arg_2, h->arg_3, h->arg_4);

CHECK:SPACING: No space is necessary after a cast
#271: FILE: checkpoint/process.c:251:
+			(struct timespec __user *) (unsigned long) h->arg_1;

CHECK:SPACING: No space is necessary after a cast
#293: FILE: checkpoint/process.c:273:
+			(struct timespec __user *) (unsigned long) h->arg_1;

CHECK:SPACING: No space is necessary after a cast
#296: FILE: checkpoint/process.c:276:
+				(unsigned long) h->arg_2;

CHECK:SPACING: No space is necessary after a cast
#306: FILE: checkpoint/process.c:286:
+			(struct timespec __user *) (unsigned long) h->arg_1;

CHECK:SPACING: No space is necessary after a cast
#309: FILE: checkpoint/process.c:289:
+				(unsigned long) h->arg_2;

CHECK:SPACING: No space is necessary after a cast
#315: FILE: checkpoint/process.c:295:
+		restart_block.futex.uaddr = (u32 *) (unsigned long) h->arg_0;

CHECK:SPACING: No space is necessary after a cast
#324: FILE: checkpoint/process.c:304:
+			(struct pollfd __user *) (unsigned long) h->arg_0;

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#399: FILE: include/linux/checkpoint.h:73:
+extern int checkpoint_restart_block(struct ckpt_ctx *ctx,

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#401: FILE: include/linux/checkpoint.h:75:
+extern int restore_restart_block(struct ckpt_ctx *ctx);

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __aligned(8) over __attribute__((aligned(8)))
#431: FILE: include/linux/checkpoint_hdr.h:135:
+} __attribute__((aligned(8)));

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000068270.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 3 warnings, 28 checks, 340 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000068270.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
