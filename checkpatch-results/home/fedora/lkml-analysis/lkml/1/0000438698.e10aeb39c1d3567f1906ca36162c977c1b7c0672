CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cy_isa_address"
#55: FILE: drivers/char/cyclades.c:4651:
+		if (cy_isa_address == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#56: FILE: drivers/char/cyclades.c:4652:
+			printk(KERN_ERR "Cyclom-Y/ISA: can't remap base "

WARNING:SPLIT_STRING: quoted string split across lines
#57: FILE: drivers/char/cyclades.c:4653:
+			printk(KERN_ERR "Cyclom-Y/ISA: can't remap base "
+					"address\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#182: FILE: drivers/char/cyclades.c:4755:
 static int __devinit cy_pci_probe(struct pci_dev *pdev,

WARNING:SPLIT_STRING: quoted string split across lines
#216: FILE: drivers/char/cyclades.c:4778:
+		dev_err(&pdev->dev, "Cyclom-Y/PCI not supported for low "
+			"addresses on Alpha systems.\n");

WARNING:SPLIT_STRING: quoted string split across lines
#223: FILE: drivers/char/cyclades.c:4785:
+		dev_err(&pdev->dev, "Cyclades-Z/PCI not supported for low "
+			"addresses\n");

WARNING:SPLIT_STRING: quoted string split across lines
#230: FILE: drivers/char/cyclades.c:4792:
+		dev_warn(&pdev->dev, "PCI I/O bit incorrectly set. Ignoring "
+				"it...\n");

CHECK:CAMELCASE: Avoid CamelCase: <CyPCI_Yctl>
#259: FILE: drivers/char/cyclades.c:4807:
+		addr0 = pci_iomap(pdev, 0, CyPCI_Yctl);

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!addr0"
#260: FILE: drivers/char/cyclades.c:4808:
+		if (addr0 == NULL) {

CHECK:CAMELCASE: Avoid CamelCase: <CyPCI_Ywin>
#269: FILE: drivers/char/cyclades.c:4812:
+		addr2 = pci_iomap(pdev, 2, CyPCI_Ywin);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!addr2"
#270: FILE: drivers/char/cyclades.c:4813:
+		if (addr2 == NULL) {

CHECK:CAMELCASE: Avoid CamelCase: <CyPORTS_PER_CHIP>
#284: FILE: drivers/char/cyclades.c:4818:
+		nchan = CyPORTS_PER_CHIP * cyy_init_card(addr2, 1);

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#370: FILE: drivers/char/cyclades.c:4827:
+		ctl_addr = addr0 = pci_iomap(pdev, 0, CyPCI_Zctl);

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:CAMELCASE: Avoid CamelCase: <CyPCI_Zctl>
#370: FILE: drivers/char/cyclades.c:4827:
+		ctl_addr = addr0 = pci_iomap(pdev, 0, CyPCI_Zctl);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!addr0"
#371: FILE: drivers/char/cyclades.c:4828:
+		if (addr0 == NULL) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#380: FILE: drivers/char/cyclades.c:4835:
+		cy_writew(addr0 + 0x68,
+			readw(addr0 + 0x68) & ~0x0900);

CHECK:CAMELCASE: Avoid CamelCase: <CyPCI_Ze_win>
#410: FILE: drivers/char/cyclades.c:4848:
+				CyPCI_Ze_win : CyPCI_Zwin);

CHECK:CAMELCASE: Avoid CamelCase: <CyPCI_Zwin>
#410: FILE: drivers/char/cyclades.c:4848:
+				CyPCI_Ze_win : CyPCI_Zwin);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!addr2"
#411: FILE: drivers/char/cyclades.c:4849:
+		if (addr2 == NULL) {

WARNING:SPLIT_STRING: quoted string split across lines
#450: FILE: drivers/char/cyclades.c:4866:
+				dev_info(&pdev->dev, "Cyclades-8Zo/PCI: FPGA "
+					"id %lx, ver %lx\n", (ulong)(0xff &

WARNING:SPLIT_STRING: quoted string split across lines
#458: FILE: drivers/char/cyclades.c:4874:
+				dev_info(&pdev->dev, "Cyclades-Z/PCI: New "
+					"Cyclades-Z board.  FPGA not loaded\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#480: FILE: drivers/char/cyclades.c:4878:
+			/* The following clears the firmware id word.  This
+			   ensures that the driver will not attempt to talk to

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mailbox == ZO_V1'
#483: FILE: drivers/char/cyclades.c:4881:
+			if ((mailbox == ZO_V1) || (mailbox == ZO_V2))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mailbox == ZO_V2'
#483: FILE: drivers/char/cyclades.c:4881:
+			if ((mailbox == ZO_V1) || (mailbox == ZO_V2))

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#491: FILE: drivers/char/cyclades.c:4885:
+			/* This must be a Cyclades-8Zo/PCI.  The extendable
+			   version will have a different device_id and will

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#492: FILE: drivers/char/cyclades.c:4886:
+			   be allocated its maximum number of ports. */

WARNING:SPLIT_STRING: quoted string split across lines
#504: FILE: drivers/char/cyclades.c:4893:
+		dev_err(&pdev->dev, "Cyclades-8Zo/PCI found, but no "
+			"channels are available. Change NR_PORTS in "

WARNING:SPLIT_STRING: quoted string split across lines
#505: FILE: drivers/char/cyclades.c:4894:
+			"channels are available. Change NR_PORTS in "
+			"cyclades.c and recompile kernel.\n");

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cy_card[card_no].base_addr"
#510: FILE: drivers/char/cyclades.c:4899:
+		if (cy_card[card_no].base_addr == NULL)

WARNING:SPLIT_STRING: quoted string split across lines
#515: FILE: drivers/char/cyclades.c:4904:
+		dev_err(&pdev->dev, "Cyclades-8Zo/PCI found, but no "
+			"more cards can be used. Change NR_CARDS in "

WARNING:SPLIT_STRING: quoted string split across lines
#516: FILE: drivers/char/cyclades.c:4905:
+			"more cards can be used. Change NR_CARDS in "
+			"cyclades.c and recompile kernel.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#521: FILE: drivers/char/cyclades.c:4910:
+	if (device_id == PCI_DEVICE_ID_CYCLOM_Y_Lo ||
+			device_id == PCI_DEVICE_ID_CYCLOM_Y_Hi) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#524: FILE: drivers/char/cyclades.c:4913:
+		retval = request_irq(irq, cyy_interrupt,
+				IRQF_SHARED, "Cyclom-Y", &cy_card[card_no]);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#537: FILE: drivers/char/cyclades.c:4924:
+			retval = request_irq(irq, cyz_interrupt,
 					IRQF_SHARED, "Cyclades-Z",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#578: FILE: drivers/char/cyclades.c:4948:
+	if (device_id == PCI_DEVICE_ID_CYCLOM_Y_Lo ||
+			device_id == PCI_DEVICE_ID_CYCLOM_Y_Hi) {

CHECK:CAMELCASE: Avoid CamelCase: <CyPLX_VER>
#580: FILE: drivers/char/cyclades.c:4950:
+		plx_ver = readb(addr2 + CyPLX_VER) & 0x0f;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#593: FILE: drivers/char/cyclades.c:4963:
+		/* For some yet unknown reason, once the PLX9060 reloads
+		   the EEPROM, the IRQ is lost and, thus, we have to

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#596: FILE: drivers/char/cyclades.c:4966:
+		   fix. */

WARNING:SPLIT_STRING: quoted string split across lines
#605: FILE: drivers/char/cyclades.c:4975:
+	dev_info(&pdev->dev, "%s/PCI #%d found: %d channels starting from "
+		"port %d.\n", card_name, card_no + 1, nchan, cy_next_channel);

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#626: FILE: drivers/char/cyclades.c:4996:
 static void __devexit cy_pci_remove(struct pci_dev *pdev)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000438698.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 19 warnings, 21 checks, 576 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000438698.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
