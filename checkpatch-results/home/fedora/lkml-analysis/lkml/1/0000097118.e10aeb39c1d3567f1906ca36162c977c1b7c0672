WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#56: FILE: drivers/mtd/nand/Kconfig:91:
+config MTD_NAND_OMAP_PREFETCH_DMA
+	depends on MTD_NAND_OMAP_PREFETCH
+	bool "DMA mode"
+	default n
+	help
+	 The GPMC PREFETCH engine can be configured eigther in MPU interrupt mode
+	 or in DMA interrupt mode.
+	 Say y for DMA mode or MPU mode will be used
+

Kconfig symbols should have a help text which fully describes
it.

CHECK:SPACING: No space is necessary after a cast
#124: FILE: drivers/mtd/nand/omap2.c:379:
+	complete((struct completion *) data);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'configer' may be misspelled - perhaps 'configure'?
#128: FILE: drivers/mtd/nand/omap2.c:383:
+ * omap_nand_dma_transfer: configer and start dma transfer
                            ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#135: FILE: drivers/mtd/nand/omap2.c:390:
+static inline int omap_nand_dma_transfer(struct mtd_info *mtd, void *addr,
+					unsigned int len, int is_write)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#139: FILE: drivers/mtd/nand/omap2.c:394:
+	uint32_t prefetch_status = 0;

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#169: FILE: drivers/mtd/nand/omap2.c:424:
+	if (is_write) {
+	    omap_set_dma_dest_params(info->dma_ch, 0, OMAP_DMA_AMODE_CONSTANT,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#171: FILE: drivers/mtd/nand/omap2.c:426:
+	    omap_set_dma_dest_params(info->dma_ch, 0, OMAP_DMA_AMODE_CONSTANT,
+						info->phys_base, 0, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#173: FILE: drivers/mtd/nand/omap2.c:428:
+	    omap_set_dma_src_params(info->dma_ch, 0, OMAP_DMA_AMODE_POST_INC,
+							dma_addr, 0, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#175: FILE: drivers/mtd/nand/omap2.c:430:
+	    omap_set_dma_transfer_params(info->dma_ch, OMAP_DMA_DATA_TYPE_S32,
+					0x10, buf_len, OMAP_DMA_SYNC_FRAME,

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#177: FILE: drivers/mtd/nand/omap2.c:432:
+	} else {
+	    omap_set_dma_src_params(info->dma_ch, 0, OMAP_DMA_AMODE_CONSTANT,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#179: FILE: drivers/mtd/nand/omap2.c:434:
+	    omap_set_dma_src_params(info->dma_ch, 0, OMAP_DMA_AMODE_CONSTANT,
+						info->phys_base, 0, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#181: FILE: drivers/mtd/nand/omap2.c:436:
+	    omap_set_dma_dest_params(info->dma_ch, 0, OMAP_DMA_AMODE_POST_INC,
+							dma_addr, 0, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#183: FILE: drivers/mtd/nand/omap2.c:438:
+	    omap_set_dma_transfer_params(info->dma_ch, OMAP_DMA_DATA_TYPE_S32,
+					0x10, buf_len, OMAP_DMA_SYNC_FRAME,

WARNING:TYPO_SPELLING: 'methode' may be misspelled - perhaps 'method'?
#189: FILE: drivers/mtd/nand/omap2.c:444:
+		/* PFPW engine is busy, use cpu copy methode */
 		                                     ^^^^^^^

CHECK:SPACING: No space is necessary after a cast
#209: FILE: drivers/mtd/nand/omap2.c:464:
+		is_write == 0 ? omap_read_buf16(mtd, (u_char *) addr, len)

CHECK:SPACING: No space is necessary after a cast
#210: FILE: drivers/mtd/nand/omap2.c:465:
+			: omap_write_buf16(mtd, (u_char *) addr, len);

CHECK:SPACING: No space is necessary after a cast
#212: FILE: drivers/mtd/nand/omap2.c:467:
+		is_write == 0 ? omap_read_buf8(mtd, (u_char *) addr, len)

CHECK:SPACING: No space is necessary after a cast
#213: FILE: drivers/mtd/nand/omap2.c:468:
+			: omap_write_buf8(mtd, (u_char *) addr, len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#219: FILE: drivers/mtd/nand/omap2.c:474:
+static inline int omap_nand_dma_transfer(struct mtd_info *mtd, void *addr,
+					unsigned int len, int is_write)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#247: FILE: drivers/mtd/nand/omap2.c:502:
+static void omap_write_buf_dma_pref(struct mtd_info *mtd,
+					const u_char *buf, int len)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#265: FILE: drivers/mtd/nand/omap2.c:979:
+			err = omap_request_dma(OMAP24XX_DMA_GPMC, "NAND",
+				omap_nand_dma_cb, &info->comp, &info->dma_ch);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#268: FILE: drivers/mtd/nand/omap2.c:982:
+				printk(KERN_WARNING "DMA request failed."

WARNING:SPLIT_STRING: quoted string split across lines
#269: FILE: drivers/mtd/nand/omap2.c:983:
+				printk(KERN_WARNING "DMA request failed."
+					" Non-dma data transfer mode\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#272: FILE: drivers/mtd/nand/omap2.c:986:
+				omap_set_dma_dest_burst_mode(info->dma_ch,
+						OMAP_DMA_DATA_BURST_16);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#274: FILE: drivers/mtd/nand/omap2.c:988:
+				omap_set_dma_src_burst_mode(info->dma_ch,
+						OMAP_DMA_DATA_BURST_16);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#301: FILE: drivers/mtd/nand/omap2.c:1086:
+	if ((1 == use_dma) && (0 == use_prefetch)) {

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#302: FILE: drivers/mtd/nand/omap2.c:1087:
+		printk(KERN_INFO"Wrong parameters: 'use_dma' can not be 1 "

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#302: FILE: drivers/mtd/nand/omap2.c:1087:
+		printk(KERN_INFO"Wrong parameters: 'use_dma' can not be 1 "

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

WARNING:SPLIT_STRING: quoted string split across lines
#303: FILE: drivers/mtd/nand/omap2.c:1088:
+		printk(KERN_INFO"Wrong parameters: 'use_dma' can not be 1 "
+				"without use_prefetch'. Prefetch will not be"

WARNING:SPLIT_STRING: quoted string split across lines
#304: FILE: drivers/mtd/nand/omap2.c:1089:
+				"without use_prefetch'. Prefetch will not be"
+				" used in either mode (mpu or dma)\n");

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000097118.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 11 warnings, 19 checks, 245 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000097118.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
