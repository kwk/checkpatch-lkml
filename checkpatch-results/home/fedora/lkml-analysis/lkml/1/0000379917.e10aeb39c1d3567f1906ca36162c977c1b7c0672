WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#46: 
notify_on_release was true and a release agent was configured (mainly useful

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#67: FILE: include/linux/cgroup.h:80:
+extern void __css_put(struct cgroup_subsys_state *css);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#119: FILE: kernel/cgroup.c:92:
+	 * NUL-terminated string */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#131: FILE: kernel/cgroup.c:124:
+	 * but no longer (only if CONT_NOTIFY_ON_RELEASE is set) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#163: FILE: kernel/cgroup.c:166:
+ * release_list_lock */

WARNING:LINE_SPACING: Missing a blank line after declarations
#204: FILE: kernel/cgroup.c:253:
+		struct cgroup *cont = cg->subsys[i]->cgroup;
+		if (atomic_dec_and_test(&cont->count) &&

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#258: FILE: kernel/cgroup.c:596:
+		 * agent */

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#312: FILE: kernel/cgroup.c:834:
+	if (opts.release_agent)
+		kfree(opts.release_agent);

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#331: FILE: kernel/cgroup.c:935:
+		if (opts.release_agent)
+			kfree(opts.release_agent);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#373: FILE: kernel/cgroup.c:1322:
+		if (simple_strtoul(buffer, NULL, 10) != 0)

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#382: FILE: kernel/cgroup.c:1331:
+		if (nbytes && (buffer[nbytes-1] == '\n')) {
 		                            ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BRACES: braces {} are not necessary for single statement blocks
#382: FILE: kernel/cgroup.c:1331:
+		if (nbytes && (buffer[nbytes-1] == '\n')) {
+			buffer[nbytes-1] = 0;
+		}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#383: FILE: kernel/cgroup.c:1332:
+			buffer[nbytes-1] = 0;
 			             ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#389: FILE: kernel/cgroup.c:1338:
+			 * string */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#405: FILE: kernel/cgroup.c:1387:
+static ssize_t cgroup_common_file_read(struct cgroup *cont,
+					  struct cftype *cft,

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#415: FILE: kernel/cgroup.c:1397:
+	if (!(page = (char *)__get_free_page(GFP_KERNEL)))

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#425: FILE: kernel/cgroup.c:1407:
+		size_t n;
+		mutex_lock(&cgroup_mutex);

CHECK:SPACING: No space is necessary after a cast
#429: FILE: kernel/cgroup.c:1411:
+		n = min(n, (size_t) PAGE_SIZE);

WARNING:MINMAX: min() should probably be min_t(size_t, n, PAGE_SIZE)
#429: FILE: kernel/cgroup.c:1411:
+		n = min(n, (size_t) PAGE_SIZE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#455: FILE: kernel/cgroup.c:1845:
+static u64 cgroup_read_notify_on_release(struct cgroup *cont,
+					    struct cftype *cft)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#516: FILE: kernel/cgroup.c:1902:
+		if ((err = cgroup_add_file(cont, NULL, &cft_release_agent)) < 0)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#545: FILE: kernel/cgroup.c:2034:
+	 * list isn't RCU-safe */

WARNING:LINE_SPACING: Missing a blank line after declarations
#547: FILE: kernel/cgroup.c:2036:
+	int i;
+	for (i = 0; i < CGROUP_SUBSYS_COUNT; i++) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#559: FILE: kernel/cgroup.c:2048:
+		 * release agent to be called anyway. */

WARNING:BRACES: braces {} are not necessary for single statement blocks
#560: FILE: kernel/cgroup.c:2049:
+		if (css && atomic_read(&css->refcnt)) {
+			return 1;
+		}

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#674: FILE: kernel/cgroup.c:2630:
+	 * structure alive */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#676: FILE: kernel/cgroup.c:2632:
+	if (cgroup_is_releasable(cont) && !atomic_read(&cont->count)
+	    && list_empty(&cont->children) && !cgroup_has_css_refs(cont)) {

WARNING:TYPO_SPELLING: 'removeable' may be misspelled - perhaps 'removable'?
#677: FILE: kernel/cgroup.c:2633:
+		/* Control Group is currently removeable. If it's not
 		                              ^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#679: FILE: kernel/cgroup.c:2635:
+		 * it now */

WARNING:LINE_SPACING: Missing a blank line after declarations
#681: FILE: kernel/cgroup.c:2637:
+		int need_schedule_work = 0;
+		spin_lock(&release_list_lock);

WARNING:LINE_SPACING: Missing a blank line after declarations
#696: FILE: kernel/cgroup.c:2652:
+	struct cgroup *cont = css->cgroup;
+	rcu_read_lock();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#731: FILE: kernel/cgroup.c:2687:
+	BUG_ON(work != &release_agent_work);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#768: FILE: kernel/cgroup.c:2724:
+		 * be a slow process */

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000379917.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 2 errors, 24 warnings, 7 checks, 675 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000379917.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
