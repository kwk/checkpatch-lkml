WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#61: FILE: arch/i386/Kconfig:257:
+config LGUEST
+	tristate "Linux hypervisor example code"
+	depends on X86 && PARAVIRT && EXPERIMENTAL && !X86_PAE
+	select LGUEST_GUEST
+	select HVC_DRIVER
+	---help---
+	  This is a very simple module which allows you to run
+	  multiple instances of the same Linux kernel, using the
+	  "lguest" command found in the Documentation/lguest directory.
+	  Note that "lguest" is pronounced to rhyme with "fell quest",
+	  not "rustyvisor".  See Documentation/lguest/lguest.txt.
+
+	  If unsure, say N.  If curious, say M.  If masochistic, say Y.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#122: FILE: arch/i386/lguest/lg.h:1:
+#ifndef _LGUEST_H

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#128: FILE: arch/i386/lguest/lg.h:7:
+#define HYPERVISOR_PAGES ((1 << HYPERVISOR_MAP_ORDER)/PAGE_SIZE)
                                                      ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#149: FILE: arch/i386/lguest/lg.h:28:
+struct lguest_regs
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#170: FILE: arch/i386/lguest/lg.h:49:
+#define FULL_EXEC_SEGMENT ((struct desc_struct){0x0000ffff, 0x00cf9b00}) $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#171: FILE: arch/i386/lguest/lg.h:50:
+#define FULL_SEGMENT ((struct desc_struct){0x0000ffff, 0x00cf9300}) $

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#175: FILE: arch/i386/lguest/lg.h:54:
+struct host_trap
+{

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#181: FILE: arch/i386/lguest/lg.h:60:
+struct lguest_dma_info
+{

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#188: FILE: arch/i386/lguest/lg.h:67:
+^Iu8 interrupt; ^I/* 0 when not registered */$

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#192: FILE: arch/i386/lguest/lg.h:71:
+struct pgdir
+{

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#199: FILE: arch/i386/lguest/lg.h:78:
+struct lguest
+{

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#203: FILE: arch/i386/lguest/lg.h:82:
+^Istruct mm_struct *mm; ^I/* == tsk->mm, but that becomes NULL on exit */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#237: FILE: arch/i386/lguest/lg.h:116:
+	/* We intercept page fault (demand shadow paging & cr2 saving)
+	   protection fault (in/out emulation, TLS handling) and

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#238: FILE: arch/i386/lguest/lg.h:117:
+	   device not available (TS handling). */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#256: FILE: arch/i386/lguest/lg.h:135:
+void lhread(struct lguest *lg, void *buf, u32 addr, unsigned bytes);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#257: FILE: arch/i386/lguest/lg.h:136:
+void lhwrite(struct lguest *lg, u32 addr, const void *buf, unsigned bytes);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#289: FILE: arch/i386/lguest/lg.h:168:
+	     unsigned long addr, unsigned long udma, u16 numdmas,u8 interrupt);
 	                                                        ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'lg' - possible side-effects?
#300: FILE: arch/i386/lguest/lg.h:179:
+#define kill_guest(lg, fmt...)					\
+do {								\
+	if (!(lg)->dead) {					\
+		(lg)->dead = kasprintf(GFP_ATOMIC, fmt);	\
+		if (!(lg)->dead)				\
+			(lg)->dead = (void *)1;			\
+	}							\
+} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#307: FILE: arch/i386/lguest/lg.h:186:
+} while(0)

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#316: FILE: arch/i386/lguest/lg.h:195:
+struct x86_tss
+{

ERROR:SPACING: space required after that ',' (ctx:VxV)
#317: FILE: arch/i386/lguest/lg.h:196:
+	unsigned short	back_link,__blh;
 	              	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#319: FILE: arch/i386/lguest/lg.h:198:
+	unsigned short	ss0,__ss0pad;
 	              	   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#321: FILE: arch/i386/lguest/lg.h:200:
+	unsigned short	ss1,__ss1pad;
 	              	   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#323: FILE: arch/i386/lguest/lg.h:202:
+	unsigned short	ss2,__ss2pad;
 	              	   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#327: FILE: arch/i386/lguest/lg.h:206:
+	unsigned long	eax,ecx,edx,ebx;
 	             	   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#327: FILE: arch/i386/lguest/lg.h:206:
+	unsigned long	eax,ecx,edx,ebx;
 	             	       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#327: FILE: arch/i386/lguest/lg.h:206:
+	unsigned long	eax,ecx,edx,ebx;
 	             	           ^

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#346: FILE: arch/i386/lguest/lg.h:225:
+struct lguest_host_state
+{

CHECK:CAMELCASE: Avoid CamelCase: <Xgt_desc_struct>
#347: FILE: arch/i386/lguest/lg.h:226:
+	struct Xgt_desc_struct	gdt;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#355: FILE: arch/i386/lguest/lg.h:234:
+struct lguest_state
+{

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#379: FILE: include/asm-i386/lguest.h:1:
+/* Things the lguest guest needs to know. */

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#411: FILE: include/asm-i386/lguest.h:33:
+      unsigned long arg1, unsigned long arg2, unsigned long arg3)$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#415: FILE: include/asm-i386/lguest.h:37:
+^I^I     : "a"(call), "d"(arg1), "b"(arg2), "c"(arg3) $

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#427: FILE: include/asm-i386/lguest.h:49:
+struct hcall_ring
+{

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#433: FILE: include/asm-i386/lguest.h:55:
+struct lguest_data
+{

ERROR:TRAILING_WHITESPACE: trailing whitespace
#438: FILE: include/asm-i386/lguest.h:60:
+^IDECLARE_BITMAP(interrupts, LGUEST_IRQS); $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#449: FILE: include/asm-i386/lguest.h:71:
+^I^I^I$

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#460: FILE: include/asm-i386/lguest.h:82:
+};
+extern struct lguest_data lguest_data;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#467: FILE: include/asm-i386/lguest_device.h:1:
+#ifndef _ASM_LGUEST_DEVICE_H

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#495: FILE: include/asm-i386/lguest_device.h:29:
+extern int register_lguest_driver(struct lguest_driver *drv);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#496: FILE: include/asm-i386/lguest_device.h:30:
+extern void unregister_lguest_driver(struct lguest_driver *drv);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#502: FILE: include/asm-i386/lguest_user.h:1:
+#ifndef _ASM_LGUEST_USER

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#511: FILE: include/asm-i386/lguest_user.h:10:
+#define LGUEST_MAX_DEVICES (LGUEST_MAX_DMA/2)
                                           ^

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#514: FILE: include/asm-i386/lguest_user.h:13:
+struct lguest_dma
+{

ERROR:CODE_INDENT: code indent should use tabs where possible
#516: FILE: include/asm-i386/lguest_user.h:15:
+ ^Iu32 used_len;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#516: FILE: include/asm-i386/lguest_user.h:15:
+ ^Iu32 used_len;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#516: FILE: include/asm-i386/lguest_user.h:15:
+ ^Iu32 used_len;$

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#523: FILE: include/asm-i386/lguest_user.h:22:
+struct lguest_boot_info
+{

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#530: FILE: include/asm-i386/lguest_user.h:29:
+struct lguest_block_page
+{

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#533: FILE: include/asm-i386/lguest_user.h:32:
+^Iu32 sector; ^I/* Offset in device = sector * 512. */$

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#542: FILE: include/asm-i386/lguest_user.h:41:
+struct lguest_net
+{

ERROR:OPEN_BRACE: open brace '{' following enum go on the same line
#580: FILE: include/asm-i386/lguest_user.h:79:
+enum lguest_req
+{

CHECK:LINE_SPACING: Please don't use multiple blank lines
#586: FILE: include/asm-i386/lguest_user.h:85:
+
+

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000468651.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 30 errors, 15 warnings, 8 checks, 510 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000468651.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
