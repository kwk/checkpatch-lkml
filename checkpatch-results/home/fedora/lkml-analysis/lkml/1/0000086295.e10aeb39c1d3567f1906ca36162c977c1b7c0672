WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#42: 
This patch adds complete running support for persistent reservations feature:

WARNING:TYPO_SPELLING: 'Identifer' may be misspelled - perhaps 'Identifier'?
#112: 
    SPC-3 Reservation: Relative Port Identifer Tag: 2 iSCSI Portal Group Tag: 1
                                     ^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#168: FILE: drivers/target/target_core_pr.c:499:
+	pr_reg->pr_aptpl_buf = kzalloc(T10_RES(su_dev)->pr_aptpl_buf_len,
+					GFP_ATOMIC);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#170: FILE: drivers/target/target_core_pr.c:501:
+		printk("Unable to allocate pr_reg->pr_aptpl_buf\n");

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#191: FILE: drivers/target/target_core_pr.c:522:
+int core_scsi3_alloc_aptpl_registration(

ERROR:TRAILING_WHITESPACE: trailing whitespace
#199: FILE: drivers/target/target_core_pr.c:530:
+^Iint res_holder, $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#206: FILE: drivers/target/target_core_pr.c:537:
+		printk(KERN_ERR "Illegal parameters for APTPL registration\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#212: FILE: drivers/target/target_core_pr.c:543:
+		printk(KERN_ERR "Unable to allocate t10_pr_registration_t\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#216: FILE: drivers/target/target_core_pr.c:547:
+^I$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#246: FILE: drivers/target/target_core_pr.c:577:
+	printk("SPC-3 PR APTPL Successfully added registration%s from"

WARNING:SPLIT_STRING: quoted string split across lines
#247: FILE: drivers/target/target_core_pr.c:578:
+	printk("SPC-3 PR APTPL Successfully added registration%s from"
+			" metadata\n", (res_holder) ? "+reservation" : "");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#251: FILE: drivers/target/target_core_pr.c:582:
+static void core_scsi3_aptpl_reserve(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#261: FILE: drivers/target/target_core_pr.c:592:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: APTPL RESERVE created"

WARNING:SPLIT_STRING: quoted string split across lines
#262: FILE: drivers/target/target_core_pr.c:593:
+	printk(KERN_INFO "SPC-3 PR [%s] Service Action: APTPL RESERVE created"
+		" new reservation holder TYPE: %s ALL_TG_PT: %d\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#266: FILE: drivers/target/target_core_pr.c:597:
+	printk(KERN_INFO "SPC-3 PR [%s] RESERVE Node: %s\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#267: FILE: drivers/target/target_core_pr.c:598:
+	printk(KERN_INFO "SPC-3 PR [%s] RESERVE Node: %s\n",
+		TPG_TFO(tpg)->get_fabric_name(), node_acl->initiatorname);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#271: FILE: drivers/target/target_core_pr.c:602:
+static void __core_scsi3_add_registration(se_device_t *, se_node_acl_t *,
+				t10_pr_registration_t *, int, int);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#273: FILE: drivers/target/target_core_pr.c:604:
+static int __core_scsi3_check_aptpl_registration(

ERROR:TRAILING_WHITESPACE: trailing whitespace
#280: FILE: drivers/target/target_core_pr.c:611:
+^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#295: FILE: drivers/target/target_core_pr.c:626:
+	snprintf(t_port, PR_APTPL_MAX_TPORT_LEN, "%s",
+			TPG_TFO(tpg)->tpg_get_wwn(tpg));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#300: FILE: drivers/target/target_core_pr.c:631:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp, &pr_tmpl->aptpl_reg_list,
+				pr_reg_aptpl_list) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_reg->pr_res_mapped_lun == deve->mapped_lun'
#301: FILE: drivers/target/target_core_pr.c:632:
+		if (!(strcmp(pr_reg->pr_iport, i_port)) &&
+		     (pr_reg->pr_res_mapped_lun == deve->mapped_lun) &&
+		    !(strcmp(pr_reg->pr_tport, t_port)) &&
+		     (pr_reg->pr_reg_tpgt == tpgt) &&
+		     (pr_reg->pr_aptpl_target_lun == target_lun)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_reg->pr_reg_tpgt == tpgt'
#301: FILE: drivers/target/target_core_pr.c:632:
+		if (!(strcmp(pr_reg->pr_iport, i_port)) &&
+		     (pr_reg->pr_res_mapped_lun == deve->mapped_lun) &&
+		    !(strcmp(pr_reg->pr_tport, t_port)) &&
+		     (pr_reg->pr_reg_tpgt == tpgt) &&
+		     (pr_reg->pr_aptpl_target_lun == target_lun)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pr_reg->pr_aptpl_target_lun == target_lun'
#301: FILE: drivers/target/target_core_pr.c:632:
+		if (!(strcmp(pr_reg->pr_iport, i_port)) &&
+		     (pr_reg->pr_res_mapped_lun == deve->mapped_lun) &&
+		    !(strcmp(pr_reg->pr_tport, t_port)) &&
+		     (pr_reg->pr_reg_tpgt == tpgt) &&
+		     (pr_reg->pr_aptpl_target_lun == target_lun)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#302: FILE: drivers/target/target_core_pr.c:633:
+		if (!(strcmp(pr_reg->pr_iport, i_port)) &&
+		     (pr_reg->pr_res_mapped_lun == deve->mapped_lun) &&

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#306: FILE: drivers/target/target_core_pr.c:637:
+		     (pr_reg->pr_aptpl_target_lun == target_lun)) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#318: FILE: drivers/target/target_core_pr.c:649:
+^I^I^I__core_scsi3_add_registration(dev, nacl, pr_reg, 0, 0); $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#322: FILE: drivers/target/target_core_pr.c:653:
+^I^I^I */^I$

WARNING:TYPO_SPELLING: 'Reenable' may be misspelled - perhaps 'Re-enable'?
#326: FILE: drivers/target/target_core_pr.c:657:
+			 * Reenable pr_aptpl_active to accept new metadata updates once
 			   ^^^^^^^^

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#339: FILE: drivers/target/target_core_pr.c:670:
+int core_scsi3_check_aptpl_registration(

ERROR:TRAILING_WHITESPACE: trailing whitespace
#353: FILE: drivers/target/target_core_pr.c:684:
+^I^I^I^Ilun->unpacked_lun, nacl, deve);^I$

WARNING:SPLIT_STRING: quoted string split across lines
#365: FILE: drivers/target/target_core_pr.c:728:
 	printk(KERN_INFO "SPC-3 PR [%s] SA Res Key: 0x%016Lx PRgeneration:"
+		" 0x%08x  APTPL: %d\n", tfo->get_fabric_name(),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#402: FILE: drivers/target/target_core_pr.c:936:
+	list_for_each_entry_safe(pr_reg, pr_reg_tmp, &pr_tmpl->aptpl_reg_list,
+				pr_reg_aptpl_list) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#403: FILE: drivers/target/target_core_pr.c:937:
+^I^Ilist_del(&pr_reg->pr_reg_aptpl_list);^I$

ERROR:CODE_INDENT: code indent should use tabs where possible
#425: FILE: drivers/target/target_core_pr.c:987:
+                                sa_res_key, all_tg_pt, aptpl);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#425: FILE: drivers/target/target_core_pr.c:987:
+                                sa_res_key, all_tg_pt, aptpl);$

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#453: FILE: drivers/target/target_core_pr.c:1280:
+static int __core_scsi3_update_aptpl_buf(

ERROR:TRAILING_WHITESPACE: trailing whitespace
#466: FILE: drivers/target/target_core_pr.c:1293:
+^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#473: FILE: drivers/target/target_core_pr.c:1300:
+		snprintf(buf, pr_aptpl_buf_len,
+				"No Registrations or Reservations\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#478: FILE: drivers/target/target_core_pr.c:1305:
+^I */^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#481: FILE: drivers/target/target_core_pr.c:1308:
+	list_for_each_entry(pr_reg, &T10_RES(su_dev)->registration_list,
+			pr_reg_list) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#482: FILE: drivers/target/target_core_pr.c:1309:
+^I$

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#482: FILE: drivers/target/target_core_pr.c:1309:
+			pr_reg_list) {
+	

WARNING:SPLIT_STRING: quoted string split across lines
#492: FILE: drivers/target/target_core_pr.c:1319:
+			snprintf(tmp, 1024, "PR_REG_START: %d"
+				"\ninitiator_fabric=%s\n"

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#515: FILE: drivers/target/target_core_pr.c:1342:
+			printk(KERN_ERR "Unable to update renaming"

WARNING:SPLIT_STRING: quoted string split across lines
#516: FILE: drivers/target/target_core_pr.c:1343:
+			printk(KERN_ERR "Unable to update renaming"
+				" APTPL metadata\n");

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#520: FILE: drivers/target/target_core_pr.c:1347:
+		len += sprintf(buf+len, "%s", tmp);
 		                  ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#524: FILE: drivers/target/target_core_pr.c:1351:
+^I^I */^I^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#533: FILE: drivers/target/target_core_pr.c:1360:
+			printk(KERN_ERR "Unable to update renaming"

WARNING:SPLIT_STRING: quoted string split across lines
#534: FILE: drivers/target/target_core_pr.c:1361:
+			printk(KERN_ERR "Unable to update renaming"
+				" APTPL metadata\n");

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#538: FILE: drivers/target/target_core_pr.c:1365:
+		len += sprintf(buf+len, "%s", tmp);
 		                  ^

WARNING:TABSTOP: Statements should start on a tabstop
#543: FILE: drivers/target/target_core_pr.c:1370:
+	 if (!(reg_count))

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#544: FILE: drivers/target/target_core_pr.c:1371:
+		len += sprintf(buf+len, "No Registrations or Reservations");
 		                  ^

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#549: FILE: drivers/target/target_core_pr.c:1376:
+static int core_scsi3_update_aptpl_buf(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#559: FILE: drivers/target/target_core_pr.c:1386:
+	ret = __core_scsi3_update_aptpl_buf(dev, buf, pr_aptpl_buf_len,
+				clear_aptpl_metadata);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#568: FILE: drivers/target/target_core_pr.c:1395:
+static int __core_scsi3_write_aptpl_to_file(

ERROR:CODE_INDENT: code indent should use tabs where possible
#579: FILE: drivers/target/target_core_pr.c:1406:
+        int ret;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#579: FILE: drivers/target/target_core_pr.c:1406:
+        int ret;$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#585: FILE: drivers/target/target_core_pr.c:1412:
+		printk(KERN_ERR "WWN value for se_device_t does not fit"

WARNING:SPLIT_STRING: quoted string split across lines
#586: FILE: drivers/target/target_core_pr.c:1413:
+		printk(KERN_ERR "WWN value for se_device_t does not fit"
+			" into path buffer\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#593: FILE: drivers/target/target_core_pr.c:1420:
+		printk(KERN_ERR "filp_open(%s) for APTPL metadata"

WARNING:SPLIT_STRING: quoted string split across lines
#594: FILE: drivers/target/target_core_pr.c:1421:
+		printk(KERN_ERR "filp_open(%s) for APTPL metadata"
+			" failed\n", path);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#610: FILE: drivers/target/target_core_pr.c:1437:
+		printk("Error writing APTPL metadata file: %s\n", path);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#614: FILE: drivers/target/target_core_pr.c:1441:
+^Ifilp_close(file, NULL);^I$

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#619: FILE: drivers/target/target_core_pr.c:1446:
+static int core_scsi3_update_and_write_aptpl(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#645: FILE: drivers/target/target_core_pr.c:1472:
+	ret = core_scsi3_update_aptpl_buf(dev, buf, pr_aptpl_buf_len,
+				clear_aptpl_metadata);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#708: FILE: drivers/target/target_core_pr.c:1561:
+			printk("SPC-3 PR: Set APTPL Bit Deactivated for"

WARNING:SPLIT_STRING: quoted string split across lines
#709: FILE: drivers/target/target_core_pr.c:1562:
+			printk("SPC-3 PR: Set APTPL Bit Deactivated for"
+					" REGISTER\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#718: FILE: drivers/target/target_core_pr.c:1571:
+		pr_reg = core_scsi3_locate_pr_reg(SE_DEV(cmd),
+				se_sess->se_node_acl);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#721: FILE: drivers/target/target_core_pr.c:1574:
+		ret = core_scsi3_update_and_write_aptpl(SE_DEV(cmd),
+				&pr_reg->pr_aptpl_buf[0],

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#725: FILE: drivers/target/target_core_pr.c:1578:
+			printk("SPC-3 PR: Set APTPL Bit Activated for REGISTER\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#728: FILE: drivers/target/target_core_pr.c:1581:
+^I^Icore_scsi3_put_pr_reg(pr_reg);^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#741: FILE: drivers/target/target_core_pr.c:1618:
+			pr_aptpl_buf = kzalloc(pr_tmpl->pr_aptpl_buf_len,
+						GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#743: FILE: drivers/target/target_core_pr.c:1620:
+				printk(KERN_ERR "Unable to allocate"

WARNING:SPLIT_STRING: quoted string split across lines
#744: FILE: drivers/target/target_core_pr.c:1621:
+				printk(KERN_ERR "Unable to allocate"
+					" pr_aptpl_buf\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#761: FILE: drivers/target/target_core_pr.c:1671:
+				printk("SPC-3 PR: Set APTPL Bit Deactivated"

WARNING:SPLIT_STRING: quoted string split across lines
#762: FILE: drivers/target/target_core_pr.c:1672:
+				printk("SPC-3 PR: Set APTPL Bit Deactivated"
+						" for UNREGISTER\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#767: FILE: drivers/target/target_core_pr.c:1677:
+			ret = core_scsi3_update_and_write_aptpl(dev,
+					&pr_aptpl_buf[0],

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#771: FILE: drivers/target/target_core_pr.c:1681:
+				printk("SPC-3 PR: Set APTPL Bit Activated"

WARNING:SPLIT_STRING: quoted string split across lines
#772: FILE: drivers/target/target_core_pr.c:1682:
+				printk("SPC-3 PR: Set APTPL Bit Activated"
+						" for UNREGISTER\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#803: FILE: drivers/target/target_core_pr.c:1893:
+		ret = core_scsi3_update_and_write_aptpl(SE_DEV(cmd),
+				&pr_reg->pr_aptpl_buf[0],

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#806: FILE: drivers/target/target_core_pr.c:1896:
+			printk("SPC-3 PR: Updated APTPL metadata for RESERVE\n");

ERROR:CODE_INDENT: code indent should use tabs where possible
#825: FILE: drivers/target/target_core_pr.c:2106:
+^I        ret = core_scsi3_update_and_write_aptpl(SE_DEV(cmd),$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#826: FILE: drivers/target/target_core_pr.c:2107:
+	        ret = core_scsi3_update_and_write_aptpl(SE_DEV(cmd),
+				&pr_reg->pr_aptpl_buf[0],

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#829: FILE: drivers/target/target_core_pr.c:2110:
+			printk("SPC-3 PR: Updated APTPL metadata for RELEASE\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#841: FILE: drivers/target/target_core_pr.c:2198:
+		printk("SPC-3 PR: Updated APTPL metadata for CLEAR\n");

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#860: FILE: drivers/target/target_core_pr.c:2287:
+static int core_scsi3_pro_preempt(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#879: FILE: drivers/target/target_core_pr.c:2455:
+			ret = core_scsi3_update_and_write_aptpl(SE_DEV(cmd),
+					&pr_reg_n->pr_aptpl_buf[0],

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#882: FILE: drivers/target/target_core_pr.c:2458:
+				printk("SPC-3 PR: Updated APTPL metadata for"

WARNING:SPLIT_STRING: quoted string split across lines
#883: FILE: drivers/target/target_core_pr.c:2459:
+				printk("SPC-3 PR: Updated APTPL metadata for"
+					" PREEMPT%s\n", (abort) ? "_AND_ABORT" : "");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#895: FILE: drivers/target/target_core_pr.c:2590:
+		ret = core_scsi3_update_and_write_aptpl(SE_DEV(cmd),
+				&pr_reg_n->pr_aptpl_buf[0],

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#898: FILE: drivers/target/target_core_pr.c:2593:
+			printk("SPC-3 PR: Updated APTPL metadata for PREEMPT"

WARNING:SPLIT_STRING: quoted string split across lines
#899: FILE: drivers/target/target_core_pr.c:2594:
+			printk("SPC-3 PR: Updated APTPL metadata for PREEMPT"
+				"%s\n", (abort) ? "_AND_ABORT" : "");

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#907: FILE: drivers/target/target_core_pr.c:2602:
+static int core_scsi3_emulate_pro_preempt(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#925: FILE: drivers/target/target_core_pr.c:2620:
+		ret = core_scsi3_pro_preempt(cmd, type, scope,
+				res_key, sa_res_key, abort);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#928: FILE: drivers/target/target_core_pr.c:2623:
+		printk(KERN_ERR "SPC-3 PR: Unknown Service Action PREEMPT%s"

WARNING:SPLIT_STRING: quoted string split across lines
#929: FILE: drivers/target/target_core_pr.c:2624:
+		printk(KERN_ERR "SPC-3 PR: Unknown Service Action PREEMPT%s"
+			" Type: 0x%02x\n", (abort) ? "_AND_ABORT" : "", type);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#932: FILE: drivers/target/target_core_pr.c:2627:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#936: FILE: drivers/target/target_core_pr.c:2631:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#973: FILE: drivers/target/target_core_pr.c:3035:
+		printk("SPC-3 PR: Set APTPL Bit Deactivated for"

WARNING:SPLIT_STRING: quoted string split across lines
#974: FILE: drivers/target/target_core_pr.c:3036:
+		printk("SPC-3 PR: Set APTPL Bit Deactivated for"
+				" REGISTER_AND_MOVE\n");

ERROR:CODE_INDENT: code indent should use tabs where possible
#977: FILE: drivers/target/target_core_pr.c:3039:
+^I        ret = core_scsi3_update_and_write_aptpl(SE_DEV(cmd),$

ERROR:CODE_INDENT: code indent should use tabs where possible
#978: FILE: drivers/target/target_core_pr.c:3040:
+        ^I                &dest_pr_reg->pr_aptpl_buf[0],$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#978: FILE: drivers/target/target_core_pr.c:3040:
+        ^I                &dest_pr_reg->pr_aptpl_buf[0],$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#978: FILE: drivers/target/target_core_pr.c:3040:
+	        ret = core_scsi3_update_and_write_aptpl(SE_DEV(cmd),
+        	                &dest_pr_reg->pr_aptpl_buf[0],

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#978: FILE: drivers/target/target_core_pr.c:3040:
+        ^I                &dest_pr_reg->pr_aptpl_buf[0],$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#981: FILE: drivers/target/target_core_pr.c:3043:
+			printk("SPC-3 PR: Set APTPL Bit Activated for"

WARNING:SPLIT_STRING: quoted string split across lines
#982: FILE: drivers/target/target_core_pr.c:3044:
+			printk("SPC-3 PR: Set APTPL Bit Activated for"
+					" REGISTER_AND_MOVE\n");

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#1070: FILE: include/target/target_core_base.h:331:
+	spinlock_t aptpl_reg_lock;

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct t10_reservation_template_s *' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u64' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned char *' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned char *' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u16' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u8' should also have an identifier name
#1091: FILE: include/target/target_core_pr.h:48:
+extern int core_scsi3_alloc_aptpl_registration(

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1095: FILE: include/target/target_core_pr.h:52:
+extern int core_scsi3_check_aptpl_registration(struct se_device_s *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_device_s *' should also have an identifier name
#1095: FILE: include/target/target_core_pr.h:52:
+extern int core_scsi3_check_aptpl_registration(struct se_device_s *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_portal_group_s *' should also have an identifier name
#1095: FILE: include/target/target_core_pr.h:52:
+extern int core_scsi3_check_aptpl_registration(struct se_device_s *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_lun_s *' should also have an identifier name
#1095: FILE: include/target/target_core_pr.h:52:
+extern int core_scsi3_check_aptpl_registration(struct se_device_s *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct se_lun_acl_s *' should also have an identifier name
#1095: FILE: include/target/target_core_pr.h:52:
+extern int core_scsi3_check_aptpl_registration(struct se_device_s *,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1096: FILE: include/target/target_core_pr.h:53:
+extern int core_scsi3_check_aptpl_registration(struct se_device_s *,
+			struct se_portal_group_s *, struct se_lun_s *,

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000086295.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 19 errors, 63 warnings, 45 checks, 917 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000086295.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
