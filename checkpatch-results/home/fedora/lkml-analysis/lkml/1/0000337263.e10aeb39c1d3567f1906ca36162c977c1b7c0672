WARNING:EMAIL_SUBJECT: A patch subject line should describe the change not the tool that found it
#23: 
Subject: [PATCH 12/12] ide-floppy: fix most of the remaining checkpatch.pl issues

Naming the tool that found the issue is not very useful in the
subject line.  A good subject line summarizes the change that
the patch brings.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#describe-your-changes

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#135: FILE: drivers/ide/ide-floppy.c:87:
+	int retries;				/* On each retry, we increment
+						   retries */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#135: FILE: drivers/ide/ide-floppy.c:87:
+						   retries */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#142: FILE: drivers/ide/ide-floppy.c:93:
+	int b_count;				/* Missing/Available data on
+						   the current buffer */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#142: FILE: drivers/ide/ide-floppy.c:93:
+						   the current buffer */

WARNING:SPACING: Unnecessary space before function pointer arguments
#148: FILE: drivers/ide/ide-floppy.c:97:
+	void (*callback) (ide_drive_t *);	/* Called when this packet

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:FUNCTION_ARGUMENTS: function definition argument 'ide_drive_t *' should also have an identifier name
#148: FILE: drivers/ide/ide-floppy.c:97:
+	void (*callback) (ide_drive_t *);	/* Called when this packet

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#149: FILE: drivers/ide/ide-floppy.c:98:
+	void (*callback) (ide_drive_t *);	/* Called when this packet
+						   command is completed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#149: FILE: drivers/ide/ide-floppy.c:98:
+						   command is completed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#153: FILE: drivers/ide/ide-floppy.c:101:
+	unsigned long flags;			/* Status/Action bit flags: long
+						   for set_bit */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#153: FILE: drivers/ide/ide-floppy.c:101:
+						   for set_bit */

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#266: FILE: drivers/ide/ide-floppy.c:293:
+	case 0: error = IDEFLOPPY_ERROR_GENERAL; break;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#267: FILE: drivers/ide/ide-floppy.c:294:
+	case 1: error = 0; break;

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#268: FILE: drivers/ide/ide-floppy.c:295:
+	default: error = uptodate;
 	                 ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#268: FILE: drivers/ide/ide-floppy.c:295:
+	default: error = uptodate;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#294: FILE: drivers/ide/ide-floppy.c:369:
+static void idefloppy_queue_pc_head(ide_drive_t *drive, idefloppy_pc_t *pc,
+		struct request *rq)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#453: FILE: drivers/ide/ide-floppy.c:707:
+static ide_startstop_t idefloppy_issue_pc(ide_drive_t *drive,
+		idefloppy_pc_t *pc)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#509: FILE: drivers/ide/ide-floppy.c:814:
+static void idefloppy_create_format_unit_cmd(idefloppy_pc_t *pc, int b, int l,
 					      int flags)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#527: FILE: drivers/ide/ide-floppy.c:836:
+static void idefloppy_create_mode_sense_cmd(idefloppy_pc_t *pc, u8 page_code,
+		u8 type)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#553: FILE: drivers/ide/ide-floppy.c:853:
+		printk(KERN_ERR "ide-floppy: unsupported page code "

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#572: FILE: drivers/ide/ide-floppy.c:899:
+static void idefloppy_blockpc_cmd(idefloppy_floppy_t *floppy,
+		idefloppy_pc_t *pc, struct request *rq)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#585: FILE: drivers/ide/ide-floppy.c:919:
+static ide_startstop_t idefloppy_do_request(ide_drive_t *drive,
+		struct request *rq, sector_t block_s)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#595: FILE: drivers/ide/ide-floppy.c:944:
+			printk(KERN_ERR "%s: unsupported r/w request size\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#596: FILE: drivers/ide/ide-floppy.c:945:
+			printk(KERN_ERR "%s: unsupported r/w request size\n",
+					drive->name);

WARNING:TYPO_SPELLING: 'Clik' may be misspelled - perhaps 'Click'?
#749: FILE: drivers/ide/ide-floppy.c:1359:
+	 * Guess what? The IOMEGA Clik! drive also needs the above fix. It makes
 	                          ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#768: FILE: drivers/ide/ide-floppy.c:1397:
+static int proc_idefloppy_read_capacity(char *page, char **start, off_t off,
+		int count, int *eof, void *data)

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#782: FILE: drivers/ide/ide-floppy.c:1407:
+	{ "capacity",	S_IFREG|S_IRUGO, proc_idefloppy_read_capacity,	NULL },
 	             	       ^

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#782: FILE: drivers/ide/ide-floppy.c:1407:
+	{ "capacity",	S_IFREG|S_IRUGO, proc_idefloppy_read_capacity,	NULL },

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#783: FILE: drivers/ide/ide-floppy.c:1408:
+	{ "geometry",	S_IFREG|S_IRUGO, proc_ide_read_geometry,	NULL },
 	             	       ^

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#783: FILE: drivers/ide/ide-floppy.c:1408:
+	{ "geometry",	S_IFREG|S_IRUGO, proc_ide_read_geometry,	NULL },

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#819: FILE: drivers/ide/ide-floppy.c:1699:
+		printk(KERN_ERR "ide-floppy: %s: not supported by this version"

WARNING:SPLIT_STRING: quoted string split across lines
#820: FILE: drivers/ide/ide-floppy.c:1700:
+		printk(KERN_ERR "ide-floppy: %s: not supported by this version"
+				" of ide-floppy\n", drive->name);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#825: FILE: drivers/ide/ide-floppy.c:1704:
+		printk(KERN_INFO "ide-floppy: passing drive %s to ide-scsi"

WARNING:SPLIT_STRING: quoted string split across lines
#826: FILE: drivers/ide/ide-floppy.c:1705:
+		printk(KERN_INFO "ide-floppy: passing drive %s to ide-scsi"
+				" emulation.\n", drive->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#833: FILE: drivers/ide/ide-floppy.c:1710:
+		printk(KERN_ERR "ide-floppy: %s: Can't allocate a floppy"

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#833: FILE: drivers/ide/ide-floppy.c:1710:
+	if (!floppy) {
+		printk(KERN_ERR "ide-floppy: %s: Can't allocate a floppy"

WARNING:SPLIT_STRING: quoted string split across lines
#834: FILE: drivers/ide/ide-floppy.c:1711:
+		printk(KERN_ERR "ide-floppy: %s: Can't allocate a floppy"
+				" structure\n", drive->name);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000337263.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 3 errors, 24 warnings, 10 checks, 748 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000337263.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
