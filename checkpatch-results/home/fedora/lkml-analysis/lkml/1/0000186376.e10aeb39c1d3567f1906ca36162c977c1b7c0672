WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#24: 
The bzip patch is based on an idea by Christian Ludwig, includes support for

WARNING:TYPO_SPELLING: 'accomodate' may be misspelled - perhaps 'accommodate'?
#38: 
- changed inflate.c to accomodate rest of patch
                       ^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#51: FILE: include/linux/decompress/bunzip2.h:1:
+#ifndef DECOMPRESS_BUNZIP2_H

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:SPACING: missing space after return type
#55: FILE: include/linux/decompress/bunzip2.h:5:
+	    int(*fill)(void*, unsigned int),

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: missing space after return type
#56: FILE: include/linux/decompress/bunzip2.h:6:
+	    int(*flush)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#59: FILE: include/linux/decompress/bunzip2.h:9:
+	    void(*error)(char *x));

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#65: FILE: include/linux/decompress/generic.h:1:
+#ifndef DECOMPRESS_GENERIC_H

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#70: FILE: include/linux/decompress/generic.h:6:
+ *Lzma prefers 0x10000 */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:SPACING: missing space after return type
#74: FILE: include/linux/decompress/generic.h:10:
+			      int(*fill)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#75: FILE: include/linux/decompress/generic.h:11:
+			      int(*writebb)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#78: FILE: include/linux/decompress/generic.h:14:
+			      void(*error)(char *x));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#93: FILE: include/linux/decompress/generic.h:29:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#99: FILE: include/linux/decompress/inflate.h:1:
+#ifndef INFLATE_H

WARNING:SPACING: missing space after return type
#106: FILE: include/linux/decompress/inflate.h:8:
+	   int(*fill)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#107: FILE: include/linux/decompress/inflate.h:9:
+	   int(*flush)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#110: FILE: include/linux/decompress/inflate.h:12:
+	   void(*error_fn)(char *x));

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#116: FILE: include/linux/decompress/mm.h:1:
+/*

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#184: FILE: include/linux/decompress/mm.h:69:
+ * needed by inflate */

WARNING:SPACING: missing space after return type
#192: FILE: include/linux/decompress/mm.h:77:
+static void(*error)(char *m);

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros with multiple statements should be enclosed in a do - while loop
#193: FILE: include/linux/decompress/mm.h:78:
+#define set_error_fn(x) error = x;

Macros with multiple statements should be enclosed in a
do - while block.  Same should also be the case for macros
starting with `if` to avoid logic defects::

  #define macrofun(a, b, c)                 \
    do {                                    \
            if (a == 5)                     \
                    do_this(b, c);          \
    } while (0)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#macros-enums-and-rtl

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#193: FILE: include/linux/decompress/mm.h:78:
+#define set_error_fn(x) error = x;

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#207: FILE: include/linux/decompress/unlzma.h:1:
+#ifndef DECOMPRESS_UNLZMA_H

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned char *' should also have an identifier name
#210: FILE: include/linux/decompress/unlzma.h:4:
+int unlzma(unsigned char *, int,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#210: FILE: include/linux/decompress/unlzma.h:4:
+int unlzma(unsigned char *, int,

WARNING:SPACING: missing space after return type
#211: FILE: include/linux/decompress/unlzma.h:5:
+	   int(*fill)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#212: FILE: include/linux/decompress/unlzma.h:6:
+	   int(*flush)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#215: FILE: include/linux/decompress/unlzma.h:9:
+	   void(*error)(char *x)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#223: FILE: lib/decompress_bunzip2.c:1:
+/* vi: set sw = 4 ts = 4: */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#225: FILE: lib/decompress_bunzip2.c:3:
+/*	Small bzip2 deflate implementation, by Rob Landley (rob@landley.net).
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#236: FILE: lib/decompress_bunzip2.c:14:
+/*
+	Size and speed optimizations by Manuel Novoa III  (mjn3@codepoet.org).

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#266: FILE: lib/decompress_bunzip2.c:44:
+/*
+	Made it fit for running in Linux Kernel by Alain Knaff (alain@knaff.lu)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#269: FILE: lib/decompress_bunzip2.c:47:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#282: FILE: lib/decompress_bunzip2.c:60:
+#define GROUP_SIZE   ^I^I50^I/* 64 would have been more efficient */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#283: FILE: lib/decompress_bunzip2.c:61:
+#define MAX_HUFCODE_BITS ^I20^I/* Longest Huffman code allowed */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#284: FILE: lib/decompress_bunzip2.c:62:
+#define MAX_SYMBOLS ^I^I258^I/* 256 literals + RUNA + RUNB */$

WARNING:TYPO_SPELLING: 'sentinal' may be misspelled - perhaps 'sentinel'?
#303: FILE: lib/decompress_bunzip2.c:81:
+	/* We have an extra slot at the end of limit[] for a sentinal value. */
 	                                                     ^^^^^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#304: FILE: lib/decompress_bunzip2.c:82:
+	int limit[MAX_HUFCODE_BITS+1];
 	                          ^

CHECK:CAMELCASE: Avoid CamelCase: <minLen>
#307: FILE: lib/decompress_bunzip2.c:85:
+	int minLen, maxLen;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <maxLen>
#307: FILE: lib/decompress_bunzip2.c:85:
+	int minLen, maxLen;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#311: FILE: lib/decompress_bunzip2.c:89:
+/* Structure holding all the housekeeping data, including IO buffers and
+   memory that persists between calls to bunzip */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#311: FILE: lib/decompress_bunzip2.c:89:
+   memory that persists between calls to bunzip */

CHECK:CAMELCASE: Avoid CamelCase: <writeCopies>
#314: FILE: lib/decompress_bunzip2.c:92:
+	int writeCopies, writePos, writeRunCountdown, writeCount, writeCurrent;

CHECK:CAMELCASE: Avoid CamelCase: <writePos>
#314: FILE: lib/decompress_bunzip2.c:92:
+	int writeCopies, writePos, writeRunCountdown, writeCount, writeCurrent;

CHECK:CAMELCASE: Avoid CamelCase: <writeRunCountdown>
#314: FILE: lib/decompress_bunzip2.c:92:
+	int writeCopies, writePos, writeRunCountdown, writeCount, writeCurrent;

CHECK:CAMELCASE: Avoid CamelCase: <writeCount>
#314: FILE: lib/decompress_bunzip2.c:92:
+	int writeCopies, writePos, writeRunCountdown, writeCount, writeCurrent;

CHECK:CAMELCASE: Avoid CamelCase: <writeCurrent>
#314: FILE: lib/decompress_bunzip2.c:92:
+	int writeCopies, writePos, writeRunCountdown, writeCount, writeCurrent;

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void*' should also have an identifier name
#316: FILE: lib/decompress_bunzip2.c:94:
+	int (*fill)(void*, unsigned int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned int' should also have an identifier name
#316: FILE: lib/decompress_bunzip2.c:94:
+	int (*fill)(void*, unsigned int);

CHECK:CAMELCASE: Avoid CamelCase: <inbufCount>
#317: FILE: lib/decompress_bunzip2.c:95:
+	int inbufCount, inbufPos /*, outbufPos*/;

CHECK:CAMELCASE: Avoid CamelCase: <inbufPos>
#317: FILE: lib/decompress_bunzip2.c:95:
+	int inbufCount, inbufPos /*, outbufPos*/;

CHECK:CAMELCASE: Avoid CamelCase: <inbufBitCount>
#319: FILE: lib/decompress_bunzip2.c:97:
+	unsigned int inbufBitCount, inbufBits;

CHECK:CAMELCASE: Avoid CamelCase: <inbufBits>
#319: FILE: lib/decompress_bunzip2.c:97:
+	unsigned int inbufBitCount, inbufBits;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#321: FILE: lib/decompress_bunzip2.c:99:
+	/* The CRC values stored in the block header and calculated from the
+	data */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#321: FILE: lib/decompress_bunzip2.c:99:
+	data */

CHECK:CAMELCASE: Avoid CamelCase: <crc32Table>
#322: FILE: lib/decompress_bunzip2.c:100:
+	unsigned int crc32Table[256], headerCRC, totalCRC, writeCRC;

CHECK:CAMELCASE: Avoid CamelCase: <headerCRC>
#322: FILE: lib/decompress_bunzip2.c:100:
+	unsigned int crc32Table[256], headerCRC, totalCRC, writeCRC;

CHECK:CAMELCASE: Avoid CamelCase: <totalCRC>
#322: FILE: lib/decompress_bunzip2.c:100:
+	unsigned int crc32Table[256], headerCRC, totalCRC, writeCRC;

CHECK:CAMELCASE: Avoid CamelCase: <writeCRC>
#322: FILE: lib/decompress_bunzip2.c:100:
+	unsigned int crc32Table[256], headerCRC, totalCRC, writeCRC;

CHECK:CAMELCASE: Avoid CamelCase: <dbufSize>
#324: FILE: lib/decompress_bunzip2.c:102:
+	unsigned int *dbuf, dbufSize;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#331: FILE: lib/decompress_bunzip2.c:109:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#333: FILE: lib/decompress_bunzip2.c:111:
+/* Return the next nnn bits of input.  All reads from the compressed input
+   are done through this function.  All reads are big endian */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#333: FILE: lib/decompress_bunzip2.c:111:
+   are done through this function.  All reads are big endian */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#339: FILE: lib/decompress_bunzip2.c:117:
+	/* If we need to get more data from the byte buffer, do so.
+	   (Loop getting one byte at a time to enforce endianness and avoid

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#340: FILE: lib/decompress_bunzip2.c:118:
+	   unaligned access.) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#343: FILE: lib/decompress_bunzip2.c:121:
+		/* If we need to read more data from file into byte buffer, do
+		   so */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#343: FILE: lib/decompress_bunzip2.c:121:
+		   so */

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#356: FILE: lib/decompress_bunzip2.c:134:
+			bits = bd->inbufBits&((1 << bd->inbufBitCount)-1);
 			                    ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#356: FILE: lib/decompress_bunzip2.c:134:
+			bits = bd->inbufBits&((1 << bd->inbufBitCount)-1);
 			                                              ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#362: FILE: lib/decompress_bunzip2.c:140:
+		bd->inbufBits = (bd->inbufBits << 8)|bd->inbuf[bd->inbufPos++];
 		                                    ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#367: FILE: lib/decompress_bunzip2.c:145:
+	bits |= (bd->inbufBits >> bd->inbufBitCount)&((1 << bits_wanted)-1);
 	                                            ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#367: FILE: lib/decompress_bunzip2.c:145:
+	bits |= (bd->inbufBits >> bd->inbufBitCount)&((1 << bits_wanted)-1);
 	                                                                ^

CHECK:CAMELCASE: Avoid CamelCase: <hufGroup>
#376: FILE: lib/decompress_bunzip2.c:154:
+	struct group_data *hufGroup = NULL;

CHECK:CAMELCASE: Avoid CamelCase: <dbufCount>
#379: FILE: lib/decompress_bunzip2.c:157:
+	int dbufCount, nextSym, dbufSize, groupCount, selector,

CHECK:CAMELCASE: Avoid CamelCase: <nextSym>
#379: FILE: lib/decompress_bunzip2.c:157:
+	int dbufCount, nextSym, dbufSize, groupCount, selector,

CHECK:CAMELCASE: Avoid CamelCase: <groupCount>
#379: FILE: lib/decompress_bunzip2.c:157:
+	int dbufCount, nextSym, dbufSize, groupCount, selector,

CHECK:CAMELCASE: Avoid CamelCase: <runPos>
#380: FILE: lib/decompress_bunzip2.c:158:
+		i, j, k, t, runPos, symCount, symTotal, nSelectors,

CHECK:CAMELCASE: Avoid CamelCase: <symCount>
#380: FILE: lib/decompress_bunzip2.c:158:
+		i, j, k, t, runPos, symCount, symTotal, nSelectors,

CHECK:CAMELCASE: Avoid CamelCase: <symTotal>
#380: FILE: lib/decompress_bunzip2.c:158:
+		i, j, k, t, runPos, symCount, symTotal, nSelectors,

CHECK:CAMELCASE: Avoid CamelCase: <nSelectors>
#380: FILE: lib/decompress_bunzip2.c:158:
+		i, j, k, t, runPos, symCount, symTotal, nSelectors,

CHECK:CAMELCASE: Avoid CamelCase: <byteCount>
#381: FILE: lib/decompress_bunzip2.c:159:
+		byteCount[256];

CHECK:CAMELCASE: Avoid CamelCase: <symToByte>
#382: FILE: lib/decompress_bunzip2.c:160:
+	unsigned char uc, symToByte[256], mtfSymbol[256], *selectors;

CHECK:CAMELCASE: Avoid CamelCase: <mtfSymbol>
#382: FILE: lib/decompress_bunzip2.c:160:
+	unsigned char uc, symToByte[256], mtfSymbol[256], *selectors;

CHECK:CAMELCASE: Avoid CamelCase: <origPtr>
#383: FILE: lib/decompress_bunzip2.c:161:
+	unsigned int *dbuf, origPtr;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#390: FILE: lib/decompress_bunzip2.c:168:
+	/* Read in header signature and CRC, then validate signature.
+	   (last block signature means CRC is for whole file, return now) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#390: FILE: lib/decompress_bunzip2.c:168:
+	   (last block signature means CRC is for whole file, return now) */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'i == 0x177245'
#394: FILE: lib/decompress_bunzip2.c:172:
+	if ((i == 0x177245) && (j == 0x385090))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'j == 0x385090'
#394: FILE: lib/decompress_bunzip2.c:172:
+	if ((i == 0x177245) && (j == 0x385090))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'i != 0x314159'
#396: FILE: lib/decompress_bunzip2.c:174:
+	if ((i != 0x314159) || (j != 0x265359))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'j != 0x265359'
#396: FILE: lib/decompress_bunzip2.c:174:
+	if ((i != 0x314159) || (j != 0x265359))

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#399: FILE: lib/decompress_bunzip2.c:177:
+	/* We can add support for blockRandomised if anybody complains.
+	   There was some code for this in busybox 1.0.0-pre3, but nobody ever

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#400: FILE: lib/decompress_bunzip2.c:178:
+	   noticed that it didn't actually work. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#407: FILE: lib/decompress_bunzip2.c:185:
+	/* mapping table: if some byte values are never used (encoding things
+	   like ascii text), the compression code removes the gaps to have fewer

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#410: FILE: lib/decompress_bunzip2.c:188:
+	   symbols back to the corresponding bytes. */

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#414: FILE: lib/decompress_bunzip2.c:192:
+		if (t&(1 << (15-i))) {
 		     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#414: FILE: lib/decompress_bunzip2.c:192:
+		if (t&(1 << (15-i))) {
 		               ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#417: FILE: lib/decompress_bunzip2.c:195:
+				if (k&(1 << (15-j)))
 				     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#417: FILE: lib/decompress_bunzip2.c:195:
+				if (k&(1 << (15-j)))
 				               ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#418: FILE: lib/decompress_bunzip2.c:196:
+					symToByte[symTotal++] = (16*i)+j;
 					                           ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#418: FILE: lib/decompress_bunzip2.c:196:
+					symToByte[symTotal++] = (16*i)+j;
 					                              ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#426: FILE: lib/decompress_bunzip2.c:204:
+	/* nSelectors: Every GROUP_SIZE many symbols we select a new
+	   Huffman coding group.  Read in the group selector list,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#429: FILE: lib/decompress_bunzip2.c:207:
+	   list.) */

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#443: FILE: lib/decompress_bunzip2.c:221:
+			mtfSymbol[j] = mtfSymbol[j-1];
 			                          ^

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#444: FILE: lib/decompress_bunzip2.c:222:
+		mtfSymbol[0] = selectors[i] = uc;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#447: FILE: lib/decompress_bunzip2.c:225:
+	/* Read the Huffman coding tables for each group, which code
+	   for symTotal literal symbols, plus two run symbols (RUNA,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#448: FILE: lib/decompress_bunzip2.c:226:
+	   RUNB) */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#449: FILE: lib/decompress_bunzip2.c:227:
+	symCount = symTotal+2;
 	                   ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#451: FILE: lib/decompress_bunzip2.c:229:
+		unsigned char length[MAX_SYMBOLS], temp[MAX_HUFCODE_BITS+1];
 		                                                        ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#454: FILE: lib/decompress_bunzip2.c:232:
+		/* Read Huffman code lengths for each symbol.  They're
+		   stored in a way similar to mtf; record a starting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#461: FILE: lib/decompress_bunzip2.c:239:
+		   it.) */

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#462: FILE: lib/decompress_bunzip2.c:240:
+		t = get_bits(bd, 5)-1;
 		                   ^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#465: FILE: lib/decompress_bunzip2.c:243:
+				if (((unsigned)t) > (MAX_HUFCODE_BITS-1))

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#465: FILE: lib/decompress_bunzip2.c:243:
+				if (((unsigned)t) > (MAX_HUFCODE_BITS-1))
 				                                     ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#469: FILE: lib/decompress_bunzip2.c:247:
+				/* If first bit is 0, stop.  Else
+				   second bit indicates whether to

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#472: FILE: lib/decompress_bunzip2.c:250:
+				   the second if the first was 0. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#480: FILE: lib/decompress_bunzip2.c:258:
+				 * subtract 1.  Avoids if/else */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#481: FILE: lib/decompress_bunzip2.c:259:
+				t += (((k+1)&2)-1);
 				         ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#481: FILE: lib/decompress_bunzip2.c:259:
+				t += (((k+1)&2)-1);
 				            ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#481: FILE: lib/decompress_bunzip2.c:259:
+				t += (((k+1)&2)-1);
 				               ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#484: FILE: lib/decompress_bunzip2.c:262:
+			 * final symbol length */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#485: FILE: lib/decompress_bunzip2.c:263:
+			length[i] = t+1;
 			             ^

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#488: FILE: lib/decompress_bunzip2.c:266:
+		minLen = maxLen = length[0];

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#512: FILE: lib/decompress_bunzip2.c:290:
+		hufGroup = bd->groups+j;
 		                     ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#516: FILE: lib/decompress_bunzip2.c:294:
+		/* Note that minLen can't be smaller than 1, so we
+		   adjust the base and limit array pointers so we're

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#518: FILE: lib/decompress_bunzip2.c:296:
+		   again when using them (during symbol decoding).*/

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#519: FILE: lib/decompress_bunzip2.c:297:
+		base = hufGroup->base-1;
 		                     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#520: FILE: lib/decompress_bunzip2.c:298:
+		limit = hufGroup->limit-1;
 		                       ^

WARNING:TYPO_SPELLING: 'Concurently' may be misspelled - perhaps 'Concurrently'?
#521: FILE: lib/decompress_bunzip2.c:299:
+		/* Calculate permute[].  Concurently, initialize
 		                         ^^^^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#522: FILE: lib/decompress_bunzip2.c:300:
+		 * temp[] and limit[]. */

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#525: FILE: lib/decompress_bunzip2.c:303:
+			temp[i] = limit[i] = 0;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#538: FILE: lib/decompress_bunzip2.c:316:
+		 *already). */

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#539: FILE: lib/decompress_bunzip2.c:317:
+		pp = t = 0;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#543: FILE: lib/decompress_bunzip2.c:321:
+			/* We read the largest possible symbol size
+			   and then unget bits after determining how

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#551: FILE: lib/decompress_bunzip2.c:329:
+			   comparison. */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#554: FILE: lib/decompress_bunzip2.c:332:
+			base[i+1] = pp-(t += temp[i]);
 			      ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#554: FILE: lib/decompress_bunzip2.c:332:
+			base[i+1] = pp-(t += temp[i]);
 			              ^

WARNING:TYPO_SPELLING: 'Sentinal' may be misspelled - perhaps 'Sentinel'?
#556: FILE: lib/decompress_bunzip2.c:334:
+		limit[maxLen+1] = INT_MAX; /* Sentinal value for
 		                              ^^^^^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#556: FILE: lib/decompress_bunzip2.c:334:
+		limit[maxLen+1] = INT_MAX; /* Sentinal value for
 		            ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#557: FILE: lib/decompress_bunzip2.c:335:
+					    * reading next sym. */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#558: FILE: lib/decompress_bunzip2.c:336:
+		limit[maxLen] = pp+temp[maxLen]-1;
 		                  ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#558: FILE: lib/decompress_bunzip2.c:336:
+		limit[maxLen] = pp+temp[maxLen]-1;
 		                               ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#562: FILE: lib/decompress_bunzip2.c:340:
+	/* We've finished reading and digesting the block header.  Now
+	   read this block's Huffman coded symbols from the file and

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#564: FILE: lib/decompress_bunzip2.c:342:
+	   result into dbuf[dbufCount++] = uc */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#567: FILE: lib/decompress_bunzip2.c:345:
+	 * Front table */

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#573: FILE: lib/decompress_bunzip2.c:351:
+	runPos = dbufCount = symCount = selector = 0;

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#577: FILE: lib/decompress_bunzip2.c:355:
+			symCount = GROUP_SIZE-1;
 			                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#580: FILE: lib/decompress_bunzip2.c:358:
+			hufGroup = bd->groups+selectors[selector++];
 			                     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#581: FILE: lib/decompress_bunzip2.c:359:
+			base = hufGroup->base-1;
 			                     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#582: FILE: lib/decompress_bunzip2.c:360:
+			limit = hufGroup->limit-1;
 			                       ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#586: FILE: lib/decompress_bunzip2.c:364:
+		/* Note: It is far cheaper to read maxLen bits and
+		   back up than it is to read minLen bits and then an

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#602: FILE: lib/decompress_bunzip2.c:380:
+				(bd->inbufBits << 8)|bd->inbuf[bd->inbufPos++];
 				                    ^

CHECK:SPACING: space preferred before that '&' (ctx:VxE)
#606: FILE: lib/decompress_bunzip2.c:384:
+		j = (bd->inbufBits >> bd->inbufBitCount)&
 		                                        ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#607: FILE: lib/decompress_bunzip2.c:385:
+			((1 << hufGroup->maxLen)-1);
 			                        ^

WARNING:REPEATED_WORD: Possible repeated word: 'how'
#609: FILE: lib/decompress_bunzip2.c:387:
+		/* Figure how how many bits are in next symbol and

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#610: FILE: lib/decompress_bunzip2.c:388:
+		 * unget extras */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'i > hufGroup->maxLen'
#616: FILE: lib/decompress_bunzip2.c:394:
+		if ((i > hufGroup->maxLen)
+			|| (((unsigned)(j = (j>>(hufGroup->maxLen-i))-base[i]))
+				>= MAX_SYMBOLS))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#616: FILE: lib/decompress_bunzip2.c:394:
+		if ((i > hufGroup->maxLen)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#617: FILE: lib/decompress_bunzip2.c:395:
+		if ((i > hufGroup->maxLen)
+			|| (((unsigned)(j = (j>>(hufGroup->maxLen-i))-base[i]))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#617: FILE: lib/decompress_bunzip2.c:395:
+			|| (((unsigned)(j = (j>>(hufGroup->maxLen-i))-base[i]))

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#617: FILE: lib/decompress_bunzip2.c:395:
+			|| (((unsigned)(j = (j>>(hufGroup->maxLen-i))-base[i]))
 			                      ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#617: FILE: lib/decompress_bunzip2.c:395:
+			|| (((unsigned)(j = (j>>(hufGroup->maxLen-i))-base[i]))
 			                                         ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#617: FILE: lib/decompress_bunzip2.c:395:
+			|| (((unsigned)(j = (j>>(hufGroup->maxLen-i))-base[i]))
 			                                             ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#622: FILE: lib/decompress_bunzip2.c:400:
+		/* We have now decoded the symbol, which indicates
+		   either a new literal byte, or a repeated run of the

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#625: FILE: lib/decompress_bunzip2.c:403:
+		   how many times to repeat the last literal. */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#626: FILE: lib/decompress_bunzip2.c:404:
+		if (((unsigned)nextSym) <= SYMBOL_RUNB) { /* RUNA or RUNB */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#628: FILE: lib/decompress_bunzip2.c:406:
+			 * counter */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#634: FILE: lib/decompress_bunzip2.c:412:
+			/* Neat trick that saves 1 symbol: instead of
+			   or-ing 0 or 1 at each bit position, add 1

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#642: FILE: lib/decompress_bunzip2.c:420:
+			   Thus space is saved. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#650: FILE: lib/decompress_bunzip2.c:428:
+		/* When we hit the first non-run symbol after a run,
+		   we now know how many times to repeat the last

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#654: FILE: lib/decompress_bunzip2.c:432:
+		   array.) */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#657: FILE: lib/decompress_bunzip2.c:435:
+			if (dbufCount+t >= dbufSize)
 			             ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#669: FILE: lib/decompress_bunzip2.c:447:
+		/* At this point, nextSym indicates a new literal
+		   character.  Subtract one to get the position in the

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#676: FILE: lib/decompress_bunzip2.c:454:
+		   non-literal nextSym values equals -1.) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#685: FILE: lib/decompress_bunzip2.c:463:
+		 *overhead and other assorted setup costs. */

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#687: FILE: lib/decompress_bunzip2.c:465:
+			mtfSymbol[i] = mtfSymbol[i-1];
 			                          ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#696: FILE: lib/decompress_bunzip2.c:474:
+	/* At this point, we've read all the Huffman-coded symbols
+	   (and repeated runs) for this block from the input stream,

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#705: FILE: lib/decompress_bunzip2.c:483:
+		k = j+byteCount[i];
 		     ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#716: FILE: lib/decompress_bunzip2.c:494:
+	/* Decode first byte by hand to initialize "previous" byte.
+	   Note that it doesn't get output, and if the first three

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#718: FILE: lib/decompress_bunzip2.c:496:
+	   writeRunCountdown = 5). */

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#723: FILE: lib/decompress_bunzip2.c:501:
+		bd->writeCurrent = (unsigned char)(bd->writePos&0xff);
 		                                               ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#733: FILE: lib/decompress_bunzip2.c:511:
+/* Undo burrows-wheeler transform on intermediate buffer to produce output.
+   If start_bunzip was initialized with out_fd =-1, then up to len bytes of

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#754: FILE: lib/decompress_bunzip2.c:532:
+	/* We will always have pending decoded data to write into the output
+	   buffer unless this is the very first call (in which case we haven't

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#755: FILE: lib/decompress_bunzip2.c:533:
+	   Huffman-decoded a block into the intermediate buffer yet). */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#763: FILE: lib/decompress_bunzip2.c:541:
+			 * state and return */

CHECK:SPACING: spaces preferred around that '^' (ctx:ExV)
#773: FILE: lib/decompress_bunzip2.c:551:
+				^bd->crc32Table[((bd->writeCRC) >> 24)
 				^

CHECK:SPACING: spaces preferred around that '^' (ctx:ExV)
#774: FILE: lib/decompress_bunzip2.c:552:
+				^xcurrent]);
 				^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#776: FILE: lib/decompress_bunzip2.c:554:
+			 * copies of this byte */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#785: FILE: lib/decompress_bunzip2.c:563:
+			 * Burrows-Wheeler transform */

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#788: FILE: lib/decompress_bunzip2.c:566:
+			xcurrent = pos&0xff;
 			              ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#791: FILE: lib/decompress_bunzip2.c:569:
+			/* After 3 consecutive copies of the same
+			   byte, the 4th is a repeat count.  We count

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#793: FILE: lib/decompress_bunzip2.c:571:
+			   testing for non-zero is faster */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#799: FILE: lib/decompress_bunzip2.c:577:
+				 * indicates the count */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#804: FILE: lib/decompress_bunzip2.c:582:
+				 * (run length 0) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#808: FILE: lib/decompress_bunzip2.c:586:
+				 * anyway to get extras */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#818: FILE: lib/decompress_bunzip2.c:596:
+			bd->totalCRC = bd->headerCRC+1;
 			                            ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#824: FILE: lib/decompress_bunzip2.c:602:
+	 * block of input */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#843: FILE: lib/decompress_bunzip2.c:621:
+/* Allocate the structure, read file header.  If in_fd ==-1, inbuf must contain
+   a complete bunzip file (len bytes long).  If in_fd!=-1, inbuf and len are

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#844: FILE: lib/decompress_bunzip2.c:622:
+   ignored, and data is read from file handle into temporary buffer. */

CHECK:CAMELCASE: Avoid CamelCase: <BZh0>
#850: FILE: lib/decompress_bunzip2.c:628:
+	const unsigned int BZh0 =

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#851: FILE: lib/decompress_bunzip2.c:629:
+		(((unsigned int)'B') << 24)+(((unsigned int)'Z') << 16)
 		                           ^

CHECK:SPACING: spaces preferred around that '+' (ctx:ExV)
#852: FILE: lib/decompress_bunzip2.c:630:
+		+(((unsigned int)'h') << 8)+(unsigned int)'0';
 		^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#852: FILE: lib/decompress_bunzip2.c:630:
+		+(((unsigned int)'h') << 8)+(unsigned int)'0';
 		                           ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "fill"
#863: FILE: lib/decompress_bunzip2.c:641:
+	if (fill != NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#872: FILE: lib/decompress_bunzip2.c:650:
+			c = c&0x80000000 ? (c << 1)^0x04c11db7 : (c << 1);
 			     ^

CHECK:SPACING: spaces preferred around that '^' (ctx:VxV)
#872: FILE: lib/decompress_bunzip2.c:650:
+			c = c&0x80000000 ? (c << 1)^0x04c11db7 : (c << 1);
 			                           ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#878: FILE: lib/decompress_bunzip2.c:656:
+	if (((unsigned int)(i-BZh0-1)) >= 9)
 	                     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#878: FILE: lib/decompress_bunzip2.c:656:
+	if (((unsigned int)(i-BZh0-1)) >= 9)
 	                          ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#882: FILE: lib/decompress_bunzip2.c:660:
+	/* Fourth byte (ascii '1'-'9'), indicates block size in units of 100k of
+	   uncompressed data.  Allocate intermediate buffer for block. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#882: FILE: lib/decompress_bunzip2.c:660:
+	   uncompressed data.  Allocate intermediate buffer for block. */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#883: FILE: lib/decompress_bunzip2.c:661:
+	bd->dbufSize = 100000*(i-BZh0);
 	                     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#883: FILE: lib/decompress_bunzip2.c:661:
+	bd->dbufSize = 100000*(i-BZh0);
 	                        ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#890: FILE: lib/decompress_bunzip2.c:668:
+/* Example usage: decompress src_fd to dst_fd.  (Stops at end of bzip2 data,
+   not end of file.) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#890: FILE: lib/decompress_bunzip2.c:668:
+   not end of file.) */

WARNING:SPACING: missing space after return type
#892: FILE: lib/decompress_bunzip2.c:670:
+			int(*fill)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#893: FILE: lib/decompress_bunzip2.c:671:
+			int(*flush)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#896: FILE: lib/decompress_bunzip2.c:674:
+			void(*error_fn)(char *x))

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#907: FILE: lib/decompress_bunzip2.c:685:
+		len -= 4; /* Uncompressed size hack active in pre-boot
+			     environment */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#907: FILE: lib/decompress_bunzip2.c:685:
+			     environment */

WARNING:TYPO_SPELLING: 'bufer' may be misspelled - perhaps 'buffer'?
#909: FILE: lib/decompress_bunzip2.c:687:
+		error("Could not allocate output bufer");
 		                                 ^^^^^

WARNING:TYPO_SPELLING: 'bufer' may be misspelled - perhaps 'buffer'?
#917: FILE: lib/decompress_bunzip2.c:695:
+		error("Could not allocate input bufer");
 		                                ^^^^^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#962: FILE: lib/decompress_inflate.c:1:
+#ifdef STATIC

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#966: FILE: lib/decompress_inflate.c:5:
+ * errors about console_printk etc... on ARM */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#988: FILE: lib/decompress_inflate.c:27:
+#define INBUF_LEN (16*1024)
                      ^

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#991: FILE: lib/decompress_inflate.c:30:
+STATIC int INIT gunzip(unsigned char *buf, int len,
+		       int(*fill)(void*, unsigned int),
+		       int(*flush)(void*, unsigned int),
+		       unsigned char *out_buf,
+		       int *pos,
+		       void(*error_fn)(char *x)) {

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: missing space after return type
#992: FILE: lib/decompress_inflate.c:31:
+		       int(*fill)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#993: FILE: lib/decompress_inflate.c:32:
+		       int(*flush)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#996: FILE: lib/decompress_inflate.c:35:
+		       void(*error_fn)(char *x)) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#1015: FILE: lib/decompress_inflate.c:54:
+	if (buf)
[...]
+	else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#1017: FILE: lib/decompress_inflate.c:56:
+	else {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!strm"
#1027: FILE: lib/decompress_inflate.c:66:
+	if (strm == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!strm->workspace"
#1034: FILE: lib/decompress_inflate.c:73:
+	if (strm->workspace == NULL) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1044: FILE: lib/decompress_inflate.c:83:
+	if (len < 10 ||
+	   zbuf[0] != 0x1f || zbuf[1] != 0x8b || zbuf[2] != 0x08) {

CHECK:CAMELCASE: Avoid CamelCase: <zlib_inflateInit2>
#1066: FILE: lib/decompress_inflate.c:105:
+	rc = zlib_inflateInit2(strm, -MAX_WBITS);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1090: FILE: lib/decompress_inflate.c:129:
+			int l = strm->next_out - out_buf;
+			if (l != flush(out_buf, l)) {

CHECK:CAMELCASE: Avoid CamelCase: <zlib_inflateEnd>
#1109: FILE: lib/decompress_inflate.c:148:
+	zlib_inflateEnd(strm);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1112: FILE: lib/decompress_inflate.c:151:
+		*pos = strm->next_in - zbuf+8;
 		                           ^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1133: FILE: lib/decompress_unlzma.c:1:
+/* Lzma decompressor for Linux kernel. Shamelessly snarfed

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1160: FILE: lib/decompress_unlzma.c:28:
+ *License along with this library; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1161: FILE: lib/decompress_unlzma.c:29:
+ *Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA$

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'a' - possible side-effects?
#1170: FILE: lib/decompress_unlzma.c:38:
+#define	MIN(a, b) (((a) < (b)) ? (a) : (b))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'b' - possible side-effects?
#1170: FILE: lib/decompress_unlzma.c:38:
+#define	MIN(a, b) (((a) < (b)) ? (a) : (b))

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1178: FILE: lib/decompress_unlzma.c:46:
+		ret = (ret << 8) | ptr[size-i-1];
 		                           ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1178: FILE: lib/decompress_unlzma.c:46:
+		ret = (ret << 8) | ptr[size-i-1];
 		                             ^

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1182: FILE: lib/decompress_unlzma.c:50:
+#define ENDIAN_CONVERT(x) \
+  x = (typeof(x))read_int((unsigned char *)&x, sizeof(x))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'x' - possible side-effects?
#1182: FILE: lib/decompress_unlzma.c:50:
+#define ENDIAN_CONVERT(x) \
+  x = (typeof(x))read_int((unsigned char *)&x, sizeof(x))

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1183: FILE: lib/decompress_unlzma.c:51:
+  x = (typeof(x))read_int((unsigned char *)&x, sizeof(x))$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1185: FILE: lib/decompress_unlzma.c:53:
+
+

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void*' should also have an identifier name
#1198: FILE: lib/decompress_unlzma.c:66:
+	int (*fill)(void*, unsigned int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned int' should also have an identifier name
#1198: FILE: lib/decompress_unlzma.c:66:
+	int (*fill)(void*, unsigned int);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1199: FILE: lib/decompress_unlzma.c:67:
+	uint8_t *ptr;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1200: FILE: lib/decompress_unlzma.c:68:
+	uint8_t *buffer;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1201: FILE: lib/decompress_unlzma.c:69:
+	uint8_t *buffer_end;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1203: FILE: lib/decompress_unlzma.c:71:
+	uint32_t code;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1204: FILE: lib/decompress_unlzma.c:72:
+	uint32_t range;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1205: FILE: lib/decompress_unlzma.c:73:
+	uint32_t bound;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1208: FILE: lib/decompress_unlzma.c:76:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1213: FILE: lib/decompress_unlzma.c:81:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1226: FILE: lib/decompress_unlzma.c:94:
+static inline void INIT rc_init(struct rc *rc,
+				       int (*fill)(void*, unsigned int),

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1250: FILE: lib/decompress_unlzma.c:118:
+
+

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1265: FILE: lib/decompress_unlzma.c:133:
+}
+static inline void INIT rc_normalize(struct rc *rc)

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1281: FILE: lib/decompress_unlzma.c:149:
+}
+static inline int INIT rc_is_bit_0(struct rc *rc, uint16_t *p)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1283: FILE: lib/decompress_unlzma.c:151:
+	uint32_t t = rc_is_bit_0_helper(rc, p);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1284: FILE: lib/decompress_unlzma.c:152:
+	uint32_t t = rc_is_bit_0_helper(rc, p);
+	return rc->code < t;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1293: FILE: lib/decompress_unlzma.c:161:
+}
+static inline void rc_update_bit_1(struct rc *rc, uint16_t *p)

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#1307: FILE: lib/decompress_unlzma.c:175:
+		return 0;
+	} else {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1338: FILE: lib/decompress_unlzma.c:206:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1347: FILE: lib/decompress_unlzma.c:215:
+
+

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1349: FILE: lib/decompress_unlzma.c:217:
+	uint8_t pos;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1350: FILE: lib/decompress_unlzma.c:218:
+	uint32_t dict_size;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#1351: FILE: lib/decompress_unlzma.c:219:
+	uint64_t dst_size;

WARNING:SPACING: space prohibited before semicolon
#1352: FILE: lib/decompress_unlzma.c:220:
+} __attribute__ ((packed)) ;

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#1352: FILE: lib/decompress_unlzma.c:220:
+} __attribute__ ((packed)) ;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1354: FILE: lib/decompress_unlzma.c:222:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:ExV)
#1370: FILE: lib/decompress_unlzma.c:238:
+		       +(1 << (LZMA_NUM_POS_BITS_MAX + LZMA_LEN_NUM_MID_BITS)))
 		       ^

CHECK:SPACING: spaces preferred around that '+' (ctx:ExV)
#1396: FILE: lib/decompress_unlzma.c:264:
+		       +(LZMA_NUM_LEN_TO_POS_STATES << LZMA_NUM_POS_SLOT_BITS))
 		       ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1403: FILE: lib/decompress_unlzma.c:271:
+
+

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1405: FILE: lib/decompress_unlzma.c:273:
+	uint8_t *buffer;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1406: FILE: lib/decompress_unlzma.c:274:
+	uint8_t previous_byte;

WARNING:SPACING: missing space after return type
#1410: FILE: lib/decompress_unlzma.c:278:
+	int(*flush)(void*, unsigned int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void*' should also have an identifier name
#1410: FILE: lib/decompress_unlzma.c:278:
+	int(*flush)(void*, unsigned int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned int' should also have an identifier name
#1410: FILE: lib/decompress_unlzma.c:278:
+	int(*flush)(void*, unsigned int);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1416: FILE: lib/decompress_unlzma.c:284:
+	uint32_t rep0, rep1, rep2, rep3;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1426: FILE: lib/decompress_unlzma.c:294:
+static inline uint8_t INIT peek_old_byte(struct writer *wr,
+						uint32_t offs)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 's32' over 'int32_t'
#1429: FILE: lib/decompress_unlzma.c:297:
+		int32_t pos;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1430: FILE: lib/decompress_unlzma.c:298:
+		int32_t pos;
+		while (offs > wr->header->dict_size)

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#1434: FILE: lib/decompress_unlzma.c:302:
+		return wr->buffer[pos];
+	} else {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1435: FILE: lib/decompress_unlzma.c:303:
+		uint32_t pos = wr->buffer_pos - offs;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1436: FILE: lib/decompress_unlzma.c:304:
+		uint32_t pos = wr->buffer_pos - offs;
+		while (pos >= wr->header->dict_size)

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1441: FILE: lib/decompress_unlzma.c:309:
+
+}

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1445: FILE: lib/decompress_unlzma.c:313:
+	wr->buffer[wr->buffer_pos++] = wr->previous_byte = byte;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1453: FILE: lib/decompress_unlzma.c:321:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1460: FILE: lib/decompress_unlzma.c:328:
+static inline void INIT copy_bytes(struct writer *wr,
+					 uint32_t rep0, int len)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1460: FILE: lib/decompress_unlzma.c:328:
+					 uint32_t rep0, int len)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1473: FILE: lib/decompress_unlzma.c:341:
+	int mi = 1;
+	rc_update_bit_0(rc, prob);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1482: FILE: lib/decompress_unlzma.c:350:
+		int match_byte = peek_old_byte(wr, cst->rep0);
+		do {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1484: FILE: lib/decompress_unlzma.c:352:
+			uint16_t *prob_lit;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1499: FILE: lib/decompress_unlzma.c:367:
+		uint16_t *prob_lit = prob + mi;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1500: FILE: lib/decompress_unlzma.c:368:
+		uint16_t *prob_lit = prob + mi;
+		rc_get_bit(rc, prob_lit, &mi);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1512: FILE: lib/decompress_unlzma.c:380:
+static inline void INIT process_bit1(struct writer *wr, struct rc *rc,
+					    struct cstate *cst, uint16_t *p,

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1514: FILE: lib/decompress_unlzma.c:382:
+  int offset;$

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1515: FILE: lib/decompress_unlzma.c:383:
+	uint16_t *prob_len;

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#1544: FILE: lib/decompress_unlzma.c:412:
+				return;
+			} else {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1548: FILE: lib/decompress_unlzma.c:416:
+			uint32_t distance;

CHECK:BRACES: braces {} should be used on all arms of this statement
#1618: FILE: lib/decompress_unlzma.c:486:
+		if (pos_slot >= LZMA_START_POS_MODEL_INDEX) {
[...]
+		} else
[...]

WARNING:LINE_SPACING: Missing a blank line after declarations
#1620: FILE: lib/decompress_unlzma.c:488:
+			int i, mi;
+			num_bits = (pos_slot >> 1) - 1;

CHECK:BRACES: Unbalanced braces around else statement
#1642: FILE: lib/decompress_unlzma.c:510:
+		} else

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cst->rep0'
#1644: FILE: lib/decompress_unlzma.c:512:
+		if (++(cst->rep0) == 0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1653: FILE: lib/decompress_unlzma.c:521:
+
+

WARNING:SPACING: missing space after return type
#1656: FILE: lib/decompress_unlzma.c:524:
+			      int(*fill)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#1657: FILE: lib/decompress_unlzma.c:525:
+			      int(*flush)(void*, unsigned int),

WARNING:SPACING: missing space after return type
#1660: FILE: lib/decompress_unlzma.c:528:
+			      void(*error_fn)(char *x)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1665: FILE: lib/decompress_unlzma.c:533:
+	uint32_t pos_state_mask;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1666: FILE: lib/decompress_unlzma.c:534:
+	uint32_t literal_pos_mask;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1667: FILE: lib/decompress_unlzma.c:535:
+	uint16_t *p;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1679: FILE: lib/decompress_unlzma.c:547:
+		in_len -= 4; /* Uncompressed size hack active in pre-boot
+				environment */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1679: FILE: lib/decompress_unlzma.c:547:
+				environment */

WARNING:TYPO_SPELLING: 'bufer' may be misspelled - perhaps 'buffer'?
#1685: FILE: lib/decompress_unlzma.c:553:
+		error("Could not allocate input bufer");
 		                                ^^^^^

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1690: FILE: lib/decompress_unlzma.c:558:
+	cst.rep0 = cst.rep1 = cst.rep2 = cst.rep3 = 1;

CHECK:BRACES: braces {} should be used on all arms of this statement
#1730: FILE: lib/decompress_unlzma.c:598:
+	if (output)
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1732: FILE: lib/decompress_unlzma.c:600:
+	else {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!wr.buffer"
#1736: FILE: lib/decompress_unlzma.c:604:
+	if (wr.buffer == NULL)

CHECK:SPACING: No space is necessary after a cast
#1740: FILE: lib/decompress_unlzma.c:608:
+	p = (uint16_t *) large_malloc(num_probs * sizeof(*p));

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1751: FILE: lib/decompress_unlzma.c:619:
+		uint16_t *prob = p + LZMA_IS_MATCH +

CHECK:BRACES: Unbalanced braces around else statement
#1756: FILE: lib/decompress_unlzma.c:624:
+		else {

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1764: FILE: lib/decompress_unlzma.c:632:
+		*posp = rc.ptr-rc.buffer;
 		              ^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1784: FILE: lib/zlib_inflate/inflate.h:1:
+#ifndef INFLATE_H

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1799: FILE: lib/zlib_inflate/inftrees.h:1:
+#ifndef INFTREES_H

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 2
#1815: FILE: scripts/bin_size:2:
+

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000186376.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 6 errors, 152 warnings, 169 checks, 1748 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000186376.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
