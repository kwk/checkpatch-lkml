WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#28: 
master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6.git davem-next

CHECK:BRACES: braces {} should be used on all arms of this statement
#545: FILE: drivers/net/atlx/atl2.c:525:
+		if (txs->ok) {
[...]
 		else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1346: FILE: drivers/net/enic/enic_main.c:1126:
+	mod_timer(&enic->notify_timer,
+		round_jiffies(jiffies + ENIC_NOTIFY_TIMER_PERIOD));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1384: FILE: drivers/net/enic/enic_main.c:1255:
+		printk(KERN_ERR PFX "%s: Unable to request irq.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1385: FILE: drivers/net/enic/enic_main.c:1256:
+		printk(KERN_ERR PFX "%s: Unable to request irq.\n",
+			netdev->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1391: FILE: drivers/net/enic/enic_main.c:1262:
+		printk(KERN_ERR PFX

WARNING:SPLIT_STRING: quoted string split across lines
#1504: FILE: drivers/net/enic/enic_main.c:1664:
+				"Unable to obtain 32-bit DMA "
+				"for consistent allocations, aborting.\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#1515: FILE: drivers/net/enic/enic_main.c:1672:
+				"Unable to obtain 40-bit DMA "
+				"for consistent allocations, aborting.\n");

ERROR:SPACING: space required before the open parenthesis '('
#1891: FILE: drivers/net/gianfar_mii.c:144:
+	if(timeout == 0) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:STATIC_CONST_CHAR_ARRAY: static char array declaration should probably be static const char
#1952: FILE: drivers/net/mv643xx_eth.c:58:
+static char mv643xx_eth_driver_version[] = "1.4";

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2020: FILE: drivers/net/mv643xx_eth.c:251:
+	/*
+	 * Provides access to local SMI interface.

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2025: FILE: drivers/net/mv643xx_eth.c:256:
+	/*
+	 * If we have access to the error interrupt pin (which is

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#2085: FILE: drivers/net/mv643xx_eth.c:360:
+	spinlock_t mib_counters_lock;

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2332: FILE: drivers/net/mv643xx_eth.c:573:
+	/*
+	 * Reserve 2+14 bytes for an ethernet header (the hardware

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2351: FILE: drivers/net/mv643xx_eth.c:581:
+	/*
+	 * Make sure that the skb size is a multiple of 8 bytes, as

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#2364: FILE: drivers/net/mv643xx_eth.c:594:
+		if (skb == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2390: FILE: drivers/net/mv643xx_eth.c:611:
+		rxq->rx_desc_area[rx].buf_ptr = dma_map_single(NULL, skb->data,
+						skb_size, DMA_FROM_DEVICE);

WARNING:MEMORY_BARRIER: memory barrier without comment
#2393: FILE: drivers/net/mv643xx_eth.c:614:
+		wmb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#2396: FILE: drivers/net/mv643xx_eth.c:617:
+		wmb();

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2399: FILE: drivers/net/mv643xx_eth.c:620:
+		/*
+		 * The hardware automatically prepends 2 bytes of

WARNING:PREFER_DEV_LEVEL: Prefer dev_err(... to dev_printk(KERN_ERR, ...
#2609: FILE: drivers/net/mv643xx_eth.c:811:
+			dev_printk(KERN_ERR, &dev->dev, "tx queue full?!\n");

WARNING:PREFER_DEV_LEVEL: Prefer dev_info(... to dev_printk(KERN_INFO, ...
#2703: FILE: drivers/net/mv643xx_eth.c:895:
+			dev_printk(KERN_INFO, &mp->dev->dev, "tx error\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2727: FILE: drivers/net/mv643xx_eth.c:919:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2812: FILE: drivers/net/mv643xx_eth.c:1027:
+		/*
+		 * Configure WRR weight for this queue.

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#2869: FILE: drivers/net/mv643xx_eth.c:1065:
+			msleep(10);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2890: FILE: drivers/net/mv643xx_eth.c:1085:
+		printk("mv643xx_eth: SMI bus busy timeout\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2904: FILE: drivers/net/mv643xx_eth.c:1092:
+		printk("mv643xx_eth: SMI bus busy timeout\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2913: FILE: drivers/net/mv643xx_eth.c:1098:
+		printk("mv643xx_eth: SMI bus read not valid\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2942: FILE: drivers/net/mv643xx_eth.c:1111:
+		printk("mv643xx_eth: SMI bus busy timeout\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2953: FILE: drivers/net/mv643xx_eth.c:1119:
+		printk("mv643xx_eth: SMI bus busy timeout\n");

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3234: FILE: drivers/net/mv643xx_eth.c:1742:
+	BUG_ON(txq->tx_used_desc != txq->tx_curr_desc);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3464: FILE: drivers/net/mv643xx_eth.c:1901:
+			BUG();

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mp->phy"
#3540: FILE: drivers/net/mv643xx_eth.c:1947:
+	if (mp->phy != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mp->phy"
#3549: FILE: drivers/net/mv643xx_eth.c:1964:
+	if (mp->phy == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mp->phy"
#3735: FILE: drivers/net/mv643xx_eth.c:2173:
+	if (mp->phy != NULL)

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#3811: FILE: drivers/net/mv643xx_eth.c:2339:
+	/*
+	 * Set up and register SMI bus.

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pd"
#3813: FILE: drivers/net/mv643xx_eth.c:2341:
+	if (pd == NULL || pd->shared_smi == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pd->shared_smi"
#3813: FILE: drivers/net/mv643xx_eth.c:2341:
+	if (pd == NULL || pd->shared_smi == NULL) {

WARNING:SUSPECT_COMMA_SEMICOLON: Possible comma where semicolon could be used
#3817: FILE: drivers/net/mv643xx_eth.c:2345:
+		msp->smi_bus.write = smi_bus_write,
+		snprintf(msp->smi_bus.id, MII_BUS_ID_SIZE, "%d", pdev->id);

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#3832: FILE: drivers/net/mv643xx_eth.c:2360:
+	/*
+	 * Check whether the error interrupt is hooked up.

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "res"
#3835: FILE: drivers/net/mv643xx_eth.c:2363:
+	if (res != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pd"
#3863: FILE: drivers/net/mv643xx_eth.c:2403:
+	if (pd == NULL || pd->shared_smi == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pd->shared_smi"
#3863: FILE: drivers/net/mv643xx_eth.c:2403:
+	if (pd == NULL || pd->shared_smi == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!bus->phy_map[addr]"
#3946: FILE: drivers/net/mv643xx_eth.c:2490:
+		if (bus->phy_map[addr] == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!phydev"
#3950: FILE: drivers/net/mv643xx_eth.c:2493:
+		if (phydev == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "phydev"
#3952: FILE: drivers/net/mv643xx_eth.c:2495:
+			if (phydev != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mp->phy"
#4029: FILE: drivers/net/mv643xx_eth.c:2536:
+	if (mp->phy == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mp->phy"
#4065: FILE: drivers/net/mv643xx_eth.c:2593:
+	if (mp->phy != NULL) {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#4093: FILE: drivers/net/mv643xx_eth.c:2621:
+
+

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mp->phy"
#4138: FILE: drivers/net/mv643xx_eth.c:2672:
+	if (mp->phy != NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#4178: FILE: drivers/net/ne.c:97:
+/* This is set up so that no ISA autoprobe takes place. We can't guarantee
+that the ne2k probe is the last 8390 based probe to take place (as it

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4180: FILE: drivers/net/ne.c:99:
+ISA device autoprobes on a running machine are not recommended anyway. */

WARNING:LINE_SPACING: Missing a blank line after declarations
#4192: FILE: drivers/net/ne.c:220:
+		int ret = ne_probe1(dev, base_addr);
+		if (ret)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#4193: FILE: drivers/net/ne.c:221:
+			printk(KERN_WARNING "ne.c: No NE*000 card found at "

WARNING:SPLIT_STRING: quoted string split across lines
#4194: FILE: drivers/net/ne.c:222:
+			printk(KERN_WARNING "ne.c: No NE*000 card found at "
+				"i/o = %#lx\n", base_addr);

WARNING:LINE_SPACING: Missing a blank line after declarations
#4300: FILE: drivers/net/ne.c:860:
+		struct pnp_dev *idev = (struct pnp_dev *)ei_status.priv;
+		netif_device_detach(dev);

WARNING:LINE_SPACING: Missing a blank line after declarations
#4322: FILE: drivers/net/ne.c:882:
+	struct platform_device *pdev;
+	for (this_dev = 0; this_dev < MAX_NE_CARDS; this_dev++) {

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#4363: FILE: drivers/net/ne.c:944:
+		pdev = platform_device_register_simple(

ERROR:FUNCTION_WITHOUT_ARGS: Bad function definition - int __init init_module() should probably be int __init init_module(void)
#4393: FILE: drivers/net/ne.c:953:
+int __init init_module()

Function declarations without arguments like::

  int foo()

should be::

  int foo(void)

WARNING:LINE_SPACING: Missing a blank line after declarations
#4418: FILE: drivers/net/ne.c:956:
+	int retval;
+	ne_add_devices();

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#4422: FILE: drivers/net/ne.c:960:
+			printk(KERN_NOTICE "ne.c: You must supply \"io=0xNNN\""

WARNING:SPLIT_STRING: quoted string split across lines
#4423: FILE: drivers/net/ne.c:961:
+			printk(KERN_NOTICE "ne.c: You must supply \"io=0xNNN\""
+				" value(s) for ISA cards.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#4462: FILE: drivers/net/ne.c:989:
+	while ((pdev_ne[this_dev] && platform_get_drvdata(pdev_ne[this_dev])) ||
+		io[this_dev]) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!phydev"
#4581: FILE: drivers/net/phy/mdio_bus.c:96:
+	if (IS_ERR(phydev) || phydev == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#4591: FILE: drivers/net/phy/mdio_bus.c:106:
+	 * And, we need to register it */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "bus->irq"
#4593: FILE: drivers/net/phy/mdio_bus.c:108:
+	phydev->irq = bus->irq != NULL ? bus->irq[addr] : PHY_POLL;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#4606: FILE: drivers/net/phy/mdio_bus.c:121:
+		printk(KERN_ERR "phy %d failed to register\n", addr);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#4732: FILE: drivers/s390/net/qeth_l2_main.c:563:
+^Iif ((card->info.type == QETH_CARD_TYPE_IQD) || $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'card->info.type == QETH_CARD_TYPE_IQD'
#4732: FILE: drivers/s390/net/qeth_l2_main.c:563:
+	if ((card->info.type == QETH_CARD_TYPE_IQD) || 
+	    (card->info.guestlan)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'card->info.guestlan'
#4732: FILE: drivers/s390/net/qeth_l2_main.c:563:
+	if ((card->info.type == QETH_CARD_TYPE_IQD) || 
+	    (card->info.guestlan)) {

CHECK:BRACES: Unbalanced braces around else statement
#4758: FILE: drivers/s390/net/qeth_l2_main.c:1140:
+	else {

CHECK:BRACES: Unbalanced braces around else statement
#4793: FILE: drivers/s390/net/qeth_l3_main.c:3219:
+	else {

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000224560.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 3 errors, 39 warnings, 30 checks, 4320 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000224560.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
