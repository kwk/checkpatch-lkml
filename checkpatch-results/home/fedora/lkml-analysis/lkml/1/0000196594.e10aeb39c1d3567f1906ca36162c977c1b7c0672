WARNING:MAINTAINERS_STYLE: Misordered MAINTAINERS entry - list 'M:' before 'P:'
#55: FILE: MAINTAINERS:3238:
+P:	Matthew Garrett
+M:	mjg59@srcf.ucam.org

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#98: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#103: FILE: drivers/misc/oqo-wmi.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#122: FILE: drivers/misc/oqo-wmi.c:20:
+ *  along with this program; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#123: FILE: drivers/misc/oqo-wmi.c:21:
+ *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA$

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#162: FILE: drivers/misc/oqo-wmi.c:60:
+#define OQO_ERR KERN_ERR OQO_LOGPREFIX

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#163: FILE: drivers/misc/oqo-wmi.c:61:
+#define OQO_NOTICE KERN_NOTICE OQO_LOGPREFIX

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#164: FILE: drivers/misc/oqo-wmi.c:62:
+#define OQO_INFO KERN_INFO OQO_LOGPREFIX

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#185: FILE: drivers/misc/oqo-wmi.c:83:
+/* Some of this code is left like in acer-wmi so we can add the older
+   Model 01 and any future models more easily, but we should not expect

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#195: FILE: drivers/misc/oqo-wmi.c:93:
+};
+#define MODEL_SUB_OQO_O2_SMB0 3

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#349: FILE: drivers/misc/oqo-wmi.c:247:
+	if (obj->type != ACPI_TYPE_BUFFER
+	    || obj->buffer.length != 1 || obj->buffer.pointer == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!obj->buffer.pointer"
#349: FILE: drivers/misc/oqo-wmi.c:247:
+	    || obj->buffer.length != 1 || obj->buffer.pointer == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:SPACING: No space is necessary after a cast
#353: FILE: drivers/misc/oqo-wmi.c:251:
+	*result = ((u8 *) (obj->buffer.pointer))[0];

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#591: FILE: drivers/misc/oqo-wmi.c:489:
+	/* Routine: Starting with the lo byte, read lo/hi bytes
+	   alternately until two lo byte readings, match.  Then

WARNING:MACRO_WITH_FLOW_CONTROL: Macros with flow control statements should be avoided
#609: FILE: drivers/misc/oqo-wmi.c:507:
+#define LOGRES(reg)  do { \
+			status = oqo_smbus_getb(reg, &r);		\
+			log <<= 8; log |= r; log &= 0xffffff;		\
+			if (ACPI_FAILURE(status))			\
+				goto leave;				\
+		} while (0)

CHECK:SPACING: No space is necessary after a cast
#635: FILE: drivers/misc/oqo-wmi.c:533:
+			input_report_abs(oqo_kine, ax[i], (s16) res[i]);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#638: FILE: drivers/misc/oqo-wmi.c:536:
+		/* else we had trouble getting the reading to lock
+		   and we skip reporting this axis.

CHECK:SPACING: No space is necessary after a cast
#642: FILE: drivers/misc/oqo-wmi.c:540:
+	*x = (u16) res[0];

CHECK:SPACING: No space is necessary after a cast
#643: FILE: drivers/misc/oqo-wmi.c:541:
+	*y = (u16) res[1];

CHECK:SPACING: No space is necessary after a cast
#644: FILE: drivers/misc/oqo-wmi.c:542:
+	*z = (u16) res[2];

CHECK:SPACING: No space is necessary after a cast
#645: FILE: drivers/misc/oqo-wmi.c:543:
+	*lumin = (u16) res[3];

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#667: FILE: drivers/misc/oqo-wmi.c:565:
+	x = y = z = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#671: FILE: drivers/misc/oqo-wmi.c:569:
+static int __devinit oqo_kine_init(void)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#692: FILE: drivers/misc/oqo-wmi.c:590:
+	    oqo_kine->absmin[ABS_Z] = oqo_kine->absmin[ABS_MISC] = -32768;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#695: FILE: drivers/misc/oqo-wmi.c:593:
+	    oqo_kine->absmax[ABS_Z] = oqo_kine->absmax[ABS_MISC] = 32767;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#712: FILE: drivers/misc/oqo-wmi.c:610:
+		printk(OQO_ERR "Failed to register OQO kine input\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#721: FILE: drivers/misc/oqo-wmi.c:619:
+		printk(OQO_ERR "Test communication with kine sensor failed\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#726: FILE: drivers/misc/oqo-wmi.c:624:
+	printk(OQO_INFO "Created OQO kine input.\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#727: FILE: drivers/misc/oqo-wmi.c:625:
+	printk(OQO_INFO "Firmware interval %ims, driver interval %ims\n",

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#740: FILE: drivers/misc/oqo-wmi.c:638:
+static void __devexit oqo_kine_fini(void)

CHECK:SPACING: No space is necessary after a cast
#758: FILE: drivers/misc/oqo-wmi.c:656:
+			   OQO_O2_SMB0_BL_LO, (s16) bd->props.brightness);

WARNING:CONST_STRUCT: struct backlight_ops should normally be const
#761: FILE: drivers/misc/oqo-wmi.c:659:
+static struct backlight_ops oqo_bl_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#766: FILE: drivers/misc/oqo-wmi.c:664:
+static int __devinit oqo_backlight_init(struct device *dev)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#782: FILE: drivers/misc/oqo-wmi.c:680:
+		printk(OQO_ERR "Could not register OQO backlight device\n");

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#789: FILE: drivers/misc/oqo-wmi.c:687:
+	curr.bl_bright = orig.bl_bright = bd->props.brightness =

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#796: FILE: drivers/misc/oqo-wmi.c:694:
+	printk(OQO_INFO "Found backlight set at %i\n", bd->props.brightness);

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#805: FILE: drivers/misc/oqo-wmi.c:703:
+static void __devexit oqo_backlight_fini(void)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#850: FILE: drivers/misc/oqo-wmi.c:748:
+static int __devinit oqo_rfkill_init(struct device *dev)

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#879: FILE: drivers/misc/oqo-wmi.c:777:
+static void __devexit oqo_rfkill_fini(void)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#890: FILE: drivers/misc/oqo-wmi.c:788:
+static int __devinit oqo_platform_probe(struct platform_device *device)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#900: FILE: drivers/misc/oqo-wmi.c:798:
+			printk(OQO_ERR "Serial number check failed.\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#904: FILE: drivers/misc/oqo-wmi.c:802:
+	printk(OQO_INFO "Found OQO with serial number %s.\n", oqo_sn);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#908: FILE: drivers/misc/oqo-wmi.c:806:
+		printk(OQO_ERR "Backlight init %s", troubleok);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#912: FILE: drivers/misc/oqo-wmi.c:810:
+		printk(OQO_ERR "RFKill init %s", troubleok);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#915: FILE: drivers/misc/oqo-wmi.c:813:
+	/* LID does not work at all yet, and this may be taken
+	   care of by ACPI.

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#919: FILE: drivers/misc/oqo-wmi.c:817:
+	orig.lid_wakes = curr.lid_wakes = !!orig.lid_wakes;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#921: FILE: drivers/misc/oqo-wmi.c:819:
+		printk(OQO_ERR "Wake on LID event %s", troubleok);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#923: FILE: drivers/misc/oqo-wmi.c:821:
+		printk(OQO_INFO "Wake on LID is %s.\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#997: FILE: drivers/misc/oqo-wmi.c:895:
+		printk(OQO_ERR "No or unsupported WMI interface. Aborting.\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#998: FILE: drivers/misc/oqo-wmi.c:896:
+		printk(OQO_ERR "Hint: Get dmidecode working and try again.\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#999: FILE: drivers/misc/oqo-wmi.c:897:
+		printk(OQO_ERR "(Check \"System Management BIOS\" in BIOS)\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1001: FILE: drivers/misc/oqo-wmi.c:899:
+			printk(OQO_ERR "Use the force option to skip DMI"

WARNING:SPLIT_STRING: quoted string split across lines
#1002: FILE: drivers/misc/oqo-wmi.c:900:
+			printk(OQO_ERR "Use the force option to skip DMI"
+			       " checking\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1008: FILE: drivers/misc/oqo-wmi.c:906:
+		printk(OQO_ERR "platform_driver_register gave %d.\n", err);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1014: FILE: drivers/misc/oqo-wmi.c:912:
+		printk(OQO_ERR "Could not allocate platform device.\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1021: FILE: drivers/misc/oqo-wmi.c:919:
+		printk(OQO_ERR "platform_device_add gave %d.\n", err);

WARNING:RETURN_VOID: void function return statements are not generally useful
#1040: FILE: drivers/misc/oqo-wmi.c:938:
+	return;
+}

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000196594.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 5 errors, 37 warnings, 15 checks, 978 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000196594.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
