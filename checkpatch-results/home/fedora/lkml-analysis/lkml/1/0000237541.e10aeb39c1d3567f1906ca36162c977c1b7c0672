WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#66: 
The echo buffer stores (in addition to characters) state operations that need

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#119: FILE: drivers/char/n_tty.c:182:
+	tty->echo_pos = tty->echo_cnt = tty->echo_overrun = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#192: FILE: drivers/char/n_tty.c:298:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#213: FILE: drivers/char/n_tty.c:319:
+				tty->canon_column = tty->column = 0;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#228: FILE: drivers/char/n_tty.c:322:
+		tty->canon_column = tty->column = 0;

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#331: FILE: drivers/char/n_tty.c:410:
 	if (!space)
+	{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#395: FILE: drivers/char/n_tty.c:495:
+	if (!(num = tty->echo_cnt))

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#421: FILE: drivers/char/n_tty.c:521:
+^I^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#437: FILE: drivers/char/n_tty.c:537:
+^I^I^I^I$

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#496: FILE: drivers/char/n_tty.c:596:
+						if (space < 2) {

Indentation with 6 or more tabs usually indicate overly indented
code.

It is suggested to refactor excessive indentation of
if/else/for/do/while/switch statements.

See: https://lore.kernel.org/lkml/1328311239.21255.24.camel@joe2Laptop/

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#505: FILE: drivers/char/n_tty.c:605:
+						if (!space) {

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#514: FILE: drivers/char/n_tty.c:614:
+				 * If above falls through, this was an

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#526: FILE: drivers/char/n_tty.c:626:
+			if ((retval = do_output_char(c, tty, space)) < 0)

WARNING:LINE_SPACING: Missing a blank line after declarations
#544: FILE: drivers/char/n_tty.c:644:
+		int num_processed = (num - nr);
+		tty->echo_pos += num_processed;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#566: FILE: drivers/char/n_tty.c:666:
+^Iint ^Iadd_char_pos;$

CHECK:BRACES: braces {} should be used on all arms of this statement
#576: FILE: drivers/char/n_tty.c:676:
+	if (tty->echo_cnt == N_TTY_BUF_SIZE) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#583: FILE: drivers/char/n_tty.c:683:
+		if (*(tty->echo_buf +
+		      (tty->echo_pos & (N_TTY_BUF_SIZE - 1))) == ECHO_OP_START)
+		{

CHECK:BRACES: Unbalanced braces around else statement
#594: FILE: drivers/char/n_tty.c:694:
+		} else

CHECK:BRACES: Unbalanced braces around else statement
#598: FILE: drivers/char/n_tty.c:698:
+	} else

CHECK:BRACES: braces {} should be used on all arms of this statement
#668: FILE: drivers/char/n_tty.c:762:
+	if (c == ECHO_OP_START) {
[...]
 	} else
[...]

WARNING:REPEATED_WORD: Possible repeated word: 'as'
#685: FILE: drivers/char/n_tty.c:778:
+ *	This variant tags control characters to be possibly echoed as
+ *	as "^X" (where X is the letter representing the control char).

CHECK:BRACES: braces {} should be used on all arms of this statement
#826: FILE: drivers/char/n_tty.c:1062:
+			if (c == START_CHAR(tty)) {
[...]
 			else if (c == STOP_CHAR(tty))
[...]

ERROR:TRAILING_WHITESPACE: trailing whitespace
#980: FILE: drivers/char/n_tty.c:1274:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1022: FILE: drivers/char/n_tty.c:1863:
+^I$

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#1092: FILE: include/linux/tty.h:273:
+	spinlock_t echo_lock;

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000237541.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 9 errors, 7 warnings, 9 checks, 969 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000237541.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
