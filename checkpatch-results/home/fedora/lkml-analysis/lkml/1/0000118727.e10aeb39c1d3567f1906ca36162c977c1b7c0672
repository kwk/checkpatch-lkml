WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#71: FILE: drivers/mfd/Kconfig:244:
+config EZX_PCAP
+	bool "PCAP Support"
+	depends on SPI_MASTER
+	help
+	  This enables the PCAP ASIC present on EZX Phones. This is
+	  needed for MMC, TouchScreen, Sound, USB, etc..
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#95: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#100: FILE: drivers/mfd/ezx-pcap.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void *' should also have an identifier name
#125: FILE: drivers/mfd/ezx-pcap.c:26:
+	void (*callback)(void *, u16[]);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u16[]' should also have an identifier name
#125: FILE: drivers/mfd/ezx-pcap.c:26:
+	void (*callback)(void *, u16[]);

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#139: FILE: drivers/mfd/ezx-pcap.c:40:
+	struct mutex io_mutex;

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#152: FILE: drivers/mfd/ezx-pcap.c:53:
+	struct mutex adc_mutex;

WARNING:SIZEOF_PARENTHESIS: sizeof t should be sizeof(t)
#162: FILE: drivers/mfd/ezx-pcap.c:63:
+	memset(&t, 0, sizeof t);

CHECK:SPACING: No space is necessary after a cast
#168: FILE: drivers/mfd/ezx-pcap.c:69:
+	t.tx_buf = (u8 *) &pcap->buf;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#169: FILE: drivers/mfd/ezx-pcap.c:70:
+	t.rx_buf = (u8 *) &pcap->buf;

WARNING:TYPO_SPELLING: 'cant' may be misspelled - perhaps 'can't'?
#259: FILE: drivers/mfd/ezx-pcap.c:160:
+	/* We cant service/ack irqs that are assigned to port 2 */
 	      ^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:UNNECESSARY_KERN_LEVEL: Possible unnecessary KERN_WARNING
#273: FILE: drivers/mfd/ezx-pcap.c:174:
+			if (WARN(!desc, KERN_WARNING

WARNING:RETURN_VOID: void function return statements are not generally useful
#293: FILE: drivers/mfd/ezx-pcap.c:194:
+	return;
+}

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#301: FILE: drivers/mfd/ezx-pcap.c:202:
+	tmp &= ~(PCAP_ADC_ADEN|PCAP_ADC_BATT_I_ADC|PCAP_ADC_BATT_I_POLARITY);
 	                      ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#301: FILE: drivers/mfd/ezx-pcap.c:202:
+	tmp &= ~(PCAP_ADC_ADEN|PCAP_ADC_BATT_I_ADC|PCAP_ADC_BATT_I_POLARITY);
 	                                          ^

WARNING:UNNECESSARY_KERN_LEVEL: Possible unnecessary KERN_WARNING
#340: FILE: drivers/mfd/ezx-pcap.c:241:
+	if (WARN(!req, KERN_WARNING "adc irq without pending request\n"))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#368: FILE: drivers/mfd/ezx-pcap.c:269:
+int pcap_adc_async(struct pcap_chip *pcap, u8 bank, u32 flags, u8 ch[],
+						void *callback, void *data)

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*req)...) over kmalloc(sizeof(struct pcap_adc_request)...)
#373: FILE: drivers/mfd/ezx-pcap.c:274:
+	req = kmalloc(sizeof(struct pcap_adc_request), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#411: FILE: drivers/mfd/ezx-pcap.c:312:
+int pcap_adc_sync(struct pcap_chip *pcap, u8 bank, u32 flags, u8 ch[],
+								u16 res[])

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#418: FILE: drivers/mfd/ezx-pcap.c:319:
+	ret = pcap_adc_async(pcap, bank, flags, ch, pcap_adc_sync_cb,
+								&sync_data);

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#436: FILE: drivers/mfd/ezx-pcap.c:337:
+static int __devinit pcap_add_subdev(struct pcap_chip *pcap,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#437: FILE: drivers/mfd/ezx-pcap.c:338:
+static int __devinit pcap_add_subdev(struct pcap_chip *pcap,
+						struct pcap_subdev *subdev)

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#449: FILE: drivers/mfd/ezx-pcap.c:350:
+static int __devexit ezx_pcap_remove(struct spi_device *spi)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#478: FILE: drivers/mfd/ezx-pcap.c:379:
+static int __devinit ezx_pcap_probe(struct spi_device *spi)

WARNING:TYPO_SPELLING: 'cant' may be misspelled - perhaps 'can't'?
#514: FILE: drivers/mfd/ezx-pcap.c:415:
+		dev_err(&spi->dev, "cant create pcap thread\n");
 		                    ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#521: FILE: drivers/mfd/ezx-pcap.c:422:
+		ezx_pcap_write(pcap, PCAP_REG_INT_SEL,
+					(1 << PCAP_IRQ_ADCDONE2));

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#611: FILE: include/linux/mfd/ezx-pcap.h:1:
+/*

WARNING:SPACING: Unnecessary space before function pointer arguments
#629: FILE: include/linux/mfd/ezx-pcap.h:19:
+	void (*init) (void *);	/* board specific init */

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void *' should also have an identifier name
#629: FILE: include/linux/mfd/ezx-pcap.h:19:
+	void (*init) (void *);	/* board specific init */

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pcap_chip *' should also have an identifier name
#636: FILE: include/linux/mfd/ezx-pcap.h:26:
+int ezx_pcap_write(struct pcap_chip *, u8, u32);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u8' should also have an identifier name
#636: FILE: include/linux/mfd/ezx-pcap.h:26:
+int ezx_pcap_write(struct pcap_chip *, u8, u32);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32' should also have an identifier name
#636: FILE: include/linux/mfd/ezx-pcap.h:26:
+int ezx_pcap_write(struct pcap_chip *, u8, u32);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pcap_chip *' should also have an identifier name
#637: FILE: include/linux/mfd/ezx-pcap.h:27:
+int ezx_pcap_read(struct pcap_chip *, u8, u32 *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u8' should also have an identifier name
#637: FILE: include/linux/mfd/ezx-pcap.h:27:
+int ezx_pcap_read(struct pcap_chip *, u8, u32 *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32 *' should also have an identifier name
#637: FILE: include/linux/mfd/ezx-pcap.h:27:
+int ezx_pcap_read(struct pcap_chip *, u8, u32 *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pcap_chip *' should also have an identifier name
#638: FILE: include/linux/mfd/ezx-pcap.h:28:
+int pcap_to_irq(struct pcap_chip *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#638: FILE: include/linux/mfd/ezx-pcap.h:28:
+int pcap_to_irq(struct pcap_chip *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pcap_chip *' should also have an identifier name
#639: FILE: include/linux/mfd/ezx-pcap.h:29:
+int pcap_adc_async(struct pcap_chip *, u8, u32, u8[], void *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u8' should also have an identifier name
#639: FILE: include/linux/mfd/ezx-pcap.h:29:
+int pcap_adc_async(struct pcap_chip *, u8, u32, u8[], void *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32' should also have an identifier name
#639: FILE: include/linux/mfd/ezx-pcap.h:29:
+int pcap_adc_async(struct pcap_chip *, u8, u32, u8[], void *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u8[]' should also have an identifier name
#639: FILE: include/linux/mfd/ezx-pcap.h:29:
+int pcap_adc_async(struct pcap_chip *, u8, u32, u8[], void *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void *' should also have an identifier name
#639: FILE: include/linux/mfd/ezx-pcap.h:29:
+int pcap_adc_async(struct pcap_chip *, u8, u32, u8[], void *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void *' should also have an identifier name
#639: FILE: include/linux/mfd/ezx-pcap.h:29:
+int pcap_adc_async(struct pcap_chip *, u8, u32, u8[], void *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pcap_chip *' should also have an identifier name
#640: FILE: include/linux/mfd/ezx-pcap.h:30:
+int pcap_adc_sync(struct pcap_chip *, u8, u32, u8[], u16[]);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u8' should also have an identifier name
#640: FILE: include/linux/mfd/ezx-pcap.h:30:
+int pcap_adc_sync(struct pcap_chip *, u8, u32, u8[], u16[]);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u32' should also have an identifier name
#640: FILE: include/linux/mfd/ezx-pcap.h:30:
+int pcap_adc_sync(struct pcap_chip *, u8, u32, u8[], u16[]);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u8[]' should also have an identifier name
#640: FILE: include/linux/mfd/ezx-pcap.h:30:
+int pcap_adc_sync(struct pcap_chip *, u8, u32, u8[], u16[]);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'u16[]' should also have an identifier name
#640: FILE: include/linux/mfd/ezx-pcap.h:30:
+int pcap_adc_sync(struct pcap_chip *, u8, u32, u8[], u16[]);

WARNING:TYPO_SPELLING: 'acessible' may be misspelled - perhaps 'accessible'?
#655: FILE: include/linux/mfd/ezx-pcap.h:45:
+/* registers acessible by both pcap ports */
              ^^^^^^^^^

WARNING:TYPO_SPELLING: 'acessible' may be misspelled - perhaps 'accessible'?
#677: FILE: include/linux/mfd/ezx-pcap.h:67:
+/* registers acessible by pcap port 1 only (a1200, e2 & e6) */
              ^^^^^^^^^

CHECK:BIT_MACRO: Prefer using the BIT macro
#743: FILE: include/linux/mfd/ezx-pcap.h:133:
+#define PCAP_BATT_B_FDBK		(1 << 8)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:BIT_MACRO: Prefer using the BIT macro
#744: FILE: include/linux/mfd/ezx-pcap.h:134:
+#define PCAP_BATT_EXT_ISENSE		(1 << 9)

CHECK:BIT_MACRO: Prefer using the BIT macro
#747: FILE: include/linux/mfd/ezx-pcap.h:137:
+#define PCAP_BATT_I_COIN		(1 << 14)

CHECK:BIT_MACRO: Prefer using the BIT macro
#748: FILE: include/linux/mfd/ezx-pcap.h:138:
+#define PCAP_BATT_COIN_CH_EN		(1 << 15)

CHECK:BIT_MACRO: Prefer using the BIT macro
#751: FILE: include/linux/mfd/ezx-pcap.h:141:
+#define PCAP_BATT_EOL_CMP_EN		(1 << 20)

CHECK:BIT_MACRO: Prefer using the BIT macro
#752: FILE: include/linux/mfd/ezx-pcap.h:142:
+#define PCAP_BATT_BATT_DET_EN		(1 << 21)

CHECK:BIT_MACRO: Prefer using the BIT macro
#753: FILE: include/linux/mfd/ezx-pcap.h:143:
+#define PCAP_BATT_THERMBIAS_CTRL	(1 << 22)

CHECK:BIT_MACRO: Prefer using the BIT macro
#755: FILE: include/linux/mfd/ezx-pcap.h:145:
+#define PCAP_ADC_ADEN			(1 << 0)

CHECK:BIT_MACRO: Prefer using the BIT macro
#756: FILE: include/linux/mfd/ezx-pcap.h:146:
+#define PCAP_ADC_RAND			(1 << 1)

CHECK:BIT_MACRO: Prefer using the BIT macro
#757: FILE: include/linux/mfd/ezx-pcap.h:147:
+#define PCAP_ADC_AD_SEL1		(1 << 2)

CHECK:BIT_MACRO: Prefer using the BIT macro
#758: FILE: include/linux/mfd/ezx-pcap.h:148:
+#define PCAP_ADC_AD_SEL2		(1 << 3)

CHECK:BIT_MACRO: Prefer using the BIT macro
#765: FILE: include/linux/mfd/ezx-pcap.h:155:
+#define PCAP_ADC_ATOX			(1 << 14)

CHECK:BIT_MACRO: Prefer using the BIT macro
#766: FILE: include/linux/mfd/ezx-pcap.h:156:
+#define PCAP_ADC_MTR1			(1 << 15)

CHECK:BIT_MACRO: Prefer using the BIT macro
#767: FILE: include/linux/mfd/ezx-pcap.h:157:
+#define PCAP_ADC_MTR2			(1 << 16)

CHECK:BIT_MACRO: Prefer using the BIT macro
#770: FILE: include/linux/mfd/ezx-pcap.h:160:
+#define PCAP_ADC_TS_REF_LOWPWR		(1 << 20)

CHECK:BIT_MACRO: Prefer using the BIT macro
#771: FILE: include/linux/mfd/ezx-pcap.h:161:
+#define PCAP_ADC_TS_REFENB		(1 << 21)

CHECK:BIT_MACRO: Prefer using the BIT macro
#772: FILE: include/linux/mfd/ezx-pcap.h:162:
+#define PCAP_ADC_BATT_I_POLARITY	(1 << 22)

CHECK:BIT_MACRO: Prefer using the BIT macro
#773: FILE: include/linux/mfd/ezx-pcap.h:163:
+#define PCAP_ADC_BATT_I_ADC		(1 << 23)

CHECK:BIT_MACRO: Prefer using the BIT macro
#812: FILE: include/linux/mfd/ezx-pcap.h:202:
+#define PCAP_ADR_ADINC1			(1 << 20)

CHECK:BIT_MACRO: Prefer using the BIT macro
#813: FILE: include/linux/mfd/ezx-pcap.h:203:
+#define PCAP_ADR_ADINC2			(1 << 21)

CHECK:BIT_MACRO: Prefer using the BIT macro
#814: FILE: include/linux/mfd/ezx-pcap.h:204:
+#define PCAP_ADR_ASC			(1 << 22)

CHECK:BIT_MACRO: Prefer using the BIT macro
#815: FILE: include/linux/mfd/ezx-pcap.h:205:
+#define PCAP_ADR_ONESHOT		(1 << 23)

CHECK:BIT_MACRO: Prefer using the BIT macro
#817: FILE: include/linux/mfd/ezx-pcap.h:207:
+#define PCAP_BUSCTRL_FSENB		(1 << 0)

CHECK:BIT_MACRO: Prefer using the BIT macro
#818: FILE: include/linux/mfd/ezx-pcap.h:208:
+#define PCAP_BUSCTRL_USB_SUSPEND	(1 << 1)

CHECK:BIT_MACRO: Prefer using the BIT macro
#819: FILE: include/linux/mfd/ezx-pcap.h:209:
+#define PCAP_BUSCTRL_USB_PU		(1 << 2)

CHECK:BIT_MACRO: Prefer using the BIT macro
#820: FILE: include/linux/mfd/ezx-pcap.h:210:
+#define PCAP_BUSCTRL_USB_PD		(1 << 3)

CHECK:BIT_MACRO: Prefer using the BIT macro
#821: FILE: include/linux/mfd/ezx-pcap.h:211:
+#define PCAP_BUSCTRL_VUSB_EN		(1 << 4)

CHECK:BIT_MACRO: Prefer using the BIT macro
#822: FILE: include/linux/mfd/ezx-pcap.h:212:
+#define PCAP_BUSCTRL_USB_PS		(1 << 5)

CHECK:BIT_MACRO: Prefer using the BIT macro
#823: FILE: include/linux/mfd/ezx-pcap.h:213:
+#define PCAP_BUSCTRL_VUSB_MSTR_EN	(1 << 6)

CHECK:BIT_MACRO: Prefer using the BIT macro
#824: FILE: include/linux/mfd/ezx-pcap.h:214:
+#define PCAP_BUSCTRL_VBUS_PD_ENB	(1 << 7)

CHECK:BIT_MACRO: Prefer using the BIT macro
#825: FILE: include/linux/mfd/ezx-pcap.h:215:
+#define PCAP_BUSCTRL_CURRLIM		(1 << 8)

CHECK:BIT_MACRO: Prefer using the BIT macro
#826: FILE: include/linux/mfd/ezx-pcap.h:216:
+#define PCAP_BUSCTRL_RS232ENB		(1 << 9)

CHECK:BIT_MACRO: Prefer using the BIT macro
#827: FILE: include/linux/mfd/ezx-pcap.h:217:
+#define PCAP_BUSCTRL_RS232_DIR		(1 << 10)

CHECK:BIT_MACRO: Prefer using the BIT macro
#828: FILE: include/linux/mfd/ezx-pcap.h:218:
+#define PCAP_BUSCTRL_SE0_CONN		(1 << 11)

CHECK:BIT_MACRO: Prefer using the BIT macro
#829: FILE: include/linux/mfd/ezx-pcap.h:219:
+#define PCAP_BUSCTRL_USB_PDM		(1 << 12)

CHECK:BIT_MACRO: Prefer using the BIT macro
#830: FILE: include/linux/mfd/ezx-pcap.h:220:
+#define PCAP_BUSCTRL_BUS_PRI_ADJ	(1 << 24)

CHECK:BIT_MACRO: Prefer using the BIT macro
#849: FILE: include/linux/mfd/ezx-pcap.h:239:
+#define PCAP_LED0_EN		(1 << 5)

CHECK:BIT_MACRO: Prefer using the BIT macro
#850: FILE: include/linux/mfd/ezx-pcap.h:240:
+#define PCAP_LED1_EN		(1 << 6)

CHECK:BIT_MACRO: Prefer using the BIT macro
#858: FILE: include/linux/mfd/ezx-pcap.h:248:
+#define PCAP_VIB_EN		(1 << 19)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000118727.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 38 warnings, 51 checks, 782 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000118727.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
