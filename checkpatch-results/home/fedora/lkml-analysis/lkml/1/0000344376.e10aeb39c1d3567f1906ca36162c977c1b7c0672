WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#46: 
diff -ruN linux-2.6-orig/drivers/block/Kconfig linux-2.6/drivers/block/Kconfig

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#73: FILE: drivers/cdrom/gdrom.c:1:
+/* GD ROM driver for the SEGA Dreamcast

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#89: FILE: drivers/cdrom/gdrom.c:17:
+ * with this program; if not, write to the Free Software Foundation, Inc.,$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#90: FILE: drivers/cdrom/gdrom.c:18:
+ * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.$

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#110: FILE: drivers/cdrom/gdrom.c:38:
+#include <asm/io.h>

WARNING:INCLUDE_LINUX: Use #include <linux/delay.h> instead of <asm/delay.h>
#112: FILE: drivers/cdrom/gdrom.c:40:
+#include <asm/delay.h>

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#126: FILE: drivers/cdrom/gdrom.c:54:
+#define GDROM_BASE_REG ^I^I^I0xA05F7000$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#127: FILE: drivers/cdrom/gdrom.c:55:
+#define GDROM_ALTSTATUS_REG ^I^I(GDROM_BASE_REG + 0x18)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#128: FILE: drivers/cdrom/gdrom.c:56:
+#define GDROM_DATA_REG ^I^I^I(GDROM_BASE_REG + 0x80)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#129: FILE: drivers/cdrom/gdrom.c:57:
+#define GDROM_ERROR_REG ^I^I(GDROM_BASE_REG + 0x84)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#130: FILE: drivers/cdrom/gdrom.c:58:
+#define GDROM_INTSEC_REG ^I^I(GDROM_BASE_REG + 0x88)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#131: FILE: drivers/cdrom/gdrom.c:59:
+#define GDROM_SECNUM_REG ^I^I(GDROM_BASE_REG + 0x8C)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#132: FILE: drivers/cdrom/gdrom.c:60:
+#define GDROM_BCL_REG  ^I^I^I(GDROM_BASE_REG + 0x90)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#133: FILE: drivers/cdrom/gdrom.c:61:
+#define GDROM_BCH_REG ^I^I^I(GDROM_BASE_REG + 0x94)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#134: FILE: drivers/cdrom/gdrom.c:62:
+#define GDROM_DSEL_REG ^I^I^I(GDROM_BASE_REG + 0x98)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#135: FILE: drivers/cdrom/gdrom.c:63:
+#define GDROM_STATUSCOMMAND_REG ^I(GDROM_BASE_REG + 0x9C)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#136: FILE: drivers/cdrom/gdrom.c:64:
+#define GDROM_RESET_REG ^I^I(GDROM_BASE_REG + 0x4E4)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#138: FILE: drivers/cdrom/gdrom.c:66:
+#define GDROM_DMA_STARTADDR_REG ^I(GDROM_BASE_REG + 0x404)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#139: FILE: drivers/cdrom/gdrom.c:67:
+#define GDROM_DMA_LENGTH_REG ^I^I(GDROM_BASE_REG + 0x408)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#140: FILE: drivers/cdrom/gdrom.c:68:
+#define GDROM_DMA_DIRECTION_REG ^I(GDROM_BASE_REG + 0x40C)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#141: FILE: drivers/cdrom/gdrom.c:69:
+#define GDROM_DMA_ENABLE_REG ^I^I(GDROM_BASE_REG + 0x414)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#142: FILE: drivers/cdrom/gdrom.c:70:
+#define GDROM_DMA_STATUS_REG ^I^I(GDROM_BASE_REG + 0x418)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#143: FILE: drivers/cdrom/gdrom.c:71:
+#define GDROM_DMA_WAIT_REG ^I^I(GDROM_BASE_REG + 0x4A0)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#144: FILE: drivers/cdrom/gdrom.c:72:
+#define GDROM_DMA_ACCESS_CTRL_REG ^I(GDROM_BASE_REG + 0x4B8)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#146: FILE: drivers/cdrom/gdrom.c:74:
+#define GDROM_HARD_SECTOR ^I2048$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#147: FILE: drivers/cdrom/gdrom.c:75:
+#define BLOCK_LAYER_SECTOR ^I512$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#148: FILE: drivers/cdrom/gdrom.c:76:
+#define GD_TO_BLK ^I^I4$

CHECK:CAMELCASE: Avoid CamelCase: <padA>
#181: FILE: drivers/cdrom/gdrom.c:109:
+	char padA[13];

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <padB>
#185: FILE: drivers/cdrom/gdrom.c:113:
+	char padB[16];

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#189: FILE: drivers/cdrom/gdrom.c:117:
+static int gdrom_packetcommand(struct cdrom_device_info * cd_info,

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#190: FILE: drivers/cdrom/gdrom.c:117:
struct packet_command *command);

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#191: FILE: drivers/cdrom/gdrom.c:118:
+static int gdrom_packetcommand(struct cdrom_device_info * cd_info,
+static int gdrom_hardreset(struct cdrom_device_info *cd_info);

WARNING:LINE_SPACING: Missing a blank line after declarations
#197: FILE: drivers/cdrom/gdrom.c:124:
+	unsigned long timeout = jiffies + HZ * 60;
+	while ((ctrl_inb(GDROM_ALTSTATUS_REG) & 0x80) &&

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#199: FILE: drivers/cdrom/gdrom.c:125:
+	while ((ctrl_inb(GDROM_ALTSTATUS_REG) & 0x80) &&
+		cpu_relax();

ERROR:TRAILING_WHITESPACE: trailing whitespace
#201: FILE: drivers/cdrom/gdrom.c:127:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#209: FILE: drivers/cdrom/gdrom.c:134:
+	while (((ctrl_inb(GDROM_ALTSTATUS_REG) & 0x80) == 0) &&
+		cpu_relax();

ERROR:TRAILING_WHITESPACE: trailing whitespace
#212: FILE: drivers/cdrom/gdrom.c:137:
+}^I^I$

WARNING:LINE_SPACING: Missing a blank line after declarations
#218: FILE: drivers/cdrom/gdrom.c:143:
+	short *data = buf;
+	gdrom_wait_clrbusy();

ERROR:TRAILING_WHITESPACE: trailing whitespace
#265: FILE: drivers/cdrom/gdrom.c:190:
+ */^I$

WARNING:LINE_SPACING: Missing a blank line after declarations
#269: FILE: drivers/cdrom/gdrom.c:194:
+	struct packet_command *spin_command;
+	spin_command = kzalloc(sizeof(struct packet_command), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*spin_command)...) over kzalloc(sizeof(struct packet_command)...)
#269: FILE: drivers/cdrom/gdrom.c:194:
+	spin_command = kzalloc(sizeof(struct packet_command), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:REPEATED_WORD: Possible repeated word: 'byte'
#295: FILE: drivers/cdrom/gdrom.c:220:
+ * byte 3 = sizeof TOC >> 8  ie upper byte
+ * byte 4 = sizeof TOC & 0xff ie lower byte

WARNING:LINE_SPACING: Missing a blank line after declarations
#301: FILE: drivers/cdrom/gdrom.c:226:
+	struct packet_command *toc_command;
+	toc_command = kzalloc(sizeof(struct packet_command), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*toc_command)...) over kzalloc(sizeof(struct packet_command)...)
#301: FILE: drivers/cdrom/gdrom.c:226:
+	toc_command = kzalloc(sizeof(struct packet_command), GFP_KERNEL);

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#314: FILE: drivers/cdrom/gdrom.c:239:
+	insw(PHYSADDR(GDROM_DATA_REG), toc, tocsize/2);
 	                                           ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#315: FILE: drivers/cdrom/gdrom.c:240:
+^Ikfree(toc_command);^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#339: FILE: drivers/cdrom/gdrom.c:263:
+static int gdrom_get_last_session(struct cdrom_device_info *cd_info,
+{

WARNING:LINE_SPACING: Missing a blank line after declarations
#343: FILE: drivers/cdrom/gdrom.c:267:
+	int err = -ENOMEM;
+	tocA = kzalloc(sizeof(struct gdromtoc), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*tocA)...) over kzalloc(sizeof(struct gdromtoc)...)
#343: FILE: drivers/cdrom/gdrom.c:267:
+	tocA = kzalloc(sizeof(struct gdromtoc), GFP_KERNEL);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#345: FILE: drivers/cdrom/gdrom.c:269:
+^I^Igoto exit;^I$

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*tocB)...) over kzalloc(sizeof(struct gdromtoc)...)
#346: FILE: drivers/cdrom/gdrom.c:270:
+	tocB = kzalloc(sizeof(struct gdromtoc), GFP_KERNEL);

CHECK:BRACES: braces {} should be used on all arms of this statement
#351: FILE: drivers/cdrom/gdrom.c:275:
+	if (err) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#356: FILE: drivers/cdrom/gdrom.c:280:
+			printk(KERN_INFO "Could not get CD table of contents\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#358: FILE: drivers/cdrom/gdrom.c:282:
+^I^I}^I$

CHECK:BRACES: Unbalanced braces around else statement
#359: FILE: drivers/cdrom/gdrom.c:283:
+	} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#360: FILE: drivers/cdrom/gdrom.c:284:
+		printk(KERN_DEBUG "Disk is GDROM\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#374: FILE: drivers/cdrom/gdrom.c:298:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#383: FILE: drivers/cdrom/gdrom.c:307:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#384: FILE: drivers/cdrom/gdrom.c:308:
+^Iif ((track > 100) || (track < get_entry_track(gd.toc->first))) {^I$

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'track > 100'
#384: FILE: drivers/cdrom/gdrom.c:308:
+	if ((track > 100) || (track < get_entry_track(gd.toc->first))) {	

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'track < get_entry_track(gd.toc->first)'
#384: FILE: drivers/cdrom/gdrom.c:308:
+	if ((track > 100) || (track < get_entry_track(gd.toc->first))) {	

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#386: FILE: drivers/cdrom/gdrom.c:310:
+		printk(KERN_INFO "GDROM: No data on the last session of the CD\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#402: FILE: drivers/cdrom/gdrom.c:326:
+^I^I$

WARNING:LINE_SPACING: Missing a blank line after declarations
#418: FILE: drivers/cdrom/gdrom.c:342:
+	char sense = ctrl_inb(GDROM_ERROR_REG);
+	sense &=0xF0;

ERROR:SPACING: spaces required around that '&=' (ctx:WxV)
#418: FILE: drivers/cdrom/gdrom.c:342:
+	sense &=0xF0;
 	      ^

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#434: FILE: drivers/cdrom/gdrom.c:358:
+static int gdrom_hardreset(struct cdrom_device_info * cd_info)

WARNING:LINE_SPACING: Missing a blank line after declarations
#437: FILE: drivers/cdrom/gdrom.c:361:
+	int count;
+	ctrl_outl(0x1fffff, GDROM_RESET_REG);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#443: FILE: drivers/cdrom/gdrom.c:367:
+static int gdrom_packetcommand(struct cdrom_device_info * cd_info,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#445: FILE: drivers/cdrom/gdrom.c:368:
+static int gdrom_packetcommand(struct cdrom_device_info * cd_info,
+{

ERROR:TRAILING_WHITESPACE: trailing whitespace
#448: FILE: drivers/cdrom/gdrom.c:371:
+ ^I * though the return value is meaningless */^I$

ERROR:CODE_INDENT: code indent should use tabs where possible
#448: FILE: drivers/cdrom/gdrom.c:371:
+ ^I * though the return value is meaningless */^I$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#448: FILE: drivers/cdrom/gdrom.c:371:
+ ^I * though the return value is meaningless */^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#448: FILE: drivers/cdrom/gdrom.c:371:
+ 	 * though the return value is meaningless */	

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:LINE_SPACING: Missing a blank line after declarations
#463: FILE: drivers/cdrom/gdrom.c:386:
+	char sense_key;
+	if (gd.pending)

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*sense_command)...) over kzalloc(sizeof(struct packet_command)...)
#467: FILE: drivers/cdrom/gdrom.c:390:
+	sense_command = kzalloc(sizeof(struct packet_command), GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#483: FILE: drivers/cdrom/gdrom.c:406:
+		printk(KERN_INFO "GDROM: Drive not ready - command aborted\n");

ERROR:SPACING: space required before the open brace '{'
#487: FILE: drivers/cdrom/gdrom.c:410:
+	switch (sense_key){

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#489: FILE: drivers/cdrom/gdrom.c:412:
+		printk(KERN_INFO "GDROM: Command aborted\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#492: FILE: drivers/cdrom/gdrom.c:415:
+		printk(KERN_INFO "GDROM: Data protection error\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#495: FILE: drivers/cdrom/gdrom.c:418:
+		printk(KERN_NOTICE "GDROM: Unit needs attention - possible disk switch\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#498: FILE: drivers/cdrom/gdrom.c:421:
+		printk(KERN_INFO "GDROM: Illegal request - command has failed\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#501: FILE: drivers/cdrom/gdrom.c:424:
+		printk(KERN_CRIT "GDROM: Hardware error\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#504: FILE: drivers/cdrom/gdrom.c:427:
+		printk(KERN_WARNING "GDROM: Disk read error\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#507: FILE: drivers/cdrom/gdrom.c:430:
+		printk(KERN_INFO "GDROM: Not ready\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#510: FILE: drivers/cdrom/gdrom.c:433:
+		printk(KERN_DEBUG "GDROM: Recovered from error\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#515: FILE: drivers/cdrom/gdrom.c:438:
+^I^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#517: FILE: drivers/cdrom/gdrom.c:440:
+		printk(KERN_INFO "GDROM: Unknown error\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#527: FILE: drivers/cdrom/gdrom.c:450:
+^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#557: FILE: drivers/cdrom/gdrom.c:479:
+static int gdrom_bdops_ioctl(struct inode *inode, struct file *file,
+{

WARNING:CONST_STRUCT: struct block_device_operations should normally be const
#561: FILE: drivers/cdrom/gdrom.c:483:
+static struct block_device_operations gdrom_bdops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

ERROR:TRAILING_WHITESPACE: trailing whitespace
#592: FILE: drivers/cdrom/gdrom.c:514:
+^Iinit_waitqueue_head(&command_queue);^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#599: FILE: drivers/cdrom/gdrom.c:520:
+^Iinit_waitqueue_head(&request_queue);^I$

WARNING:LINE_SPACING: Missing a blank line after declarations
#621: FILE: drivers/cdrom/gdrom.c:541:
+	unsigned long timeout;
+	if (list_empty(&gdrom_deferred))

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#625: FILE: drivers/cdrom/gdrom.c:545:
+		block = req->sector/GD_TO_BLK + GD_SESSION_OFFSET;
 		                   ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#626: FILE: drivers/cdrom/gdrom.c:546:
+		block_cnt = req->nr_sectors/GD_TO_BLK;
 		                           ^

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*read_command)...) over kzalloc(sizeof(struct packet_command)...)
#632: FILE: drivers/cdrom/gdrom.c:552:
+		read_command = kzalloc(sizeof(struct packet_command), GFP_KERNEL);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#636: FILE: drivers/cdrom/gdrom.c:556:
+^I^I}^I^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#657: FILE: drivers/cdrom/gdrom.c:576:
+		while ((ctrl_inb(GDROM_ALTSTATUS_REG) & 0x80) &&
+			cpu_relax();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#662: FILE: drivers/cdrom/gdrom.c:580:
+		while (((ctrl_inb(GDROM_ALTSTATUS_REG) & 0x88) != 8) &&
+			cpu_relax(); /* wait for DRQ to be set to 1 */

ERROR:CODE_INDENT: code indent should use tabs where possible
#678: FILE: drivers/cdrom/gdrom.c:596:
+ ^I^I * before handling ending the request^I*/$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#678: FILE: drivers/cdrom/gdrom.c:596:
+ ^I^I * before handling ending the request^I*/$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#678: FILE: drivers/cdrom/gdrom.c:596:
+ 		 * before handling ending the request	*/

ERROR:TRAILING_WHITESPACE: trailing whitespace
#689: FILE: drivers/cdrom/gdrom.c:607:
+}^I$

ERROR:CODE_INDENT: code indent should use tabs where possible
#694: FILE: drivers/cdrom/gdrom.c:612:
+ ^I * and then schedule workqueue */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#694: FILE: drivers/cdrom/gdrom.c:612:
+ ^I * and then schedule workqueue */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#694: FILE: drivers/cdrom/gdrom.c:612:
+ 	 * and then schedule workqueue */

WARNING:LINE_SPACING: Missing a blank line after declarations
#704: FILE: drivers/cdrom/gdrom.c:622:
+	unsigned long pages;
+	pages = rq->backing_dev_info.ra_pages;

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#706: FILE: drivers/cdrom/gdrom.c:624:
+		if (! blk_fs_request(req)) {
 		    ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#707: FILE: drivers/cdrom/gdrom.c:625:
+			printk(KERN_DEBUG "GDROM: Non-fs request ignored\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#711: FILE: drivers/cdrom/gdrom.c:629:
+			printk(KERN_NOTICE "GDROM: Read only device - write request ignored\n");

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*id)...) over kzalloc(sizeof(struct gdrom_id)...)
#728: FILE: drivers/cdrom/gdrom.c:646:
+	id = kzalloc(sizeof(struct gdrom_id), GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#741: FILE: drivers/cdrom/gdrom.c:659:
+	printk(KERN_INFO "GDROM: %s from %s with firmware %s\n", model_name,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#743: FILE: drivers/cdrom/gdrom.c:660:
+	printk(KERN_INFO "GDROM: %s from %s with firmware %s\n", model_name,
+	err = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#747: FILE: drivers/cdrom/gdrom.c:664:
+free_model_name:^I$

WARNING:LINE_SPACING: Missing a blank line after declarations
#773: FILE: drivers/cdrom/gdrom.c:690:
+	char err;
+	gd.toc = NULL;

ERROR:SPACING: space required before the open brace '{'
#775: FILE: drivers/cdrom/gdrom.c:692:
+	if (err == 1){

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#779: FILE: drivers/cdrom/gdrom.c:696:
+		printk(KERN_WARNING "Probe for GDROM failed with error 0x%X\n", err);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#785: FILE: drivers/cdrom/gdrom.c:702:
+	printk(KERN_INFO "GDROM: Block device is registered with major

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#843: FILE: drivers/cdrom/gdrom.c:759:
+	printk(KERN_WARNING "GDROM: Could not probe for device - error is
 	                          ^

CHECK:CAMELCASE: Avoid CamelCase: <Could>
#843: FILE: drivers/cdrom/gdrom.c:759:
+	printk(KERN_WARNING "GDROM: Could not probe for device - error is

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#873: FILE: drivers/cdrom/gdrom.c:788:
+		printk(KERN_INFO "Could not register GDROM driver - error 0x%X\n", rc);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000344376.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 32 errors, 63 warnings, 26 checks, 845 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000344376.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
