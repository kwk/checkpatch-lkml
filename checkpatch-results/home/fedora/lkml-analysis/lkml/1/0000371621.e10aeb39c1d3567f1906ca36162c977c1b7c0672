WARNING:COMMIT_MESSAGE: Missing commit description - Add an appropriate one

The patch is missing a commit description.  A brief
description of the changes made by the patch should be added.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#describe-your-changes

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'off' - possible side-effects?
#83: FILE: drivers/i2c/busses/i2c-bfin-twi.c:74:
+#define DEFINE_TWI_REG(reg, off) \
+static inline u16 read_##reg(void) \
+	{ return bfin_read16(twi_regs_base + off); } \
+static inline void write_##reg(u16 v) \
+	{bfin_write16(twi_regs_base + off, v); }

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'off' may be better as '(off)' to avoid precedence issues
#83: FILE: drivers/i2c/busses/i2c-bfin-twi.c:74:
+#define DEFINE_TWI_REG(reg, off) \
+static inline u16 read_##reg(void) \
+	{ return bfin_read16(twi_regs_base + off); } \
+static inline void write_##reg(u16 v) \
+	{bfin_write16(twi_regs_base + off, v); }

CHECK:CAMELCASE: Avoid CamelCase: <transPtr>
#117: FILE: drivers/i2c/busses/i2c-bfin-twi.c:105:
+			write_XMT_DATA8(*(iface->transPtr++));

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around iface->transPtr
#146: FILE: drivers/i2c/busses/i2c-bfin-twi.c:129:
+			*(iface->transPtr) = read_RCV_DATA8();

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#209: FILE: drivers/i2c/busses/i2c-bfin-twi.c:196:
+				write_MASTER_CTL(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#218: FILE: drivers/i2c/busses/i2c-bfin-twi.c:203:
+				write_MASTER_CTL(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#237: FILE: drivers/i2c/busses/i2c-bfin-twi.c:221:
+			write_MASTER_ADDR(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#246: FILE: drivers/i2c/busses/i2c-bfin-twi.c:229:
+					write_XMT_DATA8(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#255: FILE: drivers/i2c/busses/i2c-bfin-twi.c:237:
+				write_MASTER_CTL(

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#378: FILE: drivers/i2c/busses/i2c-bfin-twi.c:487:
+	write_INT_STAT(MERR|MCOMP|XMTSERV|RCVSERV);
 	                   ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#378: FILE: drivers/i2c/busses/i2c-bfin-twi.c:487:
+	write_INT_STAT(MERR|MCOMP|XMTSERV|RCVSERV);
 	                         ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#378: FILE: drivers/i2c/busses/i2c-bfin-twi.c:487:
+	write_INT_STAT(MERR|MCOMP|XMTSERV|RCVSERV);
 	                                 ^

CHECK:CAMELCASE: Avoid CamelCase: <writeNum>
#400: FILE: drivers/i2c/busses/i2c-bfin-twi.c:505:
+			write_MASTER_CTL((iface->writeNum + 1) << 6);

CHECK:CAMELCASE: Avoid CamelCase: <readNum>
#459: FILE: drivers/i2c/busses/i2c-bfin-twi.c:550:
+					write_MASTER_CTL(iface->readNum << 6);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*iface)...) over kzalloc(sizeof(struct bfin_twi_iface)...)
#511: FILE: drivers/i2c/busses/i2c-bfin-twi.c:631:
+	iface = kzalloc(sizeof(struct bfin_twi_iface), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around pdev->dev
#513: FILE: drivers/i2c/busses/i2c-bfin-twi.c:633:
+		dev_err(&(pdev->dev), "Cannot allocate memory\n");

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#513: FILE: drivers/i2c/busses/i2c-bfin-twi.c:633:
+	if (!iface) {
+		dev_err(&(pdev->dev), "Cannot allocate memory\n");

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!res"
#525: FILE: drivers/i2c/busses/i2c-bfin-twi.c:644:
+	if (res == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around pdev->dev
#526: FILE: drivers/i2c/busses/i2c-bfin-twi.c:645:
+		dev_err(&(pdev->dev), "Cannot get IORESOURCE_MEM\n");

CHECK:SPACING: No space is necessary after a cast
#531: FILE: drivers/i2c/busses/i2c-bfin-twi.c:650:
+	twi_regs_base = (u32) ioremap(res->start, (res->end - res->start)+1);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#531: FILE: drivers/i2c/busses/i2c-bfin-twi.c:650:
+	twi_regs_base = (u32) ioremap(res->start, (res->end - res->start)+1);
 	                                                                 ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around pdev->dev
#533: FILE: drivers/i2c/busses/i2c-bfin-twi.c:652:
+		dev_err(&(pdev->dev), "Cannot map IO\n");

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around pdev->dev
#540: FILE: drivers/i2c/busses/i2c-bfin-twi.c:659:
+		dev_err(&(pdev->dev), "No DMA channel specified\n");

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around iface->adap
#552: FILE: drivers/i2c/busses/i2c-bfin-twi.c:668:
+	p_adap = &(iface->adap);

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#554: FILE: drivers/i2c/busses/i2c-bfin-twi.c:670:
+	strlcpy(p_adap->name, pdev->name, sizeof(p_adap->name));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around pdev->dev
#566: FILE: drivers/i2c/busses/i2c-bfin-twi.c:679:
+		dev_err(&(pdev->dev), "i2c-bfin-twi: can't get IRQ %d !\n",

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#579: FILE: drivers/i2c/busses/i2c-bfin-twi.c:689:
+	write_CLKDIV((( 5*1024 / CONFIG_I2C_BLACKFIN_TWI_CLK_KHZ )
 	                 ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#579: FILE: drivers/i2c/busses/i2c-bfin-twi.c:689:
+	write_CLKDIV((( 5*1024 / CONFIG_I2C_BLACKFIN_TWI_CLK_KHZ )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#579: FILE: drivers/i2c/busses/i2c-bfin-twi.c:689:
+	write_CLKDIV((( 5*1024 / CONFIG_I2C_BLACKFIN_TWI_CLK_KHZ )

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around pdev->dev
#595: FILE: drivers/i2c/busses/i2c-bfin-twi.c:703:
+	dev_info(&(pdev->dev), "Blackfin I2C TWI driver, regs_base @ 0x%08x\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#596: FILE: drivers/i2c/busses/i2c-bfin-twi.c:704:
+	dev_info(&(pdev->dev), "Blackfin I2C TWI driver, regs_base @ 0x%08x\n",
+		twi_regs_base);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000371621.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 2 errors, 3 warnings, 27 checks, 595 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000371621.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
