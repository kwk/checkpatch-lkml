CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/nmi.h> instead of <asm/nmi.h>
#61: FILE: arch/x86_64/kernel/time.c:46:
+#include <asm/nmi.h>

Whenever asm/file.h is included and linux/file.h exists, a
conversion can be made when linux/file.h includes asm/file.h.
However this is not always the case (See signal.h).
This message type is emitted only for includes from arch/.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#70: FILE: arch/x86_64/kernel/time.c:254:
+ * processor frequency */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#74: FILE: arch/x86_64/kernel/time.c:258:
+       int tsc_start, tsc_now;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#75: FILE: arch/x86_64/kernel/time.c:259:
+       int i, no_ctr_free;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#76: FILE: arch/x86_64/kernel/time.c:260:
+       unsigned long evntsel3 = 0, pmc3 = 0, pmc_now = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#77: FILE: arch/x86_64/kernel/time.c:261:
+       unsigned long flags;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#79: FILE: arch/x86_64/kernel/time.c:263:
+       for (i = 0; i < 4; i++)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#79: FILE: arch/x86_64/kernel/time.c:263:
+       for (i = 0; i < 4; i++)
+               if (avail_to_resrv_perfctr_nmi_bit(i))

ERROR:CODE_INDENT: code indent should use tabs where possible
#80: FILE: arch/x86_64/kernel/time.c:264:
+               if (avail_to_resrv_perfctr_nmi_bit(i))$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#80: FILE: arch/x86_64/kernel/time.c:264:
+               if (avail_to_resrv_perfctr_nmi_bit(i))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#80: FILE: arch/x86_64/kernel/time.c:264:
+               if (avail_to_resrv_perfctr_nmi_bit(i))
+                       break;

ERROR:CODE_INDENT: code indent should use tabs where possible
#81: FILE: arch/x86_64/kernel/time.c:265:
+                       break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#81: FILE: arch/x86_64/kernel/time.c:265:
+                       break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#82: FILE: arch/x86_64/kernel/time.c:266:
+       no_ctr_free = (i == 4);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#83: FILE: arch/x86_64/kernel/time.c:267:
+       if (no_ctr_free) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#83: FILE: arch/x86_64/kernel/time.c:267:
+       if (no_ctr_free) {
+               i = 3;

ERROR:CODE_INDENT: code indent should use tabs where possible
#84: FILE: arch/x86_64/kernel/time.c:268:
+               i = 3;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#84: FILE: arch/x86_64/kernel/time.c:268:
+               i = 3;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#85: FILE: arch/x86_64/kernel/time.c:269:
+               rdmsrl(MSR_K7_EVNTSEL3, evntsel3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#85: FILE: arch/x86_64/kernel/time.c:269:
+               rdmsrl(MSR_K7_EVNTSEL3, evntsel3);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#86: FILE: arch/x86_64/kernel/time.c:270:
+               wrmsrl(MSR_K7_EVNTSEL3, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#86: FILE: arch/x86_64/kernel/time.c:270:
+               wrmsrl(MSR_K7_EVNTSEL3, 0);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#87: FILE: arch/x86_64/kernel/time.c:271:
+               rdmsrl(MSR_K7_PERFCTR3, pmc3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#87: FILE: arch/x86_64/kernel/time.c:271:
+               rdmsrl(MSR_K7_PERFCTR3, pmc3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#88: FILE: arch/x86_64/kernel/time.c:272:
+       } else {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#88: FILE: arch/x86_64/kernel/time.c:272:
+       } else {
+               reserve_perfctr_nmi(MSR_K7_PERFCTR0 + i);

ERROR:CODE_INDENT: code indent should use tabs where possible
#89: FILE: arch/x86_64/kernel/time.c:273:
+               reserve_perfctr_nmi(MSR_K7_PERFCTR0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#89: FILE: arch/x86_64/kernel/time.c:273:
+               reserve_perfctr_nmi(MSR_K7_PERFCTR0 + i);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#90: FILE: arch/x86_64/kernel/time.c:274:
+               reserve_evntsel_nmi(MSR_K7_EVNTSEL0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#90: FILE: arch/x86_64/kernel/time.c:274:
+               reserve_evntsel_nmi(MSR_K7_EVNTSEL0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#91: FILE: arch/x86_64/kernel/time.c:275:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#92: FILE: arch/x86_64/kernel/time.c:276:
+       local_irq_save(flags);$

WARNING:TYPO_SPELLING: 'meauring' may be misspelled - perhaps 'measuring'?
#93: FILE: arch/x86_64/kernel/time.c:277:
+       /* start meauring cycles, incrementing from 0 */
                 ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#94: FILE: arch/x86_64/kernel/time.c:278:
+       wrmsrl(MSR_K7_PERFCTR0 + i, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#95: FILE: arch/x86_64/kernel/time.c:279:
+       wrmsrl(MSR_K7_EVNTSEL0 + i, 1 << 22 | 3 << 16 | 0x76);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#96: FILE: arch/x86_64/kernel/time.c:280:
+       rdtscl(tsc_start);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#97: FILE: arch/x86_64/kernel/time.c:281:
+       do {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#97: FILE: arch/x86_64/kernel/time.c:281:
+       do {
+               rdmsrl(MSR_K7_PERFCTR0 + i, pmc_now);

ERROR:CODE_INDENT: code indent should use tabs where possible
#98: FILE: arch/x86_64/kernel/time.c:282:
+               rdmsrl(MSR_K7_PERFCTR0 + i, pmc_now);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#98: FILE: arch/x86_64/kernel/time.c:282:
+               rdmsrl(MSR_K7_PERFCTR0 + i, pmc_now);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#99: FILE: arch/x86_64/kernel/time.c:283:
+               tsc_now = get_cycles_sync();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#99: FILE: arch/x86_64/kernel/time.c:283:
+               tsc_now = get_cycles_sync();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#100: FILE: arch/x86_64/kernel/time.c:284:
+       } while ((tsc_now - tsc_start) < TICK_COUNT);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#102: FILE: arch/x86_64/kernel/time.c:286:
+       local_irq_restore(flags);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#103: FILE: arch/x86_64/kernel/time.c:287:
+       if (no_ctr_free) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#103: FILE: arch/x86_64/kernel/time.c:287:
+       if (no_ctr_free) {
+               wrmsrl(MSR_K7_EVNTSEL3, 0);

ERROR:CODE_INDENT: code indent should use tabs where possible
#104: FILE: arch/x86_64/kernel/time.c:288:
+               wrmsrl(MSR_K7_EVNTSEL3, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#104: FILE: arch/x86_64/kernel/time.c:288:
+               wrmsrl(MSR_K7_EVNTSEL3, 0);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#105: FILE: arch/x86_64/kernel/time.c:289:
+               wrmsrl(MSR_K7_PERFCTR3, pmc3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#105: FILE: arch/x86_64/kernel/time.c:289:
+               wrmsrl(MSR_K7_PERFCTR3, pmc3);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#106: FILE: arch/x86_64/kernel/time.c:290:
+               wrmsrl(MSR_K7_EVNTSEL3, evntsel3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#106: FILE: arch/x86_64/kernel/time.c:290:
+               wrmsrl(MSR_K7_EVNTSEL3, evntsel3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#107: FILE: arch/x86_64/kernel/time.c:291:
+       } else {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#107: FILE: arch/x86_64/kernel/time.c:291:
+       } else {
+               release_perfctr_nmi(MSR_K7_PERFCTR0 + i);

ERROR:CODE_INDENT: code indent should use tabs where possible
#108: FILE: arch/x86_64/kernel/time.c:292:
+               release_perfctr_nmi(MSR_K7_PERFCTR0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#108: FILE: arch/x86_64/kernel/time.c:292:
+               release_perfctr_nmi(MSR_K7_PERFCTR0 + i);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#109: FILE: arch/x86_64/kernel/time.c:293:
+               release_evntsel_nmi(MSR_K7_EVNTSEL0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#109: FILE: arch/x86_64/kernel/time.c:293:
+               release_evntsel_nmi(MSR_K7_EVNTSEL0 + i);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#110: FILE: arch/x86_64/kernel/time.c:294:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#112: FILE: arch/x86_64/kernel/time.c:296:
+       return pmc_now * tsc_khz / (tsc_now - tsc_start);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#133: FILE: arch/x86_64/kernel/time.c:395:
+	if (cpu_has(&boot_cpu_data, X86_FEATURE_CONSTANT_TSC) &&
+		boot_cpu_data.x86_vendor == X86_VENDOR_AMD &&

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#167: FILE: arch/x86_64/kernel/tsc.c:82:
+static unsigned long tsc_khz_ref = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#201: FILE: arch/x86_64/kernel/tsc.c:219:
+		clocksource_tsc.mult = clocksource_khz2mult(tsc_khz,
 							clocksource_tsc.shift);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#225: FILE: include/asm-x86_64/proto.h:95:
+extern unsigned tsc_khz;

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000439269.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 16 errors, 45 warnings, 3 checks, 157 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000439269.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
