CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/pgtable.h> instead of <asm/pgtable.h>
#75: FILE: arch/x86/kernel/kprobes_32.c:40:
+#include <asm/pgtable.h>

Whenever asm/file.h is included and linux/file.h exists, a
conversion can be made when linux/file.h includes asm/file.h.
However this is not always the case (See signal.h).
This message type is emitted only for includes from arch/.

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'regs' may be better as '(regs)' to avoid precedence issues
#91: FILE: arch/x86/kernel/kprobes_32.c:57:
+#define stack_addr(regs) ((unsigned long *)&regs->sp)

WARNING:TYPO_SPELLING: 'ba' may be misspelled - perhaps 'by'?
#93: FILE: arch/x86/kernel/kprobes_32.c:59:
+#define W(row, b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, ba, bb, bc, bd, be, bf)\
                                                        ^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'row' may be better as '(row)' to avoid precedence issues
#93: FILE: arch/x86/kernel/kprobes_32.c:59:
+#define W(row, b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, ba, bb, bc, bd, be, bf)\
+	(((b0##UL << 0x0)|(b1##UL << 0x1)|(b2##UL << 0x2)|(b3##UL << 0x3) |   \
+	  (b4##UL << 0x4)|(b5##UL << 0x5)|(b6##UL << 0x6)|(b7##UL << 0x7) |   \
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
+	  (bc##UL << 0xc)|(bd##UL << 0xd)|(be##UL << 0xe)|(bf##UL << 0xf))    \
+	 << (row % 32))

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#94: FILE: arch/x86/kernel/kprobes_32.c:60:
+	(((b0##UL << 0x0)|(b1##UL << 0x1)|(b2##UL << 0x2)|(b3##UL << 0x3) |   \
 	                 ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#94: FILE: arch/x86/kernel/kprobes_32.c:60:
+	(((b0##UL << 0x0)|(b1##UL << 0x1)|(b2##UL << 0x2)|(b3##UL << 0x3) |   \
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#94: FILE: arch/x86/kernel/kprobes_32.c:60:
+	(((b0##UL << 0x0)|(b1##UL << 0x1)|(b2##UL << 0x2)|(b3##UL << 0x3) |   \
 	                                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#95: FILE: arch/x86/kernel/kprobes_32.c:61:
+	  (b4##UL << 0x4)|(b5##UL << 0x5)|(b6##UL << 0x6)|(b7##UL << 0x7) |   \
 	                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#95: FILE: arch/x86/kernel/kprobes_32.c:61:
+	  (b4##UL << 0x4)|(b5##UL << 0x5)|(b6##UL << 0x6)|(b7##UL << 0x7) |   \
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#95: FILE: arch/x86/kernel/kprobes_32.c:61:
+	  (b4##UL << 0x4)|(b5##UL << 0x5)|(b6##UL << 0x6)|(b7##UL << 0x7) |   \
 	                                                 ^

WARNING:TYPO_SPELLING: 'ba' may be misspelled - perhaps 'by'?
#96: FILE: arch/x86/kernel/kprobes_32.c:62:
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
 	                                   ^^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#96: FILE: arch/x86/kernel/kprobes_32.c:62:
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
 	                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#96: FILE: arch/x86/kernel/kprobes_32.c:62:
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#96: FILE: arch/x86/kernel/kprobes_32.c:62:
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
 	                                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#97: FILE: arch/x86/kernel/kprobes_32.c:63:
+	  (bc##UL << 0xc)|(bd##UL << 0xd)|(be##UL << 0xe)|(bf##UL << 0xf))    \
 	                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#97: FILE: arch/x86/kernel/kprobes_32.c:63:
+	  (bc##UL << 0xc)|(bd##UL << 0xd)|(be##UL << 0xe)|(bf##UL << 0xf))    \
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#97: FILE: arch/x86/kernel/kprobes_32.c:63:
+	  (bc##UL << 0xc)|(bd##UL << 0xd)|(be##UL << 0xe)|(bf##UL << 0xf))    \
 	                                                 ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#107: FILE: arch/x86/kernel/kprobes_32.c:73:
+	W(0x10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 10 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#109: FILE: arch/x86/kernel/kprobes_32.c:75:
+	W(0x30, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 30 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#111: FILE: arch/x86/kernel/kprobes_32.c:77:
+	W(0x50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 50 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#113: FILE: arch/x86/kernel/kprobes_32.c:79:
+	W(0x70, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1) , /* 70 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#115: FILE: arch/x86/kernel/kprobes_32.c:81:
+	W(0x90, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) , /* 90 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#117: FILE: arch/x86/kernel/kprobes_32.c:83:
+	W(0xb0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1) , /* b0 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#119: FILE: arch/x86/kernel/kprobes_32.c:85:
+	W(0xd0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1) , /* d0 */
 	                                                        ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#125: FILE: arch/x86/kernel/kprobes_32.c:91:
+};
+static const u32 onebyte_has_modrm[256 / 32] = {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#129: FILE: arch/x86/kernel/kprobes_32.c:95:
+	W(0x10, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0) , /* 10 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#131: FILE: arch/x86/kernel/kprobes_32.c:97:
+	W(0x30, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0) , /* 30 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#133: FILE: arch/x86/kernel/kprobes_32.c:99:
+	W(0x50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 50 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#135: FILE: arch/x86/kernel/kprobes_32.c:101:
+	W(0x70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 70 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#137: FILE: arch/x86/kernel/kprobes_32.c:103:
+	W(0x90, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 90 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#139: FILE: arch/x86/kernel/kprobes_32.c:105:
+	W(0xb0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* b0 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#141: FILE: arch/x86/kernel/kprobes_32.c:107:
+	W(0xd0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1) , /* d0 */
 	                                                        ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#147: FILE: arch/x86/kernel/kprobes_32.c:113:
+};
+static const u32 twobyte_has_modrm[256 / 32] = {

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#151: FILE: arch/x86/kernel/kprobes_32.c:117:
+	W(0x10, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0) , /* 1f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#153: FILE: arch/x86/kernel/kprobes_32.c:119:
+	W(0x30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 3f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#155: FILE: arch/x86/kernel/kprobes_32.c:121:
+	W(0x50, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) , /* 5f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#157: FILE: arch/x86/kernel/kprobes_32.c:123:
+	W(0x70, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1) , /* 7f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#159: FILE: arch/x86/kernel/kprobes_32.c:125:
+	W(0x90, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) , /* 9f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#161: FILE: arch/x86/kernel/kprobes_32.c:127:
+	W(0xb0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1) , /* bf */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#163: FILE: arch/x86/kernel/kprobes_32.c:129:
+	W(0xd0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) , /* df */
 	                                                        ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#169: FILE: arch/x86/kernel/kprobes_32.c:135:
+};
+#undef W

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#174: FILE: arch/x86/kernel/kprobes_32.c:139:
+			      doesn't switch kernel stack.*/

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:SPACING: space prohibited after that '*' (ctx:WxW)
#188: FILE: arch/x86/kernel/kprobes_32.c:150:
+	} __attribute__((packed)) * jop;
 	                          ^

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#188: FILE: arch/x86/kernel/kprobes_32.c:150:
+	} __attribute__((packed)) * jop;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#437: FILE: arch/x86/kernel/kprobes_32.c:470:
+ }$

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'regs->ip > copy_ip'
#579: FILE: arch/x86/kernel/kprobes_32.c:618:
+		if ((regs->ip > copy_ip) &&
+		    (regs->ip - copy_ip) + 5 < MAX_INSN_SIZE) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#668: FILE: arch/x86/kernel/kprobes_32.c:810:
+		      (kcb->jprobe_saved_sp):"memory");
 		                            ^

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/cacheflush.h> instead of <asm/cacheflush.h>
#722: FILE: arch/x86/kernel/kprobes_64.c:43:
+#include <asm/cacheflush.h>

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'regs' may be better as '(regs)' to avoid precedence issues
#734: FILE: arch/x86/kernel/kprobes_64.c:54:
+#define stack_addr(regs) ((unsigned long *)regs->sp)

WARNING:TYPO_SPELLING: 'ba' may be misspelled - perhaps 'by'?
#736: FILE: arch/x86/kernel/kprobes_64.c:56:
+#define W(row, b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, ba, bb, bc, bd, be, bf)\
                                                        ^^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'row' may be better as '(row)' to avoid precedence issues
#736: FILE: arch/x86/kernel/kprobes_64.c:56:
+#define W(row, b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, ba, bb, bc, bd, be, bf)\
+	(((b0##UL << 0x0)|(b1##UL << 0x1)|(b2##UL << 0x2)|(b3##UL << 0x3) |   \
+	  (b4##UL << 0x4)|(b5##UL << 0x5)|(b6##UL << 0x6)|(b7##UL << 0x7) |   \
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
+	  (bc##UL << 0xc)|(bd##UL << 0xd)|(be##UL << 0xe)|(bf##UL << 0xf))    \
+	 << (row % 32))

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#737: FILE: arch/x86/kernel/kprobes_64.c:57:
+	(((b0##UL << 0x0)|(b1##UL << 0x1)|(b2##UL << 0x2)|(b3##UL << 0x3) |   \
 	                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#737: FILE: arch/x86/kernel/kprobes_64.c:57:
+	(((b0##UL << 0x0)|(b1##UL << 0x1)|(b2##UL << 0x2)|(b3##UL << 0x3) |   \
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#737: FILE: arch/x86/kernel/kprobes_64.c:57:
+	(((b0##UL << 0x0)|(b1##UL << 0x1)|(b2##UL << 0x2)|(b3##UL << 0x3) |   \
 	                                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#738: FILE: arch/x86/kernel/kprobes_64.c:58:
+	  (b4##UL << 0x4)|(b5##UL << 0x5)|(b6##UL << 0x6)|(b7##UL << 0x7) |   \
 	                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#738: FILE: arch/x86/kernel/kprobes_64.c:58:
+	  (b4##UL << 0x4)|(b5##UL << 0x5)|(b6##UL << 0x6)|(b7##UL << 0x7) |   \
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#738: FILE: arch/x86/kernel/kprobes_64.c:58:
+	  (b4##UL << 0x4)|(b5##UL << 0x5)|(b6##UL << 0x6)|(b7##UL << 0x7) |   \
 	                                                 ^

WARNING:TYPO_SPELLING: 'ba' may be misspelled - perhaps 'by'?
#739: FILE: arch/x86/kernel/kprobes_64.c:59:
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
 	                                   ^^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#739: FILE: arch/x86/kernel/kprobes_64.c:59:
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
 	                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#739: FILE: arch/x86/kernel/kprobes_64.c:59:
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#739: FILE: arch/x86/kernel/kprobes_64.c:59:
+	  (b8##UL << 0x8)|(b9##UL << 0x9)|(ba##UL << 0xa)|(bb##UL << 0xb) |   \
 	                                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#740: FILE: arch/x86/kernel/kprobes_64.c:60:
+	  (bc##UL << 0xc)|(bd##UL << 0xd)|(be##UL << 0xe)|(bf##UL << 0xf))    \
 	                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#740: FILE: arch/x86/kernel/kprobes_64.c:60:
+	  (bc##UL << 0xc)|(bd##UL << 0xd)|(be##UL << 0xe)|(bf##UL << 0xf))    \
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#740: FILE: arch/x86/kernel/kprobes_64.c:60:
+	  (bc##UL << 0xc)|(bd##UL << 0xd)|(be##UL << 0xe)|(bf##UL << 0xf))    \
 	                                                 ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#750: FILE: arch/x86/kernel/kprobes_64.c:70:
+	W(0x10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 10 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#752: FILE: arch/x86/kernel/kprobes_64.c:72:
+	W(0x30, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 30 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#754: FILE: arch/x86/kernel/kprobes_64.c:74:
+	W(0x50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 50 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#756: FILE: arch/x86/kernel/kprobes_64.c:76:
+	W(0x70, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1) , /* 70 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#758: FILE: arch/x86/kernel/kprobes_64.c:78:
+	W(0x90, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) , /* 90 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#760: FILE: arch/x86/kernel/kprobes_64.c:80:
+	W(0xb0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1) , /* b0 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#762: FILE: arch/x86/kernel/kprobes_64.c:82:
+	W(0xd0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1) , /* d0 */
 	                                                        ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#768: FILE: arch/x86/kernel/kprobes_64.c:88:
+};
+static const u32 onebyte_has_modrm[256 / 32] = {

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#772: FILE: arch/x86/kernel/kprobes_64.c:92:
+	W(0x10, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0) , /* 10 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#774: FILE: arch/x86/kernel/kprobes_64.c:94:
+	W(0x30, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0) , /* 30 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#776: FILE: arch/x86/kernel/kprobes_64.c:96:
+	W(0x50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 50 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#778: FILE: arch/x86/kernel/kprobes_64.c:98:
+	W(0x70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 70 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#780: FILE: arch/x86/kernel/kprobes_64.c:100:
+	W(0x90, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 90 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#782: FILE: arch/x86/kernel/kprobes_64.c:102:
+	W(0xb0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* b0 */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#784: FILE: arch/x86/kernel/kprobes_64.c:104:
+	W(0xd0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1) , /* d0 */
 	                                                        ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#790: FILE: arch/x86/kernel/kprobes_64.c:110:
+};
+static const u32 twobyte_has_modrm[256 / 32] = {

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#794: FILE: arch/x86/kernel/kprobes_64.c:114:
+	W(0x10, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0) , /* 1f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#796: FILE: arch/x86/kernel/kprobes_64.c:116:
+	W(0x30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0) , /* 3f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#798: FILE: arch/x86/kernel/kprobes_64.c:118:
+	W(0x50, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) , /* 5f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#800: FILE: arch/x86/kernel/kprobes_64.c:120:
+	W(0x70, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1) , /* 7f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#802: FILE: arch/x86/kernel/kprobes_64.c:122:
+	W(0x90, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) , /* 9f */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#804: FILE: arch/x86/kernel/kprobes_64.c:124:
+	W(0xb0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1) , /* bf */
 	                                                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#806: FILE: arch/x86/kernel/kprobes_64.c:126:
+	W(0xd0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) , /* df */
 	                                                        ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#812: FILE: arch/x86/kernel/kprobes_64.c:132:
+};
+#undef W

CHECK:BRACES: Unbalanced braces around else statement
#975: FILE: arch/x86/kernel/kprobes_64.c:270:
+	} else			/* One-byte opcode.  */

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:SPACING: No space is necessary after a cast
#998: FILE: arch/x86/kernel/kprobes_64.c:292:
+			disp = (u8 *) p->addr + *((s32 *) insn) -

CHECK:SPACING: No space is necessary after a cast
#999: FILE: arch/x86/kernel/kprobes_64.c:293:
+			       (u8 *) p->ainsn.insn;

CHECK:SPACING: No space is necessary after a cast
#1000: FILE: arch/x86/kernel/kprobes_64.c:294:
+			BUG_ON((s64) (s32) disp != disp); /* Sanity check.  */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1000: FILE: arch/x86/kernel/kprobes_64.c:294:
+			BUG_ON((s64) (s32) disp != disp); /* Sanity check.  */

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:SPACING: No space is necessary after a cast
#1001: FILE: arch/x86/kernel/kprobes_64.c:295:
+			*(s32 *)insn = (s32) disp;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'regs->ip > copy_ip'
#1258: FILE: arch/x86/kernel/kprobes_64.c:719:
+		if ((regs->ip > copy_ip) &&
+		    (regs->ip - copy_ip) + 5 < MAX_INSN_SIZE) {

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1357: FILE: arch/x86/kernel/kprobes_64.c:915:
+		      (kcb->jprobe_saved_sp):"memory");
 		                            ^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1499: FILE: include/asm-x86/kprobes_32.h:99:
+extern int kprobe_fault_handler(struct pt_regs *regs, int trapnr);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000346203.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 43 errors, 8 warnings, 46 checks, 1441 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000346203.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
