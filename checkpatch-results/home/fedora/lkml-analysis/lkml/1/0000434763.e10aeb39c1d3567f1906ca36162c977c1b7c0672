WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#50: 
>  fs/logfs/readwrite.c  | 1125 ++++++++++++++++++++++++++++++++++++++++++++++++++

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#147: FILE: fs/logfs/logfs.h:1:
+#ifndef logfs_h

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:LINE_SPACING: Please don't use multiple blank lines
#152: FILE: fs/logfs/logfs.h:6:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#161: FILE: fs/logfs/logfs.h:15:
+
+

WARNING:TYPO_SPELLING: 'stricly' may be misspelled - perhaps 'strictly'?
#164: FILE: fs/logfs/logfs.h:18:
+ * various positions or offsets.  To remove confusion, we stricly
                                                           ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#191: FILE: fs/logfs/logfs.h:45:
+ * Levels 1-11 are necessary for robust gc operations and help seperate
                                                                ^^^^^^^^

WARNING:TYPO_SPELLING: 'seperated' may be misspelled - perhaps 'separated'?
#193: FILE: fs/logfs/logfs.h:47:
+ * file data should get seperated into several segments based on simple
                         ^^^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#200: FILE: fs/logfs/logfs.h:54:
+
+

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((__packed__))
#211: FILE: fs/logfs/logfs.h:65:
+#define packed __attribute__((__packed__))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#213: FILE: fs/logfs/logfs.h:67:
+
+

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#215: FILE: fs/logfs/logfs.h:69:
+	printk("trace: %s:%d: ", __FILE__, __LINE__);		\

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#216: FILE: fs/logfs/logfs.h:70:
+	printk("->%s\n", __func__);				\

WARNING:TRACING_LOGGING: Unnecessary ftrace-like logging - prefer using ftrace
#216: FILE: fs/logfs/logfs.h:70:
+	printk("->%s\n", __func__);				\

ERROR:SPACING: space required before the open parenthesis '('
#217: FILE: fs/logfs/logfs.h:71:
+} while(0)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#219: FILE: fs/logfs/logfs.h:73:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#223: FILE: fs/logfs/logfs.h:77:
+
+

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#228: FILE: fs/logfs/logfs.h:82:
+#define LOGFS_BLOCK_MASK (LOGFS_BLOCK_FACTOR-1)
                                             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#230: FILE: fs/logfs/logfs.h:84:
+#define I0_BLOCKS	(4+16)
                  	  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#237: FILE: fs/logfs/logfs.h:91:
+#define I1_INDEX	(4+16)
                 	  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#238: FILE: fs/logfs/logfs.h:92:
+#define I2_INDEX	(5+16)
                 	  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#239: FILE: fs/logfs/logfs.h:93:
+#define I3_INDEX	(6+16)
                 	  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#240: FILE: fs/logfs/logfs.h:94:
+#define I4_INDEX	(7+16)
                 	  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#241: FILE: fs/logfs/logfs.h:95:
+#define I5_INDEX	(8+16)
                 	  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#243: FILE: fs/logfs/logfs.h:97:
+#define LOGFS_EMBEDDED_FIELDS	(9+16)
                              	  ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#257: FILE: fs/logfs/logfs.h:111:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#279: FILE: fs/logfs/logfs.h:133:
+	 * used, some fields are set to 0 */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:SPACING: space required after that close brace '}'
#286: FILE: fs/logfs/logfs.h:140:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#288: FILE: fs/logfs/logfs.h:142:
+
+

WARNING:TYPO_SPELLING: 'creat' may be misspelled - perhaps 'create'?
#292: FILE: fs/logfs/logfs.h:146:
+#define LOGFS_IF_STILLBORN	0x40000000 /* couldn't write inode in creat() */
                           	                                      ^^^^^

ERROR:SPACING: space required after that close brace '}'
#310: FILE: fs/logfs/logfs.h:164:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#312: FILE: fs/logfs/logfs.h:166:
+
+

ERROR:SPACING: space required after that close brace '}'
#319: FILE: fs/logfs/logfs.h:173:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#321: FILE: fs/logfs/logfs.h:175:
+
+

ERROR:SPACING: space required after that close brace '}'
#335: FILE: fs/logfs/logfs.h:189:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#337: FILE: fs/logfs/logfs.h:191:
+
+

ERROR:SPACING: space required after that close brace '}'
#346: FILE: fs/logfs/logfs.h:200:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#348: FILE: fs/logfs/logfs.h:202:
+
+

ERROR:SPACING: space required after that close brace '}'
#352: FILE: fs/logfs/logfs.h:206:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#354: FILE: fs/logfs/logfs.h:208:
+
+

ERROR:SPACING: space required after that close brace '}'
#365: FILE: fs/logfs/logfs.h:219:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#367: FILE: fs/logfs/logfs.h:221:
+
+

ERROR:SPACING: space required after that close brace '}'
#376: FILE: fs/logfs/logfs.h:230:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#378: FILE: fs/logfs/logfs.h:232:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#390: FILE: fs/logfs/logfs.h:244:
+
+

ERROR:SPACING: space required after that close brace '}'
#397: FILE: fs/logfs/logfs.h:251:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#399: FILE: fs/logfs/logfs.h:253:
+
+

ERROR:SPACING: space required after that close brace '}'
#402: FILE: fs/logfs/logfs.h:256:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#404: FILE: fs/logfs/logfs.h:258:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#408: FILE: fs/logfs/logfs.h:262:
+	u8	d_data[0];	/* XOR between on-medium and actual block,
+				   zlib compressed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#408: FILE: fs/logfs/logfs.h:262:
+				   zlib compressed */

ERROR:SPACING: space required after that close brace '}'
#409: FILE: fs/logfs/logfs.h:263:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#411: FILE: fs/logfs/logfs.h:265:
+
+

ERROR:SPACING: space required after that close brace '}'
#414: FILE: fs/logfs/logfs.h:268:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#416: FILE: fs/logfs/logfs.h:270:
+
+

ERROR:SPACING: space required after that close brace '}'
#419: FILE: fs/logfs/logfs.h:273:
+}packed;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#421: FILE: fs/logfs/logfs.h:275:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#427: FILE: fs/logfs/logfs.h:281:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#433: FILE: fs/logfs/logfs.h:287:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#435: FILE: fs/logfs/logfs.h:289:
+ * entries, next groups contain one entry per level */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#454: FILE: fs/logfs/logfs.h:308:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#458: FILE: fs/logfs/logfs.h:312:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#459: FILE: fs/logfs/logfs.h:313:
+#define LOGFS_SUPER(sb) ((struct logfs_super*)(sb->s_fs_info))

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'sb' may be better as '(sb)' to avoid precedence issues
#459: FILE: fs/logfs/logfs.h:313:
+#define LOGFS_SUPER(sb) ((struct logfs_super*)(sb->s_fs_info))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#462: FILE: fs/logfs/logfs.h:316:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#472: FILE: fs/logfs/logfs.h:326:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#478: FILE: fs/logfs/logfs.h:332:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#492: FILE: fs/logfs/logfs.h:346:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#506: FILE: fs/logfs/logfs.h:360:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#515: FILE: fs/logfs/logfs.h:369:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#523: FILE: fs/logfs/logfs.h:377:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#567: FILE: fs/logfs/logfs.h:421:
+	struct logfs_journal_entry s_retired[JE_LAST+1]; /* for journal scan */
 	                                            ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#568: FILE: fs/logfs/logfs.h:422:
+	struct logfs_journal_entry s_speculative[JE_LAST+1]; /* dito */
 	                                                ^

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#574: FILE: fs/logfs/logfs.h:428:
+	struct mutex s_w_mutex;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#584: FILE: fs/logfs/logfs.h:438:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#593: FILE: fs/logfs/logfs.h:447:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#594: FILE: fs/logfs/logfs.h:448:
+#define journal_for_each(__i) for (__i=0; __i<LOGFS_JOURNAL_SEGS; __i++)
                                       ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#594: FILE: fs/logfs/logfs.h:448:
+#define journal_for_each(__i) for (__i=0; __i<LOGFS_JOURNAL_SEGS; __i++)
                                              ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__i' - possible side-effects?
#594: FILE: fs/logfs/logfs.h:448:
+#define journal_for_each(__i) for (__i=0; __i<LOGFS_JOURNAL_SEGS; __i++)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#596: FILE: fs/logfs/logfs.h:450:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#601: FILE: fs/logfs/logfs.h:455:
+	BUG();				\

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

ERROR:SPACING: space required before the open parenthesis '('
#602: FILE: fs/logfs/logfs.h:456:
+} while(0)

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#605: FILE: fs/logfs/logfs.h:459:
+	do { if (unlikely((condition)!=0)) LOGFS_BUG((sb)); } while(0)
 	                             ^

ERROR:SPACING: space required before the open parenthesis '('
#605: FILE: fs/logfs/logfs.h:459:
+	do { if (unlikely((condition)!=0)) LOGFS_BUG((sb)); } while(0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#607: FILE: fs/logfs/logfs.h:461:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#611: FILE: fs/logfs/logfs.h:465:
+	return cpu_to_be32(crc32(~0, data+skip, len-skip));
 	                                 ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#611: FILE: fs/logfs/logfs.h:465:
+	return cpu_to_be32(crc32(~0, data+skip, len-skip));
 	                                           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#614: FILE: fs/logfs/logfs.h:468:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#620: FILE: fs/logfs/logfs.h:474:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#626: FILE: fs/logfs/logfs.h:480:
+
+

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#631: FILE: fs/logfs/logfs.h:485:
+}
+static inline void free_disk_sum(struct logfs_disk_sum *sum)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#636: FILE: fs/logfs/logfs.h:490:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#638: FILE: fs/logfs/logfs.h:492:
+static inline u64 logfs_block_ofs(struct super_block *sb, u32 segno,
+		u32 blockno)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#644: FILE: fs/logfs/logfs.h:498:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#656: FILE: fs/logfs/logfs.h:510:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#658: FILE: fs/logfs/logfs.h:512:
+extern struct inode_operations logfs_dir_iops;

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:CONST_STRUCT: struct file_operations should normally be const
#659: FILE: fs/logfs/logfs.h:513:
+extern struct file_operations logfs_dir_fops;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#662: FILE: fs/logfs/logfs.h:516:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#664: FILE: fs/logfs/logfs.h:518:
+extern struct inode_operations logfs_reg_iops;

WARNING:CONST_STRUCT: struct file_operations should normally be const
#665: FILE: fs/logfs/logfs.h:519:
+extern struct file_operations logfs_reg_fops;

WARNING:CONST_STRUCT: struct address_space_operations should normally be const
#666: FILE: fs/logfs/logfs.h:520:
+extern struct address_space_operations logfs_reg_aops;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#670: FILE: fs/logfs/logfs.h:524:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#676: FILE: fs/logfs/logfs.h:530:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#689: FILE: fs/logfs/logfs.h:543:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#695: FILE: fs/logfs/logfs.h:549:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#702: FILE: fs/logfs/logfs.h:556:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#706: FILE: fs/logfs/logfs.h:560:
+int logfs_inode_write(struct inode *inode, const void *buf, size_t n,
+		loff_t pos);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#724: FILE: fs/logfs/logfs.h:578:
+s64 logfs_segment_write(struct inode *inode, void *buf, u64 pos, int level,
+		int alloc);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#739: FILE: fs/logfs/logfs.h:593:
+void *logfs_device_getpage(struct super_block *sb, u64 offset,
+		struct page **page);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#745: FILE: fs/logfs/logfs.h:599:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#749: FILE: fs/logfs/logfs.h:603:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#753: FILE: fs/logfs/logfs.h:607:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#757: FILE: fs/logfs/logfs.h:611:
+	struct logfs_super *super = LOGFS_SUPER(sb);
+	return ((u64)segno << super->s_segshift) + ofs;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#760: FILE: fs/logfs/logfs.h:614:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#762: FILE: fs/logfs/logfs.h:616:
+static inline void device_read(struct super_block *sb, u32 segno, u32 ofs,
+		size_t len, void *buf)

WARNING:LINE_SPACING: Missing a blank line after declarations
#765: FILE: fs/logfs/logfs.h:619:
+	int err = mtdread(sb, dev_ofs(sb, segno, ofs), len, buf);
+	LOGFS_BUG_ON(err, sb);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#768: FILE: fs/logfs/logfs.h:622:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#771: FILE: fs/logfs/logfs.h:625:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#776: FILE: fs/logfs/dir.c:1:
+/**

WARNING:TYPO_SPELLING: 'seperate' may be misspelled - perhaps 'separate'?
#780: FILE: fs/logfs/dir.c:5:
+ * created/removed/altered in seperate operations.  Therefore we need to do
                               ^^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#832: FILE: fs/logfs/dir.c:57:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#839: FILE: fs/logfs/dir.c:64:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#846: FILE: fs/logfs/dir.c:71:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#852: FILE: fs/logfs/dir.c:77:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#854: FILE: fs/logfs/dir.c:79:
+static int write_dir(struct inode *dir, struct logfs_disk_dentry *dd,
+		loff_t pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#859: FILE: fs/logfs/dir.c:84:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#863: FILE: fs/logfs/dir.c:88:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#867: FILE: fs/logfs/dir.c:92:
+	s64 new_pos = logfs_seek_data(inode, pos);
+	return max((s64)pos, new_pos - 1);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#870: FILE: fs/logfs/dir.c:95:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#872: FILE: fs/logfs/dir.c:97:
+static int __logfs_dir_walk(struct inode *dir, struct dentry *dentry,
+		dir_callback handler, struct logfs_disk_dentry *dd, loff_t *pos)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#887: FILE: fs/logfs/dir.c:112:
+		BUG_ON(dd->namelen == 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#901: FILE: fs/logfs/dir.c:126:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#903: FILE: fs/logfs/dir.c:128:
+static int logfs_dir_walk(struct inode *dir, struct dentry *dentry,
+		dir_callback handler)

WARNING:LINE_SPACING: Missing a blank line after declarations
#907: FILE: fs/logfs/dir.c:132:
+	loff_t pos = 0;
+	return __logfs_dir_walk(dir, dentry, handler, &dd, &pos);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#910: FILE: fs/logfs/dir.c:135:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#912: FILE: fs/logfs/dir.c:137:
+static int logfs_lookup_handler(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#922: FILE: fs/logfs/dir.c:147:
+
+

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#924: FILE: fs/logfs/dir.c:149:
+		struct nameidata *nd)
 		                  ^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#924: FILE: fs/logfs/dir.c:149:
+static struct dentry *logfs_lookup(struct inode *dir, struct dentry *dentry,
+		struct nameidata *nd)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#932: FILE: fs/logfs/dir.c:157:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#935: FILE: fs/logfs/dir.c:160:
+static int logfs_unlink_handler(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#940: FILE: fs/logfs/dir.c:165:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#953: FILE: fs/logfs/dir.c:178:
+
+

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#966: FILE: fs/logfs/dir.c:191:
+	inode->i_ctime = dir->i_ctime = dir->i_mtime = CURRENT_TIME;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#980: FILE: fs/logfs/dir.c:205:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#982: FILE: fs/logfs/dir.c:207:
+static int logfs_empty_handler(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t pos)

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#986: FILE: fs/logfs/dir.c:211:
+}
+static inline int logfs_empty_dir(struct inode *dir)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#991: FILE: fs/logfs/dir.c:216:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1002: FILE: fs/logfs/dir.c:227:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1004: FILE: fs/logfs/dir.c:229:
+ * way to combine the two copies */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1012: FILE: fs/logfs/dir.c:237:
+	BUG_ON(pos<0);

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1012: FILE: fs/logfs/dir.c:237:
+	BUG_ON(pos<0);
 	          ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1015: FILE: fs/logfs/dir.c:240:
+		struct inode *dir = file->f_dentry->d_inode;
+		err = read_dir(dir, &dd, pos);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1024: FILE: fs/logfs/dir.c:249:
+		BUG_ON(dd.namelen == 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1027: FILE: fs/logfs/dir.c:252:
+		if (filldir(buf, dd.name, be16_to_cpu(dd.namelen), pos,
+					be64_to_cpu(dd.ino), dd.type))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1035: FILE: fs/logfs/dir.c:260:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1051: FILE: fs/logfs/dir.c:276:
+		ino_t pino = parent_ino(file->f_dentry);
+		if (filldir(buf, "..", 2, 2, pino, DT_DIR) < 0)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1058: FILE: fs/logfs/dir.c:283:
+		printk("LOGFS readdir error=%x, pos=%llx\n", err, file->f_pos);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1062: FILE: fs/logfs/dir.c:287:
+
+

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1068: FILE: fs/logfs/dir.c:293:
+}
+static void logfs_set_name(struct logfs_disk_dentry *dd, struct qstr *name)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1070: FILE: fs/logfs/dir.c:295:
+	BUG_ON(name->len > LOGFS_MAX_NAMELEN);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1074: FILE: fs/logfs/dir.c:299:
+}
+static int logfs_write_dir(struct inode *dir, struct dentry *dentry,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1075: FILE: fs/logfs/dir.c:300:
+static int logfs_write_dir(struct inode *dir, struct dentry *dentry,
+		struct inode *inode)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1085: FILE: fs/logfs/dir.c:310:
+	dir->i_ctime = dir->i_mtime = CURRENT_TIME;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1087: FILE: fs/logfs/dir.c:312:
+	 * not when reading. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1095: FILE: fs/logfs/dir.c:320:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1097: FILE: fs/logfs/dir.c:322:
+static int __logfs_create(struct inode *dir, struct dentry *dentry,
+		struct inode *inode, const char *dest, long destlen)

WARNING:TYPO_SPELLING: 'creat' may be misspelled - perhaps 'create'?
#1110: FILE: fs/logfs/dir.c:335:
+	else /* creat/mkdir/mknod */
 	        ^^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1118: FILE: fs/logfs/dir.c:343:
+		iput(inode);
 		^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1130: FILE: fs/logfs/dir.c:355:
+		iput(inode);
 		^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1137: FILE: fs/logfs/dir.c:362:
+
+

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1139: FILE: fs/logfs/dir.c:364:
+#define LOGFS_LINK_MAX (1<<30)
                          ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#1139: FILE: fs/logfs/dir.c:364:
+#define LOGFS_LINK_MAX (1<<30)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

WARNING:TYPO_SPELLING: 'creat' may be misspelled - perhaps 'create'?
#1148: FILE: fs/logfs/dir.c:373:
+	 * correct for mknod, creat, etc.?  Smells like the vfs *should*
 	                      ^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1161: FILE: fs/logfs/dir.c:386:
+
+

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1163: FILE: fs/logfs/dir.c:388:
+		struct nameidata *nd)
 		                  ^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1163: FILE: fs/logfs/dir.c:388:
+static int logfs_create(struct inode *dir, struct dentry *dentry, int mode,
+		struct nameidata *nd)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1178: FILE: fs/logfs/dir.c:403:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1180: FILE: fs/logfs/dir.c:405:
+static int logfs_mknod(struct inode *dir, struct dentry *dentry, int mode,
+		dev_t rdev)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1184: FILE: fs/logfs/dir.c:409:
+	BUG_ON(dentry->d_name.len > LOGFS_MAX_NAMELEN);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1195: FILE: fs/logfs/dir.c:420:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#1196: FILE: fs/logfs/dir.c:421:
+static struct inode_operations ext2_symlink_iops = {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1202: FILE: fs/logfs/dir.c:427:
+static int logfs_symlink(struct inode *dir, struct dentry *dentry,
+		const char *target)

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRWXUGO' are not preferred. Consider using octal permissions '0777'.
#1210: FILE: fs/logfs/dir.c:435:
+	inode = logfs_new_inode(dir, S_IFLNK | S_IRWXUGO);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1220: FILE: fs/logfs/dir.c:445:
+
+

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1221: FILE: fs/logfs/dir.c:446:
+static int logfs_permission(struct inode *inode, int mask, struct nameidata *nd)
                                                                              ^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1226: FILE: fs/logfs/dir.c:451:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1228: FILE: fs/logfs/dir.c:453:
+static int logfs_link(struct dentry *old_dentry, struct inode *dir,
+		struct dentry *dentry)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1235: FILE: fs/logfs/dir.c:460:
+	inode->i_ctime = dir->i_ctime = dir->i_mtime = CURRENT_TIME;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1242: FILE: fs/logfs/dir.c:467:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1244: FILE: fs/logfs/dir.c:469:
+static int logfs_nop_handler(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t pos)

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1248: FILE: fs/logfs/dir.c:473:
+}
+static inline int logfs_get_dd(struct inode *dir, struct dentry *dentry,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1249: FILE: fs/logfs/dir.c:474:
+static inline int logfs_get_dd(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, loff_t *pos)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1255: FILE: fs/logfs/dir.c:480:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1260: FILE: fs/logfs/dir.c:485:
+static int logfs_rename_local(struct inode *dir, struct dentry *old_dentry,
+		struct dentry *new_dentry)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1274: FILE: fs/logfs/dir.c:499:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1276: FILE: fs/logfs/dir.c:501:
+static int logfs_delete_dd(struct inode *dir, struct logfs_disk_dentry *dd,
+		loff_t pos)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1286: FILE: fs/logfs/dir.c:511:
+	dir->i_ctime = dir->i_mtime = CURRENT_TIME;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1292: FILE: fs/logfs/dir.c:517:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1298: FILE: fs/logfs/dir.c:523:
+static int logfs_rename_cross(struct inode *old_dir, struct dentry *old_dentry,
+		struct inode *new_dir, struct dentry *new_dentry)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1314: FILE: fs/logfs/dir.c:539:
+	 * dropping too low.  Needs more thought. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1334: FILE: fs/logfs/dir.c:559:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1336: FILE: fs/logfs/dir.c:561:
+static int logfs_replace_inode(struct inode *dir, struct dentry *dentry,
+		struct logfs_disk_dentry *dd, struct inode *inode)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1350: FILE: fs/logfs/dir.c:575:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1356: FILE: fs/logfs/dir.c:581:
+static int logfs_rename_target(struct inode *old_dir, struct dentry *old_dentry,
+		struct inode *new_dir, struct dentry *new_dentry)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1366: FILE: fs/logfs/dir.c:591:
+	BUG_ON(isdir != S_ISDIR(new_inode->i_mode));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1406: FILE: fs/logfs/dir.c:631:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1408: FILE: fs/logfs/dir.c:633:
+static int logfs_rename(struct inode *old_dir, struct dentry *old_dentry,
+		struct inode *new_dir, struct dentry *new_dentry)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1417: FILE: fs/logfs/dir.c:642:
+
+

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1435: FILE: fs/logfs/dir.c:660:
+		iput(inode);
 		^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1451: FILE: fs/logfs/dir.c:676:
+		iput(inode);
 		^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1464: FILE: fs/logfs/dir.c:689:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#1465: FILE: fs/logfs/dir.c:690:
+struct inode_operations logfs_dir_iops = {

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1477: FILE: fs/logfs/dir.c:702:
+};
+struct file_operations logfs_dir_fops = {

WARNING:CONST_STRUCT: struct file_operations should normally be const
#1477: FILE: fs/logfs/dir.c:702:
+struct file_operations logfs_dir_fops = {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1484: FILE: fs/logfs/file.c:1:
+#include "logfs.h"

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1486: FILE: fs/logfs/file.c:3:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1488: FILE: fs/logfs/file.c:5:
+static int logfs_prepare_write(struct file *file, struct page *page,
+		unsigned start, unsigned end)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1488: FILE: fs/logfs/file.c:5:
+		unsigned start, unsigned end)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1488: FILE: fs/logfs/file.c:5:
+		unsigned start, unsigned end)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'start == 0'
#1493: FILE: fs/logfs/file.c:10:
+	if ((start == 0) && (end == PAGE_CACHE_SIZE))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'end == PAGE_CACHE_SIZE'
#1493: FILE: fs/logfs/file.c:10:
+	if ((start == 0) && (end == PAGE_CACHE_SIZE))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1499: FILE: fs/logfs/file.c:16:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1501: FILE: fs/logfs/file.c:18:
+static int logfs_commit_write(struct file *file, struct page *page,
+		unsigned start, unsigned end)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1501: FILE: fs/logfs/file.c:18:
+		unsigned start, unsigned end)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1501: FILE: fs/logfs/file.c:18:
+		unsigned start, unsigned end)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1509: FILE: fs/logfs/file.c:26:
+	pr_debug("ino: %lu, page:%lu, start: %d, len:%d\n", inode->i_ino,
+			page->index, start, end-start);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1509: FILE: fs/logfs/file.c:26:
+			page->index, start, end-start);
 			                       ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1510: FILE: fs/logfs/file.c:27:
+	BUG_ON(PAGE_CACHE_SIZE != inode->i_sb->s_blocksize);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1510: FILE: fs/logfs/file.c:27:
+	BUG_ON(PAGE_CACHE_SIZE != inode->i_sb->s_blocksize);

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1511: FILE: fs/logfs/file.c:28:
+	BUG_ON(page->index > I3_BLOCKS);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1527: FILE: fs/logfs/file.c:44:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1531: FILE: fs/logfs/file.c:48:
+	int ret = logfs_readpage_nolock(page);
+	unlock_page(page);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1535: FILE: fs/logfs/file.c:52:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1538: FILE: fs/logfs/file.c:55:
+	BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1542: FILE: fs/logfs/file.c:59:
+
+

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#1543: FILE: fs/logfs/file.c:60:
+struct inode_operations logfs_reg_iops = {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1547: FILE: fs/logfs/file.c:64:
+
+

WARNING:CONST_STRUCT: struct file_operations should normally be const
#1548: FILE: fs/logfs/file.c:65:
+struct file_operations logfs_reg_fops = {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1558: FILE: fs/logfs/file.c:75:
+
+

WARNING:CONST_STRUCT: struct address_space_operations should normally be const
#1559: FILE: fs/logfs/file.c:76:
+struct address_space_operations logfs_reg_aops = {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1569: FILE: fs/logfs/gc.c:1:
+#include "logfs.h"

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1571: FILE: fs/logfs/gc.c:3:
+#if 0

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1605: FILE: fs/logfs/gc.c:37:
+	if (t >= 32*theta)
 	           ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1608: FILE: fs/logfs/gc.c:40:
+	shift = t/theta;
 	         ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#1609: FILE: fs/logfs/gc.c:41:
+	fac = theta - (t%theta)/2;
 	                ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1609: FILE: fs/logfs/gc.c:41:
+	fac = theta - (t%theta)/2;
 	                       ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1614: FILE: fs/logfs/gc.c:46:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1631: FILE: fs/logfs/gc.c:63:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1631: FILE: fs/logfs/gc.c:63:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1633: FILE: fs/logfs/gc.c:65:
+		struct logfs_area *area = super->s_area[i];
+		if (area->a_is_open && (area->a_segno == segno)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'area->a_segno == segno'
#1633: FILE: fs/logfs/gc.c:65:
+		if (area->a_is_open && (area->a_segno == segno)) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1633: FILE: fs/logfs/gc.c:65:
+		if (area->a_is_open && (area->a_segno == segno)) {
+			return super->s_segsize;
+		}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:LONG_LINE_COMMENT: line length of 108 exceeds 100 columns
#1652: FILE: fs/logfs/gc.c:84:
+		//printk("%x %x (%llx, %llx, %llx)(%x, %x)\n", h.type, h.compr, ofs, ino, pos, valid, size);

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1657: FILE: fs/logfs/gc.c:89:
+	printk("valid(%x) = %x\n", segno, valid);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1661: FILE: fs/logfs/gc.c:93:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1663: FILE: fs/logfs/gc.c:95:
+static void logfs_cleanse_block(struct super_block *sb, u64 ofs, u64 ino,
+		u64 pos, int level)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1669: FILE: fs/logfs/gc.c:101:
+	BUG_ON(!inode);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1671: FILE: fs/logfs/gc.c:103:
+	BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1675: FILE: fs/logfs/gc.c:107:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1686: FILE: fs/logfs/gc.c:118:
+	sh = (void*)&h;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1701: FILE: fs/logfs/gc.c:133:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1713: FILE: fs/logfs/gc.c:145:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1713: FILE: fs/logfs/gc.c:145:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1715: FILE: fs/logfs/gc.c:147:
+		struct logfs_area *area = super->s_area[i];
+		BUG_ON(area->a_is_open && (area->a_segno == segno));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1715: FILE: fs/logfs/gc.c:147:
+		BUG_ON(area->a_is_open && (area->a_segno == segno));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1720: FILE: fs/logfs/gc.c:152:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1722: FILE: fs/logfs/gc.c:154:
+static void __add_segment(struct list_head *list, int *count, u32 segno,
+		int valid)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1725: FILE: fs/logfs/gc.c:157:
+	struct logfs_segment *seg = kzalloc(sizeof(*seg), GFP_KERNEL);
+	if (!seg)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1734: FILE: fs/logfs/gc.c:166:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1736: FILE: fs/logfs/gc.c:168:
+static void add_segment(struct list_head *list, int *count, u32 segno,
+		int valid)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1739: FILE: fs/logfs/gc.c:171:
+	struct logfs_segment *seg;
+	list_for_each_entry(seg, list, list)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1745: FILE: fs/logfs/gc.c:177:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1749: FILE: fs/logfs/gc.c:181:
+	struct logfs_segment *seg;
+	list_for_each_entry(seg, list, list)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1758: FILE: fs/logfs/gc.c:190:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#1762: FILE: fs/logfs/gc.c:194:
+	struct logfs_super *super = LOGFS_SUPER(sb);
+	add_segment(&super->s_free_list, &super->s_free_count, segno, 0);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1764: FILE: fs/logfs/gc.c:196:
+}
+static void add_low_segment(struct super_block *sb, u32 segno, int valid)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1767: FILE: fs/logfs/gc.c:199:
+	struct logfs_super *super = LOGFS_SUPER(sb);
+	add_segment(&super->s_low_list, &super->s_low_count, segno, valid);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1769: FILE: fs/logfs/gc.c:201:
+}
+static void del_low_segment(struct super_block *sb, u32 segno)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1772: FILE: fs/logfs/gc.c:204:
+	struct logfs_super *super = LOGFS_SUPER(sb);
+	del_segment(&super->s_low_list, &super->s_low_count, segno);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1775: FILE: fs/logfs/gc.c:207:
+
+

CHECK:BRACES: braces {} should be used on all arms of this statement
#1783: FILE: fs/logfs/gc.c:215:
+	if (valid == 0) {
[...]
+	} else if (valid < full)
[...]

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1790: FILE: fs/logfs/gc.c:222:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1805: FILE: fs/logfs/gc.c:237:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1811: FILE: fs/logfs/gc.c:243:
+	for (i = super->s_sweeper+1; i != super->s_sweeper; i++) {
 	                         ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1813: FILE: fs/logfs/gc.c:245:
+			i=1;	/* skip superblock */
 			 ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1825: FILE: fs/logfs/gc.c:257:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1830: FILE: fs/logfs/gc.c:262:
+	unsigned min_valid = super->s_segsize;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1833: FILE: fs/logfs/gc.c:265:
+	BUG_ON(list_empty(&super->s_low_list));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1852: FILE: fs/logfs/gc.c:284:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1854: FILE: fs/logfs/gc.c:286:
+ * If we made enough room, return */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1867: FILE: fs/logfs/gc.c:299:
+			printk("s");

WARNING:IF_1: Consider removing the #if 1 and its #endif
#1870: FILE: fs/logfs/gc.c:302:
+#if 1

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1873: FILE: fs/logfs/gc.c:305:
+		printk(".");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1878: FILE: fs/logfs/gc.c:310:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1884: FILE: fs/logfs/gc.c:316:
+	for (i=4; i; i--) {
 	      ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1891: FILE: fs/logfs/gc.c:323:
+		printk("free:%8d, low:%8d, sweeper:%8lld\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1892: FILE: fs/logfs/gc.c:324:
+		printk("free:%8d, low:%8d, sweeper:%8lld\n",
+				super->s_free_count, super->s_low_count,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1895: FILE: fs/logfs/gc.c:327:
+		printk("free:%8d, low:%8d, sweeper:%8lld\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1896: FILE: fs/logfs/gc.c:328:
+		printk("free:%8d, low:%8d, sweeper:%8lld\n",
+				super->s_free_count, super->s_low_count,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1903: FILE: fs/logfs/gc.c:335:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1914: FILE: fs/logfs/gc.c:346:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1922: FILE: fs/logfs/inode.c:1:
+#include "logfs.h"

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1926: FILE: fs/logfs/inode.c:5:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1929: FILE: fs/logfs/inode.c:8:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1932: FILE: fs/logfs/inode.c:11:
+
+

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1944: FILE: fs/logfs/inode.c:23:
+			iput(inode);
 			^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1952: FILE: fs/logfs/inode.c:31:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1974: FILE: fs/logfs/inode.c:53:
+
+

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1977: FILE: fs/logfs/inode.c:56:
+	if (inode->i_ino == LOGFS_INO_MASTER) /* never iput it either! */
 	                                               ^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1983: FILE: fs/logfs/inode.c:62:
+	iput(inode);
 	^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1986: FILE: fs/logfs/inode.c:65:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2003: FILE: fs/logfs/inode.c:82:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2003: FILE: fs/logfs/inode.c:82:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	           ^

WARNING:RETURN_VOID: void function return statements are not generally useful
#2007: FILE: fs/logfs/inode.c:86:
+	return;
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2009: FILE: fs/logfs/inode.c:88:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2021: FILE: fs/logfs/inode.c:100:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2036: FILE: fs/logfs/inode.c:115:
+	 * to be nonstatic, alas. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2053: FILE: fs/logfs/inode.c:132:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#2058: FILE: fs/logfs/inode.c:137:
+	struct timespec tsp;
+	tsp.tv_sec = time >> 32;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2063: FILE: fs/logfs/inode.c:142:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#2067: FILE: fs/logfs/inode.c:146:
+	u64 time = ((u64)tsp.tv_sec << 32) + (tsp.tv_nsec & 0xffffffff);
+	return cpu_to_be64(time);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2070: FILE: fs/logfs/inode.c:149:
+
+

ERROR:POINTER_LOCATION: "foo*bar" should be "foo *bar"
#2071: FILE: fs/logfs/inode.c:150:
+static void logfs_disk_to_inode(struct logfs_disk_inode *di, struct inode*inode)

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#2088: FILE: fs/logfs/inode.c:167:
+	case S_IFCHR: /* fall through */

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#2089: FILE: fs/logfs/inode.c:168:
+	case S_IFBLK: /* fall through */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2094: FILE: fs/logfs/inode.c:173:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2094: FILE: fs/logfs/inode.c:173:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2100: FILE: fs/logfs/inode.c:179:
+
+

ERROR:POINTER_LOCATION: "foo*bar" should be "foo *bar"
#2101: FILE: fs/logfs/inode.c:180:
+static void logfs_inode_to_disk(struct inode *inode, struct logfs_disk_inode*di)

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#2119: FILE: fs/logfs/inode.c:198:
+	case S_IFCHR: /* fall through */

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#2120: FILE: fs/logfs/inode.c:199:
+	case S_IFBLK: /* fall through */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2125: FILE: fs/logfs/inode.c:204:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2125: FILE: fs/logfs/inode.c:204:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2131: FILE: fs/logfs/inode.c:210:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2133: FILE: fs/logfs/inode.c:212:
+static int logfs_read_disk_inode(struct logfs_disk_inode *di,
+		struct inode *inode)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2139: FILE: fs/logfs/inode.c:218:
+	BUG_ON(!super->s_master_inode);

ERROR:SPACING: space prohibited after that open parenthesis '('
#2144: FILE: fs/logfs/inode.c:223:
+	if ( !(be32_to_cpu(di->di_flags) & LOGFS_IF_VALID))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2153: FILE: fs/logfs/inode.c:232:
+
+

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#2173: FILE: fs/logfs/inode.c:252:
+	if ( !(li->li_flags&LOGFS_IF_VALID) || (li->li_flags&LOGFS_IF_INVALID))
 	                   ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#2173: FILE: fs/logfs/inode.c:252:
+	if ( !(li->li_flags&LOGFS_IF_VALID) || (li->li_flags&LOGFS_IF_INVALID))
 	                                                    ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#2173: FILE: fs/logfs/inode.c:252:
+	if ( !(li->li_flags&LOGFS_IF_VALID) || (li->li_flags&LOGFS_IF_INVALID))

WARNING:DEFAULT_NO_BREAK: switch default: should use break
#2186: FILE: fs/logfs/inode.c:265:
+	default:
+		;

switch default case is sometimes written as "default:;".  This can
cause new cases added below default to be defective.

A "break;" should be added after empty default statement to avoid
unwanted fallthrough.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2193: FILE: fs/logfs/inode.c:272:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2198: FILE: fs/logfs/inode.c:277:
+	BUG_ON(inode->i_ino == LOGFS_INO_MASTER);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2202: FILE: fs/logfs/inode.c:281:
+		printk("%lx, %x\n", inode->i_ino, -ret);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2203: FILE: fs/logfs/inode.c:282:
+		BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2207: FILE: fs/logfs/inode.c:286:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2209: FILE: fs/logfs/inode.c:288:
+static int logfs_write_disk_inode(struct logfs_disk_inode *di,
+		struct inode *inode)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2217: FILE: fs/logfs/inode.c:296:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2222: FILE: fs/logfs/inode.c:301:
+	BUG_ON(inode->i_ino == LOGFS_INO_MASTER);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2225: FILE: fs/logfs/inode.c:304:
+	 * bother writing it. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2234: FILE: fs/logfs/inode.c:313:
+
+

WARNING:TYPO_SPELLING: 'creat' may be misspelled - perhaps 'create'?
#2239: FILE: fs/logfs/inode.c:318:
+	/* Can only happen if creat() failed.  Safe to skip. */
 	                      ^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2248: FILE: fs/logfs/inode.c:327:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2256: FILE: fs/logfs/inode.c:335:
+
+

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#2265: FILE: fs/logfs/inode.c:344:
+	if (! (LOGFS_INODE(inode)->li_flags & LOGFS_IF_ZOMBIE)) {
 	    ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2273: FILE: fs/logfs/inode.c:352:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2279: FILE: fs/logfs/inode.c:358:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2291: FILE: fs/logfs/inode.c:370:
+	BUG_ON(list_empty(&li->li_freeing_list));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2298: FILE: fs/logfs/inode.c:377:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2308: FILE: fs/logfs/inode.c:387:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2325: FILE: fs/logfs/inode.c:404:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2345: FILE: fs/logfs/inode.c:424:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2347: FILE: fs/logfs/inode.c:426:
+static void logfs_init_once(void *_li, struct kmem_cache *cachep,
+		unsigned long flags)

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#2352: FILE: fs/logfs/inode.c:431:
+	if ((flags & (SLAB_CTOR_VERIFY|SLAB_CTOR_CONSTRUCTOR)) ==
 	                              ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2356: FILE: fs/logfs/inode.c:435:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2356: FILE: fs/logfs/inode.c:435:
+		for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 		           ^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2361: FILE: fs/logfs/inode.c:440:
+
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2363: FILE: fs/logfs/inode.c:442:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2374: FILE: fs/logfs/inode.c:453:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2378: FILE: fs/logfs/inode.c:457:
+	logfs_inode_cache = kmem_cache_create("logfs_inode_cache",
+			sizeof(struct logfs_inode), 0, SLAB_RECLAIM_ACCOUNT,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2385: FILE: fs/logfs/inode.c:464:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2393: FILE: fs/logfs/journal.c:1:
+#include "logfs.h"

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2395: FILE: fs/logfs/journal.c:3:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2401: FILE: fs/logfs/journal.c:9:
+	for (i=0; i<JE_LAST; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2401: FILE: fs/logfs/journal.c:9:
+	for (i=0; i<JE_LAST; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2406: FILE: fs/logfs/journal.c:14:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2412: FILE: fs/logfs/journal.c:20:
+	for (i=0; i<JE_LAST; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2412: FILE: fs/logfs/journal.c:20:
+	for (i=0; i<JE_LAST; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2416: FILE: fs/logfs/journal.c:24:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2422: FILE: fs/logfs/journal.c:30:
+	for (i=0; i<JE_LAST; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2422: FILE: fs/logfs/journal.c:30:
+	for (i=0; i<JE_LAST; i++) {
 	           ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#2425: FILE: fs/logfs/journal.c:33:
+		struct logfs_journal_entry *retired = super->s_retired + i;
+		if (! spec->used)

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#2425: FILE: fs/logfs/journal.c:33:
+		if (! spec->used)
 		    ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'spec->version <= retired->version'
#2427: FILE: fs/logfs/journal.c:35:
+		if (retired->used && (spec->version <= retired->version))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2437: FILE: fs/logfs/journal.c:45:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2439: FILE: fs/logfs/journal.c:47:
+static void __logfs_scan_journal(struct super_block *sb, void *block,
+		u32 segno, u64 block_ofs, int block_index)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2445: FILE: fs/logfs/journal.c:53:
+	for (h = block; (void*)h - block < sb->s_blocksize; h++) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2447: FILE: fs/logfs/journal.c:55:
+		unsigned long ofs = (void*)h - block;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'len < 16'
#2453: FILE: fs/logfs/journal.c:61:
+		if ((len < 16) || (len > remainder))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'len > remainder'
#2453: FILE: fs/logfs/journal.c:61:
+		if ((len < 16) || (len > remainder))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type < JE_FIRST'
#2455: FILE: fs/logfs/journal.c:63:
+		if ((type < JE_FIRST) || (type > JE_LAST))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'type > JE_LAST'
#2455: FILE: fs/logfs/journal.c:63:
+		if ((type < JE_FIRST) || (type > JE_LAST))

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2466: FILE: fs/logfs/journal.c:74:
+		if (abs(version) > 1<<14) /* all versions should be near */
 		                    ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'version <= spec->version'
#2473: FILE: fs/logfs/journal.c:81:
+			if (spec->used && (version <= spec->version))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'version <= retired->version'
#2481: FILE: fs/logfs/journal.c:89:
+			if (retired->used && (version <= retired->version))

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2492: FILE: fs/logfs/journal.c:100:
+			area->a_is_open = 0; /* never reuse same segment after
+						mount - wasteful but safe */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2492: FILE: fs/logfs/journal.c:100:
+						mount - wasteful but safe */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2498: FILE: fs/logfs/journal.c:106:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2513: FILE: fs/logfs/journal.c:121:
+		for (k=0; k<super->s_no_blocks; k++) {
 		      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2513: FILE: fs/logfs/journal.c:121:
+		for (k=0; k<super->s_no_blocks; k++) {
 		           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2524: FILE: fs/logfs/journal.c:132:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2526: FILE: fs/logfs/journal.c:134:
+static void logfs_read_commit(struct logfs_super *super,
+		struct logfs_journal_header *h)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2531: FILE: fs/logfs/journal.c:139:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2554: FILE: fs/logfs/journal.c:162:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2561: FILE: fs/logfs/journal.c:169:
+	err = btree_insert(head, 0, (void*)1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2562: FILE: fs/logfs/journal.c:170:
+	BUG_ON(err);

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#2565: FILE: fs/logfs/journal.c:173:
+		if (! super->s_journal_seg[i])
 		    ^

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2567: FILE: fs/logfs/journal.c:175:
+		err = btree_insert(head, super->s_journal_seg[i], (void*)1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2568: FILE: fs/logfs/journal.c:176:
+		BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2572: FILE: fs/logfs/journal.c:180:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2585: FILE: fs/logfs/journal.c:193:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2598: FILE: fs/logfs/journal.c:206:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2598: FILE: fs/logfs/journal.c:206:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2602: FILE: fs/logfs/journal.c:210:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2604: FILE: fs/logfs/journal.c:212:
+static void logfs_read_erasecount(struct super_block *sb,
+		struct logfs_journal_ec *ec)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2613: FILE: fs/logfs/journal.c:221:
+
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2625: FILE: fs/logfs/journal.c:233:
+		err = btree_insert(head, be32_to_cpu(*seg), (void*)1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2626: FILE: fs/logfs/journal.c:234:
+		BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2631: FILE: fs/logfs/journal.c:239:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2637: FILE: fs/logfs/journal.c:245:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2637: FILE: fs/logfs/journal.c:245:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2646: FILE: fs/logfs/journal.c:254:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2660: FILE: fs/logfs/journal.c:268:
+	BUG_ON(err);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2664: FILE: fs/logfs/journal.c:272:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2674: FILE: fs/logfs/journal.c:282:
+	for (i=0; i<JE_LAST; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2674: FILE: fs/logfs/journal.c:282:
+	for (i=0; i<JE_LAST; i++) {
 	           ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#2676: FILE: fs/logfs/journal.c:284:
+		struct logfs_journal_entry *je = super->s_retired + i;
+		if (!super->s_retired[i].used)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2681: FILE: fs/logfs/journal.c:289:
+				printk("LogFS: Missing journal entry %x?\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2682: FILE: fs/logfs/journal.c:290:
+				printk("LogFS: Missing journal entry %x?\n",
+						i);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2707: FILE: fs/logfs/journal.c:315:
+				logfs_read_erasecount(sb,unpack(block,scratch));
 				                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2707: FILE: fs/logfs/journal.c:315:
+				logfs_read_erasecount(sb,unpack(block,scratch));
 				                                     ^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2729: FILE: fs/logfs/journal.c:337:
+
+	}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2733: FILE: fs/logfs/journal.c:341:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2753: FILE: fs/logfs/journal.c:361:
+	BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2756: FILE: fs/logfs/journal.c:364:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2760: FILE: fs/logfs/journal.c:368:
+	 * journal_get_free_segment() - nothing to do here */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2763: FILE: fs/logfs/journal.c:371:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2769: FILE: fs/logfs/journal.c:377:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2775: FILE: fs/logfs/journal.c:383:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2783: FILE: fs/logfs/journal.c:391:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2791: FILE: fs/logfs/journal.c:399:
+	BUG_ON(err);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2797: FILE: fs/logfs/journal.c:405:
+	BUG_ON(ofs >= LOGFS_SUPER(sb)->s_size);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2801: FILE: fs/logfs/journal.c:409:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2812: FILE: fs/logfs/journal.c:420:
+	BUG_ON(ret <= 0); /* not sure, but it's safer to BUG than to accept */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2816: FILE: fs/logfs/journal.c:424:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2818: FILE: fs/logfs/journal.c:426:
+static size_t __logfs_write_header(struct logfs_super *super,
+		struct logfs_journal_header *h, size_t len, size_t datalen,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2833: FILE: fs/logfs/journal.c:441:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2835: FILE: fs/logfs/journal.c:443:
+static size_t logfs_write_header(struct logfs_super *super,
+		struct logfs_journal_header *h, size_t datalen, u16 type)

WARNING:LINE_SPACING: Missing a blank line after declarations
#2838: FILE: fs/logfs/journal.c:446:
+	size_t len = datalen + sizeof(*h);
+	return __logfs_write_header(super, h, len, datalen, type, COMPR_NONE);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2841: FILE: fs/logfs/journal.c:449:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2843: FILE: fs/logfs/journal.c:451:
+static void *logfs_write_bb(struct super_block *sb, void *h,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2850: FILE: fs/logfs/journal.c:458:
+
+

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2855: FILE: fs/logfs/journal.c:463:
+}
+static void *logfs_write_erasecount(struct super_block *sb, void *_ec,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2856: FILE: fs/logfs/journal.c:464:
+static void *logfs_write_erasecount(struct super_block *sb, void *_ec,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2869: FILE: fs/logfs/journal.c:477:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2871: FILE: fs/logfs/journal.c:479:
+static void *logfs_write_wbuf(struct super_block *sb, void *h,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2881: FILE: fs/logfs/journal.c:489:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2883: FILE: fs/logfs/journal.c:491:
+static void *__logfs_write_anchor(struct super_block *sb, void *_da,
+		u16 *type, size_t *len)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2894: FILE: fs/logfs/journal.c:502:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2894: FILE: fs/logfs/journal.c:502:
+	for (i=0; i<LOGFS_EMBEDDED_FIELDS; i++)
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2901: FILE: fs/logfs/journal.c:509:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2903: FILE: fs/logfs/journal.c:511:
+static void *logfs_write_dynsb(struct super_block *sb, void *_dynsb,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2919: FILE: fs/logfs/journal.c:527:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2921: FILE: fs/logfs/journal.c:529:
+static void *logfs_write_areas(struct super_block *sb, void *_a,
+		u16 *type, size_t *len)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2927: FILE: fs/logfs/journal.c:535:
+	for (i=0; i<16; i++) { /* FIXME: have all 16 areas */
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2927: FILE: fs/logfs/journal.c:535:
+	for (i=0; i<16; i++) { /* FIXME: have all 16 areas */
 	           ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2931: FILE: fs/logfs/journal.c:539:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2931: FILE: fs/logfs/journal.c:539:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2941: FILE: fs/logfs/journal.c:549:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2943: FILE: fs/logfs/journal.c:551:
+static void *logfs_write_commit(struct super_block *sb, void *h,
+		u16 *type, size_t *len)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2950: FILE: fs/logfs/journal.c:558:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2952: FILE: fs/logfs/journal.c:560:
+static size_t logfs_write_je(struct super_block *sb, size_t jpos,
+		void* (*write)(struct super_block *sb, void *scratch,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2953: FILE: fs/logfs/journal.c:561:
+		void* (*write)(struct super_block *sb, void *scratch,
+			u16 *type, size_t *len))

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2974: FILE: fs/logfs/journal.c:582:
+	BUG_ON(compr_len < 0);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2983: FILE: fs/logfs/journal.c:591:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2994: FILE: fs/logfs/journal.c:602:
+	BUG_ON(ofs >= super->s_size);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2998: FILE: fs/logfs/journal.c:606:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2998: FILE: fs/logfs/journal.c:606:
+	for (i=0; i<LOGFS_NO_AREAS; i++) {
 	           ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#3009: FILE: fs/logfs/journal.c:617:
+	BUG_ON(jpos > sb->s_blocksize);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3017: FILE: fs/logfs/journal.c:625:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3026: FILE: fs/logfs/journal.c:634:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3054: FILE: fs/logfs/journal.c:662:
+	 * then re-reads those entries and copies their contents over. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3077: FILE: fs/logfs/journal.c:685:
+
+

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000434763.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 72 errors, 129 warnings, 283 checks, 3001 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000434763.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
