ERROR:SPACING: space required after that ',' (ctx:VxV)
#49: FILE: drivers/scsi/megaraid/megaraid_sas.c:78:
+int arr[MAX_IOCTL_MEM_POOL] = {MAX_4K_BUFF,MAX_8K_BUFF,MAX_64K_BUFF};
                                           ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#49: FILE: drivers/scsi/megaraid/megaraid_sas.c:78:
+int arr[MAX_IOCTL_MEM_POOL] = {MAX_4K_BUFF,MAX_8K_BUFF,MAX_64K_BUFF};
                                                       ^

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#52: FILE: drivers/scsi/megaraid/megaraid_sas.c:81:
+int arr_size[MAX_IOCTL_MEM_POOL] =
+			{MEGASAS_INIT_IOCTL_MEM_SIZE/* 4k */,

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#53: FILE: drivers/scsi/megaraid/megaraid_sas.c:82:
+			2*MEGASAS_INIT_IOCTL_MEM_SIZE/* 8k */,
 			 ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#54: FILE: drivers/scsi/megaraid/megaraid_sas.c:83:
+			16*MEGASAS_INIT_IOCTL_MEM_SIZE/* 64k */};
 			  ^

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#70: FILE: drivers/scsi/megaraid/megaraid_sas.c:1823:
+megasas_get_ioctl_mem(struct megasas_instance* instance, u8 i)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required before the open parenthesis '('
#75: FILE: drivers/scsi/megaraid/megaraid_sas.c:1828:
+	if(i >= MAX_IOCTL_MEM_POOL)

CHECK:BRACES: braces {} should be used on all arms of this statement
#80: FILE: drivers/scsi/megaraid/megaraid_sas.c:1833:
+	if (!list_empty(&instance->ioctl_memory_pool[i])) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#82: FILE: drivers/scsi/megaraid/megaraid_sas.c:1835:
+		ioctl_mm = list_entry((&instance->ioctl_memory_pool[i])->next,
+				 struct megasas_ioctl_mm, list);

CHECK:BRACES: Unbalanced braces around else statement
#84: FILE: drivers/scsi/megaraid/megaraid_sas.c:1837:
+	} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#85: FILE: drivers/scsi/megaraid/megaraid_sas.c:1838:
+		printk(KERN_DEBUG "megasas: ioctl memory pool empty!\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#100: FILE: drivers/scsi/megaraid/megaraid_sas.c:1853:
+megasas_return_ioctl_mem(struct megasas_instance *instance,
+			struct megasas_ioctl_mm *ioctl_mm, u8 i)

WARNING:LINE_SPACING: Missing a blank line after declarations
#103: FILE: drivers/scsi/megaraid/megaraid_sas.c:1856:
+	unsigned long flags;
+	if(!ioctl_mm){

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required before the open brace '{'
#103: FILE: drivers/scsi/megaraid/megaraid_sas.c:1856:
+	if(!ioctl_mm){

ERROR:SPACING: space required before the open parenthesis '('
#103: FILE: drivers/scsi/megaraid/megaraid_sas.c:1856:
+	if(!ioctl_mm){

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#104: FILE: drivers/scsi/megaraid/megaraid_sas.c:1857:
+		printk(KERN_DEBUG "megasas: Trying to return "

WARNING:SPLIT_STRING: quoted string split across lines
#105: FILE: drivers/scsi/megaraid/megaraid_sas.c:1858:
+		printk(KERN_DEBUG "megasas: Trying to return "
+					"NULL to mem_pool\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:SPACING: space required after that ',' (ctx:VxV)
#121: FILE: drivers/scsi/megaraid/megaraid_sas.c:1874:
+	u32 i,j;
 	     ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#123: FILE: drivers/scsi/megaraid/megaraid_sas.c:1876:
+	u32 mem_size;
+	if(instance->mem_pool_empty)

ERROR:SPACING: space required before the open parenthesis '('
#123: FILE: drivers/scsi/megaraid/megaraid_sas.c:1876:
+	if(instance->mem_pool_empty)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#125: FILE: drivers/scsi/megaraid/megaraid_sas.c:1878:
+	for (i=0; i < MAX_IOCTL_MEM_POOL; i++) {
 	      ^

ERROR:SPACING: space required before the open brace '{'
#130: FILE: drivers/scsi/megaraid/megaraid_sas.c:1883:
+			if (ioctl_mm){

ERROR:SPACING: space required before the open parenthesis '('
#131: FILE: drivers/scsi/megaraid/megaraid_sas.c:1884:
+				if(ioctl_mm->vaddr)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#133: FILE: drivers/scsi/megaraid/megaraid_sas.c:1886:
+					pci_free_consistent(instance->pdev,
+							mem_size,

ERROR:CODE_INDENT: code indent should use tabs where possible
#135: FILE: drivers/scsi/megaraid/megaraid_sas.c:1888:
+^I^I^I^I^I^I ^Iioctl_mm->buf_handle);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#135: FILE: drivers/scsi/megaraid/megaraid_sas.c:1888:
+^I^I^I^I^I^I ^Iioctl_mm->buf_handle);$

WARNING:LINE_SPACING: Missing a blank line after declarations
#160: FILE: drivers/scsi/megaraid/megaraid_sas.c:1913:
+	u32 mem_size;
+	for (i=0; i < MAX_IOCTL_MEM_POOL; i++) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#160: FILE: drivers/scsi/megaraid/megaraid_sas.c:1913:
+	for (i=0; i < MAX_IOCTL_MEM_POOL; i++) {
 	      ^

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#164: FILE: drivers/scsi/megaraid/megaraid_sas.c:1917:
+		for (j = 0; j < arr[i]; j++) {
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#165: FILE: drivers/scsi/megaraid/megaraid_sas.c:1918:
+^I^I^Iioctl_mm = kmalloc(sizeof(struct megasas_ioctl_mm), GFP_KERNEL);^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*ioctl_mm)...) over kmalloc(sizeof(struct megasas_ioctl_mm)...)
#165: FILE: drivers/scsi/megaraid/megaraid_sas.c:1918:
+			ioctl_mm = kmalloc(sizeof(struct megasas_ioctl_mm), GFP_KERNEL);	

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:SPACING: space required before the open brace '{'
#166: FILE: drivers/scsi/megaraid/megaraid_sas.c:1919:
+			if(!ioctl_mm){

ERROR:SPACING: space required before the open parenthesis '('
#166: FILE: drivers/scsi/megaraid/megaraid_sas.c:1919:
+			if(!ioctl_mm){

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#167: FILE: drivers/scsi/megaraid/megaraid_sas.c:1920:
+				printk(KERN_DEBUG "megasas:Failed to alloc "

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#167: FILE: drivers/scsi/megaraid/megaraid_sas.c:1920:
+			if(!ioctl_mm){
+				printk(KERN_DEBUG "megasas:Failed to alloc "

WARNING:SPLIT_STRING: quoted string split across lines
#168: FILE: drivers/scsi/megaraid/megaraid_sas.c:1921:
+				printk(KERN_DEBUG "megasas:Failed to alloc "
+						"init memory for ioctl \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#168: FILE: drivers/scsi/megaraid/megaraid_sas.c:1921:
+						"init memory for ioctl \n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#171: FILE: drivers/scsi/megaraid/megaraid_sas.c:1924:
+			vaddr = pci_alloc_consistent(instance->pdev,mem_size,
 			                                           ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#172: FILE: drivers/scsi/megaraid/megaraid_sas.c:1925:
+			vaddr = pci_alloc_consistent(instance->pdev,mem_size,
+							    &buf_handle);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#174: FILE: drivers/scsi/megaraid/megaraid_sas.c:1927:
+				printk(KERN_DEBUG "megasas:Failed to alloc "

WARNING:SPLIT_STRING: quoted string split across lines
#175: FILE: drivers/scsi/megaraid/megaraid_sas.c:1928:
+				printk(KERN_DEBUG "megasas:Failed to alloc "
+						"memory for ioctl \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#175: FILE: drivers/scsi/megaraid/megaraid_sas.c:1928:
+						"memory for ioctl \n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#182: FILE: drivers/scsi/megaraid/megaraid_sas.c:1935:
+				list_add_tail(&ioctl_mm->list,
+					&instance->ioctl_memory_pool[i]);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#200: FILE: drivers/scsi/megaraid/megaraid_sas.c:1953:
+megasas_get_buff_for_sge(struct megasas_iocpacket *ioc,
+			struct megasas_instance *instance,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#203: FILE: drivers/scsi/megaraid/megaraid_sas.c:1956:
+	int i,n;
 	     ^

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#205: FILE: drivers/scsi/megaraid/megaraid_sas.c:1958:
+	struct megasas_ioctl_mm* ioctl_mm;

WARNING:LINE_SPACING: Missing a blank line after declarations
#206: FILE: drivers/scsi/megaraid/megaraid_sas.c:1959:
+	struct megasas_ioctl_mm* ioctl_mm;
+	if(instance->mem_pool_empty)

ERROR:SPACING: space required before the open parenthesis '('
#206: FILE: drivers/scsi/megaraid/megaraid_sas.c:1959:
+	if(instance->mem_pool_empty)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#214: FILE: drivers/scsi/megaraid/megaraid_sas.c:1967:
+		mem_type=0xff;
 		        ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#216: FILE: drivers/scsi/megaraid/megaraid_sas.c:1969:
+			mem_type=0;
 			        ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#218: FILE: drivers/scsi/megaraid/megaraid_sas.c:1971:
+		else if ((ioc->sgl[i].iov_len > MEGASAS_INIT_IOCTL_MEM_SIZE) &&
+			(ioc->sgl[i].iov_len <= 2*MEGASAS_INIT_IOCTL_MEM_SIZE))

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#218: FILE: drivers/scsi/megaraid/megaraid_sas.c:1971:
+			(ioc->sgl[i].iov_len <= 2*MEGASAS_INIT_IOCTL_MEM_SIZE))
 			                         ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#219: FILE: drivers/scsi/megaraid/megaraid_sas.c:1972:
+			mem_type=1;
 			        ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#220: FILE: drivers/scsi/megaraid/megaraid_sas.c:1973:
+		else if ((ioc->sgl[i].iov_len > 2*MEGASAS_INIT_IOCTL_MEM_SIZE) &&
 		                                 ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#221: FILE: drivers/scsi/megaraid/megaraid_sas.c:1974:
+		else if ((ioc->sgl[i].iov_len > 2*MEGASAS_INIT_IOCTL_MEM_SIZE) &&
+			(ioc->sgl[i].iov_len <= 16*MEGASAS_INIT_IOCTL_MEM_SIZE))

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#221: FILE: drivers/scsi/megaraid/megaraid_sas.c:1974:
+			(ioc->sgl[i].iov_len <= 16*MEGASAS_INIT_IOCTL_MEM_SIZE))
 			                          ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#222: FILE: drivers/scsi/megaraid/megaraid_sas.c:1975:
+			mem_type=2;
 			        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#225: FILE: drivers/scsi/megaraid/megaraid_sas.c:1978:
+^I^I^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#227: FILE: drivers/scsi/megaraid/megaraid_sas.c:1980:
+			cmd->ioctl_mem[i]=ioctl_mm;
 			                 ^

CHECK:BRACES: Unbalanced braces around else statement
#229: FILE: drivers/scsi/megaraid/megaraid_sas.c:1982:
+		} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#240: FILE: drivers/scsi/megaraid/megaraid_sas.c:1993:
+			megasas_return_ioctl_mem(instance,
+				(struct megasas_ioctl_mm *)cmd->ioctl_mem[i],

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#242: FILE: drivers/scsi/megaraid/megaraid_sas.c:1995:
+			cmd->ioctl_mem[i]=NULL;
 			                 ^

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#255: FILE: drivers/scsi/megaraid/megaraid_sas.c:2506:
 static int __devinit

ERROR:SPACING: space required after that ',' (ctx:VxV)
#259: FILE: drivers/scsi/megaraid/megaraid_sas.c:2509:
+	int rval,i;
 	        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#272: FILE: drivers/scsi/megaraid/megaraid_sas.c:2600:
+^I/* $

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#275: FILE: drivers/scsi/megaraid/megaraid_sas.c:2603:
+	for (i=0; i<MAX_IOCTL_MEM_POOL; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#275: FILE: drivers/scsi/megaraid/megaraid_sas.c:2603:
+	for (i=0; i<MAX_IOCTL_MEM_POOL; i++) {
 	           ^

WARNING:BRACES: braces {} are not necessary for single statement blocks
#275: FILE: drivers/scsi/megaraid/megaraid_sas.c:2603:
+	for (i=0; i<MAX_IOCTL_MEM_POOL; i++) {
+		INIT_LIST_HEAD(&instance->ioctl_memory_pool[i]);
+	}

ERROR:SPACING: space required before the open parenthesis '('
#279: FILE: drivers/scsi/megaraid/megaraid_sas.c:2607:
+	if(megasas_setup_mem_pools(instance))

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#280: FILE: drivers/scsi/megaraid/megaraid_sas.c:2608:
+		instance->mem_pool_empty=1;
 		                        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#281: FILE: drivers/scsi/megaraid/megaraid_sas.c:2609:
+^I$

ERROR:CODE_INDENT: code indent should use tabs where possible
#318: FILE: drivers/scsi/megaraid/megaraid_sas.c:2952:
+ ^I/*$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#318: FILE: drivers/scsi/megaraid/megaraid_sas.c:2952:
+ ^I/*$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#318: FILE: drivers/scsi/megaraid/megaraid_sas.c:2952:
+ ^I/*$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#322: FILE: drivers/scsi/megaraid/megaraid_sas.c:2956:
+	if(!megasas_get_buff_for_sge(ioc,instance,cmd))
 	                                ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#322: FILE: drivers/scsi/megaraid/megaraid_sas.c:2956:
+	if(!megasas_get_buff_for_sge(ioc,instance,cmd))
 	                                         ^

ERROR:SPACING: space required before the open parenthesis '('
#322: FILE: drivers/scsi/megaraid/megaraid_sas.c:2956:
+	if(!megasas_get_buff_for_sge(ioc,instance,cmd))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#335: FILE: drivers/scsi/megaraid/megaraid_sas.c:2968:
+			kbuff_arr[i] = pci_alloc_consistent(instance->pdev,
 						    ioc->sgl[i].iov_len,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#343: FILE: drivers/scsi/megaraid/megaraid_sas.c:2971:
+				printk(KERN_DEBUG "megasas: Failed to alloc "

WARNING:SPLIT_STRING: quoted string split across lines
#344: FILE: drivers/scsi/megaraid/megaraid_sas.c:2972:
+				printk(KERN_DEBUG "megasas: Failed to alloc "
+					"kernel SGL buffer for IOCTL \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#344: FILE: drivers/scsi/megaraid/megaraid_sas.c:2972:
+					"kernel SGL buffer for IOCTL \n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#362: FILE: drivers/scsi/megaraid/megaraid_sas.c:3066:
+				megasas_return_ioctl_mem(instance,
+					(struct megasas_ioctl_mm *)cmd->ioctl_mem[i],

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#364: FILE: drivers/scsi/megaraid/megaraid_sas.c:3068:
+				cmd->ioctl_mem_pool_index[i]=0xff;
 				                            ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#365: FILE: drivers/scsi/megaraid/megaraid_sas.c:3069:
+				cmd->ioctl_mem[i]=NULL;
 				                 ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#367: FILE: drivers/scsi/megaraid/megaraid_sas.c:3071:
+^I^I} else $

CHECK:BRACES: Unbalanced braces around else statement
#367: FILE: drivers/scsi/megaraid/megaraid_sas.c:3071:
+		} else 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#369: FILE: drivers/scsi/megaraid/megaraid_sas.c:3073:
+			pci_free_consistent(instance->pdev,
+			    kern_sge32[i].length,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#381: FILE: drivers/scsi/megaraid/megaraid_sas.h:542:
+/* $

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#414: FILE: drivers/scsi/megaraid/megaraid_sas.h:1107:
+	spinlock_t ioctl_memory_pool_lock;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#460: FILE: drivers/scsi/megaraid/megaraid_sas.c:78:
+int arr[MAX_IOCTL_MEM_POOL] = {MAX_4K_BUFF,MAX_8K_BUFF,MAX_64K_BUFF};
                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#460: FILE: drivers/scsi/megaraid/megaraid_sas.c:78:
+int arr[MAX_IOCTL_MEM_POOL] = {MAX_4K_BUFF,MAX_8K_BUFF,MAX_64K_BUFF};
                                                       ^

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#463: FILE: drivers/scsi/megaraid/megaraid_sas.c:81:
+int arr_size[MAX_IOCTL_MEM_POOL] =
+			{MEGASAS_INIT_IOCTL_MEM_SIZE/* 4k */,

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#464: FILE: drivers/scsi/megaraid/megaraid_sas.c:82:
+			2*MEGASAS_INIT_IOCTL_MEM_SIZE/* 8k */,
 			 ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#465: FILE: drivers/scsi/megaraid/megaraid_sas.c:83:
+			16*MEGASAS_INIT_IOCTL_MEM_SIZE/* 64k */};
 			  ^

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#481: FILE: drivers/scsi/megaraid/megaraid_sas.c:1823:
+megasas_get_ioctl_mem(struct megasas_instance* instance, u8 i)

ERROR:SPACING: space required before the open parenthesis '('
#486: FILE: drivers/scsi/megaraid/megaraid_sas.c:1828:
+	if(i >= MAX_IOCTL_MEM_POOL)

CHECK:BRACES: braces {} should be used on all arms of this statement
#491: FILE: drivers/scsi/megaraid/megaraid_sas.c:1833:
+	if (!list_empty(&instance->ioctl_memory_pool[i])) {
[...]
+	} else
[...]

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#493: FILE: drivers/scsi/megaraid/megaraid_sas.c:1835:
+		ioctl_mm = list_entry((&instance->ioctl_memory_pool[i])->next,
+				 struct megasas_ioctl_mm, list);

CHECK:BRACES: Unbalanced braces around else statement
#495: FILE: drivers/scsi/megaraid/megaraid_sas.c:1837:
+	} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#496: FILE: drivers/scsi/megaraid/megaraid_sas.c:1838:
+		printk(KERN_DEBUG "megasas: ioctl memory pool empty!\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#511: FILE: drivers/scsi/megaraid/megaraid_sas.c:1853:
+megasas_return_ioctl_mem(struct megasas_instance *instance,
+			struct megasas_ioctl_mm *ioctl_mm, u8 i)

WARNING:LINE_SPACING: Missing a blank line after declarations
#514: FILE: drivers/scsi/megaraid/megaraid_sas.c:1856:
+	unsigned long flags;
+	if(!ioctl_mm){

ERROR:SPACING: space required before the open brace '{'
#514: FILE: drivers/scsi/megaraid/megaraid_sas.c:1856:
+	if(!ioctl_mm){

ERROR:SPACING: space required before the open parenthesis '('
#514: FILE: drivers/scsi/megaraid/megaraid_sas.c:1856:
+	if(!ioctl_mm){

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#515: FILE: drivers/scsi/megaraid/megaraid_sas.c:1857:
+		printk(KERN_DEBUG "megasas: Trying to return "

WARNING:SPLIT_STRING: quoted string split across lines
#516: FILE: drivers/scsi/megaraid/megaraid_sas.c:1858:
+		printk(KERN_DEBUG "megasas: Trying to return "
+					"NULL to mem_pool\n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#532: FILE: drivers/scsi/megaraid/megaraid_sas.c:1874:
+	u32 i,j;
 	     ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#534: FILE: drivers/scsi/megaraid/megaraid_sas.c:1876:
+	u32 mem_size;
+	if(instance->mem_pool_empty)

ERROR:SPACING: space required before the open parenthesis '('
#534: FILE: drivers/scsi/megaraid/megaraid_sas.c:1876:
+	if(instance->mem_pool_empty)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#536: FILE: drivers/scsi/megaraid/megaraid_sas.c:1878:
+	for (i=0; i < MAX_IOCTL_MEM_POOL; i++) {
 	      ^

ERROR:SPACING: space required before the open brace '{'
#541: FILE: drivers/scsi/megaraid/megaraid_sas.c:1883:
+			if (ioctl_mm){

ERROR:SPACING: space required before the open parenthesis '('
#542: FILE: drivers/scsi/megaraid/megaraid_sas.c:1884:
+				if(ioctl_mm->vaddr)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#544: FILE: drivers/scsi/megaraid/megaraid_sas.c:1886:
+					pci_free_consistent(instance->pdev,
+							mem_size,

ERROR:CODE_INDENT: code indent should use tabs where possible
#546: FILE: drivers/scsi/megaraid/megaraid_sas.c:1888:
+^I^I^I^I^I^I ^Iioctl_mm->buf_handle);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#546: FILE: drivers/scsi/megaraid/megaraid_sas.c:1888:
+^I^I^I^I^I^I ^Iioctl_mm->buf_handle);$

WARNING:LINE_SPACING: Missing a blank line after declarations
#571: FILE: drivers/scsi/megaraid/megaraid_sas.c:1913:
+	u32 mem_size;
+	for (i=0; i < MAX_IOCTL_MEM_POOL; i++) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#571: FILE: drivers/scsi/megaraid/megaraid_sas.c:1913:
+	for (i=0; i < MAX_IOCTL_MEM_POOL; i++) {
 	      ^

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#575: FILE: drivers/scsi/megaraid/megaraid_sas.c:1917:
+		for (j = 0; j < arr[i]; j++) {
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#576: FILE: drivers/scsi/megaraid/megaraid_sas.c:1918:
+^I^I^Iioctl_mm = kmalloc(sizeof(struct megasas_ioctl_mm), GFP_KERNEL);^I$

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*ioctl_mm)...) over kmalloc(sizeof(struct megasas_ioctl_mm)...)
#576: FILE: drivers/scsi/megaraid/megaraid_sas.c:1918:
+			ioctl_mm = kmalloc(sizeof(struct megasas_ioctl_mm), GFP_KERNEL);	

ERROR:SPACING: space required before the open brace '{'
#577: FILE: drivers/scsi/megaraid/megaraid_sas.c:1919:
+			if(!ioctl_mm){

ERROR:SPACING: space required before the open parenthesis '('
#577: FILE: drivers/scsi/megaraid/megaraid_sas.c:1919:
+			if(!ioctl_mm){

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#578: FILE: drivers/scsi/megaraid/megaraid_sas.c:1920:
+				printk(KERN_DEBUG "megasas:Failed to alloc "

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#578: FILE: drivers/scsi/megaraid/megaraid_sas.c:1920:
+			if(!ioctl_mm){
+				printk(KERN_DEBUG "megasas:Failed to alloc "

WARNING:SPLIT_STRING: quoted string split across lines
#579: FILE: drivers/scsi/megaraid/megaraid_sas.c:1921:
+				printk(KERN_DEBUG "megasas:Failed to alloc "
+						"init memory for ioctl \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#579: FILE: drivers/scsi/megaraid/megaraid_sas.c:1921:
+						"init memory for ioctl \n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#582: FILE: drivers/scsi/megaraid/megaraid_sas.c:1924:
+			vaddr = pci_alloc_consistent(instance->pdev,mem_size,
 			                                           ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#583: FILE: drivers/scsi/megaraid/megaraid_sas.c:1925:
+			vaddr = pci_alloc_consistent(instance->pdev,mem_size,
+							    &buf_handle);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#585: FILE: drivers/scsi/megaraid/megaraid_sas.c:1927:
+				printk(KERN_DEBUG "megasas:Failed to alloc "

WARNING:SPLIT_STRING: quoted string split across lines
#586: FILE: drivers/scsi/megaraid/megaraid_sas.c:1928:
+				printk(KERN_DEBUG "megasas:Failed to alloc "
+						"memory for ioctl \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#586: FILE: drivers/scsi/megaraid/megaraid_sas.c:1928:
+						"memory for ioctl \n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#593: FILE: drivers/scsi/megaraid/megaraid_sas.c:1935:
+				list_add_tail(&ioctl_mm->list,
+					&instance->ioctl_memory_pool[i]);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#611: FILE: drivers/scsi/megaraid/megaraid_sas.c:1953:
+megasas_get_buff_for_sge(struct megasas_iocpacket *ioc,
+			struct megasas_instance *instance,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#614: FILE: drivers/scsi/megaraid/megaraid_sas.c:1956:
+	int i,n;
 	     ^

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#616: FILE: drivers/scsi/megaraid/megaraid_sas.c:1958:
+	struct megasas_ioctl_mm* ioctl_mm;

WARNING:LINE_SPACING: Missing a blank line after declarations
#617: FILE: drivers/scsi/megaraid/megaraid_sas.c:1959:
+	struct megasas_ioctl_mm* ioctl_mm;
+	if(instance->mem_pool_empty)

ERROR:SPACING: space required before the open parenthesis '('
#617: FILE: drivers/scsi/megaraid/megaraid_sas.c:1959:
+	if(instance->mem_pool_empty)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#625: FILE: drivers/scsi/megaraid/megaraid_sas.c:1967:
+		mem_type=0xff;
 		        ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#627: FILE: drivers/scsi/megaraid/megaraid_sas.c:1969:
+			mem_type=0;
 			        ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#629: FILE: drivers/scsi/megaraid/megaraid_sas.c:1971:
+		else if ((ioc->sgl[i].iov_len > MEGASAS_INIT_IOCTL_MEM_SIZE) &&
+			(ioc->sgl[i].iov_len <= 2*MEGASAS_INIT_IOCTL_MEM_SIZE))

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#629: FILE: drivers/scsi/megaraid/megaraid_sas.c:1971:
+			(ioc->sgl[i].iov_len <= 2*MEGASAS_INIT_IOCTL_MEM_SIZE))
 			                         ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#630: FILE: drivers/scsi/megaraid/megaraid_sas.c:1972:
+			mem_type=1;
 			        ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#631: FILE: drivers/scsi/megaraid/megaraid_sas.c:1973:
+		else if ((ioc->sgl[i].iov_len > 2*MEGASAS_INIT_IOCTL_MEM_SIZE) &&
 		                                 ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#632: FILE: drivers/scsi/megaraid/megaraid_sas.c:1974:
+		else if ((ioc->sgl[i].iov_len > 2*MEGASAS_INIT_IOCTL_MEM_SIZE) &&
+			(ioc->sgl[i].iov_len <= 16*MEGASAS_INIT_IOCTL_MEM_SIZE))

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#632: FILE: drivers/scsi/megaraid/megaraid_sas.c:1974:
+			(ioc->sgl[i].iov_len <= 16*MEGASAS_INIT_IOCTL_MEM_SIZE))
 			                          ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#633: FILE: drivers/scsi/megaraid/megaraid_sas.c:1975:
+			mem_type=2;
 			        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#636: FILE: drivers/scsi/megaraid/megaraid_sas.c:1978:
+^I^I^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#638: FILE: drivers/scsi/megaraid/megaraid_sas.c:1980:
+			cmd->ioctl_mem[i]=ioctl_mm;
 			                 ^

CHECK:BRACES: Unbalanced braces around else statement
#640: FILE: drivers/scsi/megaraid/megaraid_sas.c:1982:
+		} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#651: FILE: drivers/scsi/megaraid/megaraid_sas.c:1993:
+			megasas_return_ioctl_mem(instance,
+				(struct megasas_ioctl_mm *)cmd->ioctl_mem[i],

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#653: FILE: drivers/scsi/megaraid/megaraid_sas.c:1995:
+			cmd->ioctl_mem[i]=NULL;
 			                 ^

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#666: FILE: drivers/scsi/megaraid/megaraid_sas.c:2506:
 static int __devinit

ERROR:SPACING: space required after that ',' (ctx:VxV)
#670: FILE: drivers/scsi/megaraid/megaraid_sas.c:2509:
+	int rval,i;
 	        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#683: FILE: drivers/scsi/megaraid/megaraid_sas.c:2600:
+^I/* $

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#686: FILE: drivers/scsi/megaraid/megaraid_sas.c:2603:
+	for (i=0; i<MAX_IOCTL_MEM_POOL; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#686: FILE: drivers/scsi/megaraid/megaraid_sas.c:2603:
+	for (i=0; i<MAX_IOCTL_MEM_POOL; i++) {
 	           ^

WARNING:BRACES: braces {} are not necessary for single statement blocks
#686: FILE: drivers/scsi/megaraid/megaraid_sas.c:2603:
+	for (i=0; i<MAX_IOCTL_MEM_POOL; i++) {
+		INIT_LIST_HEAD(&instance->ioctl_memory_pool[i]);
+	}

ERROR:SPACING: space required before the open parenthesis '('
#690: FILE: drivers/scsi/megaraid/megaraid_sas.c:2607:
+	if(megasas_setup_mem_pools(instance))

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#691: FILE: drivers/scsi/megaraid/megaraid_sas.c:2608:
+		instance->mem_pool_empty=1;
 		                        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#692: FILE: drivers/scsi/megaraid/megaraid_sas.c:2609:
+^I$

ERROR:CODE_INDENT: code indent should use tabs where possible
#729: FILE: drivers/scsi/megaraid/megaraid_sas.c:2952:
+ ^I/*$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#729: FILE: drivers/scsi/megaraid/megaraid_sas.c:2952:
+ ^I/*$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#729: FILE: drivers/scsi/megaraid/megaraid_sas.c:2952:
+ ^I/*$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#733: FILE: drivers/scsi/megaraid/megaraid_sas.c:2956:
+	if(!megasas_get_buff_for_sge(ioc,instance,cmd))
 	                                ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#733: FILE: drivers/scsi/megaraid/megaraid_sas.c:2956:
+	if(!megasas_get_buff_for_sge(ioc,instance,cmd))
 	                                         ^

ERROR:SPACING: space required before the open parenthesis '('
#733: FILE: drivers/scsi/megaraid/megaraid_sas.c:2956:
+	if(!megasas_get_buff_for_sge(ioc,instance,cmd))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#746: FILE: drivers/scsi/megaraid/megaraid_sas.c:2968:
+			kbuff_arr[i] = pci_alloc_consistent(instance->pdev,
 						    ioc->sgl[i].iov_len,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#754: FILE: drivers/scsi/megaraid/megaraid_sas.c:2971:
+				printk(KERN_DEBUG "megasas: Failed to alloc "

WARNING:SPLIT_STRING: quoted string split across lines
#755: FILE: drivers/scsi/megaraid/megaraid_sas.c:2972:
+				printk(KERN_DEBUG "megasas: Failed to alloc "
+					"kernel SGL buffer for IOCTL \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#755: FILE: drivers/scsi/megaraid/megaraid_sas.c:2972:
+					"kernel SGL buffer for IOCTL \n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#773: FILE: drivers/scsi/megaraid/megaraid_sas.c:3066:
+				megasas_return_ioctl_mem(instance,
+					(struct megasas_ioctl_mm *)cmd->ioctl_mem[i],

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#775: FILE: drivers/scsi/megaraid/megaraid_sas.c:3068:
+				cmd->ioctl_mem_pool_index[i]=0xff;
 				                            ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#776: FILE: drivers/scsi/megaraid/megaraid_sas.c:3069:
+				cmd->ioctl_mem[i]=NULL;
 				                 ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#778: FILE: drivers/scsi/megaraid/megaraid_sas.c:3071:
+^I^I} else $

CHECK:BRACES: Unbalanced braces around else statement
#778: FILE: drivers/scsi/megaraid/megaraid_sas.c:3071:
+		} else 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#780: FILE: drivers/scsi/megaraid/megaraid_sas.c:3073:
+			pci_free_consistent(instance->pdev,
+			    kern_sge32[i].length,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#792: FILE: drivers/scsi/megaraid/megaraid_sas.h:542:
+/* $

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#825: FILE: drivers/scsi/megaraid/megaraid_sas.h:1107:
+	spinlock_t ioctl_memory_pool_lock;

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000470308.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 86 errors, 44 warnings, 48 checks, 768 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000470308.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
