WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#34: 
reduces memory overhead for consumers that use lots of QPs with small queues

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#286: FILE: drivers/infiniband/hw/ehca/ehca_pd.c:91:
+	extern struct kmem_cache *small_qp_cache;

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#339: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:287:
+				struct ehca_alloc_queue_parms *parms,
 				                               ^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#434: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:596:
+	parms.squeue.max_wr = init_attr->cap.max_send_wr;
 	^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#435: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:597:
+	parms.rqueue.max_wr = init_attr->cap.max_recv_wr;
 	^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#436: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:598:
+	parms.squeue.max_sge = max_send_sge;
 	^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#437: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:599:
+	parms.rqueue.max_sge = max_recv_sge;
 	^^^^^

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#440: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:602:
+	if (EHCA_BMASK_GET(HCA_CAP_MINI_QP, shca->hca_cap)
+	    && !(context && udata)) { /* no small QP support in userspace ATM */

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#441: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:603:
+		ehca_determine_small_queue(

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#442: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:604:
+			&parms.squeue, max_send_sge, is_llqp);
 			 ^^^^^

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#443: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:605:
+		ehca_determine_small_queue(

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#444: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:606:
+			&parms.rqueue, max_recv_sge, is_llqp);
 			 ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#445: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:607:
+		parms.qp_storage =
 		^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#446: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:608:
+			(parms.squeue.is_small || parms.rqueue.is_small);
 			 ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#446: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:608:
+			(parms.squeue.is_small || parms.rqueue.is_small);
 			                          ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#455: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:623:
+	swqe_size = ehca_calc_wqe_size(parms.squeue.act_nr_sges, is_llqp);
 	                               ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#456: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:624:
+	rwqe_size = ehca_calc_wqe_size(parms.rqueue.act_nr_sges, is_llqp);
 	                               ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#478: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:629:
+			parms.squeue.act_nr_sges = 1;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#479: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:630:
+			parms.rqueue.act_nr_sges = 1;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#492: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:638:
+			parms.squeue.act_nr_sges = 1;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#493: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:639:
+			parms.rqueue.act_nr_sges = 1;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#502: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:641:
+			parms.squeue.act_nr_sges -= 2;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#503: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:642:
+			parms.rqueue.act_nr_sges -= 2;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#511: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:646:
+			parms.squeue.act_nr_wqes = init_attr->cap.max_send_wr;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#512: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:647:
+			parms.rqueue.act_nr_wqes = init_attr->cap.max_recv_wr;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#513: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:648:
+			parms.squeue.act_nr_sges = init_attr->cap.max_send_sge;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#514: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:649:
+			parms.rqueue.act_nr_sges = init_attr->cap.max_recv_sge;
 			^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#527: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:664:
+			&parms.squeue, swqe_size);
 			 ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#539: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:675:
+			H_SUCCESS, &parms.rqueue, rwqe_size);
 			            ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#551: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:705:
+	init_attr->cap.max_recv_sge = parms.rqueue.act_nr_sges;
 	                              ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#552: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:706:
+	init_attr->cap.max_recv_wr = parms.rqueue.act_nr_wqes;
 	                             ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#553: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:707:
+	init_attr->cap.max_send_sge = parms.squeue.act_nr_sges;
 	                              ^^^^^

WARNING:TYPO_SPELLING: 'parms' may be misspelled - perhaps 'params'?
#554: FILE: drivers/infiniband/hw/ehca/ehca_qp.c:708:
+	init_attr->cap.max_send_wr = parms.squeue.act_nr_wqes;
 	                             ^^^^^

CHECK:BRACES: Unbalanced braces around else statement
#795: FILE: drivers/infiniband/hw/ehca/ipz_pt_fn.c:136:
+	else {

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPLIT_STRING: quoted string split across lines
#866: FILE: drivers/infiniband/hw/ehca/ipz_pt_fn.c:207:
+		ehca_gen_err("FATAL ERROR: pagesize=%x "
+			     "is greater than kernel page size", pagesize);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#891: FILE: drivers/infiniband/hw/ehca/ipz_pt_fn.c:223:
+	if (!queue->queue_pages) {
+		ehca_gen_err("Couldn't allocate queue page list");

CHECK:BRACES: Unbalanced braces around else statement
#900: FILE: drivers/infiniband/hw/ehca/ipz_pt_fn.c:232:
+	} else

WARNING:SPLIT_STRING: quoted string split across lines
#908: FILE: drivers/infiniband/hw/ehca/ipz_pt_fn.c:240:
+	ehca_gen_err("Couldn't alloc pages queue=%p "
+		 "nr_of_pages=%x",  queue, nr_of_pages);

CHECK:BRACES: braces {} should be used on all arms of this statement
#930: FILE: drivers/infiniband/hw/ehca/ipz_pt_fn.c:255:
+	if (queue->small_page)
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#932: FILE: drivers/infiniband/hw/ehca/ipz_pt_fn.c:257:
+	else {

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000403077.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 33 warnings, 7 checks, 885 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000403077.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
