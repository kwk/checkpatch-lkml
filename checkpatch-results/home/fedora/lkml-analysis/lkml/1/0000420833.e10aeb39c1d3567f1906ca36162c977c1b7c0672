WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#23: 
Tested on the AT32AP7000/ATSTK1000. Driver does only suport time, wake up and a

WARNING:TYPO_SPELLING: 'suport' may be misspelled - perhaps 'support'?
#23: 
Tested on the AT32AP7000/ATSTK1000. Driver does only suport time, wake up and a
                                                     ^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#47: FILE: drivers/rtc/Kconfig:316:
+config RTC_DRV_AT32AP700X
+	tristate "AT32AP700X series RTC"
+	depends on RTC_CLASS && PLATFORM_AT32AP
+	help
+	  Driver for the internal RTC (Realtime Clock) on Atmel AVR32
+	  AT32AP700x family processors.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#70: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#75: FILE: drivers/rtc/rtc-at32ap700x.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#90: FILE: drivers/rtc/rtc-at32ap700x.c:16:
+#include <asm/io.h>

ERROR:SPACING: space required after that ',' (ctx:VxV)
#128: FILE: drivers/rtc/rtc-at32ap700x.c:54:
+#define RTC_BF(name,value)	((value) << RTC_##name)
                    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#130: FILE: drivers/rtc/rtc-at32ap700x.c:56:
+#define rtc_readl(dev,reg)				\
                      ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#132: FILE: drivers/rtc/rtc-at32ap700x.c:58:
+#define rtc_writel(dev,reg,value)			\
                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#132: FILE: drivers/rtc/rtc-at32ap700x.c:58:
+#define rtc_writel(dev,reg,value)			\
                           ^

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#140: FILE: drivers/rtc/rtc-at32ap700x.c:66:
+	spinlock_t		lock;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#230: FILE: drivers/rtc/rtc-at32ap700x.c:156:
+static int at32_rtc_ioctl(struct device *dev, unsigned int cmd,
+			unsigned long arg)

WARNING:CONST_STRUCT: struct rtc_class_ops should normally be const
#289: FILE: drivers/rtc/rtc-at32ap700x.c:215:
+static struct rtc_class_ops at32_rtc_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*rtc)...) over kzalloc(sizeof(struct rtc_at32ap700x)...)
#304: FILE: drivers/rtc/rtc-at32ap700x.c:230:
+	rtc = kzalloc(sizeof(struct rtc_at32ap700x), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#306: FILE: drivers/rtc/rtc-at32ap700x.c:232:
+	if (!rtc) {
+		dev_dbg(&pdev->dev, "out of memory\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#353: FILE: drivers/rtc/rtc-at32ap700x.c:279:
+	rtc->rtc = rtc_device_register(pdev->name, &pdev->dev,
+				&at32_rtc_ops, THIS_MODULE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#363: FILE: drivers/rtc/rtc-at32ap700x.c:289:
+	dev_info(&pdev->dev, "Atmel RTC for AT32AP700x at %08lx irq %ld\n",
+			(unsigned long)rtc->regs, rtc->irq);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000420833.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 4 errors, 8 warnings, 5 checks, 357 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000420833.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
