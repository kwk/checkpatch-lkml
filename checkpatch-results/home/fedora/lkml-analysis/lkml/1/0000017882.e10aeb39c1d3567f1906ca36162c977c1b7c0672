WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#90: FILE: arch/x86/Kconfig.debug:118:
+config DEBUG_SET_MODULE_RONX
+	bool "Set loadable kernel module data as NX and text as RO"
+	default n
+	depends on X86 && MODULES
+	---help---
+	  This option helps to catch unintended modifications to loadable
+	  kernel module's text and read-only data. It also prevents execution
+	  of LKM's data. Such protection may interfere with run-time code
+	  patching and dynamic kernel tracing.
+	  If in doubt, say "N".
+

Kconfig symbols should have a help text which fully describes
it.

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#160: FILE: include/linux/module.h:667:
module_get_iter_tracepoints(struct tracepoint_iter *iter)

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

ERROR:FUNCTION_WITHOUT_ARGS: Bad function definition - void set_all_modules_text_rw() should probably be void set_all_modules_text_rw(void)
#164: FILE: include/linux/module.h:671:
+static inline void set_all_modules_text_rw()

Function declarations without arguments like::

  int foo()

should be::

  int foo(void)

ERROR:FUNCTION_WITHOUT_ARGS: Bad function definition - void set_all_modules_text_ro() should probably be void set_all_modules_text_ro(void)
#168: FILE: include/linux/module.h:675:
+static inline void set_all_modules_text_ro()

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'BASE' - possible side-effects?
#205: FILE: kernel/module.c:90:
+#define NUMBER_OF_PAGES(BASE, SIZE) ((SIZE > 0) ?		\
+		(PFN_DOWN((unsigned long)BASE + SIZE - 1) -	\
+			 PFN_DOWN((unsigned long)BASE) + 1)	\
+		: (0UL))

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'BASE' may be better as '(BASE)' to avoid precedence issues
#205: FILE: kernel/module.c:90:
+#define NUMBER_OF_PAGES(BASE, SIZE) ((SIZE > 0) ?		\
+		(PFN_DOWN((unsigned long)BASE + SIZE - 1) -	\
+			 PFN_DOWN((unsigned long)BASE) + 1)	\
+		: (0UL))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'SIZE' - possible side-effects?
#205: FILE: kernel/module.c:90:
+#define NUMBER_OF_PAGES(BASE, SIZE) ((SIZE > 0) ?		\
+		(PFN_DOWN((unsigned long)BASE + SIZE - 1) -	\
+			 PFN_DOWN((unsigned long)BASE) + 1)	\
+		: (0UL))

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'SIZE' may be better as '(SIZE)' to avoid precedence issues
#205: FILE: kernel/module.c:90:
+#define NUMBER_OF_PAGES(BASE, SIZE) ((SIZE > 0) ?		\
+		(PFN_DOWN((unsigned long)BASE + SIZE - 1) -	\
+			 PFN_DOWN((unsigned long)BASE) + 1)	\
+		: (0UL))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#223: FILE: kernel/module.c:1402:
+static void set_section_ro_nx(void *base,
+			unsigned long text_size,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#241: FILE: kernel/module.c:1420:
+			set_memory_ro(begin_pfn << PAGE_SHIFT,
+						end_pfn - begin_pfn);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#254: FILE: kernel/module.c:1433:
+			set_memory_nx(begin_pfn << PAGE_SHIFT,
+						end_pfn - begin_pfn);

ERROR:FUNCTION_WITHOUT_ARGS: Bad function definition - void set_all_modules_text_rw() should probably be void set_all_modules_text_rw(void)
#278: FILE: kernel/module.c:1457:
+void set_all_modules_text_rw()

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->module_core'
#286: FILE: kernel/module.c:1465:
+		if ((mod->module_core) && (mod->core_text_size > 0)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->core_text_size > 0'
#286: FILE: kernel/module.c:1465:
+		if ((mod->module_core) && (mod->core_text_size > 0)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#292: FILE: kernel/module.c:1471:
+				set_memory_rw(begin_pfn << PAGE_SHIFT,
+							end_pfn - begin_pfn);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->module_init'
#294: FILE: kernel/module.c:1473:
+		if ((mod->module_init) && (mod->init_text_size > 0)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->init_text_size > 0'
#294: FILE: kernel/module.c:1473:
+		if ((mod->module_init) && (mod->init_text_size > 0)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#300: FILE: kernel/module.c:1479:
+				set_memory_rw(begin_pfn << PAGE_SHIFT,
+							end_pfn - begin_pfn);

ERROR:FUNCTION_WITHOUT_ARGS: Bad function definition - void set_all_modules_text_ro() should probably be void set_all_modules_text_ro(void)
#307: FILE: kernel/module.c:1486:
+void set_all_modules_text_ro()

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->module_core'
#315: FILE: kernel/module.c:1494:
+		if ((mod->module_core) && (mod->core_text_size > 0)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->core_text_size > 0'
#315: FILE: kernel/module.c:1494:
+		if ((mod->module_core) && (mod->core_text_size > 0)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#321: FILE: kernel/module.c:1500:
+				set_memory_ro(begin_pfn << PAGE_SHIFT,
+							end_pfn - begin_pfn);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->module_init'
#323: FILE: kernel/module.c:1502:
+		if ((mod->module_init) && (mod->init_text_size > 0)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->init_text_size > 0'
#323: FILE: kernel/module.c:1502:
+		if ((mod->module_init) && (mod->init_text_size > 0)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#329: FILE: kernel/module.c:1508:
+				set_memory_ro(begin_pfn << PAGE_SHIFT,
+							end_pfn - begin_pfn);

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#335: FILE: kernel/module.c:1514:
+static void set_section_ro_nx(void *base,
+			unsigned long text_size,
+			unsigned long ro_size,
+			unsigned long total_size) { }

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#336: FILE: kernel/module.c:1515:
+static void set_section_ro_nx(void *base,
+			unsigned long text_size,

ERROR:FUNCTION_WITHOUT_ARGS: Bad function definition - void set_all_modules_text_rw() should probably be void set_all_modules_text_rw(void)
#341: FILE: kernel/module.c:1520:
+void set_all_modules_text_rw() { }

ERROR:FUNCTION_WITHOUT_ARGS: Bad function definition - void set_all_modules_text_ro() should probably be void set_all_modules_text_ro(void)
#342: FILE: kernel/module.c:1521:
+void set_all_modules_text_ro() { }

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#413: FILE: kernel/module.c:2560:
+	set_section_ro_nx(mod->module_core,
+				mod->core_text_size,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#419: FILE: kernel/module.c:2566:
+	set_section_ro_nx(mod->module_init,
+				mod->init_text_size,

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000017882.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 8 errors, 1 warnings, 22 checks, 321 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000017882.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
