WARNING:COMMIT_COMMENT_SYMBOL: Commit log lines starting with '#' are dropped by git as comments
#36: 
# HG changeset patch

Commit log lines starting with a '#' are ignored by git as
comments.  To solve this problem addition of a single space
infront of the log line is enough.

WARNING:COMMIT_COMMENT_SYMBOL: Commit log lines starting with '#' are dropped by git as comments
#37: 
# User Hans Verkuil <hverkuil@xs4all.nl>

WARNING:COMMIT_COMMENT_SYMBOL: Commit log lines starting with '#' are dropped by git as comments
#38: 
# Date 1227453585 -3600

WARNING:COMMIT_COMMENT_SYMBOL: Commit log lines starting with '#' are dropped by git as comments
#39: 
# Node ID aaf944b194f95c0cc47603c1fc5105cca073c7db

WARNING:COMMIT_COMMENT_SYMBOL: Commit log lines starting with '#' are dropped by git as comments
#40: 
# Parent d9ec70c0b0c55e18813f91218c6da6212ca9b7e6

ERROR:TRAILING_WHITESPACE: trailing whitespace
#70: FILE: linux/drivers/media/video/v4l2-common.c:807:
+void v4l2_i2c_subdev_init(struct v4l2_subdev *sd, struct i2c_client $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#71: FILE: linux/drivers/media/video/v4l2-common.c:807:
*client,

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#82: FILE: linux/drivers/media/video/v4l2-common.c:818:
+	snprintf(sd->name, sizeof(sd->name), "%s %d-%04x",
+		client->driver->driver.name, i2c_adapter_id(client->adapter),

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#87: FILE: linux/drivers/media/video/v4l2-common.c:823:
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 22)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#87: FILE: linux/drivers/media/video/v4l2-common.c:823:
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 22)

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#89: FILE: linux/drivers/media/video/v4l2-common.c:825:
+/* Supporting function to find a client on a specific address on the
+   given adapter. Used for legacy i2c drivers. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#89: FILE: linux/drivers/media/video/v4l2-common.c:825:
+   given adapter. Used for legacy i2c drivers. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#90: FILE: linux/drivers/media/video/v4l2-common.c:826:
+static struct i2c_client *v4l2_i2c_legacy_find_client(struct $

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#97: FILE: linux/drivers/media/video/v4l2-common.c:832:
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2, 6, 16)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#97: FILE: linux/drivers/media/video/v4l2-common.c:832:
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2, 6, 16)

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#109: FILE: linux/drivers/media/video/v4l2-common.c:844:
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2, 6, 16)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#109: FILE: linux/drivers/media/video/v4l2-common.c:844:
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2, 6, 16)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#118: FILE: linux/drivers/media/video/v4l2-common.c:853:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#120: FILE: linux/drivers/media/video/v4l2-common.c:855:
+/* Load an i2c sub-device. It assumes that i2c_get_adapdata(adapter)
+   returns the v4l2_device and that i2c_get_clientdata(client)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#121: FILE: linux/drivers/media/video/v4l2-common.c:856:
+   returns the v4l2_subdev. */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#123: FILE: linux/drivers/media/video/v4l2-common.c:858:
+struct v4l2_subdev *v4l2_i2c_new_subdev(struct i2c_adapter *adapter,
+		const char *module_name, const char *client_type, u8 addr)

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#128: FILE: linux/drivers/media/video/v4l2-common.c:863:
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 22)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#128: FILE: linux/drivers/media/video/v4l2-common.c:863:
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 22)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#132: FILE: linux/drivers/media/video/v4l2-common.c:867:
+	BUG_ON(!dev);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#137: FILE: linux/drivers/media/video/v4l2-common.c:872:
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 22)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#137: FILE: linux/drivers/media/video/v4l2-common.c:872:
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 22)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#139: FILE: linux/drivers/media/video/v4l2-common.c:874:
+	/* Setup the i2c board info with the device type and
+	   the device address. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#139: FILE: linux/drivers/media/video/v4l2-common.c:874:
+	   the device address. */

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#141: FILE: linux/drivers/media/video/v4l2-common.c:876:
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 26)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#141: FILE: linux/drivers/media/video/v4l2-common.c:876:
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 26)

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#142: FILE: linux/drivers/media/video/v4l2-common.c:877:
+	strlcpy(info.driver_name, client_type, sizeof(info.driver_name));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#144: FILE: linux/drivers/media/video/v4l2-common.c:879:
+	strlcpy(info.type, client_type, sizeof(info.type));

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#152: FILE: linux/drivers/media/video/v4l2-common.c:887:
+	/* Legacy code: loading the module automatically
+	   probes and creates the i2c_client on the adapter.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#153: FILE: linux/drivers/media/video/v4l2-common.c:888:
+	   Try to find the client by walking the adapter's client list. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#157: FILE: linux/drivers/media/video/v4l2-common.c:892:
+	/* Note: it is possible in the future that
+	   c->driver is NULL if the driver is still being loaded.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#159: FILE: linux/drivers/media/video/v4l2-common.c:894:
+	   can easily wait for the load to finish. */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!client"
#160: FILE: linux/drivers/media/video/v4l2-common.c:895:
+	if (client == NULL || client->driver == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!client->driver"
#160: FILE: linux/drivers/media/video/v4l2-common.c:895:
+	if (client == NULL || client->driver == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#169: FILE: linux/drivers/media/video/v4l2-common.c:904:
+	/* Register with the v4l2_device which increases the module's
+	   use count as well. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#169: FILE: linux/drivers/media/video/v4l2-common.c:904:
+	   use count as well. */

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#176: FILE: linux/drivers/media/video/v4l2-common.c:911:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#179: FILE: linux/drivers/media/video/v4l2-common.c:914:
+/* Probe and load an i2c sub-device. It assumes that $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#181: FILE: linux/drivers/media/video/v4l2-common.c:915:
+/* Probe and load an i2c sub-device. It assumes that 
+   returns the v4l2_device and that i2c_get_clientdata(client)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#182: FILE: linux/drivers/media/video/v4l2-common.c:916:
+   returns the v4l2_subdev. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#183: FILE: linux/drivers/media/video/v4l2-common.c:917:
+struct v4l2_subdev *v4l2_i2c_new_probed_subdev(struct i2c_adapter $

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#191: FILE: linux/drivers/media/video/v4l2-common.c:924:
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 22)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#191: FILE: linux/drivers/media/video/v4l2-common.c:924:
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 22)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#195: FILE: linux/drivers/media/video/v4l2-common.c:928:
+	BUG_ON(!dev);

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#200: FILE: linux/drivers/media/video/v4l2-common.c:933:
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 22)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#200: FILE: linux/drivers/media/video/v4l2-common.c:933:
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 22)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#202: FILE: linux/drivers/media/video/v4l2-common.c:935:
+	/* Setup the i2c board info with the device type and
+	   the device address. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#202: FILE: linux/drivers/media/video/v4l2-common.c:935:
+	   the device address. */

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#204: FILE: linux/drivers/media/video/v4l2-common.c:937:
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 26)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#204: FILE: linux/drivers/media/video/v4l2-common.c:937:
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 26)

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#205: FILE: linux/drivers/media/video/v4l2-common.c:938:
+	strlcpy(info.driver_name, client_type, sizeof(info.driver_name));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#207: FILE: linux/drivers/media/video/v4l2-common.c:940:
+	strlcpy(info.type, client_type, sizeof(info.type));

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#214: FILE: linux/drivers/media/video/v4l2-common.c:947:
+	/* Legacy code: loading the module should automatically
+	   probe and create the i2c_client on the adapter.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#216: FILE: linux/drivers/media/video/v4l2-common.c:949:
+	   for each of the possible addresses. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#221: FILE: linux/drivers/media/video/v4l2-common.c:954:
+	/* Note: it is possible in the future that
+	   c->driver is NULL if the driver is still being loaded.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#223: FILE: linux/drivers/media/video/v4l2-common.c:956:
+	   can easily wait for the load to finish. */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!client"
#224: FILE: linux/drivers/media/video/v4l2-common.c:957:
+	if (client == NULL || client->driver == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!client->driver"
#224: FILE: linux/drivers/media/video/v4l2-common.c:957:
+	if (client == NULL || client->driver == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#233: FILE: linux/drivers/media/video/v4l2-common.c:966:
+	/* Register with the v4l2_device which increases the module's
+	   use count as well. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#233: FILE: linux/drivers/media/video/v4l2-common.c:966:
+	   use count as well. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#251: FILE: linux/include/media/v4l2-common.h:58:
+/* ------------------------------------------------------------------------- $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#253: FILE: linux/include/media/v4l2-common.h:59:
+/* ------------------------------------------------------------------------- 
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#254: FILE: linux/include/media/v4l2-common.h:60:
+/* These printk constructs can be used with v4l2_device and v4l2_subdev $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#256: FILE: linux/include/media/v4l2-common.h:61:
+/* These printk constructs can be used with v4l2_device and v4l2_subdev 
+#define v4l2_printk(level, dev, fmt, arg...) \

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#269: FILE: linux/include/media/v4l2-common.h:74:
+/* These three macros assume that the debug level is set with a module
+   parameter called 'debug'. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#269: FILE: linux/include/media/v4l2-common.h:74:
+   parameter called 'debug'. */

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'debug' may be better as '(debug)' to avoid precedence issues
#270: FILE: linux/include/media/v4l2-common.h:75:
+#define v4l2_dbg(level, debug, dev, fmt, arg...)			\
+	do { 								\
+		if (debug >= (level))					\
+			v4l2_printk(KERN_DEBUG, dev, fmt , ## arg); 	\
 	} while (0)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#271: FILE: linux/include/media/v4l2-common.h:76:
+^Ido { ^I^I^I^I^I^I^I^I\$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#273: FILE: linux/include/media/v4l2-common.h:78:
+^I^I^Iv4l2_printk(KERN_DEBUG, dev, fmt , ## arg); ^I\$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#273: FILE: linux/include/media/v4l2-common.h:78:
+			v4l2_printk(KERN_DEBUG, dev, fmt , ## arg); 	\
 			                                 ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:CONST_STRUCT: struct v4l2_subdev_ops should normally be const
#284: FILE: linux/include/media/v4l2-common.h:132:
+struct v4l2_subdev_ops;

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#292: FILE: linux/include/media/v4l2-common.h:139:
+/* Load an i2c module and return an initialized v4l2_subdev struct.
+   Only call request_module if module_name != NULL.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#293: FILE: linux/include/media/v4l2-common.h:140:
+   The client_type argument is the name of the chip that's on the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#297: FILE: linux/include/media/v4l2-common.h:143:
+/* Probe and load an i2c module and return an initialized v4l2_subdev $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#299: FILE: linux/include/media/v4l2-common.h:144:
+/* Probe and load an i2c module and return an initialized v4l2_subdev 
+   Only call request_module if module_name != NULL.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#300: FILE: linux/include/media/v4l2-common.h:145:
+   The client_type argument is the name of the chip that's on the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#302: FILE: linux/include/media/v4l2-common.h:146:
+struct v4l2_subdev *v4l2_i2c_new_probed_subdev(struct i2c_adapter $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#307: FILE: linux/include/media/v4l2-common.h:150:
+void v4l2_i2c_subdev_init(struct v4l2_subdev *sd, struct i2c_client $

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000199661.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 13 errors, 60 warnings, 9 checks, 251 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000199661.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
