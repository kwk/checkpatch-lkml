WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#67: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#72: FILE: drivers/video/backlight/adp8870_bl.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:LINE_SPACING: Please don't use multiple blank lines
#96: FILE: drivers/video/backlight/adp8870_bl.c:25:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#97: FILE: drivers/video/backlight/adp8870_bl.c:26:
+#define ADP8870_MFDVID ^I0x00  /* Manufacturer and device ID */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#98: FILE: drivers/video/backlight/adp8870_bl.c:27:
+#define ADP8870_MDCR ^I0x01  /* Device mode and status */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#100: FILE: drivers/video/backlight/adp8870_bl.c:29:
+#define ADP8870_INT_EN ^I0x03  /* Interrupts enable */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#101: FILE: drivers/video/backlight/adp8870_bl.c:30:
+#define ADP8870_CFGR ^I0x04  /* Configuration register */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#102: FILE: drivers/video/backlight/adp8870_bl.c:31:
+#define ADP8870_BLSEL ^I0x05  /* Sink enable backlight or independent */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#103: FILE: drivers/video/backlight/adp8870_bl.c:32:
+#define ADP8870_PWMLED ^I0x06  /* PWM Enable Selection Register */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#104: FILE: drivers/video/backlight/adp8870_bl.c:33:
+#define ADP8870_BLOFF ^I0x07  /* Backlight off timeout */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#105: FILE: drivers/video/backlight/adp8870_bl.c:34:
+#define ADP8870_BLDIM ^I0x08  /* Backlight dim timeout */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#106: FILE: drivers/video/backlight/adp8870_bl.c:35:
+#define ADP8870_BLFR ^I0x09  /* Backlight fade in and out rates */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#107: FILE: drivers/video/backlight/adp8870_bl.c:36:
+#define ADP8870_BLMX1 ^I0x0A  /* Backlight (Brightness Level 1-daylight) maximum current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#108: FILE: drivers/video/backlight/adp8870_bl.c:37:
+#define ADP8870_BLDM1 ^I0x0B  /* Backlight (Brightness Level 1-daylight) dim current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#109: FILE: drivers/video/backlight/adp8870_bl.c:38:
+#define ADP8870_BLMX2 ^I0x0C  /* Backlight (Brightness Level 2-bright) maximum current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#110: FILE: drivers/video/backlight/adp8870_bl.c:39:
+#define ADP8870_BLDM2 ^I0x0D  /* Backlight (Brightness Level 2-bright) dim current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#111: FILE: drivers/video/backlight/adp8870_bl.c:40:
+#define ADP8870_BLMX3 ^I0x0E  /* Backlight (Brightness Level 3-office) maximum current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#112: FILE: drivers/video/backlight/adp8870_bl.c:41:
+#define ADP8870_BLDM3 ^I0x0F  /* Backlight (Brightness Level 3-office) dim current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#113: FILE: drivers/video/backlight/adp8870_bl.c:42:
+#define ADP8870_BLMX4 ^I0x10  /* Backlight (Brightness Level 4-indoor) maximum current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#114: FILE: drivers/video/backlight/adp8870_bl.c:43:
+#define ADP8870_BLDM4 ^I0x11  /* Backlight (Brightness Level 4-indoor) dim current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#115: FILE: drivers/video/backlight/adp8870_bl.c:44:
+#define ADP8870_BLMX5 ^I0x12  /* Backlight (Brightness Level 5-dark) maximum current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#116: FILE: drivers/video/backlight/adp8870_bl.c:45:
+#define ADP8870_BLDM5 ^I0x13  /* Backlight (Brightness Level 5-dark) dim current */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#117: FILE: drivers/video/backlight/adp8870_bl.c:46:
+#define ADP8870_ISCLAW ^I0x1A  /* Independent sink current fade law register */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#118: FILE: drivers/video/backlight/adp8870_bl.c:47:
+#define ADP8870_ISCC ^I0x1B  /* Independent sink current control register */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#119: FILE: drivers/video/backlight/adp8870_bl.c:48:
+#define ADP8870_ISCT1 ^I0x1C  /* Independent Sink Current Timer Register LED[7:5] */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#120: FILE: drivers/video/backlight/adp8870_bl.c:49:
+#define ADP8870_ISCT2 ^I0x1D  /* Independent Sink Current Timer Register LED[4:1] */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#121: FILE: drivers/video/backlight/adp8870_bl.c:50:
+#define ADP8870_ISCF ^I0x1E  /* Independent sink current fade register */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#122: FILE: drivers/video/backlight/adp8870_bl.c:51:
+#define ADP8870_ISC1 ^I0x1F  /* Independent Sink Current LED1 */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#123: FILE: drivers/video/backlight/adp8870_bl.c:52:
+#define ADP8870_ISC2 ^I0x20  /* Independent Sink Current LED2 */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#124: FILE: drivers/video/backlight/adp8870_bl.c:53:
+#define ADP8870_ISC3 ^I0x21  /* Independent Sink Current LED3 */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#125: FILE: drivers/video/backlight/adp8870_bl.c:54:
+#define ADP8870_ISC4 ^I0x22  /* Independent Sink Current LED4 */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#126: FILE: drivers/video/backlight/adp8870_bl.c:55:
+#define ADP8870_ISC5 ^I0x23  /* Independent Sink Current LED5 */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#127: FILE: drivers/video/backlight/adp8870_bl.c:56:
+#define ADP8870_ISC6 ^I0x24  /* Independent Sink Current LED6 */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#128: FILE: drivers/video/backlight/adp8870_bl.c:57:
+#define ADP8870_ISC7 ^I0x25  /* Independent Sink Current LED7 (Brightness Level 1-daylight) */$

WARNING:TYPO_SPELLING: 'ALS' may be misspelled - perhaps 'ALSO'?
#133: FILE: drivers/video/backlight/adp8870_bl.c:62:
+#define ADP8870_CMP_CTL 0x2D  /* ALS Comparator Control Register */
                                  ^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'ALS' may be misspelled - perhaps 'ALSO'?
#134: FILE: drivers/video/backlight/adp8870_bl.c:63:
+#define ADP8870_ALS1_EN 0x2E  /* Main ALS comparator level enable */
                                       ^^^

WARNING:TYPO_SPELLING: 'ALS' may be misspelled - perhaps 'ALSO'?
#135: FILE: drivers/video/backlight/adp8870_bl.c:64:
+#define ADP8870_ALS2_EN 0x2F  /* Second ALS comparator level enable */
                                         ^^^

WARNING:TYPO_SPELLING: 'ALS' may be misspelled - perhaps 'ALSO'?
#136: FILE: drivers/video/backlight/adp8870_bl.c:65:
+#define ADP8870_ALS1_STAT 0x30  /* Main ALS Comparator Status Register */
                                         ^^^

WARNING:TYPO_SPELLING: 'ALS' may be misspelled - perhaps 'ALSO'?
#137: FILE: drivers/video/backlight/adp8870_bl.c:66:
+#define ADP8870_ALS2_STAT 0x31  /* Second ALS Comparator Status Register */
                                           ^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#138: FILE: drivers/video/backlight/adp8870_bl.c:67:
+#define ADP8870_L2TRP ^I0x32  /* L2 comparator reference */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#139: FILE: drivers/video/backlight/adp8870_bl.c:68:
+#define ADP8870_L2HYS ^I0x33  /* L2 hysteresis */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#140: FILE: drivers/video/backlight/adp8870_bl.c:69:
+#define ADP8870_L3TRP ^I0x34  /* L3 comparator reference */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#141: FILE: drivers/video/backlight/adp8870_bl.c:70:
+#define ADP8870_L3HYS ^I0x35  /* L3 hysteresis */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#142: FILE: drivers/video/backlight/adp8870_bl.c:71:
+#define ADP8870_L4TRP ^I0x36  /* L4 comparator reference */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#143: FILE: drivers/video/backlight/adp8870_bl.c:72:
+#define ADP8870_L4HYS ^I0x37  /* L4 hysteresis */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#144: FILE: drivers/video/backlight/adp8870_bl.c:73:
+#define ADP8870_L5TRP ^I0x38  /* L5 comparator reference */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#145: FILE: drivers/video/backlight/adp8870_bl.c:74:
+#define ADP8870_L5HYS ^I0x39  /* L5 hysteresis */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#156: FILE: drivers/video/backlight/adp8870_bl.c:85:
+#define D7ALSEN      ^I^I(1 << 7)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#156: FILE: drivers/video/backlight/adp8870_bl.c:85:
+#define D7ALSEN      		(1 << 7)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#157: FILE: drivers/video/backlight/adp8870_bl.c:86:
+#define INT_CFG      ^I^I(1 << 6)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#157: FILE: drivers/video/backlight/adp8870_bl.c:86:
+#define INT_CFG      		(1 << 6)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#158: FILE: drivers/video/backlight/adp8870_bl.c:87:
+#define NSTBY        ^I^I(1 << 5)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#158: FILE: drivers/video/backlight/adp8870_bl.c:87:
+#define NSTBY        		(1 << 5)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#159: FILE: drivers/video/backlight/adp8870_bl.c:88:
+#define DIM_EN       ^I^I(1 << 4)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#159: FILE: drivers/video/backlight/adp8870_bl.c:88:
+#define DIM_EN       		(1 << 4)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#160: FILE: drivers/video/backlight/adp8870_bl.c:89:
+#define GDWN_DIS     ^I^I(1 << 3)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#160: FILE: drivers/video/backlight/adp8870_bl.c:89:
+#define GDWN_DIS     		(1 << 3)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#161: FILE: drivers/video/backlight/adp8870_bl.c:90:
+#define SIS_EN       ^I^I(1 << 2)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#161: FILE: drivers/video/backlight/adp8870_bl.c:90:
+#define SIS_EN       		(1 << 2)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#162: FILE: drivers/video/backlight/adp8870_bl.c:91:
+#define CMP_AUTOEN   ^I^I(1 << 1)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#162: FILE: drivers/video/backlight/adp8870_bl.c:91:
+#define CMP_AUTOEN   		(1 << 1)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#163: FILE: drivers/video/backlight/adp8870_bl.c:92:
+#define BLEN         ^I^I(1 << 0)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#163: FILE: drivers/video/backlight/adp8870_bl.c:92:
+#define BLEN         		(1 << 0)

WARNING:TYPO_SPELLING: 'ALS' may be misspelled - perhaps 'ALSO'?
#165: FILE: drivers/video/backlight/adp8870_bl.c:94:
+/* ADP8870_ALS1_EN Main ALS comparator level enable */
                         ^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#166: FILE: drivers/video/backlight/adp8870_bl.c:95:
+#define L5_EN         ^I^I(1 << 3)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#166: FILE: drivers/video/backlight/adp8870_bl.c:95:
+#define L5_EN         		(1 << 3)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#167: FILE: drivers/video/backlight/adp8870_bl.c:96:
+#define L4_EN         ^I^I(1 << 2)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#167: FILE: drivers/video/backlight/adp8870_bl.c:96:
+#define L4_EN         		(1 << 2)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#168: FILE: drivers/video/backlight/adp8870_bl.c:97:
+#define L3_EN         ^I^I(1 << 1)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#168: FILE: drivers/video/backlight/adp8870_bl.c:97:
+#define L3_EN         		(1 << 1)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#169: FILE: drivers/video/backlight/adp8870_bl.c:98:
+#define L2_EN         ^I^I(1 << 0)$

CHECK:BIT_MACRO: Prefer using the BIT macro
#169: FILE: drivers/video/backlight/adp8870_bl.c:98:
+#define L2_EN         		(1 << 0)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'filt' may be better as '(filt)' to avoid precedence issues
#177: FILE: drivers/video/backlight/adp8870_bl.c:106:
+#define ALS_CMPR_CFG_VAL(filt)	((0x7 & filt) << 1)

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#184: FILE: drivers/video/backlight/adp8870_bl.c:113:
+	struct mutex lock;

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#193: FILE: drivers/video/backlight/adp8870_bl.c:122:
+^Istruct i2c_client ^I*client;$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#200: FILE: drivers/video/backlight/adp8870_bl.c:129:
+static int adp8870_read(struct i2c_client *client,
+				int reg, uint8_t *val)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#214: FILE: drivers/video/backlight/adp8870_bl.c:143:
+
+

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#223: FILE: drivers/video/backlight/adp8870_bl.c:152:
+	uint8_t reg_val;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#242: FILE: drivers/video/backlight/adp8870_bl.c:171:
+	uint8_t reg_val;

WARNING:LINE_SPACING: Missing a blank line after declarations
#265: FILE: drivers/video/backlight/adp8870_bl.c:194:
+	struct adp8870_led *led = container_of(work, struct adp8870_led, work);
+	adp8870_write(led->client, ADP8870_ISC1 + led->id - 1,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#266: FILE: drivers/video/backlight/adp8870_bl.c:195:
+	adp8870_write(led->client, ADP8870_ISC1 + led->id - 1,
+			 led->new_brightness >> 1);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#270: FILE: drivers/video/backlight/adp8870_bl.c:199:
+static void adp8870_led_set(struct led_classdev *led_cdev,
+			   enum led_brightness value)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#297: FILE: drivers/video/backlight/adp8870_bl.c:226:
+static int __devinit adp8870_led_probe(struct i2c_client *client)

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#306: FILE: drivers/video/backlight/adp8870_bl.c:235:
+	led = kzalloc(sizeof(*led) * pdata->num_leds, GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!led"
#307: FILE: drivers/video/backlight/adp8870_bl.c:236:
+	if (led == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#308: FILE: drivers/video/backlight/adp8870_bl.c:237:
+	if (led == NULL) {
+		dev_err(&client->dev, "failed to alloc memory\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#314: FILE: drivers/video/backlight/adp8870_bl.c:243:
+	ret = adp8870_write(client, ADP8870_ISCT1,
+			(pdata->led_on_time & 0x3) << 6);

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#382: FILE: drivers/video/backlight/adp8870_bl.c:311:
+static int __devexit adp8870_led_remove(struct i2c_client *client)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#398: FILE: drivers/video/backlight/adp8870_bl.c:327:
+static int __devinit adp8870_led_probe(struct i2c_client *client)

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#403: FILE: drivers/video/backlight/adp8870_bl.c:332:
+static int __devexit adp8870_led_remove(struct i2c_client *client)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'brightness > 0'
#416: FILE: drivers/video/backlight/adp8870_bl.c:345:
+		if ((brightness > 0) && (brightness < ADP8870_MAX_BRIGHTNESS)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'brightness < ADP8870_MAX_BRIGHTNESS'
#416: FILE: drivers/video/backlight/adp8870_bl.c:345:
+		if ((brightness > 0) && (brightness < ADP8870_MAX_BRIGHTNESS)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#451: FILE: drivers/video/backlight/adp8870_bl.c:380:
+	int brightness = bl->props.brightness;
+	if (bl->props.power != FB_BLANK_UNBLANK)

WARNING:CONST_STRUCT: struct backlight_ops should normally be const
#467: FILE: drivers/video/backlight/adp8870_bl.c:396:
+static struct backlight_ops adp8870_bl_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#517: FILE: drivers/video/backlight/adp8870_bl.c:446:
+
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#534: FILE: drivers/video/backlight/adp8870_bl.c:463:
+	uint8_t reg_val;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#547: FILE: drivers/video/backlight/adp8870_bl.c:476:
+static ssize_t adp8870_store(struct device *dev, const char *buf,
+			 size_t count, int reg)

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#553: FILE: drivers/video/backlight/adp8870_bl.c:482:
+	ret = strict_strtoul(buf, 10, &val);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#565: FILE: drivers/video/backlight/adp8870_bl.c:494:
+static ssize_t adp8870_bl_l5_dark_max_show(struct device *dev,
+		struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#571: FILE: drivers/video/backlight/adp8870_bl.c:500:
+static ssize_t adp8870_bl_l5_dark_max_store(struct device *dev,
+		struct device_attribute *attr, const char *buf, size_t count)

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#574: FILE: drivers/video/backlight/adp8870_bl.c:503:
+}

The permissions used in DEVICE_ATTR are unusual.
Typically only three permissions are used - 0644 (RW), 0444 (RO)
and 0200 (WO).

See: https://www.kernel.org/doc/html/latest/filesystems/sysfs.html#attributes

CHECK:LINE_SPACING: Please don't use multiple blank lines
#578: FILE: drivers/video/backlight/adp8870_bl.c:507:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#580: FILE: drivers/video/backlight/adp8870_bl.c:509:
+static ssize_t adp8870_bl_l4_indoor_max_show(struct device *dev,
+		struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#586: FILE: drivers/video/backlight/adp8870_bl.c:515:
+static ssize_t adp8870_bl_l4_indoor_max_store(struct device *dev,
+		struct device_attribute *attr, const char *buf, size_t count)

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#589: FILE: drivers/video/backlight/adp8870_bl.c:518:
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#593: FILE: drivers/video/backlight/adp8870_bl.c:522:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#595: FILE: drivers/video/backlight/adp8870_bl.c:524:
+static ssize_t adp8870_bl_l3_office_max_show(struct device *dev,
+				     struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#601: FILE: drivers/video/backlight/adp8870_bl.c:530:
+static ssize_t adp8870_bl_l3_office_max_store(struct device *dev,
+		struct device_attribute *attr, const char *buf, size_t count)

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#604: FILE: drivers/video/backlight/adp8870_bl.c:533:
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#610: FILE: drivers/video/backlight/adp8870_bl.c:539:
+static ssize_t adp8870_bl_l2_bright_max_show(struct device *dev,
+		struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#616: FILE: drivers/video/backlight/adp8870_bl.c:545:
+static ssize_t adp8870_bl_l2_bright_max_store(struct device *dev,
+		struct device_attribute *attr, const char *buf, size_t count)

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#619: FILE: drivers/video/backlight/adp8870_bl.c:548:
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#624: FILE: drivers/video/backlight/adp8870_bl.c:553:
+static ssize_t adp8870_bl_l1_daylight_max_show(struct device *dev,
+			struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#630: FILE: drivers/video/backlight/adp8870_bl.c:559:
+static ssize_t adp8870_bl_l1_daylight_max_store(struct device *dev,
+		struct device_attribute *attr, const char *buf, size_t count)

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#634: FILE: drivers/video/backlight/adp8870_bl.c:563:
+	strict_strtoul(buf, 10, &data->cached_daylight_max);

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#636: FILE: drivers/video/backlight/adp8870_bl.c:565:
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#641: FILE: drivers/video/backlight/adp8870_bl.c:570:
+static ssize_t adp8870_bl_l5_dark_dim_show(struct device *dev,
+			struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#647: FILE: drivers/video/backlight/adp8870_bl.c:576:
+static ssize_t adp8870_bl_l5_dark_dim_store(struct device *dev,
+				     struct device_attribute *attr,

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#651: FILE: drivers/video/backlight/adp8870_bl.c:580:
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#656: FILE: drivers/video/backlight/adp8870_bl.c:585:
+static ssize_t adp8870_bl_l4_indoor_dim_show(struct device *dev,
+			struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#662: FILE: drivers/video/backlight/adp8870_bl.c:591:
+static ssize_t adp8870_bl_l4_indoor_dim_store(struct device *dev,
+				     struct device_attribute *attr,

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#666: FILE: drivers/video/backlight/adp8870_bl.c:595:
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#670: FILE: drivers/video/backlight/adp8870_bl.c:599:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#672: FILE: drivers/video/backlight/adp8870_bl.c:601:
+static ssize_t adp8870_bl_l3_office_dim_show(struct device *dev,
+			struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#678: FILE: drivers/video/backlight/adp8870_bl.c:607:
+static ssize_t adp8870_bl_l3_office_dim_store(struct device *dev,
+				     struct device_attribute *attr,

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#682: FILE: drivers/video/backlight/adp8870_bl.c:611:
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#687: FILE: drivers/video/backlight/adp8870_bl.c:616:
+static ssize_t adp8870_bl_l2_bright_dim_show(struct device *dev,
+			struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#693: FILE: drivers/video/backlight/adp8870_bl.c:622:
+static ssize_t adp8870_bl_l2_bright_dim_store(struct device *dev,
+				     struct device_attribute *attr,

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#697: FILE: drivers/video/backlight/adp8870_bl.c:626:
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#702: FILE: drivers/video/backlight/adp8870_bl.c:631:
+static ssize_t adp8870_bl_l1_daylight_dim_show(struct device *dev,
+				     struct device_attribute *attr, char *buf)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#708: FILE: drivers/video/backlight/adp8870_bl.c:637:
+static ssize_t adp8870_bl_l1_daylight_dim_store(struct device *dev,
+				     struct device_attribute *attr,

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#712: FILE: drivers/video/backlight/adp8870_bl.c:641:
+}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#718: FILE: drivers/video/backlight/adp8870_bl.c:647:
+static ssize_t adp8870_bl_ambient_light_level_show(struct device *dev,
+				     struct device_attribute *attr, char *buf)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#722: FILE: drivers/video/backlight/adp8870_bl.c:651:
+	uint8_t reg_val;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#723: FILE: drivers/video/backlight/adp8870_bl.c:652:
+	uint16_t ret_val;

WARNING:DEVICE_ATTR_FUNCTIONS: Consider renaming function(s) 'adp8870_bl_ambient_light_level_show' to 'ambient_light_level_show'
#741: FILE: drivers/video/backlight/adp8870_bl.c:670:
+}

The function names used in DEVICE_ATTR is unusual.
Typically, the store and show functions are used with <attr>_store and
<attr>_show, where <attr> is a named attribute variable of the device.

Consider the following examples::

  static DEVICE_ATTR(type, 0444, type_show, NULL);
  static DEVICE_ATTR(power, 0644, power_show, power_store);

The function names should preferably follow the above pattern.

See: https://www.kernel.org/doc/html/latest/driver-api/driver-model/device.html#attributes

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#746: FILE: drivers/video/backlight/adp8870_bl.c:675:
+static ssize_t adp8870_bl_ambient_light_zone_show(struct device *dev,
+				     struct device_attribute *attr, char *buf)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#750: FILE: drivers/video/backlight/adp8870_bl.c:679:
+	uint8_t reg_val;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#764: FILE: drivers/video/backlight/adp8870_bl.c:693:
+static ssize_t adp8870_bl_ambient_light_zone_store(struct device *dev,
+				     struct device_attribute *attr,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#769: FILE: drivers/video/backlight/adp8870_bl.c:698:
+	uint8_t reg_val;

WARNING:CONSIDER_KSTRTO: strict_strtoul is obsolete, use kstrtoul instead
#772: FILE: drivers/video/backlight/adp8870_bl.c:701:
+	ret = strict_strtoul(buf, 10, &val);

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions '0664' used
#793: FILE: drivers/video/backlight/adp8870_bl.c:722:
+}

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#821: FILE: drivers/video/backlight/adp8870_bl.c:750:
+static int __devinit adp8870_probe(struct i2c_client *client,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#822: FILE: drivers/video/backlight/adp8870_bl.c:751:
+static int __devinit adp8870_probe(struct i2c_client *client,
+					const struct i2c_device_id *id)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#829: FILE: drivers/video/backlight/adp8870_bl.c:758:
+	uint8_t reg_val;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#833: FILE: drivers/video/backlight/adp8870_bl.c:762:
+	if (!i2c_check_functionality(client->adapter,
+					I2C_FUNC_SMBUS_BYTE_DATA)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!data"
#855: FILE: drivers/video/backlight/adp8870_bl.c:784:
+	if (data == NULL)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#867: FILE: drivers/video/backlight/adp8870_bl.c:796:
+	bl = backlight_device_register(dev_driver_string(&client->dev),
+			&client->dev, data, &adp8870_bl_ops);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#881: FILE: drivers/video/backlight/adp8870_bl.c:810:
+		ret = sysfs_create_group(&bl->dev.kobj,
+			&adp8870_bl_attr_group);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#906: FILE: drivers/video/backlight/adp8870_bl.c:835:
+		sysfs_remove_group(&data->bl->dev.kobj,
+			&adp8870_bl_attr_group);

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#916: FILE: drivers/video/backlight/adp8870_bl.c:845:
+static int __devexit adp8870_remove(struct i2c_client *client)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#927: FILE: drivers/video/backlight/adp8870_bl.c:856:
+		sysfs_remove_group(&data->bl->dev.kobj,
+			&adp8870_bl_attr_group);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#995: FILE: include/linux/i2c/adp8870.h:1:
+/*

CHECK:BIT_MACRO: Prefer using the BIT macro
#1018: FILE: include/linux/i2c/adp8870.h:24:
+#define ADP8870_LED_OFFT_600ms	(1 << FLAG_OFFT_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#1039: FILE: include/linux/i2c/adp8870.h:45:
+#define ADP8870_BL_D7		(1 << 6)

CHECK:BIT_MACRO: Prefer using the BIT macro
#1040: FILE: include/linux/i2c/adp8870.h:46:
+#define ADP8870_BL_D6		(1 << 5)

CHECK:BIT_MACRO: Prefer using the BIT macro
#1041: FILE: include/linux/i2c/adp8870.h:47:
+#define ADP8870_BL_D5		(1 << 4)

CHECK:BIT_MACRO: Prefer using the BIT macro
#1042: FILE: include/linux/i2c/adp8870.h:48:
+#define ADP8870_BL_D4		(1 << 3)

CHECK:BIT_MACRO: Prefer using the BIT macro
#1043: FILE: include/linux/i2c/adp8870.h:49:
+#define ADP8870_BL_D3		(1 << 2)

CHECK:BIT_MACRO: Prefer using the BIT macro
#1044: FILE: include/linux/i2c/adp8870.h:50:
+#define ADP8870_BL_D2		(1 << 1)

CHECK:BIT_MACRO: Prefer using the BIT macro
#1045: FILE: include/linux/i2c/adp8870.h:51:
+#define ADP8870_BL_D1		(1 << 0)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1064: FILE: include/linux/i2c/adp8870.h:70:
+#define ADP8870_FADE_LAW_LINEAR ^I0$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1065: FILE: include/linux/i2c/adp8870.h:71:
+#define ADP8870_FADE_LAW_SQUARE ^I1$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1066: FILE: include/linux/i2c/adp8870.h:72:
+#define ADP8870_FADE_LAW_CUBIC1 ^I2$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1067: FILE: include/linux/i2c/adp8870.h:73:
+#define ADP8870_FADE_LAW_CUBIC2 ^I3$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1069: FILE: include/linux/i2c/adp8870.h:75:
+#define ADP8870_BL_AMBL_FILT_80ms ^I0^I/* Light sensor filter time */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1070: FILE: include/linux/i2c/adp8870.h:76:
+#define ADP8870_BL_AMBL_FILT_160ms ^I1$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1071: FILE: include/linux/i2c/adp8870.h:77:
+#define ADP8870_BL_AMBL_FILT_320ms ^I2$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1072: FILE: include/linux/i2c/adp8870.h:78:
+#define ADP8870_BL_AMBL_FILT_640ms ^I3$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1073: FILE: include/linux/i2c/adp8870.h:79:
+#define ADP8870_BL_AMBL_FILT_1280ms ^I4$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1074: FILE: include/linux/i2c/adp8870.h:80:
+#define ADP8870_BL_AMBL_FILT_2560ms ^I5$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1075: FILE: include/linux/i2c/adp8870.h:81:
+#define ADP8870_BL_AMBL_FILT_5120ms ^I6$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1076: FILE: include/linux/i2c/adp8870.h:82:
+#define ADP8870_BL_AMBL_FILT_10240ms ^I7^I/* 10.24 sec */$

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'I' may be better as '(I)' to avoid precedence issues
#1081: FILE: include/linux/i2c/adp8870.h:87:
+#define ADP8870_BL_CUR_mA(I)		((I * 127) / 30)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'I' may be better as '(I)' to avoid precedence issues
#1086: FILE: include/linux/i2c/adp8870.h:92:
+#define ADP8870_L2_COMP_CURR_uA(I)	((I * 255) / 1106)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'I' may be better as '(I)' to avoid precedence issues
#1091: FILE: include/linux/i2c/adp8870.h:97:
+#define ADP8870_L3_COMP_CURR_uA(I)	((I * 255) / 551)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'I' may be better as '(I)' to avoid precedence issues
#1096: FILE: include/linux/i2c/adp8870.h:102:
+#define ADP8870_L4_COMP_CURR_uA(I)	((I * 255) / 275)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'I' may be better as '(I)' to avoid precedence issues
#1101: FILE: include/linux/i2c/adp8870.h:107:
+#define ADP8870_L5_COMP_CURR_uA(I)	((I * 255) / 138)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000031188.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 99 warnings, 79 checks, 1090 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000031188.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
