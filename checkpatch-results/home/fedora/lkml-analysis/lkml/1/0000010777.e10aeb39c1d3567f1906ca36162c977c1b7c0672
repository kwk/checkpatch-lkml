CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#67: FILE: arch/x86/include/asm/kvm_emulate.h:73:
+	int (*fetch)(unsigned long addr, void *val,
+			unsigned int bytes, struct kvm_vcpu *vcpu, u32 *error);

CHECK:BIT_MACRO: Prefer using the BIT macro
#188: FILE: arch/x86/kvm/mmu.h:45:
+#define PFERR_PRESENT_MASK (1U << 0)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:BIT_MACRO: Prefer using the BIT macro
#189: FILE: arch/x86/kvm/mmu.h:46:
+#define PFERR_WRITE_MASK (1U << 1)

CHECK:BIT_MACRO: Prefer using the BIT macro
#190: FILE: arch/x86/kvm/mmu.h:47:
+#define PFERR_USER_MASK (1U << 2)

CHECK:BIT_MACRO: Prefer using the BIT macro
#191: FILE: arch/x86/kvm/mmu.h:48:
+#define PFERR_RSVD_MASK (1U << 3)

CHECK:BIT_MACRO: Prefer using the BIT macro
#192: FILE: arch/x86/kvm/mmu.h:49:
+#define PFERR_FETCH_MASK (1U << 4)

WARNING:LINE_SPACING: Missing a blank line after declarations
#241: FILE: arch/x86/kvm/x86.c:3045:
+	u32 access = (kvm_x86_ops->get_cpl(vcpu) == 3) ? PFERR_USER_MASK : 0;
+	return vcpu->arch.mmu.gva_to_gpa(vcpu, gva, access, error);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#244: FILE: arch/x86/kvm/x86.c:3048:
+ gpa_t kvm_mmu_gva_to_gpa_fetch(struct kvm_vcpu *vcpu, gva_t gva, u32 *error)$

WARNING:LINE_SPACING: Missing a blank line after declarations
#247: FILE: arch/x86/kvm/x86.c:3051:
+	u32 access = (kvm_x86_ops->get_cpl(vcpu) == 3) ? PFERR_USER_MASK : 0;
+	access |= PFERR_FETCH_MASK;

WARNING:LINE_SPACING: Missing a blank line after declarations
#254: FILE: arch/x86/kvm/x86.c:3058:
+	u32 access = (kvm_x86_ops->get_cpl(vcpu) == 3) ? PFERR_USER_MASK : 0;
+	access |= PFERR_WRITE_MASK;

WARNING:LINE_SPACING: Missing a blank line after declarations
#286: FILE: arch/x86/kvm/x86.c:3104:
+	u32 access = (kvm_x86_ops->get_cpl(vcpu) == 3) ? PFERR_USER_MASK : 0;
+	return kvm_read_guest_virt_helper(addr, val, bytes, vcpu,

WARNING:LINE_SPACING: Missing a blank line after declarations
#294: FILE: arch/x86/kvm/x86.c:3112:
+	u32 access = (kvm_x86_ops->get_cpl(vcpu) == 3) ? PFERR_USER_MASK : 0;
+	return kvm_read_guest_virt_helper(addr, val, bytes, vcpu, access,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#299: FILE: arch/x86/kvm/x86.c:3117:
+static int kvm_read_guest_virt_system(gva_t addr, void *val, unsigned int bytes,
+			       struct kvm_vcpu *vcpu, u32 *error)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#448: FILE: arch/x86/kvm/x86.c:4725:
+	return kvm_read_guest_virt_system(dtable.base + index*8,
 	                                                     ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#459: FILE: arch/x86/kvm/x86.c:4741:
+	return kvm_write_guest_virt(dtable.base + index*8, seg_desc, sizeof(*seg_desc), vcpu, NULL);
 	                                               ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#463: FILE: arch/x86/kvm/x86.c:4745:
+static gpa_t get_tss_base_addr_write(struct kvm_vcpu *vcpu,
+			       struct desc_struct *seg_desc)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#472: FILE: arch/x86/kvm/x86.c:4753:
+static gpa_t get_tss_base_addr_read(struct kvm_vcpu *vcpu,
 			     struct desc_struct *seg_desc)

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000010777.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 6 warnings, 11 checks, 434 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000010777.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
