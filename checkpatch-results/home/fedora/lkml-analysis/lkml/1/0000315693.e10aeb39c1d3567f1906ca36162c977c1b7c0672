ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#100: FILE: include/linux/kernel.h:200:
+struct printk_ratelimit_state
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#101: FILE: include/linux/kernel.h:201:
+       unsigned long toks;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#102: FILE: include/linux/kernel.h:202:
+       unsigned long last_jiffies;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#103: FILE: include/linux/kernel.h:203:
+       int missed;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#104: FILE: include/linux/kernel.h:204:
+       int limit_jiffies;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#105: FILE: include/linux/kernel.h:205:
+       int limit_burst;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#106: FILE: include/linux/kernel.h:206:
+       char const *facility;$

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#111: FILE: include/linux/kernel.h:209:
ratelimit_burst);

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#112: FILE: include/linux/kernel.h:210:
+extern int __printk_ratelimit(int ratelimit_jiffies, int

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

ERROR:CODE_INDENT: code indent should use tabs where possible
#114: FILE: include/linux/kernel.h:211:
+                               struct printk_ratelimit_state *state);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#114: FILE: include/linux/kernel.h:211:
+                               struct printk_ratelimit_state *state);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#136: FILE: kernel/printk.c:1245:
+                       int ratelimit_burst,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#136: FILE: kernel/printk.c:1245:
+                       int ratelimit_burst,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#137: FILE: kernel/printk.c:1246:
+                       struct printk_ratelimit_state *state)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#137: FILE: kernel/printk.c:1246:
+                       struct printk_ratelimit_state *state)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#156: FILE: kernel/printk.c:1253:
+       state->toks += now - state->last_jiffies;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#158: FILE: kernel/printk.c:1255:
+       if ((state->limit_jiffies != ratelimit_jiffies) ||$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#158: FILE: kernel/printk.c:1255:
+       if ((state->limit_jiffies != ratelimit_jiffies) ||
[...]
+               state->toks = ratelimit_burst * ratelimit_jiffies;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'state->limit_jiffies != ratelimit_jiffies'
#158: FILE: kernel/printk.c:1255:
+       if ((state->limit_jiffies != ratelimit_jiffies) ||
+           (state->limit_burst != ratelimit_burst)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'state->limit_burst != ratelimit_burst'
#158: FILE: kernel/printk.c:1255:
+       if ((state->limit_jiffies != ratelimit_jiffies) ||
+           (state->limit_burst != ratelimit_burst)) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#159: FILE: kernel/printk.c:1256:
+           (state->limit_burst != ratelimit_burst)) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#159: FILE: kernel/printk.c:1256:
+           (state->limit_burst != ratelimit_burst)) {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#160: FILE: kernel/printk.c:1257:
+               state->toks = ratelimit_burst * ratelimit_jiffies;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#160: FILE: kernel/printk.c:1257:
+               state->toks = ratelimit_burst * ratelimit_jiffies;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#161: FILE: kernel/printk.c:1258:
+               state->limit_jiffies = ratelimit_jiffies;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#161: FILE: kernel/printk.c:1258:
+               state->limit_jiffies = ratelimit_jiffies;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#162: FILE: kernel/printk.c:1259:
+               state->limit_burst = ratelimit_burst;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#162: FILE: kernel/printk.c:1259:
+               state->limit_burst = ratelimit_burst;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#163: FILE: kernel/printk.c:1260:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#164: FILE: kernel/printk.c:1261:
+       state->last_jiffies = now;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#165: FILE: kernel/printk.c:1262:
+       if (state->toks > (ratelimit_burst * ratelimit_jiffies))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#165: FILE: kernel/printk.c:1262:
+       if (state->toks > (ratelimit_burst * ratelimit_jiffies))
+               state->toks = ratelimit_burst * ratelimit_jiffies;

ERROR:CODE_INDENT: code indent should use tabs where possible
#166: FILE: kernel/printk.c:1263:
+               state->toks = ratelimit_burst * ratelimit_jiffies;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#166: FILE: kernel/printk.c:1263:
+               state->toks = ratelimit_burst * ratelimit_jiffies;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#167: FILE: kernel/printk.c:1264:
+       if (state->toks >= ratelimit_jiffies) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#167: FILE: kernel/printk.c:1264:
+       if (state->toks >= ratelimit_jiffies) {
+               int lost = state->missed;

ERROR:CODE_INDENT: code indent should use tabs where possible
#168: FILE: kernel/printk.c:1265:
+               int lost = state->missed;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#168: FILE: kernel/printk.c:1265:
+               int lost = state->missed;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#169: FILE: kernel/printk.c:1266:
+               state->missed = 0;$

WARNING:LINE_SPACING: Missing a blank line after declarations
#169: FILE: kernel/printk.c:1266:
+               int lost = state->missed;
+               state->missed = 0;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#169: FILE: kernel/printk.c:1266:
+               state->missed = 0;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#170: FILE: kernel/printk.c:1267:
+               state->toks -= ratelimit_jiffies;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#170: FILE: kernel/printk.c:1267:
+               state->toks -= ratelimit_jiffies;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#175: FILE: kernel/printk.c:1269:
+               if (lost) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#175: FILE: kernel/printk.c:1269:
+               if (lost) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#175: FILE: kernel/printk.c:1269:
+               if (lost) {
+                       pr_warning("%s ratelimit suppressed message

ERROR:CODE_INDENT: code indent should use tabs where possible
#176: FILE: kernel/printk.c:1270:
+                       pr_warning("%s ratelimit suppressed message$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#176: FILE: kernel/printk.c:1270:
+                       pr_warning("%s ratelimit suppressed message$

ERROR:CODE_INDENT: code indent should use tabs where possible
#178: FILE: kernel/printk.c:1271:
+                               state->facility, lost);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#178: FILE: kernel/printk.c:1271:
+                               state->facility, lost);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#179: FILE: kernel/printk.c:1272:
+               }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#179: FILE: kernel/printk.c:1272:
+               }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#183: FILE: kernel/printk.c:1275:
+       state->missed++;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#191: FILE: kernel/printk.c:1289:
+       static struct printk_ratelimit_state limit_state = {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#192: FILE: kernel/printk.c:1290:
+               .toks          = 10 * 5 * HZ,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#192: FILE: kernel/printk.c:1290:
+               .toks          = 10 * 5 * HZ,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#193: FILE: kernel/printk.c:1291:
+               .last_jiffies  = 0,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#193: FILE: kernel/printk.c:1291:
+               .last_jiffies  = 0,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#194: FILE: kernel/printk.c:1292:
+               .missed        = 0,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#194: FILE: kernel/printk.c:1292:
+               .missed        = 0,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#195: FILE: kernel/printk.c:1293:
+               .limit_jiffies = 5 * HZ,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#195: FILE: kernel/printk.c:1293:
+               .limit_jiffies = 5 * HZ,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#196: FILE: kernel/printk.c:1294:
+               .limit_burst   = 10,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#196: FILE: kernel/printk.c:1294:
+               .limit_burst   = 10,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#197: FILE: kernel/printk.c:1295:
+               .facility      = "printk"$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#197: FILE: kernel/printk.c:1295:
+               .facility      = "printk"$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#198: FILE: kernel/printk.c:1296:
+       };$

ERROR:CODE_INDENT: code indent should use tabs where possible
#202: FILE: kernel/printk.c:1299:
+                               printk_ratelimit_burst, &limit_state);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#202: FILE: kernel/printk.c:1299:
+                               printk_ratelimit_burst, &limit_state);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#217: FILE: net/core/utils.c:44:
+       static struct printk_ratelimit_state limit_state = {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#218: FILE: net/core/utils.c:45:
+               .toks          = 10 * 5 * HZ,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#218: FILE: net/core/utils.c:45:
+               .toks          = 10 * 5 * HZ,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#219: FILE: net/core/utils.c:46:
+               .last_jiffies  = 0,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#219: FILE: net/core/utils.c:46:
+               .last_jiffies  = 0,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#220: FILE: net/core/utils.c:47:
+               .missed        = 0,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#220: FILE: net/core/utils.c:47:
+               .missed        = 0,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#221: FILE: net/core/utils.c:48:
+               .limit_jiffies = 5 * HZ,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#221: FILE: net/core/utils.c:48:
+               .limit_jiffies = 5 * HZ,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#222: FILE: net/core/utils.c:49:
+               .limit_burst   = 10,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#222: FILE: net/core/utils.c:49:
+               .limit_burst   = 10,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#223: FILE: net/core/utils.c:50:
+               .facility      = "net"$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: net/core/utils.c:50:
+               .facility      = "net"$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#224: FILE: net/core/utils.c:51:
+       };$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#226: FILE: net/core/utils.c:53:
+       return __printk_ratelimit(net_msg_cost, net_msg_burst,$

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000315693.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 30 errors, 51 warnings, 3 checks, 120 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000315693.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
