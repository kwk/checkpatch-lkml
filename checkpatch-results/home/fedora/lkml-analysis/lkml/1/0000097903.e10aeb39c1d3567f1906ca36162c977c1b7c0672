WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#50: FILE: drivers/mtd/nand/Kconfig:91:
+config MTD_NAND_OMAP_PREFETCH_DMA
+	depends on MTD_NAND_OMAP_PREFETCH
+	bool "DMA mode"
+	default n
+	help
+	 The GPMC PREFETCH engine can be configured eigther in MPU interrupt mode
+	 or in DMA interrupt mode.
+	 Say y for DMA mode or MPU mode will be used
+

Kconfig symbols should have a help text which fully describes
it.

CHECK:SPACING: No space is necessary after a cast
#118: FILE: drivers/mtd/nand/omap2.c:380:
+	complete((struct completion *) data);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'configer' may be misspelled - perhaps 'configure'?
#122: FILE: drivers/mtd/nand/omap2.c:384:
+ * omap_nand_dma_transfer: configer and start dma transfer
                            ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#129: FILE: drivers/mtd/nand/omap2.c:391:
+static inline int omap_nand_dma_transfer(struct mtd_info *mtd, void *addr,
+					unsigned int len, int is_write)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#133: FILE: drivers/mtd/nand/omap2.c:395:
+	uint32_t prefetch_status = 0;

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#142: FILE: drivers/mtd/nand/omap2.c:404:
+	int buf_len = len/64;
 	                 ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#163: FILE: drivers/mtd/nand/omap2.c:425:
+	if (is_write) {
+	    omap_set_dma_dest_params(info->dma_ch, 0, OMAP_DMA_AMODE_CONSTANT,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#165: FILE: drivers/mtd/nand/omap2.c:427:
+	    omap_set_dma_dest_params(info->dma_ch, 0, OMAP_DMA_AMODE_CONSTANT,
+						info->phys_base, 0, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#167: FILE: drivers/mtd/nand/omap2.c:429:
+	    omap_set_dma_src_params(info->dma_ch, 0, OMAP_DMA_AMODE_POST_INC,
+							dma_addr, 0, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#169: FILE: drivers/mtd/nand/omap2.c:431:
+	    omap_set_dma_transfer_params(info->dma_ch, OMAP_DMA_DATA_TYPE_S32,
+					0x10, buf_len, OMAP_DMA_SYNC_FRAME,

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#171: FILE: drivers/mtd/nand/omap2.c:433:
+	} else {
+	    omap_set_dma_src_params(info->dma_ch, 0, OMAP_DMA_AMODE_CONSTANT,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#173: FILE: drivers/mtd/nand/omap2.c:435:
+	    omap_set_dma_src_params(info->dma_ch, 0, OMAP_DMA_AMODE_CONSTANT,
+						info->phys_base, 0, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#175: FILE: drivers/mtd/nand/omap2.c:437:
+	    omap_set_dma_dest_params(info->dma_ch, 0, OMAP_DMA_AMODE_POST_INC,
+							dma_addr, 0, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#177: FILE: drivers/mtd/nand/omap2.c:439:
+	    omap_set_dma_transfer_params(info->dma_ch, OMAP_DMA_DATA_TYPE_S32,
+					0x10, buf_len, OMAP_DMA_SYNC_FRAME,

WARNING:TYPO_SPELLING: 'methode' may be misspelled - perhaps 'method'?
#183: FILE: drivers/mtd/nand/omap2.c:445:
+		/* PFPW engine is busy, use cpu copy methode */
 		                                     ^^^^^^^

CHECK:SPACING: No space is necessary after a cast
#203: FILE: drivers/mtd/nand/omap2.c:465:
+		is_write == 0 ? omap_read_buf16(mtd, (u_char *) addr, len)

CHECK:SPACING: No space is necessary after a cast
#204: FILE: drivers/mtd/nand/omap2.c:466:
+			: omap_write_buf16(mtd, (u_char *) addr, len);

CHECK:SPACING: No space is necessary after a cast
#206: FILE: drivers/mtd/nand/omap2.c:468:
+		is_write == 0 ? omap_read_buf8(mtd, (u_char *) addr, len)

CHECK:SPACING: No space is necessary after a cast
#207: FILE: drivers/mtd/nand/omap2.c:469:
+			: omap_write_buf8(mtd, (u_char *) addr, len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#213: FILE: drivers/mtd/nand/omap2.c:475:
+static inline int omap_nand_dma_transfer(struct mtd_info *mtd, void *addr,
+					unsigned int len, int is_write)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#241: FILE: drivers/mtd/nand/omap2.c:503:
+static void omap_write_buf_dma_pref(struct mtd_info *mtd,
+					const u_char *buf, int len)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#259: FILE: drivers/mtd/nand/omap2.c:980:
+			err = omap_request_dma(OMAP24XX_DMA_GPMC, "NAND",
+				omap_nand_dma_cb, &info->comp, &info->dma_ch);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#262: FILE: drivers/mtd/nand/omap2.c:983:
+				printk(KERN_WARNING "DMA request failed."

WARNING:SPLIT_STRING: quoted string split across lines
#263: FILE: drivers/mtd/nand/omap2.c:984:
+				printk(KERN_WARNING "DMA request failed."
+					" Non-dma data transfer mode\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#266: FILE: drivers/mtd/nand/omap2.c:987:
+				omap_set_dma_dest_burst_mode(info->dma_ch,
+						OMAP_DMA_DATA_BURST_16);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#268: FILE: drivers/mtd/nand/omap2.c:989:
+				omap_set_dma_src_burst_mode(info->dma_ch,
+						OMAP_DMA_DATA_BURST_16);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#295: FILE: drivers/mtd/nand/omap2.c:1087:
+	if ((1 == use_dma) && (0 == use_prefetch)) {

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#296: FILE: drivers/mtd/nand/omap2.c:1088:
+		printk(KERN_INFO"Wrong parameters: 'use_dma' can not be 1 "

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#296: FILE: drivers/mtd/nand/omap2.c:1088:
+		printk(KERN_INFO"Wrong parameters: 'use_dma' can not be 1 "

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

WARNING:SPLIT_STRING: quoted string split across lines
#297: FILE: drivers/mtd/nand/omap2.c:1089:
+		printk(KERN_INFO"Wrong parameters: 'use_dma' can not be 1 "
+				"without use_prefetch'. Prefetch will not be"

WARNING:SPLIT_STRING: quoted string split across lines
#298: FILE: drivers/mtd/nand/omap2.c:1090:
+				"without use_prefetch'. Prefetch will not be"
+				" used in either mode (mpu or dma)\n");

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000097903.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 0 errors, 11 warnings, 20 checks, 245 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000097903.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
