ERROR:SPACING: space required before the open brace '{'
#74: FILE: arch/um/drivers/chan_user.c:170:
+	if(ioctl(pty_fd, TIOCSCTTY, 0) < 0){

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required before the open parenthesis '('
#74: FILE: arch/um/drivers/chan_user.c:170:
+	if(ioctl(pty_fd, TIOCSCTTY, 0) < 0){

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#75: FILE: arch/um/drivers/chan_user.c:171:
+		printk(UM_KERN_ERR "winch_thread : TIOCSCTTY failed on "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'winch_thread', this function's name, in a string
#75: FILE: arch/um/drivers/chan_user.c:171:
+		printk(UM_KERN_ERR "winch_thread : TIOCSCTTY failed on "

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:SPLIT_STRING: quoted string split across lines
#76: FILE: arch/um/drivers/chan_user.c:172:
+		printk(UM_KERN_ERR "winch_thread : TIOCSCTTY failed on "
+		       "fd %d err = %d\n", pty_fd, errno);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:SPACING: space required before the open brace '{'
#80: FILE: arch/um/drivers/chan_user.c:176:
+	if(tcsetpgrp(pty_fd, os_getpid()) < 0){

ERROR:SPACING: space required before the open parenthesis '('
#80: FILE: arch/um/drivers/chan_user.c:176:
+	if(tcsetpgrp(pty_fd, os_getpid()) < 0){

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#81: FILE: arch/um/drivers/chan_user.c:177:
+		printk(UM_KERN_ERR "winch_thread : tcsetpgrp failed on "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'winch_thread', this function's name, in a string
#81: FILE: arch/um/drivers/chan_user.c:177:
+		printk(UM_KERN_ERR "winch_thread : tcsetpgrp failed on "

WARNING:SPLIT_STRING: quoted string split across lines
#82: FILE: arch/um/drivers/chan_user.c:178:
+		printk(UM_KERN_ERR "winch_thread : tcsetpgrp failed on "
+		       "fd %d err = %d\n", pty_fd, errno);

WARNING:SPLIT_STRING: quoted string split across lines
#95: FILE: arch/um/drivers/chan_user.c:191:
 		printk(UM_KERN_ERR "winch_thread : failed to read "
+		       "synchronization byte, err = %d\n", errno);

WARNING:SPLIT_STRING: quoted string split across lines
#108: FILE: arch/um/drivers/chan_user.c:203:
 			printk(UM_KERN_ERR "winch_thread : write failed, "
+			       "err = %d\n", errno);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#122: FILE: arch/um/drivers/chan_user.c:241:
+		printk(UM_KERN_ERR "read failed, err = %d\n", errno);

WARNING:SPLIT_STRING: quoted string split across lines
#146: FILE: arch/um/drivers/chan_user.c:282:
 			printk(UM_KERN_ERR "register_winch : failed to write "
+			       "synchronization byte, err = %d\n", errno);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "sock"
#240: FILE: arch/um/drivers/harddog_user.c:58:
+	if (sock != NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#270: FILE: arch/um/drivers/harddog_user.c:86:
 	}
+	else if (n < 0) {

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPLIT_STRING: quoted string split across lines
#273: FILE: arch/um/drivers/harddog_user.c:88:
 		printk("harddog_open - read of watchdog pipe failed, "
+		       "err = %d\n", errno);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#313: FILE: arch/um/drivers/harddog_user.c:120:
+		printk("ping_watchdog - write failed, ret = %d, err = %d\n",

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ping_watchdog', this function's name, in a string
#313: FILE: arch/um/drivers/harddog_user.c:120:
+		printk("ping_watchdog - write failed, ret = %d, err = %d\n",

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#352: FILE: arch/um/include/sysdep-i386/ptrace.h:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:SPACING: space prohibited before that close parenthesis ')'
#383: FILE: arch/um/include/sysdep-x86_64/ptrace.h:151:
+				     UPT_SYSCALL_ARG6(r) } } )

ERROR:SPACING: space required before the open brace '{'
#422: FILE: arch/um/include/sysdep-x86_64/ptrace.h:155:
+		switch(reg){						\

ERROR:SPACING: space required before the open parenthesis '('
#422: FILE: arch/um/include/sysdep-x86_64/ptrace.h:155:
+		switch(reg){						\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#423: FILE: arch/um/include/sysdep-x86_64/ptrace.h:156:
+		case R8: val = UPT_R8(regs); break;			\

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#424: FILE: arch/um/include/sysdep-x86_64/ptrace.h:157:
+		case R9: val = UPT_R9(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#425: FILE: arch/um/include/sysdep-x86_64/ptrace.h:158:
+		case R10: val = UPT_R10(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#426: FILE: arch/um/include/sysdep-x86_64/ptrace.h:159:
+		case R11: val = UPT_R11(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#427: FILE: arch/um/include/sysdep-x86_64/ptrace.h:160:
+		case R12: val = UPT_R12(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#428: FILE: arch/um/include/sysdep-x86_64/ptrace.h:161:
+		case R13: val = UPT_R13(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#429: FILE: arch/um/include/sysdep-x86_64/ptrace.h:162:
+		case R14: val = UPT_R14(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#430: FILE: arch/um/include/sysdep-x86_64/ptrace.h:163:
+		case R15: val = UPT_R15(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#431: FILE: arch/um/include/sysdep-x86_64/ptrace.h:164:
+		case RIP: val = UPT_IP(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#432: FILE: arch/um/include/sysdep-x86_64/ptrace.h:165:
+		case RSP: val = UPT_SP(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#433: FILE: arch/um/include/sysdep-x86_64/ptrace.h:166:
+		case RAX: val = UPT_RAX(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#434: FILE: arch/um/include/sysdep-x86_64/ptrace.h:167:
+		case RBX: val = UPT_RBX(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#435: FILE: arch/um/include/sysdep-x86_64/ptrace.h:168:
+		case RCX: val = UPT_RCX(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#436: FILE: arch/um/include/sysdep-x86_64/ptrace.h:169:
+		case RDX: val = UPT_RDX(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#437: FILE: arch/um/include/sysdep-x86_64/ptrace.h:170:
+		case RSI: val = UPT_RSI(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#438: FILE: arch/um/include/sysdep-x86_64/ptrace.h:171:
+		case RDI: val = UPT_RDI(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#439: FILE: arch/um/include/sysdep-x86_64/ptrace.h:172:
+		case RBP: val = UPT_RBP(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#440: FILE: arch/um/include/sysdep-x86_64/ptrace.h:173:
+		case ORIG_RAX: val = UPT_ORIG_RAX(regs); break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#441: FILE: arch/um/include/sysdep-x86_64/ptrace.h:174:
+		case CS: val = UPT_CS(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#442: FILE: arch/um/include/sysdep-x86_64/ptrace.h:175:
+		case SS: val = UPT_SS(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#443: FILE: arch/um/include/sysdep-x86_64/ptrace.h:176:
+		case FS_BASE: val = UPT_FS_BASE(regs); break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#444: FILE: arch/um/include/sysdep-x86_64/ptrace.h:177:
+		case GS_BASE: val = UPT_GS_BASE(regs); break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#445: FILE: arch/um/include/sysdep-x86_64/ptrace.h:178:
+		case DS: val = UPT_DS(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#446: FILE: arch/um/include/sysdep-x86_64/ptrace.h:179:
+		case ES: val = UPT_ES(regs); break;			\

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#447: FILE: arch/um/include/sysdep-x86_64/ptrace.h:180:
+		case FS : val = UPT_FS (regs); break;			\

ERROR:SPACING: space prohibited before that ':' (ctx:WxW)
#447: FILE: arch/um/include/sysdep-x86_64/ptrace.h:180:
+		case FS : val = UPT_FS (regs); break;			\
 		        ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#447: FILE: arch/um/include/sysdep-x86_64/ptrace.h:180:
+		case FS : val = UPT_FS (regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#448: FILE: arch/um/include/sysdep-x86_64/ptrace.h:181:
+		case GS: val = UPT_GS(regs); break;			\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#449: FILE: arch/um/include/sysdep-x86_64/ptrace.h:182:
+		case EFLAGS: val = UPT_EFLAGS(regs); break;		\

ERROR:SPACING: space prohibited before that ':' (ctx:WxE)
#450: FILE: arch/um/include/sysdep-x86_64/ptrace.h:183:
+		default :						\
 		        ^

ERROR:SPACING: space required before the open brace '{'
#495: FILE: arch/um/include/sysdep-x86_64/ptrace.h:193:
+		switch(reg){						\

ERROR:SPACING: space required before the open parenthesis '('
#495: FILE: arch/um/include/sysdep-x86_64/ptrace.h:193:
+		switch(reg){						\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#496: FILE: arch/um/include/sysdep-x86_64/ptrace.h:194:
+		case R8: UPT_R8(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#497: FILE: arch/um/include/sysdep-x86_64/ptrace.h:195:
+		case R9: UPT_R9(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#498: FILE: arch/um/include/sysdep-x86_64/ptrace.h:196:
+		case R10: UPT_R10(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#499: FILE: arch/um/include/sysdep-x86_64/ptrace.h:197:
+		case R11: UPT_R11(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#500: FILE: arch/um/include/sysdep-x86_64/ptrace.h:198:
+		case R12: UPT_R12(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#501: FILE: arch/um/include/sysdep-x86_64/ptrace.h:199:
+		case R13: UPT_R13(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#502: FILE: arch/um/include/sysdep-x86_64/ptrace.h:200:
+		case R14: UPT_R14(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#503: FILE: arch/um/include/sysdep-x86_64/ptrace.h:201:
+		case R15: UPT_R15(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#504: FILE: arch/um/include/sysdep-x86_64/ptrace.h:202:
+		case RIP: UPT_IP(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#505: FILE: arch/um/include/sysdep-x86_64/ptrace.h:203:
+		case RSP: UPT_SP(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#506: FILE: arch/um/include/sysdep-x86_64/ptrace.h:204:
+		case RAX: UPT_RAX(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#507: FILE: arch/um/include/sysdep-x86_64/ptrace.h:205:
+		case RBX: UPT_RBX(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#508: FILE: arch/um/include/sysdep-x86_64/ptrace.h:206:
+		case RCX: UPT_RCX(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#509: FILE: arch/um/include/sysdep-x86_64/ptrace.h:207:
+		case RDX: UPT_RDX(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#510: FILE: arch/um/include/sysdep-x86_64/ptrace.h:208:
+		case RSI: UPT_RSI(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#511: FILE: arch/um/include/sysdep-x86_64/ptrace.h:209:
+		case RDI: UPT_RDI(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#512: FILE: arch/um/include/sysdep-x86_64/ptrace.h:210:
+		case RBP: UPT_RBP(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#513: FILE: arch/um/include/sysdep-x86_64/ptrace.h:211:
+		case ORIG_RAX: UPT_ORIG_RAX(regs) = __upt_val; break;	\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#514: FILE: arch/um/include/sysdep-x86_64/ptrace.h:212:
+		case CS: UPT_CS(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#515: FILE: arch/um/include/sysdep-x86_64/ptrace.h:213:
+		case SS: UPT_SS(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#516: FILE: arch/um/include/sysdep-x86_64/ptrace.h:214:
+		case FS_BASE: UPT_FS_BASE(regs) = __upt_val; break;	\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#517: FILE: arch/um/include/sysdep-x86_64/ptrace.h:215:
+		case GS_BASE: UPT_GS_BASE(regs) = __upt_val; break;	\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#518: FILE: arch/um/include/sysdep-x86_64/ptrace.h:216:
+		case DS: UPT_DS(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#519: FILE: arch/um/include/sysdep-x86_64/ptrace.h:217:
+		case ES: UPT_ES(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#520: FILE: arch/um/include/sysdep-x86_64/ptrace.h:218:
+		case FS: UPT_FS(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#521: FILE: arch/um/include/sysdep-x86_64/ptrace.h:219:
+		case GS: UPT_GS(regs) = __upt_val; break;		\

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#522: FILE: arch/um/include/sysdep-x86_64/ptrace.h:220:
+		case EFLAGS: UPT_EFLAGS(regs) = __upt_val; break;	\

ERROR:SPACING: space prohibited before that ':' (ctx:WxE)
#523: FILE: arch/um/include/sysdep-x86_64/ptrace.h:221:
+		default :						\
 		        ^

CHECK:SPACING: No space is necessary after a cast
#575: FILE: arch/um/kernel/skas/uaccess.c:33:
+		phys = (void *) -1;

CHECK:SPACING: No space is necessary after a cast
#578: FILE: arch/um/kernel/skas/uaccess.c:35:
+	return (unsigned long) phys;

CHECK:SPACING: No space is necessary after a cast
#593: FILE: arch/um/kernel/skas/uaccess.c:49:
+	addr = (unsigned long) kmap_atomic(page, KM_UML_USERCOPY) +

ERROR:SPACING: space required before the open parenthesis '('
#624: FILE: arch/um/kernel/skas/uaccess.c:93:
+	while(addr < ((addr + remain) & PAGE_MASK)) {

CHECK:SPACING: No space is necessary after a cast
#657: FILE: arch/um/kernel/skas/uaccess.c:127:
+	return addr + len - (unsigned long) current->thread.fault_addr;

CHECK:SPACING: No space is necessary after a cast
#700: FILE: arch/um/kernel/skas/uaccess.c:163:
+		memcpy((__force void *) to, from, n);

ERROR:CODE_INDENT: code indent should use tabs where possible
#720: FILE: arch/um/kernel/skas/uaccess.c:182:
+^I        return 1;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:SPACING: No space is necessary after a cast
#733: FILE: arch/um/kernel/skas/uaccess.c:192:
+		strncpy(dst, (__force void *) src, count);

CHECK:SPACING: No space is necessary after a cast
#762: FILE: arch/um/kernel/skas/uaccess.c:214:
+	return buffer_op((unsigned long) mem, len, 1, clear_chunk, NULL);

CHECK:SPACING: No space is necessary after a cast
#777: FILE: arch/um/kernel/skas/uaccess.c:225:
+	       buffer_op((unsigned long) mem, len, 1, clear_chunk, NULL) : len;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#800: FILE: arch/um/kernel/skas/uaccess.c:245:
+		return strnlen((__force char*)str, len) + 1;

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000390885.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 70 errors, 15 warnings, 9 checks, 688 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000390885.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
