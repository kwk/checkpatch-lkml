WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#78: FILE: drivers/xen/xenbus/xenbus_client.c:1:
+/******************************************************************************

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:SPACING: space prohibited after that open square bracket '['
#122: FILE: drivers/xen/xenbus/xenbus_client.c:45:
+		[ XenbusStateUnknown      ] = "Unknown",

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close square bracket ']'
#122: FILE: drivers/xen/xenbus/xenbus_client.c:45:
+		[ XenbusStateUnknown      ] = "Unknown",

CHECK:CAMELCASE: Avoid CamelCase: <XenbusStateUnknown>
#122: FILE: drivers/xen/xenbus/xenbus_client.c:45:
+		[ XenbusStateUnknown      ] = "Unknown",

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

ERROR:SPACING: space prohibited after that open square bracket '['
#123: FILE: drivers/xen/xenbus/xenbus_client.c:46:
+		[ XenbusStateInitialising ] = "Initialising",

ERROR:SPACING: space prohibited before that close square bracket ']'
#123: FILE: drivers/xen/xenbus/xenbus_client.c:46:
+		[ XenbusStateInitialising ] = "Initialising",

CHECK:CAMELCASE: Avoid CamelCase: <XenbusStateInitialising>
#123: FILE: drivers/xen/xenbus/xenbus_client.c:46:
+		[ XenbusStateInitialising ] = "Initialising",

ERROR:SPACING: space prohibited after that open square bracket '['
#124: FILE: drivers/xen/xenbus/xenbus_client.c:47:
+		[ XenbusStateInitWait     ] = "InitWait",

ERROR:SPACING: space prohibited before that close square bracket ']'
#124: FILE: drivers/xen/xenbus/xenbus_client.c:47:
+		[ XenbusStateInitWait     ] = "InitWait",

CHECK:CAMELCASE: Avoid CamelCase: <XenbusStateInitWait>
#124: FILE: drivers/xen/xenbus/xenbus_client.c:47:
+		[ XenbusStateInitWait     ] = "InitWait",

ERROR:SPACING: space prohibited after that open square bracket '['
#125: FILE: drivers/xen/xenbus/xenbus_client.c:48:
+		[ XenbusStateInitialised  ] = "Initialised",

ERROR:SPACING: space prohibited before that close square bracket ']'
#125: FILE: drivers/xen/xenbus/xenbus_client.c:48:
+		[ XenbusStateInitialised  ] = "Initialised",

CHECK:CAMELCASE: Avoid CamelCase: <XenbusStateInitialised>
#125: FILE: drivers/xen/xenbus/xenbus_client.c:48:
+		[ XenbusStateInitialised  ] = "Initialised",

ERROR:SPACING: space prohibited after that open square bracket '['
#126: FILE: drivers/xen/xenbus/xenbus_client.c:49:
+		[ XenbusStateConnected    ] = "Connected",

ERROR:SPACING: space prohibited before that close square bracket ']'
#126: FILE: drivers/xen/xenbus/xenbus_client.c:49:
+		[ XenbusStateConnected    ] = "Connected",

CHECK:CAMELCASE: Avoid CamelCase: <XenbusStateConnected>
#126: FILE: drivers/xen/xenbus/xenbus_client.c:49:
+		[ XenbusStateConnected    ] = "Connected",

ERROR:SPACING: space prohibited after that open square bracket '['
#127: FILE: drivers/xen/xenbus/xenbus_client.c:50:
+		[ XenbusStateClosing      ] = "Closing",

ERROR:SPACING: space prohibited before that close square bracket ']'
#127: FILE: drivers/xen/xenbus/xenbus_client.c:50:
+		[ XenbusStateClosing      ] = "Closing",

CHECK:CAMELCASE: Avoid CamelCase: <XenbusStateClosing>
#127: FILE: drivers/xen/xenbus/xenbus_client.c:50:
+		[ XenbusStateClosing      ] = "Closing",

ERROR:SPACING: space prohibited after that open square bracket '['
#128: FILE: drivers/xen/xenbus/xenbus_client.c:51:
+		[ XenbusStateClosed	  ] = "Closed",

ERROR:SPACING: space prohibited before that close square bracket ']'
#128: FILE: drivers/xen/xenbus/xenbus_client.c:51:
+		[ XenbusStateClosed	  ] = "Closed",

CHECK:CAMELCASE: Avoid CamelCase: <XenbusStateClosed>
#128: FILE: drivers/xen/xenbus/xenbus_client.c:51:
+		[ XenbusStateClosed	  ] = "Closed",

CHECK:LINE_SPACING: Please don't use multiple blank lines
#170: FILE: drivers/xen/xenbus/xenbus_client.c:93:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#194: FILE: drivers/xen/xenbus/xenbus_client.c:117:
+	char *state = kasprintf(GFP_KERNEL, "%s/%s", path, path2);
+	if (!state) {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#206: FILE: drivers/xen/xenbus/xenbus_client.c:129:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#220: FILE: drivers/xen/xenbus/xenbus_client.c:143:
+	/* We check whether the state is currently set to the given value, and
+	   if not, then the state is set.  We don't want to unconditionally

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:LINE_SPACING: Please don't use multiple blank lines
#274: FILE: drivers/xen/xenbus/xenbus_client.c:197:
+
+

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!printf_buffer"
#285: FILE: drivers/xen/xenbus/xenbus_client.c:208:
+	if (printf_buffer == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#289: FILE: drivers/xen/xenbus/xenbus_client.c:212:
+	ret = vsnprintf(printf_buffer+len, PRINTF_BUFFER_SIZE-len, fmt, ap);
 	                             ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#289: FILE: drivers/xen/xenbus/xenbus_client.c:212:
+	ret = vsnprintf(printf_buffer+len, PRINTF_BUFFER_SIZE-len, fmt, ap);
 	                                                     ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#291: FILE: drivers/xen/xenbus/xenbus_client.c:214:
+	BUG_ON(len + ret > PRINTF_BUFFER_SIZE-1);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#291: FILE: drivers/xen/xenbus/xenbus_client.c:214:
+	BUG_ON(len + ret > PRINTF_BUFFER_SIZE-1);
 	                                     ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!path_buffer"
#297: FILE: drivers/xen/xenbus/xenbus_client.c:220:
+	if (path_buffer == NULL) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#299: FILE: drivers/xen/xenbus/xenbus_client.c:222:
+		dev_err(&dev->dev, "failed to write error node for %s (%s)\n",
+		       dev->nodename, printf_buffer);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#305: FILE: drivers/xen/xenbus/xenbus_client.c:228:
+		dev_err(&dev->dev, "failed to write error node for %s (%s)\n",
+		       dev->nodename, printf_buffer);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#314: FILE: drivers/xen/xenbus/xenbus_client.c:237:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#369: FILE: drivers/xen/xenbus/xenbus_client.c:292:
+	int err = gnttab_grant_foreign_access(dev->otherend_id, ring_mfn, 0);
+	if (err < 0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#375: FILE: drivers/xen/xenbus/xenbus_client.c:298:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#401: FILE: drivers/xen/xenbus/xenbus_client.c:324:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#428: FILE: drivers/xen/xenbus/xenbus_client.c:351:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#447: FILE: drivers/xen/xenbus/xenbus_client.c:370:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#480: FILE: drivers/xen/xenbus/xenbus_client.c:403:
+		BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#498: FILE: drivers/xen/xenbus/xenbus_client.c:421:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#524: FILE: drivers/xen/xenbus/xenbus_client.c:447:
+		BUG();

CHECK:BRACES: braces {} should be used on all arms of this statement
#526: FILE: drivers/xen/xenbus/xenbus_client.c:449:
+	if (op.status != GNTST_okay) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#530: FILE: drivers/xen/xenbus/xenbus_client.c:453:
+	} else

CHECK:LINE_SPACING: Please don't use multiple blank lines
#537: FILE: drivers/xen/xenbus/xenbus_client.c:460:
+
+

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "area"
#564: FILE: drivers/xen/xenbus/xenbus_client.c:487:
+	for (area = vmlist; area != NULL; area = area->next) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#579: FILE: drivers/xen/xenbus/xenbus_client.c:502:
+		BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#592: FILE: drivers/xen/xenbus/xenbus_client.c:515:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#612: FILE: drivers/xen/xenbus/xenbus_client.c:535:
+		BUG();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#623: FILE: drivers/xen/xenbus/xenbus_client.c:546:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#635: FILE: drivers/xen/xenbus/xenbus_client.c:558:
+	int err = xenbus_gather(XBT_NIL, path, "state", "%d", &result, NULL);
+	if (err)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#645: FILE: drivers/xen/xenbus/xenbus_comms.c:1:
+/******************************************************************************

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#736: FILE: drivers/xen/xenbus/xenbus_comms.c:92:
+int xb_write(const void *data, unsigned len)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#746: FILE: drivers/xen/xenbus/xenbus_comms.c:102:
+		rc = wait_event_interruptible(

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#757: FILE: drivers/xen/xenbus/xenbus_comms.c:113:
+			intf->req_cons = intf->req_prod = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:LINE_SPACING: Missing a blank line after declarations
#788: FILE: drivers/xen/xenbus/xenbus_comms.c:144:
+	struct xenstore_domain_interface *intf = xen_store_interface;
+	return (intf->rsp_cons != intf->rsp_prod);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#796: FILE: drivers/xen/xenbus/xenbus_comms.c:152:
+int xb_read(void *data, unsigned len)

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#814: FILE: drivers/xen/xenbus/xenbus_comms.c:170:
+			intf->rsp_cons = intf->rsp_prod = 0;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#853: FILE: drivers/xen/xenbus/xenbus_comms.c:209:
+		printk(KERN_ERR "XENBUS request ring is not quiescent "

WARNING:SPLIT_STRING: quoted string split across lines
#854: FILE: drivers/xen/xenbus/xenbus_comms.c:210:
+		printk(KERN_ERR "XENBUS request ring is not quiescent "
+		       "(%08x:%08x)!\n", intf->req_cons, intf->req_prod);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#857: FILE: drivers/xen/xenbus/xenbus_comms.c:213:
+		printk(KERN_WARNING "XENBUS response ring is not quiescent "

WARNING:SPLIT_STRING: quoted string split across lines
#858: FILE: drivers/xen/xenbus/xenbus_comms.c:214:
+		printk(KERN_WARNING "XENBUS response ring is not quiescent "
+		       "(%08x:%08x): fixing up\n",

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#866: FILE: drivers/xen/xenbus/xenbus_comms.c:222:
+	err = bind_evtchn_to_irqhandler(

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#870: FILE: drivers/xen/xenbus/xenbus_comms.c:226:
+		printk(KERN_ERR "XENBUS request irq failed %i\n", err);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#882: FILE: drivers/xen/xenbus/xenbus_comms.h:1:
+/*

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#919: FILE: drivers/xen/xenbus/xenbus_comms.h:38:
+int xb_write(const void *data, unsigned len);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#920: FILE: drivers/xen/xenbus/xenbus_comms.h:39:
+int xb_read(void *data, unsigned len);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#932: FILE: drivers/xen/xenbus/xenbus_probe.c:1:
+/******************************************************************************

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#966: FILE: drivers/xen/xenbus/xenbus_probe.c:35:
+		 __FUNCTION__, __LINE__, ##args)

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#978: FILE: drivers/xen/xenbus/xenbus_probe.c:47:
+#include <asm/io.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pgtable.h> instead of <asm/pgtable.h>
#980: FILE: drivers/xen/xenbus/xenbus_probe.c:49:
+#include <asm/pgtable.h>

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "match_device"
#1019: FILE: drivers/xen/xenbus/xenbus_probe.c:88:
+	return match_device(drv->ids, to_xenbus_device(_dev)) != NULL;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1027: FILE: drivers/xen/xenbus/xenbus_probe.c:96:
+		printk(KERN_WARNING "XENBUS: bad frontend %s\n", nodename);

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1031: FILE: drivers/xen/xenbus/xenbus_probe.c:100:
+	strlcpy(bus_id, nodename + 1, BUS_ID_SIZE);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1033: FILE: drivers/xen/xenbus/xenbus_probe.c:102:
+		printk(KERN_WARNING "XENBUS: bus_id %s no slash\n", bus_id);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1040: FILE: drivers/xen/xenbus/xenbus_probe.c:109:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1047: FILE: drivers/xen/xenbus/xenbus_probe.c:116:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1057: FILE: drivers/xen/xenbus/xenbus_probe.c:126:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1059: FILE: drivers/xen/xenbus/xenbus_probe.c:128:
+int read_otherend_details(struct xenbus_device *xendev,
+				 char *id_node, char *path_node)

WARNING:SPLIT_STRING: quoted string split across lines
#1075: FILE: drivers/xen/xenbus/xenbus_probe.c:144:
+				 "unable to read other end from %s.  "
+				 "missing or inaccessible.",

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1084: FILE: drivers/xen/xenbus/xenbus_probe.c:153:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1090: FILE: drivers/xen/xenbus/xenbus_probe.c:159:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1094: FILE: drivers/xen/xenbus/xenbus_probe.c:163:
+^I.levels = 2, ^I^I/* device/type/<id> */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1115: FILE: drivers/xen/xenbus/xenbus_probe.c:184:
+	/* Protect us against watches firing on old details when the otherend
+	   details change, say immediately after a resume. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1115: FILE: drivers/xen/xenbus/xenbus_probe.c:184:
+	   details change, say immediately after a resume. */

WARNING:SELF_ASSIGNMENT: Do not use self-assignments to avoid compiler warnings
#1134: FILE: drivers/xen/xenbus/xenbus_probe.c:203:
+		struct xen_bus_type *bus = bus;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1135: FILE: drivers/xen/xenbus/xenbus_probe.c:204:
+		struct xen_bus_type *bus = bus;
+		bus = container_of(dev->dev.bus, struct xen_bus_type, bus);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'bus == &xenbus_frontend'
#1138: FILE: drivers/xen/xenbus/xenbus_probe.c:207:
+		if ((bus == &xenbus_frontend) && (state == XenbusStateClosing))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'state == XenbusStateClosing'
#1138: FILE: drivers/xen/xenbus/xenbus_probe.c:207:
+		if ((bus == &xenbus_frontend) && (state == XenbusStateClosing))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1147: FILE: drivers/xen/xenbus/xenbus_probe.c:216:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1158: FILE: drivers/xen/xenbus/xenbus_probe.c:227:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1165: FILE: drivers/xen/xenbus/xenbus_probe.c:234:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1200: FILE: drivers/xen/xenbus/xenbus_probe.c:269:
+		dev_warn(&dev->dev, "watch_otherend on %s failed.\n",
+		       dev->nodename);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'xenbus_dev_probe', this function's name, in a string
#1206: FILE: drivers/xen/xenbus/xenbus_probe.c:275:
+	xenbus_dev_error(dev, err, "xenbus_dev_probe on %s", dev->nodename);

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1231: FILE: drivers/xen/xenbus/xenbus_probe.c:300:
+	unsigned long timeout = 5*HZ;
 	                         ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1237: FILE: drivers/xen/xenbus/xenbus_probe.c:306:
+		printk("%s: %s: %s != Connected, skipping\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1237: FILE: drivers/xen/xenbus/xenbus_probe.c:306:
+		printk("%s: %s: %s != Connected, skipping\n", __FUNCTION__,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1244: FILE: drivers/xen/xenbus/xenbus_probe.c:313:
+		printk("%s: %s timeout closing device\n", __FUNCTION__, dev->nodename);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1244: FILE: drivers/xen/xenbus/xenbus_probe.c:313:
+		printk("%s: %s timeout closing device\n", __FUNCTION__, dev->nodename);

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#1283: FILE: drivers/xen/xenbus/xenbus_probe.c:352:
+struct xb_find_info
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:DEVICE_ATTR_FUNCTIONS: Consider renaming function(s) 'xendev_show_nodename' to 'nodename_show'
#1355: FILE: drivers/xen/xenbus/xenbus_probe.c:424:
+}

The function names used in DEVICE_ATTR is unusual.
Typically, the store and show functions are used with <attr>_store and
<attr>_show, where <attr> is a named attribute variable of the device.

Consider the following examples::

  static DEVICE_ATTR(type, 0444, type_show, NULL);
  static DEVICE_ATTR(power, 0644, power_show, power_store);

The function names should preferably follow the above pattern.

See: https://www.kernel.org/doc/html/latest/driver-api/driver-model/device.html#attributes

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUSR | S_IRGRP | S_IROTH' are not preferred. Consider using octal permissions '0444'.
#1356: FILE: drivers/xen/xenbus/xenbus_probe.c:425:
+DEVICE_ATTR(nodename, S_IRUSR | S_IRGRP | S_IROTH, xendev_show_nodename, NULL);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:DEVICE_ATTR_FUNCTIONS: Consider renaming function(s) 'xendev_show_devtype' to 'devtype_show'
#1362: FILE: drivers/xen/xenbus/xenbus_probe.c:431:
+}

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUSR | S_IRGRP | S_IROTH' are not preferred. Consider using octal permissions '0444'.
#1363: FILE: drivers/xen/xenbus/xenbus_probe.c:432:
+DEVICE_ATTR(devtype, S_IRUSR | S_IRGRP | S_IROTH, xendev_show_devtype, NULL);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1365: FILE: drivers/xen/xenbus/xenbus_probe.c:434:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1379: FILE: drivers/xen/xenbus/xenbus_probe.c:448:
+		/* Device is not new, so ignore it.  This can happen if a
+		   device is going away after switching to Closed.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1379: FILE: drivers/xen/xenbus/xenbus_probe.c:448:
+		   device is going away after switching to Closed.  */

ERROR:CODE_INDENT: code indent should use tabs where possible
#1509: FILE: drivers/xen/xenbus/xenbus_probe.c:578:
+ ^I^Ireturn;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1509: FILE: drivers/xen/xenbus/xenbus_probe.c:578:
+ ^I^Ireturn;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1509: FILE: drivers/xen/xenbus/xenbus_probe.c:578:
+ ^I^Ireturn;$

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1520: FILE: drivers/xen/xenbus/xenbus_probe.c:589:
+	type[BUS_ID_SIZE-1] = '\0';
 	                ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!dev->driver"
#1560: FILE: drivers/xen/xenbus/xenbus_probe.c:629:
+	if (dev->driver == NULL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1567: FILE: drivers/xen/xenbus/xenbus_probe.c:636:
+		printk(KERN_WARNING

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!dev->driver"
#1580: FILE: drivers/xen/xenbus/xenbus_probe.c:649:
+	if (dev->driver == NULL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1587: FILE: drivers/xen/xenbus/xenbus_probe.c:656:
+		printk(KERN_WARNING

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!dev->driver"
#1601: FILE: drivers/xen/xenbus/xenbus_probe.c:670:
+	if (dev->driver == NULL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1609: FILE: drivers/xen/xenbus/xenbus_probe.c:678:
+		printk(KERN_WARNING

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1620: FILE: drivers/xen/xenbus/xenbus_probe.c:689:
+			printk(KERN_WARNING

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1629: FILE: drivers/xen/xenbus/xenbus_probe.c:698:
+		printk(KERN_WARNING

WARNING:SPLIT_STRING: quoted string split across lines
#1631: FILE: drivers/xen/xenbus/xenbus_probe.c:700:
+		       "xenbus_probe: resume (watch_otherend) %s failed: "
+		       "%d.\n", dev->bus_id, err);

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#1666: FILE: drivers/xen/xenbus/xenbus_probe.c:735:
+int xenstored_ready = 0;

Global variables should not be initialized explicitly to
0 (or NULL, false, etc.).  Your compiler (or rather your
loader, which is responsible for zeroing out the relevant
sections) automatically does it for you.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1668: FILE: drivers/xen/xenbus/xenbus_probe.c:737:
+
+

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1690: FILE: drivers/xen/xenbus/xenbus_probe.c:759:
+	BUG_ON((xenstored_ready <= 0));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1735: FILE: drivers/xen/xenbus/xenbus_probe.c:804:
+		printk(KERN_WARNING

WARNING:INDENTED_LABEL: labels should not be indented
#1745: FILE: drivers/xen/xenbus/xenbus_probe.c:814:
+  out_unreg_back:

WARNING:INDENTED_LABEL: labels should not be indented
#1748: FILE: drivers/xen/xenbus/xenbus_probe.c:817:
+  out_unreg_front:

WARNING:INDENTED_LABEL: labels should not be indented
#1751: FILE: drivers/xen/xenbus/xenbus_probe.c:820:
+  out_error:

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'dev->driver != drv'
#1772: FILE: drivers/xen/xenbus/xenbus_probe.c:841:
+	if (drv && (dev->driver != drv))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'dev->driver != drv'
#1790: FILE: drivers/xen/xenbus/xenbus_probe.c:859:
+	if (drv && (dev->driver != drv))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1795: FILE: drivers/xen/xenbus/xenbus_probe.c:864:
+		printk(KERN_INFO "XENBUS: Device with no driver: %s\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1798: FILE: drivers/xen/xenbus/xenbus_probe.c:867:
+		printk(KERN_WARNING "XENBUS: Timeout connecting "

WARNING:SPLIT_STRING: quoted string split across lines
#1799: FILE: drivers/xen/xenbus/xenbus_probe.c:868:
+		printk(KERN_WARNING "XENBUS: Timeout connecting "
+		       "to device: %s (state %d)\n",

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1825: FILE: drivers/xen/xenbus/xenbus_probe.c:894:
+	unsigned long timeout = jiffies + 10*HZ;
 	                                    ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1834: FILE: drivers/xen/xenbus/xenbus_probe.c:903:
+		schedule_timeout_interruptible(HZ/10);
 		                                 ^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1855: FILE: drivers/xen/xenbus/xenbus_probe.h:1:
+/******************************************************************************

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1892: FILE: drivers/xen/xenbus/xenbus_probe.h:38:
+extern void xenbus_backend_suspend(int (*fn)(struct device *, void *));

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1893: FILE: drivers/xen/xenbus/xenbus_probe.h:39:
+extern void xenbus_backend_resume(int (*fn)(struct device *, void *));

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1894: FILE: drivers/xen/xenbus/xenbus_probe.h:40:
+extern void xenbus_backend_probe_and_watch(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1895: FILE: drivers/xen/xenbus/xenbus_probe.h:41:
+extern int xenbus_backend_bus_register(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1896: FILE: drivers/xen/xenbus/xenbus_probe.h:42:
+extern void xenbus_backend_bus_unregister(void);

ERROR:SPACING: space required after that ';' (ctx:VxV)
#1901: FILE: drivers/xen/xenbus/xenbus_probe.h:47:
+static inline int xenbus_backend_bus_register(void) {return 0;}
                                                              ^

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#1906: FILE: drivers/xen/xenbus/xenbus_probe.h:52:
+struct xen_bus_type
+{

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1914: FILE: drivers/xen/xenbus/xenbus_probe.h:60:
+extern int xenbus_match(struct device *_dev, struct device_driver *_drv);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1915: FILE: drivers/xen/xenbus/xenbus_probe.h:61:
+extern int xenbus_dev_probe(struct device *_dev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1916: FILE: drivers/xen/xenbus/xenbus_probe.h:62:
+extern int xenbus_dev_remove(struct device *_dev);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1917: FILE: drivers/xen/xenbus/xenbus_probe.h:63:
+extern int xenbus_register_driver_common(struct xenbus_driver *drv,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1919: FILE: drivers/xen/xenbus/xenbus_probe.h:65:
+extern int xenbus_probe_node(struct xen_bus_type *bus,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1922: FILE: drivers/xen/xenbus/xenbus_probe.h:68:
+extern int xenbus_probe_devices(struct xen_bus_type *bus);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1924: FILE: drivers/xen/xenbus/xenbus_probe.h:70:
+extern void dev_changed(const char *node, struct xen_bus_type *bus);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1931: FILE: drivers/xen/xenbus/xenbus_probe_backend.c:1:
+/******************************************************************************

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1965: FILE: drivers/xen/xenbus/xenbus_probe_backend.c:35:
+		 __FUNCTION__, __LINE__, ##args)

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#1976: FILE: drivers/xen/xenbus/xenbus_probe_backend.c:46:
+#include <asm/io.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pgtable.h> instead of <asm/pgtable.h>
#1978: FILE: drivers/xen/xenbus/xenbus_probe_backend.c:48:
+#include <asm/pgtable.h>

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1994: FILE: drivers/xen/xenbus/xenbus_probe_backend.c:64:
+extern int read_otherend_details(struct xenbus_device *xendev,

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2042: FILE: drivers/xen/xenbus/xenbus_probe_backend.c:112:
+^I.levels = 3, ^I^I/* backend/type/<frontend>/<id> */$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!dev"
#2065: FILE: drivers/xen/xenbus/xenbus_probe_backend.c:135:
+	if (dev == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!xdev"
#2069: FILE: drivers/xen/xenbus/xenbus_probe_backend.c:139:
+	if (xdev == NULL)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2200: FILE: drivers/xen/xenbus/xenbus_xs.c:1:
+/******************************************************************************

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#2272: FILE: drivers/xen/xenbus/xenbus_xs.c:73:
+	spinlock_t reply_lock;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2319: FILE: drivers/xen/xenbus/xenbus_xs.c:120:
+			printk(KERN_WARNING

WARNING:USE_NEGATIVE_ERRNO: return of an errno should typically be negative (ie: return -EINVAL)
#2322: FILE: drivers/xen/xenbus/xenbus_xs.c:123:
+			return EINVAL;

CHECK:BRACES: braces {} should be used on all arms of this statement
#2371: FILE: drivers/xen/xenbus/xenbus_xs.c:172:
+	if (err) {
[...]
+	} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#2374: FILE: drivers/xen/xenbus/xenbus_xs.c:175:
+	} else

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'msg->type == XS_TRANSACTION_END'
#2379: FILE: drivers/xen/xenbus/xenbus_xs.c:180:
+	if ((msg->type == XS_TRANSACTION_END) ||
+	    ((req_msg.type == XS_TRANSACTION_START) &&
+	     (msg->type == XS_ERROR)))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'req_msg.type == XS_TRANSACTION_START'
#2379: FILE: drivers/xen/xenbus/xenbus_xs.c:180:
+	if ((msg->type == XS_TRANSACTION_END) ||
+	    ((req_msg.type == XS_TRANSACTION_START) &&
+	     (msg->type == XS_ERROR)))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'msg->type == XS_ERROR'
#2379: FILE: drivers/xen/xenbus/xenbus_xs.c:180:
+	if ((msg->type == XS_TRANSACTION_END) ||
+	    ((req_msg.type == XS_TRANSACTION_START) &&
+	     (msg->type == XS_ERROR)))

WARNING:ONE_SEMICOLON: Statements terminations use 1 semicolon
#2415: FILE: drivers/xen/xenbus/xenbus_xs.c:216:
+		err = xb_write(iovec[i].iov_base, iovec[i].iov_len);;

WARNING:PRINTK_RATELIMITED: Prefer printk_ratelimited or pr_<level>_ratelimited to printk_ratelimit
#2436: FILE: drivers/xen/xenbus/xenbus_xs.c:237:
+		if (printk_ratelimit())

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2437: FILE: drivers/xen/xenbus/xenbus_xs.c:238:
+			printk(KERN_WARNING

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#2641: FILE: drivers/xen/xenbus/xenbus_xs.c:442:
+	t->id = simple_strtoul(id_str, NULL, 0);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!printf_buffer"
#2701: FILE: drivers/xen/xenbus/xenbus_xs.c:502:
+	if (printf_buffer == NULL)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2708: FILE: drivers/xen/xenbus/xenbus_xs.c:509:
+	BUG_ON(ret > PRINTF_BUFFER_SIZE-1);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#2708: FILE: drivers/xen/xenbus/xenbus_xs.c:509:
+	BUG_ON(ret > PRINTF_BUFFER_SIZE-1);
 	                               ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#2735: FILE: drivers/xen/xenbus/xenbus_xs.c:536:
+		if (fmt) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#2739: FILE: drivers/xen/xenbus/xenbus_xs.c:540:
+		} else

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#2777: FILE: drivers/xen/xenbus/xenbus_xs.c:578:
+	cmp = (void *)simple_strtoul(token, NULL, 16);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2798: FILE: drivers/xen/xenbus/xenbus_xs.c:599:
+	BUG_ON(find_watch(token));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'err != 0'
#2805: FILE: drivers/xen/xenbus/xenbus_xs.c:606:
+	if ((err != 0) && (err != -EEXIST)) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2828: FILE: drivers/xen/xenbus/xenbus_xs.c:629:
+	BUG_ON(!find_watch(token));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2834: FILE: drivers/xen/xenbus/xenbus_xs.c:635:
+		printk(KERN_WARNING

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2841: FILE: drivers/xen/xenbus/xenbus_xs.c:642:
+	/* Make sure there are no callbacks running currently (unless
+	   its us) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2841: FILE: drivers/xen/xenbus/xenbus_xs.c:642:
+	   its us) */

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2917: FILE: drivers/xen/xenbus/xenbus_xs.c:718:
+			msg->u.watch.handle->callback(

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2952: FILE: drivers/xen/xenbus/xenbus_xs.c:753:
+
+

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!msg"
#2954: FILE: drivers/xen/xenbus/xenbus_xs.c:755:
+	if (msg == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!body"
#2966: FILE: drivers/xen/xenbus/xenbus_xs.c:767:
+	if (body == NULL) {

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2990: FILE: drivers/xen/xenbus/xenbus_xs.c:791:
+		msg->u.watch.handle = find_watch(

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "msg->u.watch.handle"
#2992: FILE: drivers/xen/xenbus/xenbus_xs.c:793:
+		if (msg->u.watch.handle != NULL) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#3022: FILE: drivers/xen/xenbus/xenbus_xs.c:823:
+			printk(KERN_WARNING "XENBUS error %d while reading "

WARNING:SPLIT_STRING: quoted string split across lines
#3023: FILE: drivers/xen/xenbus/xenbus_xs.c:824:
+			printk(KERN_WARNING "XENBUS error %d while reading "
+			       "message\n", err);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3076: FILE: include/xen/xenbus.h:1:
+/******************************************************************************

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#3124: FILE: include/xen/xenbus.h:49:
+struct xenbus_watch
+{

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct xenbus_watch *' should also have an identifier name
#3131: FILE: include/xen/xenbus.h:56:
+	void (*callback)(struct xenbus_watch *,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3135: FILE: include/xen/xenbus.h:60:
+
+

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#3154: FILE: include/xen/xenbus.h:79:
+struct xenbus_device_id
+{

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3156: FILE: include/xen/xenbus.h:81:
+^Ichar devicetype[32]; ^I/* General class of device. */$

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct xenbus_device *' should also have an identifier name
#3172: FILE: include/xen/xenbus.h:97:
+	int (*uevent)(struct xenbus_device *, char **, int, char *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'char **' should also have an identifier name
#3172: FILE: include/xen/xenbus.h:97:
+	int (*uevent)(struct xenbus_device *, char **, int, char *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#3172: FILE: include/xen/xenbus.h:97:
+	int (*uevent)(struct xenbus_device *, char **, int, char *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'char *' should also have an identifier name
#3172: FILE: include/xen/xenbus.h:97:
+	int (*uevent)(struct xenbus_device *, char **, int, char *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#3172: FILE: include/xen/xenbus.h:97:
+	int (*uevent)(struct xenbus_device *, char **, int, char *, int);

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#3187: FILE: include/xen/xenbus.h:112:
+struct xenbus_transaction
+{

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __scanf(4, 5) over __attribute__((format(scanf, 4, 5)))
#3213: FILE: include/xen/xenbus.h:138:
+	__attribute__((format(scanf, 4, 5)));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __printf(4, 5) over __attribute__((format(printf, 4, 5)))
#3218: FILE: include/xen/xenbus.h:143:
+	__attribute__((format(printf, 4, 5)));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3221: FILE: include/xen/xenbus.h:146:
+ * sprintf-style type string, and pointer. Returns 0 or errno.*/

WARNING:TYPO_SPELLING: 'notifer' may be misspelled - perhaps 'notifier'?
#3224: FILE: include/xen/xenbus.h:149:
+/* notifer routines for when the xenstore comes up */
    ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct work_struct *' should also have an identifier name
#3241: FILE: include/xen/xenbus.h:166:
+void xenbus_probe(struct work_struct *);

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'str' - possible side-effects?
#3244: FILE: include/xen/xenbus.h:169:
+#define XENBUS_IS_ERR_READ(str) ({			\
+	if (!IS_ERR(str) && strlen(str) == 0) {		\
+		kfree(str);				\
+		str = ERR_PTR(-ERANGE);			\
+	}						\
+	IS_ERR(str);					\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'err' - possible side-effects?
#3252: FILE: include/xen/xenbus.h:177:
+#define XENBUS_EXIST_ERR(err) ((err) == -ENOENT || (err) == -ERANGE)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3267: FILE: include/xen/xenbus.h:192:
+int xenbus_map_ring(struct xenbus_device *dev, int gnt_ref,
+			   grant_handle_t *handle, void *vaddr);

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000438792.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 22 errors, 98 warnings, 92 checks, 3188 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000438792.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
