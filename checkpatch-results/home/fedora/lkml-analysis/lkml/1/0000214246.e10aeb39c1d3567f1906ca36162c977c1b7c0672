WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#41: 
Subject: [PATCH] [Target_Core_Mod/PSCSI]: Added support for ->create_virtdevice_from_fd()

WARNING:UNKNOWN_COMMIT_ID: Unknown commit id '362d4ef391699b0282dfbef3da633a561d9cbde7', maybe rebased or not pulled?
#47: 
This patch relies upon commit 362d4ef391699b0282dfbef3da633a561d9cbde7 for

WARNING:LONG_LINE: line length of 105 exceeds 100 columns
#201: FILE: drivers/lio-core/target_core_pscsi.c:410:
+extern se_device_t *pscsi_create_type_disk (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#201: FILE: drivers/lio-core/target_core_pscsi.c:410:
+extern se_device_t *pscsi_create_type_disk (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#201: FILE: drivers/lio-core/target_core_pscsi.c:410:
+extern se_device_t *pscsi_create_type_disk (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:CAMELCASE: Avoid CamelCase: <Scsi_Host>
#204: FILE: drivers/lio-core/target_core_pscsi.c:413:
+	struct Scsi_Host *sh = sd->host;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#211: FILE: drivers/lio-core/target_core_pscsi.c:420:
+		printk(KERN_ERR "scsi_device_get() failed for %d:%d:%d:%d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#212: FILE: drivers/lio-core/target_core_pscsi.c:421:
+		printk(KERN_ERR "scsi_device_get() failed for %d:%d:%d:%d\n",
+			sh->host_no, sd->channel, sd->id, sd->lun);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#214: FILE: drivers/lio-core/target_core_pscsi.c:423:
+		return(NULL);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#220: FILE: drivers/lio-core/target_core_pscsi.c:429:
+		printk(KERN_ERR "pscsi_check_sd() failed for %d:%d:%d:%d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#221: FILE: drivers/lio-core/target_core_pscsi.c:430:
+		printk(KERN_ERR "pscsi_check_sd() failed for %d:%d:%d:%d\n",
+			sh->host_no, sd->channel, sd->id, sd->lun);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#222: FILE: drivers/lio-core/target_core_pscsi.c:431:
+		return(NULL);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#227: FILE: drivers/lio-core/target_core_pscsi.c:436:
+^I}^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#228: FILE: drivers/lio-core/target_core_pscsi.c:437:
+	if (!(dev = pscsi_add_device_to_list(hba, pdv, sd, dev_flags))) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#230: FILE: drivers/lio-core/target_core_pscsi.c:439:
+		return(NULL);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#233: FILE: drivers/lio-core/target_core_pscsi.c:442:
+	PYXPRINT("CORE_PSCSI[%d] - Added TYPE_DISK for %d:%d:%d\n",
+		sh->host_no, sd->channel, sd->id, sd->lun);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#235: FILE: drivers/lio-core/target_core_pscsi.c:444:
+	return(dev);

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#241: FILE: drivers/lio-core/target_core_pscsi.c:450:
+extern se_device_t *pscsi_create_type_rom (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#241: FILE: drivers/lio-core/target_core_pscsi.c:450:
+extern se_device_t *pscsi_create_type_rom (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#241: FILE: drivers/lio-core/target_core_pscsi.c:450:
+extern se_device_t *pscsi_create_type_rom (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#251: FILE: drivers/lio-core/target_core_pscsi.c:460:
+		printk(KERN_ERR "scsi_device_get() failed for %d:%d:%d:%d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#252: FILE: drivers/lio-core/target_core_pscsi.c:461:
+		printk(KERN_ERR "scsi_device_get() failed for %d:%d:%d:%d\n",
+			sh->host_no, sd->channel, sd->id, sd->lun);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#254: FILE: drivers/lio-core/target_core_pscsi.c:463:
+		return(NULL);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#258: FILE: drivers/lio-core/target_core_pscsi.c:467:
+	if (!(dev = pscsi_add_device_to_list(hba, pdv, sd, dev_flags))) {

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#260: FILE: drivers/lio-core/target_core_pscsi.c:469:
+		return(NULL);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#263: FILE: drivers/lio-core/target_core_pscsi.c:472:
+	PYXPRINT("CORE_PSCSI[%d] - Added Type: %s for %d:%d:%d\n",
+		sh->host_no, scsi_device_type(sd->type), sd->channel,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#266: FILE: drivers/lio-core/target_core_pscsi.c:475:
+^Ireturn(dev);^I$

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#266: FILE: drivers/lio-core/target_core_pscsi.c:475:
+	return(dev);	

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#272: FILE: drivers/lio-core/target_core_pscsi.c:481:
+extern se_device_t *pscsi_create_type_other (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#272: FILE: drivers/lio-core/target_core_pscsi.c:481:
+extern se_device_t *pscsi_create_type_other (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#272: FILE: drivers/lio-core/target_core_pscsi.c:481:
+extern se_device_t *pscsi_create_type_other (struct scsi_device *sd, pscsi_dev_virt_t *pdv, se_hba_t *hba)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'sd->type == TYPE_DISK'
#278: FILE: drivers/lio-core/target_core_pscsi.c:487:
+	if ((sd->type == TYPE_DISK) || (sd->type == TYPE_ROM))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'sd->type == TYPE_ROM'
#278: FILE: drivers/lio-core/target_core_pscsi.c:487:
+	if ((sd->type == TYPE_DISK) || (sd->type == TYPE_ROM))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#282: FILE: drivers/lio-core/target_core_pscsi.c:491:
+	if (!(dev = pscsi_add_device_to_list(hba, pdv, sd, dev_flags)))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#284: FILE: drivers/lio-core/target_core_pscsi.c:493:
+^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#286: FILE: drivers/lio-core/target_core_pscsi.c:495:
+	PYXPRINT("CORE_PSCSI[%d] - Added Type: %s for %d:%d:%d\n",
+		sh->host_no, scsi_device_type(sd->type), sd->channel,

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#289: FILE: drivers/lio-core/target_core_pscsi.c:498:
+	return(dev);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#374: FILE: drivers/lio-core/target_core_pscsi.c:631:
+^I^Iif ((sd->type == TYPE_DISK) || (sd->type == TYPE_ROM)) $

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'sd->type == TYPE_DISK'
#374: FILE: drivers/lio-core/target_core_pscsi.c:631:
+		if ((sd->type == TYPE_DISK) || (sd->type == TYPE_ROM)) 

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'sd->type == TYPE_ROM'
#374: FILE: drivers/lio-core/target_core_pscsi.c:631:
+		if ((sd->type == TYPE_DISK) || (sd->type == TYPE_ROM)) 

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#384: FILE: drivers/lio-core/target_core_pscsi.c:971:
+extern se_device_t *pscsi_create_virtdevice_from_fd (

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#384: FILE: drivers/lio-core/target_core_pscsi.c:971:
+extern se_device_t *pscsi_create_virtdevice_from_fd (

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#384: FILE: drivers/lio-core/target_core_pscsi.c:971:
+extern se_device_t *pscsi_create_virtdevice_from_fd (

CHECK:SPACING: No space is necessary after a cast
#388: FILE: drivers/lio-core/target_core_pscsi.c:975:
+	pscsi_dev_virt_t *pdv = (pscsi_dev_virt_t *) se_dev->se_dev_su_ptr;

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#392: FILE: drivers/lio-core/target_core_pscsi.c:979:
+	struct file *filp;
 	             ^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:CONSIDER_KSTRTO: simple_strtol is obsolete, use kstrtol instead
#400: FILE: drivers/lio-core/target_core_pscsi.c:987:
+	fd = simple_strtol(p, &p, 0);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#402: FILE: drivers/lio-core/target_core_pscsi.c:989:
+		printk(KERN_ERR "PSCSI: Illegal value of file descriptor: %d\n", fd);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#403: FILE: drivers/lio-core/target_core_pscsi.c:990:
+		return(ERR_PTR(-EINVAL));

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#405: FILE: drivers/lio-core/target_core_pscsi.c:992:
+	if (!(filp = fget(fd))) {
 	      ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#405: FILE: drivers/lio-core/target_core_pscsi.c:992:
+	if (!(filp = fget(fd))) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#406: FILE: drivers/lio-core/target_core_pscsi.c:993:
+		printk(KERN_ERR "PSCSI: Unable to fget() fd: %d\n", fd);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#407: FILE: drivers/lio-core/target_core_pscsi.c:994:
+		return(ERR_PTR(-EBADF));

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#409: FILE: drivers/lio-core/target_core_pscsi.c:996:
+	if (!(inode = igrab(filp->f_mapping->host))) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#410: FILE: drivers/lio-core/target_core_pscsi.c:997:
+		printk(KERN_ERR "PSCSI: Unable to locate struct inode for struct"

WARNING:SPLIT_STRING: quoted string split across lines
#411: FILE: drivers/lio-core/target_core_pscsi.c:998:
+		printk(KERN_ERR "PSCSI: Unable to locate struct inode for struct"
+				" block_device fd\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#412: FILE: drivers/lio-core/target_core_pscsi.c:999:
+		fput(filp);
 		     ^^^^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#413: FILE: drivers/lio-core/target_core_pscsi.c:1000:
+		return(ERR_PTR(-EINVAL));

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#421: FILE: drivers/lio-core/target_core_pscsi.c:1008:
+		if (!(bd = I_BDEV(filp->f_mapping->host))) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#422: FILE: drivers/lio-core/target_core_pscsi.c:1009:
+			printk(KERN_ERR "PSCSI: Unable to locate struct"

WARNING:SPLIT_STRING: quoted string split across lines
#423: FILE: drivers/lio-core/target_core_pscsi.c:1010:
+			printk(KERN_ERR "PSCSI: Unable to locate struct"
+				" block_device from I_BDEV()\n");

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#424: FILE: drivers/lio-core/target_core_pscsi.c:1011:
+			iput(inode);
 			^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#425: FILE: drivers/lio-core/target_core_pscsi.c:1012:
+			fput(filp);
 			     ^^^^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#426: FILE: drivers/lio-core/target_core_pscsi.c:1013:
+			return(ERR_PTR(-EINVAL));

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#428: FILE: drivers/lio-core/target_core_pscsi.c:1015:
+		if (!(gd = bd->bd_disk)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#429: FILE: drivers/lio-core/target_core_pscsi.c:1016:
+			printk(KERN_ERR "PSCSI: Unable to locate struct gendisk"

WARNING:SPLIT_STRING: quoted string split across lines
#430: FILE: drivers/lio-core/target_core_pscsi.c:1017:
+			printk(KERN_ERR "PSCSI: Unable to locate struct gendisk"
+				" from struct block_device\n");

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#431: FILE: drivers/lio-core/target_core_pscsi.c:1018:
+			iput(inode);
 			^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#432: FILE: drivers/lio-core/target_core_pscsi.c:1019:
+			fput(filp);
 			     ^^^^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#433: FILE: drivers/lio-core/target_core_pscsi.c:1020:
+			return(ERR_PTR(-EINVAL));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#446: FILE: drivers/lio-core/target_core_pscsi.c:1033:
+			printk(KERN_ERR "PSCSI: struct gendisk->driverfs_dev"

WARNING:SPLIT_STRING: quoted string split across lines
#447: FILE: drivers/lio-core/target_core_pscsi.c:1034:
+			printk(KERN_ERR "PSCSI: struct gendisk->driverfs_dev"
+					" is NULL!\n");

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#448: FILE: drivers/lio-core/target_core_pscsi.c:1035:
+			iput(inode);
 			^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#449: FILE: drivers/lio-core/target_core_pscsi.c:1036:
+			fput(filp);
 			     ^^^^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#450: FILE: drivers/lio-core/target_core_pscsi.c:1037:
+			return(ERR_PTR(-EINVAL));

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#452: FILE: drivers/lio-core/target_core_pscsi.c:1039:
+		if (!(sd = to_scsi_device(gd->driverfs_dev))) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#453: FILE: drivers/lio-core/target_core_pscsi.c:1040:
+			printk(KERN_ERR "PSCSI: Unable to locate struct scsi_device"

WARNING:SPLIT_STRING: quoted string split across lines
#454: FILE: drivers/lio-core/target_core_pscsi.c:1041:
+			printk(KERN_ERR "PSCSI: Unable to locate struct scsi_device"
+				" from struct gendisk->driverfs_dev\n");

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#455: FILE: drivers/lio-core/target_core_pscsi.c:1042:
+			iput(inode);
 			^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#456: FILE: drivers/lio-core/target_core_pscsi.c:1043:
+			fput(filp);
 			     ^^^^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#457: FILE: drivers/lio-core/target_core_pscsi.c:1044:
+			return(ERR_PTR(-EINVAL));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#460: FILE: drivers/lio-core/target_core_pscsi.c:1047:
+			printk(KERN_ERR "PSCSI: Trying to attach scsi_device"

WARNING:SPLIT_STRING: quoted string split across lines
#461: FILE: drivers/lio-core/target_core_pscsi.c:1048:
+			printk(KERN_ERR "PSCSI: Trying to attach scsi_device"
+				" Host ID: %d, but se_hba_t has SCSI Host ID: %d\n",

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#463: FILE: drivers/lio-core/target_core_pscsi.c:1050:
+			iput(inode);
 			^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#464: FILE: drivers/lio-core/target_core_pscsi.c:1051:
+			fput(filp);
 			     ^^^^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#465: FILE: drivers/lio-core/target_core_pscsi.c:1052:
+			return(ERR_PTR(-EINVAL));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#479: FILE: drivers/lio-core/target_core_pscsi.c:1066:
+			printk(KERN_ERR "PSCSI: Unable to handle type S_ISBLK() =="

WARNING:SPLIT_STRING: quoted string split across lines
#480: FILE: drivers/lio-core/target_core_pscsi.c:1067:
+			printk(KERN_ERR "PSCSI: Unable to handle type S_ISBLK() =="
+				" TRUE Type: %s\n", scsi_device_type(sd->type));

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#482: FILE: drivers/lio-core/target_core_pscsi.c:1069:
+			iput(inode);
 			^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#483: FILE: drivers/lio-core/target_core_pscsi.c:1070:
+			fput(filp);
 			     ^^^^

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#484: FILE: drivers/lio-core/target_core_pscsi.c:1071:
+			return(ERR_PTR(-ENOSYS));

ENOSYS means that a nonexistent system call was called.
Earlier, it was wrongly used for things like invalid operations on
otherwise valid syscalls.  This should be avoided in new code.

See: https://lore.kernel.org/lkml/5eb299021dec23c1a48fa7d9f2c8b794e967766d.1408730669.git.luto@amacapital.net/

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#484: FILE: drivers/lio-core/target_core_pscsi.c:1071:
+			return(ERR_PTR(-ENOSYS));

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#490: FILE: drivers/lio-core/target_core_pscsi.c:1077:
+		iput(inode);
 		^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#491: FILE: drivers/lio-core/target_core_pscsi.c:1078:
+		fput(filp);
 		     ^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#496: FILE: drivers/lio-core/target_core_pscsi.c:1083:
+		iput(inode);
 		^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#497: FILE: drivers/lio-core/target_core_pscsi.c:1084:
+		fput(filp);
 		     ^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#501: FILE: drivers/lio-core/target_core_pscsi.c:1088:
+	iput(inode);
 	^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#502: FILE: drivers/lio-core/target_core_pscsi.c:1089:
+	fput(filp);
 	     ^^^^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#517: FILE: drivers/lio-core/target_core_pscsi.h:78:
+extern se_device_t *pscsi_create_virtdevice_from_fd (se_subsystem_dev_t *, const char *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#517: FILE: drivers/lio-core/target_core_pscsi.h:78:
+extern se_device_t *pscsi_create_virtdevice_from_fd (se_subsystem_dev_t *, const char *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'se_subsystem_dev_t *' should also have an identifier name
#517: FILE: drivers/lio-core/target_core_pscsi.h:78:
+extern se_device_t *pscsi_create_virtdevice_from_fd (se_subsystem_dev_t *, const char *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'const char *' should also have an identifier name
#517: FILE: drivers/lio-core/target_core_pscsi.h:78:
+extern se_device_t *pscsi_create_virtdevice_from_fd (se_subsystem_dev_t *, const char *);

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#525: FILE: drivers/lio-core/target_core_pscsi.h:170:
+	create_virtdevice_from_fd: pscsi_create_virtdevice_from_fd, \
 	                         ^

WARNING:INDENTED_LABEL: labels should not be indented
#525: FILE: drivers/lio-core/target_core_pscsi.h:170:
+	create_virtdevice_from_fd: pscsi_create_virtdevice_from_fd, \

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000214246.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 30 errors, 59 warnings, 14 checks, 448 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000214246.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
