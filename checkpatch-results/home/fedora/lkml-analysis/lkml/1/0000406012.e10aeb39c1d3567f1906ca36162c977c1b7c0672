CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#55: FILE: drivers/net/atl1/atl1_main.c:182:
+static void mdio_write(struct net_device *netdev, int phy_id, int reg_num,
+	int val)

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#63: FILE: drivers/net/atl1/atl1_main.c:190:
+/*
+ * atl1_mii_ioctl -

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#85: FILE: drivers/net/atl1/atl1_main.c:212:
+/*
+ * atl1_ioctl -

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#401: FILE: drivers/net/atl1/atl1_main.c:354:
+			pci_unmap_page(pdev, buffer_info->dma,
+				buffer_info->length, PCI_DMA_FROMDEVICE);

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#497: FILE: drivers/net/atl1/atl1_main.c:377:
+/*
+ * atl1_clean_tx_ring - Free Tx Buffers

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#525: FILE: drivers/net/atl1/atl1_main.c:393:
+			pci_unmap_page(pdev, buffer_info->dma,
+				buffer_info->length, PCI_DMA_TODEVICE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#707: FILE: drivers/net/atl1/atl1_main.c:435:
+	pci_free_consistent(pdev, ring_header->size, ring_header->desc,
+		ring_header->dma);

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#735: FILE: drivers/net/atl1/atl1_main.c:488:
+/*
+ * atl1_set_mac - Change the Ethernet Address of the NIC

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#781: FILE: drivers/net/atl1/atl1_main.c:634:
+			dev_info(&adapter->pdev->dev, "%s link is down\n",
+				netdev->name);

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#791: FILE: drivers/net/atl1/atl1_main.c:644:
+/*
+ * atl1_set_multi - Multicast and Promiscuous mode set

CHECK:BRACES: braces {} should be used on all arms of this statement
#809: FILE: drivers/net/atl1/atl1_main.c:662:
+	if (netdev->flags & IFF_PROMISC)
[...]
+	else if (netdev->flags & IFF_ALLMULTI) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#814: FILE: drivers/net/atl1/atl1_main.c:667:
+	} else

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#831: FILE: drivers/net/atl1/atl1_main.c:684:
+/*
+ * atl1_change_mtu - Change the Maximum Transfer Unit

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'max_frame < MINIMUM_ETHERNET_FRAME_SIZE'
#843: FILE: drivers/net/atl1/atl1_main.c:696:
+	if ((max_frame < MINIMUM_ETHERNET_FRAME_SIZE) ||
+	    (max_frame > MAX_JUMBO_FRAME_SIZE)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'max_frame > MAX_JUMBO_FRAME_SIZE'
#843: FILE: drivers/net/atl1/atl1_main.c:696:
+	if ((max_frame < MINIMUM_ETHERNET_FRAME_SIZE) ||
+	    (max_frame > MAX_JUMBO_FRAME_SIZE)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'old_mtu != new_mtu'
#855: FILE: drivers/net/atl1/atl1_main.c:708:
+	if ((old_mtu != new_mtu) && netif_running(netdev)) {

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#886: FILE: drivers/net/atl1/atl1_main.c:962:
+/*
+ * When ACPI resume on some VIA MotherBoard, the Interrupt Disable bit/0x400

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#902: FILE: drivers/net/atl1/atl1_main.c:978:
+/*
+ * atl1_irq_enable - Enable default interrupt generation settings

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1017: FILE: drivers/net/atl1/atl1_main.c:1080:
+/*
+ * atl1_get_stats - Get System Network Statistics

WARNING:LINE_SPACING: Missing a blank line after declarations
#1026: FILE: drivers/net/atl1/atl1_main.c:1089:
+	struct atl1_adapter *adapter = netdev_priv(netdev);
+	return &adapter->net_stats;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1055: FILE: drivers/net/atl1/atl1_main.c:1118:
+static void atl1_clean_alloc_flag(struct atl1_adapter *adapter,
+	struct rx_return_desc *rrd, u16 offset)

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1060: FILE: drivers/net/atl1/atl1_main.c:1123:
+		rfd_ring->buffer_info[rfd_ring->next_to_clean].alloced = 0;
 		                                               ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1061: FILE: drivers/net/atl1/atl1_main.c:1124:
+		if (++rfd_ring->next_to_clean == rfd_ring->count) {
+			rfd_ring->next_to_clean = 0;
+		}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1070: FILE: drivers/net/atl1/atl1_main.c:1131:
+static void atl1_update_rfd_index(struct atl1_adapter *adapter,
+	struct rx_return_desc *rrd)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1083: FILE: drivers/net/atl1/atl1_main.c:1143:
+static void atl1_rx_checksum(struct atl1_adapter *adapter,
+	struct rx_return_desc *rrd, struct sk_buff *skb)

WARNING:PREFER_DEV_LEVEL: Prefer dev_dbg(... to dev_printk(KERN_DEBUG, ...
#1094: FILE: drivers/net/atl1/atl1_main.c:1153:
+			dev_printk(KERN_DEBUG, &pdev->dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1095: FILE: drivers/net/atl1/atl1_main.c:1154:
+			dev_printk(KERN_DEBUG, &pdev->dev,
+				"rx checksum error\n");

WARNING:PREFER_DEV_LEVEL: Prefer dev_dbg(... to dev_printk(KERN_DEBUG, ...
#1114: FILE: drivers/net/atl1/atl1_main.c:1173:
+	dev_printk(KERN_DEBUG, &pdev->dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1115: FILE: drivers/net/atl1/atl1_main.c:1174:
+	dev_printk(KERN_DEBUG, &pdev->dev,
+		"hw csum wrong, pkt_flag:%x, err_flag:%x\n",

WARNING:RETURN_VOID: void function return statements are not generally useful
#1121: FILE: drivers/net/atl1/atl1_main.c:1180:
+	return;
+}

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1124: FILE: drivers/net/atl1/atl1_main.c:1183:
+/*
+ * atl1_alloc_rx_buffers - Replace used receive buffers

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1139: FILE: drivers/net/atl1/atl1_main.c:1198:
+	next_next = rfd_next_to_use = atomic_read(&rfd_ring->next_to_use);

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1145: FILE: drivers/net/atl1/atl1_main.c:1204:
+	while (!buffer_info->alloced && !next_info->alloced) {
 	                     ^^^^^^^

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1145: FILE: drivers/net/atl1/atl1_main.c:1204:
+	while (!buffer_info->alloced && !next_info->alloced) {
 	                                            ^^^^^^^

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1147: FILE: drivers/net/atl1/atl1_main.c:1206:
+			buffer_info->alloced = 1;
 			             ^^^^^^^

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1160: FILE: drivers/net/atl1/atl1_main.c:1219:
+		/*
+		 * Make buffer alignment 2 beyond a 16 byte boundary

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1166: FILE: drivers/net/atl1/atl1_main.c:1225:
+		buffer_info->alloced = 1;
 		             ^^^^^^^

CHECK:SPACING: No space is necessary after a cast
#1168: FILE: drivers/net/atl1/atl1_main.c:1227:
+		buffer_info->length = (u16) adapter->rx_buffer_len;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1190: FILE: drivers/net/atl1/atl1_main.c:1249:
+		/*
+		 * Force memory writes to complete before letting h/w

WARNING:PREFER_DEV_LEVEL: Prefer dev_dbg(... to dev_printk(KERN_DEBUG, ...
#1229: FILE: drivers/net/atl1/atl1_main.c:1288:
+				dev_printk(KERN_DEBUG, &adapter->pdev->dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1230: FILE: drivers/net/atl1/atl1_main.c:1289:
+				dev_printk(KERN_DEBUG, &adapter->pdev->dev,
+					"incomplete RRD DMA transfer\n");

WARNING:PREFER_DEV_LEVEL: Prefer dev_dbg(... to dev_printk(KERN_DEBUG, ...
#1235: FILE: drivers/net/atl1/atl1_main.c:1294:
+			dev_printk(KERN_DEBUG, &adapter->pdev->dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1236: FILE: drivers/net/atl1/atl1_main.c:1295:
+			dev_printk(KERN_DEBUG, &adapter->pdev->dev,
+				"bad RRD\n");

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1269: FILE: drivers/net/atl1/atl1_main.c:1328:
+				buffer_info->alloced = 0;
 				             ^^^^^^^

CHECK:BRACES: braces {} should be used on all arms of this statement
#1287: FILE: drivers/net/atl1/atl1_main.c:1346:
+		if (adapter->vlgrp && (rrd->pkt_flg & PACKET_FLAG_VLAN_INS)) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1292: FILE: drivers/net/atl1/atl1_main.c:1351:
+		} else

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1297: FILE: drivers/net/atl1/atl1_main.c:1356:
+		buffer_info->alloced = 0;
 		             ^^^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1322: FILE: drivers/net/atl1/atl1_main.c:1381:
+                        ((rrd_next_to_clean & MB_RRD_CONS_INDX_MASK) <<$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1322: FILE: drivers/net/atl1/atl1_main.c:1381:
+                        ((rrd_next_to_clean & MB_RRD_CONS_INDX_MASK) <<$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1324: FILE: drivers/net/atl1/atl1_main.c:1383:
+                        ((tpd_next_to_use & MB_TPD_PROD_INDX_MASK) <<$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1324: FILE: drivers/net/atl1/atl1_main.c:1383:
+                        ((tpd_next_to_use & MB_TPD_PROD_INDX_MASK) <<$

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1365: FILE: drivers/net/atl1/atl1_main.c:1424:
+	if (netif_queue_stopped(adapter->netdev)
+	    && netif_carrier_ok(adapter->netdev))

WARNING:PREFER_DEV_LEVEL: Prefer dev_dbg(... to dev_printk(KERN_DEBUG, ...
#1468: FILE: drivers/net/atl1/atl1_main.c:1794:
+			dev_printk(KERN_DEBUG, &adapter->pdev->dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1469: FILE: drivers/net/atl1/atl1_main.c:1795:
+			dev_printk(KERN_DEBUG, &adapter->pdev->dev,
+				"pcie phy link down %x\n", status);

WARNING:PREFER_DEV_LEVEL: Prefer dev_dbg(... to dev_printk(KERN_DEBUG, ...
#1482: FILE: drivers/net/atl1/atl1_main.c:1805:
+			dev_printk(KERN_DEBUG, &adapter->pdev->dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1483: FILE: drivers/net/atl1/atl1_main.c:1806:
+			dev_printk(KERN_DEBUG, &adapter->pdev->dev,
+				"pcie DMA r/w error (status = 0x%x)\n",

WARNING:PREFER_DEV_LEVEL: Prefer dev_dbg(... to dev_printk(KERN_DEBUG, ...
#1514: FILE: drivers/net/atl1/atl1_main.c:1830:
+				dev_printk(KERN_DEBUG, &adapter->pdev->dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1515: FILE: drivers/net/atl1/atl1_main.c:1831:
+				dev_printk(KERN_DEBUG, &adapter->pdev->dev,
+					"rx exception, ISR = 0x%x\n", status);

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1568: FILE: drivers/net/atl1/atl1_main.c:1858:
+/*
+ * atl1_phy_config - Timer Call-back

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1590: FILE: drivers/net/atl1/atl1_main.c:1876:
+/*
+ * atl1_tx_timeout - Respond to a Tx Hang

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1603: FILE: drivers/net/atl1/atl1_main.c:1887:
+/*
+ * Orphaned vendor comment left intact here:

WARNING:TYPO_SPELLING: 'seemes' may be misspelled - perhaps 'seems'?
#1607: FILE: drivers/net/atl1/atl1_main.c:1891:
+ * with the SPEC. BUT, it seemes that PCIE or DMA
                           ^^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1640: FILE: drivers/net/atl1/atl1_main.c:1914:
+               container_of(work, struct atl1_adapter, link_chg_task);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1640: FILE: drivers/net/atl1/atl1_main.c:1914:
+               container_of(work, struct atl1_adapter, link_chg_task);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1654: FILE: drivers/net/atl1/atl1_main.c:1923:
+static void atl1_vlan_rx_register(struct net_device *netdev,
+	struct vlan_group *grp)

CHECK:SPACING: No space is necessary after a cast
#1930: FILE: drivers/net/atl1/atl1_main.c:2095:
+	atl1_read_phy_reg(hw, MII_BMSR, (u16 *) & ctrl);

ERROR:SPACING: space prohibited after that '&' (ctx:WxW)
#1930: FILE: drivers/net/atl1/atl1_main.c:2095:
+	atl1_read_phy_reg(hw, MII_BMSR, (u16 *) & ctrl);
 	                                        ^

CHECK:SPACING: No space is necessary after a cast
#1931: FILE: drivers/net/atl1/atl1_main.c:2096:
+	atl1_read_phy_reg(hw, MII_BMSR, (u16 *) & ctrl);

ERROR:SPACING: space prohibited after that '&' (ctx:WxW)
#1931: FILE: drivers/net/atl1/atl1_main.c:2096:
+	atl1_read_phy_reg(hw, MII_BMSR, (u16 *) & ctrl);
 	                                        ^

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000406012.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 5 errors, 36 warnings, 28 checks, 2110 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000406012.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
