WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#27: 
This patch contains code to access Brocade Fibre channel HBA firmware/hardware, part-2

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#42: FILE: drivers/scsi/bfa/bfa_ioc.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__ioc' - possible side-effects?
#84: FILE: drivers/scsi/bfa/bfa_ioc.c:43:
+#define bfa_ioc_timer_start(__ioc)					\
+	bfa_timer_begin((__ioc)->timer_mod, &(__ioc)->ioc_timer,	\
+			bfa_ioc_timeout, (__ioc), BFA_IOC_TOV)

ERROR:SPACING: space prohibited before that '++' (ctx:WxE)
#95: FILE: drivers/scsi/bfa/bfa_ioc.c:54:
+#define bfa_ioc_stats(_ioc, _stats)	(_ioc)->stats._stats ++
                                    	                     ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#95: FILE: drivers/scsi/bfa/bfa_ioc.c:54:
+#define bfa_ioc_stats(_ioc, _stats)	(_ioc)->stats._stats ++

CHECK:MACRO_ARG_PRECEDENCE: Macro argument '_stats' may be better as '(_stats)' to avoid precedence issues
#95: FILE: drivers/scsi/bfa/bfa_ioc.c:54:
+#define bfa_ioc_stats(_ioc, _stats)	(_ioc)->stats._stats ++

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'off' may be better as '(off)' to avoid precedence issues
#97: FILE: drivers/scsi/bfa/bfa_ioc.c:56:
+#define BFA_FLASH_CHUNK_NO(off)         (off / BFI_FLASH_CHUNK_SZ_WORDS)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'off' may be better as '(off)' to avoid precedence issues
#98: FILE: drivers/scsi/bfa/bfa_ioc.c:57:
+#define BFA_FLASH_OFFSET_IN_CHUNK(off)  (off % BFI_FLASH_CHUNK_SZ_WORDS)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'chunkno' may be better as '(chunkno)' to avoid precedence issues
#99: FILE: drivers/scsi/bfa/bfa_ioc.c:58:
+#define BFA_FLASH_CHUNK_ADDR(chunkno)   (chunkno * BFI_FLASH_CHUNK_SZ_WORDS)

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#241: FILE: drivers/scsi/bfa/bfa_ioc.c:200:
+		 * fall through

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#290: FILE: drivers/scsi/bfa/bfa_ioc.c:249:
+		 * fall through

WARNING:TYPO_SPELLING: 'initialzation' may be misspelled - perhaps 'initialization'?
#316: FILE: drivers/scsi/bfa/bfa_ioc.c:275:
+ * Awaiting semaphore for h/w initialzation.
                               ^^^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#339: FILE: drivers/scsi/bfa/bfa_ioc.c:298:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#365: FILE: drivers/scsi/bfa/bfa_ioc.c:324:
+		 * fall through

CHECK:LINE_SPACING: Please don't use multiple blank lines
#391: FILE: drivers/scsi/bfa/bfa_ioc.c:350:
+
+

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#418: FILE: drivers/scsi/bfa/bfa_ioc.c:377:
+		 * fall through

CHECK:LINE_SPACING: Please don't use multiple blank lines
#449: FILE: drivers/scsi/bfa/bfa_ioc.c:408:
+
+

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#474: FILE: drivers/scsi/bfa/bfa_ioc.c:433:
+		 * fall through

CHECK:LINE_SPACING: Please don't use multiple blank lines
#491: FILE: drivers/scsi/bfa/bfa_ioc.c:450:
+
+

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#522: FILE: drivers/scsi/bfa/bfa_ioc.c:481:
+		 * !!! fall through !!!

CHECK:LINE_SPACING: Please don't use multiple blank lines
#534: FILE: drivers/scsi/bfa/bfa_ioc.c:493:
+
+

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#556: FILE: drivers/scsi/bfa/bfa_ioc.c:515:
+		 * !!! fall through !!!

CHECK:LINE_SPACING: Please don't use multiple blank lines
#604: FILE: drivers/scsi/bfa/bfa_ioc.c:563:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#641: FILE: drivers/scsi/bfa/bfa_ioc.c:600:
+
+

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#695: FILE: drivers/scsi/bfa/bfa_ioc.c:654:
+	switch (event) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#721: FILE: drivers/scsi/bfa/bfa_ioc.c:680:
+
+

CHECK:SPACING: No space is necessary after a cast
#878: FILE: drivers/scsi/bfa/bfa_ioc.c:837:
+	u32       *fwsig = (u32 *) fwhdr;

WARNING:TYPO_SPELLING: 'CNA' may be misspelled - perhaps 'CAN'?
#975: FILE: drivers/scsi/bfa/bfa_ioc.c:934:
+	 * Firmware match check is relevant only for CNA.
 	                                             ^^^

WARNING:TYPO_SPELLING: 'cna' may be misspelled - perhaps 'can'?
#977: FILE: drivers/scsi/bfa/bfa_ioc.c:936:
+	if (!ioc->cna)
 	          ^^^

WARNING:TYPO_SPELLING: 'CNA' may be misspelled - perhaps 'CAN'?
#1033: FILE: drivers/scsi/bfa/bfa_ioc.c:992:
+	 * Firmware lock is relevant only for CNA.
 	                                      ^^^

WARNING:TYPO_SPELLING: 'cna' may be misspelled - perhaps 'can'?
#1036: FILE: drivers/scsi/bfa/bfa_ioc.c:995:
+	if (!ioc->cna || (bfa_ioc_fwimg_get_size(ioc) < BFA_IOC_FWIMG_MINSZ))
 	          ^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1066: FILE: drivers/scsi/bfa/bfa_ioc.c:1025:
+
+

CHECK:SPACING: No space is necessary after a cast
#1136: FILE: drivers/scsi/bfa/bfa_ioc.c:1095:
+	u32       *msgp = (u32 *) ioc_msg;

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1375: FILE: drivers/scsi/bfa/bfa_ioc.c:1334:
+	for (i = 0; i < bfa_ioc_fwimg_get_size(ioc); i++) {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1379: FILE: drivers/scsi/bfa/bfa_ioc.c:1338:
+			fwimg = bfa_ioc_fwimg_get_chunk(ioc,
+					BFA_FLASH_CHUNK_ADDR(chunkno));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1513: FILE: drivers/scsi/bfa/bfa_ioc.c:1472:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#1520: FILE: drivers/scsi/bfa/bfa_ioc.c:1479:
+/**
+* Set interrupt mode for a function: INTX or MSIX

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#1521: FILE: drivers/scsi/bfa/bfa_ioc.c:1480:
+* Set interrupt mode for a function: INTX or MSIX
+ */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1571: FILE: drivers/scsi/bfa/bfa_ioc.c:1530:
+^I^I * ^IFor catapult, choose operational mode FC/FCoE$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1689: FILE: drivers/scsi/bfa/bfa_ioc.c:1648:
+
+

WARNING:TYPO_SPELLING: 'cna' may be misspelled - perhaps 'can'?
#1806: FILE: drivers/scsi/bfa/bfa_ioc.c:1765:
+	ioc->cna = ioc->ctdev && !ioc->fcmode;
 	     ^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mc > BFI_MC_MAX'
#1977: FILE: drivers/scsi/bfa/bfa_ioc.c:1936:
+	if ((mc > BFI_MC_MAX) || (mod->mbhdlr[mc].cbfn == NULL)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'mod->mbhdlr[mc].cbfn == NULL'
#1977: FILE: drivers/scsi/bfa/bfa_ioc.c:1936:
+	if ((mc > BFI_MC_MAX) || (mod->mbhdlr[mc].cbfn == NULL)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mod->mbhdlr[mc].cbfn"
#1977: FILE: drivers/scsi/bfa/bfa_ioc.c:1936:
+	if ((mc > BFI_MC_MAX) || (mod->mbhdlr[mc].cbfn == NULL)) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2001: FILE: drivers/scsi/bfa/bfa_ioc.c:1960:
+	return (bfa_fsm_cmp_state(ioc, bfa_ioc_sm_disabling)
+		|| bfa_fsm_cmp_state(ioc, bfa_ioc_sm_disabled));

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2011: FILE: drivers/scsi/bfa/bfa_ioc.c:1970:
+	return (bfa_fsm_cmp_state(ioc, bfa_ioc_sm_reset)
+		|| bfa_fsm_cmp_state(ioc, bfa_ioc_sm_fwcheck)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2012: FILE: drivers/scsi/bfa/bfa_ioc.c:1971:
+		|| bfa_fsm_cmp_state(ioc, bfa_ioc_sm_fwcheck)
+		|| bfa_fsm_cmp_state(ioc, bfa_ioc_sm_mismatch));

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__sm' - possible side-effects?
#2015: FILE: drivers/scsi/bfa/bfa_ioc.c:1974:
+#define bfa_ioc_state_disabled(__sm)		\
+	(((__sm) == BFI_IOC_UNINIT) ||		\
+	 ((__sm) == BFI_IOC_INITING) ||		\
+	 ((__sm) == BFI_IOC_HWINIT) ||		\
+	 ((__sm) == BFI_IOC_DISABLED) ||	\
+	 ((__sm) == BFI_IOC_HBFAIL) ||		\
+	 ((__sm) == BFI_IOC_CFG_DISABLED))

WARNING:TYPO_SPELLING: 'cna' may be misspelled - perhaps 'can'?
#2118: FILE: drivers/scsi/bfa/bfa_ioc.c:2077:
+	ad_attr->cna_capable = ioc->cna;
 	                            ^^^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#2194: FILE: drivers/scsi/bfa/bfa_ioc.c:2153:
+	w              , w5;
 	               ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2426: FILE: drivers/scsi/bfa/bfa_ioc.c:2385:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2431: FILE: drivers/scsi/bfa/bfa_ioc.h:1:
+/*

CHECK:MACRO_ARG_REUSE: Macro argument reuse '_s' - possible side-effects?
#2477: FILE: drivers/scsi/bfa/bfa_ioc.h:47:
+#define BFA_ROUNDUP(_l, _s)	(((_l) + ((_s) - 1)) & ~((_s) - 1))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2479: FILE: drivers/scsi/bfa/bfa_ioc.h:49:
+
+

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'dma_addr' may be better as '(dma_addr)' to avoid precedence issues
#2481: FILE: drivers/scsi/bfa/bfa_ioc.h:51:
+#define bfa_dma_addr_set(dma_addr, pa)	\
+		__bfa_dma_addr_set(&dma_addr, (u64)pa)

CHECK:SPACING: No space is necessary after a cast
#2487: FILE: drivers/scsi/bfa/bfa_ioc.h:57:
+	dma_addr->a32.addr_lo = (u32) pa;

CHECK:SPACING: No space is necessary after a cast
#2488: FILE: drivers/scsi/bfa/bfa_ioc.h:58:
+	dma_addr->a32.addr_hi = (u32) (bfa_os_u32(pa));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2491: FILE: drivers/scsi/bfa/bfa_ioc.h:61:
+
+

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'dma_addr' may be better as '(dma_addr)' to avoid precedence issues
#2492: FILE: drivers/scsi/bfa/bfa_ioc.h:62:
+#define bfa_dma_be_addr_set(dma_addr, pa)	\
+		__bfa_dma_be_addr_set(&dma_addr, (u64)pa)

CHECK:SPACING: No space is necessary after a cast
#2497: FILE: drivers/scsi/bfa/bfa_ioc.h:67:
+	dma_addr->a32.addr_lo = (u32) bfa_os_htonl(pa);

CHECK:SPACING: No space is necessary after a cast
#2498: FILE: drivers/scsi/bfa/bfa_ioc.h:68:
+	dma_addr->a32.addr_hi = (u32) bfa_os_htonl(bfa_os_u32(pa));

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__notify' - possible side-effects?
#2574: FILE: drivers/scsi/bfa/bfa_ioc.h:144:
+#define bfa_ioc_hbfail_init(__notify, __cbfn, __cbarg) do {	\
+	(__notify)->cbfn = (__cbfn);      \
+	(__notify)->cbarg = (__cbarg);      \
+} while (0)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2583: FILE: drivers/scsi/bfa/bfa_ioc.h:153:
+^Istruct bfa_timer_mod_s ^I*timer_mod;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2584: FILE: drivers/scsi/bfa/bfa_ioc.h:154:
+^Istruct bfa_timer_s ^Iioc_timer;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2585: FILE: drivers/scsi/bfa/bfa_ioc.h:155:
+^Istruct bfa_timer_s ^Isem_timer;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2594: FILE: drivers/scsi/bfa/bfa_ioc.h:164:
+^Istruct bfa_ioc_regs_s ^Iioc_regs;$

WARNING:TYPO_SPELLING: 'cna' may be misspelled - perhaps 'can'?
#2602: FILE: drivers/scsi/bfa/bfa_ioc.h:172:
+	bfa_boolean_t		cna;
 	             		^^^

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#2612: FILE: drivers/scsi/bfa/bfa_ioc.h:182:
+#define bfa_ioc_pcifn(__ioc)		(__ioc)->pcidev.pci_func

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#2613: FILE: drivers/scsi/bfa/bfa_ioc.h:183:
+#define bfa_ioc_devid(__ioc)		(__ioc)->pcidev.device_id

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#2614: FILE: drivers/scsi/bfa/bfa_ioc.h:184:
+#define bfa_ioc_bar0(__ioc)		(__ioc)->pcidev.pci_bar_kva

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#2616: FILE: drivers/scsi/bfa/bfa_ioc.h:186:
+#define bfa_ioc_fetch_stats(__ioc, __stats) \
+		((__stats)->drv_stats) = (__ioc)->stats

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#2620: FILE: drivers/scsi/bfa/bfa_ioc.h:190:
+#define bfa_ioc_maxfrsize(__ioc)	(__ioc)->attr->maxfrsize

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#2621: FILE: drivers/scsi/bfa/bfa_ioc.h:191:
+#define bfa_ioc_rx_bbcredit(__ioc)	(__ioc)->attr->rx_bbcredit

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2630: FILE: drivers/scsi/bfa/bfa_ioc.h:200:
+void bfa_ioc_mbox_register(struct bfa_ioc_s *ioc,
+		bfa_ioc_mbox_mcfunc_t *mcfuncs);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2635: FILE: drivers/scsi/bfa/bfa_ioc.h:205:
+void bfa_ioc_mbox_regisr(struct bfa_ioc_s *ioc, enum bfi_mclass mc,
+		bfa_ioc_mbox_mcfunc_t cbfn, void *cbarg);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2641: FILE: drivers/scsi/bfa/bfa_ioc.h:211:
+void bfa_ioc_attach(struct bfa_ioc_s *ioc, void *bfa,
+		struct bfa_ioc_cbfn_s *cbfn, struct bfa_timer_mod_s *timer_mod,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2646: FILE: drivers/scsi/bfa/bfa_ioc.h:216:
+void bfa_ioc_pci_init(struct bfa_ioc_s *ioc, struct bfa_pcidev_s *pcidev,
+		enum bfi_mclass mc);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2665: FILE: drivers/scsi/bfa/bfa_ioc.h:235:
+void bfa_ioc_get_adapter_attr(struct bfa_ioc_s *ioc,
+		struct bfa_adapter_attr_s *ad_attr);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2669: FILE: drivers/scsi/bfa/bfa_ioc.h:239:
+bfa_status_t bfa_ioc_debug_fwsave(struct bfa_ioc_s *ioc, void *trcdata,
+		int *trclen);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2677: FILE: drivers/scsi/bfa/bfa_ioc.h:247:
+void bfa_ioc_hbfail_register(struct bfa_ioc_s *ioc,
+	struct bfa_ioc_hbfail_notify_s *notify);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2694: FILE: drivers/scsi/bfa/bfa_iocfc.c:1:
+/*

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2744: FILE: drivers/scsi/bfa/bfa_iocfc.c:51:
+static void bfa_iocfc_stats_swap(struct bfa_fw_stats_s *d,
+			struct bfa_fw_stats_s *s);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2762: FILE: drivers/scsi/bfa/bfa_iocfc.c:69:
+	per_reqq_sz = BFA_ROUNDUP((cfg->drvcfg.num_reqq_elems * BFI_LMSG_SZ),
+							BFA_DMA_ALIGN_SZ);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2764: FILE: drivers/scsi/bfa/bfa_iocfc.c:71:
+	per_rspq_sz = BFA_ROUNDUP((cfg->drvcfg.num_rspq_elems * BFI_LMSG_SZ),
+							BFA_DMA_ALIGN_SZ);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2825: FILE: drivers/scsi/bfa/bfa_iocfc.c:132:
+		bfa_dma_be_addr_set(cfg_info->req_cq_ba[i],
+				       iocfc->req_cq_ba[i].pa);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2827: FILE: drivers/scsi/bfa/bfa_iocfc.c:134:
+		bfa_dma_be_addr_set(cfg_info->req_shadow_ci[i],
+				       iocfc->req_cq_shadow_ci[i].pa);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2832: FILE: drivers/scsi/bfa/bfa_iocfc.c:139:
+		bfa_dma_be_addr_set(cfg_info->rsp_cq_ba[i],
+				       iocfc->rsp_cq_ba[i].pa);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2834: FILE: drivers/scsi/bfa/bfa_iocfc.c:141:
+		bfa_dma_be_addr_set(cfg_info->rsp_shadow_pi[i],
+				       iocfc->rsp_cq_shadow_pi[i].pa);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2843: FILE: drivers/scsi/bfa/bfa_iocfc.c:150:
+	bfi_h2i_set(cfg_req.mh, BFI_MC_IOCFC, BFI_IOCFC_H2I_CFG_REQ,
+			bfa_lpuid(bfa));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2847: FILE: drivers/scsi/bfa/bfa_iocfc.c:154:
+	bfa_ioc_mbox_send(&bfa->ioc, &cfg_req,
+			sizeof(struct bfi_iocfc_cfg_req_s));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2852: FILE: drivers/scsi/bfa/bfa_iocfc.c:159:
+bfa_iocfc_init_mem(struct bfa_s *bfa, void *bfad, struct bfa_iocfc_cfg_s *cfg,
+		    struct bfa_pcidev_s *pcidev)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2889: FILE: drivers/scsi/bfa/bfa_iocfc.c:196:
+bfa_iocfc_mem_claim(struct bfa_s *bfa, struct bfa_iocfc_cfg_s *cfg,
+		      struct bfa_meminfo_s *meminfo)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2912: FILE: drivers/scsi/bfa/bfa_iocfc.c:219:
+	per_reqq_sz = BFA_ROUNDUP((cfg->drvcfg.num_reqq_elems * BFI_LMSG_SZ),
+							BFA_DMA_ALIGN_SZ);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2914: FILE: drivers/scsi/bfa/bfa_iocfc.c:221:
+	per_rspq_sz = BFA_ROUNDUP((cfg->drvcfg.num_rspq_elems * BFI_LMSG_SZ),
+							BFA_DMA_ALIGN_SZ);

CHECK:SPACING: No space is necessary after a cast
#2947: FILE: drivers/scsi/bfa/bfa_iocfc.c:254:
+	bfa->iocfc.cfginfo = (struct bfi_iocfc_cfg_s *) dm_kva;

CHECK:SPACING: No space is necessary after a cast
#2956: FILE: drivers/scsi/bfa/bfa_iocfc.c:263:
+	bfa->iocfc.cfgrsp = (struct bfi_iocfc_cfgrsp_s *) dm_kva;

CHECK:SPACING: No space is necessary after a cast
#2969: FILE: drivers/scsi/bfa/bfa_iocfc.c:276:
+	bfa->iocfc.fw_stats = (struct bfa_fw_stats_s *) dm_kva;

CHECK:BRACES: braces {} should be used on all arms of this statement
#3026: FILE: drivers/scsi/bfa/bfa_iocfc.c:333:
+	if (complete) {
[...]
+	} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#3031: FILE: drivers/scsi/bfa/bfa_iocfc.c:338:
+	} else

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3064: FILE: drivers/scsi/bfa/bfa_iocfc.c:371:
+^Istruct bfi_iocfc_cfg_s ^I^I*cfginfo = iocfc->cfginfo;$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3096: FILE: drivers/scsi/bfa/bfa_iocfc.c:403:
+	bfa_timer_start(bfa, &iocfc->stats_timer,
+			    bfa_iocfc_stats_clr_timeout, bfa,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3100: FILE: drivers/scsi/bfa/bfa_iocfc.c:407:
+	bfi_h2i_set(stats_req.mh, BFI_MC_IOCFC, BFI_IOCFC_H2I_CLEAR_STATS_REQ,
+		bfa_lpuid(bfa));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3102: FILE: drivers/scsi/bfa/bfa_iocfc.c:409:
+	bfa_ioc_mbox_send(&bfa->ioc, &stats_req,
+		sizeof(struct bfi_iocfc_stats_req_s));

CHECK:SPACING: No space is necessary after a cast
#3108: FILE: drivers/scsi/bfa/bfa_iocfc.c:415:
+	u32       *dip = (u32 *) d;

CHECK:SPACING: No space is necessary after a cast
#3109: FILE: drivers/scsi/bfa/bfa_iocfc.c:416:
+	u32       *sip = (u32 *) s;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3152: FILE: drivers/scsi/bfa/bfa_iocfc.c:459:
+			bfa_os_memset(iocfc->stats_ret, 0,
+				sizeof(*iocfc->stats_ret));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3154: FILE: drivers/scsi/bfa/bfa_iocfc.c:461:
+			bfa_iocfc_stats_swap(&iocfc->stats_ret->fw_stats,
+				iocfc->fw_stats);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3182: FILE: drivers/scsi/bfa/bfa_iocfc.c:489:
+	bfa_timer_start(bfa, &iocfc->stats_timer,
+			    bfa_iocfc_stats_timeout, bfa, BFA_IOCFC_TOV);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3185: FILE: drivers/scsi/bfa/bfa_iocfc.c:492:
+	bfi_h2i_set(stats_req.mh, BFI_MC_IOCFC, BFI_IOCFC_H2I_GET_STATS_REQ,
+			bfa_lpuid(bfa));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3187: FILE: drivers/scsi/bfa/bfa_iocfc.c:494:
+	bfa_ioc_mbox_send(&bfa->ioc, &stats_req,
+		sizeof(struct bfi_iocfc_stats_req_s));

CHECK:BRACES: Unbalanced braces around else statement
#3237: FILE: drivers/scsi/bfa/bfa_iocfc.c:544:
+	else {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3274: FILE: drivers/scsi/bfa/bfa_iocfc.c:581:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3285: FILE: drivers/scsi/bfa/bfa_iocfc.c:592:
+bfa_iocfc_meminfo(struct bfa_iocfc_cfg_s *cfg, u32 *km_len,
+		u32 *dm_len)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3300: FILE: drivers/scsi/bfa/bfa_iocfc.c:607:
+bfa_iocfc_attach(struct bfa_s *bfa, void *bfad, struct bfa_iocfc_cfg_s *cfg,
+		   struct bfa_meminfo_s *meminfo, struct bfa_pcidev_s *pcidev)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3310: FILE: drivers/scsi/bfa/bfa_iocfc.c:617:
+	bfa_ioc_attach(&bfa->ioc, bfa, &bfa_iocfc_cbfn, &bfa->timer_mod,
+		bfa->trcmod, bfa->aen, bfa->logm);

CHECK:SPACING: No space is necessary after a cast
#3380: FILE: drivers/scsi/bfa/bfa_iocfc.c:687:
+	msg = (union bfi_iocfc_i2h_msg_u *) m;

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#3391: FILE: drivers/scsi/bfa/bfa_iocfc.c:698:
+		if (iocfc->stats_busy == BFA_FALSE
+		    || iocfc->stats_status == BFA_STATUS_ETIMER)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3397: FILE: drivers/scsi/bfa/bfa_iocfc.c:704:
+		bfa_cb_queue(bfa, &iocfc->stats_hcb_qe, bfa_iocfc_stats_cb,
+			      bfa);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#3404: FILE: drivers/scsi/bfa/bfa_iocfc.c:711:
+		if (iocfc->stats_busy == BFA_FALSE
+		    || iocfc->stats_status == BFA_STATUS_ETIMER)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3410: FILE: drivers/scsi/bfa/bfa_iocfc.c:717:
+		bfa_cb_queue(bfa, &iocfc->stats_hcb_qe,
+			      bfa_iocfc_stats_clr_cb, bfa);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3457: FILE: drivers/scsi/bfa/bfa_iocfc.c:764:
+	bfi_h2i_set(m->mh, BFI_MC_IOCFC, BFI_IOCFC_H2I_SET_INTR_REQ,
+			bfa_lpuid(bfa));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3480: FILE: drivers/scsi/bfa/bfa_iocfc.c:787:
+bfa_iocfc_get_stats(struct bfa_s *bfa, struct bfa_iocfc_stats_s *stats,
+		      bfa_cb_ioc_t cbfn, void *cbarg)

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3486: FILE: drivers/scsi/bfa/bfa_iocfc.c:793:
+		return (BFA_STATUS_DEVBUSY);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3496: FILE: drivers/scsi/bfa/bfa_iocfc.c:803:
+	return (BFA_STATUS_OK);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3506: FILE: drivers/scsi/bfa/bfa_iocfc.c:813:
+		return (BFA_STATUS_DEVBUSY);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#3514: FILE: drivers/scsi/bfa/bfa_iocfc.c:821:
+	return (BFA_STATUS_OK);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3539: FILE: drivers/scsi/bfa/bfa_iocfc.c:846:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3561: FILE: drivers/scsi/bfa/bfa_iocfc.c:868:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3566: FILE: drivers/scsi/bfa/bfa_iocfc.h:1:
+/*

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3628: FILE: drivers/scsi/bfa/bfa_iocfc.h:63:
+	void (*hw_msix_getvecs)(struct bfa_s *bfa, u32 *vecmap,
+			u32 *nvecs, u32 *maxvec);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#3630: FILE: drivers/scsi/bfa/bfa_iocfc.h:65:
+};
+typedef void (*bfa_cb_iocfc_t) (void *cbarg, enum bfa_status status);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3633: FILE: drivers/scsi/bfa/bfa_iocfc.h:68:
+^Istruct bfa_s ^I^I*bfa;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3634: FILE: drivers/scsi/bfa/bfa_iocfc.h:69:
+^Istruct bfa_iocfc_cfg_s ^Icfg;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3637: FILE: drivers/scsi/bfa/bfa_iocfc.h:72:
+^Iu32        ^Ireq_cq_pi[BFI_IOC_MAX_CQS];$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3638: FILE: drivers/scsi/bfa/bfa_iocfc.h:73:
+^Iu32        ^Irsp_cq_ci[BFI_IOC_MAX_CQS];$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3654: FILE: drivers/scsi/bfa/bfa_iocfc.h:89:
+^Istruct bfa_fw_stats_s ^I*fw_stats;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3655: FILE: drivers/scsi/bfa/bfa_iocfc.h:90:
+^Istruct bfa_timer_s ^Istats_timer;^I/*  timer */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3658: FILE: drivers/scsi/bfa/bfa_iocfc.h:93:
+^Ibfa_boolean_t   ^Istats_busy;^I/*  outstanding stats */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3660: FILE: drivers/scsi/bfa/bfa_iocfc.h:95:
+^Ivoid           ^I^I*stats_cbarg;^I/*  user callback arg */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3662: FILE: drivers/scsi/bfa/bfa_iocfc.h:97:
+^Istruct bfa_dma_s   ^Ireq_cq_ba[BFI_IOC_MAX_CQS];$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3663: FILE: drivers/scsi/bfa/bfa_iocfc.h:98:
+^Istruct bfa_dma_s   ^Ireq_cq_shadow_ci[BFI_IOC_MAX_CQS];$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3664: FILE: drivers/scsi/bfa/bfa_iocfc.h:99:
+^Istruct bfa_dma_s   ^Irsp_cq_ba[BFI_IOC_MAX_CQS];$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3665: FILE: drivers/scsi/bfa/bfa_iocfc.h:100:
+^Istruct bfa_dma_s   ^Irsp_cq_shadow_pi[BFI_IOC_MAX_CQS];$

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#3674: FILE: drivers/scsi/bfa/bfa_iocfc.h:109:
+#define bfa_msix_init(__bfa, __nvecs)	\
+	(__bfa)->iocfc.hwif.hw_msix_init(__bfa, __nvecs)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__bfa' - possible side-effects?
#3674: FILE: drivers/scsi/bfa/bfa_iocfc.h:109:
+#define bfa_msix_init(__bfa, __nvecs)	\
+	(__bfa)->iocfc.hwif.hw_msix_init(__bfa, __nvecs)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#3676: FILE: drivers/scsi/bfa/bfa_iocfc.h:111:
+#define bfa_msix_install(__bfa)	\
+	(__bfa)->iocfc.hwif.hw_msix_install(__bfa)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__bfa' - possible side-effects?
#3676: FILE: drivers/scsi/bfa/bfa_iocfc.h:111:
+#define bfa_msix_install(__bfa)	\
+	(__bfa)->iocfc.hwif.hw_msix_install(__bfa)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#3678: FILE: drivers/scsi/bfa/bfa_iocfc.h:113:
+#define bfa_msix_uninstall(__bfa)	\
+	(__bfa)->iocfc.hwif.hw_msix_uninstall(__bfa)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__bfa' - possible side-effects?
#3678: FILE: drivers/scsi/bfa/bfa_iocfc.h:113:
+#define bfa_msix_uninstall(__bfa)	\
+	(__bfa)->iocfc.hwif.hw_msix_uninstall(__bfa)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#3680: FILE: drivers/scsi/bfa/bfa_iocfc.h:115:
+#define bfa_isr_mode_set(__bfa, __msix)	\
+	(__bfa)->iocfc.hwif.hw_isr_mode_set(__bfa, __msix)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__bfa' - possible side-effects?
#3680: FILE: drivers/scsi/bfa/bfa_iocfc.h:115:
+#define bfa_isr_mode_set(__bfa, __msix)	\
+	(__bfa)->iocfc.hwif.hw_isr_mode_set(__bfa, __msix)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#3682: FILE: drivers/scsi/bfa/bfa_iocfc.h:117:
+#define bfa_msix_getvecs(__bfa, __vecmap, __nvecs, __maxvec)	\
+	(__bfa)->iocfc.hwif.hw_msix_getvecs(__bfa, __vecmap, __nvecs, __maxvec)

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__bfa' - possible side-effects?
#3682: FILE: drivers/scsi/bfa/bfa_iocfc.h:117:
+#define bfa_msix_getvecs(__bfa, __vecmap, __nvecs, __maxvec)	\
+	(__bfa)->iocfc.hwif.hw_msix_getvecs(__bfa, __vecmap, __nvecs, __maxvec)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3689: FILE: drivers/scsi/bfa/bfa_iocfc.h:124:
+void bfa_iocfc_meminfo(struct bfa_iocfc_cfg_s *cfg, u32 *km_len,
+		u32 *dm_len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3691: FILE: drivers/scsi/bfa/bfa_iocfc.h:126:
+void bfa_iocfc_attach(struct bfa_s *bfa, void *bfad,
+		struct bfa_iocfc_cfg_s *cfg, struct bfa_meminfo_s *meminfo,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3702: FILE: drivers/scsi/bfa/bfa_iocfc.h:137:
+void bfa_iocfc_updateq(struct bfa_s *bfa, u32 reqq_ba, u32 rspq_ba,
+			u32 reqq_sci, u32 rspq_spi,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3717: FILE: drivers/scsi/bfa/bfa_iocfc.h:152:
+void bfa_hwcb_msix_getvecs(struct bfa_s *bfa, u32 *vecmap,
+			u32 *nvecs, u32 *maxvec);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3725: FILE: drivers/scsi/bfa/bfa_iocfc.h:160:
+void bfa_hwct_msix_getvecs(struct bfa_s *bfa, u32 *vecmap,
+			u32 *nvecs, u32 *maxvec);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3729: FILE: drivers/scsi/bfa/bfa_iocfc.h:164:
+void bfa_com_attach(struct bfa_s *bfa, struct bfa_meminfo_s *mi,
+		bfa_boolean_t mincfg);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3738: FILE: drivers/scsi/bfa/bfa_iocfc_q.c:1:
+/*

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3762: FILE: drivers/scsi/bfa/bfa_iocfc_q.c:25:
+bfa_iocfc_updateq(struct bfa_s *bfa, u32 reqq_ba, u32 rspq_ba,
+				u32 reqq_sci, u32 rspq_spi, bfa_cb_iocfc_t cbfn,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3772: FILE: drivers/scsi/bfa/bfa_iocfc_q.c:35:
+	bfi_h2i_set(updateq_req.mh, BFI_MC_IOCFC, BFI_IOCFC_H2I_UPDATEQ_REQ,
+			bfa_lpuid(bfa));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3780: FILE: drivers/scsi/bfa/bfa_iocfc_q.c:43:
+	bfa_ioc_mbox_send(&bfa->ioc, &updateq_req,
+			sizeof(struct bfi_iocfc_updateq_req_s));

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000092715.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 18 errors, 41 warnings, 104 checks, 3724 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000092715.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
