CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#89: FILE: drivers/md/raid5.c:63:
+#define STRIPE_SECTORS	 (STRIPE_SIZE>>9)
                       	             ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'bio' - possible side-effects?
#105: FILE: drivers/md/raid5.c:80:
+#define r5_next_bio(bio, sect) \
+	(((bio)->bi_sector + ((bio)->bi_size >> 9) < \
+		sect + STRIPE_SECTORS) ? (bio)->bi_next : NULL)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'sect' may be better as '(sect)' to avoid precedence issues
#105: FILE: drivers/md/raid5.c:80:
+#define r5_next_bio(bio, sect) \
+	(((bio)->bi_sector + ((bio)->bi_size >> 9) < \
+		sect + STRIPE_SECTORS) ? (bio)->bi_next : NULL)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#130: FILE: drivers/md/raid5.c:129:
+			if (test_and_clear_bit(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#145: FILE: drivers/md/raid5.c:159:
+	pr_debug("remove_hash(), stripe %llu\n",
+		(unsigned long long)sh->sector);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'insert_hash', this function's name, in a string
#154: FILE: drivers/md/raid5.c:168:
+	pr_debug("insert_hash(), stripe %llu\n",

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#155: FILE: drivers/md/raid5.c:169:
+	pr_debug("insert_hash(), stripe %llu\n",
+		(unsigned long long)sh->sector);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'init_stripe', this function's name, in a string
#183: FILE: drivers/md/raid5.c:235:
+	pr_debug("init_stripe called, stripe %llu\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#184: FILE: drivers/md/raid5.c:236:
+	pr_debug("init_stripe called, stripe %llu\n",
 		(unsigned long long)sh->sector);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using '__find_stripe', this function's name, in a string
#200: FILE: drivers/md/raid5.c:270:
+	pr_debug("__find_stripe, sector %llu\n", (unsigned long long)sector);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#216: FILE: drivers/md/raid5.c:283:
+get_active_stripe(raid5_conf_t *conf, sector_t sector, int disks,
+		     int pd_idx, int noblock)

CHECK:SPACING: spaces preferred around that '*' (ctx:WxV)
#237: FILE: drivers/md/raid5.c:306:
+					 (conf->max_nr_stripes *3/4) ||
 					                       ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#237: FILE: drivers/md/raid5.c:306:
+					 (conf->max_nr_stripes *3/4) ||
 					                         ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#250: FILE: drivers/md/raid5.c:368:
+		       sizeof(struct stripe_head)+(devs-1)*sizeof(struct r5dev),
 		                                 ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#250: FILE: drivers/md/raid5.c:368:
+		       sizeof(struct stripe_head)+(devs-1)*sizeof(struct r5dev),
 		                                       ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#250: FILE: drivers/md/raid5.c:368:
+		       sizeof(struct stripe_head)+(devs-1)*sizeof(struct r5dev),
 		                                          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#261: FILE: drivers/md/raid5.c:420:
+		    sizeof(struct stripe_head)+(newsize-1)*sizeof(struct r5dev),
 		                              ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#261: FILE: drivers/md/raid5.c:420:
+		    sizeof(struct stripe_head)+(newsize-1)*sizeof(struct r5dev),
 		                                       ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#261: FILE: drivers/md/raid5.c:420:
+		    sizeof(struct stripe_head)+(newsize-1)*sizeof(struct r5dev),
 		                                          ^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#282: FILE: drivers/md/raid5.c:549:
+	pr_debug("end_read_request %llu/%d, count: %d, uptodate %d.\n",
 	                                               ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#283: FILE: drivers/md/raid5.c:550:
+	pr_debug("end_read_request %llu/%d, count: %d, uptodate %d.\n",
+		(unsigned long long)sh->sector, i, atomic_read(&sh->count),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#292: FILE: drivers/md/raid5.c:561:
+			printk(KERN_INFO

WARNING:SPLIT_STRING: quoted string split across lines
#294: FILE: drivers/md/raid5.c:563:
+				"raid5:%s: read error corrected "
+				"(%lu sectors at %llu on %s)\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#308: FILE: drivers/md/raid5.c:580:
+			printk(KERN_WARNING

WARNING:SPLIT_STRING: quoted string split across lines
#310: FILE: drivers/md/raid5.c:582:
+				"raid5:%s: read error not correctable "
+				"(sector %llu on %s).\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#319: FILE: drivers/md/raid5.c:588:
+			printk(KERN_WARNING

WARNING:SPLIT_STRING: quoted string split across lines
#321: FILE: drivers/md/raid5.c:590:
+				"raid5:%s: read error NOT corrected!! "
+				"(sector %llu on %s).\n",

WARNING:SPLIT_STRING: quoted string split across lines
#333: FILE: drivers/md/raid5.c:598:
+			       "raid5:%s: Too many read errors, failing device "
+			       "%s.\n", mdname(conf->mddev), bdn);

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#342: FILE: drivers/md/raid5.c:631:
+	pr_debug("end_write_request %llu/%d, count %d, uptodate: %d.\n",
 	                                               ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#343: FILE: drivers/md/raid5.c:632:
+	pr_debug("end_write_request %llu/%d, count %d, uptodate: %d.\n",
 		(unsigned long long)sh->sector, i, atomic_read(&sh->count),

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'error', this function's name, in a string
#351: FILE: drivers/md/raid5.c:676:
+	pr_debug("raid5: error called\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#372: FILE: drivers/md/raid5.c:705:
+raid5_compute_sector(sector_t r_sector, unsigned int raid_disks,
 			unsigned int data_disks, unsigned int * dd_idx,

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'compute_block', this function's name, in a string
#380: FILE: drivers/md/raid5.c:949:
+	pr_debug("compute_block, stripe %llu, idx %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#381: FILE: drivers/md/raid5.c:950:
+	pr_debug("compute_block, stripe %llu, idx %d\n",
 		(unsigned long long)sh->sector, dd_idx);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'compute_parity5', this function's name, in a string
#389: FILE: drivers/md/raid5.c:980:
+	pr_debug("compute_parity5, stripe %llu, method %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#390: FILE: drivers/md/raid5.c:981:
+	pr_debug("compute_parity5, stripe %llu, method %d\n",
 		(unsigned long long)sh->sector, method);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#398: FILE: drivers/md/raid5.c:997:
+				if (test_and_clear_bit(

CHECK:CAMELCASE: Avoid CamelCase: <R5_Overlap>
#399: FILE: drivers/md/raid5.c:998:
+					R5_Overlap, &sh->dev[i].flags))

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#408: FILE: drivers/md/raid5.c:1014:
+				if (test_and_clear_bit(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#419: FILE: drivers/md/raid5.c:1035:
+			while (wbi &&
+				wbi->bi_sector < sector + STRIPE_SECTORS) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#429: FILE: drivers/md/raid5.c:1082:
+	pr_debug("compute_parity, stripe %llu, method %d\n",
 		(unsigned long long)sh->sector, method);

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#442: FILE: drivers/md/raid5.c:1093:
+				if (test_and_clear_bit(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#453: FILE: drivers/md/raid5.c:1110:
+			while (wbi &&
+				wbi->bi_sector < sector + STRIPE_SECTORS) {

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#476: FILE: drivers/md/raid5.c:1127:
+			if (count <= disks-2 &&
 			                  ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#478: FILE: drivers/md/raid5.c:1129:
+				printk(KERN_WARNING

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#479: FILE: drivers/md/raid5.c:1130:
+				    "block %d/%d not uptodate on parity calc\n",
 				                     ^^^^^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'compute_block_1', this function's name, in a string
#494: FILE: drivers/md/raid5.c:1160:
+	pr_debug("compute_block_1, stripe %llu, idx %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#495: FILE: drivers/md/raid5.c:1161:
+	pr_debug("compute_block_1, stripe %llu, idx %d\n",
 		(unsigned long long)sh->sector, dd_idx);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'compute_block_2', this function's name, in a string
#503: FILE: drivers/md/raid5.c:1207:
+	pr_debug("compute_block_2, stripe %llu, idx %d,%d (%d,%d)\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#504: FILE: drivers/md/raid5.c:1208:
+	pr_debug("compute_block_2, stripe %llu, idx %d,%d (%d,%d)\n",
 	       (unsigned long long)sh->sector, dd_idx1, dd_idx2, faila, failb);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#514: FILE: drivers/md/raid5.c:1219:
+			compute_block_1(sh,
+				(dd_idx1 == qd_idx) ? dd_idx2 : dd_idx1, 0);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#535: FILE: drivers/md/raid5.c:1240:
+				printk(KERN_WARNING

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#547: FILE: drivers/md/raid5.c:1251:
+			raid6_2data_recov(disks, STRIPE_SIZE, faila, failb,
+					ptrs);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#557: FILE: drivers/md/raid5.c:1268:
+static int add_stripe_bio(struct stripe_head *sh, struct bio *bi, int dd_idx,
+			int forwrite)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#565: FILE: drivers/md/raid5.c:1275:
+	pr_debug("adding bh b#%llu to stripe s#%llu\n",
 		(unsigned long long)bi->bi_sector,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#574: FILE: drivers/md/raid5.c:1304:
+	pr_debug("added bi b#%llu to stripe s#%llu, disk %d.\n",
 		(unsigned long long)bi->bi_sector,

WARNING:LINE_SPACING: Missing a blank line after declarations
#587: FILE: drivers/md/raid5.c:1364:
+	int i;
+	for (i = disks; i--; ) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:CAMELCASE: Avoid CamelCase: <R5_ReadError>
#591: FILE: drivers/md/raid5.c:1368:
+		if (test_bit(R5_ReadError, &sh->dev[i].flags)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#593: FILE: drivers/md/raid5.c:1370:
+			mdk_rdev_t *rdev;
+			rcu_read_lock();

CHECK:CAMELCASE: Avoid CamelCase: <In_sync>
#595: FILE: drivers/md/raid5.c:1372:
+			if (rdev && test_bit(In_sync, &rdev->flags))

WARNING:LINE_SPACING: Missing a blank line after declarations
#615: FILE: drivers/md/raid5.c:1392:
+			struct bio *nextbi = r5_next_bio(bi, sh->dev[i].sector);
+			clear_bit(BIO_UPTODATE, &bi->bi_flags);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#626: FILE: drivers/md/raid5.c:1403:
+		if (bi) bitmap_end = 1;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:LINE_SPACING: Missing a blank line after declarations
#630: FILE: drivers/md/raid5.c:1407:
+			struct bio *bi2 = r5_next_bio(bi, sh->dev[i].sector);
+			clear_bit(BIO_UPTODATE, &bi->bi_flags);

CHECK:CAMELCASE: Avoid CamelCase: <R5_Insync>
#640: FILE: drivers/md/raid5.c:1417:
+		if (!test_bit(R5_Insync, &sh->dev[i].flags) ||

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#646: FILE: drivers/md/raid5.c:1423:
+			if (bi) s->to_read--;

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#665: FILE: drivers/md/raid5.c:1442:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#668: FILE: drivers/md/raid5.c:1445:
+static void handle_issuing_new_read_requests5(struct stripe_head *sh,
+			struct stripe_head_state *s, int disks)

WARNING:LINE_SPACING: Missing a blank line after declarations
#671: FILE: drivers/md/raid5.c:1448:
+	int i;
+	for (i = disks; i--;) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#673: FILE: drivers/md/raid5.c:1450:
+		struct r5dev *dev = &sh->dev[i];
+		if (!test_bit(R5_LOCKED, &dev->flags) &&

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#685: FILE: drivers/md/raid5.c:1462:
+			if (s->uptodate == disks-1) {
 			       ^^^^^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#685: FILE: drivers/md/raid5.c:1462:
+			if (s->uptodate == disks-1) {
 			                        ^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#688: FILE: drivers/md/raid5.c:1465:
+				s->uptodate++;
 				   ^^^^^^^^

CHECK:CAMELCASE: Avoid CamelCase: <R5_Wantread>
#691: FILE: drivers/md/raid5.c:1468:
+				set_bit(R5_Wantread, &dev->flags);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#694: FILE: drivers/md/raid5.c:1471:
+				pr_debug("Reading block %d (sync=%d)\n",
+					i, s->syncing);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#702: FILE: drivers/md/raid5.c:1479:
+static void handle_issuing_new_read_requests6(struct stripe_head *sh,
+			struct stripe_head_state *s, struct r6_state *r6s,

WARNING:LINE_SPACING: Missing a blank line after declarations
#706: FILE: drivers/md/raid5.c:1483:
+	int i;
+	for (i = disks; i--;) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#708: FILE: drivers/md/raid5.c:1485:
+		struct r5dev *dev = &sh->dev[i];
+		if (!test_bit(R5_LOCKED, &dev->flags) &&

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#722: FILE: drivers/md/raid5.c:1499:
+			if (s->uptodate == disks-1) {
 			       ^^^^^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#722: FILE: drivers/md/raid5.c:1499:
+			if (s->uptodate == disks-1) {
 			                        ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#724: FILE: drivers/md/raid5.c:1501:
+				pr_debug("Computing stripe %llu block %d\n",
+				       (unsigned long long)sh->sector, i);

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#726: FILE: drivers/md/raid5.c:1503:
+				s->uptodate++;
 				   ^^^^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#727: FILE: drivers/md/raid5.c:1504:
+			} else if ( s->uptodate == disks-2 && s->failed >= 2 ) {
 			               ^^^^^^^^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#727: FILE: drivers/md/raid5.c:1504:
+			} else if ( s->uptodate == disks-2 && s->failed >= 2 ) {
 			                                ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#727: FILE: drivers/md/raid5.c:1504:
+			} else if ( s->uptodate == disks-2 && s->failed >= 2 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#727: FILE: drivers/md/raid5.c:1504:
+			} else if ( s->uptodate == disks-2 && s->failed >= 2 ) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#732: FILE: drivers/md/raid5.c:1509:
+				int other;
+				for (other = disks; other--;) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#736: FILE: drivers/md/raid5.c:1513:
+					if (!test_bit(R5_UPTODATE,
+					      &sh->dev[other].flags))

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#739: FILE: drivers/md/raid5.c:1516:
+				BUG_ON(other < 0);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#741: FILE: drivers/md/raid5.c:1518:
+				pr_debug("Computing stripe %llu blocks %d,%d\n",
+				       (unsigned long long)sh->sector,

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#744: FILE: drivers/md/raid5.c:1521:
+				s->uptodate += 2;
 				   ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#750: FILE: drivers/md/raid5.c:1527:
+				pr_debug("Reading block %d (sync=%d)\n",
+					i, s->syncing);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#757: FILE: drivers/md/raid5.c:1534:
+
+

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#759: FILE: drivers/md/raid5.c:1536:
+ * any written block on an uptodate or failed drive can be returned.
                            ^^^^^^^^

WARNING:TYPO_SPELLING: 'UPTODATE' may be misspelled - perhaps 'UP-TO-DATE'?
#760: FILE: drivers/md/raid5.c:1537:
+ * Note that if we 'wrote' to a failed drive, it will be UPTODATE, but
                                                          ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#764: FILE: drivers/md/raid5.c:1541:
+static void handle_completed_write_requests(raid5_conf_t *conf,
+	struct stripe_head *sh, int disks, struct bio **return_bi)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#773: FILE: drivers/md/raid5.c:1550:
+			if (!test_bit(R5_LOCKED, &dev->flags) &&
+				test_bit(R5_UPTODATE, &dev->flags)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#777: FILE: drivers/md/raid5.c:1554:
+				int bitmap_end = 0;
+				pr_debug("Return write for disc %d\n", i);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!dev->towrite"
#791: FILE: drivers/md/raid5.c:1568:
+				if (dev->towrite == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#805: FILE: drivers/md/raid5.c:1582:
+static void handle_issuing_new_write_requests5(raid5_conf_t *conf,
+		struct stripe_head *sh,	struct stripe_head_state *s, int disks)

WARNING:LINE_SPACING: Missing a blank line after declarations
#808: FILE: drivers/md/raid5.c:1585:
+	int rmw = 0, rcw = 0, i;
+	for (i = disks ; i--;) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#811: FILE: drivers/md/raid5.c:1588:
+		struct r5dev *dev = &sh->dev[i];
+		if ((dev->towrite || i == sh->pd_idx) &&

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#816: FILE: drivers/md/raid5.c:1593:
+			else rmw += 2*disks;  /* cannot read it */
 			             ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#816: FILE: drivers/md/raid5.c:1593:
+			else rmw += 2*disks;  /* cannot read it */

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#822: FILE: drivers/md/raid5.c:1599:
+			if (test_bit(R5_Insync, &dev->flags)) rcw++;

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#823: FILE: drivers/md/raid5.c:1600:
+			else rcw += 2*disks;
 			             ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#823: FILE: drivers/md/raid5.c:1600:
+			else rcw += 2*disks;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#827: FILE: drivers/md/raid5.c:1604:
+	pr_debug("for sector %llu, rmw=%d rcw=%d\n",
+		(unsigned long long)sh->sector, rmw, rcw);

WARNING:LINE_SPACING: Missing a blank line after declarations
#833: FILE: drivers/md/raid5.c:1610:
+			struct r5dev *dev = &sh->dev[i];
+			if ((dev->towrite || i == sh->pd_idx) &&

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#837: FILE: drivers/md/raid5.c:1614:
+				if (

WARNING:SPLIT_STRING: quoted string split across lines
#840: FILE: drivers/md/raid5.c:1617:
+					pr_debug("Read_old block "
+						"%d for r-m-w\n", i);

WARNING:LINE_SPACING: Missing a blank line after declarations
#854: FILE: drivers/md/raid5.c:1631:
+			struct r5dev *dev = &sh->dev[i];
+			if (!test_bit(R5_OVERWRITE, &dev->flags) &&

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#859: FILE: drivers/md/raid5.c:1636:
+				if (

WARNING:SPLIT_STRING: quoted string split across lines
#862: FILE: drivers/md/raid5.c:1639:
+					pr_debug("Read_old block "
+						"%d for Reconstruct\n", i);

CHECK:CAMELCASE: Avoid CamelCase: <R5_Wantwrite>
#885: FILE: drivers/md/raid5.c:1662:
+				set_bit(R5_Wantwrite, &sh->dev[i].flags);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#887: FILE: drivers/md/raid5.c:1664:
+				if (!test_bit(R5_Insync, &sh->dev[i].flags)
+				    || (i == sh->pd_idx && s->failed == 0))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#900: FILE: drivers/md/raid5.c:1677:
+static void handle_issuing_new_write_requests6(raid5_conf_t *conf,
+		struct stripe_head *sh,	struct stripe_head_state *s,

WARNING:LINE_SPACING: Missing a blank line after declarations
#905: FILE: drivers/md/raid5.c:1682:
+	int qd_idx = r6s->qd_idx;
+	for (i = disks ; i--;) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#909: FILE: drivers/md/raid5.c:1686:
+		if (!test_bit(R5_OVERWRITE, &dev->flags)
+		    && i != pd_idx && i != qd_idx

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#910: FILE: drivers/md/raid5.c:1687:
+		    && i != pd_idx && i != qd_idx
+		    && (!test_bit(R5_LOCKED, &dev->flags)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#913: FILE: drivers/md/raid5.c:1690:
+			if (test_bit(R5_Insync, &dev->flags)) rcw++;

CHECK:BRACES: braces {} should be used on all arms of this statement
#913: FILE: drivers/md/raid5.c:1690:
+			if (test_bit(R5_Insync, &dev->flags)) rcw++;
[...]
+			else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#914: FILE: drivers/md/raid5.c:1691:
+			else {

WARNING:SPLIT_STRING: quoted string split across lines
#916: FILE: drivers/md/raid5.c:1693:
+				pr_debug("raid6: must_compute: "
+					"disk %d flags=%#lx\n", i, dev->flags);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#922: FILE: drivers/md/raid5.c:1699:
+	pr_debug("for sector %llu, rcw=%d, must_compute=%d\n",
+	       (unsigned long long)sh->sector, rcw, must_compute);

WARNING:LINE_SPACING: Missing a blank line after declarations
#929: FILE: drivers/md/raid5.c:1706:
+			struct r5dev *dev = &sh->dev[i];
+			if (!test_bit(R5_OVERWRITE, &dev->flags)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#930: FILE: drivers/md/raid5.c:1707:
+			if (!test_bit(R5_OVERWRITE, &dev->flags)
+			    && !(s->failed == 0 && (i == pd_idx || i == qd_idx))

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#931: FILE: drivers/md/raid5.c:1708:
+			    && !(s->failed == 0 && (i == pd_idx || i == qd_idx))
+			    && !test_bit(R5_LOCKED, &dev->flags) &&

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#934: FILE: drivers/md/raid5.c:1711:
+				if (

WARNING:SPLIT_STRING: quoted string split across lines
#937: FILE: drivers/md/raid5.c:1714:
+					pr_debug("Read_old stripe %llu "
+						"block %d for Reconstruct\n",

WARNING:SPLIT_STRING: quoted string split across lines
#944: FILE: drivers/md/raid5.c:1721:
+					pr_debug("Request delayed stripe %llu "
+						"block %d for Reconstruct\n",

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#960: FILE: drivers/md/raid5.c:1737:
+				BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#969: FILE: drivers/md/raid5.c:1746:
+				BUG();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#974: FILE: drivers/md/raid5.c:1751:
+		pr_debug("Computing parity for stripe %llu\n",
+			(unsigned long long)sh->sector);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#980: FILE: drivers/md/raid5.c:1757:
+				pr_debug("Writing stripe %llu block %d\n",
+				       (unsigned long long)sh->sector, i);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#997: FILE: drivers/md/raid5.c:1774:
+static void handle_parity_checks5(raid5_conf_t *conf, struct stripe_head *sh,
+				struct stripe_head_state *s, int disks)

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1001: FILE: drivers/md/raid5.c:1778:
+		BUG_ON(s->uptodate != disks);
 		          ^^^^^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1001: FILE: drivers/md/raid5.c:1778:
+		BUG_ON(s->uptodate != disks);

CHECK:BRACES: Unbalanced braces around else statement
#1013: FILE: drivers/md/raid5.c:1790:
+			else {

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1015: FILE: drivers/md/raid5.c:1792:
+				s->uptodate++;
 				   ^^^^^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1025: FILE: drivers/md/raid5.c:1802:
+		BUG_ON(!test_bit(R5_UPTODATE, &dev->flags));

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1026: FILE: drivers/md/raid5.c:1803:
+		BUG_ON(s->uptodate != disks);
 		          ^^^^^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1026: FILE: drivers/md/raid5.c:1803:
+		BUG_ON(s->uptodate != disks);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1036: FILE: drivers/md/raid5.c:1813:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1038: FILE: drivers/md/raid5.c:1815:
+static void handle_parity_checks6(raid5_conf_t *conf, struct stripe_head *sh,
+				struct stripe_head_state *s,

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1049: FILE: drivers/md/raid5.c:1826:
+	BUG_ON(s->failed > 2);

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1050: FILE: drivers/md/raid5.c:1827:
+	BUG_ON(s->uptodate < disks);
 	          ^^^^^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1050: FILE: drivers/md/raid5.c:1827:
+	BUG_ON(s->uptodate < disks);

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1092: FILE: drivers/md/raid5.c:1869:
+				update_p = update_q = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#1114: FILE: drivers/md/raid5.c:1891:
+			s->locked ++;
 			          ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1131: FILE: drivers/md/raid5.c:1908:
+static void handle_stripe_expansion(raid5_conf_t *conf, struct stripe_head *sh,
+				struct stripe_head_state *s,

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1147: FILE: drivers/md/raid5.c:1924:
+						conf->raid_disks-1, &dd_idx,
 						                ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!sh2"
#1151: FILE: drivers/md/raid5.c:1928:
+			if (sh2 == NULL)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1158: FILE: drivers/md/raid5.c:1935:
+			if (!test_bit(STRIPE_EXPANDING, &sh2->state) ||
+			   test_bit(R5_Expanded, &sh2->dev[dd_idx].flags)) {

CHECK:CAMELCASE: Avoid CamelCase: <R5_Expanded>
#1158: FILE: drivers/md/raid5.c:1935:
+			   test_bit(R5_Expanded, &sh2->dev[dd_idx].flags)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1203: FILE: drivers/md/raid5.c:1986:
+	pr_debug("handling stripe %llu, cnt=%d, pd_idx=%d\n",
 		(unsigned long long)sh->sector, atomic_read(&sh->count),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1228: FILE: drivers/md/raid5.c:2005:
+		pr_debug("check %d: state 0x%lx read %p write %p written %p\n",
 			i, dev->flags, dev->toread, dev->towrite, dev->written);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1253: FILE: drivers/md/raid5.c:2031:
+		if (test_bit(R5_LOCKED, &dev->flags)) s.locked++;

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1254: FILE: drivers/md/raid5.c:2032:
+		if (test_bit(R5_UPTODATE, &dev->flags)) s.uptodate++;
 		                                          ^^^^^^^^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1254: FILE: drivers/md/raid5.c:2032:
+		if (test_bit(R5_UPTODATE, &dev->flags)) s.uptodate++;

CHECK:BRACES: braces {} should be used on all arms of this statement
#1279: FILE: drivers/md/raid5.c:2049:
+		if (!rdev || !test_bit(In_sync, &rdev->flags) ||
[...]
 		} else
[...]

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1288: FILE: drivers/md/raid5.c:2057:
+	pr_debug("locked=%d uptodate=%d to_read=%d"
 	                    ^^^^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1293: FILE: drivers/md/raid5.c:2059:
+		s.locked, s.uptodate, s.to_read, s.to_write,
 		            ^^^^^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1371: FILE: drivers/md/raid5.c:2064:
+	if (s.failed > 1 && s.to_read+s.to_write+s.written)
 	                             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1371: FILE: drivers/md/raid5.c:2064:
+	if (s.failed > 1 && s.to_read+s.to_write+s.written)
 	                                        ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1425: FILE: drivers/md/raid5.c:2077:
+	if ( s.written &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1426: FILE: drivers/md/raid5.c:2078:
+	if ( s.written &&
+	     ((test_bit(R5_Insync, &dev->flags) &&

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 's.uptodate < disks'
#1466: FILE: drivers/md/raid5.c:2088:
+	if (s.to_read || s.non_overwrite ||
+		(s.syncing && (s.uptodate < disks)) || s.expanding)

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1467: FILE: drivers/md/raid5.c:2089:
+		(s.syncing && (s.uptodate < disks)) || s.expanding)
 		                 ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1467: FILE: drivers/md/raid5.c:2089:
+	if (s.to_read || s.non_overwrite ||
+		(s.syncing && (s.uptodate < disks)) || s.expanding)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1623: FILE: drivers/md/raid5.c:2113:
+	    test_bit(R5_ReadError, &sh->dev[s.failed_num].flags)
+	    && !test_bit(R5_LOCKED, &sh->dev[s.failed_num].flags)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1624: FILE: drivers/md/raid5.c:2114:
+	    && !test_bit(R5_LOCKED, &sh->dev[s.failed_num].flags)
+	    && test_bit(R5_UPTODATE, &sh->dev[s.failed_num].flags)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1744: FILE: drivers/md/raid5.c:2198:
+			pr_debug("for %llu schedule op %ld on disc %d\n",
 				(unsigned long long)sh->sector, bi->bi_rw, i);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1759: FILE: drivers/md/raid5.c:2213:
+				atomic_add(STRIPE_SECTORS,
+					&rdev->corrected_errors);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1766: FILE: drivers/md/raid5.c:2219:
+			pr_debug("skip op %ld on disc %d for sector %llu\n",
 				bi->bi_rw, i, (unsigned long long)sh->sector);

WARNING:SPLIT_STRING: quoted string split across lines
#1794: FILE: drivers/md/raid5.c:2239:
+	pr_debug("handling stripe %llu, state=%#lx cnt=%d, "
+		"pd_idx=%d, qd_idx=%d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1818: FILE: drivers/md/raid5.c:2260:
+		pr_debug("check %d: state 0x%lx read %p write %p written %p\n",
 			i, dev->flags, dev->toread, dev->towrite, dev->written);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1842: FILE: drivers/md/raid5.c:2286:
+		if (test_bit(R5_LOCKED, &dev->flags)) s.locked++;

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1843: FILE: drivers/md/raid5.c:2287:
+		if (test_bit(R5_UPTODATE, &dev->flags)) s.uptodate++;
 		                                          ^^^^^^^^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1843: FILE: drivers/md/raid5.c:2287:
+		if (test_bit(R5_UPTODATE, &dev->flags)) s.uptodate++;

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1877: FILE: drivers/md/raid5.c:2314:
+	pr_debug("locked=%d uptodate=%d to_read=%d"
 	                    ^^^^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#1883: FILE: drivers/md/raid5.c:2316:
+	       s.locked, s.uptodate, s.to_read, s.to_write, s.failed,
 	                   ^^^^^^^^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1961: FILE: drivers/md/raid5.c:2321:
+	if (s.failed > 2 && s.to_read+s.to_write+s.written)
 	                             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1961: FILE: drivers/md/raid5.c:2321:
+	if (s.failed > 2 && s.to_read+s.to_write+s.written)
 	                                        ^

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1985: FILE: drivers/md/raid5.c:2336:
+	r6s.p_failed = (s.failed >= 1 && r6s.failed_num[0] == pd_idx)
+		|| (s.failed >= 2 && r6s.failed_num[1] == pd_idx);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1988: FILE: drivers/md/raid5.c:2339:
+	r6s.q_failed = (s.failed >= 1 && r6s.failed_num[0] == r6s.qd_idx)
+		|| (s.failed >= 2 && r6s.failed_num[1] == r6s.qd_idx);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1990: FILE: drivers/md/raid5.c:2341:
+	if ( s.written &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1991: FILE: drivers/md/raid5.c:2342:
+	if ( s.written &&
+	     ( r6s.p_failed || ((test_bit(R5_Insync, &pdev->flags)

ERROR:SPACING: space prohibited after that open parenthesis '('
#1991: FILE: drivers/md/raid5.c:2342:
+	     ( r6s.p_failed || ((test_bit(R5_Insync, &pdev->flags)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1995: FILE: drivers/md/raid5.c:2344:
 			     && !test_bit(R5_LOCKED, &pdev->flags)
+			     && test_bit(R5_UPTODATE, &pdev->flags)))) &&

ERROR:SPACING: space prohibited after that open parenthesis '('
#1996: FILE: drivers/md/raid5.c:2345:
+	     ( r6s.q_failed || ((test_bit(R5_Insync, &qdev->flags)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2036: FILE: drivers/md/raid5.c:2347:
 			     && !test_bit(R5_LOCKED, &qdev->flags)
+			     && test_bit(R5_UPTODATE, &qdev->flags)))))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 's.uptodate < disks'
#2089: FILE: drivers/md/raid5.c:2354:
+	if (s.to_read || s.non_overwrite || (s.to_write && s.failed) ||
+	    (s.syncing && (s.uptodate < disks)) || s.expanding)

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#2090: FILE: drivers/md/raid5.c:2355:
+	    (s.syncing && (s.uptodate < disks)) || s.expanding)
 	                     ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2400: FILE: drivers/md/raid5.c:2464:
+			pr_debug("for %llu schedule op %ld on disc %d\n",
 				(unsigned long long)sh->sector, bi->bi_rw, i);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2409: FILE: drivers/md/raid5.c:2479:
+				atomic_add(STRIPE_SECTORS,
+					&rdev->corrected_errors);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2416: FILE: drivers/md/raid5.c:2485:
+			pr_debug("skip op %ld on disc %d for sector %llu\n",
 				bi->bi_rw, i, (unsigned long long)sh->sector);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2425: FILE: drivers/md/raid5.c:2512:
+			if (!test_and_set_bit(STRIPE_PREREAD_ACTIVE,
+			    &sh->state))

CHECK:CAMELCASE: Avoid CamelCase: <Faulty>
#2434: FILE: drivers/md/raid5.c:2541:
+		if (rdev && !test_bit(Faulty, &rdev->flags) &&

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'raid5_align_endio', this function's name, in a string
#2466: FILE: drivers/md/raid5.c:2732:
+	pr_debug("raid5_align_endio : io error...handing IO for a retry\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'chunk_aligned_read', this function's name, in a string
#2475: FILE: drivers/md/raid5.c:2770:
+		pr_debug("chunk_aligned_read : non aligned\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2505: FILE: drivers/md/raid5.c:2894:
+		new_sector = raid5_compute_sector(logical_sector, disks,
+					data_disks, &dd_idx, &pd_idx, conf);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'make_request', this function's name, in a string
#2506: FILE: drivers/md/raid5.c:2895:
+		pr_debug("raid5: make_request, sector %llu logical %llu\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2507: FILE: drivers/md/raid5.c:2896:
+		pr_debug("raid5: make_request, sector %llu logical %llu\n",
 			(unsigned long long)new_sector, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2512: FILE: drivers/md/raid5.c:2900:
+		sh = get_active_stripe(conf, new_sector, disks, pd_idx,
+				(bi->bi_rw&RWA_MASK));

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#2512: FILE: drivers/md/raid5.c:2900:
+				(bi->bi_rw&RWA_MASK));
 				          ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#2539: FILE: drivers/md/raid5.c:2935:
+			 !add_stripe_bio(sh, bi, dd_idx, (bi->bi_rw&RW_MASK))) {
 			                                           ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2560: FILE: drivers/md/raid5.c:3170:
+	bitmap_start_sync(mddev->bitmap, sector_nr, &sync_blocks,
+			still_degraded);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2570: FILE: drivers/md/raid5.c:3221:
+		sh = get_active_stripe(conf, sector, conf->raid_disks,
+			pd_idx, 1);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'raid5d', this function's name, in a string
#2579: FILE: drivers/md/raid5.c:3273:
+	pr_debug("+++ raid5d active\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'raid5d', this function's name, in a string
#2595: FILE: drivers/md/raid5.c:3331:
+	pr_debug("--- raid5d inactive\n");

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#2614: FILE: drivers/md/raid5.c:3476:
+		conf->previous_raid_disks = conf->raid_disks =

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'run', this function's name, in a string
#2629: FILE: drivers/md/raid5.c:3510:
+	pr_debug("raid5: run(%s) called.\n", mdname(mddev));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2639: FILE: drivers/md/raid5.c:3550:
+		printk(KERN_ERR "raid6: not enough configured devices for %s "

WARNING:SPLIT_STRING: quoted string split across lines
#2640: FILE: drivers/md/raid5.c:3551:
+		printk(KERN_ERR "raid6: not enough configured devices for %s "
+			"(%d, minimum 4)\n", mdname(mddev), conf->raid_disks);

WARNING:SPLIT_STRING: quoted string split across lines
#2651: FILE: drivers/md/raid5.c:3582:
+			       "raid5: cannot start dirty degraded array for "
+			       "%s\n", mdname(mddev));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2676: FILE: drivers/md/raid5.c:3733:
+	seq_printf (seq, " level %d, %dk chunk, algorithm %d",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2677: FILE: drivers/md/raid5.c:3734:
+	seq_printf (seq, " level %d, %dk chunk, algorithm %d",
+		mddev->level, mddev->chunk_size >> 10, mddev->layout);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2678: FILE: drivers/md/raid5.c:3735:
+	seq_printf (seq, " [%d/%d] [", conf->raid_disks,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2679: FILE: drivers/md/raid5.c:3736:
+	seq_printf (seq, " [%d/%d] [", conf->raid_disks,
+		conf->raid_disks - mddev->degraded);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2685: FILE: drivers/md/raid5.c:3739:
+		seq_printf(seq, "%s",
+		    conf->disks[i].rdev &&

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#2706: FILE: drivers/md/raid5.c:3868:
+		(sectors * (mddev->raid_disks-conf->max_degraded)) >> 1;
 		                             ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2724: FILE: drivers/md/raid5.c:3902:
+		printk(KERN_WARNING "raid5: reshape: not enough stripes.  "

WARNING:SPLIT_STRING: quoted string split across lines
#2725: FILE: drivers/md/raid5.c:3903:
+		printk(KERN_WARNING "raid5: reshape: not enough stripes.  "
+			"Needed %lu\n", (mddev->chunk_size / STRIPE_SIZE) * 4);

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#2734: FILE: drivers/md/raid5.c:3986:
+		mddev->raid_disks = conf->raid_disks =

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2745: FILE: drivers/md/raid5.c:4006:
+		set_capacity(conf->mddev->gendisk,
+			conf->mddev->array_size << 1);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2753: FILE: drivers/md/raid5.c:4013:
+			i_size_write(bdev->bd_inode,
+				(loff_t)conf->mddev->array_size << 10);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2801: FILE: include/linux/raid/raid5.h:31:
+ *^I^I ^I(RECONSTRUCT_WRITE)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2820: FILE: include/linux/raid/raid5.h:123:
+ * ^I^Ichange-state ..$

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#2890: FILE: include/linux/raid/raid5.h:177:
+	int locked, uptodate, to_read, to_write, failed, written;
 	            ^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2909: FILE: include/linux/raid/raid5.h:196:
+					 * on this block */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#2909: FILE: include/linux/raid/raid5.h:196:
+#define	R5_Overlap	7	/* There is a pending overlapping request
+					 * on this block */

CHECK:CAMELCASE: Avoid CamelCase: <R5_ReWrite>
#2913: FILE: include/linux/raid/raid5.h:198:
+#define	R5_ReWrite	9	/* have tried to over-write the readerror

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#2914: FILE: include/linux/raid/raid5.h:199:
+#define	R5_ReWrite	9	/* have tried to over-write the readerror
+					 */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#3040: FILE: include/linux/raid/raid5.h:307:
+^Istruct page ^I^I*spare_page;$

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000419290.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 17 errors, 90 warnings, 127 checks, 2892 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000419290.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
