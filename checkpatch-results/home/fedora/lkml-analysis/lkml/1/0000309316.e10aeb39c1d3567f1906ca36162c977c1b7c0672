WARNING:PATCH_PREFIX: patch prefix 'arch' exists, appears to be a -p0 patch

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#68: FILE: x86/kernel/pci-calgary_64.c:167:
pci_dev *dev);

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#82: FILE: x86/kernel/pci-calgary_64.c:835:
+       if (is_kdump_kernel())$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#82: FILE: x86/kernel/pci-calgary_64.c:835:
+       if (is_kdump_kernel())
+               calgary_init_bitmap_from_tce_table(tbl);

ERROR:CODE_INDENT: code indent should use tabs where possible
#83: FILE: x86/kernel/pci-calgary_64.c:836:
+               calgary_init_bitmap_from_tce_table(tbl);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#83: FILE: x86/kernel/pci-calgary_64.c:836:
+               calgary_init_bitmap_from_tce_table(tbl);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#84: FILE: x86/kernel/pci-calgary_64.c:837:
+       else$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#84: FILE: x86/kernel/pci-calgary_64.c:837:
+       else
+               tce_free(tbl, 0, tbl->it_size);

ERROR:CODE_INDENT: code indent should use tabs where possible
#85: FILE: x86/kernel/pci-calgary_64.c:838:
+               tce_free(tbl, 0, tbl->it_size);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#85: FILE: x86/kernel/pci-calgary_64.c:838:
+               tce_free(tbl, 0, tbl->it_size);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#93: FILE: x86/kernel/pci-calgary_64.c:1196:
+       if (is_kdump_kernel())$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#93: FILE: x86/kernel/pci-calgary_64.c:1196:
+       if (is_kdump_kernel())
+               grab_tce_space_from_tar();

ERROR:CODE_INDENT: code indent should use tabs where possible
#94: FILE: x86/kernel/pci-calgary_64.c:1197:
+               grab_tce_space_from_tar();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#94: FILE: x86/kernel/pci-calgary_64.c:1197:
+               grab_tce_space_from_tar();$

WARNING:TYPO_SPELLING: 'Funtion' may be misspelled - perhaps 'Function'?
#105: FILE: x86/kernel/pci-calgary_64.c:1291:
+ * Funtion for kdump case. In the second/kdump kernel initialize
    ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#110: FILE: x86/kernel/pci-calgary_64.c:1296:
+       u64 *tp;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#111: FILE: x86/kernel/pci-calgary_64.c:1297:
+       unsigned int index;$

WARNING:LINE_SPACING: Missing a blank line after declarations
#112: FILE: x86/kernel/pci-calgary_64.c:1298:
+       unsigned int index;
+       tp = ((u64 *)tbl->it_base);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#112: FILE: x86/kernel/pci-calgary_64.c:1298:
+       tp = ((u64 *)tbl->it_base);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#113: FILE: x86/kernel/pci-calgary_64.c:1299:
+       for (index = 0 ; index < tbl->it_size; index++) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#113: FILE: x86/kernel/pci-calgary_64.c:1299:
+       for (index = 0 ; index < tbl->it_size; index++) {
+               if (*tp != 0x0)

ERROR:CODE_INDENT: code indent should use tabs where possible
#114: FILE: x86/kernel/pci-calgary_64.c:1300:
+               if (*tp != 0x0)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#114: FILE: x86/kernel/pci-calgary_64.c:1300:
+               if (*tp != 0x0)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#114: FILE: x86/kernel/pci-calgary_64.c:1300:
+               if (*tp != 0x0)
+                       set_bit(index, tbl->it_map);

ERROR:CODE_INDENT: code indent should use tabs where possible
#115: FILE: x86/kernel/pci-calgary_64.c:1301:
+                       set_bit(index, tbl->it_map);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#115: FILE: x86/kernel/pci-calgary_64.c:1301:
+                       set_bit(index, tbl->it_map);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#117: FILE: x86/kernel/pci-calgary_64.c:1303:
+               tp++;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#117: FILE: x86/kernel/pci-calgary_64.c:1303:
+               tp++;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#118: FILE: x86/kernel/pci-calgary_64.c:1304:
+       }$

WARNING:TYPO_SPELLING: 'adress' may be misspelled - perhaps 'address'?
#131: FILE: x86/kernel/pci-calgary_64.c:1372:
+ * by reading the contents of the base adress register of calgary iommu
                                        ^^^^^^

ERROR:FUNCTION_WITHOUT_ARGS: Bad function definition - void grab_tce_space_from_tar() should probably be void grab_tce_space_from_tar(void)
#133: FILE: x86/kernel/pci-calgary_64.c:1374:
+static void grab_tce_space_from_tar()

Function declarations without arguments like::

  int foo()

should be::

  int foo(void)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#135: FILE: x86/kernel/pci-calgary_64.c:1376:
+       int bus;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#136: FILE: x86/kernel/pci-calgary_64.c:1377:
+       void __iomem *target;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#137: FILE: x86/kernel/pci-calgary_64.c:1378:
+       unsigned long tce_space;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#139: FILE: x86/kernel/pci-calgary_64.c:1380:
+       for (bus = 0; bus < MAX_PHB_BUS_NUM; bus++) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#139: FILE: x86/kernel/pci-calgary_64.c:1380:
+       for (bus = 0; bus < MAX_PHB_BUS_NUM; bus++) {
+               struct calgary_bus_info *info = &bus_info[bus];

ERROR:CODE_INDENT: code indent should use tabs where possible
#140: FILE: x86/kernel/pci-calgary_64.c:1381:
+               struct calgary_bus_info *info = &bus_info[bus];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#140: FILE: x86/kernel/pci-calgary_64.c:1381:
+               struct calgary_bus_info *info = &bus_info[bus];$

ERROR:CODE_INDENT: code indent should use tabs where possible
#141: FILE: x86/kernel/pci-calgary_64.c:1382:
+               unsigned short pci_device;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#141: FILE: x86/kernel/pci-calgary_64.c:1382:
+               unsigned short pci_device;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#142: FILE: x86/kernel/pci-calgary_64.c:1383:
+               u32 val;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#142: FILE: x86/kernel/pci-calgary_64.c:1383:
+               u32 val;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#144: FILE: x86/kernel/pci-calgary_64.c:1385:
+               val = read_pci_config(bus, 0, 0, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#144: FILE: x86/kernel/pci-calgary_64.c:1385:
+               val = read_pci_config(bus, 0, 0, 0);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#145: FILE: x86/kernel/pci-calgary_64.c:1386:
+               pci_device = (val & 0xFFFF0000) >> 16;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#145: FILE: x86/kernel/pci-calgary_64.c:1386:
+               pci_device = (val & 0xFFFF0000) >> 16;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#147: FILE: x86/kernel/pci-calgary_64.c:1388:
+               if (!is_cal_pci_dev(pci_device))$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#147: FILE: x86/kernel/pci-calgary_64.c:1388:
+               if (!is_cal_pci_dev(pci_device))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#147: FILE: x86/kernel/pci-calgary_64.c:1388:
+               if (!is_cal_pci_dev(pci_device))
+                       continue;

ERROR:CODE_INDENT: code indent should use tabs where possible
#148: FILE: x86/kernel/pci-calgary_64.c:1389:
+                       continue;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#148: FILE: x86/kernel/pci-calgary_64.c:1389:
+                       continue;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#150: FILE: x86/kernel/pci-calgary_64.c:1391:
+               if (info->translation_disabled)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#150: FILE: x86/kernel/pci-calgary_64.c:1391:
+               if (info->translation_disabled)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#150: FILE: x86/kernel/pci-calgary_64.c:1391:
+               if (info->translation_disabled)
+                       continue;

ERROR:CODE_INDENT: code indent should use tabs where possible
#151: FILE: x86/kernel/pci-calgary_64.c:1392:
+                       continue;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#151: FILE: x86/kernel/pci-calgary_64.c:1392:
+                       continue;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#153: FILE: x86/kernel/pci-calgary_64.c:1394:
+               if (calgary_bus_has_devices(bus, pci_device) ||$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#153: FILE: x86/kernel/pci-calgary_64.c:1394:
+               if (calgary_bus_has_devices(bus, pci_device) ||$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#153: FILE: x86/kernel/pci-calgary_64.c:1394:
+               if (calgary_bus_has_devices(bus, pci_device) ||
[...]
+                       target = calgary_reg(bus_info[bus].bbar,

ERROR:CODE_INDENT: code indent should use tabs where possible
#154: FILE: x86/kernel/pci-calgary_64.c:1395:
+                   translate_empty_slots) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#154: FILE: x86/kernel/pci-calgary_64.c:1395:
+                   translate_empty_slots) {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#155: FILE: x86/kernel/pci-calgary_64.c:1396:
+                       target = calgary_reg(bus_info[bus].bbar,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#155: FILE: x86/kernel/pci-calgary_64.c:1396:
+                       target = calgary_reg(bus_info[bus].bbar,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#156: FILE: x86/kernel/pci-calgary_64.c:1397:
+                                               tar_offset(bus));$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#156: FILE: x86/kernel/pci-calgary_64.c:1397:
+                       target = calgary_reg(bus_info[bus].bbar,
+                                               tar_offset(bus));

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#156: FILE: x86/kernel/pci-calgary_64.c:1397:
+                                               tar_offset(bus));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#157: FILE: x86/kernel/pci-calgary_64.c:1398:
+                       tce_space = be64_to_cpu(readq(target));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#157: FILE: x86/kernel/pci-calgary_64.c:1398:
+                       tce_space = be64_to_cpu(readq(target));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#158: FILE: x86/kernel/pci-calgary_64.c:1399:
+                       tce_space = tce_space & TAR_SW_BITS;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#158: FILE: x86/kernel/pci-calgary_64.c:1399:
+                       tce_space = tce_space & TAR_SW_BITS;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#160: FILE: x86/kernel/pci-calgary_64.c:1401:
+                       BUG_ON(specified_table_size > TCE_TABLE_SIZE_8M);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#160: FILE: x86/kernel/pci-calgary_64.c:1401:
+                       BUG_ON(specified_table_size > TCE_TABLE_SIZE_8M);$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#160: FILE: x86/kernel/pci-calgary_64.c:1401:
+                       BUG_ON(specified_table_size > TCE_TABLE_SIZE_8M);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

ERROR:CODE_INDENT: code indent should use tabs where possible
#162: FILE: x86/kernel/pci-calgary_64.c:1403:
+                       tce_space = tce_space & (~specified_table_size);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#162: FILE: x86/kernel/pci-calgary_64.c:1403:
+                       tce_space = tce_space & (~specified_table_size);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#163: FILE: x86/kernel/pci-calgary_64.c:1404:
+                       info->tce_space = (u64 *)__va(tce_space);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#163: FILE: x86/kernel/pci-calgary_64.c:1404:
+                       info->tce_space = (u64 *)__va(tce_space);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#164: FILE: x86/kernel/pci-calgary_64.c:1405:
+               }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#164: FILE: x86/kernel/pci-calgary_64.c:1405:
+               }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#165: FILE: x86/kernel/pci-calgary_64.c:1406:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#174: FILE: x86/kernel/pci-calgary_64.c:1414:
+       unsigned long ptr, max_pfn;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#184: FILE: x86/kernel/pci-calgary_64.c:1464:
+       max_pfn = is_kdump_kernel() ? saved_max_pfn : end_pfn ;$

WARNING:SPACING: space prohibited before semicolon
#184: FILE: x86/kernel/pci-calgary_64.c:1464:
+       max_pfn = is_kdump_kernel() ? saved_max_pfn : end_pfn ;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#185: FILE: x86/kernel/pci-calgary_64.c:1465:
+       specified_table_size = determine_tce_table_size(max_pfn * $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#185: FILE: x86/kernel/pci-calgary_64.c:1465:
+       specified_table_size = determine_tce_table_size(max_pfn * $

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#192: FILE: x86/kernel/pci-calgary_64.c:1481:
                if (calgary_bus_has_devices(bus, pci_device) ||
[...]
+                       if (!is_kdump_kernel()) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#198: FILE: x86/kernel/pci-calgary_64.c:1483:
+                       /*$

ERROR:CODE_INDENT: code indent should use tabs where possible
#199: FILE: x86/kernel/pci-calgary_64.c:1484:
+                        * If this is a kdump kernel find and use$

ERROR:CODE_INDENT: code indent should use tabs where possible
#200: FILE: x86/kernel/pci-calgary_64.c:1485:
+                        * the tce tables from first kernel$

ERROR:CODE_INDENT: code indent should use tabs where possible
#201: FILE: x86/kernel/pci-calgary_64.c:1486:
+                        */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#202: FILE: x86/kernel/pci-calgary_64.c:1487:
+                       if (!is_kdump_kernel()) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#202: FILE: x86/kernel/pci-calgary_64.c:1487:
+                       if (!is_kdump_kernel()) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (23, 31)
#202: FILE: x86/kernel/pci-calgary_64.c:1487:
+                       if (!is_kdump_kernel()) {
+                               tbl = alloc_tce_table();

ERROR:CODE_INDENT: code indent should use tabs where possible
#203: FILE: x86/kernel/pci-calgary_64.c:1488:
+                               tbl = alloc_tce_table();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#203: FILE: x86/kernel/pci-calgary_64.c:1488:
+                               tbl = alloc_tce_table();$

ERROR:CODE_INDENT: code indent should use tabs where possible
#204: FILE: x86/kernel/pci-calgary_64.c:1489:
+                               if (!tbl)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#204: FILE: x86/kernel/pci-calgary_64.c:1489:
+                               if (!tbl)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (31, 39)
#204: FILE: x86/kernel/pci-calgary_64.c:1489:
+                               if (!tbl)
+                                       goto cleanup;

ERROR:CODE_INDENT: code indent should use tabs where possible
#205: FILE: x86/kernel/pci-calgary_64.c:1490:
+                                       goto cleanup;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#205: FILE: x86/kernel/pci-calgary_64.c:1490:
+                                       goto cleanup;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#206: FILE: x86/kernel/pci-calgary_64.c:1491:
+                               info->tce_space = tbl;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#206: FILE: x86/kernel/pci-calgary_64.c:1491:
+                               info->tce_space = tbl;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#207: FILE: x86/kernel/pci-calgary_64.c:1492:
+                       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#207: FILE: x86/kernel/pci-calgary_64.c:1492:
+                       }$

WARNING:PATCH_PREFIX: patch prefix 'include' exists, appears to be a -p0 patch

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#221: FILE: linux/crash_dump.h:27:
+       return (elfcorehdr_addr != ELFCORE_ADDR_MAX) ? 1 : 0 ;$

WARNING:SPACING: space prohibited before semicolon
#221: FILE: linux/crash_dump.h:27:
+       return (elfcorehdr_addr != ELFCORE_ADDR_MAX) ? 1 : 0 ;

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000309316.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 total: 38 errors, 68 warnings, 1 checks, 159 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.JOzjvdpBcb//home/fedora/lkml-analysis/lkml/1/patch.offset.0000309316.commit.e10aeb39c1d3567f1906ca36162c977c1b7c0672 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
