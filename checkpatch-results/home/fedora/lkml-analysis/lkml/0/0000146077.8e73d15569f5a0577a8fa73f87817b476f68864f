WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#38: 
Compile tested. I don't have hardware to do an actual test, but I don't see 

WARNING:TYPO_SPELLING: 'ioclt' may be misspelled - perhaps 'ioctl'?
#101: FILE: drivers/ide/ide-cd.c:166:
+ * 4.04  Dec 29, 1996  -- Added CDROMREADRAW ioclt based on patch
                                              ^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'mechine' may be misspelled - perhaps 'machine'?
#130: FILE: drivers/ide/ide-cd.c:209:
+ * 4.15  Aug 25, 1998  -- Updated ide-cd.h to respect mechine endianess,
                                                       ^^^^^^^

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#192: FILE: drivers/ide/ide-cd.c:381:
 	switch (sense->sense_key) {
+		case NO_SENSE:
+		case RECOVERED_ERROR:

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#208: FILE: drivers/ide/ide-cd.c:419:
+static void cdrom_analyze_sense_data(ide_drive_t *drive,
+		struct request *failed_command, struct request_sense *sense)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#248: FILE: drivers/ide/ide-cd.c:511:
+				printk("%02x ", failed_command->cmd[i]);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#249: FILE: drivers/ide/ide-cd.c:512:
+			printk("\"\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#258: FILE: drivers/ide/ide-cd.c:536:
+			printk("\n");

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#288: FILE: drivers/ide/ide-cd.c:593:
+static void cdrom_end_request(ide_drive_t *drive, int uptodate)
                                                       ^^^^^^^^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#324: FILE: drivers/ide/ide-cd.c:726:
+				printk("%s: tray open\n", drive->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#362: FILE: drivers/ide/ide-cd.c:823:
+			printk(KERN_INFO "ide-cd: cmd 0x%x timed out\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#363: FILE: drivers/ide/ide-cd.c:824:
+			printk(KERN_INFO "ide-cd: cmd 0x%x timed out\n",
+				rq->cmd[0]);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#392: FILE: drivers/ide/ide-cd.c:867:
+		ide_execute_command(drive, WIN_PACKETCMD, handler,
+			ATAPI_WAIT_PC, cdrom_timer_expiry);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#413: FILE: drivers/ide/ide-cd.c:893:
+static ide_startstop_t cdrom_transfer_packet_command(ide_drive_t *drive,
+		struct request *rq, ide_handler_t *handler)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#424: FILE: drivers/ide/ide-cd.c:944:
+static void cdrom_buffer_sectors(ide_drive_t *drive, unsigned long sector,
+		int sectors_to_transfer)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#435: FILE: drivers/ide/ide-cd.c:987:
+static inline int cdrom_read_check_ireason(ide_drive_t *drive, int len,
+		int ireason)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#443: FILE: drivers/ide/ide-cd.c:993:
+		printk(KERN_ERR "%s: read_intr: Drive wants to transfer data "

WARNING:SPLIT_STRING: quoted string split across lines
#444: FILE: drivers/ide/ide-cd.c:994:
+		printk(KERN_ERR "%s: read_intr: Drive wants to transfer data "
+				"the wrong way!\n", drive->name);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:TYPO_SPELLING: 'dum' may be misspelled - perhaps 'dumb'?
#452: FILE: drivers/ide/ide-cd.c:1000:
+			HWIF(drive)->atapi_output_bytes(drive, &dum, sizeof(dum));
 			                                        ^^^

WARNING:TYPO_SPELLING: 'dum' may be misspelled - perhaps 'dumb'?
#452: FILE: drivers/ide/ide-cd.c:1000:
+			HWIF(drive)->atapi_output_bytes(drive, &dum, sizeof(dum));
 			                                                    ^^^

WARNING:TYPO_SPELLING: 'dum' may be misspelled - perhaps 'dumb'?
#453: FILE: drivers/ide/ide-cd.c:1001:
+			len -= sizeof(dum);
 			              ^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#466: FILE: drivers/ide/ide-cd.c:1011:
+		printk(KERN_ERR "%s: read_intr: bad interrupt reason %x\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#467: FILE: drivers/ide/ide-cd.c:1012:
+		printk(KERN_ERR "%s: read_intr: bad interrupt reason %x\n",
+				drive->name, ireason);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#493: FILE: drivers/ide/ide-cd.c:1063:
+			printk(KERN_ERR "%s: cdrom_read_intr: data underrun "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'cdrom_read_intr', this function's name, in a string
#493: FILE: drivers/ide/ide-cd.c:1063:
+			printk(KERN_ERR "%s: cdrom_read_intr: data underrun "

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:SPLIT_STRING: quoted string split across lines
#494: FILE: drivers/ide/ide-cd.c:1064:
+			printk(KERN_ERR "%s: cdrom_read_intr: data underrun "
+					"(%d blocks)\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#512: FILE: drivers/ide/ide-cd.c:1081:
+		printk(KERN_ERR "%s: cdrom_read_intr: Bad transfer size %d\n",

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'cdrom_read_intr', this function's name, in a string
#512: FILE: drivers/ide/ide-cd.c:1081:
+		printk(KERN_ERR "%s: cdrom_read_intr: Bad transfer size %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#513: FILE: drivers/ide/ide-cd.c:1082:
+		printk(KERN_ERR "%s: cdrom_read_intr: Bad transfer size %d\n",
 			drive->name, len);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#516: FILE: drivers/ide/ide-cd.c:1084:
+			printk(KERN_ERR "  This drive is not supported by this"

WARNING:SPLIT_STRING: quoted string split across lines
#517: FILE: drivers/ide/ide-cd.c:1085:
+			printk(KERN_ERR "  This drive is not supported by this"
+					" version of the driver\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#520: FILE: drivers/ide/ide-cd.c:1087:
+			printk(KERN_ERR "  Trying to limit transfer sizes\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#530: FILE: drivers/ide/ide-cd.c:1100:
+	nskip = min_t(int, rq->current_nr_sectors - bio_cur_sectors(rq->bio),
+			sectors_to_transfer);

WARNING:TYPO_SPELLING: 'dum' may be misspelled - perhaps 'dumb'?
#537: FILE: drivers/ide/ide-cd.c:1106:
+		HWIF(drive)->atapi_input_bytes(drive, dum, sizeof(dum));
 		                                      ^^^

WARNING:TYPO_SPELLING: 'dum' may be misspelled - perhaps 'dumb'?
#537: FILE: drivers/ide/ide-cd.c:1106:
+		HWIF(drive)->atapi_input_bytes(drive, dum, sizeof(dum));
 		                                                  ^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!info->buffer"
#564: FILE: drivers/ide/ide-cd.c:1165:
+	if (info->buffer == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#575: FILE: drivers/ide/ide-cd.c:1177:
+		memcpy(rq->buffer,
 			info->buffer +

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#593: FILE: drivers/ide/ide-cd.c:1238:
+			printk(KERN_ERR "%s: cdrom_start_read_continuation: "

WARNING:SPLIT_STRING: quoted string split across lines
#594: FILE: drivers/ide/ide-cd.c:1239:
+			printk(KERN_ERR "%s: cdrom_start_read_continuation: "
+					"buffer botch (%u)\n",

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#687: FILE: drivers/ide/ide-cd.c:1404:
+			/* Comment this out, because this always happens
+			   right after a reset occurs, and it is annoying to

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#736: FILE: drivers/ide/ide-cd.c:1467:
+		printk(KERN_ERR "%s: cdrom_pc_intr: The drive "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'cdrom_pc_intr', this function's name, in a string
#736: FILE: drivers/ide/ide-cd.c:1467:
+		printk(KERN_ERR "%s: cdrom_pc_intr: The drive "

WARNING:SPLIT_STRING: quoted string split across lines
#737: FILE: drivers/ide/ide-cd.c:1468:
+		printk(KERN_ERR "%s: cdrom_pc_intr: The drive "
+				"appears confused (ireason = 0x%02x)\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#794: FILE: drivers/ide/ide-cd.c:1559:
+static inline int cdrom_write_check_ireason(ide_drive_t *drive, int len,
+		int ireason)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#824: FILE: drivers/ide/ide-cd.c:1711:
+			printk(KERN_ERR "%s: confused, missing data\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#825: FILE: drivers/ide/ide-cd.c:1712:
+			printk(KERN_ERR "%s: confused, missing data\n",
+					drive->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#835: FILE: drivers/ide/ide-cd.c:1807:
+			printk(KERN_ERR "%s: write_intr: data underrun "

WARNING:SPLIT_STRING: quoted string split across lines
#836: FILE: drivers/ide/ide-cd.c:1808:
+			printk(KERN_ERR "%s: write_intr: data underrun "
+					"(%d blocks)\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#847: FILE: drivers/ide/ide-cd.c:1837:
+		this_transfer = min_t(int, sectors_to_transfer,
+					rq->current_nr_sectors);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#891: FILE: drivers/ide/ide-cd.c:1968:
+static ide_startstop_t ide_do_rw_cdrom(ide_drive_t *drive, struct request *rq,
+		sector_t block)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#905: FILE: drivers/ide/ide-cd.c:1984:
+				printk(KERN_ERR "%s: DSC timeout\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#906: FILE: drivers/ide/ide-cd.c:1985:
+				printk(KERN_ERR "%s: DSC timeout\n",
+						drive->name);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#912: FILE: drivers/ide/ide-cd.c:1990:
+		if ((rq_data_dir(rq) == READ) &&
+				IDE_LARGE_SEEK(info->last_block, block,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#913: FILE: drivers/ide/ide-cd.c:1991:
+				IDE_LARGE_SEEK(info->last_block, block,
+				IDECD_SEEK_THRESHOLD) && drive->dsc_overlap) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#977: FILE: drivers/ide/ide-cd.c:2077:
+        /* the Sanyo 3 CD changer uses byte 7 of TEST_UNIT_READY to$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#988: FILE: drivers/ide/ide-cd.c:2089:
+static int cdrom_lockdoor(ide_drive_t *drive, int lockflag,
+		struct request_sense *sense)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#998: FILE: drivers/ide/ide-cd.c:2114:
+		printk(KERN_ERR "%s: door locking not supported\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#999: FILE: drivers/ide/ide-cd.c:2115:
+		printk(KERN_ERR "%s: door locking not supported\n",
+				drive->name);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*toc)...) over kmalloc(sizeof(struct atapi_toc)...)
#1066: FILE: drivers/ide/ide-cd.c:2224:
+		toc = kmalloc(sizeof(struct atapi_toc), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1070: FILE: drivers/ide/ide-cd.c:2227:
+			printk(KERN_ERR "%s: No cdrom TOC buffer!\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1071: FILE: drivers/ide/ide-cd.c:2228:
+			printk(KERN_ERR "%s: No cdrom TOC buffer!\n",
+					drive->name);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1099: FILE: drivers/ide/ide-cd.c:2252:
+	stat = cdrom_read_tocentry(drive, 0, 1, 0, (char *)&toc->hdr,
+				sizeof(struct atapi_toc_header), sense);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1126: FILE: drivers/ide/ide-cd.c:2294:
+ ^I^Iif (stat)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1126: FILE: drivers/ide/ide-cd.c:2294:
+ ^I^Iif (stat)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1126: FILE: drivers/ide/ide-cd.c:2294:
+ ^I^Iif (stat)$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1150: FILE: drivers/ide/ide-cd.c:2330:
+		toc->ent[i].addr.lba = msf_to_lba(toc->ent[i].addr.msf.minute,
+						toc->ent[i].addr.msf.second,

ERROR:CODE_INDENT: code indent should use tabs where possible
#1179: FILE: drivers/ide/ide-cd.c:2358:
+^I^I^I^I^I  ^Ims_tmp.ent.addr.msf.second,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1179: FILE: drivers/ide/ide-cd.c:2358:
+^I^I^I^I^I  ^Ims_tmp.ent.addr.msf.second,$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1242: FILE: drivers/ide/ide-cd.c:2504:
+static int ide_cdrom_dev_ioctl(struct cdrom_device_info *cdi,
+		unsigned int cmd, unsigned long arg)

ERROR:CODE_INDENT: code indent should use tabs where possible
#1253: FILE: drivers/ide/ide-cd.c:2517:
+ ^I^Iif (copy_from_user(&spindown, (void __user *)arg, sizeof(char)))$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1253: FILE: drivers/ide/ide-cd.c:2517:
+ ^I^Iif (copy_from_user(&spindown, (void __user *)arg, sizeof(char)))$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1253: FILE: drivers/ide/ide-cd.c:2517:
+ ^I^Iif (copy_from_user(&spindown, (void __user *)arg, sizeof(char)))$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1266: FILE: drivers/ide/ide-cd.c:2526:
+ ^I}$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1266: FILE: drivers/ide/ide-cd.c:2526:
+ ^I}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1266: FILE: drivers/ide/ide-cd.c:2526:
+ ^I}$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1267: FILE: drivers/ide/ide-cd.c:2527:
+  ^Icase CDROMGETSPINDOWN: {$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1267: FILE: drivers/ide/ide-cd.c:2527:
+  ^Icase CDROMGETSPINDOWN: {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1267: FILE: drivers/ide/ide-cd.c:2527:
+  ^Icase CDROMGETSPINDOWN: {$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1279: FILE: drivers/ide/ide-cd.c:2535:
+		if (copy_to_user((void __user *)arg, &spindown, sizeof (char)))

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#1287: FILE: drivers/ide/ide-cd.c:2540:
+ ^Idefault:$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1287: FILE: drivers/ide/ide-cd.c:2540:
+ ^Idefault:$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1287: FILE: drivers/ide/ide-cd.c:2540:
+ ^Idefault:$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1298: FILE: drivers/ide/ide-cd.c:2547:
+static int ide_cdrom_audio_ioctl(struct cdrom_device_info *cdi,
+		unsigned int cmd, void *arg)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1357: FILE: drivers/ide/ide-cd.c:2619:
+static int ide_cdrom_reset (struct cdrom_device_info *cdi)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1405: FILE: drivers/ide/ide-cd.c:2662:
+static int ide_cdrom_get_capabilities(ide_drive_t *drive,
+		struct atapi_capabilities_page *cap)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1425: FILE: drivers/ide/ide-cd.c:2687:
+static void ide_cdrom_update_speed(ide_drive_t *drive,
+		struct atapi_capabilities_page *cap)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1435: FILE: drivers/ide/ide-cd.c:2704:
+static int ide_cdrom_select_speed (struct cdrom_device_info *cdi, int speed)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1461: FILE: drivers/ide/ide-cd.c:2750:
+	if (sense.sense_key == NOT_READY && sense.asc == 0x04 &&
+			sense.ascq == 0x04)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1473: FILE: drivers/ide/ide-cd.c:2771:
+static int ide_cdrom_get_last_session(struct cdrom_device_info *cdi,
+		struct cdrom_multisession *ms_info)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1488: FILE: drivers/ide/ide-cd.c:2790:
+static int ide_cdrom_get_mcn (struct cdrom_device_info *cdi,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1489: FILE: drivers/ide/ide-cd.c:2791:
+static int ide_cdrom_get_mcn (struct cdrom_device_info *cdi,
+		struct cdrom_mcn *mcn_info)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1498: FILE: drivers/ide/ide-cd.c:2798:
+	if ((stat = cdrom_read_subchannel(drive, 2, mcnbuf, sizeof(mcnbuf),

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1499: FILE: drivers/ide/ide-cd.c:2799:
+	if ((stat = cdrom_read_subchannel(drive, 2, mcnbuf, sizeof(mcnbuf),
+			NULL)))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1507: FILE: drivers/ide/ide-cd.c:2803:
+	memcpy(mcn_info->medium_catalog_number, mcnbuf + 9,
+		sizeof(mcn_info->medium_catalog_number) - 1);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1529: FILE: drivers/ide/ide-cd.c:2820:
+static int ide_cdrom_check_media_change_real(struct cdrom_device_info *cdi,
+		int slot_nr)

CHECK:BRACES: Unbalanced braces around else statement
#1542: FILE: drivers/ide/ide-cd.c:2830:
+	} else

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1560: FILE: drivers/ide/ide-cd.c:2843:
+static void ide_cdrom_release_real (struct cdrom_device_info *cdi)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1609: FILE: drivers/ide/ide-cd.c:2924:
+		printk(KERN_ERR "%s: ATAPI magneto-optical drive\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1610: FILE: drivers/ide/ide-cd.c:2925:
+		printk(KERN_ERR "%s: ATAPI magneto-optical drive\n",
+				drive->name);

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 8)
#1630: FILE: drivers/ide/ide-cd.c:2987:
+	} else
[...]
 	if (cap.mechtype == mechtype_individual_changer ||

CHECK:BRACES: Unbalanced braces around else statement
#1630: FILE: drivers/ide/ide-cd.c:2987:
+	} else

ERROR:CODE_INDENT: code indent should use tabs where possible
#1640: FILE: drivers/ide/ide-cd.c:3006:
+        ^Iprintk(" DVD%s%s",$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1640: FILE: drivers/ide/ide-cd.c:3006:
+        ^Iprintk(" DVD%s%s",$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1640: FILE: drivers/ide/ide-cd.c:3006:
+        ^Iprintk(" DVD%s%s",$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1640: FILE: drivers/ide/ide-cd.c:3006:
+        	printk(" DVD%s%s",

ERROR:CODE_INDENT: code indent should use tabs where possible
#1641: FILE: drivers/ide/ide-cd.c:3007:
+        ^I(CDROM_CONFIG_FLAGS(drive)->dvd_r)? "-R" : "",$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1641: FILE: drivers/ide/ide-cd.c:3007:
+        ^I(CDROM_CONFIG_FLAGS(drive)->dvd_r)? "-R" : "",$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1641: FILE: drivers/ide/ide-cd.c:3007:
+        	printk(" DVD%s%s",
+        	(CDROM_CONFIG_FLAGS(drive)->dvd_r)? "-R" : "",

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1641: FILE: drivers/ide/ide-cd.c:3007:
+        ^I(CDROM_CONFIG_FLAGS(drive)->dvd_r)? "-R" : "",$

ERROR:SPACING: spaces required around that '?' (ctx:VxW)
#1641: FILE: drivers/ide/ide-cd.c:3007:
+        	(CDROM_CONFIG_FLAGS(drive)->dvd_r)? "-R" : "",
         	                                  ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1647: FILE: drivers/ide/ide-cd.c:3010:
+        if (CDROM_CONFIG_FLAGS(drive)->cd_r|CDROM_CONFIG_FLAGS(drive)->cd_rw)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1647: FILE: drivers/ide/ide-cd.c:3010:
+        if (CDROM_CONFIG_FLAGS(drive)->cd_r|CDROM_CONFIG_FLAGS(drive)->cd_rw)$

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1647: FILE: drivers/ide/ide-cd.c:3010:
+        if (CDROM_CONFIG_FLAGS(drive)->cd_r|CDROM_CONFIG_FLAGS(drive)->cd_rw)
                                            ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1648: FILE: drivers/ide/ide-cd.c:3011:
+        ^Iprintk(" CD%s%s",$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1648: FILE: drivers/ide/ide-cd.c:3011:
+        ^Iprintk(" CD%s%s",$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1648: FILE: drivers/ide/ide-cd.c:3011:
+        ^Iprintk(" CD%s%s",$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1648: FILE: drivers/ide/ide-cd.c:3011:
+        	printk(" CD%s%s",

ERROR:CODE_INDENT: code indent should use tabs where possible
#1649: FILE: drivers/ide/ide-cd.c:3012:
+        ^I(CDROM_CONFIG_FLAGS(drive)->cd_r)? "-R" : "",$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1649: FILE: drivers/ide/ide-cd.c:3012:
+        ^I(CDROM_CONFIG_FLAGS(drive)->cd_r)? "-R" : "",$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1649: FILE: drivers/ide/ide-cd.c:3012:
+        	printk(" CD%s%s",
+        	(CDROM_CONFIG_FLAGS(drive)->cd_r)? "-R" : "",

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1649: FILE: drivers/ide/ide-cd.c:3012:
+        ^I(CDROM_CONFIG_FLAGS(drive)->cd_r)? "-R" : "",$

ERROR:SPACING: spaces required around that '?' (ctx:VxW)
#1649: FILE: drivers/ide/ide-cd.c:3012:
+        	(CDROM_CONFIG_FLAGS(drive)->cd_r)? "-R" : "",
         	                                 ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1653: FILE: drivers/ide/ide-cd.c:3015:
+        if (CDROM_CONFIG_FLAGS(drive)->is_changer)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1653: FILE: drivers/ide/ide-cd.c:3015:
+        if (CDROM_CONFIG_FLAGS(drive)->is_changer)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1656: FILE: drivers/ide/ide-cd.c:3017:
+        else$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1656: FILE: drivers/ide/ide-cd.c:3017:
+        else$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1746: FILE: drivers/ide/ide-cd.c:3187:
+	else if (strcmp(drive->id->model, "V006E0DS") == 0 &&
 	    drive->id->fw_rev[4] == '1' &&

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1779: FILE: drivers/ide/ide-cd.c:3245:
+		printk(KERN_ERR "%s: ide_cdrom_setup failed to register device"

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ide_cdrom_setup', this function's name, in a string
#1779: FILE: drivers/ide/ide-cd.c:3245:
+		printk(KERN_ERR "%s: ide_cdrom_setup failed to register device"

WARNING:SPLIT_STRING: quoted string split across lines
#1780: FILE: drivers/ide/ide-cd.c:3246:
+		printk(KERN_ERR "%s: ide_cdrom_setup failed to register device"
+				" with the cdrom driver.\n", drive->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1812: FILE: drivers/ide/ide-cd.c:3289:
+		printk(KERN_ERR "%s: %s failed to unregister device from the "

WARNING:SPLIT_STRING: quoted string split across lines
#1813: FILE: drivers/ide/ide-cd.c:3290:
+		printk(KERN_ERR "%s: %s failed to unregister device from the "
+				"cdrom driver.\n", __FUNCTION__, drive->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1813: FILE: drivers/ide/ide-cd.c:3290:
+				"cdrom driver.\n", __FUNCTION__, drive->name);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1824: FILE: drivers/ide/ide-cd.c:3303:
+static int proc_idecd_read_capacity(char *page, char **start, off_t off,
+		int count, int *eof, void *data)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1856: FILE: drivers/ide/ide-cd.c:3379:
+static int idecd_ioctl(struct inode *inode, struct file *file,
+		unsigned int cmd, unsigned long arg)

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*info)...) over kmalloc(sizeof(struct cdrom_info)...)
#1875: FILE: drivers/ide/ide-cd.c:3442:
+	info = kmalloc(sizeof(struct cdrom_info), GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1906: FILE: drivers/ide/ide-cd.c:3481:
+			printk(KERN_ERR "%s: ide_cdrom_cleanup failed to "

WARNING:SPLIT_STRING: quoted string split across lines
#1907: FILE: drivers/ide/ide-cd.c:3482:
+			printk(KERN_ERR "%s: ide_cdrom_cleanup failed to "
+					"unregister device from the cdrom"

WARNING:SPLIT_STRING: quoted string split across lines
#1908: FILE: drivers/ide/ide-cd.c:3483:
+					"unregister device from the cdrom"
+					" driver.\n", drive->name);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000146077.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 18 errors, 77 warnings, 44 checks, 1742 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000146077.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
