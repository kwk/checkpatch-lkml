CHECK:MACRO_ARG_REUSE: Macro argument reuse 'card' - possible side-effects?
#49: FILE: drivers/sound/i810_audio.c:461:
+#define I810_IOREAD(size, type, card, off)				\
+({									\
+	type val;							\
+	if (card->use_mmio)						\
+		val=read##size(card->iobase_mmio+off);			\
+	else								\
+		val=in##size(card->iobase+off);				\
+	val;								\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'card' may be better as '(card)' to avoid precedence issues
#49: FILE: drivers/sound/i810_audio.c:461:
+#define I810_IOREAD(size, type, card, off)				\
+({									\
+	type val;							\
+	if (card->use_mmio)						\
+		val=read##size(card->iobase_mmio+off);			\
+	else								\
+		val=in##size(card->iobase+off);				\
+	val;								\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'off' - possible side-effects?
#49: FILE: drivers/sound/i810_audio.c:461:
+#define I810_IOREAD(size, type, card, off)				\
+({									\
+	type val;							\
+	if (card->use_mmio)						\
+		val=read##size(card->iobase_mmio+off);			\
+	else								\
+		val=in##size(card->iobase+off);				\
+	val;								\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'off' may be better as '(off)' to avoid precedence issues
#49: FILE: drivers/sound/i810_audio.c:461:
+#define I810_IOREAD(size, type, card, off)				\
+({									\
+	type val;							\
+	if (card->use_mmio)						\
+		val=read##size(card->iobase_mmio+off);			\
+	else								\
+		val=in##size(card->iobase+off);				\
+	val;								\
+})

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#53: FILE: drivers/sound/i810_audio.c:465:
+		val=read##size(card->iobase_mmio+off);			\
 		   ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#53: FILE: drivers/sound/i810_audio.c:465:
+		val=read##size(card->iobase_mmio+off);			\
 		                                ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#55: FILE: drivers/sound/i810_audio.c:467:
+		val=in##size(card->iobase+off);				\
 		   ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#55: FILE: drivers/sound/i810_audio.c:467:
+		val=in##size(card->iobase+off);				\
 		                         ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'val' - possible side-effects?
#63: FILE: drivers/sound/i810_audio.c:475:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio)						\
+		write##size(val, card->iobase_mmio+off);		\
+	else								\
+		out##size(val, card->iobase+off);			\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'card' - possible side-effects?
#63: FILE: drivers/sound/i810_audio.c:475:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio)						\
+		write##size(val, card->iobase_mmio+off);		\
+	else								\
+		out##size(val, card->iobase+off);			\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'card' may be better as '(card)' to avoid precedence issues
#63: FILE: drivers/sound/i810_audio.c:475:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio)						\
+		write##size(val, card->iobase_mmio+off);		\
+	else								\
+		out##size(val, card->iobase+off);			\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'off' - possible side-effects?
#63: FILE: drivers/sound/i810_audio.c:475:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio)						\
+		write##size(val, card->iobase_mmio+off);		\
+	else								\
+		out##size(val, card->iobase+off);			\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'off' may be better as '(off)' to avoid precedence issues
#63: FILE: drivers/sound/i810_audio.c:475:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio)						\
+		write##size(val, card->iobase_mmio+off);		\
+	else								\
+		out##size(val, card->iobase+off);			\
+})

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#66: FILE: drivers/sound/i810_audio.c:478:
+		write##size(val, card->iobase_mmio+off);		\
 		                                  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#68: FILE: drivers/sound/i810_audio.c:480:
+		out##size(val, card->iobase+off);			\
 		                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'card' - possible side-effects?
#81: FILE: drivers/sound/i810_audio.c:491:
+#define CIV_TO_LVI(card, port, off) \
+	I810_IOWRITEB(MODULOP2(GET_CIV((card), (port)) + (off), SG_LEN), (card), (port) + OFF_LVI)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'port' - possible side-effects?
#81: FILE: drivers/sound/i810_audio.c:491:
+#define CIV_TO_LVI(card, port, off) \
+	I810_IOWRITEB(MODULOP2(GET_CIV((card), (port)) + (off), SG_LEN), (card), (port) + OFF_LVI)

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#114: FILE: drivers/sound/i810_audio.c:782:
+	} while (civ != GET_CIV(state->card, port) || offset != I810_IOREADW(state->card, port_picb));

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:SPACING: space prohibited before semicolon
#126: FILE: drivers/sound/i810_audio.c:797:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#126: FILE: drivers/sound/i810_audio.c:797:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#126: FILE: drivers/sound/i810_audio.c:797:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:SPACING: space required before the open parenthesis '('
#126: FILE: drivers/sound/i810_audio.c:797:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#126: FILE: drivers/sound/i810_audio.c:797:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:SPACING: space prohibited after that open parenthesis '('
#130: FILE: drivers/sound/i810_audio.c:800:
+		I810_IOWRITEB( I810_IOREADB(card, PI_PICB), card, PI_PICB );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#130: FILE: drivers/sound/i810_audio.c:800:
+		I810_IOWRITEB( I810_IOREADB(card, PI_PICB), card, PI_PICB );

ERROR:SPACING: space prohibited after that open parenthesis '('
#134: FILE: drivers/sound/i810_audio.c:802:
+		I810_IOWRITEB( I810_IOREADB(card, PI_SR), card, PI_SR );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#134: FILE: drivers/sound/i810_audio.c:802:
+		I810_IOWRITEB( I810_IOREADB(card, PI_SR), card, PI_SR );

ERROR:SPACING: space prohibited after that open parenthesis '('
#135: FILE: drivers/sound/i810_audio.c:803:
+	I810_IOWRITEL( I810_IOREADL(card, GLOB_STA) & INT_PI, card, GLOB_STA);

WARNING:SPACING: space prohibited before semicolon
#156: FILE: drivers/sound/i810_audio.c:847:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#156: FILE: drivers/sound/i810_audio.c:847:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#156: FILE: drivers/sound/i810_audio.c:847:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:SPACING: space required before the open parenthesis '('
#156: FILE: drivers/sound/i810_audio.c:847:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#156: FILE: drivers/sound/i810_audio.c:847:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#160: FILE: drivers/sound/i810_audio.c:850:
+		I810_IOWRITEB( I810_IOREADB(card, PO_PICB), card, PO_PICB );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#160: FILE: drivers/sound/i810_audio.c:850:
+		I810_IOWRITEB( I810_IOREADB(card, PO_PICB), card, PO_PICB );

ERROR:SPACING: space prohibited after that open parenthesis '('
#164: FILE: drivers/sound/i810_audio.c:852:
+		I810_IOWRITEB( I810_IOREADB(card, PO_SR), card, PO_SR );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#164: FILE: drivers/sound/i810_audio.c:852:
+		I810_IOWRITEB( I810_IOREADB(card, PO_SR), card, PO_SR );

ERROR:SPACING: space prohibited after that open parenthesis '('
#165: FILE: drivers/sound/i810_audio.c:853:
+	I810_IOWRITEL( I810_IOREADL(card, GLOB_STA) & INT_PO, card, GLOB_STA);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#185: FILE: drivers/sound/i810_audio.c:1037:
+		I810_IOWRITEB(2, state->card, c->port+OFF_CR);   /* reset DMA machine */
 		                                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#186: FILE: drivers/sound/i810_audio.c:1038:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;
 		                                        ^

WARNING:SPACING: space prohibited before semicolon
#186: FILE: drivers/sound/i810_audio.c:1038:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#186: FILE: drivers/sound/i810_audio.c:1038:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#186: FILE: drivers/sound/i810_audio.c:1038:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

ERROR:SPACING: space required before the open parenthesis '('
#186: FILE: drivers/sound/i810_audio.c:1038:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#186: FILE: drivers/sound/i810_audio.c:1038:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#191: FILE: drivers/sound/i810_audio.c:1041:
+		    state->card, c->port+OFF_BDBAR);
 		                        ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#231: FILE: drivers/sound/i810_audio.c:1108:
+		while (!(I810_IOREADB(state->card, port + OFF_CR) & ((1<<4) | (1<<2))))
 		                                                       ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#231: FILE: drivers/sound/i810_audio.c:1108:
+		while (!(I810_IOREADB(state->card, port + OFF_CR) & ((1<<4) | (1<<2))))
 		                                                                ^

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#302: FILE: drivers/sound/i810_audio.c:1389:
+				I810_IOWRITEB(I810_IOREADB(card, port+OFF_CR) | 1, card, port+OFF_CR);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#302: FILE: drivers/sound/i810_audio.c:1389:
+				I810_IOWRITEB(I810_IOREADB(card, port+OFF_CR) | 1, card, port+OFF_CR);
 				                                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#302: FILE: drivers/sound/i810_audio.c:1389:
+				I810_IOWRITEB(I810_IOREADB(card, port+OFF_CR) | 1, card, port+OFF_CR);
 				                                                             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#342: FILE: drivers/sound/i810_audio.c:1831:
+			I810_IOWRITEB(2, state->card, c->port+OFF_CR);   /* reset DMA machine */
 			                                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#343: FILE: drivers/sound/i810_audio.c:1832:
+			while ( I810_IOREADB(state->card, c->port+OFF_CR) & 2 )
 			                                         ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#343: FILE: drivers/sound/i810_audio.c:1832:
+			while ( I810_IOREADB(state->card, c->port+OFF_CR) & 2 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#343: FILE: drivers/sound/i810_audio.c:1832:
+			while ( I810_IOREADB(state->card, c->port+OFF_CR) & 2 )

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#350: FILE: drivers/sound/i810_audio.c:1836:
+			    state->card, c->port+OFF_BDBAR);
 			                        ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#360: FILE: drivers/sound/i810_audio.c:1967:
+                i_glob_cnt = I810_IOREADL(state->card, GLOB_CNT);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#360: FILE: drivers/sound/i810_audio.c:1967:
+                i_glob_cnt = I810_IOREADL(state->card, GLOB_CNT);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#371: FILE: drivers/sound/i810_audio.c:1980:
+				I810_IOWRITEL(i_glob_cnt & 0xffcfffff,
+				     state->card, GLOB_CNT);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#379: FILE: drivers/sound/i810_audio.c:1986:
+					I810_IOWRITEL((i_glob_cnt & 0xffcfffff) | 0x100000,
+					      state->card, GLOB_CNT);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#390: FILE: drivers/sound/i810_audio.c:1995:
+					I810_IOWRITEL((i_glob_cnt & 0xffcfffff) | 0x200000,
+					      state->card, GLOB_CNT);

ERROR:SPACING: space required before the open parenthesis '('
#410: FILE: drivers/sound/i810_audio.c:2616:
+	while(count-- && (I810_IOREADB(card, CAS) & 1))

ERROR:SPACING: space required before the open parenthesis '('
#419: FILE: drivers/sound/i810_audio.c:2644:
+	while(count-- && (I810_IOREADB(card, CAS) & 1))

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#446: FILE: drivers/sound/i810_audio.c:2816:
+	I810_IOWRITEL(reg , card, GLOB_CNT);
 	                  ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#454: FILE: drivers/sound/i810_audio.c:2823:
+		if((I810_IOREADL(card, GLOB_CNT)&4)==0)
 		                                ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#454: FILE: drivers/sound/i810_audio.c:2823:
+		if((I810_IOREADL(card, GLOB_CNT)&4)==0)
 		                                   ^

ERROR:SPACING: space required before the open parenthesis '('
#454: FILE: drivers/sound/i810_audio.c:2823:
+		if((I810_IOREADL(card, GLOB_CNT)&4)==0)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#510: FILE: drivers/sound/i810_audio.c:2912:
+			readw(card->ac97base_mmio + 0x80*num_ac97);
 			                                ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#512: FILE: drivers/sound/i810_audio.c:2914:
+			inw(card->ac97base + 0x80*num_ac97);
 			                         ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#556: FILE: drivers/sound/i810_audio.c:3193:
+		printk(KERN_ERR "i810_audio: No I/O resources available.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#570: FILE: drivers/sound/i810_audio.c:3243:
+		printk(KERN_ERR "i810_audio: unable to allocate region %lx\n", card->iobase);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#574: FILE: drivers/sound/i810_audio.c:3247:
+		printk(KERN_ERR "i810_audio: unable to allocate region %lx\n", card->ac97base);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000162805.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 32 errors, 9 warnings, 31 checks, 509 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000162805.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
