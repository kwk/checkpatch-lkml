WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#29: 
   NTFS: Implement writing of mft records (fs/ntfs/mft.[hc]), which includes

WARNING:BAD_SIGN_OFF: Do not use whitespace before Signed-off-by:
#36: 
   Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#57: FILE: fs/ntfs/ChangeLog:28:
+	  leave the volume dirty on umount if the final iput(vol->mft_ino)
 	                                                ^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:DEPRECATED_VARIABLE: Use of EXTRA_CFLAGS is deprecated, please use `ccflags-y instead.
#82: FILE: fs/ntfs/Makefile:8:
+EXTRA_CFLAGS = -DNTFS_VERSION=\"2.1.13-WIP\"

EXTRA_{A,C,CPP,LD}FLAGS are deprecated and should be replaced by the new
flags added via commit f77bf01425b1 ("kbuild: introduce ccflags-y,
asflags-y and ldflags-y").

The following conversion scheme maybe used::

  EXTRA_AFLAGS    ->  asflags-y
  EXTRA_CFLAGS    ->  ccflags-y
  EXTRA_CPPFLAGS  ->  cppflags-y
  EXTRA_LDFLAGS   ->  ldflags-y

See:

  1. https://lore.kernel.org/lkml/20070930191054.GA15876@uranus.ravnborg.org/
  2. https://lore.kernel.org/lkml/1313384834-24433-12-git-send-email-lacombar@gmail.com/
  3. https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#compilation-flags

WARNING:SPLIT_STRING: quoted string split across lines
#94: FILE: fs/ntfs/aops.c:482:
 	ntfs_debug("Entering for inode %li, attribute type 0x%x, page index "
+			"0x%lx.", vi->i_ino, ni->type, page->index);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#106: FILE: fs/ntfs/attrib.c:627:
 				ntfs_debug("Old marker = 0x%llx, replacing "
+						"with LCN_ENOENT.",

WARNING:SPLIT_STRING: quoted string split across lines
#115: FILE: fs/ntfs/attrib.c:1568:
 	ntfs_error(base_ni->vol->sb, "Inode contains corrupt attribute list "
+			"attribute.");

WARNING:SPLIT_STRING: quoted string split across lines
#136: FILE: fs/ntfs/compress.c:854:
 					"0x%lx with error code %i. Skipping "
+					"this compression block.",

WARNING:SPLIT_STRING: quoted string split across lines
#151: FILE: fs/ntfs/mft.c:436:
+static const char *ntfs_please_email = "Please email "
+		"linux-ntfs-dev@lists.sourceforge.net and say that you saw "

WARNING:SPLIT_STRING: quoted string split across lines
#152: FILE: fs/ntfs/mft.c:437:
+		"linux-ntfs-dev@lists.sourceforge.net and say that you saw "
+		"this message.  Thank you.";

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#179: FILE: fs/ntfs/mft.c:464:
+	BUG_ON(vol->mftmirr_ino);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:SPLIT_STRING: quoted string split across lines
#181: FILE: fs/ntfs/mft.c:466:
+	ntfs_error(vol->sb, "Umount time mft mirror syncing is not "
+			"implemented yet.  %s", ntfs_please_email);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#215: FILE: fs/ntfs/mft.c:500:
+	BUG_ON(!max_bhs);

WARNING:LIKELY_MISUSE: nested (un)?likely() calls, IS_ERR already uses unlikely() internally
#226: FILE: fs/ntfs/mft.c:511:
+	if (unlikely(IS_ERR(page))) {

WARNING:SPLIT_STRING: quoted string split across lines
#247: FILE: fs/ntfs/mft.c:532:
+		ntfs_error(vol->sb, "Writing mft mirror records without "
+				"existing buffers is not implemented yet.  %s",

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#252: FILE: fs/ntfs/mft.c:537:
+	bh = head = page_buffers(page);

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#257: FILE: fs/ntfs/mft.c:542:
+	m_start = kmirr - (u8*)page_address(page);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'block_end <= m_start'
#266: FILE: fs/ntfs/mft.c:551:
+		if ((block_end <= m_start) || (block_start >= m_end)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'block_start >= m_end'
#266: FILE: fs/ntfs/mft.c:551:
+		if ((block_end <= m_start) || (block_start >= m_end)) {

WARNING:SPLIT_STRING: quoted string split across lines
#269: FILE: fs/ntfs/mft.c:554:
+				ntfs_warning(vol->sb, "Clearing dirty mft "
+						"record page buffer.  %s",

WARNING:SPLIT_STRING: quoted string split across lines
#277: FILE: fs/ntfs/mft.c:562:
+			ntfs_error(vol->sb, "Writing mft mirror records "
+					"without existing mapped buffers is "

WARNING:SPLIT_STRING: quoted string split across lines
#278: FILE: fs/ntfs/mft.c:563:
+					"without existing mapped buffers is "
+					"not implemented yet.  %s",

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#285: FILE: fs/ntfs/mft.c:570:
+					"without existing uptodate buffers is "
 					                  ^^^^^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#285: FILE: fs/ntfs/mft.c:570:
+			ntfs_error(vol->sb, "Writing mft mirror records "
+					"without existing uptodate buffers is "

WARNING:SPLIT_STRING: quoted string split across lines
#286: FILE: fs/ntfs/mft.c:571:
+					"without existing uptodate buffers is "
+					"not implemented yet.  %s",

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#291: FILE: fs/ntfs/mft.c:576:
+		BUG_ON(!nr_bhs && (m_start != block_start));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#292: FILE: fs/ntfs/mft.c:577:
+		BUG_ON(nr_bhs >= max_bhs);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#294: FILE: fs/ntfs/mft.c:579:
+		BUG_ON((nr_bhs >= max_bhs) && (m_end != block_end));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#302: FILE: fs/ntfs/mft.c:587:
+				BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#303: FILE: fs/ntfs/mft.c:588:
+			BUG_ON(!buffer_uptodate(tbh));

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#318: FILE: fs/ntfs/mft.c:603:
+				 * Set the buffer uptodate so the page & buffer
 				                  ^^^^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#331: FILE: fs/ntfs/mft.c:616:
+	/* Current state: all buffers are clean, unlocked, and uptodate. */
 	                                                       ^^^^^^^^

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#333: FILE: fs/ntfs/mft.c:618:
+	post_write_mst_fixup((NTFS_RECORD*)kmirr);

WARNING:SPLIT_STRING: quoted string split across lines
#340: FILE: fs/ntfs/mft.c:625:
+		ntfs_error(vol->sb, "I/O error while writing mft mirror "
+				"record 0x%lx!  You should unmount the volume "

WARNING:SPLIT_STRING: quoted string split across lines
#341: FILE: fs/ntfs/mft.c:626:
+				"record 0x%lx!  You should unmount the volume "
+				"and run chkdsk or ntfsfix.", ni->mft_no);

WARNING:SPLIT_STRING: quoted string split across lines
#348: FILE: fs/ntfs/mft.c:633:
+	ntfs_error(vol->sb, "Failed to synchronize $MFTMirr (error code %i).  "
+			"Volume will be left marked dirty on umount.  Run "

WARNING:SPLIT_STRING: quoted string split across lines
#349: FILE: fs/ntfs/mft.c:634:
+			"Volume will be left marked dirty on umount.  Run "
+			"ntfsfix on the partition after umounting to correct "

WARNING:SPLIT_STRING: quoted string split across lines
#350: FILE: fs/ntfs/mft.c:635:
+			"ntfsfix on the partition after umounting to correct "
+			"this.", -err);

CHECK:CAMELCASE: Avoid CamelCase: <NVolSetErrors>
#352: FILE: fs/ntfs/mft.c:637:
+	NVolSetErrors(vol);

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#397: FILE: fs/ntfs/mft.c:682:
+	BUG_ON(NInoAttr(ni));

CHECK:CAMELCASE: Avoid CamelCase: <NInoAttr>
#397: FILE: fs/ntfs/mft.c:682:
+	BUG_ON(NInoAttr(ni));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#398: FILE: fs/ntfs/mft.c:683:
+	BUG_ON(!max_bhs);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#399: FILE: fs/ntfs/mft.c:684:
+	BUG_ON(!page);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#400: FILE: fs/ntfs/mft.c:685:
+	BUG_ON(!PageLocked(page));

WARNING:REPEATED_WORD: Possible repeated word: 'as'
#404: FILE: fs/ntfs/mft.c:689:
+	 * There is no danger of races as as long as the caller is holding the

CHECK:CAMELCASE: Avoid CamelCase: <NInoTestClearDirty>
#407: FILE: fs/ntfs/mft.c:692:
+	if (!NInoTestClearDirty(ni))

WARNING:SPLIT_STRING: quoted string split across lines
#413: FILE: fs/ntfs/mft.c:698:
+		ntfs_error(vol->sb, "Writing mft records without existing "
+				"buffers is not implemented yet.  %s",

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#418: FILE: fs/ntfs/mft.c:703:
+	bh = head = page_buffers(page);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'block_end <= m_start'
#432: FILE: fs/ntfs/mft.c:717:
+		if ((block_end <= m_start) || (block_start >= m_end)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'block_start >= m_end'
#432: FILE: fs/ntfs/mft.c:717:
+		if ((block_end <= m_start) || (block_start >= m_end)) {

WARNING:SPLIT_STRING: quoted string split across lines
#435: FILE: fs/ntfs/mft.c:720:
+				ntfs_warning(vol->sb, "Clearing dirty mft "
+						"record page buffer.  %s",

WARNING:SPLIT_STRING: quoted string split across lines
#443: FILE: fs/ntfs/mft.c:728:
+			ntfs_error(vol->sb, "Writing mft records without "
+					"existing mapped buffers is not "

WARNING:SPLIT_STRING: quoted string split across lines
#444: FILE: fs/ntfs/mft.c:729:
+					"existing mapped buffers is not "
+					"implemented yet.  %s",

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#451: FILE: fs/ntfs/mft.c:736:
+					"existing uptodate buffers is not "
 					          ^^^^^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#451: FILE: fs/ntfs/mft.c:736:
+			ntfs_error(vol->sb, "Writing mft records without "
+					"existing uptodate buffers is not "

WARNING:SPLIT_STRING: quoted string split across lines
#452: FILE: fs/ntfs/mft.c:737:
+					"existing uptodate buffers is not "
+					"implemented yet.  %s",

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#457: FILE: fs/ntfs/mft.c:742:
+		BUG_ON(!nr_bhs && (m_start != block_start));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#458: FILE: fs/ntfs/mft.c:743:
+		BUG_ON(nr_bhs >= max_bhs);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#460: FILE: fs/ntfs/mft.c:745:
+		BUG_ON((nr_bhs >= max_bhs) && (m_end != block_end));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#465: FILE: fs/ntfs/mft.c:750:
+	err = pre_write_mst_fixup((NTFS_RECORD*)m, vol->mft_record_size);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#476: FILE: fs/ntfs/mft.c:761:
+			BUG();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#477: FILE: fs/ntfs/mft.c:762:
+		BUG_ON(!buffer_uptodate(tbh));

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#495: FILE: fs/ntfs/mft.c:780:
+			 * Set the buffer uptodate so the page & buffer states
 			                  ^^^^^^^^

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#506: FILE: fs/ntfs/mft.c:791:
+	post_write_mst_fixup((NTFS_RECORD*)m);

WARNING:SPLIT_STRING: quoted string split across lines
#511: FILE: fs/ntfs/mft.c:796:
+		ntfs_error(vol->sb, "I/O error while writing mft record "
+				"0x%lx!  Marking base inode as bad.  You "

WARNING:SPLIT_STRING: quoted string split across lines
#512: FILE: fs/ntfs/mft.c:797:
+				"0x%lx!  Marking base inode as bad.  You "
+				"should unmount the volume and run chkdsk.",

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#525: FILE: fs/ntfs/mft.c:810:
+	 * Current state: all buffers are clean, unlocked, and uptodate.
 	                                                       ^^^^^^^^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#541: FILE: fs/ntfs/mft.h:60:
+extern int write_mft_record_nolock(ntfs_inode *ni, MFT_RECORD *m, int sync);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#556: FILE: fs/ntfs/mft.h:75:
+ * uptodate.
    ^^^^^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#569: FILE: fs/ntfs/mft.h:88:
+	BUG_ON(!page);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000276365.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 4 errors, 56 warnings, 10 checks, 500 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000276365.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
