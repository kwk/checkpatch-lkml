WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#51: 
RCS file: /home/gondolin/herbert/src/CVS/debian/kernel-source-2.5/arch/i386/power/Makefile,v

ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#54: 
--- a/arch/i386/power/Makefile	28 Sep 2003 04:44:10 -0000	1.1.1.1

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#73: FILE: arch/i386/power/swsusp_syms.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#84: FILE: arch/i386/power/swsusp_syms.c:12:
+EXPORT_SYMBOL(do_magic);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#115: FILE: arch/x86_64/kernel/swsusp_syms.c:1:
+/*

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#126: FILE: arch/x86_64/kernel/swsusp_syms.c:12:
+EXPORT_SYMBOL(do_magic);

CHECK:CAMELCASE: Avoid CamelCase: <Done>
#156: FILE: drivers/acpi/sleep/proc.c:78:
+			goto Done;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#175: FILE: fs/buffer.c:285:
+EXPORT_SYMBOL(sys_sync);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#252: FILE: kernel/sys.c:416:
+EXPORT_SYMBOL(software_suspend_module);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#253: FILE: kernel/sys.c:417:
+EXPORT_SYMBOL(software_suspend_hook);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#254: FILE: kernel/sys.c:418:
+EXPORT_SYMBOL(software_suspend_sem);

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#280: FILE: kernel/sys.c:509:
+		/* fall through */

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#334: FILE: kernel/power/console.c:47:
+EXPORT_SYMBOL(pm_prepare_console);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#344: FILE: kernel/power/console.c:60:
+EXPORT_SYMBOL(pm_restore_console);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#356: FILE: kernel/power/process.c:63:
+EXPORT_SYMBOL(refrigerator);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#365: FILE: kernel/power/process.c:107:
+EXPORT_SYMBOL(freeze_processes);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#375: FILE: kernel/power/process.c:132:
+EXPORT_SYMBOL(thaw_processes);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#383: FILE: kernel/power/swsusp-core.c:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#384: FILE: kernel/power/swsusp-core.c:2:
+ * linux/kernel/power/swsusp-core.c

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#423: FILE: kernel/power/swsusp-core.c:41:
+#include <asm/uaccess.h>

WARNING:INCLUDE_LINUX: Use #include <linux/mmu_context.h> instead of <asm/mmu_context.h>
#424: FILE: kernel/power/swsusp-core.c:42:
+#include <asm/mmu_context.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pgtable.h> instead of <asm/pgtable.h>
#425: FILE: kernel/power/swsusp-core.c:43:
+#include <asm/pgtable.h>

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#426: FILE: kernel/power/swsusp-core.c:44:
+#include <asm/io.h>

CHECK:SPACING: No space is necessary after a cast
#431: FILE: kernel/power/swsusp-core.c:49:
+#define __ADDRESS(x)  ((unsigned long) phys_to_virt(x))

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LONG_LINE_COMMENT: line length of 108 exceeds 100 columns
#433: FILE: kernel/power/swsusp-core.c:51:
+#define ADDRESS2(x) __ADDRESS(__pa(x))		/* Needed for x86-64 where some pages are in memory twice */

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#436: FILE: kernel/power/swsusp-core.c:54:
+extern char __nosave_begin, __nosave_end;

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#438: FILE: kernel/power/swsusp-core.c:56:
+extern int is_head_of_free_region(struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#438: FILE: kernel/power/swsusp-core.c:56:
+extern int is_head_of_free_region(struct page *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#451: FILE: kernel/power/swsusp-core.c:69:
+unsigned int nr_copy_pages __nosavedata = 0;

Global variables should not be initialized explicitly to
0 (or NULL, false, etc.).  Your compiler (or rather your
loader, which is responsible for zeroing out the relevant
sections) automatically does it for you.

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#452: FILE: kernel/power/swsusp-core.c:70:
+EXPORT_SYMBOL(nr_copy_pages);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#455: FILE: kernel/power/swsusp-core.c:73:
+   must be freed after resume $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#455: FILE: kernel/power/swsusp-core.c:73:
+/* Suspend pagedir is allocated before final copy, therefore it
+   must be freed after resume 

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:TRAILING_WHITESPACE: trailing whitespace
#459: FILE: kernel/power/swsusp-core.c:77:
+   time of suspend, that must be freed. Second is "pagedir_nosave", $

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#464: FILE: kernel/power/swsusp-core.c:82:
+EXPORT_SYMBOL(pagedir_nosave);

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#467: FILE: kernel/power/swsusp-core.c:85:
+int pagedir_order __nosavedata = 0;

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#468: FILE: kernel/power/swsusp-core.c:86:
+EXPORT_SYMBOL(pagedir_order);

WARNING:STATIC_CONST_CHAR_ARRAY: const array should probably be static const
#476: FILE: kernel/power/swsusp-core.c:94:
+const char swsusp_name_suspend[] = "Suspend Machine: ";

WARNING:STATIC_CONST_CHAR_ARRAY: const array should probably be static const
#478: FILE: kernel/power/swsusp-core.c:96:
+const char swsusp_name_resume[] = "Resume Machine: ";

WARNING:INLINE: plain inline is preferred over __inline__
#485: FILE: kernel/power/swsusp-core.c:103:
+static __inline__ int fill_suspend_header(struct suspend_header *sh)

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#489: FILE: kernel/power/swsusp-core.c:107:
+	sh->version_code = LINUX_VERSION_CODE;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#497: FILE: kernel/power/swsusp-core.c:115:
+	BUG_ON (pagedir_save != pagedir_nosave);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#497: FILE: kernel/power/swsusp-core.c:115:
+	BUG_ON (pagedir_save != pagedir_nosave);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'mark_swapfiles', this function's name, in a string
#527: FILE: kernel/power/swsusp-core.c:145:
+		panic("Out of memory in mark_swapfiles");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

ERROR:CODE_INDENT: code indent should use tabs where possible
#534: FILE: kernel/power/swsusp-core.c:152:
+^I  ^Iif (!memcmp("S1",cur->swh.magic.magic,2))$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#534: FILE: kernel/power/swsusp-core.c:152:
+^I  ^Iif (!memcmp("S1",cur->swh.magic.magic,2))$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#534: FILE: kernel/power/swsusp-core.c:152:
+	  	if (!memcmp("S1",cur->swh.magic.magic,2))
 	  	                ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#534: FILE: kernel/power/swsusp-core.c:152:
+	  	if (!memcmp("S1",cur->swh.magic.magic,2))
 	  	                                     ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#535: FILE: kernel/power/swsusp-core.c:153:
+^I^I  ^Imemcpy(cur->swh.magic.magic,"SWAP-SPACE",10);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#535: FILE: kernel/power/swsusp-core.c:153:
+^I^I  ^Imemcpy(cur->swh.magic.magic,"SWAP-SPACE",10);$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#535: FILE: kernel/power/swsusp-core.c:153:
+		  	memcpy(cur->swh.magic.magic,"SWAP-SPACE",10);
 		  	                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#535: FILE: kernel/power/swsusp-core.c:153:
+		  	memcpy(cur->swh.magic.magic,"SWAP-SPACE",10);
 		  	                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#536: FILE: kernel/power/swsusp-core.c:154:
+		else if (!memcmp("S2",cur->swh.magic.magic,2))
 		                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#536: FILE: kernel/power/swsusp-core.c:154:
+		else if (!memcmp("S2",cur->swh.magic.magic,2))
 		                                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#537: FILE: kernel/power/swsusp-core.c:155:
+			memcpy(cur->swh.magic.magic,"SWAPSPACE2",10);
 			                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#537: FILE: kernel/power/swsusp-core.c:155:
+			memcpy(cur->swh.magic.magic,"SWAPSPACE2",10);
 			                                        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#538: FILE: kernel/power/swsusp-core.c:156:
+^I^Ielse printk("%sUnable to find suspended-data signature (%.10s - misspelled?\n", $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#538: FILE: kernel/power/swsusp-core.c:156:
+		else printk("%sUnable to find suspended-data signature (%.10s - misspelled?\n", 

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#538: FILE: kernel/power/swsusp-core.c:156:
+		else printk("%sUnable to find suspended-data signature (%.10s - misspelled?\n", 

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:CODE_INDENT: code indent should use tabs where possible
#539: FILE: kernel/power/swsusp-core.c:157:
+^I^I      ^Iswsusp_name_resume, cur->swh.magic.magic);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#539: FILE: kernel/power/swsusp-core.c:157:
+^I^I      ^Iswsusp_name_resume, cur->swh.magic.magic);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#541: FILE: kernel/power/swsusp-core.c:159:
+^I  ^Iif ((!memcmp("SWAP-SPACE",cur->swh.magic.magic,10)))$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#541: FILE: kernel/power/swsusp-core.c:159:
+^I  ^Iif ((!memcmp("SWAP-SPACE",cur->swh.magic.magic,10)))$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#541: FILE: kernel/power/swsusp-core.c:159:
+	  	if ((!memcmp("SWAP-SPACE",cur->swh.magic.magic,10)))
 	  	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#541: FILE: kernel/power/swsusp-core.c:159:
+	  	if ((!memcmp("SWAP-SPACE",cur->swh.magic.magic,10)))
 	  	                                              ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#542: FILE: kernel/power/swsusp-core.c:160:
+^I^I  ^Imemcpy(cur->swh.magic.magic,"S1SUSP....",10);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#542: FILE: kernel/power/swsusp-core.c:160:
+^I^I  ^Imemcpy(cur->swh.magic.magic,"S1SUSP....",10);$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#542: FILE: kernel/power/swsusp-core.c:160:
+		  	memcpy(cur->swh.magic.magic,"S1SUSP....",10);
 		  	                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#542: FILE: kernel/power/swsusp-core.c:160:
+		  	memcpy(cur->swh.magic.magic,"S1SUSP....",10);
 		  	                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#543: FILE: kernel/power/swsusp-core.c:161:
+		else if ((!memcmp("SWAPSPACE2",cur->swh.magic.magic,10)))
 		                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#543: FILE: kernel/power/swsusp-core.c:161:
+		else if ((!memcmp("SWAPSPACE2",cur->swh.magic.magic,10)))
 		                                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#544: FILE: kernel/power/swsusp-core.c:162:
+			memcpy(cur->swh.magic.magic,"S2SUSP....",10);
 			                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#544: FILE: kernel/power/swsusp-core.c:162:
+			memcpy(cur->swh.magic.magic,"S2SUSP....",10);
 			                                        ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#545: FILE: kernel/power/swsusp-core.c:163:
+		else panic("\nSwapspace is not swapspace (%.10s)\n", cur->swh.magic.magic);

CHECK:SPACING: No space is necessary after a cast
#553: FILE: kernel/power/swsusp-core.c:171:
+static void read_swapfiles(void) /* This is called before saving image */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#556: FILE: kernel/power/swsusp-core.c:174:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#558: FILE: kernel/power/swsusp-core.c:176:
+^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#560: FILE: kernel/power/swsusp-core.c:178:
+	for(i=0; i<MAX_SWAPFILES; i++) {
 	     ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#560: FILE: kernel/power/swsusp-core.c:178:
+	for(i=0; i<MAX_SWAPFILES; i++) {
 	          ^

ERROR:SPACING: space required before the open parenthesis '('
#560: FILE: kernel/power/swsusp-core.c:178:
+	for(i=0; i<MAX_SWAPFILES; i++) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#562: FILE: kernel/power/swsusp-core.c:180:
+			swapfile_used[i]=SWAPFILE_UNUSED;
 			                ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#565: FILE: kernel/power/swsusp-core.c:183:
+^I    ^I^I^Iprintk(KERN_WARNING "resume= option should be used to set suspend device" );$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#565: FILE: kernel/power/swsusp-core.c:183:
+^I    ^I^I^Iprintk(KERN_WARNING "resume= option should be used to set suspend device" );$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#565: FILE: kernel/power/swsusp-core.c:183:
+	    			printk(KERN_WARNING "resume= option should be used to set suspend device" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#565: FILE: kernel/power/swsusp-core.c:183:
+	    			printk(KERN_WARNING "resume= option should be used to set suspend device" );

ERROR:SPACING: space required before the open parenthesis '('
#566: FILE: kernel/power/swsusp-core.c:184:
+				if(root_swap == 0xFFFF) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#566: FILE: kernel/power/swsusp-core.c:184:
+				if(root_swap == 0xFFFF) {
[...]
+				} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#569: FILE: kernel/power/swsusp-core.c:187:
+				} else

ERROR:TRAILING_WHITESPACE: trailing whitespace
#570: FILE: kernel/power/swsusp-core.c:188:
+^I^I^I^I^Iswapfile_used[i] = SWAPFILE_IGNORED;^I^I^I^I  $

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#570: FILE: kernel/power/swsusp-core.c:188:
+					swapfile_used[i] = SWAPFILE_IGNORED;				  

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LONG_LINE_COMMENT: line length of 102 exceeds 100 columns
#572: FILE: kernel/power/swsusp-core.c:190:
+	  			/* we ignore all swap devices that are not the swsusp_resume_device */

ERROR:CODE_INDENT: code indent should use tabs where possible
#572: FILE: kernel/power/swsusp-core.c:190:
+^I  ^I^I^I/* we ignore all swap devices that are not the swsusp_resume_device */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#572: FILE: kernel/power/swsusp-core.c:190:
+^I  ^I^I^I/* we ignore all swap devices that are not the swsusp_resume_device */$

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#578: FILE: kernel/power/swsusp-core.c:196:
+#if 0

ERROR:TRAILING_WHITESPACE: trailing whitespace
#579: FILE: kernel/power/swsusp-core.c:197:
+^I^I^I^I^Iprintk( "Resume: device %s (%x != %x) ignored\n", swap_info[i].swap_file->d_name.name, swap_info[i].swap_device, swsusp_resume_device );^I^I^I^I  $

WARNING:LONG_LINE: line length of 210 exceeds 100 columns
#579: FILE: kernel/power/swsusp-core.c:197:
+					printk( "Resume: device %s (%x != %x) ignored\n", swap_info[i].swap_file->d_name.name, swap_info[i].swap_device, swsusp_resume_device );				  

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#579: FILE: kernel/power/swsusp-core.c:197:
+					printk( "Resume: device %s (%x != %x) ignored\n", swap_info[i].swap_file->d_name.name, swap_info[i].swap_device, swsusp_resume_device );				  

ERROR:SPACING: space prohibited after that open parenthesis '('
#579: FILE: kernel/power/swsusp-core.c:197:
+					printk( "Resume: device %s (%x != %x) ignored\n", swap_info[i].swap_file->d_name.name, swap_info[i].swap_device, swsusp_resume_device );				  

ERROR:SPACING: space prohibited before that close parenthesis ')'
#579: FILE: kernel/power/swsusp-core.c:197:
+					printk( "Resume: device %s (%x != %x) ignored\n", swap_info[i].swap_file->d_name.name, swap_info[i].swap_device, swsusp_resume_device );				  

ERROR:CODE_INDENT: code indent should use tabs where possible
#581: FILE: kernel/power/swsusp-core.c:199:
+^I^I^I^I  ^Iswapfile_used[i] = SWAPFILE_IGNORED;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#581: FILE: kernel/power/swsusp-core.c:199:
+^I^I^I^I  ^Iswapfile_used[i] = SWAPFILE_IGNORED;$

CHECK:SPACING: No space is necessary after a cast
#589: FILE: kernel/power/swsusp-core.c:207:
+static void lock_swapdevices(void) /* This is called after saving image so modification

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#590: FILE: kernel/power/swsusp-core.c:208:
+static void lock_swapdevices(void) /* This is called after saving image so modification
+				      will be lost after resume... and that's what we want. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#590: FILE: kernel/power/swsusp-core.c:208:
+				      will be lost after resume... and that's what we want. */

ERROR:SPACING: spaces required around that '<' (ctx:VxW)
#595: FILE: kernel/power/swsusp-core.c:213:
+	for(i = 0; i< MAX_SWAPFILES; i++)
 	            ^

ERROR:SPACING: space required before the open parenthesis '('
#595: FILE: kernel/power/swsusp-core.c:213:
+	for(i = 0; i< MAX_SWAPFILES; i++)

ERROR:SPACING: space required before the open parenthesis '('
#596: FILE: kernel/power/swsusp-core.c:214:
+		if(swapfile_used[i] == SWAPFILE_IGNORED) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#598: FILE: kernel/power/swsusp-core.c:216:
+			swap_info[i].flags ^= 0xFF; /* we make the device unusable. A new call to
+						       lock_swapdevices can unlock the devices. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#598: FILE: kernel/power/swsusp-core.c:216:
+						       lock_swapdevices can unlock the devices. */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#626: FILE: kernel/power/swsusp-core.c:244:
+	printk( "Writing data to swap (%d pages): ", nr_copy_pages );

ERROR:SPACING: space prohibited after that open parenthesis '('
#626: FILE: kernel/power/swsusp-core.c:244:
+	printk( "Writing data to swap (%d pages): ", nr_copy_pages );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#626: FILE: kernel/power/swsusp-core.c:244:
+	printk( "Writing data to swap (%d pages): ", nr_copy_pages );

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#627: FILE: kernel/power/swsusp-core.c:245:
+	for (i=0; i<nr_copy_pages; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#627: FILE: kernel/power/swsusp-core.c:245:
+	for (i=0; i<nr_copy_pages; i++) {
 	           ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#628: FILE: kernel/power/swsusp-core.c:246:
+		if (!(i%100))
 		       ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#629: FILE: kernel/power/swsusp-core.c:247:
+			printk( "." );

ERROR:SPACING: space prohibited after that open parenthesis '('
#629: FILE: kernel/power/swsusp-core.c:247:
+			printk( "." );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#629: FILE: kernel/power/swsusp-core.c:247:
+			printk( "." );

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#630: FILE: kernel/power/swsusp-core.c:248:
+		if (!(entry = get_swap_page()).val)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#631: FILE: kernel/power/swsusp-core.c:249:
+			panic("\nNot enough swapspace when writing data" );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#632: FILE: kernel/power/swsusp-core.c:250:
+^I^I$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#634: FILE: kernel/power/swsusp-core.c:252:
+			panic("\nPage %d: not enough swapspace on suspend device", i );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#635: FILE: kernel/power/swsusp-core.c:253:
+^I    $

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#636: FILE: kernel/power/swsusp-core.c:254:
+		address = (pagedir_nosave+i)->address;
 		                         ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#639: FILE: kernel/power/swsusp-core.c:257:
+		(pagedir_nosave+i)->swap_address = entry;
 		               ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#641: FILE: kernel/power/swsusp-core.c:259:
+	printk( "|\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#641: FILE: kernel/power/swsusp-core.c:259:
+	printk( "|\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#641: FILE: kernel/power/swsusp-core.c:259:
+	printk( "|\n" );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#642: FILE: kernel/power/swsusp-core.c:260:
+	printk( "Writing pagedir (%d pages): ", nr_pgdir_pages);

ERROR:SPACING: space prohibited after that open parenthesis '('
#642: FILE: kernel/power/swsusp-core.c:260:
+	printk( "Writing pagedir (%d pages): ", nr_pgdir_pages);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#643: FILE: kernel/power/swsusp-core.c:261:
+	for (i=0; i<nr_pgdir_pages; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#643: FILE: kernel/power/swsusp-core.c:261:
+	for (i=0; i<nr_pgdir_pages; i++) {
 	           ^

CHECK:SPACING: No space is necessary after a cast
#644: FILE: kernel/power/swsusp-core.c:262:
+		cur = (union diskpage *)((char *) pagedir_nosave)+i;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#644: FILE: kernel/power/swsusp-core.c:262:
+		cur = (union diskpage *)((char *) pagedir_nosave)+i;
 		                                                 ^

CHECK:SPACING: No space is necessary after a cast
#645: FILE: kernel/power/swsusp-core.c:263:
+		BUG_ON ((char *) cur != (((char *) pagedir_nosave) + i*PAGE_SIZE));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#645: FILE: kernel/power/swsusp-core.c:263:
+		BUG_ON ((char *) cur != (((char *) pagedir_nosave) + i*PAGE_SIZE));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#645: FILE: kernel/power/swsusp-core.c:263:
+		BUG_ON ((char *) cur != (((char *) pagedir_nosave) + i*PAGE_SIZE));

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#645: FILE: kernel/power/swsusp-core.c:263:
+		BUG_ON ((char *) cur != (((char *) pagedir_nosave) + i*PAGE_SIZE));
 		                                                      ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#646: FILE: kernel/power/swsusp-core.c:264:
+		printk( "." );

ERROR:SPACING: space prohibited after that open parenthesis '('
#646: FILE: kernel/power/swsusp-core.c:264:
+		printk( "." );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#646: FILE: kernel/power/swsusp-core.c:264:
+		printk( "." );

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#647: FILE: kernel/power/swsusp-core.c:265:
+		if (!(entry = get_swap_page()).val) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#648: FILE: kernel/power/swsusp-core.c:266:
+			printk(KERN_CRIT "Not enough swapspace when writing pgdir\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#648: FILE: kernel/power/swsusp-core.c:266:
+			printk(KERN_CRIT "Not enough swapspace when writing pgdir\n" );

CHECK:SPACING: No space is necessary after a cast
#650: FILE: kernel/power/swsusp-core.c:268:
+			free_page((unsigned long) buffer);

ERROR:SPACING: space required before the open parenthesis '('
#654: FILE: kernel/power/swsusp-core.c:272:
+		if(swapfile_used[swp_type(entry)] != SWAPFILE_SUSPEND)

ERROR:SPACING: space prohibited before that close parenthesis ')'
#655: FILE: kernel/power/swsusp-core.c:273:
+			panic("\nNot enough swapspace for pagedir on suspend device" );

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#657: FILE: kernel/power/swsusp-core.c:275:
+		BUG_ON (sizeof(swp_entry_t) != sizeof(long));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#657: FILE: kernel/power/swsusp-core.c:275:
+		BUG_ON (sizeof(swp_entry_t) != sizeof(long));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#658: FILE: kernel/power/swsusp-core.c:276:
+		BUG_ON (PAGE_SIZE % sizeof(struct pbe));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#658: FILE: kernel/power/swsusp-core.c:276:
+		BUG_ON (PAGE_SIZE % sizeof(struct pbe));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#660: FILE: kernel/power/swsusp-core.c:278:
+^I^Icur->link.next = prev;^I^I^I^I$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#665: FILE: kernel/power/swsusp-core.c:283:
+	printk("H");

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#666: FILE: kernel/power/swsusp-core.c:284:
+	BUG_ON (sizeof(struct suspend_header) > PAGE_SIZE-sizeof(swp_entry_t));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#666: FILE: kernel/power/swsusp-core.c:284:
+	BUG_ON (sizeof(struct suspend_header) > PAGE_SIZE-sizeof(swp_entry_t));

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#666: FILE: kernel/power/swsusp-core.c:284:
+	BUG_ON (sizeof(struct suspend_header) > PAGE_SIZE-sizeof(swp_entry_t));
 	                                                 ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#667: FILE: kernel/power/swsusp-core.c:285:
+	BUG_ON (sizeof(union diskpage) != PAGE_SIZE);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#667: FILE: kernel/power/swsusp-core.c:285:
+	BUG_ON (sizeof(union diskpage) != PAGE_SIZE);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#668: FILE: kernel/power/swsusp-core.c:286:
+	BUG_ON (sizeof(struct link) != PAGE_SIZE);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#668: FILE: kernel/power/swsusp-core.c:286:
+	BUG_ON (sizeof(struct link) != PAGE_SIZE);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#669: FILE: kernel/power/swsusp-core.c:287:
+	if (!(entry = get_swap_page()).val)

ERROR:SPACING: space prohibited after that open parenthesis '('
#670: FILE: kernel/power/swsusp-core.c:288:
+		panic( "\nNot enough swapspace when writing header" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#670: FILE: kernel/power/swsusp-core.c:288:
+		panic( "\nNot enough swapspace when writing header" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#672: FILE: kernel/power/swsusp-core.c:290:
+		panic("\nNot enough swapspace for header on suspend device" );

CHECK:SPACING: No space is necessary after a cast
#674: FILE: kernel/power/swsusp-core.c:292:
+	cur = (void *) buffer;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#677: FILE: kernel/power/swsusp-core.c:295:
+^I^I$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#684: FILE: kernel/power/swsusp-core.c:302:
+	printk( "S" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#684: FILE: kernel/power/swsusp-core.c:302:
+	printk( "S" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#684: FILE: kernel/power/swsusp-core.c:302:
+	printk( "S" );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#686: FILE: kernel/power/swsusp-core.c:304:
+	printk( "|\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#686: FILE: kernel/power/swsusp-core.c:304:
+	printk( "|\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#686: FILE: kernel/power/swsusp-core.c:304:
+	printk( "|\n" );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#699: FILE: kernel/power/swsusp-core.c:317:
+^I$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#703: FILE: kernel/power/swsusp-core.c:321:
+	BUG_ON (max_pfn != num_physpages);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#703: FILE: kernel/power/swsusp-core.c:321:
+	BUG_ON (max_pfn != num_physpages);

CHECK:BRACES: braces {} should be used on all arms of this statement
#710: FILE: kernel/power/swsusp-core.c:328:
+		if (!PageReserved(page)) {
[...]
+		} else if (PageReserved(page)) {
[...]
+		} else	BUG();
[...]

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#714: FILE: kernel/power/swsusp-core.c:332:
+			if ((chunk_size=is_head_of_free_region(page))!=0) {
 			               ^

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#714: FILE: kernel/power/swsusp-core.c:332:
+			if ((chunk_size=is_head_of_free_region(page))!=0) {
 			                                             ^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#714: FILE: kernel/power/swsusp-core.c:332:
+			if ((chunk_size=is_head_of_free_region(page))!=0) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#719: FILE: kernel/power/swsusp-core.c:337:
+			BUG_ON (PageNosave(page));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#719: FILE: kernel/power/swsusp-core.c:337:
+			BUG_ON (PageNosave(page));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#724: FILE: kernel/power/swsusp-core.c:342:
+^I^I^Iif ((ADDRESS(pfn) >= (unsigned long) ADDRESS2(&__nosave_begin)) && $

CHECK:SPACING: No space is necessary after a cast
#724: FILE: kernel/power/swsusp-core.c:342:
+			if ((ADDRESS(pfn) >= (unsigned long) ADDRESS2(&__nosave_begin)) && 

CHECK:SPACING: No space is necessary after a cast
#725: FILE: kernel/power/swsusp-core.c:343:
+			    (ADDRESS(pfn) <  (unsigned long) ADDRESS2(&__nosave_end))) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#729: FILE: kernel/power/swsusp-core.c:347:
+^I^I^I/* Hmm, perhaps copying all reserved pages is not too healthy as they may contain $

WARNING:LONG_LINE_COMMENT: line length of 106 exceeds 100 columns
#729: FILE: kernel/power/swsusp-core.c:347:
+			/* Hmm, perhaps copying all reserved pages is not too healthy as they may contain 

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#730: FILE: kernel/power/swsusp-core.c:348:
+			/* Hmm, perhaps copying all reserved pages is not too healthy as they may contain 
+			   critical bios data? */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#730: FILE: kernel/power/swsusp-core.c:348:
+			   critical bios data? */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#731: FILE: kernel/power/swsusp-core.c:349:
+		} else	BUG();

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#731: FILE: kernel/power/swsusp-core.c:349:
+		} else	BUG();

CHECK:SPACING: No space is necessary after a cast
#736: FILE: kernel/power/swsusp-core.c:354:
+			copy_page((void *) pagedir_p->address, (void *) pagedir_p->orig_address);

ERROR:SPACING: space required before the open parenthesis '('
#750: FILE: kernel/power/swsusp-core.c:368:
+	for(pfn = 0; pfn < num_physpages; pfn++) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#757: FILE: kernel/power/swsusp-core.c:375:
+^I^I$

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#772: FILE: kernel/power/swsusp-core.c:390:
+	p = pagedir = (suspend_pagedir_t *)__get_free_pages(GFP_ATOMIC | __GFP_COLD, pagedir_order);

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:SPACING: space required before the open parenthesis '('
#773: FILE: kernel/power/swsusp-core.c:391:
+	if(!pagedir)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#777: FILE: kernel/power/swsusp-core.c:395:
+	for(i=0; i < 1<<pagedir_order; i++)
 	     ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#777: FILE: kernel/power/swsusp-core.c:395:
+	for(i=0; i < 1<<pagedir_order; i++)
 	              ^

ERROR:SPACING: space required before the open parenthesis '('
#777: FILE: kernel/power/swsusp-core.c:395:
+	for(i=0; i < 1<<pagedir_order; i++)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#779: FILE: kernel/power/swsusp-core.c:397:
+^I^I$

ERROR:SPACING: space required before the open parenthesis '('
#780: FILE: kernel/power/swsusp-core.c:398:
+	while(nr_copy_pages--) {

ERROR:SPACING: space required before the open parenthesis '('
#782: FILE: kernel/power/swsusp-core.c:400:
+		if(!p->address) {

CHECK:SPACING: No space is necessary after a cast
#783: FILE: kernel/power/swsusp-core.c:401:
+			free_suspend_pagedir((unsigned long) pagedir);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#801: FILE: kernel/power/swsusp-core.c:419:
+	printk( "/critical section: Counting pages to copy" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#801: FILE: kernel/power/swsusp-core.c:419:
+	printk( "/critical section: Counting pages to copy" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#801: FILE: kernel/power/swsusp-core.c:419:
+	printk( "/critical section: Counting pages to copy" );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#804: FILE: kernel/power/swsusp-core.c:422:
+^I$

WARNING:LONG_LINE: line length of 114 exceeds 100 columns
#805: FILE: kernel/power/swsusp-core.c:423:
+	printk(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#805: FILE: kernel/power/swsusp-core.c:423:
+	printk(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());

ERROR:SPACING: space required after that ',' (ctx:VxV)
#805: FILE: kernel/power/swsusp-core.c:423:
+	printk(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());
 	                                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#805: FILE: kernel/power/swsusp-core.c:423:
+	printk(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());
 	                                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#805: FILE: kernel/power/swsusp-core.c:423:
+	printk(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());
 	                                                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#805: FILE: kernel/power/swsusp-core.c:423:
+	printk(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());
 	                                                                                        ^

ERROR:SPACING: space required before the open parenthesis '('
#806: FILE: kernel/power/swsusp-core.c:424:
+	if(nr_free_pages() < nr_needed_pages) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#807: FILE: kernel/power/swsusp-core.c:425:
+		printk(KERN_CRIT "%sCouldn't get enough free pages, on %d pages short\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#808: FILE: kernel/power/swsusp-core.c:426:
+		       swsusp_name_suspend, nr_needed_pages-nr_free_pages());
 		                                           ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#813: FILE: kernel/power/swsusp-core.c:431:
+	si_swapinfo(&i);	/* FIXME: si_swapinfo(&i) returns all swap devices information.
+				   We should only consider swsusp_resume_device. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#813: FILE: kernel/power/swsusp-core.c:431:
+				   We should only consider swsusp_resume_device. */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#815: FILE: kernel/power/swsusp-core.c:433:
+		printk(KERN_CRIT "%sThere's not enough swap space available, on %ld pages short\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#816: FILE: kernel/power/swsusp-core.c:434:
+		       swsusp_name_suspend, nr_needed_pages-i.freeswap);
 		                                           ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#820: FILE: kernel/power/swsusp-core.c:438:
+^IPRINTK( "Alloc pagedir\n" ); $

ERROR:SPACING: space prohibited after that open parenthesis '('
#820: FILE: kernel/power/swsusp-core.c:438:
+	PRINTK( "Alloc pagedir\n" ); 

ERROR:SPACING: space prohibited before that close parenthesis ')'
#820: FILE: kernel/power/swsusp-core.c:438:
+	PRINTK( "Alloc pagedir\n" ); 

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#821: FILE: kernel/power/swsusp-core.c:439:
+	pagedir_save = pagedir_nosave = create_suspend_pagedir(nr_copy_pages);

ERROR:SPACING: space required before the open parenthesis '('
#822: FILE: kernel/power/swsusp-core.c:440:
+	if(!pagedir_nosave) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#824: FILE: kernel/power/swsusp-core.c:442:
+		printk(KERN_CRIT "%sCouldn't allocate enough pages\n",swsusp_name_suspend);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#824: FILE: kernel/power/swsusp-core.c:442:
+		printk(KERN_CRIT "%sCouldn't allocate enough pages\n",swsusp_name_suspend);
 		                                                     ^

WARNING:LONG_LINE_COMMENT: line length of 112 exceeds 100 columns
#831: FILE: kernel/power/swsusp-core.c:449:
+	drain_local_pages();	/* During allocating of suspend pagedir, new cold pages may appear. Kill them */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#833: FILE: kernel/power/swsusp-core.c:451:
+		BUG();

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#841: FILE: kernel/power/swsusp-core.c:459:
+	printk( "critical section/: done (%d pages copied)\n", nr_copy_pages );

ERROR:SPACING: space prohibited after that open parenthesis '('
#841: FILE: kernel/power/swsusp-core.c:459:
+	printk( "critical section/: done (%d pages copied)\n", nr_copy_pages );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#841: FILE: kernel/power/swsusp-core.c:459:
+	printk( "critical section/: done (%d pages copied)\n", nr_copy_pages );

WARNING:LONG_LINE_COMMENT: line length of 101 exceeds 100 columns
#851: FILE: kernel/power/swsusp-core.c:469:
+	lock_swapdevices();	/* This will unlock ignored swap devices since writing is finished */

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#862: FILE: kernel/power/swsusp-core.c:480:
+	extern int C_A_D;

WARNING:LINE_SPACING: Missing a blank line after declarations
#863: FILE: kernel/power/swsusp-core.c:481:
+	extern int C_A_D;
+	C_A_D = 0;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LONG_LINE: line length of 126 exceeds 100 columns
#864: FILE: kernel/power/swsusp-core.c:482:
+	printk(KERN_EMERG "%s%s Trying to power down.\n", swsusp_name_suspend, TEST_SWSUSP ? "Disable TEST_SWSUSP. NOT ": "");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#864: FILE: kernel/power/swsusp-core.c:482:
+	printk(KERN_EMERG "%s%s Trying to power down.\n", swsusp_name_suspend, TEST_SWSUSP ? "Disable TEST_SWSUSP. NOT ": "");

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#864: FILE: kernel/power/swsusp-core.c:482:
+	printk(KERN_EMERG "%s%s Trying to power down.\n", swsusp_name_suspend, TEST_SWSUSP ? "Disable TEST_SWSUSP. NOT ": "");
 	                                                                                                                ^

WARNING:LONG_LINE: line length of 105 exceeds 100 columns
#877: FILE: kernel/power/swsusp-core.c:495:
+	printk(KERN_EMERG "%sProbably not capable for powerdown. System halted.\n", swsusp_name_suspend);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#877: FILE: kernel/power/swsusp-core.c:495:
+	printk(KERN_EMERG "%sProbably not capable for powerdown. System halted.\n", swsusp_name_suspend);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#879: FILE: kernel/power/swsusp-core.c:497:
+	while (1);

WARNING:MEMORY_BARRIER: memory barrier without comment
#890: FILE: kernel/power/swsusp-core.c:508:
+	mb();

ERROR:TRAILING_WHITESPACE: trailing whitespace
#891: FILE: kernel/power/swsusp-core.c:509:
+^Ispin_lock_irq(&suspend_pagedir_lock);^I/* Done to disable interrupts */ $

ERROR:SPACING: space prohibited after that open parenthesis '('
#894: FILE: kernel/power/swsusp-core.c:512:
+	PRINTK( "Waiting for DMAs to settle down...\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#896: FILE: kernel/power/swsusp-core.c:514:
+	mdelay(1000);	/* We do not want some readahead with DMA to corrupt our memory, right?
+			   Do it with disabled interrupts for best effect. That way, if some

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#897: FILE: kernel/power/swsusp-core.c:515:
+			   driver scheduled DMA, we have good chance for DMA to finish ;-). */

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#900: FILE: kernel/power/swsusp-core.c:518:
+EXPORT_SYMBOL(do_magic_resume_1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#904: FILE: kernel/power/swsusp-core.c:522:
+	BUG_ON (nr_copy_pages_check != nr_copy_pages);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#904: FILE: kernel/power/swsusp-core.c:522:
+	BUG_ON (nr_copy_pages_check != nr_copy_pages);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#905: FILE: kernel/power/swsusp-core.c:523:
+	BUG_ON (pagedir_order_check != pagedir_order);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#905: FILE: kernel/power/swsusp-core.c:523:
+	BUG_ON (pagedir_order_check != pagedir_order);

WARNING:LONG_LINE_COMMENT: line length of 105 exceeds 100 columns
#907: FILE: kernel/power/swsusp-core.c:525:
+	__flush_tlb_global();		/* Even mappings of "global" things (vmalloc) need to be fixed */

ERROR:SPACING: space prohibited after that open parenthesis '('
#909: FILE: kernel/power/swsusp-core.c:527:
+	PRINTK( "Freeing prev allocated pagedir\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#909: FILE: kernel/power/swsusp-core.c:527:
+	PRINTK( "Freeing prev allocated pagedir\n" );

CHECK:SPACING: No space is necessary after a cast
#910: FILE: kernel/power/swsusp-core.c:528:
+	free_suspend_pagedir((unsigned long) pagedir_save);

ERROR:SPACING: space prohibited after that open parenthesis '('
#919: FILE: kernel/power/swsusp-core.c:537:
+	PRINTK( "Fixing swap signatures... " );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#919: FILE: kernel/power/swsusp-core.c:537:
+	PRINTK( "Fixing swap signatures... " );

ERROR:SPACING: space prohibited after that open parenthesis '('
#921: FILE: kernel/power/swsusp-core.c:539:
+	PRINTK( "ok\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#921: FILE: kernel/power/swsusp-core.c:539:
+	PRINTK( "ok\n" );

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#930: FILE: kernel/power/swsusp-core.c:548:
+EXPORT_SYMBOL(do_magic_resume_2);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#933: FILE: kernel/power/swsusp-core.c:551:
+/* do_magic() is implemented in arch/?/kernel/suspend_asm.S, and basically does:
+

WARNING:MEMORY_BARRIER: memory barrier without comment
#952: FILE: kernel/power/swsusp-core.c:570:
+	mb();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#954: FILE: kernel/power/swsusp-core.c:572:
+	BUG_ON(in_atomic());

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#958: FILE: kernel/power/swsusp-core.c:576:
+EXPORT_SYMBOL(do_magic_suspend_1);

WARNING:LINE_SPACING: Missing a blank line after declarations
#963: FILE: kernel/power/swsusp-core.c:581:
+	int is_problem;
+	read_swapfiles();

WARNING:LONG_LINE_COMMENT: line length of 152 exceeds 100 columns
#969: FILE: kernel/power/swsusp-core.c:587:
+		kernel_fpu_end();	/* save_processor_state() does kernel_fpu_begin, and we need to revert it in order to pass in_atomic() checks */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#970: FILE: kernel/power/swsusp-core.c:588:
+		BUG_ON(in_atomic());

WARNING:LONG_LINE_COMMENT: line length of 130 exceeds 100 columns
#972: FILE: kernel/power/swsusp-core.c:590:
+		suspend_power_down();	/* FIXME: if suspend_power_down is commented out, console is lost after few suspends ?! */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#975: FILE: kernel/power/swsusp-core.c:593:
+	printk(KERN_EMERG "%sSuspend failed, trying to recover...\n", swsusp_name_suspend);

WARNING:MEMORY_BARRIER: memory barrier without comment
#979: FILE: kernel/power/swsusp-core.c:597:
+	mb();

ERROR:TRAILING_WHITESPACE: trailing whitespace
#980: FILE: kernel/power/swsusp-core.c:598:
+^Ispin_lock_irq(&suspend_pagedir_lock);^I/* Done to disable interrupts */ $

CHECK:SPACING: No space is necessary after a cast
#983: FILE: kernel/power/swsusp-core.c:601:
+	free_pages((unsigned long) pagedir_nosave, pagedir_order);

ERROR:SPACING: space prohibited after that open parenthesis '('
#987: FILE: kernel/power/swsusp-core.c:605:
+	PRINTK( "Fixing swap signatures... " );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#987: FILE: kernel/power/swsusp-core.c:605:
+	PRINTK( "Fixing swap signatures... " );

ERROR:SPACING: space prohibited after that open parenthesis '('
#989: FILE: kernel/power/swsusp-core.c:607:
+	PRINTK( "ok\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#989: FILE: kernel/power/swsusp-core.c:607:
+	PRINTK( "ok\n" );

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#992: FILE: kernel/power/swsusp-core.c:610:
+EXPORT_SYMBOL(do_magic_suspend_2);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1656: FILE: kernel/power/swsusp.c:112:
+		printk("%sArchitecture failed to prepare\n", swsusp_name_suspend);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1661: FILE: kernel/power/swsusp.c:116:
+		printk( "%sCan't allocate a console... proceeding\n", swsusp_name_suspend);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1661: FILE: kernel/power/swsusp.c:116:
+		printk( "%sCan't allocate a console... proceeding\n", swsusp_name_suspend);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1670: FILE: kernel/power/swsusp.c:259:
+	printk(KERN_ERR "%s%s\n", swsusp_name_resume, reason);

WARNING:LONG_LINE: line length of 124 exceeds 100 columns
#1679: FILE: kernel/power/swsusp.c:307:
+		printk(KERN_CRIT "%sWarning %s: Fixing swap signatures unsuccessful...\n", swsusp_name_resume, resume_file);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#1679: FILE: kernel/power/swsusp.c:307:
+		printk(KERN_CRIT "%sWarning %s: Fixing swap signatures unsuccessful...\n", swsusp_name_resume, resume_file);

WARNING:LONG_LINE: line length of 117 exceeds 100 columns
#1685: FILE: kernel/power/swsusp.c:312:
+	printk(KERN_CRIT "%sWarning %s: Fixing swap signatures unimplemented...\n", swsusp_name_resume, resume_file);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#1685: FILE: kernel/power/swsusp.c:312:
+	printk(KERN_CRIT "%sWarning %s: Fixing swap signatures unimplemented...\n", swsusp_name_resume, resume_file);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1699: FILE: kernel/power/swsusp.c:330:
+		printk(KERN_ERR "%sThis is normal swap space\n", swsusp_name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1699: FILE: kernel/power/swsusp.c:330:
+		printk(KERN_ERR "%sThis is normal swap space\n", swsusp_name_resume );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1716: FILE: kernel/power/swsusp.c:351:
+		printk("%s: Fixing swap signatures %s...\n", swsusp_name_resume, resume_file);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1721: FILE: kernel/power/swsusp.c:355:
+	printk( "%sSignature found, resuming\n", swsusp_name_resume );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1721: FILE: kernel/power/swsusp.c:355:
+	printk( "%sSignature found, resuming\n", swsusp_name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1721: FILE: kernel/power/swsusp.c:355:
+	printk( "%sSignature found, resuming\n", swsusp_name_resume );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1730: FILE: kernel/power/swsusp.c:372:
+	PRINTK( "%sReading pagedir, ", swsusp_name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1730: FILE: kernel/power/swsusp.c:372:
+	PRINTK( "%sReading pagedir, ", swsusp_name_resume );

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1739: FILE: kernel/power/swsusp.c:402:
+static int __init read_suspend_image(const char * specialfile, int noresume)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1749: FILE: kernel/power/swsusp.c:412:
+		new_decode_dev(simple_strtoul(specialfile, &p, 16));

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1759: FILE: kernel/power/swsusp.c:421:
+		printk(KERN_ERR "%s%s: Invalid device\n", swsusp_name_resume,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1781: FILE: kernel/power/swsusp.c:451:
+			printk( "%sI/O error\n", swsusp_name_resume);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1781: FILE: kernel/power/swsusp.c:451:
+			printk( "%sI/O error\n", swsusp_name_resume);

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#1785: FILE: kernel/power/swsusp.c:454:
+			printk( "%s%s: No such file or directory\n", swsusp_name_resume, specialfile);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1785: FILE: kernel/power/swsusp.c:454:
+			printk( "%s%s: No such file or directory\n", swsusp_name_resume, specialfile);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1785: FILE: kernel/power/swsusp.c:454:
+			printk( "%s%s: No such file or directory\n", swsusp_name_resume, specialfile);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1789: FILE: kernel/power/swsusp.c:457:
+			printk( "%sNot enough memory\n", swsusp_name_resume);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1789: FILE: kernel/power/swsusp.c:457:
+			printk( "%sNot enough memory\n", swsusp_name_resume);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1793: FILE: kernel/power/swsusp.c:460:
+			printk( "%sError %d resuming\n", swsusp_name_resume, error );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1793: FILE: kernel/power/swsusp.c:460:
+			printk( "%sError %d resuming\n", swsusp_name_resume, error );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1793: FILE: kernel/power/swsusp.c:460:
+			printk( "%sError %d resuming\n", swsusp_name_resume, error );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1815: FILE: kernel/power/swsusp.c:495:
+	printk( "%s", swsusp_name_resume );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1815: FILE: kernel/power/swsusp.c:495:
+	printk( "%s", swsusp_name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1815: FILE: kernel/power/swsusp.c:495:
+	printk( "%s", swsusp_name_resume );

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1877: FILE: kernel/power/swsusp.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1878: FILE: kernel/power/swsusp.h:2:
+ * linux/kernel/power/swsusp.h

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1917: FILE: kernel/power/swsusp.h:41:
+# define PRINTK(f, a...)       printk(f, ## a)

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1939: FILE: mm/vmscan.c:1106:
+EXPORT_SYMBOL(shrink_all_memory);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000286804.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 138 errors, 145 warnings, 28 checks, 1748 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000286804.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
