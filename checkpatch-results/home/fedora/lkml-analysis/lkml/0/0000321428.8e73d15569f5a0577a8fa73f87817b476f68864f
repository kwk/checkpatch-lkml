WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#32: FILE: include/linux/vlocator.h:1:
+

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:TRAILING_WHITESPACE: trailing whitespace
#44: FILE: include/linux/vlocator.h:13:
+ * controlled way. $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:INCLUDE_LINUX: Use #include <linux/atomic.h> instead of <asm/atomic.h>
#54: FILE: include/linux/vlocator.h:23:
+#include <asm/atomic.h>

CHECK:LINE_SPACING: Please don't use multiple blank lines
#57: FILE: include/linux/vlocator.h:26:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:INLINE: plain inline is preferred over __inline__
#66: FILE: include/linux/vlocator.h:35:
+static __inline__

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#67: FILE: include/linux/vlocator.h:36:
+void vlocator_init (struct vlocator *vlocator)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#69: FILE: include/linux/vlocator.h:38:
+	atomic_set (&vlocator->refcount, 0);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#70: FILE: include/linux/vlocator.h:39:
+	INIT_LIST_HEAD (&vlocator->hash_list);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#73: FILE: include/linux/vlocator.h:42:
+
+

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#76: FILE: include/linux/vlocator.h:45:
+struct vlocator_queue
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#77: FILE: include/linux/vlocator.h:46:
+	spinlock_t lock;

WARNING:INLINE: plain inline is preferred over __inline__
#81: FILE: include/linux/vlocator.h:50:
+static __inline__

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#82: FILE: include/linux/vlocator.h:51:
+void vlocator_queue_init (struct vlocator_queue *vq)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#85: FILE: include/linux/vlocator.h:54:
+	INIT_LIST_HEAD (&vq->queue);

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#93: FILE: include/linux/vlocator.h:62:
+struct vlocator_ops
+{

WARNING:SPACING: Unnecessary space before function pointer name
#94: FILE: include/linux/vlocator.h:63:
+	struct vlocator * (* alloc) (void);

WARNING:SPACING: Unnecessary space before function pointer arguments
#94: FILE: include/linux/vlocator.h:63:
+	struct vlocator * (* alloc) (void);

ERROR:SPACING: space prohibited after that '*' (ctx:BxW)
#94: FILE: include/linux/vlocator.h:63:
+	struct vlocator * (* alloc) (void);
 	                   ^

WARNING:SPACING: Unnecessary space before function pointer name
#95: FILE: include/linux/vlocator.h:64:
+	void (* create) (struct vlocator *, struct page *,

WARNING:SPACING: Unnecessary space before function pointer arguments
#95: FILE: include/linux/vlocator.h:64:
+	void (* create) (struct vlocator *, struct page *,

ERROR:SPACING: space prohibited after that '*' (ctx:BxW)
#95: FILE: include/linux/vlocator.h:64:
+	void (* create) (struct vlocator *, struct page *,
 	      ^

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vlocator *' should also have an identifier name
#95: FILE: include/linux/vlocator.h:64:
+	void (* create) (struct vlocator *, struct page *,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#95: FILE: include/linux/vlocator.h:64:
+	void (* create) (struct vlocator *, struct page *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'const union futex_key *' should also have an identifier name
#95: FILE: include/linux/vlocator.h:64:
+	void (* create) (struct vlocator *, struct page *,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#96: FILE: include/linux/vlocator.h:65:
+			 const union futex_key *, unsigned flags);

WARNING:SPACING: Unnecessary space before function pointer name
#97: FILE: include/linux/vlocator.h:66:
+	void (* release) (struct vlocator *);

WARNING:SPACING: Unnecessary space before function pointer arguments
#97: FILE: include/linux/vlocator.h:66:
+	void (* release) (struct vlocator *);

ERROR:SPACING: space prohibited after that '*' (ctx:BxW)
#97: FILE: include/linux/vlocator.h:66:
+	void (* release) (struct vlocator *);
 	      ^

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vlocator *' should also have an identifier name
#97: FILE: include/linux/vlocator.h:66:
+	void (* release) (struct vlocator *);

WARNING:SPACING: Unnecessary space before function pointer name
#98: FILE: include/linux/vlocator.h:67:
+	void (* free) (struct vlocator *);

WARNING:SPACING: Unnecessary space before function pointer arguments
#98: FILE: include/linux/vlocator.h:67:
+	void (* free) (struct vlocator *);

ERROR:SPACING: space prohibited after that '*' (ctx:BxW)
#98: FILE: include/linux/vlocator.h:67:
+	void (* free) (struct vlocator *);
 	      ^

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct vlocator *' should also have an identifier name
#98: FILE: include/linux/vlocator.h:67:
+	void (* free) (struct vlocator *);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#101: FILE: include/linux/vlocator.h:70:
+
+

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#103: FILE: include/linux/vlocator.h:72:
+#define vl_get(vlocator)			  \
+do { atomic_inc (&(vlocator)->refcount); } while (0)

For the multi-statement macros, it is necessary to use the do-while
loop to avoid unpredictable code paths. The do-while loop helps to
group the multiple statements into a single one so that a
function-like macro can be used as a function only.

But for the single statement macros, it is unnecessary to use the
do-while loop. Although the code is syntactically correct but using
the do-while loop is redundant. So remove the do-while loop for single
statement macros.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#104: FILE: include/linux/vlocator.h:73:
+do { atomic_inc (&(vlocator)->refcount); } while (0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#106: FILE: include/linux/vlocator.h:75:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#109: FILE: include/linux/vlocator.h:78:
+unsigned vl_put (struct vlocator *vlocator)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#109: FILE: include/linux/vlocator.h:78:
+unsigned vl_put (struct vlocator *vlocator)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#111: FILE: include/linux/vlocator.h:80:
+	return atomic_dec_and_test (&vlocator->refcount);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#114: FILE: include/linux/vlocator.h:83:
+extern int vl_find (struct page **ppage, struct vlocator **pvl,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#114: FILE: include/linux/vlocator.h:83:
+extern int vl_find (struct page **ppage, struct vlocator **pvl,

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#116: FILE: include/linux/vlocator.h:85:
+		    volatile const unsigned __user *uaddr);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#117: FILE: include/linux/vlocator.h:86:
+extern int vl_locate (struct page **ppage, struct vlocator **pvl,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#117: FILE: include/linux/vlocator.h:86:
+extern int vl_locate (struct page **ppage, struct vlocator **pvl,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#119: FILE: include/linux/vlocator.h:88:
+		      volatile const unsigned __user *uaddr, unsigned flags);

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#119: FILE: include/linux/vlocator.h:88:
+		      volatile const unsigned __user *uaddr, unsigned flags);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#121: FILE: include/linux/vlocator.h:90:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#132: FILE: include/linux/vlocator.h:101:
+int allocated_get (void)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#134: FILE: include/linux/vlocator.h:103:
+	return atomic_read (&allocated_count);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#136: FILE: include/linux/vlocator.h:105:
+}
+static inline

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#137: FILE: include/linux/vlocator.h:106:
+int allocated_inc (void)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#139: FILE: include/linux/vlocator.h:108:
+	atomic_inc (&allocated_count);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#142: FILE: include/linux/vlocator.h:111:
+}
+static inline

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#143: FILE: include/linux/vlocator.h:112:
+int allocated_dec (void)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#145: FILE: include/linux/vlocator.h:114:
+	atomic_dec (&allocated_count);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#149: FILE: include/linux/vlocator.h:118:
+static inline int allocated_get (void) { return 0; }

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#150: FILE: include/linux/vlocator.h:119:
+static inline int allocated_inc (void) { return 0; }

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#151: FILE: include/linux/vlocator.h:120:
+static inline int allocated_dec (void) { return 0; }

CHECK:LINE_SPACING: Please don't use multiple blank lines
#154: FILE: include/linux/vlocator.h:123:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#160: FILE: kernel/vlocator.c:1:
+

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#175: FILE: kernel/vlocator.c:16:
+#include <asm/uaccess.h>

CHECK:BIT_MACRO: Prefer using the BIT macro
#183: FILE: kernel/vlocator.c:24:
+#define VL_HASH_QUEUES (1 << VL_HASH_BITS)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

WARNING:INLINE: plain inline is preferred over __inline__
#187: FILE: kernel/vlocator.c:28:
+static __inline__

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#188: FILE: kernel/vlocator.c:29:
+struct vlocator_queue * vl_hash (const union futex_key *k)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#188: FILE: kernel/vlocator.c:29:
+struct vlocator_queue * vl_hash (const union futex_key *k)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#190: FILE: kernel/vlocator.c:31:
+	unsigned index = futex_hash_key (k) & (VL_HASH_QUEUES - 1);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#190: FILE: kernel/vlocator.c:31:
+	unsigned index = futex_hash_key (k) & (VL_HASH_QUEUES - 1);

WARNING:LINE_SPACING: Missing a blank line after declarations
#191: FILE: kernel/vlocator.c:32:
+	unsigned index = futex_hash_key (k) & (VL_HASH_QUEUES - 1);
+	return &__vl_hash[index];

CHECK:LINE_SPACING: Please don't use multiple blank lines
#194: FILE: kernel/vlocator.c:35:
+
+

WARNING:INLINE: plain inline is preferred over __inline__
#196: FILE: kernel/vlocator.c:37:
+static __inline__

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#197: FILE: kernel/vlocator.c:38:
+struct vlocator * __vlocator_find (struct vlocator_queue *vlq,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#197: FILE: kernel/vlocator.c:38:
+struct vlocator * __vlocator_find (struct vlocator_queue *vlq,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#198: FILE: kernel/vlocator.c:39:
+struct vlocator * __vlocator_find (struct vlocator_queue *vlq,
+				 const union futex_key *key)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#203: FILE: kernel/vlocator.c:44:
+	list_for_each (itr, &vlq->queue) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#204: FILE: kernel/vlocator.c:45:
+		vl = container_of (itr, struct vlocator, hash_list);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#205: FILE: kernel/vlocator.c:46:
+		if (match_futex_key (key, &vl->key))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#213: FILE: kernel/vlocator.c:54:
+
+

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#216: FILE: kernel/vlocator.c:57:
+struct vlocator * __vlocator_find_r (struct vlocator_queue *vlq,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#216: FILE: kernel/vlocator.c:57:
+struct vlocator * __vlocator_find_r (struct vlocator_queue *vlq,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#222: FILE: kernel/vlocator.c:63:
+	list_for_each_prev (itr, &vlq->queue) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#223: FILE: kernel/vlocator.c:64:
+		vl = container_of (itr, struct vlocator, hash_list);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#224: FILE: kernel/vlocator.c:65:
+		if (match_futex_key (key, &vl->key))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#232: FILE: kernel/vlocator.c:73:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#234: FILE: kernel/vlocator.c:75:
+ * return true). */ $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#234: FILE: kernel/vlocator.c:75:
+ * return true). */ 

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:INLINE: plain inline is preferred over __inline__
#235: FILE: kernel/vlocator.c:76:
+static __inline__

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#236: FILE: kernel/vlocator.c:77:
+unsigned __vlocator_rem (struct vlocator *v)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#236: FILE: kernel/vlocator.c:77:
+unsigned __vlocator_rem (struct vlocator *v)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#238: FILE: kernel/vlocator.c:79:
+	unsigned result = 0, refcount;

WARNING:LINE_SPACING: Missing a blank line after declarations
#239: FILE: kernel/vlocator.c:80:
+	unsigned result = 0, refcount;
+	refcount = atomic_read (&v->refcount);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#239: FILE: kernel/vlocator.c:80:
+	refcount = atomic_read (&v->refcount);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#241: FILE: kernel/vlocator.c:82:
+		list_del (&v->hash_list);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#247: FILE: kernel/vlocator.c:88:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#248: FILE: kernel/vlocator.c:89:
+/** Append @vlocator to queue @vlq. */ $

WARNING:INLINE: plain inline is preferred over __inline__
#249: FILE: kernel/vlocator.c:90:
+static __inline__

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#250: FILE: kernel/vlocator.c:91:
+void __vlocator_add (struct vlocator_queue *vlq, struct vlocator *v)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#252: FILE: kernel/vlocator.c:93:
+	list_add (&v->hash_list, &vlq->queue);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#255: FILE: kernel/vlocator.c:96:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#262: FILE: kernel/vlocator.c:103:
+ * good invention this GPL thingie :)  $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#264: FILE: kernel/vlocator.c:105:
+int vl_setup (struct page **ppage, union futex_key *key,

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#265: FILE: kernel/vlocator.c:106:
+	      volatile const unsigned __user *_uaddr)

CHECK:SPACING: No space is necessary after a cast
#269: FILE: kernel/vlocator.c:110:
+	unsigned long uaddr = (unsigned long) _uaddr;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#272: FILE: kernel/vlocator.c:113:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#273: FILE: kernel/vlocator.c:114:
+	ftrace ("(%p, %p, %p)\n", ppage, key, _uaddr);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#277: FILE: kernel/vlocator.c:118:
+	if (unlikely ((key->both.offset % sizeof (u32)) != 0))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#277: FILE: kernel/vlocator.c:118:
+	if (unlikely ((key->both.offset % sizeof (u32)) != 0))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#280: FILE: kernel/vlocator.c:121:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#282: FILE: kernel/vlocator.c:123:
+	down_read (&mm->mmap_sem);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#287: FILE: kernel/vlocator.c:128:
+	vma = find_extend_vma (mm, uaddr);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#289: FILE: kernel/vlocator.c:130:
+	if (unlikely (!vma))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '!vma'
#289: FILE: kernel/vlocator.c:130:
+	if (unlikely (!vma))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#293: FILE: kernel/vlocator.c:134:
+	if (unlikely ((vma->vm_flags & (VM_IO|VM_READ)) != VM_READ))

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#293: FILE: kernel/vlocator.c:134:
+	if (unlikely ((vma->vm_flags & (VM_IO|VM_READ)) != VM_READ))
 	                                     ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#305: FILE: kernel/vlocator.c:146:
+	if (likely (!(vma->vm_flags & VM_MAYSHARE))) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#313: FILE: kernel/vlocator.c:154:
+	if (likely (!(vma->vm_flags & VM_NONLINEAR))) {

ERROR:SPACING: spaces required around that ':' (ctx:VxE)
#334: FILE: kernel/vlocator.c:175:
+out_pin:
        ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#335: FILE: kernel/vlocator.c:176:
+	spin_lock (&mm->page_table_lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#336: FILE: kernel/vlocator.c:177:
+	page = follow_page (mm, uaddr, 0);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#337: FILE: kernel/vlocator.c:178:
+	if (likely (page != NULL)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'page != NULL'
#337: FILE: kernel/vlocator.c:178:
+	if (likely (page != NULL)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "page"
#337: FILE: kernel/vlocator.c:178:
+	if (likely (page != NULL)) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#340: FILE: kernel/vlocator.c:181:
+		if (!PageReserved (page))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#341: FILE: kernel/vlocator.c:182:
+			get_page (page);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#342: FILE: kernel/vlocator.c:183:
+		spin_unlock (&mm->page_table_lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#345: FILE: kernel/vlocator.c:186:
+	spin_unlock (&mm->page_table_lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#350: FILE: kernel/vlocator.c:191:
+	result = get_user_pages (current, mm, uaddr, 1, 0, 0, &page, NULL);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#355: FILE: kernel/vlocator.c:196:
+	get_key_refs (key);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#358: FILE: kernel/vlocator.c:199:
+	up_read (&current->mm->mmap_sem);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#362: FILE: kernel/vlocator.c:203:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#379: FILE: kernel/vlocator.c:220:
+int vl_find (struct page **ppage, struct vlocator **pvl,

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#381: FILE: kernel/vlocator.c:222:
+	     volatile const unsigned __user *uaddr)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#388: FILE: kernel/vlocator.c:229:
+	unsigned need_page = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#389: FILE: kernel/vlocator.c:230:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#390: FILE: kernel/vlocator.c:231:
+	ftrace ("(%p, %p, %p, %p)\n", ppage, pvl, ops, uaddr);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#392: FILE: kernel/vlocator.c:233:
+	result = vl_setup (&page, &key, uaddr);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#396: FILE: kernel/vlocator.c:237:
+	vlq = vl_hash (&key);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#397: FILE: kernel/vlocator.c:238:
+	spin_lock (&vlq->lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#398: FILE: kernel/vlocator.c:239:
+	vl = __vlocator_find (vlq, &key);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#399: FILE: kernel/vlocator.c:240:
+	if (likely (vl == NULL))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'vl == NULL'
#399: FILE: kernel/vlocator.c:240:
+	if (likely (vl == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!vl"
#399: FILE: kernel/vlocator.c:240:
+	if (likely (vl == NULL))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#403: FILE: kernel/vlocator.c:244:
+	if (unlikely (vl->ops != ops))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'vl->ops != ops'
#403: FILE: kernel/vlocator.c:244:
+	if (unlikely (vl->ops != ops))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#406: FILE: kernel/vlocator.c:247:
+	vl_get (vl);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#413: FILE: kernel/vlocator.c:254:
+	spin_unlock (&vlq->lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#414: FILE: kernel/vlocator.c:255:
+	drop_key_refs (&key);	     // Undo from ...

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#416: FILE: kernel/vlocator.c:257:
+		put_page (page);   // ... ufu_setup() (maybe)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#421: FILE: kernel/vlocator.c:262:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#423: FILE: kernel/vlocator.c:264:
+
+

WARNING:TYPO_SPELLING: 'droped' may be misspelled - perhaps 'dropped'?
#443: FILE: kernel/vlocator.c:284:
+ * count. If we see the count changed after we droped the lock,
                                                ^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#447: FILE: kernel/vlocator.c:288:
+int vl_locate (struct page **ppage, struct vlocator **pvl,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#449: FILE: kernel/vlocator.c:290:
+	       volatile const unsigned __user *uaddr, unsigned flags)

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#449: FILE: kernel/vlocator.c:290:
+	       volatile const unsigned __user *uaddr, unsigned flags)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#456: FILE: kernel/vlocator.c:297:
+	unsigned need_page = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#457: FILE: kernel/vlocator.c:298:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#458: FILE: kernel/vlocator.c:299:
+	ftrace ("(%p, %p, %p, %p, %x)\n", ppage, pvl, ops, uaddr, flags);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#460: FILE: kernel/vlocator.c:301:
+	result = vl_setup (&page, &key, uaddr);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#464: FILE: kernel/vlocator.c:305:
+	vlq = vl_hash (&key);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#465: FILE: kernel/vlocator.c:306:
+	spin_lock (&vlq->lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#466: FILE: kernel/vlocator.c:307:
+	vl = __vlocator_find (vlq, &key);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#467: FILE: kernel/vlocator.c:308:
+	if (likely (vl != NULL))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'vl != NULL'
#467: FILE: kernel/vlocator.c:308:
+	if (likely (vl != NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "vl"
#467: FILE: kernel/vlocator.c:308:
+	if (likely (vl != NULL))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#469: FILE: kernel/vlocator.c:310:
+	spin_unlock (&vlq->lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#474: FILE: kernel/vlocator.c:315:
+	if (unlikely (vl == NULL))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'vl == NULL'
#474: FILE: kernel/vlocator.c:315:
+	if (unlikely (vl == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!vl"
#474: FILE: kernel/vlocator.c:315:
+	if (unlikely (vl == NULL))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#475: FILE: kernel/vlocator.c:316:
+^I^Igoto error_alloc;^I $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#477: FILE: kernel/vlocator.c:318:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#479: FILE: kernel/vlocator.c:320:
+	spin_lock (&vlq->lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#480: FILE: kernel/vlocator.c:321:
+	vl_alt = __vlocator_find_r (vlq, &key);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!vl_alt"
#481: FILE: kernel/vlocator.c:322:
+	if (vl_alt == NULL) {	/* No allocation collision, create it */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#482: FILE: kernel/vlocator.c:323:
+		ops->create (vl, page, &key, flags);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#484: FILE: kernel/vlocator.c:325:
+		__vlocator_add (vlq, vl);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#487: FILE: kernel/vlocator.c:328:
+^I/* Allocation collision, get the new one, discard ours */  $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#488: FILE: kernel/vlocator.c:329:
+	ops->free (vl);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#492: FILE: kernel/vlocator.c:333:
+	if (unlikely (vl->ops != ops))  /* Check the type is correct */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'vl->ops != ops'
#492: FILE: kernel/vlocator.c:333:
+	if (unlikely (vl->ops != ops))  /* Check the type is correct */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#496: FILE: kernel/vlocator.c:337:
+	vl_get (vl);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#503: FILE: kernel/vlocator.c:344:
+	spin_unlock (&vlq->lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#505: FILE: kernel/vlocator.c:346:
+	drop_key_refs (&key);	     // Undo from ...

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#507: FILE: kernel/vlocator.c:348:
+		put_page (page);   // ... ufu_setup() (maybe)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#512: FILE: kernel/vlocator.c:353:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#514: FILE: kernel/vlocator.c:355:
+static void vl_garbage_collector (void *);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#517: FILE: kernel/vlocator.c:358:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#519: FILE: kernel/vlocator.c:360:
+ * Do garbage collection (called from the work-queue) and re-arm $

WARNING:TYPO_SPELLING: 'suport' may be misspelled - perhaps 'support'?
#524: FILE: kernel/vlocator.c:365:
+ * suport robustness; kernel based fulocks have to do robustness
    ^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#525: FILE: kernel/vlocator.c:366:
+ * always. $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#528: FILE: kernel/vlocator.c:369:
+void vl_garbage_collector (void *dummy)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#531: FILE: kernel/vlocator.c:372:
+	static unsigned i;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#535: FILE: kernel/vlocator.c:376:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#541: FILE: kernel/vlocator.c:382:
+		if (list_empty (&vlq->queue)) // Some cheating always helps...

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '&vlq->queue'
#541: FILE: kernel/vlocator.c:382:
+		if (list_empty (&vlq->queue)) // Some cheating always helps...

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#543: FILE: kernel/vlocator.c:384:
+		spin_lock (&vlq->lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#544: FILE: kernel/vlocator.c:385:
+		list_for_each_safe (itr, nxt, &vlq->queue) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#545: FILE: kernel/vlocator.c:386:
+			vl = container_of (itr, struct vlocator, hash_list);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#546: FILE: kernel/vlocator.c:387:
+			if (__vlocator_rem (vl)) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#547: FILE: kernel/vlocator.c:388:
+				vl->ops->release (vl);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#548: FILE: kernel/vlocator.c:389:
+				vl->ops->free (vl);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#551: FILE: kernel/vlocator.c:392:
+		spin_unlock (&vlq->lock);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#556: FILE: kernel/vlocator.c:397:
+	schedule_delayed_work (&vl_workqueue, VL_GC_PERIOD * HZ);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#559: FILE: kernel/vlocator.c:400:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#562: FILE: kernel/vlocator.c:403:
+int __init subsys_ufu_init (void)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#564: FILE: kernel/vlocator.c:405:
+	unsigned i;

WARNING:LINE_SPACING: Missing a blank line after declarations
#565: FILE: kernel/vlocator.c:406:
+	unsigned i;
+	for (i = 0; i < sizeof (__vl_hash) / sizeof (__vl_hash[0]); i++)

WARNING:ARRAY_SIZE: Prefer ARRAY_SIZE(__vl_hash)
#565: FILE: kernel/vlocator.c:406:
+	for (i = 0; i < sizeof (__vl_hash) / sizeof (__vl_hash[0]); i++)

The ARRAY_SIZE(foo) macro should be preferred over
sizeof(foo)/sizeof(foo[0]) for finding number of elements in an
array.

The macro is defined in include/linux/kernel.h::

  #define ARRAY_SIZE(x) (sizeof(x) / sizeof((x)[0]))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#565: FILE: kernel/vlocator.c:406:
+	for (i = 0; i < sizeof (__vl_hash) / sizeof (__vl_hash[0]); i++)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#565: FILE: kernel/vlocator.c:406:
+	for (i = 0; i < sizeof (__vl_hash) / sizeof (__vl_hash[0]); i++)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#566: FILE: kernel/vlocator.c:407:
+		vlocator_queue_init (&__vl_hash[i]);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#568: FILE: kernel/vlocator.c:409:
+	schedule_delayed_work (&vl_workqueue, VL_GC_PERIOD * HZ);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#571: FILE: kernel/vlocator.c:412:
+__initcall (subsys_ufu_init);

WARNING:USE_DEVICE_INITCALL: please use device_initcall() or more appropriate function instead of __initcall() (see include/linux/init.h)
#571: FILE: kernel/vlocator.c:412:
+__initcall (subsys_ufu_init);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#573: FILE: kernel/vlocator.c:414:
+
+

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000321428.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 24 errors, 150 warnings, 40 checks, 539 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000321428.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
