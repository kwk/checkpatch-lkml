WARNING:TYPO_SPELLING: 'mahcine' may be misspelled - perhaps 'machine'?
#36: 
>> single cp from my internal CD-ROM to the disk, the mahcine load will
                                                      ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#70: FILE: drivers/usb/host/ehci-dbg.c:128:
+dbg_qtd (char *label, struct ehci_hcd *ehci, struct ehci_qtd *qtd)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#72: FILE: drivers/usb/host/ehci-dbg.c:130:
+	ehci_dbg (ehci, "%s td %p n%08x %08x t%08x p0=%08x\n", label, qtd,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#73: FILE: drivers/usb/host/ehci-dbg.c:131:
+	ehci_dbg (ehci, "%s td %p n%08x %08x t%08x p0=%08x\n", label, qtd,
+		cpu_to_le32p (&qtd->hw_next),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#73: FILE: drivers/usb/host/ehci-dbg.c:131:
+		cpu_to_le32p (&qtd->hw_next),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#74: FILE: drivers/usb/host/ehci-dbg.c:132:
+		cpu_to_le32p (&qtd->hw_alt_next),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#75: FILE: drivers/usb/host/ehci-dbg.c:133:
+		cpu_to_le32p (&qtd->hw_token),

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#76: FILE: drivers/usb/host/ehci-dbg.c:134:
+		cpu_to_le32p (&qtd->hw_buf [0]));

Whitespace before opening bracket '[' is prohibited.
There are some exceptions:

1. With a type on the left::

    int [] a;

2. At the beginning of a line for slice initialisers::

    [0...10] = 5,

3. Inside a curly brace::

    = { [0...10] = 5 }

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#76: FILE: drivers/usb/host/ehci-dbg.c:134:
+		cpu_to_le32p (&qtd->hw_buf [0]));

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#77: FILE: drivers/usb/host/ehci-dbg.c:135:
+	if (qtd->hw_buf [1])

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#78: FILE: drivers/usb/host/ehci-dbg.c:136:
+		ehci_dbg (ehci, "  p1=%08x p2=%08x p3=%08x p4=%08x\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#79: FILE: drivers/usb/host/ehci-dbg.c:137:
+		ehci_dbg (ehci, "  p1=%08x p2=%08x p3=%08x p4=%08x\n",
+			cpu_to_le32p (&qtd->hw_buf [1]),

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#79: FILE: drivers/usb/host/ehci-dbg.c:137:
+			cpu_to_le32p (&qtd->hw_buf [1]),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#79: FILE: drivers/usb/host/ehci-dbg.c:137:
+			cpu_to_le32p (&qtd->hw_buf [1]),

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#80: FILE: drivers/usb/host/ehci-dbg.c:138:
+			cpu_to_le32p (&qtd->hw_buf [2]),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#80: FILE: drivers/usb/host/ehci-dbg.c:138:
+			cpu_to_le32p (&qtd->hw_buf [2]),

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#81: FILE: drivers/usb/host/ehci-dbg.c:139:
+			cpu_to_le32p (&qtd->hw_buf [3]),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#81: FILE: drivers/usb/host/ehci-dbg.c:139:
+			cpu_to_le32p (&qtd->hw_buf [3]),

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#82: FILE: drivers/usb/host/ehci-dbg.c:140:
+			cpu_to_le32p (&qtd->hw_buf [4]));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#82: FILE: drivers/usb/host/ehci-dbg.c:140:
+			cpu_to_le32p (&qtd->hw_buf [4]));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: __always_unused or __maybe_unused is preferred over __attribute__((__unused__))
#85: FILE: drivers/usb/host/ehci-dbg.c:143:
+static void __attribute__((__unused__))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#89: FILE: drivers/usb/host/ehci-dbg.c:146:
+	ehci_dbg (ehci, "%s qh %p n%08x info %x %x qtd %x\n", label,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#90: FILE: drivers/usb/host/ehci-dbg.c:147:
+	ehci_dbg (ehci, "%s qh %p n%08x info %x %x qtd %x\n", label,
 		qh, qh->hw_next, qh->hw_info1, qh->hw_info2,

CHECK:SPACING: No space is necessary after a cast
#101: FILE: drivers/usb/host/ehci-dbg.c:149:
+	dbg_qtd ("overlay", ehci, (struct ehci_qtd *) &qh->hw_qtd_next);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#101: FILE: drivers/usb/host/ehci-dbg.c:149:
+	dbg_qtd ("overlay", ehci, (struct ehci_qtd *) &qh->hw_qtd_next);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#111: FILE: drivers/usb/host/ehci-dbg.c:306:
+	if (!IS_SHORT_READ (token))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#123: FILE: drivers/usb/host/ehci-dbg.c:331:
+		mark = token_mark (qh->hw_token);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le32 should be cpu_to_le32
#137: FILE: drivers/usb/host/ehci-dbg.c:348:
+			(__constant_cpu_to_le32 (QTD_TOGGLE) & qh->hw_token)

Use of __constant_<foo> form is discouraged for the following functions::

  __constant_cpu_to_be[x]
  __constant_cpu_to_le[x]
  __constant_be[x]_to_cpu
  __constant_le[x]_to_cpu
  __constant_htons
  __constant_ntohs

Using any of these outside of include/uapi/ is not preferred as using the
function without __constant_ is identical when the argument is a
constant.

In big endian systems, the macros like __constant_cpu_to_be32(x) and
cpu_to_be32(x) expand to the same expression::

  #define __constant_cpu_to_be32(x) ((__force __be32)(__u32)(x))
  #define __cpu_to_be32(x)          ((__force __be32)(__u32)(x))

In little endian systems, the macros __constant_cpu_to_be32(x) and
cpu_to_be32(x) expand to __constant_swab32 and __swab32.  __swab32
has a __builtin_constant_p check::

  #define __swab32(x)				\
    (__builtin_constant_p((__u32)(x)) ?	\
    ___constant_swab32(x) :			\
    __fswab32(x))

So ultimately they have a special case for constants.
Similar is the case with all of the macros in the list.  Thus
using the __constant_... forms are unnecessarily verbose and
not preferred outside of include/uapi.

See: https://lore.kernel.org/lkml/1400106425.12666.6.camel@joe-AO725/

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#155: FILE: drivers/usb/host/ehci-dbg.c:438:
+	return strlen (buf);

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#201: FILE: drivers/usb/host/ehci-hcd.c:98:
+static const char	hcd_name [] = "ehci_hcd";

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#210: FILE: drivers/usb/host/ehci-hcd.c:118:
+#define EHCI_IAA_JIFFIES	(HZ/100)	/* arbitrary; ~10 msec */
                         	   ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#211: FILE: drivers/usb/host/ehci-hcd.c:119:
+#define EHCI_IO_JIFFIES		(HZ/10)		/* io watchdog > irq_thresh */
                        		   ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#213: FILE: drivers/usb/host/ehci-hcd.c:121:
+#define EHCI_SHRINK_JIFFIES	(HZ/200)	/* async qh unlink delay */
                            	   ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#221: FILE: drivers/usb/host/ehci-hcd.c:270:
+ ^I/* stop async processing after it's idled a bit */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#221: FILE: drivers/usb/host/ehci-hcd.c:270:
+ ^I/* stop async processing after it's idled a bit */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#221: FILE: drivers/usb/host/ehci-hcd.c:270:
+ ^I/* stop async processing after it's idled a bit */$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#222: FILE: drivers/usb/host/ehci-hcd.c:271:
+	if (test_bit (TIMER_ASYNC_OFF, &ehci->actions))

ERROR:CODE_INDENT: code indent should use tabs where possible
#223: FILE: drivers/usb/host/ehci-hcd.c:272:
+ ^I^Istart_unlink_async (ehci, ehci->async);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#223: FILE: drivers/usb/host/ehci-hcd.c:272:
+ ^I^Istart_unlink_async (ehci, ehci->async);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: drivers/usb/host/ehci-hcd.c:272:
+ ^I^Istart_unlink_async (ehci, ehci->async);$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#223: FILE: drivers/usb/host/ehci-hcd.c:272:
+ 		start_unlink_async (ehci, ehci->async);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#243: FILE: drivers/usb/host/ehci-hcd.c:659:
+	timer_action_done (ehci, TIMER_IO_WATCHDOG);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'ehci->async->qh_next.ptr != 0'
#253: FILE: drivers/usb/host/ehci-hcd.c:669:
+	if ((ehci->async->qh_next.ptr != 0) || (ehci->periodic_sched != 0))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'ehci->periodic_sched != 0'
#253: FILE: drivers/usb/host/ehci-hcd.c:669:
+	if ((ehci->async->qh_next.ptr != 0) || (ehci->periodic_sched != 0))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#254: FILE: drivers/usb/host/ehci-hcd.c:670:
+		timer_action (ehci, TIMER_IO_WATCHDOG);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#264: FILE: drivers/usb/host/ehci-hcd.c:1045:
+	pr_debug ("%s: block sizes: qh %Zd qtd %Zd itd %Zd sitd %Zd\n",

WARNING:PRINTF_Z: %Zd is non-standard C, use %zd
#264: FILE: drivers/usb/host/ehci-hcd.c:1045:
+	pr_debug ("%s: block sizes: qh %Zd qtd %Zd itd %Zd sitd %Zd\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#265: FILE: drivers/usb/host/ehci-hcd.c:1046:
+	pr_debug ("%s: block sizes: qh %Zd qtd %Zd itd %Zd sitd %Zd\n",
+		hcd_name,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#306: FILE: drivers/usb/host/ehci-q.c:322:
+			} else if (IS_SHORT_READ (token)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#315: FILE: drivers/usb/host/ehci-q.c:330:
+		} else if (likely (!stopped

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#316: FILE: drivers/usb/host/ehci-q.c:331:
+		} else if (likely (!stopped
+				|| HCD_IS_RUNNING (ehci->hcd.state))) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#316: FILE: drivers/usb/host/ehci-q.c:331:
+				|| HCD_IS_RUNNING (ehci->hcd.state))) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#335: FILE: drivers/usb/host/ehci-q.c:395:
+	if (unlikely (stopped != 0)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'stopped != 0'
#335: FILE: drivers/usb/host/ehci-q.c:395:
+	if (unlikely (stopped != 0)
+			/* some EHCI 0.95 impls will overlay dummy qtds */ 
+			|| qh->hw_qtd_next == EHCI_LIST_END) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#336: FILE: drivers/usb/host/ehci-q.c:396:
+^I^I^I/* some EHCI 0.95 impls will overlay dummy qtds */ $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#337: FILE: drivers/usb/host/ehci-q.c:397:
+			/* some EHCI 0.95 impls will overlay dummy qtds */ 
+			|| qh->hw_qtd_next == EHCI_LIST_END) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#338: FILE: drivers/usb/host/ehci-q.c:398:
+		if (list_empty (&qh->qtd_list))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '&qh->qtd_list'
#338: FILE: drivers/usb/host/ehci-q.c:398:
+		if (list_empty (&qh->qtd_list))

CHECK:BRACES: braces {} should be used on all arms of this statement
#338: FILE: drivers/usb/host/ehci-q.c:398:
+		if (list_empty (&qh->qtd_list))
[...]
+		else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#340: FILE: drivers/usb/host/ehci-q.c:400:
+		else {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#341: FILE: drivers/usb/host/ehci-q.c:401:
+			end = list_entry (qh->qtd_list.next,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#342: FILE: drivers/usb/host/ehci-q.c:402:
+			end = list_entry (qh->qtd_list.next,
+					struct ehci_qtd, qtd_list);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'end->qtd_dma'
#344: FILE: drivers/usb/host/ehci-q.c:404:
+			if (cpu_to_le32 (end->qtd_dma) == qh->hw_current)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#348: FILE: drivers/usb/host/ehci-q.c:408:
+			qh_update (ehci, qh, end);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#358: FILE: drivers/usb/host/ehci-q.c:751:
+	timer_action_done (ehci, TIMER_ASYNC_OFF);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#388: FILE: drivers/usb/host/ehci-q.c:961:
+	timer_action_done (ehci, TIMER_IAA_WATCHDOG);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#414: FILE: drivers/usb/host/ehci-q.c:986:
 		if (HCD_IS_RUNNING (ehci->hcd.state)
+				&& ehci->async->qh_next.qh == 0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#415: FILE: drivers/usb/host/ehci-q.c:987:
+			timer_action (ehci, TIMER_ASYNC_OFF);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#430: FILE: drivers/usb/host/ehci-q.c:1024:
+		timer_action_done (ehci, TIMER_ASYNC_OFF);

CHECK:SPACING: No space is necessary after a cast
#441: FILE: drivers/usb/host/ehci-q.c:1050:
+	(void) readl (&ehci->regs->command);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#441: FILE: drivers/usb/host/ehci-q.c:1050:
+	(void) readl (&ehci->regs->command);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#442: FILE: drivers/usb/host/ehci-q.c:1051:
+	timer_action (ehci, TIMER_IAA_WATCHDOG);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#455: FILE: drivers/usb/host/ehci-q.c:1064:
+	timer_action_done (ehci, TIMER_ASYNC_SHRINK);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#467: FILE: drivers/usb/host/ehci-q.c:1098:
+				else if (!ehci->reclaim
+					    && qh->qh_state == QH_STATE_LINKED)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#480: FILE: drivers/usb/host/ehci-q.c:1106:
+		timer_action (ehci, TIMER_ASYNC_SHRINK);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#514: FILE: drivers/usb/host/ehci.h:111:
+timer_action_done (struct ehci_hcd *ehci, enum ehci_timer_action action)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#516: FILE: drivers/usb/host/ehci.h:113:
+	clear_bit (action, &ehci->actions);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#520: FILE: drivers/usb/host/ehci.h:117:
+timer_action (struct ehci_hcd *ehci, enum ehci_timer_action action)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#522: FILE: drivers/usb/host/ehci.h:119:
+	if (!test_and_set_bit (action, &ehci->actions)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '&ehci->watchdog'
#545: FILE: drivers/usb/host/ehci.h:142:
+		if (action != TIMER_IAA_WATCHDOG
+				&& t > ehci->watchdog.expires
+				&& timer_pending (&ehci->watchdog))

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#546: FILE: drivers/usb/host/ehci.h:143:
+		if (action != TIMER_IAA_WATCHDOG
+				&& t > ehci->watchdog.expires

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#547: FILE: drivers/usb/host/ehci.h:144:
+				&& t > ehci->watchdog.expires
+				&& timer_pending (&ehci->watchdog))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#547: FILE: drivers/usb/host/ehci.h:144:
+				&& timer_pending (&ehci->watchdog))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#549: FILE: drivers/usb/host/ehci.h:146:
+		mod_timer (&ehci->watchdog, t);

WARNING:CONSTANT_CONVERSION: __constant_cpu_to_le32 should be cpu_to_le32
#562: FILE: drivers/usb/host/ehci.h:294:
+#define QTD_MASK __constant_cpu_to_le32 (~0x1f)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#564: FILE: drivers/usb/host/ehci.h:296:
+#define IS_SHORT_READ(token) (QTD_LENGTH (token) != 0 && QTD_PID (token) == 1)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#564: FILE: drivers/usb/host/ehci.h:296:
+#define IS_SHORT_READ(token) (QTD_LENGTH (token) != 0 && QTD_PID (token) == 1)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'token' - possible side-effects?
#564: FILE: drivers/usb/host/ehci.h:296:
+#define IS_SHORT_READ(token) (QTD_LENGTH (token) != 0 && QTD_PID (token) == 1)

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000362609.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 10 errors, 53 warnings, 25 checks, 464 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000362609.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
