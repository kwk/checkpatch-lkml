ERROR:TRAILING_WHITESPACE: trailing whitespace
#91: FILE: include/linux/bitmap.h:19:
+ * $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#108: FILE: include/linux/bitmap.h:36:
+ * bitmap_intersects(src1, src2, nbits) ^IDo *src1 and *src2 overlap?$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#145: FILE: include/linux/bitmap.h:73:
+extern int __bitmap_empty(const unsigned long *bitmap, int bits);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#146: FILE: include/linux/bitmap.h:74:
+extern int __bitmap_full(const unsigned long *bitmap, int bits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#147: FILE: include/linux/bitmap.h:75:
+extern int __bitmap_equal(const unsigned long *bitmap1,

ERROR:CODE_INDENT: code indent should use tabs where possible
#148: FILE: include/linux/bitmap.h:76:
+                ^Iconst unsigned long *bitmap2, int bits);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#148: FILE: include/linux/bitmap.h:76:
+                ^Iconst unsigned long *bitmap2, int bits);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#148: FILE: include/linux/bitmap.h:76:
+extern int __bitmap_equal(const unsigned long *bitmap1,
+                	const unsigned long *bitmap2, int bits);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#148: FILE: include/linux/bitmap.h:76:
+                ^Iconst unsigned long *bitmap2, int bits);$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#149: FILE: include/linux/bitmap.h:77:
+extern void __bitmap_complement(unsigned long *dst, const unsigned long *src,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#150: FILE: include/linux/bitmap.h:78:
+extern void __bitmap_complement(unsigned long *dst, const unsigned long *src,
+			int bits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#151: FILE: include/linux/bitmap.h:79:
+extern void __bitmap_shift_right(unsigned long *dst,

ERROR:CODE_INDENT: code indent should use tabs where possible
#152: FILE: include/linux/bitmap.h:80:
+                        const unsigned long *src, int shift, int bits);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#152: FILE: include/linux/bitmap.h:80:
+extern void __bitmap_shift_right(unsigned long *dst,
+                        const unsigned long *src, int shift, int bits);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#152: FILE: include/linux/bitmap.h:80:
+                        const unsigned long *src, int shift, int bits);$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#153: FILE: include/linux/bitmap.h:81:
+extern void __bitmap_shift_left(unsigned long *dst,

ERROR:CODE_INDENT: code indent should use tabs where possible
#154: FILE: include/linux/bitmap.h:82:
+                        const unsigned long *src, int shift, int bits);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#154: FILE: include/linux/bitmap.h:82:
+extern void __bitmap_shift_left(unsigned long *dst,
+                        const unsigned long *src, int shift, int bits);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#154: FILE: include/linux/bitmap.h:82:
+                        const unsigned long *src, int shift, int bits);$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#155: FILE: include/linux/bitmap.h:83:
+extern void __bitmap_and(unsigned long *dst, const unsigned long *bitmap1,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#156: FILE: include/linux/bitmap.h:84:
+extern void __bitmap_and(unsigned long *dst, const unsigned long *bitmap1,
+			const unsigned long *bitmap2, int bits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#157: FILE: include/linux/bitmap.h:85:
+extern void __bitmap_or(unsigned long *dst, const unsigned long *bitmap1,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#159: FILE: include/linux/bitmap.h:87:
+extern void __bitmap_xor(unsigned long *dst, const unsigned long *bitmap1,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#160: FILE: include/linux/bitmap.h:88:
+extern void __bitmap_xor(unsigned long *dst, const unsigned long *bitmap1,
+			const unsigned long *bitmap2, int bits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#161: FILE: include/linux/bitmap.h:89:
+extern void __bitmap_andnot(unsigned long *dst, const unsigned long *bitmap1,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#162: FILE: include/linux/bitmap.h:90:
+extern void __bitmap_andnot(unsigned long *dst, const unsigned long *bitmap1,
+			const unsigned long *bitmap2, int bits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#163: FILE: include/linux/bitmap.h:91:
+extern int __bitmap_intersects(const unsigned long *bitmap1,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#164: FILE: include/linux/bitmap.h:92:
+extern int __bitmap_intersects(const unsigned long *bitmap1,
+			const unsigned long *bitmap2, int bits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#165: FILE: include/linux/bitmap.h:93:
+extern int __bitmap_subset(const unsigned long *bitmap1,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#166: FILE: include/linux/bitmap.h:94:
+extern int __bitmap_subset(const unsigned long *bitmap1,
+			const unsigned long *bitmap2, int bits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#167: FILE: include/linux/bitmap.h:95:
+extern int __bitmap_weight(const unsigned long *bitmap, int bits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#169: FILE: include/linux/bitmap.h:97:
+extern int bitmap_scnprintf(char *buf, unsigned int len,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#170: FILE: include/linux/bitmap.h:98:
+extern int bitmap_scnprintf(char *buf, unsigned int len,
+			const unsigned long *src, int nbits);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#171: FILE: include/linux/bitmap.h:99:
+extern int bitmap_parse(const char __user *ubuf, unsigned int ulen,

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'nbits' - possible side-effects?
#174: FILE: include/linux/bitmap.h:102:
+#define BITMAP_LAST_WORD_MASK(nbits)					\
+(									\
+	((nbits) % BITS_PER_LONG) ?					\
+		(1UL<<((nbits) % BITS_PER_LONG))-1 : ~0UL		\
+)				

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#177: FILE: include/linux/bitmap.h:105:
+		(1UL<<((nbits) % BITS_PER_LONG))-1 : ~0UL		\
 		    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#177: FILE: include/linux/bitmap.h:105:
+		(1UL<<((nbits) % BITS_PER_LONG))-1 : ~0UL		\
 		                                ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#178: FILE: include/linux/bitmap.h:106:
+)^I^I^I^I$

CHECK:BRACES: braces {} should be used on all arms of this statement
#184: FILE: include/linux/bitmap.h:110:
+	if (nbits <= BITS_PER_LONG)
[...]
+	else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#186: FILE: include/linux/bitmap.h:112:
+	else {

WARNING:LINE_SPACING: Missing a blank line after declarations
#188: FILE: include/linux/bitmap.h:114:
+		int len = BITS_TO_LONGS(nbits) * sizeof(unsigned long);
+		memset(dst, 0, len);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#197: FILE: include/linux/bitmap.h:121:
+	size_t nlongs = BITS_TO_LONGS(nbits);
+	if (nlongs > 1) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#199: FILE: include/linux/bitmap.h:123:
+		int len = (nlongs - 1) * sizeof(unsigned long);
+		memset(dst, 0xff,  len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#207: FILE: include/linux/bitmap.h:129:
+static inline void bitmap_copy(unsigned long *dst, const unsigned long *src,
+			int nbits)

CHECK:BRACES: braces {} should be used on all arms of this statement
#211: FILE: include/linux/bitmap.h:131:
+	if (nbits <= BITS_PER_LONG)
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#213: FILE: include/linux/bitmap.h:133:
+	else {

WARNING:LINE_SPACING: Missing a blank line after declarations
#215: FILE: include/linux/bitmap.h:135:
+		int len = BITS_TO_LONGS(nbits) * sizeof(unsigned long);
+		memcpy(dst, src, len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#241: FILE: include/linux/bitmap.h:140:
+static inline void bitmap_and(unsigned long *dst, const unsigned long *src1,
+			const unsigned long *src2, int nbits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#250: FILE: include/linux/bitmap.h:149:
+static inline void bitmap_or(unsigned long *dst, const unsigned long *src1,
+			const unsigned long *src2, int nbits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#259: FILE: include/linux/bitmap.h:158:
+static inline void bitmap_xor(unsigned long *dst, const unsigned long *src1,
+			const unsigned long *src2, int nbits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#268: FILE: include/linux/bitmap.h:167:
+static inline void bitmap_andnot(unsigned long *dst, const unsigned long *src1,
+			const unsigned long *src2, int nbits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#277: FILE: include/linux/bitmap.h:176:
+static inline void bitmap_complement(unsigned long *dst, const unsigned long *src,
+			int nbits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#286: FILE: include/linux/bitmap.h:185:
+static inline int bitmap_equal(const unsigned long *src1,
+			const unsigned long *src2, int nbits)

ERROR:SPACING: space prohibited after that '!' (ctx:WxW)
#289: FILE: include/linux/bitmap.h:188:
+		return ! ((*src1 ^ *src2) & BITMAP_LAST_WORD_MASK(nbits));
 		       ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#295: FILE: include/linux/bitmap.h:194:
+static inline int bitmap_intersects(const unsigned long *src1,
+			const unsigned long *src2, int nbits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#304: FILE: include/linux/bitmap.h:203:
+static inline int bitmap_subset(const unsigned long *src1,
+			const unsigned long *src2, int nbits)

ERROR:SPACING: space prohibited after that '!' (ctx:WxW)
#307: FILE: include/linux/bitmap.h:206:
+		return ! ((*src1 & ~(*src2)) & BITMAP_LAST_WORD_MASK(nbits));
 		       ^

ERROR:SPACING: space prohibited after that '!' (ctx:WxW)
#315: FILE: include/linux/bitmap.h:214:
+		return ! (*src & BITMAP_LAST_WORD_MASK(nbits));
 		       ^

ERROR:SPACING: space prohibited after that '!' (ctx:WxW)
#323: FILE: include/linux/bitmap.h:222:
+		return ! (~(*src) & BITMAP_LAST_WORD_MASK(nbits));
 		       ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#334: FILE: include/linux/bitmap.h:233:
+static inline void bitmap_shift_right(unsigned long *dst,
+			const unsigned long *src, int n, int nbits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#343: FILE: include/linux/bitmap.h:242:
+static inline void bitmap_shift_left(unsigned long *dst,
+			const unsigned long *src, int n, int nbits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#416: FILE: lib/bitmap.c:72:
+int __bitmap_equal(const unsigned long *bitmap1,
 		const unsigned long *bitmap2, int bits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#459: FILE: lib/bitmap.c:110:
+void __bitmap_shift_right(unsigned long *dst,
 			const unsigned long *src, int shift, int bits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#483: FILE: lib/bitmap.c:155:
+void __bitmap_shift_left(unsigned long *dst,
 			const unsigned long *src, int shift, int bits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#495: FILE: lib/bitmap.c:183:
+void __bitmap_and(unsigned long *dst, const unsigned long *bitmap1,
 				const unsigned long *bitmap2, int bits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#507: FILE: lib/bitmap.c:194:
+void __bitmap_or(unsigned long *dst, const unsigned long *bitmap1,
 				const unsigned long *bitmap2, int bits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#519: FILE: lib/bitmap.c:205:
+void __bitmap_xor(unsigned long *dst, const unsigned long *bitmap1,
 				const unsigned long *bitmap2, int bits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#531: FILE: lib/bitmap.c:216:
+void __bitmap_andnot(unsigned long *dst, const unsigned long *bitmap1,
 				const unsigned long *bitmap2, int bits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#543: FILE: lib/bitmap.c:227:
+int __bitmap_intersects(const unsigned long *bitmap1,
 				const unsigned long *bitmap2, int bits)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#561: FILE: lib/bitmap.c:242:
+int __bitmap_subset(const unsigned long *bitmap1,
 				const unsigned long *bitmap2, int bits)

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000277453.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 9 errors, 9 warnings, 52 checks, 535 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000277453.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
