WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#44: 
diff -uN linux-2.5.45/drivers/perfctr/x86.c linux-2.5.45.perfctr-3.1/drivers/perfctr/x86.c

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#48: FILE: drivers/perfctr/x86.c:1:
+/* $Id: x86.c,v 1.74 2002/10/31 22:16:59 mikpe Exp $

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#48: FILE: drivers/perfctr/x86.c:1:
+/* $Id: x86.c,v 1.74 2002/10/31 22:16:59 mikpe Exp $

Since linux moved to git, the CVS markers are no longer used.
So, CVS style keywords ($Id$, $Revision$, $Log$) should not be
added.

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#79: FILE: drivers/perfctr/x86.c:32:
+		unsigned int escr[0x3E2-0x3A0];
 		                       ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __aligned(SMP_CACHE_BYTES) over __attribute__((__aligned__(SMP_CACHE_BYTES)))
#83: FILE: drivers/perfctr/x86.c:36:
+} __attribute__((__aligned__(SMP_CACHE_BYTES)));

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#109: FILE: drivers/perfctr/x86.c:62:
+#define MSR_P4_MISC_ENABLE_PERF_AVAIL (1<<7)	/* read-only status bit */
                                         ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#109: FILE: drivers/perfctr/x86.c:62:
+#define MSR_P4_MISC_ENABLE_PERF_AVAIL (1<<7)	/* read-only status bit */

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#110: FILE: drivers/perfctr/x86.c:63:
+#define MSR_P4_MISC_ENABLE_PEBS_UNAVAIL (1<<12) /* read-only status bit */
                                           ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#110: FILE: drivers/perfctr/x86.c:63:
+#define MSR_P4_MISC_ENABLE_PEBS_UNAVAIL (1<<12) /* read-only status bit */

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#131: FILE: drivers/perfctr/x86.c:84:
+#define P4_CCCR_RESERVED	(0x30000FFF|P4_CCCR_OVF|P4_CCCR_OVF_PMI_T1)
                         	           ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#131: FILE: drivers/perfctr/x86.c:84:
+#define P4_CCCR_RESERVED	(0x30000FFF|P4_CCCR_OVF|P4_CCCR_OVF_PMI_T1)
                         	                       ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#137: FILE: drivers/perfctr/x86.c:90:
+#define P4_ESCR_RESERVED	(0x80000000|P4_ESCR_CPL_T1)
                         	           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#142: FILE: drivers/perfctr/x86.c:95:
+#define rdmsrl(msr,low) \
                   ^

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#142: FILE: drivers/perfctr/x86.c:95:
+#define rdmsrl(msr,low) \
+	__asm__ __volatile__("rdmsr" : "=a"(low) : "c"(msr) : "edx")

ERROR:SPACING: space required after that ',' (ctx:VxV)
#144: FILE: drivers/perfctr/x86.c:97:
+#define rdpmcl(ctr,low) \
                   ^

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#144: FILE: drivers/perfctr/x86.c:97:
+#define rdpmcl(ctr,low) \
+	__asm__ __volatile__("rdpmc" : "=a"(low) : "c"(ctr) : "edx")

ERROR:SPACING: space required before the open parenthesis '('
#151: FILE: drivers/perfctr/x86.c:104:
+	for(i = 0; i < n; ++i)

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#152: FILE: drivers/perfctr/x86.c:105:
+		wrmsr(base+i, 0, 0);
 		          ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#193: FILE: drivers/perfctr/x86.c:146:
+	/* PREEMPT note: invoked via an interrupt gate, which
+	   masks interrupts. We're still on the originating CPU. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#193: FILE: drivers/perfctr/x86.c:146:
+	   masks interrupts. We're still on the originating CPU. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#213: FILE: drivers/perfctr/x86.c:166:
+	if( cpu_has_apic )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#213: FILE: drivers/perfctr/x86.c:166:
+	if( cpu_has_apic )

ERROR:SPACING: space required before the open parenthesis '('
#213: FILE: drivers/perfctr/x86.c:166:
+	if( cpu_has_apic )

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#222: FILE: drivers/perfctr/x86.c:175:
+}
+static inline void perfctr_set_lvtpc(unsigned int vector) { }

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited after that open parenthesis '('
#279: FILE: drivers/perfctr/x86.c:232:
+	if( state->control.nrictrs != 0 || state->control.nractrs > 2 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#279: FILE: drivers/perfctr/x86.c:232:
+	if( state->control.nrictrs != 0 || state->control.nractrs > 2 )

ERROR:SPACING: space required before the open parenthesis '('
#279: FILE: drivers/perfctr/x86.c:232:
+	if( state->control.nrictrs != 0 || state->control.nractrs > 2 )

ERROR:SPACING: space required before the open parenthesis '('
#283: FILE: drivers/perfctr/x86.c:236:
+	for(i = 0; i < state->control.nractrs; ++i) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#285: FILE: drivers/perfctr/x86.c:238:
+		if( pmc > 1 || cesr_half[pmc] != 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#285: FILE: drivers/perfctr/x86.c:238:
+		if( pmc > 1 || cesr_half[pmc] != 0 )

ERROR:SPACING: space required before the open parenthesis '('
#285: FILE: drivers/perfctr/x86.c:238:
+		if( pmc > 1 || cesr_half[pmc] != 0 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#289: FILE: drivers/perfctr/x86.c:242:
+		if( (evntsel & reserved_bits) != 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#289: FILE: drivers/perfctr/x86.c:242:
+		if( (evntsel & reserved_bits) != 0 )

ERROR:SPACING: space required before the open parenthesis '('
#289: FILE: drivers/perfctr/x86.c:242:
+		if( (evntsel & reserved_bits) != 0 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#292: FILE: drivers/perfctr/x86.c:245:
+		if( !is_c6 && !(evntsel & P5_CESR_CPL) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#292: FILE: drivers/perfctr/x86.c:245:
+		if( !is_c6 && !(evntsel & P5_CESR_CPL) )

ERROR:SPACING: space required before the open parenthesis '('
#292: FILE: drivers/perfctr/x86.c:245:
+		if( !is_c6 && !(evntsel & P5_CESR_CPL) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#312: FILE: drivers/perfctr/x86.c:265:
+	if( !cesr )	/* no PMC is on (this test doesn't work on C6) */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#312: FILE: drivers/perfctr/x86.c:265:
+	if( !cesr )	/* no PMC is on (this test doesn't work on C6) */

ERROR:SPACING: space required before the open parenthesis '('
#312: FILE: drivers/perfctr/x86.c:265:
+	if( !cesr )	/* no PMC is on (this test doesn't work on C6) */

ERROR:SPACING: space prohibited after that open parenthesis '('
#315: FILE: drivers/perfctr/x86.c:268:
+	if( cpu->k1.p5_cesr != cesr ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#315: FILE: drivers/perfctr/x86.c:268:
+	if( cpu->k1.p5_cesr != cesr ) {

ERROR:SPACING: space required before the open parenthesis '('
#315: FILE: drivers/perfctr/x86.c:268:
+	if( cpu->k1.p5_cesr != cesr ) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#327: FILE: drivers/perfctr/x86.c:280:
+	/* The P5 doesn't allocate a cache line on a write miss, so do
+	   a dummy read to avoid a write miss here _and_ a read miss

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#328: FILE: drivers/perfctr/x86.c:281:
+	   later in our caller. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#332: FILE: drivers/perfctr/x86.c:285:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#332: FILE: drivers/perfctr/x86.c:285:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space required before the open parenthesis '('
#332: FILE: drivers/perfctr/x86.c:285:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space required before the open parenthesis '('
#335: FILE: drivers/perfctr/x86.c:288:
+	for(i = 0; i < nrctrs; ++i) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#337: FILE: drivers/perfctr/x86.c:290:
+		unsigned int pmc = state->control.pmc_map[i];
+		rdmsrl(MSR_P5_CTR0+pmc, ctrs->pmc[i]);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#337: FILE: drivers/perfctr/x86.c:290:
+		rdmsrl(MSR_P5_CTR0+pmc, ctrs->pmc[i]);
 		                  ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#348: FILE: drivers/perfctr/x86.c:301:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#348: FILE: drivers/perfctr/x86.c:301:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space required before the open parenthesis '('
#348: FILE: drivers/perfctr/x86.c:301:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space required before the open parenthesis '('
#351: FILE: drivers/perfctr/x86.c:304:
+	for(i = 0; i < nrctrs; ++i) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#353: FILE: drivers/perfctr/x86.c:306:
+		unsigned int pmc = state->control.pmc_map[i];
+		rdpmcl(pmc, ctrs->pmc[i]);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#360: FILE: drivers/perfctr/x86.c:313:
+	clear_msr_range(MSR_P5_CESR, 1+2);
 	                              ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#401: FILE: drivers/perfctr/x86.c:354:
+	if( state->control.tsc_on )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#401: FILE: drivers/perfctr/x86.c:354:
+	if( state->control.tsc_on )

ERROR:SPACING: space required before the open parenthesis '('
#401: FILE: drivers/perfctr/x86.c:354:
+	if( state->control.tsc_on )

ERROR:SPACING: space prohibited after that open parenthesis '('
#411: FILE: drivers/perfctr/x86.c:364:
+	if( perfctr_cstatus_nractrs(state->cstatus) == 0 ) /* no PMC is on */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#411: FILE: drivers/perfctr/x86.c:364:
+	if( perfctr_cstatus_nractrs(state->cstatus) == 0 ) /* no PMC is on */

ERROR:SPACING: space required before the open parenthesis '('
#411: FILE: drivers/perfctr/x86.c:364:
+	if( perfctr_cstatus_nractrs(state->cstatus) == 0 ) /* no PMC is on */

ERROR:SPACING: space prohibited after that open parenthesis '('
#415: FILE: drivers/perfctr/x86.c:368:
+	if( cpu->k1.p5_cesr != cesr ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#415: FILE: drivers/perfctr/x86.c:368:
+	if( cpu->k1.p5_cesr != cesr ) {

ERROR:SPACING: space required before the open parenthesis '('
#415: FILE: drivers/perfctr/x86.c:368:
+	if( cpu->k1.p5_cesr != cesr ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#444: FILE: drivers/perfctr/x86.c:397:
+	if( nrctrs < nractrs || nrctrs > (is_k7 ? 4 : 2) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#444: FILE: drivers/perfctr/x86.c:397:
+	if( nrctrs < nractrs || nrctrs > (is_k7 ? 4 : 2) )

ERROR:SPACING: space required before the open parenthesis '('
#444: FILE: drivers/perfctr/x86.c:397:
+	if( nrctrs < nractrs || nrctrs > (is_k7 ? 4 : 2) )

ERROR:SPACING: space required before the open parenthesis '('
#448: FILE: drivers/perfctr/x86.c:401:
+	for(i = 0; i < nrctrs; ++i) {

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#450: FILE: drivers/perfctr/x86.c:403:
+		if( pmc >= (is_k7 ? 4 : 2) || (pmc_mask & (1<<pmc)) )
 		                                            ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#450: FILE: drivers/perfctr/x86.c:403:
+		if( pmc >= (is_k7 ? 4 : 2) || (pmc_mask & (1<<pmc)) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#450: FILE: drivers/perfctr/x86.c:403:
+		if( pmc >= (is_k7 ? 4 : 2) || (pmc_mask & (1<<pmc)) )

ERROR:SPACING: space required before the open parenthesis '('
#450: FILE: drivers/perfctr/x86.c:403:
+		if( pmc >= (is_k7 ? 4 : 2) || (pmc_mask & (1<<pmc)) )

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#452: FILE: drivers/perfctr/x86.c:405:
+		pmc_mask |= (1<<pmc);
 		              ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#455: FILE: drivers/perfctr/x86.c:408:
+		if( evntsel & P6_EVNTSEL_RESERVED )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#455: FILE: drivers/perfctr/x86.c:408:
+		if( evntsel & P6_EVNTSEL_RESERVED )

ERROR:SPACING: space required before the open parenthesis '('
#455: FILE: drivers/perfctr/x86.c:408:
+		if( evntsel & P6_EVNTSEL_RESERVED )

ERROR:SPACING: space prohibited after that open parenthesis '('
#458: FILE: drivers/perfctr/x86.c:411:
+		if( is_k7 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#458: FILE: drivers/perfctr/x86.c:411:
+		if( is_k7 ) {

ERROR:SPACING: space required before the open parenthesis '('
#458: FILE: drivers/perfctr/x86.c:411:
+		if( is_k7 ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#460: FILE: drivers/perfctr/x86.c:413:
+			if( !(evntsel & P6_EVNTSEL_ENABLE) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#460: FILE: drivers/perfctr/x86.c:413:
+			if( !(evntsel & P6_EVNTSEL_ENABLE) )

ERROR:SPACING: space required before the open parenthesis '('
#460: FILE: drivers/perfctr/x86.c:413:
+			if( !(evntsel & P6_EVNTSEL_ENABLE) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#464: FILE: drivers/perfctr/x86.c:417:
+			if( evntsel & P6_EVNTSEL_ENABLE ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#464: FILE: drivers/perfctr/x86.c:417:
+			if( evntsel & P6_EVNTSEL_ENABLE ) {

ERROR:SPACING: space required before the open parenthesis '('
#464: FILE: drivers/perfctr/x86.c:417:
+			if( evntsel & P6_EVNTSEL_ENABLE ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#465: FILE: drivers/perfctr/x86.c:418:
+				if( pmc > 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#465: FILE: drivers/perfctr/x86.c:418:
+				if( pmc > 0 )

ERROR:SPACING: space required before the open parenthesis '('
#465: FILE: drivers/perfctr/x86.c:418:
+				if( pmc > 0 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#468: FILE: drivers/perfctr/x86.c:421:
+				if( pmc == 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#468: FILE: drivers/perfctr/x86.c:421:
+				if( pmc == 0 )

ERROR:SPACING: space required before the open parenthesis '('
#468: FILE: drivers/perfctr/x86.c:421:
+				if( pmc == 0 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#473: FILE: drivers/perfctr/x86.c:426:
+		if( !(evntsel & P6_EVNTSEL_CPL) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#473: FILE: drivers/perfctr/x86.c:426:
+		if( !(evntsel & P6_EVNTSEL_CPL) )

ERROR:SPACING: space required before the open parenthesis '('
#473: FILE: drivers/perfctr/x86.c:426:
+		if( !(evntsel & P6_EVNTSEL_CPL) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#476: FILE: drivers/perfctr/x86.c:429:
+		if( evntsel & P6_EVNTSEL_INT ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#476: FILE: drivers/perfctr/x86.c:429:
+		if( evntsel & P6_EVNTSEL_INT ) {

ERROR:SPACING: space required before the open parenthesis '('
#476: FILE: drivers/perfctr/x86.c:429:
+		if( evntsel & P6_EVNTSEL_INT ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#477: FILE: drivers/perfctr/x86.c:430:
+			if( i < nractrs )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#477: FILE: drivers/perfctr/x86.c:430:
+			if( i < nractrs )

ERROR:SPACING: space required before the open parenthesis '('
#477: FILE: drivers/perfctr/x86.c:430:
+			if( i < nractrs )

ERROR:SPACING: space prohibited after that open parenthesis '('
#480: FILE: drivers/perfctr/x86.c:433:
+			if( i >= nractrs )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#480: FILE: drivers/perfctr/x86.c:433:
+			if( i >= nractrs )

ERROR:SPACING: space required before the open parenthesis '('
#480: FILE: drivers/perfctr/x86.c:433:
+			if( i >= nractrs )

ERROR:SPACING: space required before the open parenthesis '('
#505: FILE: drivers/perfctr/x86.c:458:
+	for(i = perfctr_cstatus_nractrs(cstatus); i < nrctrs; ++i) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#507: FILE: drivers/perfctr/x86.c:460:
+		unsigned int pmc, now;
+		pmc = state->control.pmc_map[i];

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#509: FILE: drivers/perfctr/x86.c:462:
+		wrmsr(msr_evntsel0+pmc, 0, 0);
 		                  ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#527: FILE: drivers/perfctr/x86.c:480:
+	if( cpu->k1.id == state->k1.id ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#527: FILE: drivers/perfctr/x86.c:480:
+	if( cpu->k1.id == state->k1.id ) {

ERROR:SPACING: space required before the open parenthesis '('
#527: FILE: drivers/perfctr/x86.c:480:
+	if( cpu->k1.id == state->k1.id ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#529: FILE: drivers/perfctr/x86.c:482:
+		if( is_isuspend_cpu(state, cpu) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#529: FILE: drivers/perfctr/x86.c:482:
+		if( is_isuspend_cpu(state, cpu) )

ERROR:SPACING: space required before the open parenthesis '('
#529: FILE: drivers/perfctr/x86.c:482:
+		if( is_isuspend_cpu(state, cpu) )

ERROR:SPACING: space required before the open parenthesis '('
#534: FILE: drivers/perfctr/x86.c:487:
+	for(i = perfctr_cstatus_nractrs(cstatus); i < nrctrs; ++i) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#537: FILE: drivers/perfctr/x86.c:490:
+		wrmsr(msr_perfctr0+pmc, state->start.pmc[i], -1);
 		                  ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#561: FILE: drivers/perfctr/x86.c:514:
+	if( cpu->k1.id == state->k1.id )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#561: FILE: drivers/perfctr/x86.c:514:
+	if( cpu->k1.id == state->k1.id )

ERROR:SPACING: space required before the open parenthesis '('
#561: FILE: drivers/perfctr/x86.c:514:
+	if( cpu->k1.id == state->k1.id )

ERROR:SPACING: space required before the open parenthesis '('
#564: FILE: drivers/perfctr/x86.c:517:
+	for(i = 0; i < nrctrs; ++i) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#567: FILE: drivers/perfctr/x86.c:520:
+		unsigned int pmc = state->control.pmc_map[i];
+		if( evntsel != cpu->control.evntsel[pmc] ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#567: FILE: drivers/perfctr/x86.c:520:
+		if( evntsel != cpu->control.evntsel[pmc] ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#567: FILE: drivers/perfctr/x86.c:520:
+		if( evntsel != cpu->control.evntsel[pmc] ) {

ERROR:SPACING: space required before the open parenthesis '('
#567: FILE: drivers/perfctr/x86.c:520:
+		if( evntsel != cpu->control.evntsel[pmc] ) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#569: FILE: drivers/perfctr/x86.c:522:
+			wrmsr(msr_evntsel0+pmc, evntsel, 0);
 			                  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#623: FILE: drivers/perfctr/x86.c:576:
+	clear_msr_range(MSR_K7_EVNTSEL0, 4+4);
 	                                  ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#641: FILE: drivers/perfctr/x86.c:594:
+	if( state->control.nrictrs || state->control.nractrs > 1 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#641: FILE: drivers/perfctr/x86.c:594:
+	if( state->control.nrictrs || state->control.nractrs > 1 )

ERROR:SPACING: space required before the open parenthesis '('
#641: FILE: drivers/perfctr/x86.c:594:
+	if( state->control.nrictrs || state->control.nractrs > 1 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#643: FILE: drivers/perfctr/x86.c:596:
+	if( state->control.nractrs == 1 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#643: FILE: drivers/perfctr/x86.c:596:
+	if( state->control.nractrs == 1 ) {

ERROR:SPACING: space required before the open parenthesis '('
#643: FILE: drivers/perfctr/x86.c:596:
+	if( state->control.nractrs == 1 ) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#643: FILE: drivers/perfctr/x86.c:596:
+	if( state->control.nractrs == 1 ) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: space prohibited after that open parenthesis '('
#644: FILE: drivers/perfctr/x86.c:597:
+		if( state->control.pmc_map[0] != 1 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#644: FILE: drivers/perfctr/x86.c:597:
+		if( state->control.pmc_map[0] != 1 )

ERROR:SPACING: space required before the open parenthesis '('
#644: FILE: drivers/perfctr/x86.c:597:
+		if( state->control.pmc_map[0] != 1 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#646: FILE: drivers/perfctr/x86.c:599:
+		if( state->control.evntsel[0] & VC3_EVNTSEL1_RESERVED )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#646: FILE: drivers/perfctr/x86.c:599:
+		if( state->control.evntsel[0] & VC3_EVNTSEL1_RESERVED )

ERROR:SPACING: space required before the open parenthesis '('
#646: FILE: drivers/perfctr/x86.c:599:
+		if( state->control.evntsel[0] & VC3_EVNTSEL1_RESERVED )

CHECK:BRACES: Unbalanced braces around else statement
#649: FILE: drivers/perfctr/x86.c:602:
+	} else

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#657: FILE: drivers/perfctr/x86.c:610:
+	wrmsr(MSR_P6_EVNTSEL0+1, 0x00070079, 0);
 	                     ^

WARNING:REPEATED_WORD: Possible repeated word: 'the'
#678: FILE: drivers/perfctr/x86.c:631:
+ *    as the first even-numbered pair, and the range is 1+ the range of the
+ *    the first even-numbered pair. For example, CCCR(0) and (1) map ESCR

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#691: FILE: drivers/perfctr/x86.c:644:
+	[0x00/4] {	[7] 0xA0,
 	     ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#700: FILE: drivers/perfctr/x86.c:653:
+	[0x04/4] {	[0] 0xC0,
 	     ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#704: FILE: drivers/perfctr/x86.c:657:
+	[0x08/4] {	[1] 0xA4,
 	     ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#710: FILE: drivers/perfctr/x86.c:663:
+	/* 0x0C, 0x0D, and 0x10 as is,
+	   0x0E, 0x0F, and 0x11 are +1 except [3] is not in the domain */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#710: FILE: drivers/perfctr/x86.c:663:
+	   0x0E, 0x0F, and 0x11 are +1 except [3] is not in the domain */

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#711: FILE: drivers/perfctr/x86.c:664:
+	[0x0C/4] {	[4] 0xB8,
 	     ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#725: FILE: drivers/perfctr/x86.c:678:
+	if( pmc > 0x11 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#725: FILE: drivers/perfctr/x86.c:678:
+	if( pmc > 0x11 )

ERROR:SPACING: space required before the open parenthesis '('
#725: FILE: drivers/perfctr/x86.c:678:
+	if( pmc > 0x11 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#727: FILE: drivers/perfctr/x86.c:680:
+	if( pmc > 0x0F )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#727: FILE: drivers/perfctr/x86.c:680:
+	if( pmc > 0x0F )

ERROR:SPACING: space required before the open parenthesis '('
#727: FILE: drivers/perfctr/x86.c:680:
+	if( pmc > 0x0F )

ERROR:SPACING: space prohibited after that open parenthesis '('
#731: FILE: drivers/perfctr/x86.c:684:
+	if( !escr_offset || (pair == 7 && escr_select == 3) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#731: FILE: drivers/perfctr/x86.c:684:
+	if( !escr_offset || (pair == 7 && escr_select == 3) )

ERROR:SPACING: space required before the open parenthesis '('
#731: FILE: drivers/perfctr/x86.c:684:
+	if( !escr_offset || (pair == 7 && escr_select == 3) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#742: FILE: drivers/perfctr/x86.c:695:
+	if( nrctrs < nractrs || nrctrs > 18 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#742: FILE: drivers/perfctr/x86.c:695:
+	if( nrctrs < nractrs || nrctrs > 18 )

ERROR:SPACING: space required before the open parenthesis '('
#742: FILE: drivers/perfctr/x86.c:695:
+	if( nrctrs < nractrs || nrctrs > 18 )

ERROR:SPACING: space required before the open parenthesis '('
#746: FILE: drivers/perfctr/x86.c:699:
+	for(i = 0; i < nrctrs; ++i) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#749: FILE: drivers/perfctr/x86.c:702:
+		/* check that pmc_map[] is well-defined;
+		   pmc_map[i] is what we pass to RDPMC, the PMC itself

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#750: FILE: drivers/perfctr/x86.c:703:
+		   is extracted by masking off the FAST_RDPMC flag */

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#752: FILE: drivers/perfctr/x86.c:705:
+		if( pmc >= 18 || (pmc_mask & (1<<pmc)) )
 		                               ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#752: FILE: drivers/perfctr/x86.c:705:
+		if( pmc >= 18 || (pmc_mask & (1<<pmc)) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#752: FILE: drivers/perfctr/x86.c:705:
+		if( pmc >= 18 || (pmc_mask & (1<<pmc)) )

ERROR:SPACING: space required before the open parenthesis '('
#752: FILE: drivers/perfctr/x86.c:705:
+		if( pmc >= 18 || (pmc_mask & (1<<pmc)) )

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#754: FILE: drivers/perfctr/x86.c:707:
+		pmc_mask |= (1<<pmc);
 		              ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#757: FILE: drivers/perfctr/x86.c:710:
+		if( cccr_val & P4_CCCR_RESERVED )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#757: FILE: drivers/perfctr/x86.c:710:
+		if( cccr_val & P4_CCCR_RESERVED )

ERROR:SPACING: space required before the open parenthesis '('
#757: FILE: drivers/perfctr/x86.c:710:
+		if( cccr_val & P4_CCCR_RESERVED )

ERROR:SPACING: space prohibited after that open parenthesis '('
#759: FILE: drivers/perfctr/x86.c:712:
+		if( (cccr_val & P4_CCCR_REQUIRED) != P4_CCCR_REQUIRED )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#759: FILE: drivers/perfctr/x86.c:712:
+		if( (cccr_val & P4_CCCR_REQUIRED) != P4_CCCR_REQUIRED )

ERROR:SPACING: space required before the open parenthesis '('
#759: FILE: drivers/perfctr/x86.c:712:
+		if( (cccr_val & P4_CCCR_REQUIRED) != P4_CCCR_REQUIRED )

ERROR:SPACING: space prohibited after that open parenthesis '('
#761: FILE: drivers/perfctr/x86.c:714:
+		if( !(cccr_val & (P4_CCCR_ENABLE | P4_CCCR_CASCADE)) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#761: FILE: drivers/perfctr/x86.c:714:
+		if( !(cccr_val & (P4_CCCR_ENABLE | P4_CCCR_CASCADE)) )

ERROR:SPACING: space required before the open parenthesis '('
#761: FILE: drivers/perfctr/x86.c:714:
+		if( !(cccr_val & (P4_CCCR_ENABLE | P4_CCCR_CASCADE)) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#763: FILE: drivers/perfctr/x86.c:716:
+		if( cccr_val & P4_CCCR_OVF_PMI_T0 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#763: FILE: drivers/perfctr/x86.c:716:
+		if( cccr_val & P4_CCCR_OVF_PMI_T0 ) {

ERROR:SPACING: space required before the open parenthesis '('
#763: FILE: drivers/perfctr/x86.c:716:
+		if( cccr_val & P4_CCCR_OVF_PMI_T0 ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#764: FILE: drivers/perfctr/x86.c:717:
+			if( i < nractrs )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#764: FILE: drivers/perfctr/x86.c:717:
+			if( i < nractrs )

ERROR:SPACING: space required before the open parenthesis '('
#764: FILE: drivers/perfctr/x86.c:717:
+			if( i < nractrs )

ERROR:SPACING: space prohibited after that open parenthesis '('
#767: FILE: drivers/perfctr/x86.c:720:
+			if( i >= nractrs )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#767: FILE: drivers/perfctr/x86.c:720:
+			if( i >= nractrs )

ERROR:SPACING: space required before the open parenthesis '('
#767: FILE: drivers/perfctr/x86.c:720:
+			if( i >= nractrs )

ERROR:SPACING: space prohibited after that open parenthesis '('
#772: FILE: drivers/perfctr/x86.c:725:
+		if( escr_val & P4_ESCR_RESERVED )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#772: FILE: drivers/perfctr/x86.c:725:
+		if( escr_val & P4_ESCR_RESERVED )

ERROR:SPACING: space required before the open parenthesis '('
#772: FILE: drivers/perfctr/x86.c:725:
+		if( escr_val & P4_ESCR_RESERVED )

ERROR:SPACING: space prohibited after that open parenthesis '('
#774: FILE: drivers/perfctr/x86.c:727:
+		if( !(escr_val & P4_ESCR_CPL_T0) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#774: FILE: drivers/perfctr/x86.c:727:
+		if( !(escr_val & P4_ESCR_CPL_T0) )

ERROR:SPACING: space required before the open parenthesis '('
#774: FILE: drivers/perfctr/x86.c:727:
+		if( !(escr_val & P4_ESCR_CPL_T0) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#778: FILE: drivers/perfctr/x86.c:731:
+		if( !escr_addr )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#778: FILE: drivers/perfctr/x86.c:731:
+		if( !escr_addr )

ERROR:SPACING: space required before the open parenthesis '('
#778: FILE: drivers/perfctr/x86.c:731:
+		if( !escr_addr )

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#781: FILE: drivers/perfctr/x86.c:734:
+		/* XXX: Two counters could map to the same ESCR. Should we
+		   check that they use the same ESCR value? */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#781: FILE: drivers/perfctr/x86.c:734:
+		   check that they use the same ESCR value? */

ERROR:SPACING: space prohibited after that open parenthesis '('
#785: FILE: drivers/perfctr/x86.c:738:
+	if( state->control.p4.pebs_enable ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#785: FILE: drivers/perfctr/x86.c:738:
+	if( state->control.p4.pebs_enable ) {

ERROR:SPACING: space required before the open parenthesis '('
#785: FILE: drivers/perfctr/x86.c:738:
+	if( state->control.p4.pebs_enable ) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#785: FILE: drivers/perfctr/x86.c:738:
+	if( state->control.p4.pebs_enable ) {
[...]
+	} else if( state->control.p4.pebs_matrix_vert )
[...]

ERROR:SPACING: space prohibited after that open parenthesis '('
#786: FILE: drivers/perfctr/x86.c:739:
+		if( !nrctrs )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#786: FILE: drivers/perfctr/x86.c:739:
+		if( !nrctrs )

ERROR:SPACING: space required before the open parenthesis '('
#786: FILE: drivers/perfctr/x86.c:739:
+		if( !nrctrs )

ERROR:SPACING: space prohibited after that open parenthesis '('
#788: FILE: drivers/perfctr/x86.c:741:
+		if( state->control.p4.pebs_enable & P4_PE_RESERVED )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#788: FILE: drivers/perfctr/x86.c:741:
+		if( state->control.p4.pebs_enable & P4_PE_RESERVED )

ERROR:SPACING: space required before the open parenthesis '('
#788: FILE: drivers/perfctr/x86.c:741:
+		if( state->control.p4.pebs_enable & P4_PE_RESERVED )

ERROR:SPACING: space prohibited after that open parenthesis '('
#790: FILE: drivers/perfctr/x86.c:743:
+		if( !(state->control.p4.pebs_enable & P4_PE_UOP_TAG ) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#790: FILE: drivers/perfctr/x86.c:743:
+		if( !(state->control.p4.pebs_enable & P4_PE_UOP_TAG ) )

ERROR:SPACING: space required before the open parenthesis '('
#790: FILE: drivers/perfctr/x86.c:743:
+		if( !(state->control.p4.pebs_enable & P4_PE_UOP_TAG ) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#792: FILE: drivers/perfctr/x86.c:745:
+		if( !(state->control.p4.pebs_enable & P4_PE_REPLAY_TAG_BITS) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#792: FILE: drivers/perfctr/x86.c:745:
+		if( !(state->control.p4.pebs_enable & P4_PE_REPLAY_TAG_BITS) )

ERROR:SPACING: space required before the open parenthesis '('
#792: FILE: drivers/perfctr/x86.c:745:
+		if( !(state->control.p4.pebs_enable & P4_PE_REPLAY_TAG_BITS) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#794: FILE: drivers/perfctr/x86.c:747:
+		if( state->control.p4.pebs_matrix_vert & P4_PMV_RESERVED )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#794: FILE: drivers/perfctr/x86.c:747:
+		if( state->control.p4.pebs_matrix_vert & P4_PMV_RESERVED )

ERROR:SPACING: space required before the open parenthesis '('
#794: FILE: drivers/perfctr/x86.c:747:
+		if( state->control.p4.pebs_matrix_vert & P4_PMV_RESERVED )

ERROR:SPACING: space prohibited after that open parenthesis '('
#796: FILE: drivers/perfctr/x86.c:749:
+		if( !(state->control.p4.pebs_matrix_vert & P4_PMV_REPLAY_TAG_BITS) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#796: FILE: drivers/perfctr/x86.c:749:
+		if( !(state->control.p4.pebs_matrix_vert & P4_PMV_REPLAY_TAG_BITS) )

ERROR:SPACING: space required before the open parenthesis '('
#796: FILE: drivers/perfctr/x86.c:749:
+		if( !(state->control.p4.pebs_matrix_vert & P4_PMV_REPLAY_TAG_BITS) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#798: FILE: drivers/perfctr/x86.c:751:
+	} else if( state->control.p4.pebs_matrix_vert )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#798: FILE: drivers/perfctr/x86.c:751:
+	} else if( state->control.p4.pebs_matrix_vert )

ERROR:SPACING: space required before the open parenthesis '('
#798: FILE: drivers/perfctr/x86.c:751:
+	} else if( state->control.p4.pebs_matrix_vert )

ERROR:SPACING: space required before the open parenthesis '('
#815: FILE: drivers/perfctr/x86.c:768:
+	for(i = perfctr_cstatus_nractrs(cstatus); i < nrctrs; ++i) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#817: FILE: drivers/perfctr/x86.c:770:
+		unsigned int pmc_raw, pmc_idx, now;
+		pmc_raw = state->control.pmc_map[i];

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#820: FILE: drivers/perfctr/x86.c:773:
+		wrmsr(MSR_P4_CCCR0+pmc_idx, 0, 0); /* P4 quirk: also clear OVF */
 		                  ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#839: FILE: drivers/perfctr/x86.c:792:
+	if( cpu->k1.id == state->k1.id ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#839: FILE: drivers/perfctr/x86.c:792:
+	if( cpu->k1.id == state->k1.id ) {

ERROR:SPACING: space required before the open parenthesis '('
#839: FILE: drivers/perfctr/x86.c:792:
+	if( cpu->k1.id == state->k1.id ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#841: FILE: drivers/perfctr/x86.c:794:
+		if( is_isuspend_cpu(state, cpu) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#841: FILE: drivers/perfctr/x86.c:794:
+		if( is_isuspend_cpu(state, cpu) )

ERROR:SPACING: space required before the open parenthesis '('
#841: FILE: drivers/perfctr/x86.c:794:
+		if( is_isuspend_cpu(state, cpu) )

ERROR:SPACING: space required before the open parenthesis '('
#846: FILE: drivers/perfctr/x86.c:799:
+	for(i = perfctr_cstatus_nractrs(cstatus); i < nrctrs; ++i) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#848: FILE: drivers/perfctr/x86.c:801:
+		unsigned int pmc = state->control.pmc_map[i] & P4_MASK_FAST_RDPMC;
+		wrmsr(MSR_P4_PERFCTR0+pmc, state->start.pmc[i], -1);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#848: FILE: drivers/perfctr/x86.c:801:
+		wrmsr(MSR_P4_PERFCTR0+pmc, state->start.pmc[i], -1);
 		                     ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#860: FILE: drivers/perfctr/x86.c:813:
+	if( cpu->k1.id == state->k1.id )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#860: FILE: drivers/perfctr/x86.c:813:
+	if( cpu->k1.id == state->k1.id )

ERROR:SPACING: space required before the open parenthesis '('
#860: FILE: drivers/perfctr/x86.c:813:
+	if( cpu->k1.id == state->k1.id )

ERROR:SPACING: space required before the open parenthesis '('
#863: FILE: drivers/perfctr/x86.c:816:
+	for(i = 0; i < nrctrs; ++i) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#865: FILE: drivers/perfctr/x86.c:818:
+		unsigned int escr_val, escr_off, cccr_val, pmc;
+		escr_val = state->control.evntsel_aux[i];

ERROR:SPACING: space prohibited after that open parenthesis '('
#867: FILE: drivers/perfctr/x86.c:820:
+		if( escr_val != cpu->control.escr[escr_off] ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#867: FILE: drivers/perfctr/x86.c:820:
+		if( escr_val != cpu->control.escr[escr_off] ) {

ERROR:SPACING: space required before the open parenthesis '('
#867: FILE: drivers/perfctr/x86.c:820:
+		if( escr_val != cpu->control.escr[escr_off] ) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#869: FILE: drivers/perfctr/x86.c:822:
+			wrmsr(MSR_P4_ESCR0+escr_off, escr_val, 0);
 			                  ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#873: FILE: drivers/perfctr/x86.c:826:
+		if( cccr_val != cpu->control.evntsel[pmc] ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#873: FILE: drivers/perfctr/x86.c:826:
+		if( cccr_val != cpu->control.evntsel[pmc] ) {

ERROR:SPACING: space required before the open parenthesis '('
#873: FILE: drivers/perfctr/x86.c:826:
+		if( cccr_val != cpu->control.evntsel[pmc] ) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#875: FILE: drivers/perfctr/x86.c:828:
+			wrmsr(MSR_P4_CCCR0+pmc, cccr_val, 0);
 			                  ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#878: FILE: drivers/perfctr/x86.c:831:
+	if( state->control.p4.pebs_enable != cpu->control.pebs_enable ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#878: FILE: drivers/perfctr/x86.c:831:
+	if( state->control.p4.pebs_enable != cpu->control.pebs_enable ) {

ERROR:SPACING: space required before the open parenthesis '('
#878: FILE: drivers/perfctr/x86.c:831:
+	if( state->control.p4.pebs_enable != cpu->control.pebs_enable ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#882: FILE: drivers/perfctr/x86.c:835:
+	if( state->control.p4.pebs_matrix_vert != cpu->control.pebs_matrix_vert ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#882: FILE: drivers/perfctr/x86.c:835:
+	if( state->control.p4.pebs_matrix_vert != cpu->control.pebs_matrix_vert ) {

ERROR:SPACING: space required before the open parenthesis '('
#882: FILE: drivers/perfctr/x86.c:835:
+	if( state->control.p4.pebs_matrix_vert != cpu->control.pebs_matrix_vert ) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#892: FILE: drivers/perfctr/x86.c:845:
+	/* MSR 0x3F0 seems to have a default value of 0xFC00, but current
+	   docs doesn't fully define it, so leave it alone for now. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#892: FILE: drivers/perfctr/x86.c:845:
+	   docs doesn't fully define it, so leave it alone for now. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#894: FILE: drivers/perfctr/x86.c:847:
+	/* clear PEBS_ENABLE and PEBS_MATRIX_VERT; they handle both PEBS
+	   and ReplayTagging, and should exist even if PEBS is disabled */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#894: FILE: drivers/perfctr/x86.c:847:
+	   and ReplayTagging, and should exist even if PEBS is disabled */

ERROR:SPACING: space prohibited after that open parenthesis '('
#910: FILE: drivers/perfctr/x86.c:863:
+	if( state->control.nractrs || state->control.nrictrs )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#910: FILE: drivers/perfctr/x86.c:863:
+	if( state->control.nractrs || state->control.nrictrs )

ERROR:SPACING: space required before the open parenthesis '('
#910: FILE: drivers/perfctr/x86.c:863:
+	if( state->control.nractrs || state->control.nrictrs )

ERROR:SPACING: space prohibited after that open parenthesis '('
#949: FILE: drivers/perfctr/x86.c:902:
+	if( redirect_call_disable )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#949: FILE: drivers/perfctr/x86.c:902:
+	if( redirect_call_disable )

ERROR:SPACING: space required before the open parenthesis '('
#949: FILE: drivers/perfctr/x86.c:902:
+	if( redirect_call_disable )

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#950: FILE: drivers/perfctr/x86.c:903:
+		printk(KERN_ERR __FILE__ ":%s: unresolved call to %p at %p\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#951: FILE: drivers/perfctr/x86.c:904:
+		       __FUNCTION__, to, ra);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#953: FILE: drivers/perfctr/x86.c:906:
+	if( *((unsigned char*)ra - 5) != 0xE8 ) {

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited after that open parenthesis '('
#953: FILE: drivers/perfctr/x86.c:906:
+	if( *((unsigned char*)ra - 5) != 0xE8 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#953: FILE: drivers/perfctr/x86.c:906:
+	if( *((unsigned char*)ra - 5) != 0xE8 ) {

ERROR:SPACING: space required before the open parenthesis '('
#953: FILE: drivers/perfctr/x86.c:906:
+	if( *((unsigned char*)ra - 5) != 0xE8 ) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#954: FILE: drivers/perfctr/x86.c:907:
+		printk(KERN_WARNING __FILE__ ":%s: unable to redirect caller %p to %p\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#955: FILE: drivers/perfctr/x86.c:908:
+		       __FUNCTION__, ra, to);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#958: FILE: drivers/perfctr/x86.c:911:
+	*(int*)((char*)ra - 4) = (char*)to - (char*)ra;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#958: FILE: drivers/perfctr/x86.c:911:
+	*(int*)((char*)ra - 4) = (char*)to - (char*)ra;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#958: FILE: drivers/perfctr/x86.c:911:
+	*(int*)((char*)ra - 4) = (char*)to - (char*)ra;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#958: FILE: drivers/perfctr/x86.c:911:
+	*(int*)((char*)ra - 4) = (char*)to - (char*)ra;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#961: FILE: drivers/perfctr/x86.c:914:
+static void (*write_control)(const struct perfctr_cpu_state*);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#978: FILE: drivers/perfctr/x86.c:931:
+static void (*cpu_isuspend)(struct perfctr_cpu_state*);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#985: FILE: drivers/perfctr/x86.c:938:
+static void (*cpu_iresume)(const struct perfctr_cpu_state*);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#993: FILE: drivers/perfctr/x86.c:946:
+/* Call perfctr_cpu_ireload() just before perfctr_cpu_resume() to
+   bypass internal caching and force a reload if the I-mode PMCs. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#993: FILE: drivers/perfctr/x86.c:946:
+   bypass internal caching and force a reload if the I-mode PMCs. */

ERROR:SPACING: space required before the open parenthesis '('
#1026: FILE: drivers/perfctr/x86.c:979:
+	for(pmc_mask = 0; pmc < nrctrs; ++pmc) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1027: FILE: drivers/perfctr/x86.c:980:
+		if( (int)state->start.pmc[pmc] >= 0 ) { /* XXX: ">" ? */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1027: FILE: drivers/perfctr/x86.c:980:
+		if( (int)state->start.pmc[pmc] >= 0 ) { /* XXX: ">" ? */

ERROR:SPACING: space required before the open parenthesis '('
#1027: FILE: drivers/perfctr/x86.c:980:
+		if( (int)state->start.pmc[pmc] >= 0 ) { /* XXX: ">" ? */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1032: FILE: drivers/perfctr/x86.c:985:
+			/* On a P4 we should now clear the OVF flag in the
+			   counter's CCCR. However, p4_isuspend() already

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1034: FILE: drivers/perfctr/x86.c:987:
+			   in order to stop the i-mode counters. */

ERROR:SPACING: space required before the open parenthesis '('
#1051: FILE: drivers/perfctr/x86.c:1004:
+	for(; i < nrctrs; ++i)

ERROR:SPACING: space prohibited after that open parenthesis '('
#1052: FILE: drivers/perfctr/x86.c:1005:
+		if( state->control.ireset[i] >= 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1052: FILE: drivers/perfctr/x86.c:1005:
+		if( state->control.ireset[i] >= 0 )

ERROR:SPACING: space required before the open parenthesis '('
#1052: FILE: drivers/perfctr/x86.c:1005:
+		if( state->control.ireset[i] >= 0 )

ERROR:SPACING: space required before the open parenthesis '('
#1065: FILE: drivers/perfctr/x86.c:1018:
+	for(i = perfctr_cstatus_nractrs(cstatus); i < nrctrs; ++i)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1070: FILE: drivers/perfctr/x86.c:1023:
+static int (*check_control)(struct perfctr_cpu_state*);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1079: FILE: drivers/perfctr/x86.c:1032:
+	if( !(perfctr_cpu_info.features & PERFCTR_FEATURE_PCINT)

ERROR:SPACING: space required before the open parenthesis '('
#1079: FILE: drivers/perfctr/x86.c:1032:
+	if( !(perfctr_cpu_info.features & PERFCTR_FEATURE_PCINT)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1080: FILE: drivers/perfctr/x86.c:1033:
+	if( !(perfctr_cpu_info.features & PERFCTR_FEATURE_PCINT)
+	    && state->control.nrictrs )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1080: FILE: drivers/perfctr/x86.c:1033:
+	    && state->control.nrictrs )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1084: FILE: drivers/perfctr/x86.c:1037:
+	if( err < 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1084: FILE: drivers/perfctr/x86.c:1037:
+	if( err < 0 )

ERROR:SPACING: space required before the open parenthesis '('
#1084: FILE: drivers/perfctr/x86.c:1037:
+	if( err < 0 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1087: FILE: drivers/perfctr/x86.c:1040:
+	if( err < 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1087: FILE: drivers/perfctr/x86.c:1040:
+	if( err < 0 )

ERROR:SPACING: space required before the open parenthesis '('
#1087: FILE: drivers/perfctr/x86.c:1040:
+	if( err < 0 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1101: FILE: drivers/perfctr/x86.c:1054:
+	if( perfctr_has_ictrs(state) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1101: FILE: drivers/perfctr/x86.c:1054:
+	if( perfctr_has_ictrs(state) )

ERROR:SPACING: space required before the open parenthesis '('
#1101: FILE: drivers/perfctr/x86.c:1054:
+	if( perfctr_has_ictrs(state) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1105: FILE: drivers/perfctr/x86.c:1058:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1105: FILE: drivers/perfctr/x86.c:1058:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space required before the open parenthesis '('
#1105: FILE: drivers/perfctr/x86.c:1058:
+	if( perfctr_cstatus_has_tsc(cstatus) )

ERROR:SPACING: space required before the open parenthesis '('
#1108: FILE: drivers/perfctr/x86.c:1061:
+	for(i = 0; i < nractrs; ++i)

ERROR:SPACING: space prohibited after that open parenthesis '('
#1114: FILE: drivers/perfctr/x86.c:1067:
+	if( perfctr_has_ictrs(state) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1114: FILE: drivers/perfctr/x86.c:1067:
+	if( perfctr_has_ictrs(state) )

ERROR:SPACING: space required before the open parenthesis '('
#1114: FILE: drivers/perfctr/x86.c:1067:
+	if( perfctr_has_ictrs(state) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1128: FILE: drivers/perfctr/x86.c:1081:
+	if( perfctr_cstatus_has_tsc(cstatus) ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1128: FILE: drivers/perfctr/x86.c:1081:
+	if( perfctr_cstatus_has_tsc(cstatus) ) {

ERROR:SPACING: space required before the open parenthesis '('
#1128: FILE: drivers/perfctr/x86.c:1081:
+	if( perfctr_cstatus_has_tsc(cstatus) ) {

ERROR:SPACING: space required before the open parenthesis '('
#1133: FILE: drivers/perfctr/x86.c:1086:
+	for(i = 0; i < nractrs; ++i) {

WARNING:SIZEOF_PARENTHESIS: sizeof *cpu should be sizeof(*cpu)
#1158: FILE: drivers/perfctr/x86.c:1111:
+	memset(cpu, 0, sizeof *cpu);

WARNING:SIZEOF_PARENTHESIS: sizeof state should be sizeof(state)
#1159: FILE: drivers/perfctr/x86.c:1112:
+	memset(&state, 0, sizeof state);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1175: FILE: drivers/perfctr/x86.c:1128:
+	if( !cpu_has_tsc )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1175: FILE: drivers/perfctr/x86.c:1128:
+	if( !cpu_has_tsc )

ERROR:SPACING: space required before the open parenthesis '('
#1175: FILE: drivers/perfctr/x86.c:1128:
+	if( !cpu_has_tsc )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1177: FILE: drivers/perfctr/x86.c:1130:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1177: FILE: drivers/perfctr/x86.c:1130:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space required before the open parenthesis '('
#1177: FILE: drivers/perfctr/x86.c:1130:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1179: FILE: drivers/perfctr/x86.c:1132:
+		if( cpu_has_mmx ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1179: FILE: drivers/perfctr/x86.c:1132:
+		if( cpu_has_mmx ) {

ERROR:SPACING: space required before the open parenthesis '('
#1179: FILE: drivers/perfctr/x86.c:1132:
+		if( cpu_has_mmx ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1184: FILE: drivers/perfctr/x86.c:1137:
+			if( current_cpu_data.x86_model == 4 &&

ERROR:SPACING: space required before the open parenthesis '('
#1184: FILE: drivers/perfctr/x86.c:1137:
+			if( current_cpu_data.x86_model == 4 &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1185: FILE: drivers/perfctr/x86.c:1138:
+			if( current_cpu_data.x86_model == 4 &&
+			    (current_cpu_data.x86_mask == 4 ||

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1187: FILE: drivers/perfctr/x86.c:1140:
+			      ((cpuid_eax(1) >> 12) & 0x3) == 1)) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1199: FILE: drivers/perfctr/x86.c:1152:
+		if( current_cpu_data.x86_model >= 7 )	/* PIII */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1199: FILE: drivers/perfctr/x86.c:1152:
+		if( current_cpu_data.x86_model >= 7 )	/* PIII */

ERROR:SPACING: space required before the open parenthesis '('
#1199: FILE: drivers/perfctr/x86.c:1152:
+		if( current_cpu_data.x86_model >= 7 )	/* PIII */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1201: FILE: drivers/perfctr/x86.c:1154:
+		else if( current_cpu_data.x86_model >= 3 )	/* PII or Celeron */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1201: FILE: drivers/perfctr/x86.c:1154:
+		else if( current_cpu_data.x86_model >= 3 )	/* PII or Celeron */

ERROR:SPACING: space required before the open parenthesis '('
#1201: FILE: drivers/perfctr/x86.c:1154:
+		else if( current_cpu_data.x86_model >= 3 )	/* PII or Celeron */

CHECK:BRACES: Unbalanced braces around else statement
#1203: FILE: drivers/perfctr/x86.c:1156:
+		else {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1207: FILE: drivers/perfctr/x86.c:1160:
+			if( current_cpu_data.x86_mask < 9 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1207: FILE: drivers/perfctr/x86.c:1160:
+			if( current_cpu_data.x86_mask < 9 )

ERROR:SPACING: space required before the open parenthesis '('
#1207: FILE: drivers/perfctr/x86.c:1160:
+			if( current_cpu_data.x86_mask < 9 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1215: FILE: drivers/perfctr/x86.c:1168:
+		if( cpu_has_apic ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1215: FILE: drivers/perfctr/x86.c:1168:
+		if( cpu_has_apic ) {

ERROR:SPACING: space required before the open parenthesis '('
#1215: FILE: drivers/perfctr/x86.c:1168:
+		if( cpu_has_apic ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1224: FILE: drivers/perfctr/x86.c:1177:
+		if( !(misc_enable & MSR_P4_MISC_ENABLE_PERF_AVAIL) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1224: FILE: drivers/perfctr/x86.c:1177:
+		if( !(misc_enable & MSR_P4_MISC_ENABLE_PERF_AVAIL) )

ERROR:SPACING: space required before the open parenthesis '('
#1224: FILE: drivers/perfctr/x86.c:1177:
+		if( !(misc_enable & MSR_P4_MISC_ENABLE_PERF_AVAIL) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1226: FILE: drivers/perfctr/x86.c:1179:
+		if( current_cpu_data.x86_model >= 2 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1226: FILE: drivers/perfctr/x86.c:1179:
+		if( current_cpu_data.x86_model >= 2 )

ERROR:SPACING: space required before the open parenthesis '('
#1226: FILE: drivers/perfctr/x86.c:1179:
+		if( current_cpu_data.x86_model >= 2 )

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1228: FILE: drivers/perfctr/x86.c:1181:
+			/* Model 2 changed the ESCR Event Mask programming
+			   details for several events. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1228: FILE: drivers/perfctr/x86.c:1181:
+			   details for several events. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1237: FILE: drivers/perfctr/x86.c:1190:
+		if( cpu_has_apic ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1237: FILE: drivers/perfctr/x86.c:1190:
+		if( cpu_has_apic ) {

ERROR:SPACING: space required before the open parenthesis '('
#1237: FILE: drivers/perfctr/x86.c:1190:
+		if( cpu_has_apic ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1250: FILE: drivers/perfctr/x86.c:1203:
+	if( !cpu_has_tsc )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1250: FILE: drivers/perfctr/x86.c:1203:
+	if( !cpu_has_tsc )

ERROR:SPACING: space required before the open parenthesis '('
#1250: FILE: drivers/perfctr/x86.c:1203:
+	if( !cpu_has_tsc )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1252: FILE: drivers/perfctr/x86.c:1205:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1252: FILE: drivers/perfctr/x86.c:1205:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space required before the open parenthesis '('
#1252: FILE: drivers/perfctr/x86.c:1205:
+	switch( current_cpu_data.x86 ) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1254: FILE: drivers/perfctr/x86.c:1207:
+	case 6:	/* K7. Model 1 does not have a local APIC.
+		   AMD Document #22007 Revision J hints that APIC-less

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1255: FILE: drivers/perfctr/x86.c:1208:
+		   K7s signal overflows as debug interrupts. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1262: FILE: drivers/perfctr/x86.c:1215:
+		if( cpu_has_apic ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1262: FILE: drivers/perfctr/x86.c:1215:
+		if( cpu_has_apic ) {

ERROR:SPACING: space required before the open parenthesis '('
#1262: FILE: drivers/perfctr/x86.c:1215:
+		if( cpu_has_apic ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1275: FILE: drivers/perfctr/x86.c:1228:
+	if( !cpu_has_tsc )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1275: FILE: drivers/perfctr/x86.c:1228:
+	if( !cpu_has_tsc )

ERROR:SPACING: space required before the open parenthesis '('
#1275: FILE: drivers/perfctr/x86.c:1228:
+	if( !cpu_has_tsc )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1277: FILE: drivers/perfctr/x86.c:1230:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1277: FILE: drivers/perfctr/x86.c:1230:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space required before the open parenthesis '('
#1277: FILE: drivers/perfctr/x86.c:1230:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1291: FILE: drivers/perfctr/x86.c:1244:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1291: FILE: drivers/perfctr/x86.c:1244:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space required before the open parenthesis '('
#1291: FILE: drivers/perfctr/x86.c:1244:
+	switch( current_cpu_data.x86 ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1294: FILE: drivers/perfctr/x86.c:1247:
+		switch( current_cpu_data.x86_model ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1294: FILE: drivers/perfctr/x86.c:1247:
+		switch( current_cpu_data.x86_model ) {

ERROR:SPACING: space required before the open parenthesis '('
#1294: FILE: drivers/perfctr/x86.c:1247:
+		switch( current_cpu_data.x86_model ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1308: FILE: drivers/perfctr/x86.c:1261:
+		if( !(read_cr4() & X86_CR4_TSD) || cpu_has_tsc )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1308: FILE: drivers/perfctr/x86.c:1261:
+		if( !(read_cr4() & X86_CR4_TSD) || cpu_has_tsc )

ERROR:SPACING: space required before the open parenthesis '('
#1308: FILE: drivers/perfctr/x86.c:1261:
+		if( !(read_cr4() & X86_CR4_TSD) || cpu_has_tsc )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1318: FILE: drivers/perfctr/x86.c:1271:
+		if( !cpu_has_tsc )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1318: FILE: drivers/perfctr/x86.c:1271:
+		if( !cpu_has_tsc )

ERROR:SPACING: space required before the open parenthesis '('
#1318: FILE: drivers/perfctr/x86.c:1271:
+		if( !cpu_has_tsc )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1320: FILE: drivers/perfctr/x86.c:1273:
+		switch( current_cpu_data.x86_model ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1320: FILE: drivers/perfctr/x86.c:1273:
+		switch( current_cpu_data.x86_model ) {

ERROR:SPACING: space required before the open parenthesis '('
#1320: FILE: drivers/perfctr/x86.c:1273:
+		switch( current_cpu_data.x86_model ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1340: FILE: drivers/perfctr/x86.c:1293:
+	if( !cpu_has_tsc )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1340: FILE: drivers/perfctr/x86.c:1293:
+	if( !cpu_has_tsc )

ERROR:SPACING: space required before the open parenthesis '('
#1340: FILE: drivers/perfctr/x86.c:1293:
+	if( !cpu_has_tsc )

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1384: FILE: drivers/perfctr/x86.c:1337:
+	/* PREEMPT note: when called via smp_call_function(),
+	   this is in IRQ context with preemption disabled. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1384: FILE: drivers/perfctr/x86.c:1337:
+	   this is in IRQ context with preemption disabled. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1387: FILE: drivers/perfctr/x86.c:1340:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1387: FILE: drivers/perfctr/x86.c:1340:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space required before the open parenthesis '('
#1387: FILE: drivers/perfctr/x86.c:1340:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1394: FILE: drivers/perfctr/x86.c:1347:
+	/* PREEMPT note: when called via smp_call_function(),
+	   this is in IRQ context with preemption disabled. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1394: FILE: drivers/perfctr/x86.c:1347:
+	   this is in IRQ context with preemption disabled. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1397: FILE: drivers/perfctr/x86.c:1350:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1397: FILE: drivers/perfctr/x86.c:1350:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space required before the open parenthesis '('
#1397: FILE: drivers/perfctr/x86.c:1350:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

WARNING:LINE_SPACING: Missing a blank line after declarations
#1413: FILE: drivers/perfctr/x86.c:1366:
+	unsigned int i;
+	for(i = 0; i < NR_CPUS; ++i)

ERROR:SPACING: space required before the open parenthesis '('
#1413: FILE: drivers/perfctr/x86.c:1366:
+	for(i = 0; i < NR_CPUS; ++i)

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#1413: FILE: drivers/perfctr/x86.c:1366:
+	for(i = 0; i < NR_CPUS; ++i)

ERROR:SPACING: space prohibited after that open parenthesis '('
#1414: FILE: drivers/perfctr/x86.c:1367:
+		if( cpu_online(i) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1414: FILE: drivers/perfctr/x86.c:1367:
+		if( cpu_online(i) )

ERROR:SPACING: space required before the open parenthesis '('
#1414: FILE: drivers/perfctr/x86.c:1367:
+		if( cpu_online(i) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1429: FILE: drivers/perfctr/x86.c:1382:
+	if( nmi_pmdev ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1429: FILE: drivers/perfctr/x86.c:1382:
+	if( nmi_pmdev ) {

ERROR:SPACING: space required before the open parenthesis '('
#1429: FILE: drivers/perfctr/x86.c:1382:
+	if( nmi_pmdev ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1450: FILE: drivers/perfctr/x86.c:1403:
+	if( x86_pmdev ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1450: FILE: drivers/perfctr/x86.c:1403:
+	if( x86_pmdev ) {

ERROR:SPACING: space required before the open parenthesis '('
#1450: FILE: drivers/perfctr/x86.c:1403:
+	if( x86_pmdev ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1465: FILE: drivers/perfctr/x86.c:1418:
+	if( nmi_perfctr_msr ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1465: FILE: drivers/perfctr/x86.c:1418:
+	if( nmi_perfctr_msr ) {

ERROR:SPACING: space required before the open parenthesis '('
#1465: FILE: drivers/perfctr/x86.c:1418:
+	if( nmi_perfctr_msr ) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#1467: FILE: drivers/perfctr/x86.c:1420:
+		printk(KERN_NOTICE "perfctr: disabled nmi_watchdog\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1488: FILE: drivers/perfctr/x86.c:1441:
+	/* RDPMC and RDTSC are on by default. They will be disabled
+	   by the init procedures if necessary. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1488: FILE: drivers/perfctr/x86.c:1441:
+	   by the init procedures if necessary. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1491: FILE: drivers/perfctr/x86.c:1444:
+	if( cpu_has_msr ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1491: FILE: drivers/perfctr/x86.c:1444:
+	if( cpu_has_msr ) {

ERROR:SPACING: space required before the open parenthesis '('
#1491: FILE: drivers/perfctr/x86.c:1444:
+	if( cpu_has_msr ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1492: FILE: drivers/perfctr/x86.c:1445:
+		switch( current_cpu_data.x86_vendor ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1492: FILE: drivers/perfctr/x86.c:1445:
+		switch( current_cpu_data.x86_vendor ) {

ERROR:SPACING: space required before the open parenthesis '('
#1492: FILE: drivers/perfctr/x86.c:1445:
+		switch( current_cpu_data.x86_vendor ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1506: FILE: drivers/perfctr/x86.c:1459:
+	if( err ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1506: FILE: drivers/perfctr/x86.c:1459:
+	if( err ) {

ERROR:SPACING: space required before the open parenthesis '('
#1506: FILE: drivers/perfctr/x86.c:1459:
+	if( err ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1508: FILE: drivers/perfctr/x86.c:1461:
+		if( err )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1508: FILE: drivers/perfctr/x86.c:1461:
+		if( err )

ERROR:SPACING: space required before the open parenthesis '('
#1508: FILE: drivers/perfctr/x86.c:1461:
+		if( err )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1519: FILE: drivers/perfctr/x86.c:1472:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1519: FILE: drivers/perfctr/x86.c:1472:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space required before the open parenthesis '('
#1519: FILE: drivers/perfctr/x86.c:1472:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1546: FILE: drivers/perfctr/x86.c:1499:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1546: FILE: drivers/perfctr/x86.c:1499:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:SPACING: space required before the open parenthesis '('
#1546: FILE: drivers/perfctr/x86.c:1499:
+	if( perfctr_cpu_info.features & PERFCTR_FEATURE_RDPMC )

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#1563: FILE: drivers/perfctr/x86.c:1516:
+static const char *current_service = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:SPACING: space prohibited after that open parenthesis '('
#1567: FILE: drivers/perfctr/x86.c:1520:
+	if( current_service )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1567: FILE: drivers/perfctr/x86.c:1520:
+	if( current_service )

ERROR:SPACING: space required before the open parenthesis '('
#1567: FILE: drivers/perfctr/x86.c:1520:
+	if( current_service )

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1576: FILE: drivers/perfctr/x86.c:1529:
+	/* PREEMPT note: when called via smp_call_function(),
+	   this is in IRQ context with preemption disabled. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1576: FILE: drivers/perfctr/x86.c:1529:
+	   this is in IRQ context with preemption disabled. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1582: FILE: drivers/perfctr/x86.c:1535:
+	if( service != current_service ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1582: FILE: drivers/perfctr/x86.c:1535:
+	if( service != current_service ) {

ERROR:SPACING: space required before the open parenthesis '('
#1582: FILE: drivers/perfctr/x86.c:1535:
+	if( service != current_service ) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1583: FILE: drivers/perfctr/x86.c:1536:
+		printk(KERN_ERR "%s: attempt by %s to release while reserved by %s\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1584: FILE: drivers/perfctr/x86.c:1537:
+		       __FUNCTION__, service, current_service);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1600: FILE: include/asm-i386/perfctr.h:1:
+/* $Id: perfctr.h,v 1.29 2002/10/31 21:36:50 mikpe Exp $

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#1600: FILE: include/asm-i386/perfctr.h:1:
+/* $Id: perfctr.h,v 1.29 2002/10/31 21:36:50 mikpe Exp $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1678: FILE: include/asm-i386/perfctr.h:79:
+/* cstatus is a re-encoding of control.tsc_on/nractrs/nrictrs
+   which should have less overhead in most cases */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1678: FILE: include/asm-i386/perfctr.h:79:
+   which should have less overhead in most cases */

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1684: FILE: include/asm-i386/perfctr.h:85:
+	return (tsc_on<<31) | (nrictrs<<16) | ((nractrs+nrictrs)<<8) | nractrs;
 	              ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1684: FILE: include/asm-i386/perfctr.h:85:
+	return (tsc_on<<31) | (nrictrs<<16) | ((nractrs+nrictrs)<<8) | nractrs;
 	                              ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1684: FILE: include/asm-i386/perfctr.h:85:
+	return (tsc_on<<31) | (nrictrs<<16) | ((nractrs+nrictrs)<<8) | nractrs;
 	                                               ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1684: FILE: include/asm-i386/perfctr.h:85:
+	return (tsc_on<<31) | (nrictrs<<16) | ((nractrs+nrictrs)<<8) | nractrs;
 	                                                        ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1724: FILE: include/asm-i386/perfctr.h:125:
+#define SI_PMC_OVF	(__SI_FAULT|'P')
                   	           ^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1735: FILE: include/asm-i386/perfctr.h:136:
+extern int perfctr_cpu_init(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1736: FILE: include/asm-i386/perfctr.h:137:
+extern void perfctr_cpu_exit(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1745: FILE: include/asm-i386/perfctr.h:146:
+extern const char *perfctr_cpu_reserve(const char *service);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1746: FILE: include/asm-i386/perfctr.h:147:
+extern void perfctr_cpu_release(const char *service);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1749: FILE: include/asm-i386/perfctr.h:150:
+/* PRE: state has no running interrupt-mode counters.
+   Check that the new control data is valid.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1751: FILE: include/asm-i386/perfctr.h:152:
+   Returns a negative error code if the control data is invalid. */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1752: FILE: include/asm-i386/perfctr.h:153:
+extern int perfctr_cpu_update_control(struct perfctr_cpu_state *state);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1755: FILE: include/asm-i386/perfctr.h:156:
+/* Read a-mode counters. Subtract from start and accumulate into sums.
+   Must be called with preemption disabled. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1755: FILE: include/asm-i386/perfctr.h:156:
+   Must be called with preemption disabled. */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1756: FILE: include/asm-i386/perfctr.h:157:
+extern void perfctr_cpu_suspend(struct perfctr_cpu_state *state);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1759: FILE: include/asm-i386/perfctr.h:160:
+/* Write control registers. Read a-mode counters into start.
+   Must be called with preemption disabled. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1759: FILE: include/asm-i386/perfctr.h:160:
+   Must be called with preemption disabled. */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1760: FILE: include/asm-i386/perfctr.h:161:
+extern void perfctr_cpu_resume(struct perfctr_cpu_state *state);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1763: FILE: include/asm-i386/perfctr.h:164:
+/* Perform an efficient combined suspend/resume operation.
+   Must be called with preemption disabled. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1763: FILE: include/asm-i386/perfctr.h:164:
+   Must be called with preemption disabled. */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1764: FILE: include/asm-i386/perfctr.h:165:
+extern void perfctr_cpu_sample(struct perfctr_cpu_state *state);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1767: FILE: include/asm-i386/perfctr.h:168:
+/* The type of a perfctr overflow interrupt handler.
+   It will be called in IRQ context, with preemption disabled. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1767: FILE: include/asm-i386/perfctr.h:168:
+   It will be called in IRQ context, with preemption disabled. */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1772: FILE: include/asm-i386/perfctr.h:173:
+extern void perfctr_cpu_set_ihandler(perfctr_ihandler_t);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1773: FILE: include/asm-i386/perfctr.h:174:
+extern void perfctr_cpu_ireload(struct perfctr_cpu_state*);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1773: FILE: include/asm-i386/perfctr.h:174:
+extern void perfctr_cpu_ireload(struct perfctr_cpu_state*);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct perfctr_cpu_state*' should also have an identifier name
#1773: FILE: include/asm-i386/perfctr.h:174:
+extern void perfctr_cpu_ireload(struct perfctr_cpu_state*);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1774: FILE: include/asm-i386/perfctr.h:175:
+extern unsigned int perfctr_cpu_identify_overflow(struct perfctr_cpu_state*);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1774: FILE: include/asm-i386/perfctr.h:175:
+extern unsigned int perfctr_cpu_identify_overflow(struct perfctr_cpu_state*);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct perfctr_cpu_state*' should also have an identifier name
#1774: FILE: include/asm-i386/perfctr.h:175:
+extern unsigned int perfctr_cpu_identify_overflow(struct perfctr_cpu_state*);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1782: FILE: include/asm-i386/perfctr.h:183:
+extern void perfctr_interrupt(void);

ERROR:SPACING: space required before the open brace '{'
#1786: FILE: include/asm-i386/perfctr.h:187:
+#define perfctr_vector_init() do{}while(0)

ERROR:SPACING: space required after that close brace '}'
#1786: FILE: include/asm-i386/perfctr.h:187:
+#define perfctr_vector_init() do{}while(0)

ERROR:SPACING: space required before the open parenthesis '('
#1786: FILE: include/asm-i386/perfctr.h:187:
+#define perfctr_vector_init() do{}while(0)

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000417798.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 364 errors, 69 warnings, 52 checks, 1740 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000417798.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
