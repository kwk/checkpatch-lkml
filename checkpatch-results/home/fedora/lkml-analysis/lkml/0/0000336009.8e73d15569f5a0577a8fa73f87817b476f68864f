ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#37: 
--- a/MAINTAINERS	Wed Sep 17 15:22:32 2003

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

WARNING:MAINTAINERS_STYLE: Misordered MAINTAINERS entry - list 'M:' before 'P:'
#45: FILE: MAINTAINERS:1732:
+P:	Pat Gefre
+M:	pfg@sgi.com

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#59: FILE: drivers/char/Kconfig:396:
+config SGI_L1_SERIAL
+	bool "SGI Altix L1 serial support"
+	depends on SERIAL_NONSTANDARD && IA64
+	help
+	  If you have an SGI Altix and you want to use the serial port
+	  connected to the system controller (you want this!), say Y.
+	  Otherwise, say N.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#67: FILE: drivers/char/Kconfig:404:
+config SGI_L1_SERIAL_CONSOLE
+	bool "SGI Altix L1 serial console support"
+	depends on SGI_L1_SERIAL
+	help
+	  If you have an SGI Altix and you would like to use the system
+	  controller serial port as your console (you want this!), 
+	  say Y.  Otherwise, say N.
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#72: FILE: drivers/char/Kconfig:409:
+^I  controller serial port as your console (you want this!), $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#93: FILE: drivers/char/sn_serial.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#120: FILE: drivers/char/sn_serial.c:28:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston MA 02111-1307, USA.$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#147: FILE: drivers/char/sn_serial.c:55:
+#include <asm/io.h>

WARNING:STATIC_CONST_CHAR_ARRAY: static char array declaration should probably be static const char
#182: FILE: drivers/char/sn_serial.c:90:
+static char sysrq_serial_str[] = "\eSYS";

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#206: FILE: drivers/char/sn_serial.c:114:
+ * avoid losing chars, (always has to be a power of 2) */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:IF_1: Consider removing the #if 1 and its #endif
#207: FILE: drivers/char/sn_serial.c:115:
+#if 1

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#214: FILE: drivers/char/sn_serial.c:122:
+#define SN_SAL_UART_FIFO_SPEED_CPS 9600/10
                                        ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#214: FILE: drivers/char/sn_serial.c:122:
+#define SN_SAL_UART_FIFO_SPEED_CPS 9600/10

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#217: FILE: drivers/char/sn_serial.c:125:
+ * before either of those are initialized */

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#218: FILE: drivers/char/sn_serial.c:126:
+static volatile char sn_xmit_buff_mem[SN_SAL_BUFFER_SIZE];

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#221: FILE: drivers/char/sn_serial.c:129:
+	volatile char *cb_buf;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#226: FILE: drivers/char/sn_serial.c:134:
+static volatile struct volatile_circ_buf xmit = { .cb_buf = sn_xmit_buff_mem };

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#229: FILE: drivers/char/sn_serial.c:137:
+static volatile struct tty_struct *sn_sal_tty;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#234: FILE: drivers/char/sn_serial.c:142:
+static volatile int sn_sal_is_asynch;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#235: FILE: drivers/char/sn_serial.c:143:
+static volatile int sn_sal_irq;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#237: FILE: drivers/char/sn_serial.c:145:
+static volatile int sn_total_tx_count;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#238: FILE: drivers/char/sn_serial.c:146:
+static volatile int sn_total_rx_count;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#243: FILE: drivers/char/sn_serial.c:151:
+static volatile unsigned long sn_interrupt_timeout;

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#245: FILE: drivers/char/sn_serial.c:153:
+extern u64 master_node_bedrock_address;

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#266: FILE: drivers/char/sn_serial.c:174:
+static volatile struct sn_sal_ops *sn_func;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#301: FILE: drivers/char/sn_serial.c:209:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'initally' may be misspelled - perhaps 'initially'?
#303: FILE: drivers/char/sn_serial.c:211:
+ * synchronous and asynchronous (buffered).  initally, early_printk
                                              ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#311: FILE: drivers/char/sn_serial.c:219:
+ * timer callback or by UART interrupt) */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#313: FILE: drivers/char/sn_serial.c:221:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#321: FILE: drivers/char/sn_serial.c:229:
+	 * should go out by the next time the timer gets called */

WARNING:LINE_SPACING: Missing a blank line after declarations
#329: FILE: drivers/char/sn_serial.c:237:
+	int ch;
+	ia64_sn_console_getc(&ch);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#342: FILE: drivers/char/sn_serial.c:250:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#352: FILE: drivers/char/sn_serial.c:260:
+	 * was done via sal or directly */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#379: FILE: drivers/char/sn_serial.c:287:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#397: FILE: drivers/char/sn_serial.c:305:
+early_printk_sn_sal(const char *s, unsigned count)

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#399: FILE: drivers/char/sn_serial.c:307:
+	extern void early_sn_setup(void);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#413: FILE: drivers/char/sn_serial.c:321:
+ * itself may be broken */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#440: FILE: drivers/char/sn_serial.c:348:
+ * that case, its only use is to trigger sysrq and kdb */

WARNING:TYPO_SPELLING: 'occured' may be misspelled - perhaps 'occurred'?
#449: FILE: drivers/char/sn_serial.c:357:
+			printk(KERN_ERR "sn_serial: An error occured while "
 			                                     ^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#449: FILE: drivers/char/sn_serial.c:357:
+			printk(KERN_ERR "sn_serial: An error occured while "

WARNING:SPLIT_STRING: quoted string split across lines
#450: FILE: drivers/char/sn_serial.c:358:
+			printk(KERN_ERR "sn_serial: An error occured while "
+			       "obtaining data from the console (0x%0x)\n", ch);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:BRACES: braces {} should be used on all arms of this statement
#455: FILE: drivers/char/sn_serial.c:363:
+			if (ch == *kdb_serial_ptr) {
[...]
+			else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#465: FILE: drivers/char/sn_serial.c:373:
+			}
+			else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#472: FILE: drivers/char/sn_serial.c:380:
+			unsigned long sysrq_timeout = sysrq_requested + HZ*5;
 			                                                  ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#473: FILE: drivers/char/sn_serial.c:381:
+			unsigned long sysrq_timeout = sysrq_requested + HZ*5;
+			sysrq_requested = 0;

CHECK:BRACES: braces {} should be used on all arms of this statement
#482: FILE: drivers/char/sn_serial.c:390:
+		if (ch == *sysrq_serial_ptr) {
[...]
+		else
[...]

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#488: FILE: drivers/char/sn_serial.c:396:
+		}
+		else

CHECK:LINE_SPACING: Please don't use multiple blank lines
#507: FILE: drivers/char/sn_serial.c:415:
+
+

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#514: FILE: drivers/char/sn_serial.c:422:
+	volatile char *start;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#524: FILE: drivers/char/sn_serial.c:432:
+	 * then to the head, if needed */

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'synch_flush_xmit', this function's name, in a string
#533: FILE: drivers/char/sn_serial.c:441:
+				sn_debug_printf("\n*** synch_flush_xmit failed to flush\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#547: FILE: drivers/char/sn_serial.c:455:
+ * sn_sal_tty */

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#553: FILE: drivers/char/sn_serial.c:461:
+	volatile char *start;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#555: FILE: drivers/char/sn_serial.c:463:
+	BUG_ON(!sn_sal_is_asynch);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#588: FILE: drivers/char/sn_serial.c:496:
+	 * more, ask for it. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#594: FILE: drivers/char/sn_serial.c:502:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#596: FILE: drivers/char/sn_serial.c:504:
+ * sn_sal_tty */

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#602: FILE: drivers/char/sn_serial.c:510:
+	volatile char *start;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#604: FILE: drivers/char/sn_serial.c:512:
+	BUG_ON(!sn_sal_is_asynch);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#617: FILE: drivers/char/sn_serial.c:525:
+	 * then to the head, if needed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#643: FILE: drivers/char/sn_serial.c:551:
+	 * more, ask for it. */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#649: FILE: drivers/char/sn_serial.c:557:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#655: FILE: drivers/char/sn_serial.c:563:
+	 * itself */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#667: FILE: drivers/char/sn_serial.c:575:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#669: FILE: drivers/char/sn_serial.c:577:
+ * else 0 */

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#685: FILE: drivers/char/sn_serial.c:593:
+	BUG_ON(result != SGI_UART_VECTOR);

WARNING:LONG_LINE: line length of 110 exceeds 100 columns
#687: FILE: drivers/char/sn_serial.c:595:
+	result = request_irq(console_irq, sn_sal_interrupt, SA_INTERRUPT,  "SAL console driver", &sn_sal_tty);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#691: FILE: drivers/char/sn_serial.c:599:
+	printk(KERN_INFO "sn_serial: console proceeding in polled mode\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#699: FILE: drivers/char/sn_serial.c:607:
+
+

WARNING:LONG_LINE: line length of 119 exceeds 100 columns
#709: FILE: drivers/char/sn_serial.c:617:
+				if ((sn_sal_tty->flags & (1 << TTY_DO_WRITE_WAKEUP)) && sn_sal_tty->ldisc.write_wakeup)

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#710: FILE: drivers/char/sn_serial.c:618:
+					(sn_sal_tty->ldisc.write_wakeup)((struct tty_struct *)sn_sal_tty);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (sn_sal_tty->ldisc.write_wakeup)
#710: FILE: drivers/char/sn_serial.c:618:
+					(sn_sal_tty->ldisc.write_wakeup)((struct tty_struct *)sn_sal_tty);

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:LINE_SPACING: Please don't use multiple blank lines
#718: FILE: drivers/char/sn_serial.c:626:
+
+

WARNING:TYPO_SPELLING: 'sofware' may be misspelled - perhaps 'software'?
#746: FILE: drivers/char/sn_serial.c:654:
+ * End of "sofware interrupt" routines.
            ^^^^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#749: FILE: drivers/char/sn_serial.c:657:
+
+

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#755: FILE: drivers/char/sn_serial.c:663:
+sn_sal_open(struct tty_struct *tty, struct file *filp)
                                                  ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#759: FILE: drivers/char/sn_serial.c:667:
+	DPRINTF("sn_sal_open: sn_sal_tty = %p, tty = %p, filp = %p\n",
 	                                                 ^^^^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'sn_sal_open', this function's name, in a string
#759: FILE: drivers/char/sn_serial.c:667:
+	DPRINTF("sn_sal_open: sn_sal_tty = %p, tty = %p, filp = %p\n",

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#760: FILE: drivers/char/sn_serial.c:668:
+		sn_sal_tty, tty, filp);
 		                 ^^^^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#770: FILE: drivers/char/sn_serial.c:678:
+
+

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#775: FILE: drivers/char/sn_serial.c:683:
+sn_sal_close(struct tty_struct *tty, struct file * filp)
                                                    ^^^^

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#775: FILE: drivers/char/sn_serial.c:683:
+sn_sal_close(struct tty_struct *tty, struct file * filp)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#779: FILE: drivers/char/sn_serial.c:687:
+		unsigned long flags;
+		tty->closing = 1;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#791: FILE: drivers/char/sn_serial.c:699:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#802: FILE: drivers/char/sn_serial.c:710:
+			int c1;
+			c = CIRC_SPACE_TO_END(xmit.cb_head, xmit.cb_tail,

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#835: FILE: drivers/char/sn_serial.c:743:
+	}
+	else {

CHECK:BRACES: Unbalanced braces around else statement
#835: FILE: drivers/char/sn_serial.c:743:
+	else {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#845: FILE: drivers/char/sn_serial.c:753:
+			if (c <= 0) {
+				break;
+			}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#866: FILE: drivers/char/sn_serial.c:774:
+
+

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#875: FILE: drivers/char/sn_serial.c:783:
+		xmit.cb_head = (xmit.cb_head + 1) & (SN_SAL_BUFFER_SIZE-1);
 		                                                       ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#876: FILE: drivers/char/sn_serial.c:784:
+		if ( sn_func->sal_wakeup_transmit )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#876: FILE: drivers/char/sn_serial.c:784:
+		if ( sn_func->sal_wakeup_transmit )

CHECK:LINE_SPACING: Please don't use multiple blank lines
#882: FILE: drivers/char/sn_serial.c:790:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#895: FILE: drivers/char/sn_serial.c:803:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#908: FILE: drivers/char/sn_serial.c:816:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#922: FILE: drivers/char/sn_serial.c:830:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#925: FILE: drivers/char/sn_serial.c:833:
+sn_sal_ioctl(struct tty_struct *tty, struct file *file,
+	       unsigned int cmd, unsigned long arg)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#932: FILE: drivers/char/sn_serial.c:840:
+
+

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#940: FILE: drivers/char/sn_serial.c:848:
+	xmit.cb_head = xmit.cb_tail = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (tty->ldisc.write_wakeup)
#946: FILE: drivers/char/sn_serial.c:854:
+		(tty->ldisc.write_wakeup)(tty);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#949: FILE: drivers/char/sn_serial.c:857:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#956: FILE: drivers/char/sn_serial.c:864:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#964: FILE: drivers/char/sn_serial.c:872:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#973: FILE: drivers/char/sn_serial.c:881:
+sn_sal_read_proc(char *page, char **start, off_t off, int count,
+		   int *eof, void *data)

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#983: FILE: drivers/char/sn_serial.c:891:
+	if (off >= len+begin)
 	              ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#985: FILE: drivers/char/sn_serial.c:893:
+	*start = page + (off-begin);
 	                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#987: FILE: drivers/char/sn_serial.c:895:
+	return count < begin+len-off ? count : begin+len-off;
 	                    ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#987: FILE: drivers/char/sn_serial.c:895:
+	return count < begin+len-off ? count : begin+len-off;
 	                        ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#987: FILE: drivers/char/sn_serial.c:895:
+	return count < begin+len-off ? count : begin+len-off;
 	                                            ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#987: FILE: drivers/char/sn_serial.c:895:
+	return count < begin+len-off ? count : begin+len-off;
 	                                                ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#990: FILE: drivers/char/sn_serial.c:898:
+
+

WARNING:CONST_STRUCT: struct tty_operations should normally be const
#991: FILE: drivers/char/sn_serial.c:899:
+static struct tty_operations sn_sal_driver_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1004: FILE: drivers/char/sn_serial.c:912:
+};
+static struct tty_driver *sn_sal_driver;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1024: FILE: drivers/char/sn_serial.c:932:
+	 * console interrupts will never be enabled */

CHECK:BRACES: braces {} should be used on all arms of this statement
#1043: FILE: drivers/char/sn_serial.c:951:
+	if (IS_RUNNING_ON_SIMULATOR())
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1045: FILE: drivers/char/sn_serial.c:953:
+	else {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1046: FILE: drivers/char/sn_serial.c:954:
+^I^I/* 960cps / 16 char FIFO = 60HZ $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1047: FILE: drivers/char/sn_serial.c:955:
+		 * HZ / (SN_SAL_FIFO_SPEED_CPS / SN_SAL_FIFO_DEPTH) */

WARNING:LINE_SPACING: Missing a blank line after declarations
#1066: FILE: drivers/char/sn_serial.c:974:
+		unsigned long flags;
+		spin_lock_irqsave(&sn_sal_lock, flags);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1070: FILE: drivers/char/sn_serial.c:978:
+		 * interrupts should now be enabled). */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1080: FILE: drivers/char/sn_serial.c:988:
+		 * will be the last, otherwise we continue polling */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1083: FILE: drivers/char/sn_serial.c:991:
+			 * case we miss an interrupt */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1084: FILE: drivers/char/sn_serial.c:992:
+			sn_interrupt_timeout = 20*HZ;
 			                         ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1097: FILE: drivers/char/sn_serial.c:1005:
+	printk("sn_serial: sn_sal_module_init\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'sn_sal_module_init', this function's name, in a string
#1097: FILE: drivers/char/sn_serial.c:1005:
+	printk("sn_serial: sn_sal_module_init\n");

ERROR:SPACING: space prohibited after that open parenthesis '('
#1103: FILE: drivers/char/sn_serial.c:1011:
+	if ( !sn_sal_driver )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1103: FILE: drivers/char/sn_serial.c:1011:
+	if ( !sn_sal_driver )

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1119: FILE: drivers/char/sn_serial.c:1027:
+	 * before we get here through the module initcalls */

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#1124: FILE: drivers/char/sn_serial.c:1032:
+	if (!IS_RUNNING_ON_SIMULATOR())
+	    sn_sal_switch_to_interrupts();

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1130: FILE: drivers/char/sn_serial.c:1038:
+	if ((retval = tty_register_driver(sn_sal_driver))) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1131: FILE: drivers/char/sn_serial.c:1039:
+		printk(KERN_ERR "sn_serial: Unable to register tty driver\n");

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1136: FILE: drivers/char/sn_serial.c:1044:
+		void __init sn_sal_serial_console_init(void);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1143: FILE: drivers/char/sn_serial.c:1051:
+
+

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1152: FILE: drivers/char/sn_serial.c:1060:
+	if ((tmp = tty_unregister_driver(sn_sal_driver)))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1153: FILE: drivers/char/sn_serial.c:1061:
+		printk(KERN_ERR "sn_serial: failed to unregister driver (%d)\n", tmp);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1165: FILE: drivers/char/sn_serial.c:1073:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1176: FILE: drivers/char/sn_serial.c:1084:
+sn_sal_console_write(struct console *co, const char *s, unsigned count)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1178: FILE: drivers/char/sn_serial.c:1086:
+	BUG_ON(!sn_sal_is_asynch);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1181: FILE: drivers/char/sn_serial.c:1089:
+	 * oops, kdb, panic, etc.  make sure they get it. */

CHECK:BRACES: braces {} should be used on all arms of this statement
#1182: FILE: drivers/char/sn_serial.c:1090:
+	if (spin_is_locked(&sn_sal_lock)) {
[...]
+	else if (in_interrupt()) {
[...]
+	else
[...]

WARNING:USE_LOCKDEP: Where possible, use lockdep_assert_held instead of assertions based on spin_is_locked
#1182: FILE: drivers/char/sn_serial.c:1090:
+	if (spin_is_locked(&sn_sal_lock)) {

lockdep_assert_held() annotations should be preferred over
assertions based on spin_is_locked()

See: https://www.kernel.org/doc/html/latest/locking/lockdep-design.html#annotations

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#1186: FILE: drivers/char/sn_serial.c:1094:
+	}
+	else if (in_interrupt()) {

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#1192: FILE: drivers/char/sn_serial.c:1100:
+	}
+	else

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1211: FILE: drivers/char/sn_serial.c:1119:
+	if (kdb_serial_line == -1) {
+		kdb_serial_line = co->index;
+	}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1218: FILE: drivers/char/sn_serial.c:1126:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1231: FILE: drivers/char/sn_serial.c:1139:
+
+

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'sn_sal_serial_console_init', this function's name, in a string
#1237: FILE: drivers/char/sn_serial.c:1145:
+		sn_debug_printf("sn_sal_serial_console_init : register console\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1242: FILE: drivers/char/sn_serial.c:1150:
+
+

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxW)
#1251: FILE: drivers/char/sn_serial.c:1159:
+		ret = readb((unsigned long)master_node_bedrock_address + (offset<< 3));
 		                                                                ^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1252: FILE: drivers/char/sn_serial.c:1160:
+		return(ret);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1253: FILE: drivers/char/sn_serial.c:1161:
+^I}^I^I$

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1270: FILE: drivers/char/sn_serial.c:1178:
+	if (IS_RUNNING_ON_SIMULATOR()) {
+		return readb((unsigned long)master_node_bedrock_address + (UART_RX<< 3));
+	}		

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxW)
#1271: FILE: drivers/char/sn_serial.c:1179:
+		return readb((unsigned long)master_node_bedrock_address + (UART_RX<< 3));
 		                                                                  ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1272: FILE: drivers/char/sn_serial.c:1180:
+^I}^I^I$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000336009.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 20 errors, 82 warnings, 52 checks, 1230 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000336009.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
