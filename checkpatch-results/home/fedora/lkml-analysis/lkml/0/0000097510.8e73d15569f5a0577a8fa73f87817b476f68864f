CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'context' may be better as '(context)' to avoid precedence issues
#49: FILE: ipc/shm.c:41:
+#define shm_lock(context, id)		\
+	((struct shmid_kernel*)ipc_lock(&context->ids,id))

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#50: FILE: ipc/shm.c:42:
+	((struct shmid_kernel*)ipc_lock(&context->ids,id))

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#50: FILE: ipc/shm.c:42:
+	((struct shmid_kernel*)ipc_lock(&context->ids,id))
 	                                             ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'context' may be better as '(context)' to avoid precedence issues
#53: FILE: ipc/shm.c:45:
+#define shm_get(context, id)\
+	((struct shmid_kernel*)ipc_get(&context->ids,id))

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#54: FILE: ipc/shm.c:46:
+	((struct shmid_kernel*)ipc_get(&context->ids,id))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#54: FILE: ipc/shm.c:46:
+	((struct shmid_kernel*)ipc_get(&context->ids,id))
 	                                            ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'context' may be better as '(context)' to avoid precedence issues
#55: FILE: ipc/shm.c:47:
+#define shm_buildid(context, id, seq) \
+	ipc_buildid(&context->ids, id, seq)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#65: FILE: ipc/shm.c:50:
+static int newseg (struct ipc_shm_context *context,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#77: FILE: ipc/shm.c:62:
+void __init shm_init (struct ipc_shm_context *context)

ERROR:SPACING: space required after that ',' (ctx:VxO)
#93: FILE: ipc/shm.c:74:
+	if (ipc_checkid(&context->ids,&s->shm_perm,id))
 	                             ^

ERROR:SPACING: space required before that '&' (ctx:OxV)
#93: FILE: ipc/shm.c:74:
+	if (ipc_checkid(&context->ids,&s->shm_perm,id))
 	                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#93: FILE: ipc/shm.c:74:
+	if (ipc_checkid(&context->ids,&s->shm_perm,id))
 	                                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#103: FILE: ipc/shm.c:82:
+	return (struct shmid_kernel *)ipc_rmid(&context->ids,id);
 	                                                    ^

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#117: FILE: ipc/shm.c:93:
+static inline void shm_inc (struct ipc_shm_context *context, int id) {

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#117: FILE: ipc/shm.c:93:
+static inline void shm_inc (struct ipc_shm_context *context, int id) {

ERROR:SPACING: space required before the open parenthesis '('
#121: FILE: ipc/shm.c:96:
+	if(!(shp = shm_lock(context, id)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#121: FILE: ipc/shm.c:96:
+	if(!(shp = shm_lock(context, id)))

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#135: FILE: ipc/shm.c:108:
+	struct ipc_shm_context *context = shmd->vm_private_data;
+	shm_inc (context, shmd->vm_file->f_dentry->d_inode->i_ino);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#135: FILE: ipc/shm.c:108:
+	shm_inc (context, shmd->vm_file->f_dentry->d_inode->i_ino);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#148: FILE: ipc/shm.c:119:
+static void shm_destroy (struct ipc_shm_context *context,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#155: FILE: ipc/shm.c:123:
+	shm_rmid (context, shp->id);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#167: FILE: ipc/shm.c:148:
+	down (&context->ids.sem);

ERROR:SPACING: space required before the open parenthesis '('
#170: FILE: ipc/shm.c:150:
+	if(!(shp = shm_lock(context, id)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#170: FILE: ipc/shm.c:150:
+	if(!(shp = shm_lock(context, id)))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#178: FILE: ipc/shm.c:157:
+		shm_destroy (context, shp);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#183: FILE: ipc/shm.c:160:
+	up (&context->ids.sem);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#211: FILE: ipc/shm.c:201:
+static int newseg (struct ipc_shm_context *context,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#239: FILE: ipc/shm.c:263:
+	shp->id = shm_buildid(context, id,shp->shm_perm.seq);
 	                                 ^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#266: FILE: ipc/shm.c:292:
+	} else if ((id = ipc_findkey(&context->ids, key)) == -1) {

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#334: FILE: ipc/shm.c:474:
+		err= context->ids.max_id;
 		   ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#348: FILE: ipc/shm.c:490:
+		shm_get_stat (context, &shm_info.shm_rss, &shm_info.shm_swp);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#377: FILE: ipc/shm.c:520:
+			err = shm_checkid(context,shp,shmid);
 			                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#377: FILE: ipc/shm.c:520:
+			err = shm_checkid(context,shp,shmid);
 			                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#401: FILE: ipc/shm.c:557:
+		err = shm_checkid(context,shp,shmid);
 		                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#401: FILE: ipc/shm.c:557:
+		err = shm_checkid(context,shp,shmid);
 		                             ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#439: FILE: ipc/shm.c:630:
+			shm_destroy (context, shp);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#456: FILE: ipc/shm.c:648:
+		err = shm_checkid(context,shp,shmid);
 		                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#456: FILE: ipc/shm.c:648:
+		err = shm_checkid(context,shp,shmid);
 		                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#495: FILE: ipc/shm.c:752:
+	err = shm_checkid(context,shp,shmid);
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#495: FILE: ipc/shm.c:752:
+	err = shm_checkid(context,shp,shmid);
 	                             ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#529: FILE: ipc/shm.c:793:
+	down (&context->ids.sem);

ERROR:SPACING: space required before the open parenthesis '('
#530: FILE: ipc/shm.c:794:
+	if(!(shp = shm_lock(context, shmid)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#530: FILE: ipc/shm.c:794:
+	if(!(shp = shm_lock(context, shmid)))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#536: FILE: ipc/shm.c:799:
+		shm_destroy (context, shp);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#541: FILE: ipc/shm.c:802:
+	up (&context->ids.sem);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#587: FILE: ipc/util.h:61:
+void shm_init (struct ipc_shm_context *context);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000097510.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 26 errors, 17 warnings, 3 checks, 512 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000097510.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
