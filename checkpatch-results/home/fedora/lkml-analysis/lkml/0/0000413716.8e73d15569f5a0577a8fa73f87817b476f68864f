WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#59: 
diff -urN linux.orig/arch/i386/kernel/Makefile linux/arch/i386/kernel/Makefile

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#87: FILE: arch/i386/kernel/i386_ksyms.c:95:
+EXPORT_SYMBOL(request_nmi);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#88: FILE: arch/i386/kernel/i386_ksyms.c:96:
+EXPORT_SYMBOL(release_nmi);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#109: FILE: arch/i386/kernel/irq.c:134:
+extern void nmi_append_user_names(struct seq_file *p);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:PREFER_SEQ_PUTS: Prefer seq_puts to seq_printf
#118: FILE: arch/i386/kernel/irq.c:171:
+	seq_printf(p, "                ");

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/io.h> instead of <asm/io.h>
#168: FILE: arch/i386/kernel/nmi.c:22:
+#include <asm/io.h>

Whenever asm/file.h is included and linux/file.h exists, a
conversion can be made when linux/file.h includes asm/file.h.
However this is not always the case (See signal.h).
This message type is emitted only for includes from arch/.

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/nmi.h> instead of <asm/nmi.h>
#169: FILE: arch/i386/kernel/nmi.c:23:
+#include <asm/nmi.h>

ERROR:TRAILING_WHITESPACE: trailing whitespace
#243: FILE: arch/i386/kernel/nmi.c:27:
+/* $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->link
#297: FILE: arch/i386/kernel/nmi.c:53:
+	INIT_LIST_HEAD(&(handler->link));

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->complete
#298: FILE: arch/i386/kernel/nmi.c:54:
+	complete(&(handler->complete));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->link
#310: FILE: arch/i386/kernel/nmi.c:62:
+	if (!list_empty(&(handler->link)))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->link
#352: FILE: arch/i386/kernel/nmi.c:76:
+			list_add_rcu(&(handler->link), curr_h->link.prev);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->link
#354: FILE: arch/i386/kernel/nmi.c:78:
+			list_add_rcu(&(handler->link), &(curr_h->link));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around curr_h->link
#354: FILE: arch/i386/kernel/nmi.c:78:
+			list_add_rcu(&(handler->link), &(curr_h->link));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->link
#356: FILE: arch/i386/kernel/nmi.c:80:
+		list_add_rcu(&(handler->link), &nmi_handler_list);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->link
#369: FILE: arch/i386/kernel/nmi.c:89:
+	list_del_rcu(&(handler->link));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->complete
#370: FILE: arch/i386/kernel/nmi.c:90:
+	init_completion(&(handler->complete));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->rcu
#371: FILE: arch/i386/kernel/nmi.c:91:
+	call_rcu(&(handler->rcu), free_nmi_handler, handler);

ERROR:CODE_INDENT: code indent should use tabs where possible
#385: FILE: arch/i386/kernel/nmi.c:95:
+           interrupted, we must wait until it finished. */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#385: FILE: arch/i386/kernel/nmi.c:95:
+	/* Wait for handler to finish being freed.  This can't be
+           interrupted, we must wait until it finished. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#385: FILE: arch/i386/kernel/nmi.c:95:
+           interrupted, we must wait until it finished. */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around handler->complete
#386: FILE: arch/i386/kernel/nmi.c:96:
+	wait_for_completion(&(handler->complete));

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#423: FILE: arch/i386/kernel/nmi.c:113:
+static void mem_parity_error(unsigned char reason, struct pt_regs * regs)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#431: FILE: arch/i386/kernel/nmi.c:115:
+	printk("Uhhuh. NMI received. Dazed and confused, but trying to continue\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#432: FILE: arch/i386/kernel/nmi.c:116:
+	printk("You probably have a hardware problem with your RAM chips\n");

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#451: FILE: arch/i386/kernel/nmi.c:123:
+static void io_check_error(unsigned char reason, struct pt_regs * regs)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#477: FILE: arch/i386/kernel/nmi.c:127:
+	printk("NMI: IOCK error (debug interrupt?)\n");

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#508: FILE: arch/i386/kernel/nmi.c:134:
+	while (--i) udelay(1000);

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#508: FILE: arch/i386/kernel/nmi.c:134:
+	while (--i) udelay(1000);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#514: FILE: arch/i386/kernel/nmi.c:139:
+static void unknown_nmi_error(struct pt_regs * regs, int cpu)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#538: FILE: arch/i386/kernel/nmi.c:143:
+	 * is. */

ERROR:SPACING: space prohibited after that open parenthesis '('
#539: FILE: arch/i386/kernel/nmi.c:144:
+	if( MCA_bus ) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close parenthesis ')'
#539: FILE: arch/i386/kernel/nmi.c:144:
+	if( MCA_bus ) {

ERROR:SPACING: space required before the open parenthesis '('
#539: FILE: arch/i386/kernel/nmi.c:144:
+	if( MCA_bus ) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#545: FILE: arch/i386/kernel/nmi.c:149:
+	printk("Uhhuh. Received NMI for unknown reason on CPU %d.\n", cpu);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#546: FILE: arch/i386/kernel/nmi.c:150:
+	printk("Dazed and confused, but trying to continue\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#547: FILE: arch/i386/kernel/nmi.c:151:
+	printk("Do you have a strange power saving mode enabled?\n");

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#552: FILE: arch/i386/kernel/nmi.c:155:
+static int nmi_std (void * dev_id, struct pt_regs * regs, int cpu, int handled)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#552: FILE: arch/i386/kernel/nmi.c:155:
+static int nmi_std (void * dev_id, struct pt_regs * regs, int cpu, int handled)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#552: FILE: arch/i386/kernel/nmi.c:155:
+static int nmi_std (void * dev_id, struct pt_regs * regs, int cpu, int handled)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#605: FILE: arch/i386/kernel/nmi.c:180:
+asmlinkage void do_nmi(struct pt_regs * regs, long error_code)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#612: FILE: arch/i386/kernel/nmi.c:187:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#612: FILE: arch/i386/kernel/nmi.c:187:
+ $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#613: FILE: arch/i386/kernel/nmi.c:188:
+ 
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#614: FILE: arch/i386/kernel/nmi.c:189:
+ ^Inmi_enter();$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#614: FILE: arch/i386/kernel/nmi.c:189:
+ ^Inmi_enter();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#614: FILE: arch/i386/kernel/nmi.c:189:
+ ^Inmi_enter();$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#615: FILE: arch/i386/kernel/nmi.c:190:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#615: FILE: arch/i386/kernel/nmi.c:190:
+ $

ERROR:CODE_INDENT: code indent should use tabs where possible
#616: FILE: arch/i386/kernel/nmi.c:191:
+ ^Icpu = smp_processor_id();$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#616: FILE: arch/i386/kernel/nmi.c:191:
+ ^Icpu = smp_processor_id();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#616: FILE: arch/i386/kernel/nmi.c:191:
+ ^Icpu = smp_processor_id();$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#636: FILE: arch/i386/kernel/nmi.c:206:
+^I^I^I$

WARNING:DEFAULT_NO_BREAK: switch default: should use break
#637: FILE: arch/i386/kernel/nmi.c:207:
+		case NOTIFY_DONE:
+		default:
+			;

switch default case is sometimes written as "default:;".  This can
cause new cases added below default to be defective.

A "break;" should be added after empty default statement to avoid
unwanted fallthrough.

CHECK:BRACES: braces {} should be used on all arms of this statement
#644: FILE: arch/i386/kernel/nmi.c:213:
+	if (!handled)
[...]
+	else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#646: FILE: arch/i386/kernel/nmi.c:215:
+	else {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#704: FILE: arch/i386/kernel/nmi.c:238:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#704: FILE: arch/i386/kernel/nmi.c:238:
+ $

ERROR:CODE_INDENT: code indent should use tabs where possible
#705: FILE: arch/i386/kernel/nmi.c:239:
+ ^Inmi_exit();$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#705: FILE: arch/i386/kernel/nmi.c:239:
+ ^Inmi_exit();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#705: FILE: arch/i386/kernel/nmi.c:239:
+ ^Inmi_exit();$

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#716: FILE: arch/i386/kernel/nmi_watchdog.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/smp.h> instead of <asm/smp.h>
#740: FILE: arch/i386/kernel/nmi_watchdog.c:25:
+#include <asm/smp.h>

CHECK:ARCH_INCLUDE_LINUX: Consider using #include <linux/nmi.h> instead of <asm/nmi.h>
#743: FILE: arch/i386/kernel/nmi_watchdog.c:28:
+#include <asm/nmi.h>

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#749: FILE: arch/i386/kernel/nmi_watchdog.c:34:
+/* This is for I/O APIC, until we can figure out how to tell if it's from the
+   I/O APIC.  If the NMI  was not handled before now, we handle it. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#749: FILE: arch/i386/kernel/nmi_watchdog.c:34:
+   I/O APIC.  If the NMI  was not handled before now, we handle it. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#755: FILE: arch/i386/kernel/nmi_watchdog.c:40:
+/* $

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#761: FILE: arch/i386/kernel/nmi_watchdog.c:46:
+extern void show_registers(struct pt_regs *regs);

CHECK:BIT_MACRO: Prefer using the BIT macro
#763: FILE: arch/i386/kernel/nmi_watchdog.c:48:
+#define K7_EVNTSEL_ENABLE	(1 << 22)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:BIT_MACRO: Prefer using the BIT macro
#764: FILE: arch/i386/kernel/nmi_watchdog.c:49:
+#define K7_EVNTSEL_INT		(1 << 20)

CHECK:BIT_MACRO: Prefer using the BIT macro
#765: FILE: arch/i386/kernel/nmi_watchdog.c:50:
+#define K7_EVNTSEL_OS		(1 << 17)

CHECK:BIT_MACRO: Prefer using the BIT macro
#766: FILE: arch/i386/kernel/nmi_watchdog.c:51:
+#define K7_EVNTSEL_USR		(1 << 16)

CHECK:BIT_MACRO: Prefer using the BIT macro
#770: FILE: arch/i386/kernel/nmi_watchdog.c:55:
+#define P6_EVNTSEL0_ENABLE	(1 << 22)

CHECK:BIT_MACRO: Prefer using the BIT macro
#771: FILE: arch/i386/kernel/nmi_watchdog.c:56:
+#define P6_EVNTSEL_INT		(1 << 20)

CHECK:BIT_MACRO: Prefer using the BIT macro
#772: FILE: arch/i386/kernel/nmi_watchdog.c:57:
+#define P6_EVNTSEL_OS		(1 << 17)

CHECK:BIT_MACRO: Prefer using the BIT macro
#773: FILE: arch/i386/kernel/nmi_watchdog.c:58:
+#define P6_EVNTSEL_USR		(1 << 16)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#778: FILE: arch/i386/kernel/nmi_watchdog.c:63:
+#define MSR_P4_MISC_ENABLE_PERF_AVAIL	(1<<7)
                                      	  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#778: FILE: arch/i386/kernel/nmi_watchdog.c:63:
+#define MSR_P4_MISC_ENABLE_PERF_AVAIL	(1<<7)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#779: FILE: arch/i386/kernel/nmi_watchdog.c:64:
+#define MSR_P4_MISC_ENABLE_PEBS_UNAVAIL	(1<<12)
                                        	  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#779: FILE: arch/i386/kernel/nmi_watchdog.c:64:
+#define MSR_P4_MISC_ENABLE_PEBS_UNAVAIL	(1<<12)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#782: FILE: arch/i386/kernel/nmi_watchdog.c:67:
+#define P4_ESCR_EVENT_SELECT(N)	((N)<<25)
                                	    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#783: FILE: arch/i386/kernel/nmi_watchdog.c:68:
+#define P4_ESCR_OS		(1<<3)
                   		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#783: FILE: arch/i386/kernel/nmi_watchdog.c:68:
+#define P4_ESCR_OS		(1<<3)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#784: FILE: arch/i386/kernel/nmi_watchdog.c:69:
+#define P4_ESCR_USR		(1<<2)
                    		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#784: FILE: arch/i386/kernel/nmi_watchdog.c:69:
+#define P4_ESCR_USR		(1<<2)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#785: FILE: arch/i386/kernel/nmi_watchdog.c:70:
+#define P4_CCCR_OVF_PMI		(1<<26)
                        		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#785: FILE: arch/i386/kernel/nmi_watchdog.c:70:
+#define P4_CCCR_OVF_PMI		(1<<26)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#786: FILE: arch/i386/kernel/nmi_watchdog.c:71:
+#define P4_CCCR_THRESHOLD(N)	((N)<<20)
                             	    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#787: FILE: arch/i386/kernel/nmi_watchdog.c:72:
+#define P4_CCCR_COMPLEMENT	(1<<19)
                           	  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#787: FILE: arch/i386/kernel/nmi_watchdog.c:72:
+#define P4_CCCR_COMPLEMENT	(1<<19)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#788: FILE: arch/i386/kernel/nmi_watchdog.c:73:
+#define P4_CCCR_COMPARE		(1<<18)
                        		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#788: FILE: arch/i386/kernel/nmi_watchdog.c:73:
+#define P4_CCCR_COMPARE		(1<<18)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#789: FILE: arch/i386/kernel/nmi_watchdog.c:74:
+#define P4_CCCR_REQUIRED	(3<<16)
                         	  ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#790: FILE: arch/i386/kernel/nmi_watchdog.c:75:
+#define P4_CCCR_ESCR_SELECT(N)	((N)<<13)
                               	    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#791: FILE: arch/i386/kernel/nmi_watchdog.c:76:
+#define P4_CCCR_ENABLE		(1<<12)
                       		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#791: FILE: arch/i386/kernel/nmi_watchdog.c:76:
+#define P4_CCCR_ENABLE		(1<<12)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#793: FILE: arch/i386/kernel/nmi_watchdog.c:78:
+/* Set up IQ_COUNTER0 to behave like a clock, by having IQ_CCCR0 filter
+   CRU_ESCR0 (with any non-null event selector) through a complemented

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#794: FILE: arch/i386/kernel/nmi_watchdog.c:79:
+   max threshold. [IA32-Vol3, Section 14.9.9] */

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#798: FILE: arch/i386/kernel/nmi_watchdog.c:83:
+#define P4_NMI_CRU_ESCR0	(P4_ESCR_EVENT_SELECT(0x3F)|P4_ESCR_OS|P4_ESCR_USR)
                         	                           ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#798: FILE: arch/i386/kernel/nmi_watchdog.c:83:
+#define P4_NMI_CRU_ESCR0	(P4_ESCR_EVENT_SELECT(0x3F)|P4_ESCR_OS|P4_ESCR_USR)
                         	                                      ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#800: FILE: arch/i386/kernel/nmi_watchdog.c:85:
+	(P4_CCCR_OVF_PMI|P4_CCCR_THRESHOLD(15)|P4_CCCR_COMPLEMENT|	\
 	                ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#800: FILE: arch/i386/kernel/nmi_watchdog.c:85:
+	(P4_CCCR_OVF_PMI|P4_CCCR_THRESHOLD(15)|P4_CCCR_COMPLEMENT|	\
 	                                      ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxE)
#800: FILE: arch/i386/kernel/nmi_watchdog.c:85:
+	(P4_CCCR_OVF_PMI|P4_CCCR_THRESHOLD(15)|P4_CCCR_COMPLEMENT|	\
 	                                                         ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#801: FILE: arch/i386/kernel/nmi_watchdog.c:86:
+	 P4_CCCR_COMPARE|P4_CCCR_REQUIRED|P4_CCCR_ESCR_SELECT(4)|P4_CCCR_ENABLE)
 	                ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#801: FILE: arch/i386/kernel/nmi_watchdog.c:86:
+	 P4_CCCR_COMPARE|P4_CCCR_REQUIRED|P4_CCCR_ESCR_SELECT(4)|P4_CCCR_ENABLE)
 	                                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#801: FILE: arch/i386/kernel/nmi_watchdog.c:86:
+	 P4_CCCR_COMPARE|P4_CCCR_REQUIRED|P4_CCCR_ESCR_SELECT(4)|P4_CCCR_ENABLE)
 	                                                        ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#803: FILE: arch/i386/kernel/nmi_watchdog.c:88:
+int __init check_nmi_watchdog (void)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#808: FILE: arch/i386/kernel/nmi_watchdog.c:93:
+	printk(KERN_INFO "testing NMI watchdog ... ");

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#810: FILE: arch/i386/kernel/nmi_watchdog.c:95:
+	for (cpu = 0; cpu < NR_CPUS; cpu++)

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#813: FILE: arch/i386/kernel/nmi_watchdog.c:98:
+	mdelay((10*1000)/nmi_hz); // wait 10 ticks
 	          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#813: FILE: arch/i386/kernel/nmi_watchdog.c:98:
+	mdelay((10*1000)/nmi_hz); // wait 10 ticks
 	                ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#816: FILE: arch/i386/kernel/nmi_watchdog.c:101:
+           as they come up. */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#816: FILE: arch/i386/kernel/nmi_watchdog.c:101:
+	/* FIXME: Only boot CPU is online at this stage.  Check CPUs
+           as they come up. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#816: FILE: arch/i386/kernel/nmi_watchdog.c:101:
+           as they come up. */

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#817: FILE: arch/i386/kernel/nmi_watchdog.c:102:
+	for (cpu = 0; cpu < NR_CPUS; cpu++) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#821: FILE: arch/i386/kernel/nmi_watchdog.c:106:
+			printk("CPU#%d: NMI appears to be stuck!\n", cpu);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#825: FILE: arch/i386/kernel/nmi_watchdog.c:110:
+	printk("OK.\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#828: FILE: arch/i386/kernel/nmi_watchdog.c:113:
+	/* now that we know it works we can reduce NMI frequency to
+	   something more reasonable; makes a difference in some configs */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#828: FILE: arch/i386/kernel/nmi_watchdog.c:113:
+	   something more reasonable; makes a difference in some configs */

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#835: FILE: arch/i386/kernel/nmi_watchdog.c:120:
+static int nmi_watchdog_tick (void * dev_id, struct pt_regs * regs, int cpu,

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#835: FILE: arch/i386/kernel/nmi_watchdog.c:120:
+static int nmi_watchdog_tick (void * dev_id, struct pt_regs * regs, int cpu,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#835: FILE: arch/i386/kernel/nmi_watchdog.c:120:
+static int nmi_watchdog_tick (void * dev_id, struct pt_regs * regs, int cpu,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#836: FILE: arch/i386/kernel/nmi_watchdog.c:121:
+static int nmi_watchdog_tick (void * dev_id, struct pt_regs * regs, int cpu,
+	int handled);

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#839: FILE: arch/i386/kernel/nmi_watchdog.c:124:
+static struct nmi_handler nmi_watchdog_handler =
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'nmi == NMI_LOCAL_APIC'
#863: FILE: arch/i386/kernel/nmi_watchdog.c:148:
+	if ((nmi == NMI_LOCAL_APIC) &&
+			(boot_cpu_data.x86_vendor == X86_VENDOR_INTEL) &&
+			(boot_cpu_data.x86 == 6 || boot_cpu_data.x86 == 15))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'boot_cpu_data.x86_vendor == X86_VENDOR_INTEL'
#863: FILE: arch/i386/kernel/nmi_watchdog.c:148:
+	if ((nmi == NMI_LOCAL_APIC) &&
+			(boot_cpu_data.x86_vendor == X86_VENDOR_INTEL) &&
+			(boot_cpu_data.x86 == 6 || boot_cpu_data.x86 == 15))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#864: FILE: arch/i386/kernel/nmi_watchdog.c:149:
+	if ((nmi == NMI_LOCAL_APIC) &&
+			(boot_cpu_data.x86_vendor == X86_VENDOR_INTEL) &&

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'nmi == NMI_LOCAL_APIC'
#867: FILE: arch/i386/kernel/nmi_watchdog.c:152:
+	if ((nmi == NMI_LOCAL_APIC) &&
+			(boot_cpu_data.x86_vendor == X86_VENDOR_AMD) &&
+			(boot_cpu_data.x86 == 6))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'boot_cpu_data.x86_vendor == X86_VENDOR_AMD'
#867: FILE: arch/i386/kernel/nmi_watchdog.c:152:
+	if ((nmi == NMI_LOCAL_APIC) &&
+			(boot_cpu_data.x86_vendor == X86_VENDOR_AMD) &&
+			(boot_cpu_data.x86 == 6))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'boot_cpu_data.x86 == 6'
#867: FILE: arch/i386/kernel/nmi_watchdog.c:152:
+	if ((nmi == NMI_LOCAL_APIC) &&
+			(boot_cpu_data.x86_vendor == X86_VENDOR_AMD) &&
+			(boot_cpu_data.x86 == 6))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#868: FILE: arch/i386/kernel/nmi_watchdog.c:153:
+	if ((nmi == NMI_LOCAL_APIC) &&
+			(boot_cpu_data.x86_vendor == X86_VENDOR_AMD) &&

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#881: FILE: arch/i386/kernel/nmi_watchdog.c:166:
+			printk(KERN_WARNING

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#891: FILE: arch/i386/kernel/nmi_watchdog.c:176:
+__setup("nmi_watchdog=", setup_nmi_watchdog);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#932: FILE: arch/i386/kernel/nmi_watchdog.c:217:
+struct pm_dev * set_nmi_pm_callback(pm_callback callback)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#938: FILE: arch/i386/kernel/nmi_watchdog.c:223:
+void unset_nmi_pm_callback(struct pm_dev * dev)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#943: FILE: arch/i386/kernel/nmi_watchdog.c:228:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#943: FILE: arch/i386/kernel/nmi_watchdog.c:228:
+ $

ERROR:SPACING: space required before the open parenthesis '('
#969: FILE: arch/i386/kernel/nmi_watchdog.c:254:
+	for(i = 0; i < n; ++i)

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#970: FILE: arch/i386/kernel/nmi_watchdog.c:255:
+		wrmsr(base+i, 0, 0);
 		          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#981: FILE: arch/i386/kernel/nmi_watchdog.c:266:
+		wrmsr(MSR_K7_PERFCTR0, -(cpu_khz/nmi_hz*1000), -1);
 		                                ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#981: FILE: arch/i386/kernel/nmi_watchdog.c:266:
+		wrmsr(MSR_K7_PERFCTR0, -(cpu_khz/nmi_hz*1000), -1);
 		                                       ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1000: FILE: arch/i386/kernel/nmi_watchdog.c:285:
+	Dprintk("setting K7_PERFCTR0 to %08lx\n", -(cpu_khz/nmi_hz*1000));
 	                                                   ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1000: FILE: arch/i386/kernel/nmi_watchdog.c:285:
+	Dprintk("setting K7_PERFCTR0 to %08lx\n", -(cpu_khz/nmi_hz*1000));
 	                                                          ^

CHECK:CAMELCASE: Avoid CamelCase: <Dprintk>
#1000: FILE: arch/i386/kernel/nmi_watchdog.c:285:
+	Dprintk("setting K7_PERFCTR0 to %08lx\n", -(cpu_khz/nmi_hz*1000));

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1001: FILE: arch/i386/kernel/nmi_watchdog.c:286:
+	wrmsr(MSR_K7_PERFCTR0, -(cpu_khz/nmi_hz*1000), -1);
 	                                ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1001: FILE: arch/i386/kernel/nmi_watchdog.c:286:
+	wrmsr(MSR_K7_PERFCTR0, -(cpu_khz/nmi_hz*1000), -1);
 	                                       ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1015: FILE: arch/i386/kernel/nmi_watchdog.c:300:
+		wrmsr(MSR_P6_PERFCTR0, -(cpu_khz/nmi_hz*1000), -1);
 		                                ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1015: FILE: arch/i386/kernel/nmi_watchdog.c:300:
+		wrmsr(MSR_P6_PERFCTR0, -(cpu_khz/nmi_hz*1000), -1);
 		                                       ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1034: FILE: arch/i386/kernel/nmi_watchdog.c:319:
+	Dprintk("setting P6_PERFCTR0 to %08lx\n", -(cpu_khz/nmi_hz*1000));
 	                                                   ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1034: FILE: arch/i386/kernel/nmi_watchdog.c:319:
+	Dprintk("setting P6_PERFCTR0 to %08lx\n", -(cpu_khz/nmi_hz*1000));
 	                                                          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1035: FILE: arch/i386/kernel/nmi_watchdog.c:320:
+	wrmsr(MSR_P6_PERFCTR0, -(cpu_khz/nmi_hz*1000), 0);
 	                                ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1035: FILE: arch/i386/kernel/nmi_watchdog.c:320:
+	wrmsr(MSR_P6_PERFCTR0, -(cpu_khz/nmi_hz*1000), 0);
 	                                       ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1059: FILE: arch/i386/kernel/nmi_watchdog.c:344:
+		wrmsr(MSR_P4_IQ_COUNTER0, -(cpu_khz/nmi_hz*1000), -1);
 		                                   ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1059: FILE: arch/i386/kernel/nmi_watchdog.c:344:
+		wrmsr(MSR_P4_IQ_COUNTER0, -(cpu_khz/nmi_hz*1000), -1);
 		                                          ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1077: FILE: arch/i386/kernel/nmi_watchdog.c:362:
+	/* MSR 0x3F0 seems to have a default value of 0xFC00, but current
+	   docs doesn't fully define it, so leave it alone for now. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1077: FILE: arch/i386/kernel/nmi_watchdog.c:362:
+	   docs doesn't fully define it, so leave it alone for now. */

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1087: FILE: arch/i386/kernel/nmi_watchdog.c:372:
+	Dprintk("setting P4_IQ_COUNTER0 to 0x%08lx\n", -(cpu_khz/nmi_hz*1000));
 	                                                        ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1087: FILE: arch/i386/kernel/nmi_watchdog.c:372:
+	Dprintk("setting P4_IQ_COUNTER0 to 0x%08lx\n", -(cpu_khz/nmi_hz*1000));
 	                                                               ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1088: FILE: arch/i386/kernel/nmi_watchdog.c:373:
+	wrmsr(MSR_P4_IQ_COUNTER0, -(cpu_khz/nmi_hz*1000), -1);
 	                                   ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1088: FILE: arch/i386/kernel/nmi_watchdog.c:373:
+	wrmsr(MSR_P4_IQ_COUNTER0, -(cpu_khz/nmi_hz*1000), -1);
 	                                          ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1094: FILE: arch/i386/kernel/nmi_watchdog.c:379:
+void __pminit setup_apic_nmi_watchdog (void)

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1139: FILE: arch/i386/kernel/nmi_watchdog.c:424:
+	last_irq_sums [NR_CPUS],

Whitespace before opening bracket '[' is prohibited.
There are some exceptions:

1. With a type on the left::

    int [] a;

2. At the beginning of a line for slice initialisers::

    [0...10] = 5,

3. Inside a curly brace::

    = { [0...10] = 5 }

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#1139: FILE: arch/i386/kernel/nmi_watchdog.c:424:
+	last_irq_sums [NR_CPUS],

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1140: FILE: arch/i386/kernel/nmi_watchdog.c:425:
+	alert_counter [NR_CPUS];

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#1140: FILE: arch/i386/kernel/nmi_watchdog.c:425:
+	alert_counter [NR_CPUS];

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1142: FILE: arch/i386/kernel/nmi_watchdog.c:427:
+void touch_nmi_watchdog (void)

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#1150: FILE: arch/i386/kernel/nmi_watchdog.c:435:
+	for (i = 0; i < NR_CPUS; i++)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1154: FILE: arch/i386/kernel/nmi_watchdog.c:439:
+static int nmi_watchdog_tick (void * dev_id, struct pt_regs * regs, int cpu,

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1154: FILE: arch/i386/kernel/nmi_watchdog.c:439:
+static int nmi_watchdog_tick (void * dev_id, struct pt_regs * regs, int cpu,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1154: FILE: arch/i386/kernel/nmi_watchdog.c:439:
+static int nmi_watchdog_tick (void * dev_id, struct pt_regs * regs, int cpu,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1155: FILE: arch/i386/kernel/nmi_watchdog.c:440:
+static int nmi_watchdog_tick (void * dev_id, struct pt_regs * regs, int cpu,
+	int handled)

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#1164: FILE: arch/i386/kernel/nmi_watchdog.c:449:
+	if (! watchdog_reset(handled))
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1175: FILE: arch/i386/kernel/nmi_watchdog.c:460:
+		if (alert_counter[cpu] == 5*nmi_hz) {
 		                           ^

WARNING:LONG_LINE: line length of 113 exceeds 100 columns
#1182: FILE: arch/i386/kernel/nmi_watchdog.c:467:
+			printk("NMI Watchdog detected LOCKUP on CPU%d, eip %08lx, registers:\n", cpu, regs->eip);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1182: FILE: arch/i386/kernel/nmi_watchdog.c:467:
+			printk("NMI Watchdog detected LOCKUP on CPU%d, eip %08lx, registers:\n", cpu, regs->eip);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1184: FILE: arch/i386/kernel/nmi_watchdog.c:469:
+			printk("console shuts up ...\n");

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1212: FILE: arch/i386/kernel/traps.c:54:
+void init_nmi(void);

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#1355: FILE: arch/i386/oprofile/nmi_int.c:66:
+static struct nmi_handler nmi_handler =
+{

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1363: FILE: arch/i386/oprofile/nmi_int.c:74:
+
+

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1371: FILE: arch/i386/oprofile/nmi_int.c:111:
+static void nmi_cpu_shutdown(void * dummy);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1420: FILE: include/linux/nmi_watchdog.h:1:
+/*

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1430: FILE: include/linux/nmi_watchdog.h:11:
+ * $

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1436: FILE: include/linux/nmi_watchdog.h:17:
+extern void touch_nmi_watchdog(void);

ERROR:SPACING: space required before the open parenthesis '('
#1438: FILE: include/linux/nmi_watchdog.h:19:
+# define touch_nmi_watchdog() do { } while(0)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1448: FILE: include/linux/nmi.h:2:
+ *	linux/include/linux/nmi.h

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#1472: FILE: include/linux/nmi.h:9:
+#if defined(__i386__)

Architecture specific defines should be avoided wherever
possible.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1523: FILE: include/asm-i386/nmi.h:34:
+
+

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#1533: FILE: include/asm-i386/nmi.h:44:
+struct nmi_handler
+{

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000413716.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 38 errors, 58 warnings, 92 checks, 1436 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000413716.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
