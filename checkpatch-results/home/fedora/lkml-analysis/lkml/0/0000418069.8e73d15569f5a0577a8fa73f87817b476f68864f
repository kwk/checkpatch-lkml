WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#32: 
--- linux-2.5.45/drivers/media/video/video-buf.c	2002-10-31 14:03:59.000000000 +0100

CHECK:CAMELCASE: Avoid CamelCase: <TryLockPage>
#38: FILE: drivers/media/video/video-buf.c:29:
+#ifndef TryLockPage

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

ERROR:SPACING: space required after that ',' (ctx:VxV)
#84: FILE: drivers/media/video/video-buf.c:103:
+	dprintk(2,"sgl: oops - no page\n");
 	         ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#89: FILE: drivers/media/video/video-buf.c:108:
+	dprintk(2,"sgl: oops - highmem page\n");
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#97: FILE: drivers/media/video/video-buf.c:117:
+	dprintk(2,"lock start ...\n");
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#102: FILE: drivers/media/video/video-buf.c:121:
+	dprintk(2,"lock ok\n");
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#106: FILE: drivers/media/video/video-buf.c:125:
+	dprintk(2,"lock failed, unlock ...\n");
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#109: FILE: drivers/media/video/video-buf.c:128:
+	dprintk(2,"lock quit\n");
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#117: FILE: drivers/media/video/video-buf.c:136:
+	dprintk(2,"unlock start ...\n");
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#120: FILE: drivers/media/video/video-buf.c:139:
+	dprintk(2,"unlock ok\n");
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#128: FILE: drivers/media/video/video-buf.c:148:
+	unsigned long first,last;
 	                   ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#142: FILE: drivers/media/video/video-buf.c:159:
+	last  = ((data+size-1) & PAGE_MASK) >> PAGE_SHIFT;
 	              ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#142: FILE: drivers/media/video/video-buf.c:159:
+	last  = ((data+size-1) & PAGE_MASK) >> PAGE_SHIFT;
 	                   ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#144: FILE: drivers/media/video/video-buf.c:161:
+	dma->nr_pages = last-first+1;
 	                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#144: FILE: drivers/media/video/video-buf.c:161:
+	dma->nr_pages = last-first+1;
 	                          ^

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#145: FILE: drivers/media/video/video-buf.c:162:
+	dma->pages = kmalloc(dma->nr_pages * sizeof(struct page*),

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#145: FILE: drivers/media/video/video-buf.c:162:
+	dma->pages = kmalloc(dma->nr_pages * sizeof(struct page*),
+			     GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

ERROR:SPACING: space required after that ',' (ctx:VxV)
#149: FILE: drivers/media/video/video-buf.c:166:
+	dprintk(1,"init user [0x%lx+0x%lx => %d pages]\n",
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#150: FILE: drivers/media/video/video-buf.c:167:
+		data,size,dma->nr_pages);
 		    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#150: FILE: drivers/media/video/video-buf.c:167:
+		data,size,dma->nr_pages);
 		         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#163: FILE: drivers/media/video/video-buf.c:177:
+		dprintk(1,"get_user_pages: err=%d [%d]\n",err,dma->nr_pages);
 		         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#163: FILE: drivers/media/video/video-buf.c:177:
+		dprintk(1,"get_user_pages: err=%d [%d]\n",err,dma->nr_pages);
 		                                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#163: FILE: drivers/media/video/video-buf.c:177:
+		dprintk(1,"get_user_pages: err=%d [%d]\n",err,dma->nr_pages);
 		                                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#172: FILE: drivers/media/video/video-buf.c:186:
+	dprintk(1,"init kernel [%d pages]\n",nr_pages);
 	         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#172: FILE: drivers/media/video/video-buf.c:186:
+	dprintk(1,"init kernel [%d pages]\n",nr_pages);
 	                                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#181: FILE: drivers/media/video/video-buf.c:207:
+			dprintk(1,"videobuf_lock: %d\n",err);
 			         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#181: FILE: drivers/media/video/video-buf.c:207:
+			dprintk(1,"videobuf_lock: %d\n",err);
 			                               ^

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#186: FILE: drivers/media/video/video-buf.c:212:
+		if (NULL == dma->sglist)

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#240: FILE: drivers/media/video/video-buf.c:356:
+int $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#244: FILE: drivers/media/video/video-buf.c:360:
+^I$

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#252: FILE: drivers/media/video/video-buf.c:368:
+		if (NULL == q->bufs[i])

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#324: FILE: drivers/media/video/video-buf.c:478:
+	if (unlikely(NULL == q->bufs[b->index]))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#354: FILE: drivers/media/video/video-buf.c:510:
+	retval = q->ops->buf_prepare(file,buf);
 	                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#380: FILE: drivers/media/video/video-buf.c:626:
+	retval = q->ops->buf_prepare(file,q->read_buf);
 	                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#389: FILE: drivers/media/video/video-buf.c:671:
+		retval = q->ops->buf_prepare(file,q->read_buf);
 		                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#398: FILE: drivers/media/video/video-buf.c:723:
+		err = q->ops->buf_prepare(file,q->bufs[i]);
 		                              ^

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#407: FILE: drivers/media/video/video-buf.c:1049:
+EXPORT_SYMBOL_GPL(videobuf_unlock);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#441: FILE: drivers/media/video/video-buf.h:35:
+struct scatterlist* videobuf_pages_to_sg(struct page **pages, int nr_pages,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#502: FILE: drivers/media/video/video-buf.h:157:
+	int (*buf_prepare)(struct file *file,struct videobuf_buffer *vb);
 	                                    ^

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000418069.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 28 errors, 6 warnings, 5 checks, 469 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000418069.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
