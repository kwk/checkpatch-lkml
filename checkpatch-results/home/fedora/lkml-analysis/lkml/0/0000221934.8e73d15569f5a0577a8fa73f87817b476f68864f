WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#39: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#70: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:32:
+ * $Id: ipoib_multicast.c 1362 2004-12-18 15:56:29Z roland $

Since linux moved to git, the CVS markers are no longer used.
So, CVS style keywords ($Id$, $Revision$, $Log$) should not be
added.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#168: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:130:
+	mcast = kmalloc(sizeof (*mcast), can_sleep ? GFP_KERNEL : GFP_ATOMIC);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#172: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:134:
+	memset(mcast, 0, sizeof (*mcast));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#203: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:165:
+			     sizeof (union ib_gid));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#228: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:190:
+			     sizeof (union ib_gid));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#254: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:216:
+		    sizeof (union ib_gid)))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#324: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:286:
+			skb_push(skb, sizeof (struct ipoib_pseudoheader));

CHECK:BRACES: braces {} should be used on all arms of this statement
#342: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:304:
+	if (!status)
[...]
+	else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#344: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:306:
+	else {

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#371: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:333:
+#if 0				/* Some SMs don't support send-only yet */

CHECK:BRACES: braces {} should be used on all arms of this statement
#463: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:425:
+	if (test_bit(IPOIB_MCAST_RUN, &priv->flags)) {
[...]
+	} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#469: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:431:
+	} else

WARNING:RETURN_VOID: void function return statements are not generally useful
#474: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:436:
+	return;
+}

CHECK:BRACES: braces {} should be used on all arms of this statement
#517: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:479:
+	if (ret < 0) {
[...]
+	} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#530: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:492:
+	} else

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#545: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:507:
+		memcpy(priv->dev->dev_addr + 4, priv->local_gid.raw, sizeof (union ib_gid));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#560: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:522:
+		       sizeof (union ib_gid));

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#578: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:540:
+			if (!test_bit(IPOIB_MCAST_FLAG_SENDONLY, &mcast->flags)
+			    && !test_bit(IPOIB_MCAST_FLAG_BUSY, &mcast->flags)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#579: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:541:
+			    && !test_bit(IPOIB_MCAST_FLAG_BUSY, &mcast->flags)
+			    && !test_bit(IPOIB_MCAST_FLAG_ATTACHED, &mcast->flags)) {

WARNING:SPLIT_STRING: quoted string split across lines
#699: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:661:
+		ipoib_warn(priv, "ib_sa_mcmember_rec_delete failed "
+			   "for leave (result = %d)\n", ret);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#725: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:687:
+			ipoib_warn(priv, "unable to allocate memory for "
+				   "multicast structure\n");

WARNING:SPLIT_STRING: quoted string split across lines
#744: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:706:
+			ipoib_dbg_mcast(priv, "no address vector, "
+					"but multicast join already started\n");

WARNING:SIZEOF_PARENTHESIS: sizeof *neigh should be sizeof(*neigh)
#760: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:722:
+			struct ipoib_neigh *neigh = kmalloc(sizeof *neigh, GFP_ATOMIC);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#764: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:726:
+^I^I^I^Ineigh->ah  ^I= mcast->ah;$

WARNING:SIZEOF_PARENTHESIS: sizeof mgid should be sizeof(mgid)
#880: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:842:
+		memcpy(mgid.raw, mclist->dmi_addr + 4, sizeof mgid);

CHECK:BRACES: braces {} should be used on all arms of this statement
#904: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:866:
+			if (mcast) {
[...]
+			} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#912: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:874:
+			} else

WARNING:SIZEOF_PARENTHESIS: sizeof *iter should be sizeof(*iter)
#952: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:914:
+	iter = kmalloc(sizeof *iter, GFP_KERNEL);

WARNING:SIZEOF_PARENTHESIS: sizeof iter->mgid should be sizeof(iter->mgid)
#957: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:919:
+	memset(iter->mgid.raw, 0, sizeof iter->mgid);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#987: FILE: drivers/infiniband/ulp/ipoib/ipoib_multicast.c:949:
+			   sizeof (union ib_gid)) < 0) {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1023: FILE: drivers/infiniband/ulp/ipoib/ipoib_vlan.c:1:
+/*

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#1054: FILE: drivers/infiniband/ulp/ipoib/ipoib_vlan.c:32:
+ * $Id: ipoib_vlan.c 1349 2004-12-16 21:09:43Z roland $

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#1064: FILE: drivers/infiniband/ulp/ipoib/ipoib_vlan.c:42:
+#include <asm/uaccess.h>

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#1076: FILE: drivers/infiniband/ulp/ipoib/ipoib_vlan.c:54:
+static CLASS_DEVICE_ATTR(parent, S_IRUGO, show_parent, NULL);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:SIZEOF_PARENTHESIS: sizeof intf_name should be sizeof(intf_name)
#1107: FILE: drivers/infiniband/ulp/ipoib/ipoib_vlan.c:85:
+	snprintf(intf_name, sizeof intf_name, "%s.%04x",

WARNING:SPLIT_STRING: quoted string split across lines
#1126: FILE: drivers/infiniband/ulp/ipoib/ipoib_vlan.c:104:
+		ipoib_warn(ppriv, "failed to initialize subinterface: "
+			   "device %s, port %d",

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000221934.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 0 errors, 27 warnings, 10 checks, 1158 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000221934.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
