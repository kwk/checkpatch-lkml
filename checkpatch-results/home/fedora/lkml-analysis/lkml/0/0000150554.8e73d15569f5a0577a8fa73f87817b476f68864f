WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#31: 
The driver used to allocate memory with spinlock held which has been fixed in

ERROR:TRAILING_WHITESPACE: trailing whitespace
#71: FILE: Documentation/dell_rbu.txt:27:
+The rbu driver needs to have an application (as mentioned above)which will $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#84: FILE: Documentation/dell_rbu.txt:50:
+Also echoing either mono ,packet or init in to image_type will free up the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#96: FILE: Documentation/dell_rbu.txt:59:
+done. $

WARNING:TYPO_SPELLING: 'an user' may be misspelled - perhaps 'a user'?
#99: FILE: Documentation/dell_rbu.txt:62:
+If an user by accident executes steps 1 and 3 above without executing step 2; 
    ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#99: FILE: Documentation/dell_rbu.txt:62:
+If an user by accident executes steps 1 and 3 above without executing step 2; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#100: FILE: Documentation/dell_rbu.txt:63:
+it will make the /sys/class/firmware/dell_rbu/ entries to disappear. $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#129: FILE: drivers/firmware/dell_rbu.c:72:
+module_param_string(image_type, image_type, sizeof (image_type), 0);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPLIT_STRING: quoted string split across lines
#158: FILE: drivers/firmware/dell_rbu.c:120:
 		pr_debug("dell_rbu:%s: packet size data "
+			"overrun\n", __FUNCTION__);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#158: FILE: drivers/firmware/dell_rbu.c:120:
+			"overrun\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#179: FILE: drivers/firmware/dell_rbu.c:154:
+	newpacket = kmalloc(sizeof (struct packet_data), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*newpacket)...) over kmalloc(sizeof (struct packet_data)...)
#179: FILE: drivers/firmware/dell_rbu.c:154:
+	newpacket = kmalloc(sizeof (struct packet_data), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:TRAILING_WHITESPACE: trailing whitespace
#181: FILE: drivers/firmware/dell_rbu.c:156:
+^I$

WARNING:SPLIT_STRING: quoted string split across lines
#187: FILE: drivers/firmware/dell_rbu.c:160:
+			"dell_rbu:%s: failed to allocate new "
+			"packet\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#187: FILE: drivers/firmware/dell_rbu.c:160:
+			"packet\n", __FUNCTION__);

CHECK:SPACING: No space is necessary after a cast
#198: FILE: drivers/firmware/dell_rbu.c:170:
+	newpacket->data = (unsigned char *) __get_free_pages(GFP_KERNEL,

WARNING:SPLIT_STRING: quoted string split across lines
#209: FILE: drivers/firmware/dell_rbu.c:179:
+			"dell_rbu:%s: failed to allocate new "
+			"packet\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#209: FILE: drivers/firmware/dell_rbu.c:179:
+			"packet\n", __FUNCTION__);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#238: FILE: drivers/firmware/dell_rbu.c:252:
+packet_read_list(char *data, size_t * pread_length)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#277: FILE: drivers/firmware/dell_rbu.c:309:
+		free_pages((unsigned long) newpacket->data,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#278: FILE: drivers/firmware/dell_rbu.c:310:
+		free_pages((unsigned long) newpacket->data,
+			newpacket->ordernum);

CHECK:SPACING: No space is necessary after a cast
#306: FILE: drivers/firmware/dell_rbu.c:338:
+		free_pages((unsigned long) rbu_data.image_update_buffer,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#307: FILE: drivers/firmware/dell_rbu.c:339:
+		free_pages((unsigned long) rbu_data.image_update_buffer,
+			rbu_data.image_update_ordernum);

WARNING:SPLIT_STRING: quoted string split across lines
#326: FILE: drivers/firmware/dell_rbu.c:380:
 			printk(KERN_ERR "dell_rbu:%s: corruption "
+				"check failed\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#326: FILE: drivers/firmware/dell_rbu.c:380:
+				"check failed\n", __FUNCTION__);

CHECK:SPACING: No space is necessary after a cast
#335: FILE: drivers/firmware/dell_rbu.c:399:
+		(unsigned char *) __get_free_pages(GFP_KERNEL, ordernum);

CHECK:SPACING: No space is necessary after a cast
#339: FILE: drivers/firmware/dell_rbu.c:402:
+		(unsigned long) virt_to_phys(image_update_buffer);

CHECK:SPACING: No space is necessary after a cast
#343: FILE: drivers/firmware/dell_rbu.c:405:
+		free_pages((unsigned long) image_update_buffer, ordernum);

WARNING:SPLIT_STRING: quoted string split across lines
#364: FILE: drivers/firmware/dell_rbu.c:424:
 		pr_debug("Not enough memory for image update:"
+			"size = %ld\n", size);

WARNING:SPLIT_STRING: quoted string split across lines
#382: FILE: drivers/firmware/dell_rbu.c:452:
 		printk(KERN_WARNING "dell_rbu:read_packet_data: "
+			"data underrun\n");

WARNING:SPLIT_STRING: quoted string split across lines
#406: FILE: drivers/firmware/dell_rbu.c:485:
 		pr_debug("read_rbu_data_mono: image_update_buffer %p ,"
+			"bios_image_size %lu\n",

CHECK:BRACES: braces {} should be used on all arms of this statement
#427: FILE: drivers/firmware/dell_rbu.c:541:
+	if (!strcmp(image_type, "mono")) {
[...]
+	} else if (!strcmp(image_type, "packet")) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#430: FILE: drivers/firmware/dell_rbu.c:544:
+			memcpy(rbu_data.image_update_buffer,
+				fw->data, fw->size);

CHECK:BRACES: braces {} should be used on all arms of this statement
#432: FILE: drivers/firmware/dell_rbu.c:546:
+		if (!rbu_data.packetsize)
[...]
+		else if (rbu_data.packetsize != fw->size) {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#439: FILE: drivers/firmware/dell_rbu.c:553:
+	} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#444: FILE: drivers/firmware/dell_rbu.c:558:
+	rc = request_firmware_nowait(THIS_MODULE, FW_ACTION_NOHOTPLUG,
+		"dell_rbu", &rbu_device->dev, &context, callbackfn_rbu);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#446: FILE: drivers/firmware/dell_rbu.c:560:
+		printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#448: FILE: drivers/firmware/dell_rbu.c:562:
+			"dell_rbu:%s request_firmware_nowait failed"
+			" %d\n", __FUNCTION__, rc);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#448: FILE: drivers/firmware/dell_rbu.c:562:
+			" %d\n", __FUNCTION__, rc);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#472: FILE: drivers/firmware/dell_rbu.c:586:
+^I * Find the first newline or space $

CHECK:BRACES: braces {} should be used on all arms of this statement
#488: FILE: drivers/firmware/dell_rbu.c:596:
+	if (strstr(buffer, "mono"))
[...]
+	else if (strstr(buffer, "packet"))
[...]
+	else if (strstr(buffer, "init")) {
[...]
+	} else {
[...]

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#503: FILE: drivers/firmware/dell_rbu.c:611:
+			req_firm_rc = request_firmware_nowait(THIS_MODULE,
+				FW_ACTION_NOHOTPLUG, "dell_rbu",

CHECK:BRACES: braces {} should be used on all arms of this statement
#506: FILE: drivers/firmware/dell_rbu.c:614:
+			if (req_firm_rc) {
[...]
+			} else
[...]

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#507: FILE: drivers/firmware/dell_rbu.c:615:
+				printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#509: FILE: drivers/firmware/dell_rbu.c:617:
+					"dell_rbu:%s request_firmware_nowait"
+					" failed %d\n", __FUNCTION__, rc);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#509: FILE: drivers/firmware/dell_rbu.c:617:
+					" failed %d\n", __FUNCTION__, rc);

CHECK:BRACES: Unbalanced braces around else statement
#511: FILE: drivers/firmware/dell_rbu.c:619:
+			} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#517: FILE: drivers/firmware/dell_rbu.c:625:
+		printk(KERN_WARNING "dell_rbu: image_type is invalid\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#527: FILE: drivers/firmware/dell_rbu.c:634:
+^I$

WARNING:SPLIT_STRING: quoted string split across lines
#586: FILE: drivers/firmware/dell_rbu.c:661:
+			"dell_rbu:%s:platform_device_register_simple "
+			"failed\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#586: FILE: drivers/firmware/dell_rbu.c:661:
+			"failed\n", __FUNCTION__);

WARNING:SPLIT_STRING: quoted string split across lines
#600: FILE: drivers/firmware/dell_rbu.c:672:
 		printk(KERN_ERR "dell_rbu:%s:request_firmware_nowait"
+			" failed %d\n", __FUNCTION__, rc);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#600: FILE: drivers/firmware/dell_rbu.c:672:
+			" failed %d\n", __FUNCTION__, rc);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000150554.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 9 errors, 26 warnings, 18 checks, 523 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000150554.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
