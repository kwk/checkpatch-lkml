WARNING:TYPO_SPELLING: 'essense' may be misspelled - perhaps 'essence'?
#66: 
a fundamental essense looks better to me when 
              ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'exacly' may be misspelled - perhaps 'exactly'?
#68: 
flexibility which is exacly our case (buffers that are
                     ^^^^^^

WARNING:TYPO_SPELLING: 'standartized' may be misspelled - perhaps 'standardized'?
#76: 
- (A) uses standartized way to provide CS information, and (B) relies on
           ^^^^^^^^^^^^

WARNING:BAD_SIGN_OFF: 'Signed-off-by:' is the preferred signature form
#80: 
SIgned-off-by: dmitry pervushin <dpervushin@gmail.com>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#137: FILE: drivers/spi/Kconfig:6:
+config SPI
+	default Y
+	tristate "SPI (Serial Peripheral Interface) bus support"
+        default false
+	help
+	  Say Y if you need to enable SPI support on your kernel.
+ 	  Say M if you want to create the spi-core loadable module.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:DEPRECATED_VARIABLE: Use of EXTRA_CFLAGS is deprecated, please use `ccflags-y instead.
#181: FILE: drivers/spi/Makefile:12:
+EXTRA_CFLAGS += -DDEBUG

EXTRA_{A,C,CPP,LD}FLAGS are deprecated and should be replaced by the new
flags added via commit f77bf01425b1 ("kbuild: introduce ccflags-y,
asflags-y and ldflags-y").

The following conversion scheme maybe used::

  EXTRA_AFLAGS    ->  asflags-y
  EXTRA_CFLAGS    ->  ccflags-y
  EXTRA_CPPFLAGS  ->  cppflags-y
  EXTRA_LDFLAGS   ->  ldflags-y

See:

  1. https://lore.kernel.org/lkml/20070930191054.GA15876@uranus.ravnborg.org/
  2. https://lore.kernel.org/lkml/1313384834-24433-12-git-send-email-lacombar@gmail.com/
  3. https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#compilation-flags

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#189: FILE: drivers/spi/spi-core.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#190: FILE: drivers/spi/spi-core.c:2:
+ *  drivers/spi/spi-core.c

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

WARNING:INCLUDE_LINUX: Use #include <linux/atomic.h> instead of <asm/atomic.h>
#212: FILE: drivers/spi/spi-core.c:24:
+#include <asm/atomic.h>

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#225: FILE: drivers/spi/spi-core.c:37:
+ * will be matched against any device
+**/

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#239: FILE: drivers/spi/spi-core.c:51:
+ * This function set device on SPI bus to state `state', just like platform_bus does
+**/

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#240: FILE: drivers/spi/spi-core.c:52:
+static int spi_bus_suspend(struct device * dev, u32 state)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#260: FILE: drivers/spi/spi-core.c:72:
+ * This function resumes device on SPI bus, just like platform_bus does
+**/

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#261: FILE: drivers/spi/spi-core.c:73:
+static int spi_bus_resume(struct device * dev)

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#282: FILE: drivers/spi/spi-core.c:94:
+ * @resume: PM callback to resume device
+**/

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#300: FILE: drivers/spi/spi-core.c:112:
+ * device object is SPI master controller
+**/

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#373: FILE: drivers/spi/spi-core.c:185:
+ * each SPI device on the bus using call to __spi_device_free
+**/

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#389: FILE: drivers/spi/spi-core.c:201:
+ * This function gets called as a part of device removing
+**/

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#392: FILE: drivers/spi/spi-core.c:204:
+	struct spi_device* sdev = TO_SPI_DEV(dev);

ERROR:SPACING: space prohibited after that open parenthesis '('
#394: FILE: drivers/spi/spi-core.c:206:
+	kfree( sdev );

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close parenthesis ')'
#394: FILE: drivers/spi/spi-core.c:206:
+	kfree( sdev );

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#406: FILE: drivers/spi/spi-core.c:218:
+ * somewhere from hardcoded structures, and prepare bus_data for its devices
+**/

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#407: FILE: drivers/spi/spi-core.c:219:
+struct spi_device* spi_device_add(struct device *parent, char *name, void *bus_data)

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#409: FILE: drivers/spi/spi-core.c:221:
+	struct spi_device* dev;

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*dev)...) over kmalloc(sizeof(struct spi_device)...)
#414: FILE: drivers/spi/spi-core.c:226:
+	dev = kmalloc(sizeof(struct spi_device), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:SPACING: space prohibited after that open parenthesis '('
#415: FILE: drivers/spi/spi-core.c:227:
+	if( !dev )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#415: FILE: drivers/spi/spi-core.c:227:
+	if( !dev )

ERROR:SPACING: space required before the open parenthesis '('
#415: FILE: drivers/spi/spi-core.c:227:
+	if( !dev )

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#426: FILE: drivers/spi/spi-core.c:238:
+	if (device_register(&dev->dev)<0) {
 	                              ^

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#449: FILE: drivers/spi/spi-core.c:261:
+ * is provided, or transfer the message synchronously.
+**/

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#474: FILE: drivers/spi/spi-core.c:286:
+ *
+**/

WARNING:BRACES: braces {} are not necessary for single statement blocks
#528: FILE: drivers/spi/spi-core.c:340:
+	if (atomic_read(&bd->exiting)) {
+		return 1;
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#537: FILE: drivers/spi/spi-core.c:349:
+static void spi_async_callback (void *_msg )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#537: FILE: drivers/spi/spi-core.c:349:
+static void spi_async_callback (void *_msg )

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#541: FILE: drivers/spi/spi-core.c:353:
+	msg->status ( msg, SPIMSG_OK );

ERROR:SPACING: space prohibited after that open parenthesis '('
#541: FILE: drivers/spi/spi-core.c:353:
+	msg->status ( msg, SPIMSG_OK );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#541: FILE: drivers/spi/spi-core.c:353:
+	msg->status ( msg, SPIMSG_OK );

WARNING:LONG_LINE: line length of 101 exceeds 100 columns
#554: FILE: drivers/spi/spi-core.c:366:
+static struct spi_msg *spi_bus_fifo_retrieve (struct spi_bus_driver *this, struct spi_bus_data *data)

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#554: FILE: drivers/spi/spi-core.c:366:
+static struct spi_msg *spi_bus_fifo_retrieve (struct spi_bus_driver *this, struct spi_bus_data *data)

WARNING:LONG_LINE_COMMENT: line length of 102 exceeds 100 columns
#560: FILE: drivers/spi/spi-core.c:372:
+ * spi_bus_simple_retrieve -- retrieve message from the queue with taking into account previous target

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LONG_LINE_COMMENT: line length of 103 exceeds 100 columns
#565: FILE: drivers/spi/spi-core.c:377:
+ * this function is more complex than spi_bus_fifo_retrieve; it takes into account the already selected

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#569: FILE: drivers/spi/spi-core.c:381:
+static struct spi_msg *spi_bus_simple_retrieve( struct spi_bus_driver *this, struct spi_bus_data *data)

ERROR:SPACING: space prohibited after that open parenthesis '('
#569: FILE: drivers/spi/spi-core.c:381:
+static struct spi_msg *spi_bus_simple_retrieve( struct spi_bus_driver *this, struct spi_bus_data *data)

ERROR:SPACING: space prohibited after that open parenthesis '('
#601: FILE: drivers/spi/spi-core.c:413:
+static struct spi_msg *spi_bus_next_msg( struct spi_bus_driver *this, struct spi_bus_data *data)

ERROR:CODE_INDENT: code indent should use tabs where possible
#604: FILE: drivers/spi/spi-core.c:416:
+       ^I^Ireturn NULL;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#604: FILE: drivers/spi/spi-core.c:416:
+       ^I^Ireturn NULL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#604: FILE: drivers/spi/spi-core.c:416:
+       ^I^Ireturn NULL;$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#606: FILE: drivers/spi/spi-core.c:418:
+		return this->retrieve (this, data);

ERROR:SPACING: space prohibited after that open parenthesis '('
#607: FILE: drivers/spi/spi-core.c:419:
+	return spi_bus_fifo_retrieve( this, data );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#607: FILE: drivers/spi/spi-core.c:419:
+	return spi_bus_fifo_retrieve( this, data );

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#625: FILE: drivers/spi/spi-core.c:437:
+	wq = create_workqueue ( bd->id );

ERROR:SPACING: space prohibited after that open parenthesis '('
#625: FILE: drivers/spi/spi-core.c:437:
+	wq = create_workqueue ( bd->id );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#625: FILE: drivers/spi/spi-core.c:437:
+	wq = create_workqueue ( bd->id );

WARNING:LONG_LINE: line length of 105 exceeds 100 columns
#627: FILE: drivers/spi/spi-core.c:439:
+		pr_debug( "%s: cannot create workqueue, async callbacks will be unavailable\n", bd->id );

ERROR:SPACING: space prohibited after that open parenthesis '('
#627: FILE: drivers/spi/spi-core.c:439:
+		pr_debug( "%s: cannot create workqueue, async callbacks will be unavailable\n", bd->id );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#627: FILE: drivers/spi/spi-core.c:439:
+		pr_debug( "%s: cannot create workqueue, async callbacks will be unavailable\n", bd->id );

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#630: FILE: drivers/spi/spi-core.c:442:
+	while (!kthread_should_stop()) {
+

ERROR:SPACING: space prohibited after that open parenthesis '('
#642: FILE: drivers/spi/spi-core.c:454:
+			msg = spi_bus_next_msg( bd->bus, bd );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#642: FILE: drivers/spi/spi-core.c:454:
+			msg = spi_bus_next_msg( bd->bus, bd );

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#647: FILE: drivers/spi/spi-core.c:459:
+					bd->bus->deselect (bd->selected_device);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#650: FILE: drivers/spi/spi-core.c:462:
+					bd->bus->select (bd->selected_device);

ERROR:SPACING: space prohibited before that close parenthesis ')'
#669: FILE: drivers/spi/spi-core.c:481:
+				if (msg->flags & SPI_M_ASYNC_CB ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#670: FILE: drivers/spi/spi-core.c:482:
+					INIT_WORK( &msg->wq_item, spi_async_callback, msg );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#670: FILE: drivers/spi/spi-core.c:482:
+					INIT_WORK( &msg->wq_item, spi_async_callback, msg );

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#671: FILE: drivers/spi/spi-core.c:483:
+					queue_work (wq, &msg->wq_item );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#671: FILE: drivers/spi/spi-core.c:483:
+					queue_work (wq, &msg->wq_item );

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#693: FILE: drivers/spi/spi-core.c:505:
+		destroy_workqueue (wq);

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#705: FILE: drivers/spi/spi-core.c:517:
+ * Returns the number of bytes transferred, or negative error code.
+**/

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#724: FILE: drivers/spi/spi-core.c:536:
+ * Returns the number of bytes transferred, or negative error code.
+**/

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#754: FILE: drivers/spi/spi-core.c:566:
+		     void (*callback) (struct device * bus,

WARNING:SPACING: Unnecessary space before function pointer arguments
#754: FILE: drivers/spi/spi-core.c:566:
+		     void (*callback) (struct device * bus,

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#755: FILE: drivers/spi/spi-core.c:567:
+				       struct spi_device * new_dev))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#763: FILE: drivers/spi/spi-core.c:575:
+		if ((new_device = spi_device_add(parent, devices, NULL)) == NULL)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#774: FILE: drivers/spi/spi-core.c:586:
+int spi_bus_populate2(struct device *parent,
+			struct spi_device_desc* devices_s,

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#774: FILE: drivers/spi/spi-core.c:586:
+			struct spi_device_desc* devices_s,

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#775: FILE: drivers/spi/spi-core.c:587:
+			void (*callback) (struct device* bus,

WARNING:SPACING: Unnecessary space before function pointer arguments
#775: FILE: drivers/spi/spi-core.c:587:
+			void (*callback) (struct device* bus,

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#777: FILE: drivers/spi/spi-core.c:589:
+					  void* params))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#784: FILE: drivers/spi/spi-core.c:596:
+		dev_dbg(parent, " discovered new SPI device, name '%s'\n",
+				devices->name );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#784: FILE: drivers/spi/spi-core.c:596:
+				devices->name );

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#785: FILE: drivers/spi/spi-core.c:597:
+		if ((new_device = spi_device_add(parent, devices_s->name, devices_s->params)) == NULL)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#785: FILE: drivers/spi/spi-core.c:597:
+		if ((new_device = spi_device_add(parent, devices_s->name, devices_s->params)) == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#803: FILE: drivers/spi/spi-core.c:615:
+ *
+**/

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#804: FILE: drivers/spi/spi-core.c:616:
+void spi_bus_reset (struct device* bus, u32 context)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#804: FILE: drivers/spi/spi-core.c:616:
+void spi_bus_reset (struct device* bus, u32 context)

ERROR:SPACING: space prohibited after that open parenthesis '('
#807: FILE: drivers/spi/spi-core.c:619:
+		TO_SPI_BUS_DRIVER(bus->driver)->reset( bus, context );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#807: FILE: drivers/spi/spi-core.c:619:
+		TO_SPI_BUS_DRIVER(bus->driver)->reset( bus, context );

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#820: FILE: drivers/spi/spi-core.c:632:
+EXPORT_SYMBOL_GPL(spi_bus_reset);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#821: FILE: drivers/spi/spi-core.c:633:
+EXPORT_SYMBOL_GPL(spi_queue);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#822: FILE: drivers/spi/spi-core.c:634:
+EXPORT_SYMBOL_GPL(spi_device_add);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#823: FILE: drivers/spi/spi-core.c:635:
+EXPORT_SYMBOL_GPL(spi_bus_driver_unregister);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#824: FILE: drivers/spi/spi-core.c:636:
+EXPORT_SYMBOL_GPL(spi_bus_populate);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#825: FILE: drivers/spi/spi-core.c:637:
+EXPORT_SYMBOL_GPL(spi_bus_populate2);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#826: FILE: drivers/spi/spi-core.c:638:
+EXPORT_SYMBOL_GPL(spi_transfer);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#827: FILE: drivers/spi/spi-core.c:639:
+EXPORT_SYMBOL_GPL(spi_write);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#828: FILE: drivers/spi/spi-core.c:640:
+EXPORT_SYMBOL_GPL(spi_read);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#829: FILE: drivers/spi/spi-core.c:641:
+EXPORT_SYMBOL_GPL(spi_bus);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#830: FILE: drivers/spi/spi-core.c:642:
+EXPORT_SYMBOL_GPL(spi_bus_driver_init);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#831: FILE: drivers/spi/spi-core.c:643:
+EXPORT_SYMBOL_GPL(spi_bus_fifo_retrieve);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#832: FILE: drivers/spi/spi-core.c:644:
+EXPORT_SYMBOL_GPL(spi_bus_simple_retrieve);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#839: FILE: drivers/spi/spi-dev.c:1:
+/*

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#840: FILE: drivers/spi/spi-dev.c:2:
+/*
+    spi-dev.c - spi driver, char device interface

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#855: FILE: drivers/spi/spi-dev.c:17:
+    along with this program; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#856: FILE: drivers/spi/spi-dev.c:18:
+    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.$

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#870: FILE: drivers/spi/spi-dev.c:32:
+#include <asm/uaccess.h>

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#880: FILE: drivers/spi/spi-dev.c:42:
+			   loff_t * offset);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#882: FILE: drivers/spi/spi-dev.c:44:
+			    loff_t * offset);

WARNING:CONST_STRUCT: struct file_operations should normally be const
#893: FILE: drivers/spi/spi-dev.c:55:
+static struct file_operations spidev_fops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*drvdata)...) over kmalloc(sizeof(struct spidev_driver_data)...)
#918: FILE: drivers/spi/spi-dev.c:80:
+	drvdata = kmalloc(sizeof(struct spidev_driver_data), GFP_KERNEL);

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#920: FILE: drivers/spi/spi-dev.c:82:
+	if (!drvdata) {
+		dev_dbg(dev, "allocating drvdata failed\n");

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#947: FILE: drivers/spi/spi-dev.c:109:
+			   loff_t * offset)

WARNING:LINE_SPACING: Missing a blank line after declarations
#950: FILE: drivers/spi/spi-dev.c:112:
+	struct spi_device *dev = (struct spi_device *)file->private_data;
+	if (count > SPI_TRANSFER_MAX)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#956: FILE: drivers/spi/spi-dev.c:118:
+			    loff_t * offset)

WARNING:LINE_SPACING: Missing a blank line after declarations
#959: FILE: drivers/spi/spi-dev.c:121:
+	struct spi_device *dev = (struct spi_device *)file->private_data;
+	if (count > SPI_TRANSFER_MAX)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#977: FILE: drivers/spi/spi-dev.c:139:
+		pr_debug("%s: oops, drvdata is NULL !\n", __FUNCTION__);

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1000: FILE: drivers/spi/spi-dev.c:162:
+	if (status == 0) {
+		status = -ENODEV;
+	}

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1021: FILE: drivers/spi/spi-dev.c:183:
+	if ((res = register_chrdev(SPI_MAJOR, "spi", &spidev_fops)) != 0) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1021: FILE: drivers/spi/spi-dev.c:183:
+	if ((res = register_chrdev(SPI_MAJOR, "spi", &spidev_fops)) != 0) {
+		goto out;
+	}

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1027: FILE: drivers/spi/spi-dev.c:189:
+		printk(KERN_ERR "%s: error creating class\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1027: FILE: drivers/spi/spi-dev.c:189:
+		printk(KERN_ERR "%s: error creating class\n", __FUNCTION__);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1032: FILE: drivers/spi/spi-dev.c:194:
+	if ((res = spi_driver_add(&spidev_driver)) != 0)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1035: FILE: drivers/spi/spi-dev.c:197:
+	printk("SPI /dev entries driver.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1041: FILE: drivers/spi/spi-dev.c:203:
+	printk(KERN_ERR "%s: Driver initialization failed\n", __FILE__);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1063: FILE: Documentation/spi.txt:1:
+Documentation/spi.txt

WARNING:TYPO_SPELLING: 'approproate' may be misspelled - perhaps 'appropriate'?
#1225: FILE: Documentation/spi.txt:163:
+		device driver, if device driver provides approproate callback.
 		                                         ^^^^^^^^^^^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1450: FILE: include/linux/spi.h:1:
+/*

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1467: FILE: include/linux/spi.h:18:
+#define kzalloc(size,type) kcalloc(1,size,type)
                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1467: FILE: include/linux/spi.h:18:
+#define kzalloc(size,type) kcalloc(1,size,type)
                                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1467: FILE: include/linux/spi.h:18:
+#define kzalloc(size,type) kcalloc(1,size,type)
                                          ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1487: FILE: include/linux/spi.h:38:
+#define TO_SPI_BUS_DRIVER(drv) container_of( drv, struct spi_bus_driver, driver )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1487: FILE: include/linux/spi.h:38:
+#define TO_SPI_BUS_DRIVER(drv) container_of( drv, struct spi_bus_driver, driver )

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1489: FILE: include/linux/spi.h:40:
+^Iint ^I(*xfer) (struct spi_msg * msg);$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1489: FILE: include/linux/spi.h:40:
+	int 	(*xfer) (struct spi_msg * msg);

WARNING:SPACING: Unnecessary space before function pointer arguments
#1489: FILE: include/linux/spi.h:40:
+	int 	(*xfer) (struct spi_msg * msg);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1490: FILE: include/linux/spi.h:41:
+^Ivoid ^I(*select) (struct spi_device * dev);$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1490: FILE: include/linux/spi.h:41:
+	void 	(*select) (struct spi_device * dev);

WARNING:SPACING: Unnecessary space before function pointer arguments
#1490: FILE: include/linux/spi.h:41:
+	void 	(*select) (struct spi_device * dev);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1491: FILE: include/linux/spi.h:42:
+^Ivoid ^I(*deselect) (struct spi_device * dev);$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1491: FILE: include/linux/spi.h:42:
+	void 	(*deselect) (struct spi_device * dev);

WARNING:SPACING: Unnecessary space before function pointer arguments
#1491: FILE: include/linux/spi.h:42:
+	void 	(*deselect) (struct spi_device * dev);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1492: FILE: include/linux/spi.h:43:
+^Ivoid ^I(*set_clock) (struct device * bus_device, u32 clock_hz);$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1492: FILE: include/linux/spi.h:43:
+	void 	(*set_clock) (struct device * bus_device, u32 clock_hz);

WARNING:SPACING: Unnecessary space before function pointer arguments
#1492: FILE: include/linux/spi.h:43:
+	void 	(*set_clock) (struct device * bus_device, u32 clock_hz);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1493: FILE: include/linux/spi.h:44:
+^Ivoid ^I(*reset) (struct device *bus_device, u32 context);$

WARNING:SPACING: Unnecessary space before function pointer arguments
#1493: FILE: include/linux/spi.h:44:
+	void 	(*reset) (struct device *bus_device, u32 context);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1499: FILE: include/linux/spi.h:50:
+#define TO_SPI_DEV(device) container_of( device, struct spi_device, dev )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1499: FILE: include/linux/spi.h:50:
+#define TO_SPI_DEV(device) container_of( device, struct spi_device, dev )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1506: FILE: include/linux/spi.h:57:
+#define TO_SPI_DRIVER(drv) container_of( drv, struct spi_driver, driver )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1506: FILE: include/linux/spi.h:57:
+#define TO_SPI_DRIVER(drv) container_of( drv, struct spi_driver, driver )

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1508: FILE: include/linux/spi.h:59:
+^Ivoid ^I       *(*alloc) (size_t, int);$

WARNING:SPACING: Unnecessary space before function pointer arguments
#1508: FILE: include/linux/spi.h:59:
+	void 	       *(*alloc) (size_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'size_t' should also have an identifier name
#1508: FILE: include/linux/spi.h:59:
+	void 	       *(*alloc) (size_t, int);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1508: FILE: include/linux/spi.h:59:
+	void 	       *(*alloc) (size_t, int);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1509: FILE: include/linux/spi.h:60:
+^Ivoid ^I ^I(*free) (const void *);$

WARNING:SPACING: Unnecessary space before function pointer arguments
#1509: FILE: include/linux/spi.h:60:
+	void 	 	(*free) (const void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'const void *' should also have an identifier name
#1509: FILE: include/linux/spi.h:60:
+	void 	 	(*free) (const void *);

WARNING:SPACING: Unnecessary space before function pointer arguments
#1510: FILE: include/linux/spi.h:61:
+	unsigned char  *(*get_buffer) (struct spi_device *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct spi_device *' should also have an identifier name
#1510: FILE: include/linux/spi.h:61:
+	unsigned char  *(*get_buffer) (struct spi_device *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void *' should also have an identifier name
#1510: FILE: include/linux/spi.h:61:
+	unsigned char  *(*get_buffer) (struct spi_device *, void *);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1511: FILE: include/linux/spi.h:62:
+^Ivoid ^I^I(*release_buffer) (struct spi_device *, unsigned char *);$

WARNING:SPACING: Unnecessary space before function pointer arguments
#1511: FILE: include/linux/spi.h:62:
+	void 		(*release_buffer) (struct spi_device *, unsigned char *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct spi_device *' should also have an identifier name
#1511: FILE: include/linux/spi.h:62:
+	void 		(*release_buffer) (struct spi_device *, unsigned char *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned char *' should also have an identifier name
#1511: FILE: include/linux/spi.h:62:
+	void 		(*release_buffer) (struct spi_device *, unsigned char *);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1512: FILE: include/linux/spi.h:63:
+^Ivoid ^I^I(*control) (struct spi_device *, int mode, u32 ctl);$

WARNING:SPACING: Unnecessary space before function pointer arguments
#1512: FILE: include/linux/spi.h:63:
+	void 		(*control) (struct spi_device *, int mode, u32 ctl);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct spi_device *' should also have an identifier name
#1512: FILE: include/linux/spi.h:63:
+	void 		(*control) (struct spi_device *, int mode, u32 ctl);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1516: FILE: include/linux/spi.h:67:
+#define SPI_DEV_DRV( device )  TO_SPI_DRIVER( (device)->dev.driver )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1516: FILE: include/linux/spi.h:67:
+#define SPI_DEV_DRV( device )  TO_SPI_DRIVER( (device)->dev.driver )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1518: FILE: include/linux/spi.h:69:
+#define spi_device_lock( dev )		/* down( dev->dev.sem ) */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1518: FILE: include/linux/spi.h:69:
+#define spi_device_lock( dev )		/* down( dev->dev.sem ) */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1519: FILE: include/linux/spi.h:70:
+#define spi_device_unlock( dev )	/* up( dev->dev.sem ) */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1519: FILE: include/linux/spi.h:70:
+#define spi_device_unlock( dev )	/* up( dev->dev.sem ) */

WARNING:LONG_LINE_COMMENT: line length of 110 exceeds 100 columns
#1524: FILE: include/linux/spi.h:75:
+ * This structure represent the SPI message internally. You should never use fields of this structure directly

WARNING:TYPO_SPELLING: 'begining' may be misspelled - perhaps 'beginning'?
#1533: FILE: include/linux/spi.h:84:
+#define SPI_M_CS	0x00000008	/**< CS active level at begining of frame ( default low ) */
                 	          	                        ^^^^^^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1536: FILE: include/linux/spi.h:87:
+#define SPI_M_EXTBUF^I0x80000000    ^I/** externally allocated buffers */$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1548: FILE: include/linux/spi.h:99:
+	void (*status) (struct spi_msg * msg, int code);

WARNING:SPACING: Unnecessary space before function pointer arguments
#1548: FILE: include/linux/spi.h:99:
+	void (*status) (struct spi_msg * msg, int code);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1557: FILE: include/linux/spi.h:108:
+					   unsigned flags,

WARNING:SPACING: Unnecessary space before function pointer arguments
#1559: FILE: include/linux/spi.h:110:
+					   void (*status) (struct spi_msg *,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1564: FILE: include/linux/spi.h:115:
+	int msgsize = sizeof (struct spi_msg);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1566: FILE: include/linux/spi.h:117:
+	if (drv->alloc || (flags & (SPI_M_RD|SPI_M_WR)) == (SPI_M_RD | SPI_M_WR ) ) {
 	                                    ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1566: FILE: include/linux/spi.h:117:
+	if (drv->alloc || (flags & (SPI_M_RD|SPI_M_WR)) == (SPI_M_RD | SPI_M_WR ) ) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1567: FILE: include/linux/spi.h:118:
+		pr_debug ( "%s: external buffers\n", __FUNCTION__ );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1567: FILE: include/linux/spi.h:118:
+		pr_debug ( "%s: external buffers\n", __FUNCTION__ );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1567: FILE: include/linux/spi.h:118:
+		pr_debug ( "%s: external buffers\n", __FUNCTION__ );

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1567: FILE: include/linux/spi.h:118:
+		pr_debug ( "%s: external buffers\n", __FUNCTION__ );

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#1570: FILE: include/linux/spi.h:121:
+		pr_debug ("%s: no ext buffers, msgsize increased from %d by %d to %d\n", __FUNCTION__,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1570: FILE: include/linux/spi.h:121:
+		pr_debug ("%s: no ext buffers, msgsize increased from %d by %d to %d\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1570: FILE: include/linux/spi.h:121:
+		pr_debug ("%s: no ext buffers, msgsize increased from %d by %d to %d\n", __FUNCTION__,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1571: FILE: include/linux/spi.h:122:
+		pr_debug ("%s: no ext buffers, msgsize increased from %d by %d to %d\n", __FUNCTION__,
+				msgsize, len, msgsize + len );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1571: FILE: include/linux/spi.h:122:
+				msgsize, len, msgsize + len );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1575: FILE: include/linux/spi.h:126:
+	msg = kmalloc( msgsize, GFP_KERNEL);

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1585: FILE: include/linux/spi.h:136:
+	if (flags & SPI_M_DNA )

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1590: FILE: include/linux/spi.h:141:
+		msg->databuf_rd = msg->databuf_wr =

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1591: FILE: include/linux/spi.h:142:
+			(u8*)msg + sizeof ( struct spi_msg);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1591: FILE: include/linux/spi.h:142:
+			(u8*)msg + sizeof ( struct spi_msg);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1591: FILE: include/linux/spi.h:142:
+			(u8*)msg + sizeof ( struct spi_msg);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1595: FILE: include/linux/spi.h:146:
+^I^I    ^I^Idrv->alloc(len, GFP_KERNEL) : kmalloc(len, GFP_KERNEL);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1595: FILE: include/linux/spi.h:146:
+^I^I    ^I^Idrv->alloc(len, GFP_KERNEL) : kmalloc(len, GFP_KERNEL);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1597: FILE: include/linux/spi.h:148:
+^I^I    ^I^Idrv->get_buffer(device, msg->devbuf_rd) : msg->devbuf_rd;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1597: FILE: include/linux/spi.h:148:
+^I^I    ^I^Idrv->get_buffer(device, msg->devbuf_rd) : msg->devbuf_rd;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1601: FILE: include/linux/spi.h:152:
+^I^I    ^I^Idrv->alloc(len, GFP_KERNEL) : kmalloc(len, GFP_KERNEL);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1601: FILE: include/linux/spi.h:152:
+^I^I    ^I^Idrv->alloc(len, GFP_KERNEL) : kmalloc(len, GFP_KERNEL);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1603: FILE: include/linux/spi.h:154:
+^I^I    ^I^Idrv->get_buffer(device, msg->devbuf_wr) : msg->devbuf_wr;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1603: FILE: include/linux/spi.h:154:
+^I^I    ^I^Idrv->get_buffer(device, msg->devbuf_wr) : msg->devbuf_wr;$

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1607: FILE: include/linux/spi.h:158:
+		 __FUNCTION__,

WARNING:SPACING: Unnecessary space before function pointer arguments
#1618: FILE: include/linux/spi.h:169:
+	void (*do_free) (const void *) = kfree;

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1622: FILE: include/linux/spi.h:173:
+	if (msg) {
+

ERROR:SPACING: space prohibited after that open parenthesis '('
#1623: FILE: include/linux/spi.h:174:
+		if ( !(msg->flags & SPI_M_DNA) || (msg->flags & SPI_M_EXTBUF) ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1623: FILE: include/linux/spi.h:174:
+		if ( !(msg->flags & SPI_M_DNA) || (msg->flags & SPI_M_EXTBUF) ) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1658: FILE: include/linux/spi.h:209:
+		printk(KERN_ERR "%s: what buffer do you really want ?\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1659: FILE: include/linux/spi.h:210:
+		       __FUNCTION__);

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1668: FILE: include/linux/spi.h:219:
+static inline void spimsg_set_rd( struct spi_msg* msg, void* buf )

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1668: FILE: include/linux/spi.h:219:
+static inline void spimsg_set_rd( struct spi_msg* msg, void* buf )

ERROR:SPACING: space prohibited after that open parenthesis '('
#1668: FILE: include/linux/spi.h:219:
+static inline void spimsg_set_rd( struct spi_msg* msg, void* buf )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1668: FILE: include/linux/spi.h:219:
+static inline void spimsg_set_rd( struct spi_msg* msg, void* buf )

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1673: FILE: include/linux/spi.h:224:
+static inline void spimsg_set_wr (struct spi_msg *msg, void *buf )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1673: FILE: include/linux/spi.h:224:
+static inline void spimsg_set_wr (struct spi_msg *msg, void *buf )

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1678: FILE: include/linux/spi.h:229:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1679: FILE: include/linux/spi.h:230:
+#define SPIMSG_OK ^I0x01$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1680: FILE: include/linux/spi.h:231:
+#define SPIMSG_FAILED ^I0x80$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1689: FILE: include/linux/spi.h:240:
+static inline int spi_bus_driver_register (struct spi_bus_driver *bus_driver )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1689: FILE: include/linux/spi.h:240:
+static inline int spi_bus_driver_register (struct spi_bus_driver *bus_driver )

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1691: FILE: include/linux/spi.h:242:
+	return driver_register (&bus_driver->driver);

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1696: FILE: include/linux/spi.h:247:
+struct spi_device* spi_device_add(struct device *parent, char *name, void *private);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1702: FILE: include/linux/spi.h:253:
+}
+static inline int spi_driver_add(struct spi_driver *drv)

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1707: FILE: include/linux/spi.h:258:
+}
+static inline void spi_driver_del(struct spi_driver *drv)

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1714: FILE: include/linux/spi.h:265:
+extern void spi_bus_reset(struct device* bus, u32 context);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1714: FILE: include/linux/spi.h:265:
+extern void spi_bus_reset(struct device* bus, u32 context);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1715: FILE: include/linux/spi.h:266:
+extern int spi_write(struct spi_device *dev, const char *buf, int len);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1716: FILE: include/linux/spi.h:267:
+extern int spi_read(struct spi_device *dev, char *buf, int len);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1718: FILE: include/linux/spi.h:269:
+extern int spi_queue(struct spi_msg *message);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1719: FILE: include/linux/spi.h:270:
+extern int spi_transfer(struct spi_msg *message,

WARNING:SPACING: Unnecessary space before function pointer arguments
#1720: FILE: include/linux/spi.h:271:
+			void (*status) (struct spi_msg *, int));

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1721: FILE: include/linux/spi.h:272:
+extern int spi_bus_populate(struct device *parent, char *device,

WARNING:SPACING: Unnecessary space before function pointer arguments
#1722: FILE: include/linux/spi.h:273:
+			    void (*assign) (struct device *parent,

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1725: FILE: include/linux/spi.h:276:
+	char* name;

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1726: FILE: include/linux/spi.h:277:
+	void* params;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1728: FILE: include/linux/spi.h:279:
+};
+extern int spi_bus_populate2(struct device *parent,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1728: FILE: include/linux/spi.h:279:
+extern int spi_bus_populate2(struct device *parent,

WARNING:SPACING: Unnecessary space before function pointer arguments
#1730: FILE: include/linux/spi.h:281:
+			     void (*assign) (struct device *parent,

ERROR:CODE_INDENT: code indent should use tabs where possible
#1731: FILE: include/linux/spi.h:282:
+^I^I^I^I             struct spi_device *,$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1731: FILE: include/linux/spi.h:282:
+			     void (*assign) (struct device *parent,
+				             struct spi_device *,

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000135638.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 93 errors, 129 warnings, 21 checks, 1598 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000135638.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
