WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#28: 
Add driver for the Satelco Easywatch Mobile DVB-T card (based on Pluto2 chip).

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#70: FILE: drivers/media/dvb/pluto2/pluto2.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#76: FILE: drivers/media/dvb/pluto2/pluto2.c:7:
+ * ^Iby Dany Salman <salmandany@yahoo.fr>$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#90: FILE: drivers/media/dvb/pluto2/pluto2.c:21:
+ * along with this program; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#91: FILE: drivers/media/dvb/pluto2/pluto2.c:22:
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.$

CHECK:CAMELCASE: Avoid CamelCase: <PIDn_ENP>
#122: FILE: drivers/media/dvb/pluto2/pluto2.c:53:
+#define PIDn_ENP		(0x0001 << 15)

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <PIDn_PID>
#125: FILE: drivers/media/dvb/pluto2/pluto2.c:56:
+#define PIDn_PID		(0x1fff <<  0)

WARNING:LINE_SPACING: Missing a blank line after declarations
#214: FILE: drivers/media/dvb/pluto2/pluto2.c:145:
+	u32 val = readl(&pluto->io_mem[reg]);
+	val &= ~mask;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#239: FILE: drivers/media/dvb/pluto2/pluto2.c:170:
+	 * reset SDA to high after SCL has been set to low */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pluto->i2cbug == 0'
#240: FILE: drivers/media/dvb/pluto2/pluto2.c:171:
+	if ((state) && (pluto->i2cbug == 0)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '!state'
#243: FILE: drivers/media/dvb/pluto2/pluto2.c:174:
+		if ((!state) && (pluto->i2cbug == 1))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pluto->i2cbug == 1'
#243: FILE: drivers/media/dvb/pluto2/pluto2.c:174:
+		if ((!state) && (pluto->i2cbug == 1))

WARNING:TYPO_SPELLING: 'reenable' may be misspelled - perhaps 're-enable'?
#263: FILE: drivers/media/dvb/pluto2/pluto2.c:194:
+static void pluto_reset_frontend(struct pluto *pluto, int reenable)
                                                           ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'reenable' may be misspelled - perhaps 're-enable'?
#271: FILE: drivers/media/dvb/pluto2/pluto2.c:202:
+	if (reenable) {
 	    ^^^^^^^^

WARNING:TYPO_SPELLING: 'reenable' may be misspelled - perhaps 're-enable'?
#277: FILE: drivers/media/dvb/pluto2/pluto2.c:208:
+static void pluto_reset_ts(struct pluto *pluto, int reenable)
                                                     ^^^^^^^^

WARNING:TYPO_SPELLING: 'reenable' may be misspelled - perhaps 're-enable'?
#285: FILE: drivers/media/dvb/pluto2/pluto2.c:216:
+	if (reenable) {
 	    ^^^^^^^^

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#296: FILE: drivers/media/dvb/pluto2/pluto2.c:227:
+static int __devinit pluto_dma_map(struct pluto *pluto)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#299: FILE: drivers/media/dvb/pluto2/pluto2.c:230:
+	pluto->dma_addr = pci_map_single(pluto->pdev, pluto->dma_buf,
+			TS_DMA_BYTES, PCI_DMA_FROMDEVICE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#307: FILE: drivers/media/dvb/pluto2/pluto2.c:238:
+	pci_unmap_single(pluto->pdev, pluto->dma_addr,
+			TS_DMA_BYTES, PCI_DMA_FROMDEVICE);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'f->pid < 0x2000'
#318: FILE: drivers/media/dvb/pluto2/pluto2.c:249:
+	if ((f->pid < 0x2000) && (f->index < NHWFILTERS))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'f->index < NHWFILTERS'
#318: FILE: drivers/media/dvb/pluto2/pluto2.c:249:
+	if ((f->pid < 0x2000) && (f->index < NHWFILTERS))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'f->pid < 0x2000'
#334: FILE: drivers/media/dvb/pluto2/pluto2.c:265:
+	if ((f->pid < 0x2000) && (f->index < NHWFILTERS))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'f->index < NHWFILTERS'
#334: FILE: drivers/media/dvb/pluto2/pluto2.c:265:
+	if ((f->pid < 0x2000) && (f->index < NHWFILTERS))

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#345: FILE: drivers/media/dvb/pluto2/pluto2.c:276:
+	 * first so that we see updated contents. */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#347: FILE: drivers/media/dvb/pluto2/pluto2.c:278:
+	pci_dma_sync_single_for_cpu(pluto->pdev, pluto->dma_addr,
+			TS_DMA_BYTES, PCI_DMA_FROMDEVICE);

WARNING:TYPO_SPELLING: 'transfered' may be misspelled - perhaps 'transferred'?
#351: FILE: drivers/media/dvb/pluto2/pluto2.c:282:
+	 *     but no packets have been transfered.
 	                                ^^^^^^^^^^

WARNING:TYPO_SPELLING: 'transfered' may be misspelled - perhaps 'transferred'?
#353: FILE: drivers/media/dvb/pluto2/pluto2.c:284:
+	 *     although one packet has been transfered.
 	                                    ^^^^^^^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'nbpackets == 0'
#355: FILE: drivers/media/dvb/pluto2/pluto2.c:286:
+	if ((nbpackets == 0) || (nbpackets > TS_DMA_PACKETS)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'nbpackets > TS_DMA_PACKETS'
#355: FILE: drivers/media/dvb/pluto2/pluto2.c:286:
+	if ((nbpackets == 0) || (nbpackets > TS_DMA_PACKETS)) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#357: FILE: drivers/media/dvb/pluto2/pluto2.c:288:
+		unsigned int i = 0, valid;
+		while (pluto->dma_buf[i] == 0x47)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#362: FILE: drivers/media/dvb/pluto2/pluto2.c:293:
+			dev_err(&pluto->pdev->dev, "nbpackets=%u valid=%u\n",
+					nbpackets, valid);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#370: FILE: drivers/media/dvb/pluto2/pluto2.c:301:
+	 * new valid ts packets above */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#378: FILE: drivers/media/dvb/pluto2/pluto2.c:309:
+	pci_dma_sync_single_for_device(pluto->pdev, pluto->dma_addr,
+			TS_DMA_BYTES, PCI_DMA_FROMDEVICE);

WARNING:TYPO_SPELLING: 'occured' may be misspelled - perhaps 'occurred'?
#386: FILE: drivers/media/dvb/pluto2/pluto2.c:317:
+	/* check whether an interrupt occured on this device */
 	                              ^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#405: FILE: drivers/media/dvb/pluto2/pluto2.c:336:
+			dev_err(&pluto->pdev->dev, "overflow irq (%d)\n",
+					pluto->overflow);

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#419: FILE: drivers/media/dvb/pluto2/pluto2.c:350:
+static void __devinit pluto_enable_irqs(struct pluto *pluto)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#448: FILE: drivers/media/dvb/pluto2/pluto2.c:379:
+static int __devinit pluto_hw_init(struct pluto *pluto)

WARNING:TYPO_SPELLING: 'endianess' may be misspelled - perhaps 'endianness'?
#455: FILE: drivers/media/dvb/pluto2/pluto2.c:386:
+	/* set data endianess */
 	            ^^^^^^^^^

WARNING:HOTPLUG_SECTION: Using __devinitdata is unnecessary
#565: FILE: drivers/media/dvb/pluto2/pluto2.c:496:
+static struct tda1004x_config pluto2_fe_config __devinitdata = {

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#577: FILE: drivers/media/dvb/pluto2/pluto2.c:508:
+static int __devinit frontend_init(struct pluto *pluto)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#597: FILE: drivers/media/dvb/pluto2/pluto2.c:528:
+static void __devinit pluto_read_rev(struct pluto *pluto)

WARNING:LINE_SPACING: Missing a blank line after declarations
#600: FILE: drivers/media/dvb/pluto2/pluto2.c:531:
+	u32 val = pluto_readreg(pluto, REG_MISC) & MISC_DVR;
+	dev_info(&pluto->pdev->dev, "board revision %d.%d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#601: FILE: drivers/media/dvb/pluto2/pluto2.c:532:
+	dev_info(&pluto->pdev->dev, "board revision %d.%d\n",
+			(val >> 12) & 0x0f, (val >> 4) & 0xff);

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#604: FILE: drivers/media/dvb/pluto2/pluto2.c:535:
+static void __devinit pluto_read_mac(struct pluto *pluto, u8 *mac)

WARNING:LINE_SPACING: Missing a blank line after declarations
#607: FILE: drivers/media/dvb/pluto2/pluto2.c:538:
+	u32 val = pluto_readreg(pluto, REG_MMAC);
+	mac[0] = (val >> 8) & 0xff;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#619: FILE: drivers/media/dvb/pluto2/pluto2.c:550:
+	dev_info(&pluto->pdev->dev, "MAC %02x:%02x:%02x:%02x:%02x:%02x\n",
+			mac[0], mac[1], mac[2], mac[3], mac[4], mac[5]);

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#622: FILE: drivers/media/dvb/pluto2/pluto2.c:553:
+static int __devinit pluto_read_serial(struct pluto *pluto)

WARNING:LINE_SPACING: Missing a blank line after declarations
#636: FILE: drivers/media/dvb/pluto2/pluto2.c:567:
+		u32 val = readl(&cis[i]);
+		for (j = 0; j < 32; j += 8) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#639: FILE: drivers/media/dvb/pluto2/pluto2.c:570:
+			printk("%c", val & 0xff);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#644: FILE: drivers/media/dvb/pluto2/pluto2.c:575:
+	printk("\n");

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#650: FILE: drivers/media/dvb/pluto2/pluto2.c:581:
+static int __devinit pluto2_probe(struct pci_dev *pdev,

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*pluto)...) over kmalloc(sizeof(struct pluto)...)
#659: FILE: drivers/media/dvb/pluto2/pluto2.c:590:
+	pluto = kmalloc(sizeof(struct pluto), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#806: FILE: drivers/media/dvb/pluto2/pluto2.c:737:
+static void __devexit pluto2_remove(struct pci_dev *pdev)

WARNING:HOTPLUG_SECTION: Using __devinitdata is unnecessary
#841: FILE: drivers/media/dvb/pluto2/pluto2.c:772:
+static struct pci_device_id pluto2_id_table[] __devinitdata = {

WARNING:DEPRECATED_VARIABLE: Use of EXTRA_CFLAGS is deprecated, please use `ccflags-y instead.
#884: FILE: drivers/media/dvb/pluto2/Makefile:3:
+EXTRA_CFLAGS = -Idrivers/media/dvb/dvb-core/ -Idrivers/media/dvb/frontends/

EXTRA_{A,C,CPP,LD}FLAGS are deprecated and should be replaced by the new
flags added via commit f77bf01425b1 ("kbuild: introduce ccflags-y,
asflags-y and ldflags-y").

The following conversion scheme maybe used::

  EXTRA_AFLAGS    ->  asflags-y
  EXTRA_CFLAGS    ->  ccflags-y
  EXTRA_CPPFLAGS  ->  cppflags-y
  EXTRA_LDFLAGS   ->  ldflags-y

See:

  1. https://lore.kernel.org/lkml/20070930191054.GA15876@uranus.ravnborg.org/
  2. https://lore.kernel.org/lkml/1313384834-24433-12-git-send-email-lacombar@gmail.com/
  3. https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#compilation-flags

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000172740.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 2 errors, 33 warnings, 20 checks, 841 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000172740.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
