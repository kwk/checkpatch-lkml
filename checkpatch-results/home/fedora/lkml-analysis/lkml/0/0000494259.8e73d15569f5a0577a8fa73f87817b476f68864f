WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#32: 
The following patches are meant for the forthcoming Summit chipset for a new 

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#138: FILE: arch/i386/kernel/io_apic.c:593:
+	static unsigned	next_cpu = 0;

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#138: FILE: arch/i386/kernel/io_apic.c:593:
+	static unsigned	next_cpu = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#141: FILE: arch/i386/kernel/io_apic.c:596:
+		if (next_cpu >= NR_CPUS)

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#147: FILE: arch/i386/kernel/io_apic.c:602:
+		return (val);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#153: FILE: arch/i386/kernel/io_apic.c:608:
+	return (0);

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#188: FILE: arch/i386/kernel/io_apic.c:1013:
+#if 0

CHECK:SPACING: No space is necessary after a cast
#191: FILE: arch/i386/kernel/io_apic.c:1016:
+		phys_id_present_map = (u_long) 0xf;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#242: FILE: arch/i386/kernel/mpparse.c:69:
+unsigned char clustered_apic_mode = 0;

Global variables should not be initialized explicitly to
0 (or NULL, false, etc.).  Your compiler (or rather your
loader, which is responsible for zeroing out the relevant
sections) automatically does it for you.

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#243: FILE: arch/i386/kernel/mpparse.c:70:
+unsigned char clustered_apic_physical = 0;

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#244: FILE: arch/i386/kernel/mpparse.c:71:
+unsigned char esr_disable = 0;

CHECK:CAMELCASE: Avoid CamelCase: <dest_LowestPrio>
#246: FILE: arch/i386/kernel/mpparse.c:73:
+unsigned char int_delivery_mode = dest_LowestPrio;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:SPACING: No space is necessary after a cast
#247: FILE: arch/i386/kernel/mpparse.c:74:
+unsigned char int_dest_addr_mode = (unsigned char) APIC_DEST_LOGICAL;

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#272: FILE: arch/i386/kernel/mpparse.c:239:
+	logical_cpu_present_map |= 1 << (num_processors-1);
 	                                               ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#309: FILE: arch/i386/kernel/mpparse.c:431:
+^Iif (!strncmp(str, "IBM ENSW", 8)) $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#351: FILE: arch/i386/kernel/mpparse.c:530:
+		clustered_apic_mode = (unsigned char) 1;

CHECK:SPACING: No space is necessary after a cast
#352: FILE: arch/i386/kernel/mpparse.c:531:
+		clustered_apic_physical = (unsigned char) xapic;

CHECK:CAMELCASE: Avoid CamelCase: <dest_Fixed>
#357: FILE: arch/i386/kernel/mpparse.c:536:
+		int_delivery_mode = (xapic ? dest_Fixed : dest_LowestPrio);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#366: FILE: arch/i386/kernel/mpparse.c:545:
+	printk("Enabling APIC mode:  %s.  Using %d I/O APICs\n",

WARNING:LONG_LINE: line length of 109 exceeds 100 columns
#367: FILE: arch/i386/kernel/mpparse.c:546:
+		(clustered_apic_mode ? (clustered_apic_logical ? "Clustered Logical" : "Physical") : "Flat"),

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#367: FILE: arch/i386/kernel/mpparse.c:546:
+	printk("Enabling APIC mode:  %s.  Using %d I/O APICs\n",
+		(clustered_apic_mode ? (clustered_apic_logical ? "Clustered Logical" : "Physical") : "Flat"),

ERROR:CODE_INDENT: code indent should use tabs where possible
#381: FILE: arch/i386/kernel/process.c:189:
+ ^I^I^I^Ihave set up boot_cpu_physical_apicid or smp_num_cpu */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#381: FILE: arch/i386/kernel/process.c:189:
+ ^I^I^I^Ihave set up boot_cpu_physical_apicid or smp_num_cpu */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#381: FILE: arch/i386/kernel/process.c:189:
+ 				have set up boot_cpu_physical_apicid or smp_num_cpu */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:CODE_INDENT: code indent should use tabs where possible
#480: FILE: arch/i386/kernel/smpboot.c:981:
+        if (clustered_apic_logical) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#480: FILE: arch/i386/kernel/smpboot.c:981:
+        if (clustered_apic_logical) {$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#507: FILE: arch/i386/kernel/smpboot.c:1121:
+			printk("CPU #%d/0x%02x not responding - cannot use it.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#508: FILE: arch/i386/kernel/smpboot.c:1122:
+			printk("CPU #%d/0x%02x not responding - cannot use it.\n",
+								bit, apicid);

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#535: FILE: include/asm-i386/apicdef.h:15:
+#define			APIC_ID_MASK		(0xFF<<24)
        			            		     ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#536: FILE: include/asm-i386/apicdef.h:16:
+#define			GET_APIC_ID(x)		(((x)>>24)&0xFF)
        			              		     ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#536: FILE: include/asm-i386/apicdef.h:16:
+#define			GET_APIC_ID(x)		(((x)>>24)&0xFF)
        			              		          ^

CHECK:CAMELCASE: Avoid CamelCase: <xAPIC_VERSION_NUM>
#548: FILE: include/asm-i386/apicdef.h:28:
+#define			xAPIC_VERSION_NUM	17	/* xAPICs at 17+ */

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#656: FILE: include/asm-i386/smp.h:33:
+   extern unsigned char clustered_apic_mode;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#657: FILE: include/asm-i386/smp.h:34:
+   extern unsigned char clustered_apic_physical;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#658: FILE: include/asm-i386/smp.h:35:
+   extern unsigned char esr_disable;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#659: FILE: include/asm-i386/smp.h:36:
+   extern unsigned char target_cpus;        /* if target_cpus = 0, use cpu_online_map */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#660: FILE: include/asm-i386/smp.h:37:
+   extern unsigned char int_delivery_mode;  /* if target_cpus = 0, use default of 1   */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#661: FILE: include/asm-i386/smp.h:38:
+   extern unsigned char int_dest_addr_mode;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#662: FILE: include/asm-i386/smp.h:39:
+   extern unsigned int apic_broadcast_id;$

WARNING:INLINE: plain inline is preferred over __inline
#715: FILE: include/asm-i386/smp.h:121:
+extern __inline int logical_smp_processor_id(void)

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#751: FILE: include/asm-i386/smpboot.h:8:
+#define TRAMPOLINE_LOW phys_to_virt(clustered_apic_logical?0x8:0x467)
                                                           ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#751: FILE: include/asm-i386/smpboot.h:8:
+#define TRAMPOLINE_LOW phys_to_virt(clustered_apic_logical?0x8:0x467)
                                                               ^

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#752: FILE: include/asm-i386/smpboot.h:9:
+#define TRAMPOLINE_HIGH phys_to_virt(clustered_apic_logical?0xa:0x469)
                                                            ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#752: FILE: include/asm-i386/smpboot.h:9:
+#define TRAMPOLINE_HIGH phys_to_virt(clustered_apic_logical?0xa:0x469)
                                                                ^

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#754: FILE: include/asm-i386/smpboot.h:11:
+#define boot_cpu_apicid (clustered_apic_logical?boot_cpu_logical_apicid:boot_cpu_physical_apicid)
                                                ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#754: FILE: include/asm-i386/smpboot.h:11:
+#define boot_cpu_apicid (clustered_apic_logical?boot_cpu_logical_apicid:boot_cpu_physical_apicid)
                                                                        ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#773: FILE: include/asm-i386/smpboot.h:24:
+#define physical_to_logical_apicid(phys_apic) ( (1UL << (phys_apic & 0x3)) | (phys_apic & 0xF0U) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#773: FILE: include/asm-i386/smpboot.h:24:
+#define physical_to_logical_apicid(phys_apic) ( (1UL << (phys_apic & 0x3)) | (phys_apic & 0xF0U) )

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'phys_apic' - possible side-effects?
#773: FILE: include/asm-i386/smpboot.h:24:
+#define physical_to_logical_apicid(phys_apic) ( (1UL << (phys_apic & 0x3)) | (phys_apic & 0xF0U) )

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'phys_apic' may be better as '(phys_apic)' to avoid precedence issues
#773: FILE: include/asm-i386/smpboot.h:24:
+#define physical_to_logical_apicid(phys_apic) ( (1UL << (phys_apic & 0x3)) | (phys_apic & 0xF0U) )

WARNING:LONG_LINE: line length of 109 exceeds 100 columns
#785: FILE: include/asm-i386/smpboot.h:36:
+ #define apic_ldr_value(value)	(((value) & ~APIC_LDR_MASK) | SET_APIC_LOGICAL_ID(1UL << smp_processor_id()))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#792: FILE: include/asm-i386/smpboot.h:43:
+ *^Iuse $

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'mps_cpu' - possible side-effects?
#795: FILE: include/asm-i386/smpboot.h:46:
+#define cpu_present_to_apicid(mps_cpu)	(clustered_apic_logical ? \
+ 	( ((mps_cpu / 4) * 16) + (1 << (mps_cpu % 4)) ) : \
+	 (clustered_apic_physical ? raw_phys_apicid[mps_cpu] : (mps_cpu) ) )

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'mps_cpu' may be better as '(mps_cpu)' to avoid precedence issues
#795: FILE: include/asm-i386/smpboot.h:46:
+#define cpu_present_to_apicid(mps_cpu)	(clustered_apic_logical ? \
+ 	( ((mps_cpu / 4) * 16) + (1 << (mps_cpu % 4)) ) : \
+	 (clustered_apic_physical ? raw_phys_apicid[mps_cpu] : (mps_cpu) ) )

ERROR:CODE_INDENT: code indent should use tabs where possible
#796: FILE: include/asm-i386/smpboot.h:47:
+ ^I( ((mps_cpu / 4) * 16) + (1 << (mps_cpu % 4)) ) : \$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#796: FILE: include/asm-i386/smpboot.h:47:
+ ^I( ((mps_cpu / 4) * 16) + (1 << (mps_cpu % 4)) ) : \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#796: FILE: include/asm-i386/smpboot.h:47:
+ ^I( ((mps_cpu / 4) * 16) + (1 << (mps_cpu % 4)) ) : \$

ERROR:SPACING: space prohibited after that open parenthesis '('
#796: FILE: include/asm-i386/smpboot.h:47:
+ 	( ((mps_cpu / 4) * 16) + (1 << (mps_cpu % 4)) ) : \

ERROR:SPACING: space prohibited before that close parenthesis ')'
#796: FILE: include/asm-i386/smpboot.h:47:
+ 	( ((mps_cpu / 4) * 16) + (1 << (mps_cpu % 4)) ) : \

ERROR:SPACING: space prohibited before that close parenthesis ')'
#797: FILE: include/asm-i386/smpboot.h:48:
+	 (clustered_apic_physical ? raw_phys_apicid[mps_cpu] : (mps_cpu) ) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#799: FILE: include/asm-i386/smpboot.h:50:
+#define apicid_to_phys_cpu_present(apicid)	(1UL << (((apicid >> 4) << 2) + (apicid & 0x3)) )

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'apicid' - possible side-effects?
#799: FILE: include/asm-i386/smpboot.h:50:
+#define apicid_to_phys_cpu_present(apicid)	(1UL << (((apicid >> 4) << 2) + (apicid & 0x3)) )

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'apicid' may be better as '(apicid)' to avoid precedence issues
#799: FILE: include/asm-i386/smpboot.h:50:
+#define apicid_to_phys_cpu_present(apicid)	(1UL << (((apicid >> 4) << 2) + (apicid & 0x3)) )

WARNING:LONG_LINE: line length of 122 exceeds 100 columns
#823: FILE: include/asm-i386/smpboot.h:69:
+#define boot_apicid_to_cpu(apicid) (clustered_apic_logical ? logical_apicid_2_cpu[apicid] : physical_apicid_2_cpu[apicid])

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'apicid' - possible side-effects?
#823: FILE: include/asm-i386/smpboot.h:69:
+#define boot_apicid_to_cpu(apicid) (clustered_apic_logical ? logical_apicid_2_cpu[apicid] : physical_apicid_2_cpu[apicid])

WARNING:LONG_LINE: line length of 113 exceeds 100 columns
#824: FILE: include/asm-i386/smpboot.h:70:
+#define cpu_to_boot_apicid(cpu) (clustered_apic_logical ? cpu_2_logical_apicid[cpu] : cpu_2_physical_apicid[cpu])

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'cpu' - possible side-effects?
#824: FILE: include/asm-i386/smpboot.h:70:
+#define cpu_to_boot_apicid(cpu) (clustered_apic_logical ? cpu_2_logical_apicid[cpu] : cpu_2_physical_apicid[cpu])

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000494259.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 17 errors, 23 warnings, 27 checks, 676 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000494259.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
