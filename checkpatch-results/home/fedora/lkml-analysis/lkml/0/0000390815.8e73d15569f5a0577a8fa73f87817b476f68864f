WARNING:TYPO_SPELLING: 'compatability' may be misspelled - perhaps 'compatibility'?
#12: 
Subject: [PATCH] s390 (13/13): 31 bit compatability layer.
                                      ^^^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'compatability' may be misspelled - perhaps 'compatibility'?
#24: 
Fixes for the 31 bit compatability layer:
                     ^^^^^^^^^^^^^

WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#35: 
diff -urN linux-2.5.62/arch/s390x/kernel/binfmt_elf32.c linux-2.5.62-s390/arch/s390x/kernel/binfmt_elf32.c

WARNING:INLINE: plain inline is preferred over __inline__
#91: FILE: arch/s390x/kernel/binfmt_elf32.c:187:
+static __inline__ void

ERROR:TRAILING_WHITESPACE: trailing whitespace
#107: FILE: arch/s390x/kernel/binfmt_elf32.c:201:
+^Iif (!addr) $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#108: FILE: arch/s390x/kernel/binfmt_elf32.c:202:
+^I^Iaddr = 0x40000000; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#110: FILE: arch/s390x/kernel/binfmt_elf32.c:204:
+^Iif (prot & PROT_READ) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#111: FILE: arch/s390x/kernel/binfmt_elf32.c:205:
+^I^Iprot |= PROT_EXEC; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#131: FILE: arch/s390x/kernel/entry.S:284:
+sys32_clone_glue: $

CHECK:SPACING: No space is necessary after a cast
#177: FILE: arch/s390x/kernel/exec32.c:60:
+	if (!vm_enough_memory((STACK_TOP - (PAGE_MASK & (unsigned long) bprm->p))>>PAGE_SHIFT)) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#177: FILE: arch/s390x/kernel/exec32.c:60:
+	if (!vm_enough_memory((STACK_TOP - (PAGE_MASK & (unsigned long) bprm->p))>>PAGE_SHIFT)) {
 	                                                                         ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#247: FILE: arch/s390x/kernel/linux32.c:2711:
+	bprm.p = PAGE_SIZE*MAX_ARG_PAGES-sizeof(void *);
 	                  ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#247: FILE: arch/s390x/kernel/linux32.c:2711:
+	bprm.p = PAGE_SIZE*MAX_ARG_PAGES-sizeof(void *);
 	                                ^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#273: FILE: arch/s390x/kernel/linux32.c:2727:
+	if ((retval = bprm.argc) < 0)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#277: FILE: arch/s390x/kernel/linux32.c:2731:
+	if ((retval = bprm.envc) < 0)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#302: FILE: arch/s390x/kernel/linux32.c:2764:
+	for (i=0 ; i<MAX_ARG_PAGES ; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#302: FILE: arch/s390x/kernel/linux32.c:2764:
+	for (i=0 ; i<MAX_ARG_PAGES ; i++) {
 	            ^

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#303: FILE: arch/s390x/kernel/linux32.c:2765:
+		struct page * page = bprm.page[i];

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#304: FILE: arch/s390x/kernel/linux32.c:2766:
+		struct page * page = bprm.page[i];
+		if (page)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#598: FILE: arch/s390x/kernel/linux32.c:3838:
+        unsigned long clone_flags;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#598: FILE: arch/s390x/kernel/linux32.c:3838:
+        unsigned long clone_flags;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#599: FILE: arch/s390x/kernel/linux32.c:3839:
+        unsigned long newsp;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#599: FILE: arch/s390x/kernel/linux32.c:3839:
+        unsigned long newsp;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#603: FILE: arch/s390x/kernel/linux32.c:3843:
+        clone_flags = regs.gprs[3] & 0xffffffffUL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#603: FILE: arch/s390x/kernel/linux32.c:3843:
+        clone_flags = regs.gprs[3] & 0xffffffffUL;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#604: FILE: arch/s390x/kernel/linux32.c:3844:
+        newsp = regs.orig_gpr2 & 0x7fffffffUL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#604: FILE: arch/s390x/kernel/linux32.c:3844:
+        newsp = regs.orig_gpr2 & 0x7fffffffUL;$

CHECK:SPACING: No space is necessary after a cast
#605: FILE: arch/s390x/kernel/linux32.c:3845:
+	parent_tidptr = (int *) (regs.gprs[4] & 0x7fffffffUL);

CHECK:SPACING: No space is necessary after a cast
#606: FILE: arch/s390x/kernel/linux32.c:3846:
+	child_tidptr = (int *) (regs.gprs[5] & 0x7fffffffUL);

ERROR:CODE_INDENT: code indent should use tabs where possible
#607: FILE: arch/s390x/kernel/linux32.c:3847:
+        if (!newsp)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#607: FILE: arch/s390x/kernel/linux32.c:3847:
+        if (!newsp)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#608: FILE: arch/s390x/kernel/linux32.c:3848:
+                newsp = regs.gprs[15];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#608: FILE: arch/s390x/kernel/linux32.c:3848:
+                newsp = regs.gprs[15];$

ERROR:CODE_INDENT: code indent should use tabs where possible
#609: FILE: arch/s390x/kernel/linux32.c:3849:
+        p = do_fork(clone_flags & ~CLONE_IDLETASK, newsp, &regs, 0,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#609: FILE: arch/s390x/kernel/linux32.c:3849:
+        p = do_fork(clone_flags & ~CLONE_IDLETASK, newsp, &regs, 0,$

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#695: FILE: arch/s390x/kernel/signal32.c:559:
+	struct k_sigaction *ka = &current->sighand->action[sig-1];
 	                                                      ^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#707: FILE: arch/s390x/kernel/sys_s390.c:121:
+arch_get_unmapped_area(struct file *filp, unsigned long addr,
                                     ^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#714: FILE: arch/s390x/kernel/sys_s390.c:128:
+^Iif (test_thread_flag(TIF_31BIT)) { $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#715: FILE: arch/s390x/kernel/sys_s390.c:129:
+^I^Iif (!addr) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#716: FILE: arch/s390x/kernel/sys_s390.c:130:
+^I^I^Iaddr = 0x40000000; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#717: FILE: arch/s390x/kernel/sys_s390.c:131:
+^I^Iend = 0x80000000;^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#718: FILE: arch/s390x/kernel/sys_s390.c:132:
+^I} else { $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#719: FILE: arch/s390x/kernel/sys_s390.c:133:
+^I^Iif (!addr) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#721: FILE: arch/s390x/kernel/sys_s390.c:135:
+^I^Iend = TASK_SIZE; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#832: FILE: include/asm-s390x/thread_info.h:80:
+#define TIF_31BIT^I^I18^I/* 32bit process */ $

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#840: FILE: include/asm-s390x/thread_info.h:89:
+#define _TIF_31BIT		(1<<TIF_31BIT)
                   		  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#840: FILE: include/asm-s390x/thread_info.h:89:
+#define _TIF_31BIT		(1<<TIF_31BIT)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000390815.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 25 errors, 13 warnings, 9 checks, 725 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000390815.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
