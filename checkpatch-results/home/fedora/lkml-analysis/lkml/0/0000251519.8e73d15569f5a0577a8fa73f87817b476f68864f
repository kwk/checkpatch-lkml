WARNING:TYPO_SPELLING: 'suprise' may be misspelled - perhaps 'surprise'?
#24: 
Much to my suprise with the bug DaveM fixed and a couple of others squashed
           ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#40: 
fixed the serial_core driver for driver side locking but that should be a good

ERROR:TRAILING_WHITESPACE: trailing whitespace
#62: FILE: Documentation/tty.txt:13:
+discipline number and the ldisc structure. At the point of registration the $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#67: FILE: Documentation/tty.txt:18:
+After the return the ldisc data has been copied so you may free your own $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#79: FILE: Documentation/tty.txt:30:
+discipline. The reference count of the tty_ldisc structure within a tty $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#107: FILE: Documentation/tty.txt:58:
+chars_in_buffer() -^IReport the number of bytes in the buffer. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#109: FILE: Documentation/tty.txt:60:
+set_termios()^I-^ICalled on termios structure changes. Semantics $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#114: FILE: Documentation/tty.txt:65:
+^I^I^Ildisc must deal with serialization issues. May $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#122: FILE: Documentation/tty.txt:73:
+^I^I^Imay occur in parallel. May sleep. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#168: FILE: Documentation/tty.txt:119:
+ldisc change to complete and then return a reference to the new ldisc. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#182: FILE: Documentation/tty.txt:133:
+^I^I^Ireturn from this call the driver must make no $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#186: FILE: Documentation/tty.txt:137:
+^I^I^Isleep. May occur in parallel in special cases. $

WARNING:TYPO_SPELLING: 'tht' may be misspelled - perhaps 'the'?
#196: FILE: Documentation/tty.txt:147:
+write_room()	-	Return the number of characters tht can be stuffed
             	 	                                ^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#206: FILE: Documentation/tty.txt:157:
+set_ldisc()^I-^INotifier for discipline change. At the point this $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#254: FILE: drivers/char/tty_io.c:124:
+/* This list gets poked at by procfs and various bits of boot up code. This
+   could do with some rationalisation such as pulling the tty proc function

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#255: FILE: drivers/char/tty_io.c:125:
+   into this file */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#256: FILE: drivers/char/tty_io.c:126:
+   $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#256: FILE: drivers/char/tty_io.c:126:
+   $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#262: FILE: drivers/char/tty_io.c:130:
+/* Semaphore to protect creating and releasing a tty. This is shared with
+   vt.c for deeply disgusting hack reasons */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#262: FILE: drivers/char/tty_io.c:130:
+   vt.c for deeply disgusting hack reasons */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#275: FILE: drivers/char/tty_io.c:235:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#275: FILE: drivers/char/tty_io.c:235:
+ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#283: FILE: drivers/char/tty_io.c:243:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#299: FILE: drivers/char/tty_io.c:254:
+		if(tty_ldiscs[disc].refcount)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#320: FILE: drivers/char/tty_io.c:273:
+^I$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#325: FILE: drivers/char/tty_io.c:278:
+	if(ld->flags & LDISC_FLAG_DEFINED)
+	{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: space required before the open parenthesis '('
#325: FILE: drivers/char/tty_io.c:278:
+	if(ld->flags & LDISC_FLAG_DEFINED)

ERROR:CODE_INDENT: code indent should use tabs where possible
#329: FILE: drivers/char/tty_io.c:282:
+^I^I       ^Ild = NULL;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#329: FILE: drivers/char/tty_io.c:282:
+^I^I       ^Ild = NULL;$

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#333: FILE: drivers/char/tty_io.c:286:
+	}
+	else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#339: FILE: drivers/char/tty_io.c:292:
+EXPORT_SYMBOL_GPL(tty_ldisc_get);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#345: FILE: drivers/char/tty_io.c:298:
+^I$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#347: FILE: drivers/char/tty_io.c:300:
+		BUG();

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

ERROR:TRAILING_WHITESPACE: trailing whitespace
#348: FILE: drivers/char/tty_io.c:301:
+^I^I$

ERROR:SPACING: space required before the open parenthesis '('
#351: FILE: drivers/char/tty_io.c:304:
+	if(ld->refcount == 0)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#352: FILE: drivers/char/tty_io.c:305:
+		BUG();

ERROR:SPACING: space prohibited before that '--' (ctx:WxO)
#353: FILE: drivers/char/tty_io.c:306:
+	ld->refcount --;
 	             ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#357: FILE: drivers/char/tty_io.c:310:
+^I$

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#358: FILE: drivers/char/tty_io.c:311:
+EXPORT_SYMBOL_GPL(tty_ldisc_put);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#364: FILE: drivers/char/tty_io.c:317:
+ *^IDereference the line discipline for the terminal and take a $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#365: FILE: drivers/char/tty_io.c:318:
+ *^Ireference to it. If the line discipline is in flux then $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#373: FILE: drivers/char/tty_io.c:326:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#373: FILE: drivers/char/tty_io.c:326:
+ $

WARNING:LINE_SPACING: Missing a blank line after declarations
#379: FILE: drivers/char/tty_io.c:332:
+	int ct = 0;	/* This is just for debug */
+	do

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#379: FILE: drivers/char/tty_io.c:332:
+	do
+	{	

ERROR:TRAILING_WHITESPACE: trailing whitespace
#380: FILE: drivers/char/tty_io.c:333:
+^I{^I$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#383: FILE: drivers/char/tty_io.c:336:
+		if(test_bit(TTY_LDISC, &tty->flags))
+		{

ERROR:SPACING: space required before the open parenthesis '('
#383: FILE: drivers/char/tty_io.c:336:
+		if(test_bit(TTY_LDISC, &tty->flags))

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#390: FILE: drivers/char/tty_io.c:343:
+		if(test_bit(TTY_CLOSING, &tty->flags))
+		{

ERROR:SPACING: space required before the open parenthesis '('
#390: FILE: drivers/char/tty_io.c:343:
+		if(test_bit(TTY_CLOSING, &tty->flags))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#392: FILE: drivers/char/tty_io.c:345:
+			printk(KERN_ERR "Closing while in ref_wait: BAD\n");

ERROR:SPACING: space required before the open parenthesis '('
#398: FILE: drivers/char/tty_io.c:351:
+	while(ct++ < 100);

ERROR:WHILE_AFTER_BRACE: while should follow close brace '}'
#398: FILE: drivers/char/tty_io.c:351:
+	}
+	while(ct++ < 100);

while should follow the closing bracket on the same line::

  do {
          ...
  } while(something);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#399: FILE: drivers/char/tty_io.c:352:
+	printk(KERN_EMERG "Orinoco was here.\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#407: FILE: drivers/char/tty_io.c:360:
+ *^IDereference the line discipline for the terminal and take a $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#408: FILE: drivers/char/tty_io.c:361:
+ *^Ireference to it. If the line discipline is in flux then $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#411: FILE: drivers/char/tty_io.c:364:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#411: FILE: drivers/char/tty_io.c:364:
+ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#416: FILE: drivers/char/tty_io.c:369:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#419: FILE: drivers/char/tty_io.c:372:
+	if(test_bit(TTY_LDISC, &tty->flags))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#434: FILE: drivers/char/tty_io.c:387:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#434: FILE: drivers/char/tty_io.c:387:
+ $

ERROR:SPACING: space required before the open parenthesis '('
#439: FILE: drivers/char/tty_io.c:392:
+	if(ld == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ld"
#439: FILE: drivers/char/tty_io.c:392:
+	if(ld == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

ERROR:TRAILING_WHITESPACE: trailing whitespace
#441: FILE: drivers/char/tty_io.c:394:
+^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#448: FILE: drivers/char/tty_io.c:401:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#457: FILE: drivers/char/tty_io.c:410:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#457: FILE: drivers/char/tty_io.c:410:
+ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#471: FILE: drivers/char/tty_io.c:424:
+^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#472: FILE: drivers/char/tty_io.c:425:
+	printk(KERN_EMERG "tty_set_ldisc\n");

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ld"
#477: FILE: drivers/char/tty_io.c:429:
+	if (ld == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ld"
#482: FILE: drivers/char/tty_io.c:433:
+	if (ld == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#501: FILE: drivers/char/tty_io.c:446:
+^I $

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#503: FILE: drivers/char/tty_io.c:448:
+	if(tty->ldisc.refcount)
+	{

ERROR:SPACING: space required before the open parenthesis '('
#503: FILE: drivers/char/tty_io.c:448:
+	if(tty->ldisc.refcount)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#506: FILE: drivers/char/tty_io.c:451:
+		/* Free the new ldisc we grabbed. Must drop the lock
+		   first. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#506: FILE: drivers/char/tty_io.c:451:
+		   first. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#511: FILE: drivers/char/tty_io.c:456:
+^Iclear_bit(TTY_LDISC, &tty->flags);^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#515: FILE: drivers/char/tty_io.c:460:
+	printk(KERN_EMERG "tty_set_ldisc: wait\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#521: FILE: drivers/char/tty_io.c:466:
+^I $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#526: FILE: drivers/char/tty_io.c:471:
+^I $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#527: FILE: drivers/char/tty_io.c:472:
+	printk(KERN_EMERG "flush_sched\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#529: FILE: drivers/char/tty_io.c:474:
+	printk(KERN_EMERG "flush_sched - DONE\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#534: FILE: drivers/char/tty_io.c:479:
+	printk(KERN_EMERG "tty_set_ldisc: close\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#565: FILE: drivers/char/tty_io.c:507:
+	/* At this point we hold a reference to the new ldisc and a
+	   a reference to the old ldisc. If we ended up flipping back

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#566: FILE: drivers/char/tty_io.c:508:
+	   to the existing ldisc we have two references to it */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#570: FILE: drivers/char/tty_io.c:512:
+^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#572: FILE: drivers/char/tty_io.c:514:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#577: FILE: drivers/char/tty_io.c:519:
+^I $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#578: FILE: drivers/char/tty_io.c:520:
+	printk(KERN_EMERG "tty_set_ldisc: back\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#580: FILE: drivers/char/tty_io.c:522:
+^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#582: FILE: drivers/char/tty_io.c:524:
+	/* Restart it in case no characters kick it off. Safe if
+	   already running */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#582: FILE: drivers/char/tty_io.c:524:
+	   already running */

ERROR:SPACING: space required before the open parenthesis '('
#583: FILE: drivers/char/tty_io.c:525:
+	if(work)

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#609: FILE: drivers/char/tty_io.c:674:
+	if(ld != NULL)	/* We may have no line discipline at this point */
+	{

ERROR:SPACING: space required before the open parenthesis '('
#609: FILE: drivers/char/tty_io.c:674:
+	if(ld != NULL)	/* We may have no line discipline at this point */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "ld"
#609: FILE: drivers/char/tty_io.c:674:
+	if(ld != NULL)	/* We may have no line discipline at this point */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#645: FILE: drivers/char/tty_io.c:698:
+^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#645: FILE: drivers/char/tty_io.c:698:
+	/* tty_deferred_ldisc_switch(N_TTY);
+	

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#647: FILE: drivers/char/tty_io.c:700:
+	  tty_release is called */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#656: FILE: drivers/char/tty_io.c:841:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#668: FILE: drivers/char/tty_io.c:853:
+^I/* If we have a running line discipline it may need kicking */^I^I$

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (ld->write_wakeup)
#672: FILE: drivers/char/tty_io.c:857:
+		(ld->write_wakeup)(tty);

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

ERROR:TRAILING_WHITESPACE: trailing whitespace
#673: FILE: drivers/char/tty_io.c:858:
+^Itty_ldisc_deref(ld);^I^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#690: FILE: drivers/char/tty_io.c:880:
+	/* We want to wait for the line discipline to sort out in this
+	   situation */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#690: FILE: drivers/char/tty_io.c:880:
+	   situation */

ERROR:SPACING: space required after that ',' (ctx:VxV)
#696: FILE: drivers/char/tty_io.c:884:
+		i = (ld->read)(tty,file,buf,count);
 		                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#696: FILE: drivers/char/tty_io.c:884:
+		i = (ld->read)(tty,file,buf,count);
 		                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#696: FILE: drivers/char/tty_io.c:884:
+		i = (ld->read)(tty,file,buf,count);
 		                           ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (ld->read)
#696: FILE: drivers/char/tty_io.c:884:
+		i = (ld->read)(tty,file,buf,count);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#710: FILE: drivers/char/tty_io.c:951:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#720: FILE: drivers/char/tty_io.c:958:
+^Ild = tty_ldisc_ref_wait(tty);^I^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#725: FILE: drivers/char/tty_io.c:963:
+		ret = do_tty_write(ld->write, tty, file,
 			    (const unsigned char __user *)buf, count);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#735: FILE: drivers/char/tty_io.c:1009:
+	printk(KERN_EMERG "init_dev\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#744: FILE: drivers/char/tty_io.c:1153:
+	printk(KERN_EMERG "init_dev: ldisc open\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#745: FILE: drivers/char/tty_io.c:1154:
+^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#763: FILE: drivers/char/tty_io.c:1179:
+	printk(KERN_EMERG "init_dev: fast track\n");

ERROR:SPACING: space required before the open parenthesis '('
#772: FILE: drivers/char/tty_io.c:1200:
+	if(!test_bit(TTY_LDISC, &tty->flags))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#773: FILE: drivers/char/tty_io.c:1201:
+		printk(KERN_ERR "init_dev but no ldisc\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#775: FILE: drivers/char/tty_io.c:1203:
+	printk(KERN_EMERG "init_dev: done\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#783: FILE: drivers/char/tty_io.c:1311:
+	printk(KERN_EMERG "Release_dev\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#791: FILE: drivers/char/tty_io.c:1383:
+	printk(KERN_EMERG "Release_dev: close driver\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#799: FILE: drivers/char/tty_io.c:1439:
+	printk(KERN_EMERG "Release_dev: loop1 done\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#807: FILE: drivers/char/tty_io.c:1502:
+	printk(KERN_EMERG "Release_dev: closing\n");

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#809: FILE: drivers/char/tty_io.c:1504:
 	if (!tty_closing || (o_tty && !o_tty_closing))
+	{

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#811: FILE: drivers/char/tty_io.c:1506:
+		printk(KERN_EMERG "Release_dev: half closed - DONE\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#819: FILE: drivers/char/tty_io.c:1514:
+	printk(KERN_EMERG "Clear ldisc\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#833: FILE: drivers/char/tty_io.c:1527:
+^I $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#834: FILE: drivers/char/tty_io.c:1528:
+	printk(KERN_EMERG "Flush sched\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#836: FILE: drivers/char/tty_io.c:1530:
+	printk(KERN_EMERG "Flush done\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#871: FILE: drivers/char/tty_io.c:1595:
+^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#872: FILE: drivers/char/tty_io.c:1596:
+	printk(KERN_EMERG "tty_open (%d)\n", MAJOR(device));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#890: FILE: drivers/char/tty_io.c:1759:
+^I^I$

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#893: FILE: drivers/char/tty_io.c:1762:
+		ret = (ld->poll)(tty, filp, wait);
 		                      ^^^^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (ld->poll)
#893: FILE: drivers/char/tty_io.c:1762:
+		ret = (ld->poll)(tty, filp, wait);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#905: FILE: drivers/char/tty_io.c:1797:
+^I$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#913: FILE: drivers/char/tty_io.c:1804:
+	if(ld)
+	{

ERROR:SPACING: space required before the open parenthesis '('
#913: FILE: drivers/char/tty_io.c:1804:
+	if(ld)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (tty->driver->ioctl)
#942: FILE: drivers/char/tty_io.c:2186:
+		retval = (tty->driver->ioctl)(tty, file, cmd, arg);

ERROR:SPACING: space required before the open parenthesis '('
#953: FILE: drivers/char/tty_io.c:2193:
+		if(likely(test_bit(TTY_LDISC, &tty->flags)))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (tty->ldisc.ioctl)
#954: FILE: drivers/char/tty_io.c:2194:
+			retval = (tty->ldisc.ioctl)(tty, file, cmd, arg);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#975: FILE: drivers/char/tty_io.c:2239:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#984: FILE: drivers/char/tty_io.c:2248:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#993: FILE: drivers/char/tty_io.c:2300:
+ * from the flip buffer to the line discipline. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#995: FILE: drivers/char/tty_io.c:2302:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#995: FILE: drivers/char/tty_io.c:2302:
+ $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1003: FILE: drivers/char/tty_io.c:2309:
+^Iunsigned long ^Iflags;$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!disc"
#1007: FILE: drivers/char/tty_io.c:2313:
+	if (disc == NULL)	/*  !TTY_LDISC */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1041: FILE: drivers/char/tty_io.c:2355:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#1043: FILE: drivers/char/tty_io.c:2357:
+	if(test_bit(TTY_DONT_FLIP, &tty->flags))

ERROR:SPACING: space required before the open parenthesis '('
#1045: FILE: drivers/char/tty_io.c:2359:
+	else if(disc == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!disc"
#1045: FILE: drivers/char/tty_io.c:2359:
+	else if(disc == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1051: FILE: drivers/char/tty_io.c:2365:
+^I$

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around function pointer (ld->set_termios)
#1083: FILE: drivers/char/tty_ioctl.c:142:
+		(ld->set_termios)(tty, &old_termios);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1101: FILE: drivers/char/tty_ioctl.c:167:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1106: FILE: drivers/char/tty_ioctl.c:172:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1122: FILE: drivers/char/tty_ioctl.c:455:
+^I^I^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1168: FILE: fs/proc/proc_tty.c:160:
+^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ld"
#1172: FILE: fs/proc/proc_tty.c:163:
+		if (ld == NULL)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1201: FILE: include/linux/tty.h:309:
+#define TTY_THROTTLED ^I^I0^I/* Call unthrottle() at threshold min */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1202: FILE: include/linux/tty.h:310:
+#define TTY_IO_ERROR ^I^I1^I/* Canse an I/O error (may be no ldisc too) */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1203: FILE: include/linux/tty.h:311:
+#define TTY_OTHER_CLOSED ^I2^I/* Other side (if any) has closed */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1204: FILE: include/linux/tty.h:312:
+#define TTY_EXCLUSIVE ^I^I3^I/* Exclusive open mode */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1205: FILE: include/linux/tty.h:313:
+#define TTY_DEBUG ^I^I4^I/* Debugging */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1206: FILE: include/linux/tty.h:314:
+#define TTY_DO_WRITE_WAKEUP ^I5^I/* Call write_wakeup after queuing new */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1207: FILE: include/linux/tty.h:315:
+#define TTY_PUSH ^I^I6^I/* n_tty private */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1208: FILE: include/linux/tty.h:316:
+#define TTY_CLOSING ^I^I7^I/* ->close() in progress */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1209: FILE: include/linux/tty.h:317:
+#define TTY_DONT_FLIP ^I^I8^I/* Defer buffer flip */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1210: FILE: include/linux/tty.h:318:
+#define TTY_LDISC ^I^I9^I/* Line discipline attached */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1211: FILE: include/linux/tty.h:319:
+#define TTY_HW_COOK_OUT ^I14^I/* Hardware can do output cooking */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1212: FILE: include/linux/tty.h:320:
+#define TTY_HW_COOK_IN ^I^I15^I/* Hardware can do input cooking */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1213: FILE: include/linux/tty.h:321:
+#define TTY_PTY_LOCK ^I^I16^I/* pty private */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1214: FILE: include/linux/tty.h:322:
+#define TTY_NO_WRITE_SPLIT ^I17^I/* Preserve write boundaries to driver */$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1222: FILE: include/linux/tty.h:366:
+extern struct tty_ldisc *tty_ldisc_ref(struct tty_struct *);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct tty_struct *' should also have an identifier name
#1222: FILE: include/linux/tty.h:366:
+extern struct tty_ldisc *tty_ldisc_ref(struct tty_struct *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1223: FILE: include/linux/tty.h:367:
+extern void tty_ldisc_deref(struct tty_ldisc *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct tty_ldisc *' should also have an identifier name
#1223: FILE: include/linux/tty.h:367:
+extern void tty_ldisc_deref(struct tty_ldisc *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1224: FILE: include/linux/tty.h:368:
+extern struct tty_ldisc *tty_ldisc_ref_wait(struct tty_struct *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct tty_struct *' should also have an identifier name
#1224: FILE: include/linux/tty.h:368:
+extern struct tty_ldisc *tty_ldisc_ref_wait(struct tty_struct *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1226: FILE: include/linux/tty.h:370:
+extern struct tty_ldisc *tty_ldisc_get(int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1226: FILE: include/linux/tty.h:370:
+extern struct tty_ldisc *tty_ldisc_get(int);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1227: FILE: include/linux/tty.h:371:
+extern void tty_ldisc_put(int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1227: FILE: include/linux/tty.h:371:
+extern void tty_ldisc_put(int);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1239: FILE: include/linux/tty_ldisc.h:135:
+^I$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000251519.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 92 errors, 73 warnings, 19 checks, 1138 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000251519.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
