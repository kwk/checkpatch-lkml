WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#61: 
diff -ru linux-2.6.5-rc3-mm4/drivers/i2c/chips.orig/adm1021.c linux-2.6.5-rc3-mm4/drivers/i2c/chips/adm1021.c

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#71: FILE: drivers/i2c/chips/adm1021.c:231:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#71: FILE: drivers/i2c/chips/adm1021.c:231:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#79: FILE: drivers/i2c/chips/adm1021.c:237:
+	if (!(data = kmalloc(sizeof(struct adm1021_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct adm1021_data)...)
#79: FILE: drivers/i2c/chips/adm1021.c:237:
+	if (!(data = kmalloc(sizeof(struct adm1021_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#115: FILE: drivers/i2c/chips/asb100.c:725:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#115: FILE: drivers/i2c/chips/asb100.c:725:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#124: FILE: drivers/i2c/chips/asb100.c:732:
+	if (!(data = kmalloc(sizeof(struct asb100_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct asb100_data)...)
#124: FILE: drivers/i2c/chips/asb100.c:732:
+	if (!(data = kmalloc(sizeof(struct asb100_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#162: FILE: drivers/i2c/chips/ds1621.c:205:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#162: FILE: drivers/i2c/chips/ds1621.c:205:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#169: FILE: drivers/i2c/chips/ds1621.c:210:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#170: FILE: drivers/i2c/chips/ds1621.c:211:
+	if (!(data = kmalloc(sizeof(struct ds1621_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct ds1621_data)...)
#170: FILE: drivers/i2c/chips/ds1621.c:211:
+	if (!(data = kmalloc(sizeof(struct ds1621_data), GFP_KERNEL))) {

WARNING:INDENTED_LABEL: labels should not be indented
#185: FILE: drivers/i2c/chips/ds1621.c:270:
+      exit_free1:

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#207: FILE: drivers/i2c/chips/eeprom.c:190:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#207: FILE: drivers/i2c/chips/eeprom.c:190:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#215: FILE: drivers/i2c/chips/eeprom.c:196:
+	if (!(data = kmalloc(sizeof(struct eeprom_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct eeprom_data)...)
#215: FILE: drivers/i2c/chips/eeprom.c:196:
+	if (!(data = kmalloc(sizeof(struct eeprom_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#251: FILE: drivers/i2c/chips/fscher.c:312:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#251: FILE: drivers/i2c/chips/fscher.c:312:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#259: FILE: drivers/i2c/chips/fscher.c:318:
+	if (!(data = kmalloc(sizeof(struct fscher_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct fscher_data)...)
#259: FILE: drivers/i2c/chips/fscher.c:318:
+	if (!(data = kmalloc(sizeof(struct fscher_data), GFP_KERNEL))) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#262: FILE: drivers/i2c/chips/fscher.c:321:
+  ^I}$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#262: FILE: drivers/i2c/chips/fscher.c:321:
+  ^I}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#262: FILE: drivers/i2c/chips/fscher.c:321:
+  ^I}$

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#298: FILE: drivers/i2c/chips/gl518sm.c:357:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#298: FILE: drivers/i2c/chips/gl518sm.c:357:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#306: FILE: drivers/i2c/chips/gl518sm.c:363:
+	if (!(data = kmalloc(sizeof(struct gl518_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct gl518_data)...)
#306: FILE: drivers/i2c/chips/gl518sm.c:363:
+	if (!(data = kmalloc(sizeof(struct gl518_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#352: FILE: drivers/i2c/chips/it87.c:557:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#352: FILE: drivers/i2c/chips/it87.c:557:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#360: FILE: drivers/i2c/chips/it87.c:563:
+	if (!(data = kmalloc(sizeof(struct it87_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct it87_data)...)
#360: FILE: drivers/i2c/chips/it87.c:563:
+	if (!(data = kmalloc(sizeof(struct it87_data), GFP_KERNEL))) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#379: FILE: drivers/i2c/chips/it87.c:583:
 		if (!is_isa
+		 && it87_read_value(new_client, IT87_REG_I2C_ADDR) != address)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#435: FILE: drivers/i2c/chips/lm75.c:138:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#435: FILE: drivers/i2c/chips/lm75.c:138:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#443: FILE: drivers/i2c/chips/lm75.c:144:
+	if (!(data = kmalloc(sizeof(struct lm75_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct lm75_data)...)
#443: FILE: drivers/i2c/chips/lm75.c:144:
+	if (!(data = kmalloc(sizeof(struct lm75_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#480: FILE: drivers/i2c/chips/lm78.c:555:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#480: FILE: drivers/i2c/chips/lm78.c:555:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#488: FILE: drivers/i2c/chips/lm78.c:561:
+	if (!(data = kmalloc(sizeof(struct lm78_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct lm78_data)...)
#488: FILE: drivers/i2c/chips/lm78.c:561:
+	if (!(data = kmalloc(sizeof(struct lm78_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#524: FILE: drivers/i2c/chips/lm80.c:360:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#524: FILE: drivers/i2c/chips/lm80.c:360:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#532: FILE: drivers/i2c/chips/lm80.c:366:
+	if (!(data = kmalloc(sizeof(struct lm80_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct lm80_data)...)
#532: FILE: drivers/i2c/chips/lm80.c:366:
+	if (!(data = kmalloc(sizeof(struct lm80_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#568: FILE: drivers/i2c/chips/lm83.c:237:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#568: FILE: drivers/i2c/chips/lm83.c:237:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#576: FILE: drivers/i2c/chips/lm83.c:243:
+	if (!(data = kmalloc(sizeof(struct lm83_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct lm83_data)...)
#576: FILE: drivers/i2c/chips/lm83.c:243:
+	if (!(data = kmalloc(sizeof(struct lm83_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#615: FILE: drivers/i2c/chips/lm85.c:739:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#615: FILE: drivers/i2c/chips/lm85.c:739:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#621: FILE: drivers/i2c/chips/lm85.c:745:
+	if (!(data = kmalloc(sizeof(struct lm85_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct lm85_data)...)
#621: FILE: drivers/i2c/chips/lm85.c:745:
+	if (!(data = kmalloc(sizeof(struct lm85_data), GFP_KERNEL))) {

WARNING:INDENTED_LABEL: labels should not be indented
#638: FILE: drivers/i2c/chips/lm85.c:892:
+    ERROR0B:

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#659: FILE: drivers/i2c/chips/lm90.c:283:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#659: FILE: drivers/i2c/chips/lm90.c:283:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#667: FILE: drivers/i2c/chips/lm90.c:289:
+	if (!(data = kmalloc(sizeof(struct lm90_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct lm90_data)...)
#667: FILE: drivers/i2c/chips/lm90.c:289:
+	if (!(data = kmalloc(sizeof(struct lm90_data), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#706: FILE: drivers/i2c/chips/pcf8574.c:130:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#706: FILE: drivers/i2c/chips/pcf8574.c:130:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#714: FILE: drivers/i2c/chips/pcf8574.c:136:
+	if (!(data = kmalloc(sizeof(struct pcf8574_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct pcf8574_data)...)
#714: FILE: drivers/i2c/chips/pcf8574.c:136:
+	if (!(data = kmalloc(sizeof(struct pcf8574_data), GFP_KERNEL))) {

WARNING:INDENTED_LABEL: labels should not be indented
#729: FILE: drivers/i2c/chips/pcf8574.c:187:
+      exit_free1:

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#751: FILE: drivers/i2c/chips/via686a.c:690:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#751: FILE: drivers/i2c/chips/via686a.c:690:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#757: FILE: drivers/i2c/chips/via686a.c:696:
+	if (!(data = kmalloc(sizeof(struct via686a_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct via686a_data)...)
#757: FILE: drivers/i2c/chips/via686a.c:696:
+	if (!(data = kmalloc(sizeof(struct via686a_data), GFP_KERNEL))) {

WARNING:INDENTED_LABEL: labels should not be indented
#775: FILE: drivers/i2c/chips/via686a.c:758:
+      ERROR1:

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#800: FILE: drivers/i2c/chips/w83627hf.c:944:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#800: FILE: drivers/i2c/chips/w83627hf.c:944:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#808: FILE: drivers/i2c/chips/w83627hf.c:950:
+	if (!(data = kmalloc(sizeof(struct w83627hf_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct w83627hf_data)...)
#808: FILE: drivers/i2c/chips/w83627hf.c:950:
+	if (!(data = kmalloc(sizeof(struct w83627hf_data), GFP_KERNEL))) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#812: FILE: drivers/i2c/chips/w83627hf.c:954:
+	memset(data, 0x00, sizeof (struct w83627hf_data));

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:INDENTED_LABEL: labels should not be indented
#823: FILE: drivers/i2c/chips/w83627hf.c:1047:
+      ERROR1B:

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#844: FILE: drivers/i2c/chips/w83781d.c:1120:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#844: FILE: drivers/i2c/chips/w83781d.c:1120:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#852: FILE: drivers/i2c/chips/w83781d.c:1126:
+	if (!(data = kmalloc(sizeof(struct w83781d_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct w83781d_data)...)
#852: FILE: drivers/i2c/chips/w83781d.c:1126:
+	if (!(data = kmalloc(sizeof(struct w83781d_data), GFP_KERNEL))) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#856: FILE: drivers/i2c/chips/w83781d.c:1130:
+	memset(data, 0x00, sizeof (struct w83781d_data));

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#888: FILE: drivers/i2c/chips/w83l785ts.c:167:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_client)...) over kmalloc(sizeof(struct i2c_client)...)
#888: FILE: drivers/i2c/chips/w83l785ts.c:167:
+	if (!(new_client = kmalloc(sizeof(struct i2c_client), GFP_KERNEL))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#896: FILE: drivers/i2c/chips/w83l785ts.c:173:
+	if (!(data = kmalloc(sizeof(struct w83l785ts_data), GFP_KERNEL))) {

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*data)...) over kmalloc(sizeof(struct w83l785ts_data)...)
#896: FILE: drivers/i2c/chips/w83l785ts.c:173:
+	if (!(data = kmalloc(sizeof(struct w83l785ts_data), GFP_KERNEL))) {

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000290885.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 38 errors, 10 warnings, 37 checks, 752 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000290885.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
