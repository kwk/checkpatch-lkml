WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#32: 
diff -Naur linux-2.5.6-pre1/drivers/scsi/3w-xxxx.c linux-2.5.6-pre2/drivers/scsi/3w-xxxx.c

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#40: FILE: drivers/scsi/3w-xxxx.c:9:
+   Copyright (C) 1999-2002 3ware Inc.$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#40: FILE: drivers/scsi/3w-xxxx.c:9:
+   Copyright (C) 1999-2002 3ware Inc.

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#40: FILE: drivers/scsi/3w-xxxx.c:9:
+   Copyright (C) 1999-2002 3ware Inc.
                      ^

CHECK:CAMELCASE: Avoid CamelCase: <Copyright>
#40: FILE: drivers/scsi/3w-xxxx.c:9:
+   Copyright (C) 1999-2002 3ware Inc.

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <Inc>
#40: FILE: drivers/scsi/3w-xxxx.c:9:
+   Copyright (C) 1999-2002 3ware Inc.

ERROR:CODE_INDENT: code indent should use tabs where possible
#49: FILE: drivers/scsi/3w-xxxx.c:110:
+                 Fix tw_aen_drain_queue() to display useful info at init.$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:CODE_INDENT: code indent should use tabs where possible
#50: FILE: drivers/scsi/3w-xxxx.c:111:
+                 Set tw_host->max_id for 12 port cards.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#51: FILE: drivers/scsi/3w-xxxx.c:112:
+                 Add ioctl support for raw command packet post from userspace$

ERROR:CODE_INDENT: code indent should use tabs where possible
#52: FILE: drivers/scsi/3w-xxxx.c:113:
+                 with sglist fragments (parameter and io).$

ERROR:CODE_INDENT: code indent should use tabs where possible
#54: FILE: drivers/scsi/3w-xxxx.c:115:
+                 last sector ioctl.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#56: FILE: drivers/scsi/3w-xxxx.c:117:
+                 driver initialization.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#57: FILE: drivers/scsi/3w-xxxx.c:118:
+                 Improved handling of PCI aborts.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#59: FILE: drivers/scsi/3w-xxxx.c:120:
+                 Increase timeout in tw_aen_drain_queue() to 30 seconds.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#61: FILE: drivers/scsi/3w-xxxx.c:122:
+                 Remove raid5 bounce buffers for raid5 for 6XXX for kernel 2.5$

ERROR:CODE_INDENT: code indent should use tabs where possible
#62: FILE: drivers/scsi/3w-xxxx.c:123:
+                 Add tw_map/unmap_scsi_sg/single_data() for kernel 2.5$

ERROR:CODE_INDENT: code indent should use tabs where possible
#63: FILE: drivers/scsi/3w-xxxx.c:124:
+                 Replace io_request_lock with host_lock for kernel 2.5$

ERROR:CODE_INDENT: code indent should use tabs where possible
#64: FILE: drivers/scsi/3w-xxxx.c:125:
+                 Set max_cmd_len to 16 for 3dm for kernel 2.5$

ERROR:CODE_INDENT: code indent should use tabs where possible
#67: FILE: drivers/scsi/3w-xxxx.c:128:
+                 during initialization.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#69: FILE: drivers/scsi/3w-xxxx.c:130:
+                 for failed commands.  Add tw_decode_sense().$

ERROR:CODE_INDENT: code indent should use tabs where possible
#70: FILE: drivers/scsi/3w-xxxx.c:131:
+                 Replace all mdelay()'s with scsi_sleep().$

ERROR:CODE_INDENT: code indent should use tabs where possible
#72: FILE: drivers/scsi/3w-xxxx.c:133:
+                 some SMP systems.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#74: FILE: drivers/scsi/3w-xxxx.c:135:
+                 pci_alloc/free_consistent().$

CHECK:CAMELCASE: Avoid CamelCase: <Scsi_Cmnd>
#93: FILE: drivers/scsi/3w-xxxx.c:175:
+static int tw_map_scsi_sg_data(struct pci_dev *pdev, Scsi_Cmnd *cmd);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#105: FILE: drivers/scsi/3w-xxxx.c:185:
+char *tw_driver_version="1.02.00.020";
                        ^

WARNING:LONG_LINE: line length of 141 exceeds 100 columns
#123: FILE: drivers/scsi/3w-xxxx.c:216:
+					printk(KERN_WARNING "3w-xxxx: scsi%d: AEN: %s.\n", tw_dev->host->host_no, tw_aen_string[aen & 0xff]);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#123: FILE: drivers/scsi/3w-xxxx.c:216:
+					printk(KERN_WARNING "3w-xxxx: scsi%d: AEN: %s.\n", tw_dev->host->host_no, tw_aen_string[aen & 0xff]);

WARNING:LONG_LINE: line length of 111 exceeds 100 columns
#146: FILE: drivers/scsi/3w-xxxx.c:243:
+			printk(KERN_WARNING "3w-xxxx: scsi%d: Error completing AEN.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#146: FILE: drivers/scsi/3w-xxxx.c:243:
+			printk(KERN_WARNING "3w-xxxx: scsi%d: Error completing AEN.\n", tw_dev->host->host_no);

WARNING:LONG_LINE: line length of 119 exceeds 100 columns
#194: FILE: drivers/scsi/3w-xxxx.c:370:
+						dprintk(KERN_WARNING "3w-xxxx: AEN: %s.\n", tw_aen_string[aen & 0xff]);

WARNING:LONG_LINE: line length of 126 exceeds 100 columns
#206: FILE: drivers/scsi/3w-xxxx.c:381:
+							printk(KERN_WARNING "3w-xxxx: AEN: %s.\n", tw_aen_string[aen & 0xff]);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#206: FILE: drivers/scsi/3w-xxxx.c:381:
+							printk(KERN_WARNING "3w-xxxx: AEN: %s.\n", tw_aen_string[aen & 0xff]);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#249: FILE: drivers/scsi/3w-xxxx.c:387:
+						if (aen == 0x0ff) {

Indentation with 6 or more tabs usually indicate overly indented
code.

It is suggested to refactor excessive indentation of
if/else/for/do/while/switch statements.

See: https://lore.kernel.org/lkml/1328311239.21255.24.camel@joe2Laptop/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#250: FILE: drivers/scsi/3w-xxxx.c:388:
+							printk(KERN_WARNING "3w-xxxx: AEN: AEN queue overflow.\n");

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#251: FILE: drivers/scsi/3w-xxxx.c:389:
+						} else {

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#252: FILE: drivers/scsi/3w-xxxx.c:390:
+							if ((aen & 0x0ff) < TW_AEN_STRING_MAX) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#252: FILE: drivers/scsi/3w-xxxx.c:390:
+							if ((aen & 0x0ff) < TW_AEN_STRING_MAX) {
[...]
+							} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:LONG_LINE: line length of 142 exceeds 100 columns
#253: FILE: drivers/scsi/3w-xxxx.c:391:
+								if ((tw_aen_string[aen & 0xff][strlen(tw_aen_string[aen & 0xff])-1]) == '#') {

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#253: FILE: drivers/scsi/3w-xxxx.c:391:
+								if ((tw_aen_string[aen & 0xff][strlen(tw_aen_string[aen & 0xff])-1]) == '#') {

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#253: FILE: drivers/scsi/3w-xxxx.c:391:
+								if ((tw_aen_string[aen & 0xff][strlen(tw_aen_string[aen & 0xff])-1]) == '#') {
 								                                                                ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'tw_aen_string[aen & 0xff][strlen(tw_aen_string[aen & 0xff]'
#253: FILE: drivers/scsi/3w-xxxx.c:391:
+								if ((tw_aen_string[aen & 0xff][strlen(tw_aen_string[aen & 0xff])-1]) == '#') {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#253: FILE: drivers/scsi/3w-xxxx.c:391:
+								if ((tw_aen_string[aen & 0xff][strlen(tw_aen_string[aen & 0xff])-1]) == '#') {
[...]
+								} else {
[...]

WARNING:LONG_LINE: line length of 154 exceeds 100 columns
#254: FILE: drivers/scsi/3w-xxxx.c:392:
+									printk(KERN_WARNING "3w-xxxx: AEN: %s%d.\n", tw_aen_string[aen & 0xff], aen >> 8);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#254: FILE: drivers/scsi/3w-xxxx.c:392:
+									printk(KERN_WARNING "3w-xxxx: AEN: %s%d.\n", tw_aen_string[aen & 0xff], aen >> 8);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#255: FILE: drivers/scsi/3w-xxxx.c:393:
+								} else {

WARNING:LONG_LINE: line length of 142 exceeds 100 columns
#256: FILE: drivers/scsi/3w-xxxx.c:394:
+									printk(KERN_WARNING "3w-xxxx: AEN: %s.\n", tw_aen_string[aen & 0xff]);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#256: FILE: drivers/scsi/3w-xxxx.c:394:
+									printk(KERN_WARNING "3w-xxxx: AEN: %s.\n", tw_aen_string[aen & 0xff]);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#258: FILE: drivers/scsi/3w-xxxx.c:396:
+							} else

CHECK:BRACES: Unbalanced braces around else statement
#258: FILE: drivers/scsi/3w-xxxx.c:396:
+							} else

WARNING:LONG_LINE: line length of 120 exceeds 100 columns
#259: FILE: drivers/scsi/3w-xxxx.c:397:
+								printk(KERN_WARNING "3w-xxxx: Received AEN %d.\n", aen);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#259: FILE: drivers/scsi/3w-xxxx.c:397:
+								printk(KERN_WARNING "3w-xxxx: Received AEN %d.\n", aen);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#285: FILE: drivers/scsi/3w-xxxx.c:518:
+	for (i=0;i<TW_Q_LENGTH;i++) {
 	      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#285: FILE: drivers/scsi/3w-xxxx.c:518:
+	for (i=0;i<TW_Q_LENGTH;i++) {
 	        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#285: FILE: drivers/scsi/3w-xxxx.c:518:
+	for (i=0;i<TW_Q_LENGTH;i++) {
 	          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#285: FILE: drivers/scsi/3w-xxxx.c:518:
+	for (i=0;i<TW_Q_LENGTH;i++) {
 	                      ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cpu_addr"
#287: FILE: drivers/scsi/3w-xxxx.c:520:
+		if (cpu_addr == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#288: FILE: drivers/scsi/3w-xxxx.c:521:
+			printk(KERN_WARNING "3w-xxxx: pci_alloc_consistent() failed.\n");

WARNING:LONG_LINE: line length of 123 exceeds 100 columns
#297: FILE: drivers/scsi/3w-xxxx.c:525:
+		if ((u32)cpu_addr % (tw_dev->tw_pci_dev->device == TW_DEVICE_ID ? TW_ALIGNMENT_6000 : TW_ALIGNMENT_7000)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#298: FILE: drivers/scsi/3w-xxxx.c:526:
+			printk(KERN_WARNING "3w-xxxx: Couldn't allocate correctly aligned memory.\n");

ERROR:SPACING: space required before the open parenthesis '('
#317: FILE: drivers/scsi/3w-xxxx.c:530:
+		switch(which) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#329: FILE: drivers/scsi/3w-xxxx.c:542:
+			printk(KERN_WARNING "3w-xxxx: tw_allocate_memory(): case slip in tw_allocate_memory()\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'tw_allocate_memory', this function's name, in a string
#329: FILE: drivers/scsi/3w-xxxx.c:542:
+			printk(KERN_WARNING "3w-xxxx: tw_allocate_memory(): case slip in tw_allocate_memory()\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#354: FILE: drivers/scsi/3w-xxxx.c:641:
+		printk(KERN_WARNING "3w-xxxx: PCI Parity Error: clearing.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#362: FILE: drivers/scsi/3w-xxxx.c:648:
+		printk(KERN_WARNING "3w-xxxx: PCI Abort: clearing.\n");

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#386: FILE: drivers/scsi/3w-xxxx.c:658:
+	int i, found=0;
 	            ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#389: FILE: drivers/scsi/3w-xxxx.c:661:
+        dprintk(KERN_WARNING "3w-xxxx: tw_decode_sense()\n");$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#389: FILE: drivers/scsi/3w-xxxx.c:661:
+        dprintk(KERN_WARNING "3w-xxxx: tw_decode_sense()\n");$

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'tw_decode_sense', this function's name, in a string
#389: FILE: drivers/scsi/3w-xxxx.c:661:
+        dprintk(KERN_WARNING "3w-xxxx: tw_decode_sense()\n");

WARNING:LONG_LINE: line length of 182 exceeds 100 columns
#392: FILE: drivers/scsi/3w-xxxx.c:664:
+	printk(KERN_WARNING "3w-xxxx: scsi%d: Command failed: status = 0x%x, flags = 0x%x, unit #%d.\n", tw_dev->host->host_no, command->status, command->flags, command->byte3.unit);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#392: FILE: drivers/scsi/3w-xxxx.c:664:
+	printk(KERN_WARNING "3w-xxxx: scsi%d: Command failed: status = 0x%x, flags = 0x%x, unit #%d.\n", tw_dev->host->host_no, command->status, command->flags, command->byte3.unit);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'command->status == 0xc7'
#396: FILE: drivers/scsi/3w-xxxx.c:668:
+		if ((command->status == 0xc7) || (command->status == 0xcb)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'command->status == 0xcb'
#396: FILE: drivers/scsi/3w-xxxx.c:668:
+		if ((command->status == 0xc7) || (command->status == 0xcb)) {

WARNING:ARRAY_SIZE: Prefer ARRAY_SIZE(tw_sense_table)
#397: FILE: drivers/scsi/3w-xxxx.c:669:
+			for (i=0;i<(sizeof(tw_sense_table)/sizeof(tw_sense_table[0]));i++) {

The ARRAY_SIZE(foo) macro should be preferred over
sizeof(foo)/sizeof(foo[0]) for finding number of elements in an
array.

The macro is defined in include/linux/kernel.h::

  #define ARRAY_SIZE(x) (sizeof(x) / sizeof((x)[0]))

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#397: FILE: drivers/scsi/3w-xxxx.c:669:
+			for (i=0;i<(sizeof(tw_sense_table)/sizeof(tw_sense_table[0]));i++) {
 			      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#397: FILE: drivers/scsi/3w-xxxx.c:669:
+			for (i=0;i<(sizeof(tw_sense_table)/sizeof(tw_sense_table[0]));i++) {
 			        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#397: FILE: drivers/scsi/3w-xxxx.c:669:
+			for (i=0;i<(sizeof(tw_sense_table)/sizeof(tw_sense_table[0]));i++) {
 			          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#397: FILE: drivers/scsi/3w-xxxx.c:669:
+			for (i=0;i<(sizeof(tw_sense_table)/sizeof(tw_sense_table[0]));i++) {
 			                                  ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#397: FILE: drivers/scsi/3w-xxxx.c:669:
+			for (i=0;i<(sizeof(tw_sense_table)/sizeof(tw_sense_table[0]));i++) {
 			                                                             ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#399: FILE: drivers/scsi/3w-xxxx.c:671:
+					found=1;
 					     ^

WARNING:LONG_LINE: line length of 101 exceeds 100 columns
#402: FILE: drivers/scsi/3w-xxxx.c:674:
+					tw_dev->srb[request_id]->sense_buffer[0] = (0x1 << 7 | 0x70);

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#405: FILE: drivers/scsi/3w-xxxx.c:677:
+					tw_dev->srb[request_id]->sense_buffer[2] = tw_sense_table[i][1];

WARNING:LONG_LINE_COMMENT: line length of 102 exceeds 100 columns
#408: FILE: drivers/scsi/3w-xxxx.c:680:
+					tw_dev->srb[request_id]->sense_buffer[7] = 0xa; /* 10 bytes */

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LONG_LINE: line length of 105 exceeds 100 columns
#411: FILE: drivers/scsi/3w-xxxx.c:683:
+					tw_dev->srb[request_id]->sense_buffer[12] = tw_sense_table[i][2];

WARNING:LONG_LINE: line length of 105 exceeds 100 columns
#414: FILE: drivers/scsi/3w-xxxx.c:686:
+					tw_dev->srb[request_id]->sense_buffer[13] = tw_sense_table[i][3];

WARNING:LONG_LINE: line length of 114 exceeds 100 columns
#416: FILE: drivers/scsi/3w-xxxx.c:688:
+					tw_dev->srb[request_id]->result = (DID_OK << 16) | (CHECK_CONDITION << 1);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#463: FILE: drivers/scsi/3w-xxxx.c:782:
+				printk(KERN_WARNING "3w-xxxx: No suitable DMA available.\n");

WARNING:LONG_LINE: line length of 114 exceeds 100 columns
#494: FILE: drivers/scsi/3w-xxxx.c:834:
+					printk(KERN_WARNING "3w-xxxx: AEN drain failed for card %d.\n", numcards);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#494: FILE: drivers/scsi/3w-xxxx.c:834:
+					printk(KERN_WARNING "3w-xxxx: AEN drain failed for card %d.\n", numcards);

WARNING:LONG_LINE: line length of 131 exceeds 100 columns
#502: FILE: drivers/scsi/3w-xxxx.c:841:
+					printk(KERN_WARNING "3w-xxxx: Controller errors found, retrying for card %d.\n", numcards);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#502: FILE: drivers/scsi/3w-xxxx.c:841:
+					printk(KERN_WARNING "3w-xxxx: Controller errors found, retrying for card %d.\n", numcards);

WARNING:LONG_LINE: line length of 137 exceeds 100 columns
#511: FILE: drivers/scsi/3w-xxxx.c:849:
+					printk(KERN_WARNING "3w-xxxx: Couldn't empty response queue, retrying for card %d.\n", numcards);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#511: FILE: drivers/scsi/3w-xxxx.c:849:
+					printk(KERN_WARNING "3w-xxxx: Couldn't empty response queue, retrying for card %d.\n", numcards);

WARNING:LONG_LINE: line length of 147 exceeds 100 columns
#520: FILE: drivers/scsi/3w-xxxx.c:859:
+				printk(KERN_WARNING "3w-xxxx: Controller errors, card not responding, check all cabling for card %d.\n", numcards);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#520: FILE: drivers/scsi/3w-xxxx.c:859:
+				printk(KERN_WARNING "3w-xxxx: Controller errors, card not responding, check all cabling for card %d.\n", numcards);

WARNING:LONG_LINE: line length of 122 exceeds 100 columns
#529: FILE: drivers/scsi/3w-xxxx.c:889:
+				printk(KERN_WARNING "3w-xxxx: Connection initialization failed for card %d.\n", numcards);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#529: FILE: drivers/scsi/3w-xxxx.c:889:
+				printk(KERN_WARNING "3w-xxxx: Connection initialization failed for card %d.\n", numcards);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#548: FILE: drivers/scsi/3w-xxxx.c:898:
+				tw_host->cmd_per_lun = (TW_Q_LENGTH-1)/tw_dev->num_units;
 				                                   ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#548: FILE: drivers/scsi/3w-xxxx.c:898:
+				tw_host->cmd_per_lun = (TW_Q_LENGTH-1)/tw_dev->num_units;
 				                                      ^

WARNING:LONG_LINE: line length of 128 exceeds 100 columns
#559: FILE: drivers/scsi/3w-xxxx.c:907:
+				printk(KERN_WARNING "3w-xxxx: tw_findcards(): scsi_register() failed for card %d.\n", numcards);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#559: FILE: drivers/scsi/3w-xxxx.c:907:
+				printk(KERN_WARNING "3w-xxxx: tw_findcards(): scsi_register() failed for card %d.\n", numcards);

WARNING:LONG_LINE: line length of 124 exceeds 100 columns
#580: FILE: drivers/scsi/3w-xxxx.c:944:
+				printk(KERN_WARNING "3w-xxxx: tw_findcards(): Bad scsi host data for card %d.\n", numcards);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#580: FILE: drivers/scsi/3w-xxxx.c:944:
+				printk(KERN_WARNING "3w-xxxx: tw_findcards(): Bad scsi host data for card %d.\n", numcards);

WARNING:LONG_LINE: line length of 170 exceeds 100 columns
#589: FILE: drivers/scsi/3w-xxxx.c:994:
+			pci_free_consistent(tw_dev->tw_pci_dev, sizeof(TW_Sector), tw_dev->command_packet_virtual_address[i], tw_dev->command_packet_physical_address[i]);

WARNING:LONG_LINE: line length of 160 exceeds 100 columns
#598: FILE: drivers/scsi/3w-xxxx.c:997:
+			pci_free_consistent(tw_dev->tw_pci_dev, sizeof(TW_Sector), tw_dev->alignment_virtual_address[i], tw_dev->alignment_physical_address[i]);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#617: FILE: drivers/scsi/3w-xxxx.c:1092:
+	int i, error=0;
 	            ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#641: FILE: drivers/scsi/3w-xxxx.c:1099:
+		printk(KERN_WARNING "3w-xxxx: Command packet memory allocation failed.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#652: FILE: drivers/scsi/3w-xxxx.c:1106:
+		printk(KERN_WARNING "3w-xxxx: Generic memory allocation failed.\n");

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#659: FILE: drivers/scsi/3w-xxxx.c:1110:
+	for (i=0;i<TW_Q_LENGTH;i++) {
 	      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#659: FILE: drivers/scsi/3w-xxxx.c:1110:
+	for (i=0;i<TW_Q_LENGTH;i++) {
 	        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#659: FILE: drivers/scsi/3w-xxxx.c:1110:
+	for (i=0;i<TW_Q_LENGTH;i++) {
 	          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#659: FILE: drivers/scsi/3w-xxxx.c:1110:
+	for (i=0;i<TW_Q_LENGTH;i++) {
 	                      ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (32, 32)
#871: FILE: drivers/scsi/3w-xxxx.c:1369:
+				} else {
 				switch (tw_dev->srb[request_id]->cmnd[0]) {

WARNING:LONG_LINE: line length of 108 exceeds 100 columns
#898: FILE: drivers/scsi/3w-xxxx.c:1409:
+						tw_dev->srb[request_id]->scsi_done(tw_dev->srb[request_id]);

WARNING:LONG_LINE: line length of 112 exceeds 100 columns
#900: FILE: drivers/scsi/3w-xxxx.c:1411:
+						tw_unmap_scsi_data(tw_dev->tw_pci_dev, tw_dev->srb[request_id]);

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#937: FILE: drivers/scsi/3w-xxxx.c:1547:
+			passthru->sg_list[0].address = tw_dev->alignment_physical_address[request_id];

WARNING:LONG_LINE_STRING: line length of 103 exceeds 100 columns
#946: FILE: drivers/scsi/3w-xxxx.c:1562:
+			dprintk(KERN_WARNING "3w-xxxx: tw_ioctl(): caught TW_CMD_PACKET_WITH_DATA.\n");

A string starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!command_save"
#948: FILE: drivers/scsi/3w-xxxx.c:1564:
+			if (command_save == NULL) {

WARNING:LONG_LINE: line length of 140 exceeds 100 columns
#949: FILE: drivers/scsi/3w-xxxx.c:1565:
+				printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad alignment virtual address.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#949: FILE: drivers/scsi/3w-xxxx.c:1565:
+				printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad alignment virtual address.\n", tw_dev->host->host_no);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "ioctl->data"
#952: FILE: drivers/scsi/3w-xxxx.c:1568:
+			if (ioctl->data != NULL) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#961: FILE: drivers/scsi/3w-xxxx.c:1577:
+					for (i=0;i<use_sg;i++)
 					      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#961: FILE: drivers/scsi/3w-xxxx.c:1577:
+					for (i=0;i<use_sg;i++)
 					        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#961: FILE: drivers/scsi/3w-xxxx.c:1577:
+					for (i=0;i<use_sg;i++)
 					          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#961: FILE: drivers/scsi/3w-xxxx.c:1577:
+					for (i=0;i<use_sg;i++)
 					                 ^

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#962: FILE: drivers/scsi/3w-xxxx.c:1578:
+						total_bytes+=command_packet->byte8.param.sgl[i].length;

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#962: FILE: drivers/scsi/3w-xxxx.c:1578:
+						total_bytes+=command_packet->byte8.param.sgl[i].length;
 						           ^

WARNING:LONG_LINE: line length of 140 exceeds 100 columns
#963: FILE: drivers/scsi/3w-xxxx.c:1579:
+					tw_dev->ioctl_data[request_id] = pci_alloc_consistent(tw_dev->tw_pci_dev, total_bytes, &dma_handle);

WARNING:LONG_LINE: line length of 171 exceeds 100 columns
#966: FILE: drivers/scsi/3w-xxxx.c:1582:
+						printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): kmalloc failed for request_id %d.\n", tw_dev->host->host_no, request_id);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#966: FILE: drivers/scsi/3w-xxxx.c:1582:
+						printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): kmalloc failed for request_id %d.\n", tw_dev->host->host_no, request_id);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#972: FILE: drivers/scsi/3w-xxxx.c:1588:
+					for (i=0;i<use_sg;i++) {
 					      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#972: FILE: drivers/scsi/3w-xxxx.c:1588:
+					for (i=0;i<use_sg;i++) {
 					        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#972: FILE: drivers/scsi/3w-xxxx.c:1588:
+					for (i=0;i<use_sg;i++) {
 					          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#972: FILE: drivers/scsi/3w-xxxx.c:1588:
+					for (i=0;i<use_sg;i++) {
 					                 ^

WARNING:LONG_LINE: line length of 112 exceeds 100 columns
#973: FILE: drivers/scsi/3w-xxxx.c:1589:
+						if ((u32 *)command_packet->byte8.param.sgl[i].address != NULL) {

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#973: FILE: drivers/scsi/3w-xxxx.c:1589:
+						if ((u32 *)command_packet->byte8.param.sgl[i].address != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "command_packet->byte8.param.sgl[i].address"
#973: FILE: drivers/scsi/3w-xxxx.c:1589:
+						if ((u32 *)command_packet->byte8.param.sgl[i].address != NULL) {

WARNING:LONG_LINE: line length of 183 exceeds 100 columns
#974: FILE: drivers/scsi/3w-xxxx.c:1590:
+							error = copy_from_user(data_ptr, (u32 *)command_packet->byte8.param.sgl[i].address, command_packet->byte8.param.sgl[i].length);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#975: FILE: drivers/scsi/3w-xxxx.c:1591:
+							if (error) {

WARNING:LONG_LINE: line length of 172 exceeds 100 columns
#976: FILE: drivers/scsi/3w-xxxx.c:1592:
+								printk(KERN_WARNING "3w-xxxx: scsi%d: Error copying param sglist from userspace.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#976: FILE: drivers/scsi/3w-xxxx.c:1592:
+								printk(KERN_WARNING "3w-xxxx: scsi%d: Error copying param sglist from userspace.\n", tw_dev->host->host_no);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#979: FILE: drivers/scsi/3w-xxxx.c:1595:
+						} else {

WARNING:LONG_LINE: line length of 156 exceeds 100 columns
#980: FILE: drivers/scsi/3w-xxxx.c:1596:
+							printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad param sgl address.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#980: FILE: drivers/scsi/3w-xxxx.c:1596:
+							printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad param sgl address.\n", tw_dev->host->host_no);

WARNING:LONG_LINE: line length of 108 exceeds 100 columns
#981: FILE: drivers/scsi/3w-xxxx.c:1597:
+							tw_dev->srb[request_id]->result = (DID_RESET << 16);

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#984: FILE: drivers/scsi/3w-xxxx.c:1600:
+						data_ptr+=command_packet->byte8.param.sgl[i].length;
 						        ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#992: FILE: drivers/scsi/3w-xxxx.c:1608:
+					for (i=0;i<use_sg;i++)
 					      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#992: FILE: drivers/scsi/3w-xxxx.c:1608:
+					for (i=0;i<use_sg;i++)
 					        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#992: FILE: drivers/scsi/3w-xxxx.c:1608:
+					for (i=0;i<use_sg;i++)
 					          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#992: FILE: drivers/scsi/3w-xxxx.c:1608:
+					for (i=0;i<use_sg;i++)
 					                 ^

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#993: FILE: drivers/scsi/3w-xxxx.c:1609:
+						total_bytes+=command_packet->byte8.io.sgl[i].length;
 						           ^

WARNING:LONG_LINE: line length of 140 exceeds 100 columns
#994: FILE: drivers/scsi/3w-xxxx.c:1610:
+					tw_dev->ioctl_data[request_id] = pci_alloc_consistent(tw_dev->tw_pci_dev, total_bytes, &dma_handle);

WARNING:LONG_LINE: line length of 186 exceeds 100 columns
#997: FILE: drivers/scsi/3w-xxxx.c:1613:
+						printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): pci_alloc_consistent() failed for request_id %d.\n", tw_dev->host->host_no, request_id);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#997: FILE: drivers/scsi/3w-xxxx.c:1613:
+						printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): pci_alloc_consistent() failed for request_id %d.\n", tw_dev->host->host_no, request_id);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1003: FILE: drivers/scsi/3w-xxxx.c:1619:
+						for (i=0;i<use_sg;i++) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1003: FILE: drivers/scsi/3w-xxxx.c:1619:
+						for (i=0;i<use_sg;i++) {
 						      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#1003: FILE: drivers/scsi/3w-xxxx.c:1619:
+						for (i=0;i<use_sg;i++) {
 						        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1003: FILE: drivers/scsi/3w-xxxx.c:1619:
+						for (i=0;i<use_sg;i++) {
 						          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#1003: FILE: drivers/scsi/3w-xxxx.c:1619:
+						for (i=0;i<use_sg;i++) {
 						                 ^

WARNING:LONG_LINE: line length of 117 exceeds 100 columns
#1004: FILE: drivers/scsi/3w-xxxx.c:1620:
+							if ((u32 *)command_packet->byte8.io.sgl[i].address != NULL) {

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1004: FILE: drivers/scsi/3w-xxxx.c:1620:
+							if ((u32 *)command_packet->byte8.io.sgl[i].address != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "command_packet->byte8.io.sgl[i].address"
#1004: FILE: drivers/scsi/3w-xxxx.c:1620:
+							if ((u32 *)command_packet->byte8.io.sgl[i].address != NULL) {

WARNING:LONG_LINE: line length of 185 exceeds 100 columns
#1005: FILE: drivers/scsi/3w-xxxx.c:1621:
+								error = copy_from_user(data_ptr, (u32 *)command_packet->byte8.io.sgl[i].address, command_packet->byte8.io.sgl[i].length);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1006: FILE: drivers/scsi/3w-xxxx.c:1622:
+								if (error) {

WARNING:LONG_LINE: line length of 177 exceeds 100 columns
#1007: FILE: drivers/scsi/3w-xxxx.c:1623:
+									printk(KERN_WARNING "3w-xxxx: scsi%d: Error copying io sglist from userspace.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1007: FILE: drivers/scsi/3w-xxxx.c:1623:
+									printk(KERN_WARNING "3w-xxxx: scsi%d: Error copying io sglist from userspace.\n", tw_dev->host->host_no);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1010: FILE: drivers/scsi/3w-xxxx.c:1626:
+							} else {

WARNING:LONG_LINE: line length of 161 exceeds 100 columns
#1011: FILE: drivers/scsi/3w-xxxx.c:1627:
+								printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad io sgl address.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1011: FILE: drivers/scsi/3w-xxxx.c:1627:
+								printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad io sgl address.\n", tw_dev->host->host_no);

WARNING:LONG_LINE: line length of 116 exceeds 100 columns
#1012: FILE: drivers/scsi/3w-xxxx.c:1628:
+								tw_dev->srb[request_id]->result = (DID_RESET << 16);

WARNING:LONG_LINE: line length of 105 exceeds 100 columns
#1015: FILE: drivers/scsi/3w-xxxx.c:1631:
+							data_ptr+=command_packet->byte8.io.sgl[i].length;

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#1015: FILE: drivers/scsi/3w-xxxx.c:1631:
+							data_ptr+=command_packet->byte8.io.sgl[i].length;
 							        ^

WARNING:LONG_LINE: line length of 152 exceeds 100 columns
#1034: FILE: drivers/scsi/3w-xxxx.c:1650:
+					dprintk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Signal pending, aborting ioctl().\n", tw_dev->host->host_no);

WARNING:LONG_LINE: line length of 108 exceeds 100 columns
#1043: FILE: drivers/scsi/3w-xxxx.c:1659:
+					data_ptr = phys_to_virt(command_packet->byte8.param.sgl[0].address);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1044: FILE: drivers/scsi/3w-xxxx.c:1660:
+					for (i=0;i<use_sg;i++) {
 					      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#1044: FILE: drivers/scsi/3w-xxxx.c:1660:
+					for (i=0;i<use_sg;i++) {
 					        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1044: FILE: drivers/scsi/3w-xxxx.c:1660:
+					for (i=0;i<use_sg;i++) {
 					          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#1044: FILE: drivers/scsi/3w-xxxx.c:1660:
+					for (i=0;i<use_sg;i++) {
 					                 ^

WARNING:LONG_LINE: line length of 110 exceeds 100 columns
#1045: FILE: drivers/scsi/3w-xxxx.c:1661:
+						if ((u32 *)command_save->byte8.param.sgl[i].address != NULL) {

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1045: FILE: drivers/scsi/3w-xxxx.c:1661:
+						if ((u32 *)command_save->byte8.param.sgl[i].address != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "command_save->byte8.param.sgl[i].address"
#1045: FILE: drivers/scsi/3w-xxxx.c:1661:
+						if ((u32 *)command_save->byte8.param.sgl[i].address != NULL) {

WARNING:LONG_LINE: line length of 177 exceeds 100 columns
#1046: FILE: drivers/scsi/3w-xxxx.c:1662:
+							error = copy_to_user((u32 *)command_save->byte8.param.sgl[i].address, data_ptr, command_save->byte8.param.sgl[i].length);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1047: FILE: drivers/scsi/3w-xxxx.c:1663:
+							if (error) {

WARNING:LONG_LINE: line length of 170 exceeds 100 columns
#1048: FILE: drivers/scsi/3w-xxxx.c:1664:
+								printk(KERN_WARNING "3w-xxxx: scsi%d: Error copying param sglist to userspace.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1048: FILE: drivers/scsi/3w-xxxx.c:1664:
+								printk(KERN_WARNING "3w-xxxx: scsi%d: Error copying param sglist to userspace.\n", tw_dev->host->host_no);

WARNING:LONG_LINE: line length of 205 exceeds 100 columns
#1051: FILE: drivers/scsi/3w-xxxx.c:1667:
+							dprintk(KERN_WARNING "3w-xxxx: scsi%d: Copied %ld bytes to pid %d.\n", tw_dev->host->host_no, command_save->byte8.param.sgl[i].length, current->pid);

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#1052: FILE: drivers/scsi/3w-xxxx.c:1668:
+							data_ptr+=command_save->byte8.param.sgl[i].length;

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#1052: FILE: drivers/scsi/3w-xxxx.c:1668:
+							data_ptr+=command_save->byte8.param.sgl[i].length;
 							        ^

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1053: FILE: drivers/scsi/3w-xxxx.c:1669:
+						} else {

WARNING:LONG_LINE: line length of 156 exceeds 100 columns
#1054: FILE: drivers/scsi/3w-xxxx.c:1670:
+							printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad param sgl address.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1054: FILE: drivers/scsi/3w-xxxx.c:1670:
+							printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad param sgl address.\n", tw_dev->host->host_no);

WARNING:LONG_LINE: line length of 108 exceeds 100 columns
#1055: FILE: drivers/scsi/3w-xxxx.c:1671:
+							tw_dev->srb[request_id]->result = (DID_RESET << 16);

WARNING:LONG_LINE: line length of 113 exceeds 100 columns
#1063: FILE: drivers/scsi/3w-xxxx.c:1679:
+						data_ptr = phys_to_virt(command_packet->byte8.io.sgl[0].address);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1064: FILE: drivers/scsi/3w-xxxx.c:1680:
+						for(i=0;i<use_sg;i++) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1064: FILE: drivers/scsi/3w-xxxx.c:1680:
+						for(i=0;i<use_sg;i++) {
 						     ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#1064: FILE: drivers/scsi/3w-xxxx.c:1680:
+						for(i=0;i<use_sg;i++) {
 						       ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1064: FILE: drivers/scsi/3w-xxxx.c:1680:
+						for(i=0;i<use_sg;i++) {
 						         ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#1064: FILE: drivers/scsi/3w-xxxx.c:1680:
+						for(i=0;i<use_sg;i++) {
 						                ^

ERROR:SPACING: space required before the open parenthesis '('
#1064: FILE: drivers/scsi/3w-xxxx.c:1680:
+						for(i=0;i<use_sg;i++) {

WARNING:LONG_LINE: line length of 115 exceeds 100 columns
#1065: FILE: drivers/scsi/3w-xxxx.c:1681:
+							if ((u32 *)command_save->byte8.io.sgl[i].address != NULL) {

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1065: FILE: drivers/scsi/3w-xxxx.c:1681:
+							if ((u32 *)command_save->byte8.io.sgl[i].address != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "command_save->byte8.io.sgl[i].address"
#1065: FILE: drivers/scsi/3w-xxxx.c:1681:
+							if ((u32 *)command_save->byte8.io.sgl[i].address != NULL) {

WARNING:LONG_LINE: line length of 179 exceeds 100 columns
#1066: FILE: drivers/scsi/3w-xxxx.c:1682:
+								error = copy_to_user((u32 *)command_save->byte8.io.sgl[i].address, data_ptr, command_save->byte8.io.sgl[i].length);

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1067: FILE: drivers/scsi/3w-xxxx.c:1683:
+								if (error) {

WARNING:LONG_LINE: line length of 175 exceeds 100 columns
#1068: FILE: drivers/scsi/3w-xxxx.c:1684:
+									printk(KERN_WARNING "3w-xxxx: scsi%d: Error copying io sglist to userspace.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1068: FILE: drivers/scsi/3w-xxxx.c:1684:
+									printk(KERN_WARNING "3w-xxxx: scsi%d: Error copying io sglist to userspace.\n", tw_dev->host->host_no);

WARNING:LONG_LINE: line length of 210 exceeds 100 columns
#1071: FILE: drivers/scsi/3w-xxxx.c:1687:
+								dprintk(KERN_WARNING "3w-xxxx: scsi%d: Copied %ld bytes to pid %d.\n", tw_dev->host->host_no, command_save->byte8.io.sgl[i].length, current->pid);

WARNING:LONG_LINE: line length of 111 exceeds 100 columns
#1072: FILE: drivers/scsi/3w-xxxx.c:1688:
+								data_ptr+=command_save->byte8.io.sgl[i].length;

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#1072: FILE: drivers/scsi/3w-xxxx.c:1688:
+								data_ptr+=command_save->byte8.io.sgl[i].length;
 								        ^

WARNING:DEEP_INDENTATION: Too many leading tabs - consider code refactoring
#1073: FILE: drivers/scsi/3w-xxxx.c:1689:
+							} else {

WARNING:LONG_LINE: line length of 161 exceeds 100 columns
#1074: FILE: drivers/scsi/3w-xxxx.c:1690:
+								printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad io sgl address.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1074: FILE: drivers/scsi/3w-xxxx.c:1690:
+								printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Bad io sgl address.\n", tw_dev->host->host_no);

WARNING:LONG_LINE: line length of 116 exceeds 100 columns
#1075: FILE: drivers/scsi/3w-xxxx.c:1691:
+								tw_dev->srb[request_id]->result = (DID_RESET << 16);

WARNING:INDENTED_LABEL: labels should not be indented
#1082: FILE: drivers/scsi/3w-xxxx.c:1698:
+			tw_ioctl_bail:

WARNING:LONG_LINE: line length of 137 exceeds 100 columns
#1086: FILE: drivers/scsi/3w-xxxx.c:1702:
+					pci_free_consistent(tw_dev->tw_pci_dev, total_bytes, tw_dev->ioctl_data[request_id], dma_handle);

WARNING:LONG_LINE: line length of 143 exceeds 100 columns
#1088: FILE: drivers/scsi/3w-xxxx.c:1704:
+					printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Error freeing ioctl data.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1088: FILE: drivers/scsi/3w-xxxx.c:1704:
+					printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl(): Error freeing ioctl data.\n", tw_dev->host->host_no);

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#1096: FILE: drivers/scsi/3w-xxxx.c:1712:
+				return 0;
+			} else {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1097: FILE: drivers/scsi/3w-xxxx.c:1713:
+				printk(KERN_WARNING "3w-xxxx: tw_ioctl(): ioctl->data NULL.\n");

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!command_packet"
#1117: FILE: drivers/scsi/3w-xxxx.c:1770:
+	if (command_packet == NULL) {

WARNING:LONG_LINE: line length of 138 exceeds 100 columns
#1118: FILE: drivers/scsi/3w-xxxx.c:1771:
+		printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl_complete(): Bad command packet virtual address.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1118: FILE: drivers/scsi/3w-xxxx.c:1771:
+		printk(KERN_WARNING "3w-xxxx: scsi%d: tw_ioctl_complete(): Bad command packet virtual address.\n", tw_dev->host->host_no);

WARNING:LONG_LINE_STRING: line length of 112 exceeds 100 columns
#1130: FILE: drivers/scsi/3w-xxxx.c:1784:
+			dprintk(KERN_WARNING "3w-xxxx: tw_ioctl_complete(): caught TW_CMD_PACKET_WITH_DATA.\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'tw_map_scsi_sg_data', this function's name, in a string
#1144: FILE: drivers/scsi/3w-xxxx.c:1804:
+	dprintk(KERN_WARNING "3w-xxxx: tw_map_scsi_sg_data()\n");

CHECK:CAMELCASE: Avoid CamelCase: <SCp>
#1150: FILE: drivers/scsi/3w-xxxx.c:1810:
+	cmd->SCp.phase = 2;

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'tw_map_scsi_single_data', this function's name, in a string
#1161: FILE: drivers/scsi/3w-xxxx.c:1821:
+	dprintk(KERN_WARNING "3w-xxxx: tw_map_scsi_single_data()\n");

WARNING:LONG_LINE: line length of 117 exceeds 100 columns
#1216: FILE: drivers/scsi/3w-xxxx.c:1982:
+			printk(KERN_WARNING "3w-xxxx: scsi%d: AEN drain failed, retrying.\n", tw_dev->host->host_no);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1216: FILE: drivers/scsi/3w-xxxx.c:1982:
+			printk(KERN_WARNING "3w-xxxx: scsi%d: AEN drain failed, retrying.\n", tw_dev->host->host_no);

WARNING:ONE_SEMICOLON: Statements terminations use 1 semicolon
#1281: FILE: drivers/scsi/3w-xxxx.c:2635:
+		use_sg = tw_map_scsi_sg_data(tw_dev->tw_pci_dev, tw_dev->srb[request_id]);;

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1282: FILE: drivers/scsi/3w-xxxx.c:2636:
+		for (i=0;i<use_sg; i++) {
 		      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#1282: FILE: drivers/scsi/3w-xxxx.c:2636:
+		for (i=0;i<use_sg; i++) {
 		        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1282: FILE: drivers/scsi/3w-xxxx.c:2636:
+		for (i=0;i<use_sg; i++) {
 		          ^

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#1285: FILE: drivers/scsi/3w-xxxx.c:2639:
+			command_packet->size+=2;
 			                    ^

ERROR:SPACING: spaces required around that '-=' (ctx:VxV)
#1309: FILE: drivers/scsi/3w-xxxx.c:2642:
+			command_packet->size-=2;
 			                    ^

WARNING:LONG_LINE: line length of 101 exceeds 100 columns
#1333: FILE: drivers/scsi/3w-xxxx.c:2668:
+	memset(tw_dev->srb[request_id]->request_buffer, 0, tw_dev->srb[request_id]->request_bufflen);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'tw_unmap_scsi_data', this function's name, in a string
#1381: FILE: drivers/scsi/3w-xxxx.c:2885:
+	dprintk(KERN_WARNING "3w-xxxx: tw_unmap_scsi_data()\n");

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1409: FILE: drivers/scsi/3w-xxxx.h:9:
+   Copyright (C) 1999-2002 3ware Inc.$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1409: FILE: drivers/scsi/3w-xxxx.h:9:
+   Copyright (C) 1999-2002 3ware Inc.

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1409: FILE: drivers/scsi/3w-xxxx.h:9:
+   Copyright (C) 1999-2002 3ware Inc.
                      ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1436: FILE: drivers/scsi/3w-xxxx.h:101:
+/*
+   Sense key lookup table

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#1440: FILE: drivers/scsi/3w-xxxx.h:105:
+static unsigned char tw_sense_table[][4] =
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#1442: FILE: drivers/scsi/3w-xxxx.h:107:
+                            // ATA Error                    SCSI Error$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1443: FILE: drivers/scsi/3w-xxxx.h:108:
+  {0x01, 0x03, 0x13, 0x00}, // Address mark not found       Address mark not found for data field$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1444: FILE: drivers/scsi/3w-xxxx.h:109:
+  {0x04, 0x0b, 0x00, 0x00}, // Aborted command              Aborted command$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1445: FILE: drivers/scsi/3w-xxxx.h:110:
+  {0x10, 0x0b, 0x14, 0x00}, // ID not found                 Recorded entity not found$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1446: FILE: drivers/scsi/3w-xxxx.h:111:
+  {0x40, 0x03, 0x11, 0x00}, // Uncorrectable ECC error      Unrecovered read error$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1447: FILE: drivers/scsi/3w-xxxx.h:112:
+  {0x61, 0x04, 0x00, 0x00}, // Device fault                 Hardware error$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1448: FILE: drivers/scsi/3w-xxxx.h:113:
+  {0x84, 0x0b, 0x47, 0x00}, // Data CRC error               SCSI parity error$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1449: FILE: drivers/scsi/3w-xxxx.h:114:
+  {0xd0, 0x0b, 0x00, 0x00}, // Device busy                  Aborted command$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1450: FILE: drivers/scsi/3w-xxxx.h:115:
+  {0xd1, 0x0b, 0x00, 0x00}, // Device busy                  Aborted command$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1453: FILE: drivers/scsi/3w-xxxx.h:118:
+                            // 3ware Error                  SCSI Error$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1454: FILE: drivers/scsi/3w-xxxx.h:119:
+  {0x09, 0x0b, 0x00, 0x00}, // Unrecovered disk error       Aborted command$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1455: FILE: drivers/scsi/3w-xxxx.h:120:
+  {0x37, 0x0b, 0x04, 0x00}, // Unit offline                 Logical unit not ready$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1456: FILE: drivers/scsi/3w-xxxx.h:121:
+  {0x51, 0x0b, 0x00, 0x00}  // Unspecified                  Aborted command$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000473633.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 74 errors, 156 warnings, 23 checks, 1460 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000473633.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
