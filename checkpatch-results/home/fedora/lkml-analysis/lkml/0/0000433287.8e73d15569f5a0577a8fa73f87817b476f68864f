WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#38: 
diff -ru linux-2.5.34/drivers/block/genhd.c clnstat-2.5.34/drivers/block/genhd.c

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#89: FILE: drivers/block/genhd.c:223:
+		seq_printf(s,
+		    "%8lx: major=%d, part=%8lx, first_minor=%d, minor_shift=%d\n",

CHECK:SPACING: No space is necessary after a cast
#90: FILE: drivers/block/genhd.c:224:
+		    (unsigned long) gp,

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#91: FILE: drivers/block/genhd.c:225:
+		    (int) gp->major,

CHECK:SPACING: No space is necessary after a cast
#92: FILE: drivers/block/genhd.c:226:
+		    (unsigned long) gp->part,

CHECK:SPACING: No space is necessary after a cast
#93: FILE: drivers/block/genhd.c:227:
+		    (int) gp->first_minor,

CHECK:SPACING: No space is necessary after a cast
#94: FILE: drivers/block/genhd.c:228:
+		    (int) gp->minor_shift);

WARNING:SPLIT_STRING: quoted string split across lines
#108: FILE: drivers/block/genhd.c:242:
+		seq_puts(s, "          major minor  #blocks  name"
+			    "      rio   rmerge    rsect     ruse      wio"

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#109: FILE: drivers/block/genhd.c:243:
+			    "      rio   rmerge    rsect     ruse      wio"
+			    "   wmerge    wsect     wuse  running      use"

WARNING:SPLIT_STRING: quoted string split across lines
#110: FILE: drivers/block/genhd.c:244:
+			    "   wmerge    wsect     wuse  running      use"
+			    "     aveq"

WARNING:SPLIT_STRING: quoted string split across lines
#111: FILE: drivers/block/genhd.c:245:
+			    "     aveq"
+			    "\n\n");

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#116: FILE: drivers/block/genhd.c:250:
+	if (hd) {
+	    disk_round_stats(hd);

WARNING:SPLIT_STRING: quoted string split across lines
#119: FILE: drivers/block/genhd.c:253:
+	    seq_printf(s, "%8x %4d  %4d %10ld %-5s "
+		      "%8d %8d %8d %8d %8d %8d %8d %8d %8d %8d %8d\n",

CHECK:SPACING: No space is necessary after a cast
#120: FILE: drivers/block/genhd.c:254:
+		      (unsigned int) hd,

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#133: FILE: drivers/block/genhd.c:267:
+	for (n = 0; n < (1 << gp->minor_shift)-1; n++) {
 	                                      ^

WARNING:SPLIT_STRING: quoted string split across lines
#138: FILE: drivers/block/genhd.c:272:
+			seq_printf(s, "%8x %4d  %4d %10ld %-5s "
+				      "%8d %8d %8d %8d %8d %8d %8d %8d %8d %8d %8d\n",

CHECK:SPACING: No space is necessary after a cast
#139: FILE: drivers/block/genhd.c:273:
+				      (unsigned int) hd,

WARNING:CONST_STRUCT: struct seq_operations should normally be const
#156: FILE: drivers/block/genhd.c:290:
+struct seq_operations diskstats_op = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:INDENTED_LABEL: labels should not be indented
#157: FILE: drivers/block/genhd.c:291:
+	start:	diskstats_start,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#158: FILE: drivers/block/genhd.c:292:
+	next:	diskstats_next,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#158: FILE: drivers/block/genhd.c:292:
+	next:	diskstats_next,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#159: FILE: drivers/block/genhd.c:293:
+	stop:	diskstats_stop,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#159: FILE: drivers/block/genhd.c:293:
+	stop:	diskstats_stop,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#160: FILE: drivers/block/genhd.c:294:
+	show:	diskstats_show
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#160: FILE: drivers/block/genhd.c:294:
+	show:	diskstats_show

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 20)
#192: FILE: drivers/block/ll_rw_blk.c:1350:
+		if (partition < 0) {
+		    hd = &gd->whole_disk;

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#192: FILE: drivers/block/ll_rw_blk.c:1350:
+		if (partition < 0) {
[...]
+		} else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 19)
#194: FILE: drivers/block/ll_rw_blk.c:1352:
+		} else {
+		   hd = &gd->part[partition];

ERROR:TRAILING_WHITESPACE: trailing whitespace
#223: FILE: drivers/block/ll_rw_blk.c:1381:
+^Ihd->last_idle_time = now;^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#228: FILE: drivers/block/ll_rw_blk.c:1386:
+^Idisk_round_stats(hd);^I$

WARNING:BRACES: braces {} are not necessary for single statement blocks
#246: FILE: drivers/block/ll_rw_blk.c:1404:
+	if (gd) {
+		hd= &gd->part[(minor(kdev) & ((1 << gd->minor_shift) - 1)) - 1];
+	}

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#247: FILE: drivers/block/ll_rw_blk.c:1405:
+		hd= &gd->part[(minor(kdev) & ((1 << gd->minor_shift) - 1)) - 1];
 		  ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#382: FILE: drivers/block/ll_rw_blk.c:1882:
+^I^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#391: FILE: drivers/block/ll_rw_blk.c:2218:
+	req_finished_io(req,0);
 	                   ^

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#402: FILE: fs/proc/proc_misc.c:264:
+extern struct seq_operations diskstats_op;

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:CONST_STRUCT: struct seq_operations should normally be const
#402: FILE: fs/proc/proc_misc.c:264:
+extern struct seq_operations diskstats_op;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#407: FILE: fs/proc/proc_misc.c:269:
+}
+static struct file_operations proc_diskstats_operations = {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:CONST_STRUCT: struct file_operations should normally be const
#407: FILE: fs/proc/proc_misc.c:269:
+static struct file_operations proc_diskstats_operations = {

WARNING:INDENTED_LABEL: labels should not be indented
#408: FILE: fs/proc/proc_misc.c:270:
+	open:		diskstats_open,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#409: FILE: fs/proc/proc_misc.c:271:
+	read:		seq_read,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#409: FILE: fs/proc/proc_misc.c:271:
+	read:		seq_read,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#410: FILE: fs/proc/proc_misc.c:272:
+	llseek:		seq_lseek,
 	      ^

WARNING:INDENTED_LABEL: labels should not be indented
#410: FILE: fs/proc/proc_misc.c:272:
+	llseek:		seq_lseek,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#411: FILE: fs/proc/proc_misc.c:273:
+	release:	seq_release,
 	       ^

WARNING:INDENTED_LABEL: labels should not be indented
#411: FILE: fs/proc/proc_misc.c:273:
+	release:	seq_release,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#457: FILE: include/linux/genhd.h:80:
+^Iunsigned int wr_sectors;^I$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#476: FILE: include/linux/genhd.h:285:
+extern void disk_round_stats(struct hd_struct *hd);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#477: FILE: include/linux/genhd.h:286:
+extern void req_new_io(struct request *req, int merge, int sectors);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#478: FILE: include/linux/genhd.h:287:
+extern void req_merged_io(struct request *req);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#479: FILE: include/linux/genhd.h:288:
+extern void req_finished_io(struct request *req, int tag);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000433287.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 12 errors, 24 warnings, 14 checks, 416 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000433287.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
