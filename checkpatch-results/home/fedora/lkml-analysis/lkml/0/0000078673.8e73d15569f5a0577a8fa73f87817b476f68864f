WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#38: FILE: drivers/net/myri10ge/myri10ge.c:1:
+/*************************************************************************

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#101: FILE: drivers/net/myri10ge/myri10ge.c:64:
+#include <asm/io.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pci.h> instead of <asm/pci.h>
#102: FILE: drivers/net/myri10ge/myri10ge.c:65:
+#include <asm/pci.h>

WARNING:INCLUDE_LINUX: Use #include <linux/processor.h> instead of <asm/processor.h>
#103: FILE: drivers/net/myri10ge/myri10ge.c:66:
+#include <asm/processor.h>

WARNING:NEW_TYPEDEFS: do not add new typedefs
#142: FILE: drivers/net/myri10ge/myri10ge.c:105:
+typedef struct {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#143: FILE: drivers/net/myri10ge/myri10ge.c:106:
+	uint32_t data0;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#144: FILE: drivers/net/myri10ge/myri10ge.c:107:
+	uint32_t data1;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#145: FILE: drivers/net/myri10ge/myri10ge.c:108:
+	uint32_t data2;

WARNING:NEW_TYPEDEFS: do not add new typedefs
#148: FILE: drivers/net/myri10ge/myri10ge.c:111:
+typedef struct {

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#150: FILE: drivers/net/myri10ge/myri10ge.c:113:
+	volatile uint8_t __iomem *wc_fifo;	/* w/c rx dma addr fifo address */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#150: FILE: drivers/net/myri10ge/myri10ge.c:113:
+	volatile uint8_t __iomem *wc_fifo;	/* w/c rx dma addr fifo address */

WARNING:NEW_TYPEDEFS: do not add new typedefs
#158: FILE: drivers/net/myri10ge/myri10ge.c:121:
+typedef struct {

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#160: FILE: drivers/net/myri10ge/myri10ge.c:123:
+	volatile uint8_t __iomem *wc_fifo;	/* w/c send fifo address */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#160: FILE: drivers/net/myri10ge/myri10ge.c:123:
+	volatile uint8_t __iomem *wc_fifo;	/* w/c send fifo address */

WARNING:NEW_TYPEDEFS: do not add new typedefs
#172: FILE: drivers/net/myri10ge/myri10ge.c:135:
+typedef struct {

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#180: FILE: drivers/net/myri10ge/myri10ge.c:143:
+^Iint running;^I^I^I/* running? ^I^I*/$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#181: FILE: drivers/net/myri10ge/myri10ge.c:144:
+^Iint csum_flag;^I^I^I/* rx_csums? ^I^I*/$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#182: FILE: drivers/net/myri10ge/myri10ge.c:145:
+^Imyri10ge_tx_buf_t tx;^I/* transmit ring ^I*/$

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#189: FILE: drivers/net/myri10ge/myri10ge.c:152:
+	volatile uint8_t __iomem *sram;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#189: FILE: drivers/net/myri10ge/myri10ge.c:152:
+	volatile uint8_t __iomem *sram;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#193: FILE: drivers/net/myri10ge/myri10ge.c:156:
+	volatile uint32_t __iomem *irq_claim;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#193: FILE: drivers/net/myri10ge/myri10ge.c:156:
+	volatile uint32_t __iomem *irq_claim;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#194: FILE: drivers/net/myri10ge/myri10ge.c:157:
+	volatile uint32_t __iomem *irq_deassert;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#194: FILE: drivers/net/myri10ge/myri10ge.c:157:
+	volatile uint32_t __iomem *irq_deassert;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#205: FILE: drivers/net/myri10ge/myri10ge.c:168:
+	volatile uint32_t __iomem *intr_coal_delay_ptr;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#205: FILE: drivers/net/myri10ge/myri10ge.c:168:
+	volatile uint32_t __iomem *intr_coal_delay_ptr;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#207: FILE: drivers/net/myri10ge/myri10ge.c:170:
+	spinlock_t cmd_lock;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#220: FILE: drivers/net/myri10ge/myri10ge.c:183:
+	uint8_t	mac_addr[6];	/* eeprom mac address */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#223: FILE: drivers/net/myri10ge/myri10ge.c:186:
+	uint32_t devctl;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#224: FILE: drivers/net/myri10ge/myri10ge.c:187:
+	uint32_t msi_addr_low;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#225: FILE: drivers/net/myri10ge/myri10ge.c:188:
+	uint32_t msi_addr_high;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#226: FILE: drivers/net/myri10ge/myri10ge.c:189:
+	uint16_t msi_flags;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#227: FILE: drivers/net/myri10ge/myri10ge.c:190:
+	uint16_t msi_data_32;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#228: FILE: drivers/net/myri10ge/myri10ge.c:191:
+	uint16_t msi_data_64;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#229: FILE: drivers/net/myri10ge/myri10ge.c:192:
+	uint32_t pm_state[16];

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#230: FILE: drivers/net/myri10ge/myri10ge.c:193:
+	uint32_t read_dma;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#231: FILE: drivers/net/myri10ge/myri10ge.c:194:
+	uint32_t write_dma;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#232: FILE: drivers/net/myri10ge/myri10ge.c:195:
+	uint32_t read_write_dma;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#235: FILE: drivers/net/myri10ge/myri10ge.c:198:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#236: FILE: drivers/net/myri10ge/myri10ge.c:199:
+static char *myri10ge_fw_name = NULL;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#250: FILE: drivers/net/myri10ge/myri10ge.c:213:
+static int myri10ge_force_firmware = 0;

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#251: FILE: drivers/net/myri10ge/myri10ge.c:214:
+static int myri10ge_skb_cross_4k = 0;

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#258: FILE: drivers/net/myri10ge/myri10ge.c:221:
+module_param(myri10ge_fw_name, charp, S_IRUGO | S_IWUSR);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#259: FILE: drivers/net/myri10ge/myri10ge.c:222:
+module_param(myri10ge_max_intr_slots, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#260: FILE: drivers/net/myri10ge/myri10ge.c:223:
+module_param(myri10ge_small_bytes, int, S_IRUGO | S_IWUSR);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#262: FILE: drivers/net/myri10ge/myri10ge.c:225:
+module_param(myri10ge_msi, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#264: FILE: drivers/net/myri10ge/myri10ge.c:227:
+module_param(myri10ge_intr_coal_delay, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#266: FILE: drivers/net/myri10ge/myri10ge.c:229:
+module_param(myri10ge_ecrc_enable, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#268: FILE: drivers/net/myri10ge/myri10ge.c:231:
+module_param(myri10ge_flow_control, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#269: FILE: drivers/net/myri10ge/myri10ge.c:232:
+module_param(myri10ge_deassert_wait, int, S_IRUGO | S_IWUSR);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#270: FILE: drivers/net/myri10ge/myri10ge.c:233:
+module_param(myri10ge_force_firmware, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#271: FILE: drivers/net/myri10ge/myri10ge.c:234:
+module_param(myri10ge_skb_cross_4k, int, S_IRUGO | S_IWUSR);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#272: FILE: drivers/net/myri10ge/myri10ge.c:235:
+module_param(myri10ge_initial_mtu, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#273: FILE: drivers/net/myri10ge/myri10ge.c:236:
+module_param(myri10ge_napi, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#274: FILE: drivers/net/myri10ge/myri10ge.c:237:
+module_param(myri10ge_napi_weight, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#275: FILE: drivers/net/myri10ge/myri10ge.c:238:
+module_param(myri10ge_watchdog_timeout, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#276: FILE: drivers/net/myri10ge/myri10ge.c:239:
+module_param(myri10ge_max_irq_loops, int, S_IRUGO);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#278: FILE: drivers/net/myri10ge/myri10ge.c:241:
+#define MYRI10GE_FW_OFFSET 1024*1024
                                ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#278: FILE: drivers/net/myri10ge/myri10ge.c:241:
+#define MYRI10GE_FW_OFFSET 1024*1024

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#279: FILE: drivers/net/myri10ge/myri10ge.c:242:
+#define MYRI10GE_HIGHPART_TO_U32(X) \
+(sizeof (X) == 8) ? ((uint32_t)((uint64_t)(X) >> 32)) : (0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#280: FILE: drivers/net/myri10ge/myri10ge.c:243:
+(sizeof (X) == 8) ? ((uint32_t)((uint64_t)(X) >> 32)) : (0)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#283: FILE: drivers/net/myri10ge/myri10ge.c:246:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#283: FILE: drivers/net/myri10ge/myri10ge.c:246:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#283: FILE: drivers/net/myri10ge/myri10ge.c:246:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#283: FILE: drivers/net/myri10ge/myri10ge.c:246:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                                 ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#283: FILE: drivers/net/myri10ge/myri10ge.c:246:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                                      ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'size' may be better as '(size)' to avoid precedence issues
#283: FILE: drivers/net/myri10ge/myri10ge.c:246:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#287: FILE: drivers/net/myri10ge/myri10ge.c:250:
+	uint8_t cap_off;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#294: FILE: drivers/net/myri10ge/myri10ge.c:257:
+		uint32_t cap_hdr;

WARNING:LINE_SPACING: Missing a blank line after declarations
#295: FILE: drivers/net/myri10ge/myri10ge.c:258:
+		uint32_t cap_hdr;
+		if (cap_off == 0 || cap_off == 0xff)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#300: FILE: drivers/net/myri10ge/myri10ge.c:263:
+		if (pci_read_config_dword(pdev, cap_off, &cap_hdr) == 0
+		    && (cap_hdr & 0xff) == 8 /* hypertransport cap */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#301: FILE: drivers/net/myri10ge/myri10ge.c:264:
+		    && (cap_hdr & 0xff) == 8 /* hypertransport cap */
+		    && (cap_hdr & 0xf8000000) == 0xa8000000 /* msi mapping */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#302: FILE: drivers/net/myri10ge/myri10ge.c:265:
+		    && (cap_hdr & 0xf8000000) == 0xa8000000 /* msi mapping */
+		    && (cap_hdr & 0x10000) /* msi mapping cap enabled */) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#318: FILE: drivers/net/myri10ge/myri10ge.c:281:
+	while (pdev->bus && pdev->bus->self) {
+		pdev = pdev->bus->self;
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#323: FILE: drivers/net/myri10ge/myri10ge.c:286:
+	if (pdev->vendor == PCI_VENDOR_ID_INTEL
+	    || myri10ge_hyper_msi_cap_on(pdev))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#336: FILE: drivers/net/myri10ge/myri10ge.c:299:
+
+

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#343: FILE: drivers/net/myri10ge/myri10ge.c:306:
+	volatile mcp_cmd_response_t *response = mgp->cmd;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#344: FILE: drivers/net/myri10ge/myri10ge.c:307:
+	volatile char __iomem *cmd_addr = mgp->sram + MYRI10GE_MCP_CMD_OFFSET;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#345: FILE: drivers/net/myri10ge/myri10ge.c:308:
+	uint32_t dma_low, dma_high;

CHECK:SPACING: No space is necessary after a cast
#349: FILE: drivers/net/myri10ge/myri10ge.c:312:
+	buf = (mcp_cmd_t *) ((unsigned long)(buf_bytes + 7) & ~7UL);

WARNING:MEMORY_BARRIER: memory barrier without comment
#362: FILE: drivers/net/myri10ge/myri10ge.c:325:
+	mb();

CHECK:SPACING: No space is necessary after a cast
#363: FILE: drivers/net/myri10ge/myri10ge.c:326:
+	myri10ge_pio_copy((void __iomem *) cmd_addr, buf, sizeof (*buf));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#363: FILE: drivers/net/myri10ge/myri10ge.c:326:
+	myri10ge_pio_copy((void __iomem *) cmd_addr, buf, sizeof (*buf));

WARNING:MEMORY_BARRIER: memory barrier without comment
#367: FILE: drivers/net/myri10ge/myri10ge.c:330:
+		mb();

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#373: FILE: drivers/net/myri10ge/myri10ge.c:336:
+				return 0;
+			} else {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#385: FILE: drivers/net/myri10ge/myri10ge.c:348:
+	dev_err(&mgp->pdev->dev, "command %d timed out, result = %d\n",
+	       cmd, ntohl(response->result));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#389: FILE: drivers/net/myri10ge/myri10ge.c:352:
+
+

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#391: FILE: drivers/net/myri10ge/myri10ge.c:354:
+/*
+ * The eeprom strings on the lanaiX have the format

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#413: FILE: drivers/net/myri10ge/myri10ge.c:376:
+				mgp->mac_addr[i] = simple_strtoul(ptr, &ptr, 16);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:SPACING: No space is necessary after a cast
#417: FILE: drivers/net/myri10ge/myri10ge.c:380:
+		if (memcmp((const void *) ptr, "SN=", 3) == 0) {

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#419: FILE: drivers/net/myri10ge/myri10ge.c:382:
+			mgp->serial_number = simple_strtoul(ptr, &ptr, 10);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#421: FILE: drivers/net/myri10ge/myri10ge.c:384:
+		while (ptr < limit && *ptr++);

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:WHILE_AFTER_BRACE: while should follow close brace '}'
#421: FILE: drivers/net/myri10ge/myri10ge.c:384:
+		}
+		while (ptr < limit && *ptr++);

while should follow the closing bracket on the same line::

  do {
          ...
  } while(something);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#432: FILE: drivers/net/myri10ge/myri10ge.c:395:
+/*
+ * Enable or disable periodic RDMAs from the host to make certain

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#439: FILE: drivers/net/myri10ge/myri10ge.c:402:
+	volatile uint32_t *confirm;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#439: FILE: drivers/net/myri10ge/myri10ge.c:402:
+	volatile uint32_t *confirm;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#440: FILE: drivers/net/myri10ge/myri10ge.c:403:
+	volatile char __iomem *submit;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#441: FILE: drivers/net/myri10ge/myri10ge.c:404:
+	uint32_t buf[16];

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#442: FILE: drivers/net/myri10ge/myri10ge.c:405:
+	uint32_t dma_low, dma_high;

CHECK:SPACING: No space is necessary after a cast
#446: FILE: drivers/net/myri10ge/myri10ge.c:409:
+	confirm = (volatile uint32_t *) mgp->cmd;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#446: FILE: drivers/net/myri10ge/myri10ge.c:409:
+	confirm = (volatile uint32_t *) mgp->cmd;

WARNING:MEMORY_BARRIER: memory barrier without comment
#448: FILE: drivers/net/myri10ge/myri10ge.c:411:
+	mb();

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#457: FILE: drivers/net/myri10ge/myri10ge.c:420:
+^Ibuf[0] = htonl(dma_high); ^I/* confirm addr MSW */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#458: FILE: drivers/net/myri10ge/myri10ge.c:421:
+^Ibuf[1] = htonl(dma_low); ^I/* confirm addr LSW */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#460: FILE: drivers/net/myri10ge/myri10ge.c:423:
+^Ibuf[3] = htonl(dma_high); ^I/* dummy addr MSW */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#461: FILE: drivers/net/myri10ge/myri10ge.c:424:
+^Ibuf[4] = htonl(dma_low); ^I/* dummy addr LSW */$

CHECK:SPACING: No space is necessary after a cast
#466: FILE: drivers/net/myri10ge/myri10ge.c:429:
+	myri10ge_pio_copy((void __iomem *) submit, &buf, sizeof (buf));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#466: FILE: drivers/net/myri10ge/myri10ge.c:429:
+	myri10ge_pio_copy((void __iomem *) submit, &buf, sizeof (buf));

WARNING:MEMORY_BARRIER: memory barrier without comment
#467: FILE: drivers/net/myri10ge/myri10ge.c:430:
+	mb();

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#468: FILE: drivers/net/myri10ge/myri10ge.c:431:
+	udelay(1000);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

WARNING:MEMORY_BARRIER: memory barrier without comment
#469: FILE: drivers/net/myri10ge/myri10ge.c:432:
+	mb();

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#472: FILE: drivers/net/myri10ge/myri10ge.c:435:
+		udelay(1000);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#488: FILE: drivers/net/myri10ge/myri10ge.c:451:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#497: FILE: drivers/net/myri10ge/myri10ge.c:460:
+	strncpy(mgp->fw_version, hdr->version, sizeof (mgp->fw_version));

WARNING:NAKED_SSCANF: unchecked sscanf return value
#499: FILE: drivers/net/myri10ge/myri10ge.c:462:
+	sscanf(mgp->fw_version, "%d.%d", &major, &minor);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#514: FILE: drivers/net/myri10ge/myri10ge.c:477:
+	unsigned crc, reread_crc;

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#521: FILE: drivers/net/myri10ge/myri10ge.c:484:
+	if ((status = request_firmware(&fw, mgp->fw_name, dev)) < 0) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:SPACING: No space is necessary after a cast
#538: FILE: drivers/net/myri10ge/myri10ge.c:501:
+	hdr_offset = ntohl(*(uint32_t *) (fw->data + MCP_HEADER_PTR_OFFSET));

CHECK:SPACING: No space is necessary after a cast
#544: FILE: drivers/net/myri10ge/myri10ge.c:507:
+	hdr = (void*) (fw->data + hdr_offset);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#544: FILE: drivers/net/myri10ge/myri10ge.c:507:
+	hdr = (void*) (fw->data + hdr_offset);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BRACES: braces {} are not necessary for single statement blocks
#547: FILE: drivers/net/myri10ge/myri10ge.c:510:
+	if (status != 0) {
+		goto abort_with_fw;
+	}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#558: FILE: drivers/net/myri10ge/myri10ge.c:521:
+		dev_err(dev, "CRC failed(fw-len=%u), got 0x%x (expect 0x%x)\n",
+		       (unsigned)fw->size, reread_crc, crc);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#558: FILE: drivers/net/myri10ge/myri10ge.c:521:
+		       (unsigned)fw->size, reread_crc, crc);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#589: FILE: drivers/net/myri10ge/myri10ge.c:552:
+	 * validate firmware */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#590: FILE: drivers/net/myri10ge/myri10ge.c:553:
+	bytes = sizeof (mcp_gen_header_t);

CHECK:SPACING: No space is necessary after a cast
#591: FILE: drivers/net/myri10ge/myri10ge.c:554:
+	hdr = (mcp_gen_header_t *) kmalloc(bytes, GFP_KERNEL);

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#591: FILE: drivers/net/myri10ge/myri10ge.c:554:
+	hdr = (mcp_gen_header_t *) kmalloc(bytes, GFP_KERNEL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!hdr"
#592: FILE: drivers/net/myri10ge/myri10ge.c:555:
+	if (hdr == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:LINE_SPACING: Please don't use multiple blank lines
#602: FILE: drivers/net/myri10ge/myri10ge.c:565:
+
+

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#606: FILE: drivers/net/myri10ge/myri10ge.c:569:
+	volatile uint32_t *confirm;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#606: FILE: drivers/net/myri10ge/myri10ge.c:569:
+	volatile uint32_t *confirm;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#607: FILE: drivers/net/myri10ge/myri10ge.c:570:
+	volatile char __iomem *submit;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#608: FILE: drivers/net/myri10ge/myri10ge.c:571:
+	uint32_t buf[16];

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#609: FILE: drivers/net/myri10ge/myri10ge.c:572:
+	uint32_t dma_low, dma_high, size;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#618: FILE: drivers/net/myri10ge/myri10ge.c:581:
+		/* Do not attempt to adopt firmware if there
+		   was a bad crc */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#618: FILE: drivers/net/myri10ge/myri10ge.c:581:
+		   was a bad crc */

WARNING:BRACES: braces {} are not necessary for single statement blocks
#619: FILE: drivers/net/myri10ge/myri10ge.c:582:
+		if (status == -EIO) {
+			return status;
+		}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#632: FILE: drivers/net/myri10ge/myri10ge.c:595:
+			dev_warn(&mgp->pdev->dev,
+				"Using firmware currently running on NIC"

WARNING:SPLIT_STRING: quoted string split across lines
#633: FILE: drivers/net/myri10ge/myri10ge.c:596:
+				"Using firmware currently running on NIC"
+				 ".  For optimal\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#636: FILE: drivers/net/myri10ge/myri10ge.c:599:
+				 "performance consider loading optimized "
+				 "firmware\n");

CHECK:SPACING: No space is necessary after a cast
#646: FILE: drivers/net/myri10ge/myri10ge.c:609:
+	confirm = (volatile uint32_t *) mgp->cmd;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#646: FILE: drivers/net/myri10ge/myri10ge.c:609:
+	confirm = (volatile uint32_t *) mgp->cmd;

WARNING:MEMORY_BARRIER: memory barrier without comment
#648: FILE: drivers/net/myri10ge/myri10ge.c:611:
+	mb();

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#657: FILE: drivers/net/myri10ge/myri10ge.c:620:
+^Ibuf[0] = htonl(dma_high); ^I/* confirm addr MSW */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#658: FILE: drivers/net/myri10ge/myri10ge.c:621:
+^Ibuf[1] = htonl(dma_low); ^I/* confirm addr LSW */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#666: FILE: drivers/net/myri10ge/myri10ge.c:629:
+^Ibuf[4] = htonl(size - 8); ^I^I/* length of code */$

CHECK:SPACING: No space is necessary after a cast
#672: FILE: drivers/net/myri10ge/myri10ge.c:635:
+	myri10ge_pio_copy((void __iomem *) submit, &buf, sizeof (buf));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#672: FILE: drivers/net/myri10ge/myri10ge.c:635:
+	myri10ge_pio_copy((void __iomem *) submit, &buf, sizeof (buf));

WARNING:MEMORY_BARRIER: memory barrier without comment
#673: FILE: drivers/net/myri10ge/myri10ge.c:636:
+	mb();

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#674: FILE: drivers/net/myri10ge/myri10ge.c:637:
+	udelay(1000);

WARNING:MEMORY_BARRIER: memory barrier without comment
#675: FILE: drivers/net/myri10ge/myri10ge.c:638:
+	mb();

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#678: FILE: drivers/net/myri10ge/myri10ge.c:641:
+		udelay(1000);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#718: FILE: drivers/net/myri10ge/myri10ge.c:681:
+		printk(KERN_ERR "myri10ge: %s: Failed to set flow control mode\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#738: FILE: drivers/net/myri10ge/myri10ge.c:701:
+		printk(KERN_ERR "myri10ge: %s: Failed to set promisc mode\n",

CHECK:LINE_SPACING: Please don't use multiple blank lines
#743: FILE: drivers/net/myri10ge/myri10ge.c:706:
+
+

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#747: FILE: drivers/net/myri10ge/myri10ge.c:710:
+{
+

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#751: FILE: drivers/net/myri10ge/myri10ge.c:714:
+	uint32_t len;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#754: FILE: drivers/net/myri10ge/myri10ge.c:717:
+	/* try to send a reset command to the card to see if it
+	   is alive */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#754: FILE: drivers/net/myri10ge/myri10ge.c:717:
+	   is alive */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#755: FILE: drivers/net/myri10ge/myri10ge.c:718:
+	memset(&cmd, 0, sizeof (cmd));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#764: FILE: drivers/net/myri10ge/myri10ge.c:727:
+	bytes = myri10ge_max_intr_slots * sizeof (*mgp->rx_done.entry);

CHECK:SPACING: No space is necessary after a cast
#766: FILE: drivers/net/myri10ge/myri10ge.c:729:
+	cmd.data0 = (uint32_t) bytes;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#772: FILE: drivers/net/myri10ge/myri10ge.c:735:
+
+

CHECK:SPACING: No space is necessary after a cast
#774: FILE: drivers/net/myri10ge/myri10ge.c:737:
+	mgp->irq_claim = (__iomem uint32_t *) (mgp->sram + cmd.data0);

CHECK:SPACING: No space is necessary after a cast
#779: FILE: drivers/net/myri10ge/myri10ge.c:742:
+		mgp->irq_deassert = (__iomem uint32_t *) (mgp->sram + cmd.data0);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#781: FILE: drivers/net/myri10ge/myri10ge.c:744:
+
+	}

CHECK:SPACING: No space is necessary after a cast
#784: FILE: drivers/net/myri10ge/myri10ge.c:747:
+	mgp->intr_coal_delay_ptr = (__iomem uint32_t *) (mgp->sram + cmd.data0);

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#806: FILE: drivers/net/myri10ge/myri10ge.c:769:
+	mgp->read_dma = ((cmd.data0>>16) * len * 2)/(cmd.data0 & 0xffff);
 	                           ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#806: FILE: drivers/net/myri10ge/myri10ge.c:769:
+	mgp->read_dma = ((cmd.data0>>16) * len * 2)/(cmd.data0 & 0xffff);
 	                                           ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#812: FILE: drivers/net/myri10ge/myri10ge.c:775:
+	mgp->write_dma = ((cmd.data0>>16) * len * 2)/(cmd.data0 & 0xffff);
 	                            ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#812: FILE: drivers/net/myri10ge/myri10ge.c:775:
+	mgp->write_dma = ((cmd.data0>>16) * len * 2)/(cmd.data0 & 0xffff);
 	                                            ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#818: FILE: drivers/net/myri10ge/myri10ge.c:781:
+	mgp->read_write_dma = ((cmd.data0>>16) * len * 2 * 2) /
 	                                 ^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#841: FILE: drivers/net/myri10ge/myri10ge.c:804:
+	uint32_t low;

WARNING:MEMORY_BARRIER: memory barrier without comment
#846: FILE: drivers/net/myri10ge/myri10ge.c:809:
+	mb();

CHECK:SPACING: No space is necessary after a cast
#848: FILE: drivers/net/myri10ge/myri10ge.c:811:
+	*(uint32_t __force *) &dst->addr_low = src->addr_low;

WARNING:MEMORY_BARRIER: memory barrier without comment
#849: FILE: drivers/net/myri10ge/myri10ge.c:812:
+	mb();

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#853: FILE: drivers/net/myri10ge/myri10ge.c:816:
+/*
+ * Set of routunes to get a new receive buffer.  Any buffer which

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#869: FILE: drivers/net/myri10ge/myri10ge.c:832:
+	if (skb == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#885: FILE: drivers/net/myri10ge/myri10ge.c:848:
+/* Allocate 2x as much space as required and use whichever portion
+   does not cross a 4KB boundary */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#885: FILE: drivers/net/myri10ge/myri10ge.c:848:
+   does not cross a 4KB boundary */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#893: FILE: drivers/net/myri10ge/myri10ge.c:856:
+	if (unlikely(skb == NULL))

WARNING:BRACES: braces {} are not necessary for single statement blocks
#904: FILE: drivers/net/myri10ge/myri10ge.c:867:
+	if ((boundary - data) >= (bytes + MYRI10GE_MCP_ETHER_PAD)) {
+		return skb;
+	}

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#912: FILE: drivers/net/myri10ge/myri10ge.c:875:
+/* Allocate just enough space, and verify that the allocated
+   space does not cross a 4KB boundary */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#912: FILE: drivers/net/myri10ge/myri10ge.c:875:
+   space does not cross a 4KB boundary */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#920: FILE: drivers/net/myri10ge/myri10ge.c:883:
+	if (unlikely(skb == NULL))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#930: FILE: drivers/net/myri10ge/myri10ge.c:893:
+	if (unlikely (((end >> 12) != (data >> 12)) && (data & 4095UL))) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#931: FILE: drivers/net/myri10ge/myri10ge.c:894:
+		printk("myri10ge_alloc_small: small skb crossed 4KB boundary\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'myri10ge_alloc_small', this function's name, in a string
#931: FILE: drivers/net/myri10ge/myri10ge.c:894:
+		printk("myri10ge_alloc_small: small skb crossed 4KB boundary\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#952: FILE: drivers/net/myri10ge/myri10ge.c:915:
+		if (myri10ge_skb_cross_4k) {
[...]
+		} else {
[...]

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#958: FILE: drivers/net/myri10ge/myri10ge.c:921:
+	if (unlikely(skb == NULL)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#965: FILE: drivers/net/myri10ge/myri10ge.c:928:
+	/* set len so that it only covers the area we
+	   need mapped for DMA */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#965: FILE: drivers/net/myri10ge/myri10ge.c:928:
+	   need mapped for DMA */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rx->wc_fifo"
#978: FILE: drivers/net/myri10ge/myri10ge.c:941:
+		if (rx->wc_fifo == NULL) {

WARNING:MEMORY_BARRIER: memory barrier without comment
#982: FILE: drivers/net/myri10ge/myri10ge.c:945:
+			mb();

CHECK:SPACING: No space is necessary after a cast
#983: FILE: drivers/net/myri10ge/myri10ge.c:946:
+			myri10ge_pio_copy((void __iomem *) rx->wc_fifo,

CHECK:SPACING: No space is necessary after a cast
#993: FILE: drivers/net/myri10ge/myri10ge.c:956:
+	struct vlan_hdr *vh = (struct vlan_hdr *) (skb->data);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_8021Q)'
#995: FILE: drivers/net/myri10ge/myri10ge.c:958:
+	if ((skb->protocol == ntohs(ETH_P_8021Q)) &&
+	    (vh->h_vlan_encapsulated_proto == htons(ETH_P_IP) ||
+	     vh->h_vlan_encapsulated_proto == htons(ETH_P_IPV6))) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1005: FILE: drivers/net/myri10ge/myri10ge.c:968:
+myri10ge_rx_done(struct myri10ge_priv *mgp, myri10ge_rx_buf_t *rx,
+		  int bytes, int len, int csum)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1032: FILE: drivers/net/myri10ge/myri10ge.c:995:
+	 * aligned */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_IP)'
#1041: FILE: drivers/net/myri10ge/myri10ge.c:1004:
+		if ((skb->protocol == ntohs(ETH_P_IP)) ||
+		    (skb->protocol == ntohs(ETH_P_IPV6))) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_IPV6)'
#1041: FILE: drivers/net/myri10ge/myri10ge.c:1004:
+		if ((skb->protocol == ntohs(ETH_P_IP)) ||
+		    (skb->protocol == ntohs(ETH_P_IPV6))) {

CHECK:SPACING: No space is necessary after a cast
#1047: FILE: drivers/net/myri10ge/myri10ge.c:1010:
+					      ntohs((uint16_t) csum));

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1098: FILE: drivers/net/myri10ge/myri10ge.c:1061:
+		/* limit potential for livelock by only handling
+		   2 full tx rings per call */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1098: FILE: drivers/net/myri10ge/myri10ge.c:1061:
+		   2 full tx rings per call */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1104: FILE: drivers/net/myri10ge/myri10ge.c:1067:
+	if (netif_queue_stopped(mgp->dev)
+	    && tx->req - tx->done < (tx->mask >> 1)) {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1110: FILE: drivers/net/myri10ge/myri10ge.c:1073:
+
+

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1121: FILE: drivers/net/myri10ge/myri10ge.c:1084:
+	uint16_t length;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1122: FILE: drivers/net/myri10ge/myri10ge.c:1085:
+	uint16_t checksum;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1125: FILE: drivers/net/myri10ge/myri10ge.c:1088:
+	while (rx_done->entry[idx].length != 0 &&
+		*limit != 0) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1143: FILE: drivers/net/myri10ge/myri10ge.c:1106:
+		 * limited number of frames. */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1161: FILE: drivers/net/myri10ge/myri10ge.c:1124:
+				printk("myri10ge: %s: link up\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1165: FILE: drivers/net/myri10ge/myri10ge.c:1128:
+				printk("myri10ge: %s: link down\n",

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1172: FILE: drivers/net/myri10ge/myri10ge.c:1135:
+			mgp->rdma_tags_available = ntohl(

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1174: FILE: drivers/net/myri10ge/myri10ge.c:1137:
+			printk("myri10ge: %s: RDMA timed out! "

WARNING:SPLIT_STRING: quoted string split across lines
#1175: FILE: drivers/net/myri10ge/myri10ge.c:1138:
+			printk("myri10ge: %s: RDMA timed out! "
+			       "%d tags left\n", mgp->dev->name,

CHECK:SPACING: No space is necessary after a cast
#1209: FILE: drivers/net/myri10ge/myri10ge.c:1172:
+	struct myri10ge_priv *mgp = (struct myri10ge_priv *) arg;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1212: FILE: drivers/net/myri10ge/myri10ge.c:1175:
+	uint32_t send_done_count;

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1216: FILE: drivers/net/myri10ge/myri10ge.c:1179:
+	if (unlikely(!stats->valid)) {
+		return (IRQ_NONE);
+	}

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1217: FILE: drivers/net/myri10ge/myri10ge.c:1180:
+		return (IRQ_NONE);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1221: FILE: drivers/net/myri10ge/myri10ge.c:1184:
+	/* low bit indicates receives are present, so schedule
+	   napi poll handler */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1221: FILE: drivers/net/myri10ge/myri10ge.c:1184:
+	   napi poll handler */

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1222: FILE: drivers/net/myri10ge/myri10ge.c:1185:
+	if (stats->valid & 1) {
+		netif_rx_schedule(mgp->dev);
+	}

WARNING:MEMORY_BARRIER: memory barrier without comment
#1230: FILE: drivers/net/myri10ge/myri10ge.c:1193:
+		mb();

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1235: FILE: drivers/net/myri10ge/myri10ge.c:1198:
+
+

CHECK:SPACING: No space is necessary after a cast
#1244: FILE: drivers/net/myri10ge/myri10ge.c:1207:
+		if (*((uint8_t * volatile) &stats->valid) == 0)

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#1244: FILE: drivers/net/myri10ge/myri10ge.c:1207:
+		if (*((uint8_t * volatile) &stats->valid) == 0)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1247: FILE: drivers/net/myri10ge/myri10ge.c:1210:
+			printk("myri10ge: %s: irq stuck?\n",

CHECK:SPACING: No space is necessary after a cast
#1252: FILE: drivers/net/myri10ge/myri10ge.c:1215:
+	} while (*((uint8_t * volatile) &stats->valid));

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#1252: FILE: drivers/net/myri10ge/myri10ge.c:1215:
+	} while (*((uint8_t * volatile) &stats->valid));

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1257: FILE: drivers/net/myri10ge/myri10ge.c:1220:
+	return (IRQ_HANDLED);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1260: FILE: drivers/net/myri10ge/myri10ge.c:1223:
+
+

CHECK:SPACING: No space is necessary after a cast
#1264: FILE: drivers/net/myri10ge/myri10ge.c:1227:
+	struct myri10ge_priv *mgp = (struct myri10ge_priv *) arg;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1268: FILE: drivers/net/myri10ge/myri10ge.c:1231:
+	uint32_t send_done_count;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1269: FILE: drivers/net/myri10ge/myri10ge.c:1232:
+	uint8_t valid;

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1273: FILE: drivers/net/myri10ge/myri10ge.c:1236:
+	if (unlikely(!stats->valid)) {
+		return (IRQ_NONE);
+	}

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1274: FILE: drivers/net/myri10ge/myri10ge.c:1237:
+		return (IRQ_NONE);

WARNING:MEMORY_BARRIER: memory barrier without comment
#1281: FILE: drivers/net/myri10ge/myri10ge.c:1244:
+		mb();

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1298: FILE: drivers/net/myri10ge/myri10ge.c:1261:
+			printk("myri10ge: %s: irq stuck?\n",

CHECK:SPACING: No space is necessary after a cast
#1303: FILE: drivers/net/myri10ge/myri10ge.c:1266:
+	} while (*((uint8_t * volatile) &stats->valid));

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#1303: FILE: drivers/net/myri10ge/myri10ge.c:1266:
+	} while (*((uint8_t * volatile) &stats->valid));

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1307: FILE: drivers/net/myri10ge/myri10ge.c:1270:
+	/* check to see if we have rx token, pass it back
+	   if we do */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1307: FILE: drivers/net/myri10ge/myri10ge.c:1270:
+	   if we do */

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1311: FILE: drivers/net/myri10ge/myri10ge.c:1274:
+	return (IRQ_HANDLED);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1331: FILE: drivers/net/myri10ge/myri10ge.c:1294:
+myri10ge_get_drvinfo(struct net_device *netdev,
+		   struct ethtool_drvinfo *info)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1335: FILE: drivers/net/myri10ge/myri10ge.c:1298:
+	strlcpy(info->driver, "myri10ge", sizeof (info->driver));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1335: FILE: drivers/net/myri10ge/myri10ge.c:1298:
+	strlcpy(info->driver, "myri10ge", sizeof (info->driver));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1336: FILE: drivers/net/myri10ge/myri10ge.c:1299:
+	strlcpy(info->version, MYRI10GE_VERSION_STR, sizeof (info->version));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1336: FILE: drivers/net/myri10ge/myri10ge.c:1299:
+	strlcpy(info->version, MYRI10GE_VERSION_STR, sizeof (info->version));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1337: FILE: drivers/net/myri10ge/myri10ge.c:1300:
+	strlcpy(info->fw_version, mgp->fw_version, sizeof (info->fw_version));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1337: FILE: drivers/net/myri10ge/myri10ge.c:1300:
+	strlcpy(info->fw_version, mgp->fw_version, sizeof (info->fw_version));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1338: FILE: drivers/net/myri10ge/myri10ge.c:1301:
+	strlcpy(info->bus_info, pci_name(mgp->pdev), sizeof (info->bus_info));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1338: FILE: drivers/net/myri10ge/myri10ge.c:1301:
+	strlcpy(info->bus_info, pci_name(mgp->pdev), sizeof (info->bus_info));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1343: FILE: drivers/net/myri10ge/myri10ge.c:1306:
+myri10ge_get_coalesce(struct net_device *netdev,
+		     struct ethtool_coalesce *coal)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1346: FILE: drivers/net/myri10ge/myri10ge.c:1309:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	coal->rx_coalesce_usecs = mgp->intr_coal_delay;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1352: FILE: drivers/net/myri10ge/myri10ge.c:1315:
+myri10ge_set_coalesce(struct net_device *netdev,
+		     struct ethtool_coalesce *coal)

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1379: FILE: drivers/net/myri10ge/myri10ge.c:1342:
+	if (pause->tx_pause != mgp->pause) {
+		return (myri10ge_change_pause(mgp, pause->tx_pause));
+	}

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1380: FILE: drivers/net/myri10ge/myri10ge.c:1343:
+		return (myri10ge_change_pause(mgp, pause->tx_pause));

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1382: FILE: drivers/net/myri10ge/myri10ge.c:1345:
+	if (pause->rx_pause != mgp->pause) {
+		return (myri10ge_change_pause(mgp, pause->tx_pause));
+	}

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1383: FILE: drivers/net/myri10ge/myri10ge.c:1346:
+		return (myri10ge_change_pause(mgp, pause->tx_pause));

WARNING:LINE_SPACING: Missing a blank line after declarations
#1410: FILE: drivers/net/myri10ge/myri10ge.c:1373:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	if (mgp->csum_flag)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1420: FILE: drivers/net/myri10ge/myri10ge.c:1383:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	if (csum_enabled)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1427: FILE: drivers/net/myri10ge/myri10ge.c:1390:
+
+

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1444: FILE: drivers/net/myri10ge/myri10ge.c:1407:
+};
+#define MYRI10GE_NET_STATS_LEN      21

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1445: FILE: drivers/net/myri10ge/myri10ge.c:1408:
+#define MYRI10GE_STATS_LEN  sizeof(myri10ge_gstrings_stats) / ETH_GSTRING_LEN

ERROR:SPACING: space required before the open parenthesis '('
#1471: FILE: drivers/net/myri10ge/myri10ge.c:1434:
+	for(i = 0; i < MYRI10GE_NET_STATS_LEN; i++)

CHECK:SPACING: No space is necessary after a cast
#1472: FILE: drivers/net/myri10ge/myri10ge.c:1435:
+		data[i] = ((unsigned long *) &mgp->stats)[i];

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1497: FILE: drivers/net/myri10ge/myri10ge.c:1460:
+
+

WARNING:CONST_STRUCT: struct ethtool_ops should normally be const
#1498: FILE: drivers/net/myri10ge/myri10ge.c:1461:
+static struct ethtool_ops myri10ge_ethtool_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1499: FILE: drivers/net/myri10ge/myri10ge.c:1462:
+^I.get_settings ^I^I^I= myri10ge_get_settings,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1500: FILE: drivers/net/myri10ge/myri10ge.c:1463:
+^I.set_settings ^I^I^I= myri10ge_set_settings,$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000078673.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 21 errors, 138 warnings, 111 checks, 1483 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000078673.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
