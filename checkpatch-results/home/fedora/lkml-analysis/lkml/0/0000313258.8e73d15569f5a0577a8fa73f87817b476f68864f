WARNING:PATCH_PREFIX: patch prefix 'drivers' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix 'drivers' exists, appears to be a -p0 patch

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#80: FILE: char/drm/gamma_dma.c:376:
+	drm_send_indices = kmalloc (d->send_count * sizeof(*drm_send_indices), GFP_KERNEL);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#81: FILE: char/drm/gamma_dma.c:377:
+	drm_send_sizes = kmalloc (d->send_count * sizeof(*drm_send_sizes), GFP_KERNEL);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#81: FILE: char/drm/gamma_dma.c:377:
+	drm_send_sizes = kmalloc (d->send_count * sizeof(*drm_send_sizes), GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#82: FILE: char/drm/gamma_dma.c:378:
+	if (! drm_send_indices || ! drm_send_sizes)
+	{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#82: FILE: char/drm/gamma_dma.c:378:
+	if (! drm_send_indices || ! drm_send_sizes)
 	    ^

ERROR:SPACING: space prohibited after that '!' (ctx:WxW)
#82: FILE: char/drm/gamma_dma.c:378:
+	if (! drm_send_indices || ! drm_send_sizes)
 	                          ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#87: FILE: char/drm/gamma_dma.c:383:
+^Iif (copy_from_user(drm_send_indices, d->send_indices, $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#87: FILE: char/drm/gamma_dma.c:383:
+	if (copy_from_user(drm_send_indices, d->send_indices, 
+			   d->send_count * sizeof(*drm_send_indices)) ||
+	    copy_from_user(drm_send_sizes, d->send_sizes, 
+			   d->send_count * sizeof(*drm_send_sizes)))
+	{

ERROR:TRAILING_WHITESPACE: trailing whitespace
#89: FILE: char/drm/gamma_dma.c:385:
+^I    copy_from_user(drm_send_sizes, d->send_sizes, $

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#137: FILE: char/drm/gamma_dma.c:486:
+	if (drm_send_indices)
+		kfree(drm_send_indices);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#139: FILE: char/drm/gamma_dma.c:488:
+^I^Ikfree(drm_send_sizes);^I^I^I^I$

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#139: FILE: char/drm/gamma_dma.c:488:
+	if (drm_send_sizes)
+		kfree(drm_send_sizes);				

WARNING:LINE_SPACING: Missing a blank line after declarations
#149: FILE: char/drm/gamma_dma.c:513:
+		int lastindex;
+		if (copy_from_user(&lastindex, &d->send_indices[d->send_count-1],

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#149: FILE: char/drm/gamma_dma.c:513:
+		if (copy_from_user(&lastindex, &d->send_indices[d->send_count-1],
 		                                                             ^

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000313258.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 7 errors, 8 warnings, 1 checks, 91 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000313258.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
