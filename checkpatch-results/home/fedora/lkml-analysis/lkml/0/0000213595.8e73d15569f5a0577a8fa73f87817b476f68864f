CHECK:MACRO_ARG_REUSE: Macro argument reuse 'card' - possible side-effects?
#49: FILE: drivers/sound/i810_audio.c:461:
+#define I810_IOREAD(size, type, card, off)				\
+({									\
+	type val;							\
+	if (card->use_mmio) val=read##size(card->iobase_mmio+off);	\
+	else val=in##size(card->iobase+off);				\
+	val;								\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'card' may be better as '(card)' to avoid precedence issues
#49: FILE: drivers/sound/i810_audio.c:461:
+#define I810_IOREAD(size, type, card, off)				\
+({									\
+	type val;							\
+	if (card->use_mmio) val=read##size(card->iobase_mmio+off);	\
+	else val=in##size(card->iobase+off);				\
+	val;								\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'off' - possible side-effects?
#49: FILE: drivers/sound/i810_audio.c:461:
+#define I810_IOREAD(size, type, card, off)				\
+({									\
+	type val;							\
+	if (card->use_mmio) val=read##size(card->iobase_mmio+off);	\
+	else val=in##size(card->iobase+off);				\
+	val;								\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'off' may be better as '(off)' to avoid precedence issues
#49: FILE: drivers/sound/i810_audio.c:461:
+#define I810_IOREAD(size, type, card, off)				\
+({									\
+	type val;							\
+	if (card->use_mmio) val=read##size(card->iobase_mmio+off);	\
+	else val=in##size(card->iobase+off);				\
+	val;								\
+})

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#52: FILE: drivers/sound/i810_audio.c:464:
+	if (card->use_mmio) val=read##size(card->iobase_mmio+off);	\
 	                       ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#52: FILE: drivers/sound/i810_audio.c:464:
+	if (card->use_mmio) val=read##size(card->iobase_mmio+off);	\
 	                                                    ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#52: FILE: drivers/sound/i810_audio.c:464:
+	if (card->use_mmio) val=read##size(card->iobase_mmio+off);	\

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#53: FILE: drivers/sound/i810_audio.c:465:
+	else val=in##size(card->iobase+off);				\
 	        ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#53: FILE: drivers/sound/i810_audio.c:465:
+	else val=in##size(card->iobase+off);				\
 	                              ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#53: FILE: drivers/sound/i810_audio.c:465:
+	else val=in##size(card->iobase+off);				\

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'val' - possible side-effects?
#61: FILE: drivers/sound/i810_audio.c:473:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio) write##size(val, card->iobase_mmio+off);	\
+	else out##size(val, card->iobase+off);				\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'card' - possible side-effects?
#61: FILE: drivers/sound/i810_audio.c:473:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio) write##size(val, card->iobase_mmio+off);	\
+	else out##size(val, card->iobase+off);				\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'card' may be better as '(card)' to avoid precedence issues
#61: FILE: drivers/sound/i810_audio.c:473:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio) write##size(val, card->iobase_mmio+off);	\
+	else out##size(val, card->iobase+off);				\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'off' - possible side-effects?
#61: FILE: drivers/sound/i810_audio.c:473:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio) write##size(val, card->iobase_mmio+off);	\
+	else out##size(val, card->iobase+off);				\
+})

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'off' may be better as '(off)' to avoid precedence issues
#61: FILE: drivers/sound/i810_audio.c:473:
+#define I810_IOWRITE(size, val, card, off)				\
+({									\
+	if (card->use_mmio) write##size(val, card->iobase_mmio+off);	\
+	else out##size(val, card->iobase+off);				\
+})

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#63: FILE: drivers/sound/i810_audio.c:475:
+	if (card->use_mmio) write##size(val, card->iobase_mmio+off);	\
 	                                                      ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#63: FILE: drivers/sound/i810_audio.c:475:
+	if (card->use_mmio) write##size(val, card->iobase_mmio+off);	\

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#64: FILE: drivers/sound/i810_audio.c:476:
+	else out##size(val, card->iobase+off);				\
 	                                ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#64: FILE: drivers/sound/i810_audio.c:476:
+	else out##size(val, card->iobase+off);				\

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'card' - possible side-effects?
#77: FILE: drivers/sound/i810_audio.c:487:
+#define CIV_TO_LVI(card, port, off) \
+	I810_IOWRITEB(MODULOP2(GET_CIV((card), (port)) + (off), SG_LEN), (card), (port) + OFF_LVI)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'port' - possible side-effects?
#77: FILE: drivers/sound/i810_audio.c:487:
+#define CIV_TO_LVI(card, port, off) \
+	I810_IOWRITEB(MODULOP2(GET_CIV((card), (port)) + (off), SG_LEN), (card), (port) + OFF_LVI)

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#110: FILE: drivers/sound/i810_audio.c:778:
+	} while (civ != GET_CIV(state->card, port) || offset != I810_IOREADW(state->card, port_picb));

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:SPACING: space prohibited before semicolon
#122: FILE: drivers/sound/i810_audio.c:793:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#122: FILE: drivers/sound/i810_audio.c:793:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#122: FILE: drivers/sound/i810_audio.c:793:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:SPACING: space required before the open parenthesis '('
#122: FILE: drivers/sound/i810_audio.c:793:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#122: FILE: drivers/sound/i810_audio.c:793:
+	while( I810_IOREADB(card, PI_CR) != 0 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#126: FILE: drivers/sound/i810_audio.c:796:
+		I810_IOWRITEB( I810_IOREADB(card, PI_PICB), card, PI_PICB );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#126: FILE: drivers/sound/i810_audio.c:796:
+		I810_IOWRITEB( I810_IOREADB(card, PI_PICB), card, PI_PICB );

ERROR:SPACING: space prohibited after that open parenthesis '('
#130: FILE: drivers/sound/i810_audio.c:798:
+		I810_IOWRITEB( I810_IOREADB(card, PI_SR), card, PI_SR );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#130: FILE: drivers/sound/i810_audio.c:798:
+		I810_IOWRITEB( I810_IOREADB(card, PI_SR), card, PI_SR );

ERROR:SPACING: space prohibited after that open parenthesis '('
#131: FILE: drivers/sound/i810_audio.c:799:
+	I810_IOWRITEL( I810_IOREADL(card, GLOB_STA) & INT_PI, card, GLOB_STA);

WARNING:SPACING: space prohibited before semicolon
#152: FILE: drivers/sound/i810_audio.c:843:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#152: FILE: drivers/sound/i810_audio.c:843:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#152: FILE: drivers/sound/i810_audio.c:843:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:SPACING: space required before the open parenthesis '('
#152: FILE: drivers/sound/i810_audio.c:843:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#152: FILE: drivers/sound/i810_audio.c:843:
+	while( I810_IOREADB(card, PO_CR) != 0 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#156: FILE: drivers/sound/i810_audio.c:846:
+		I810_IOWRITEB( I810_IOREADB(card, PO_PICB), card, PO_PICB );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#156: FILE: drivers/sound/i810_audio.c:846:
+		I810_IOWRITEB( I810_IOREADB(card, PO_PICB), card, PO_PICB );

ERROR:SPACING: space prohibited after that open parenthesis '('
#160: FILE: drivers/sound/i810_audio.c:848:
+		I810_IOWRITEB( I810_IOREADB(card, PO_SR), card, PO_SR );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#160: FILE: drivers/sound/i810_audio.c:848:
+		I810_IOWRITEB( I810_IOREADB(card, PO_SR), card, PO_SR );

ERROR:SPACING: space prohibited after that open parenthesis '('
#161: FILE: drivers/sound/i810_audio.c:849:
+	I810_IOWRITEL( I810_IOREADL(card, GLOB_STA) & INT_PO, card, GLOB_STA);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#181: FILE: drivers/sound/i810_audio.c:1033:
+		I810_IOWRITEB(2, state->card, c->port+OFF_CR);   /* reset DMA machine */
 		                                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#182: FILE: drivers/sound/i810_audio.c:1034:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;
 		                                        ^

WARNING:SPACING: space prohibited before semicolon
#182: FILE: drivers/sound/i810_audio.c:1034:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#182: FILE: drivers/sound/i810_audio.c:1034:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#182: FILE: drivers/sound/i810_audio.c:1034:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

ERROR:SPACING: space required before the open parenthesis '('
#182: FILE: drivers/sound/i810_audio.c:1034:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#182: FILE: drivers/sound/i810_audio.c:1034:
+		while( I810_IOREADB(state->card, c->port+OFF_CR) & 0x02 ) ;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#187: FILE: drivers/sound/i810_audio.c:1037:
+		    state->card, c->port+OFF_BDBAR);
 		                        ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#229: FILE: drivers/sound/i810_audio.c:1101:
+		while (!(I810_IOREADB(state->card, port + OFF_CR) & ((1<<4) | (1<<2))))
 		                                                       ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#229: FILE: drivers/sound/i810_audio.c:1101:
+		while (!(I810_IOREADB(state->card, port + OFF_CR) & ((1<<4) | (1<<2))))
 		                                                                ^

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#300: FILE: drivers/sound/i810_audio.c:1382:
+				I810_IOWRITEB(I810_IOREADB(card, port+OFF_CR) | 1, card, port+OFF_CR);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#300: FILE: drivers/sound/i810_audio.c:1382:
+				I810_IOWRITEB(I810_IOREADB(card, port+OFF_CR) | 1, card, port+OFF_CR);
 				                                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#300: FILE: drivers/sound/i810_audio.c:1382:
+				I810_IOWRITEB(I810_IOREADB(card, port+OFF_CR) | 1, card, port+OFF_CR);
 				                                                             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#340: FILE: drivers/sound/i810_audio.c:1824:
+			I810_IOWRITEB(2, state->card, c->port+OFF_CR);   /* reset DMA machine */
 			                                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#341: FILE: drivers/sound/i810_audio.c:1825:
+			while ( I810_IOREADB(state->card, c->port+OFF_CR) & 2 )
 			                                         ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#341: FILE: drivers/sound/i810_audio.c:1825:
+			while ( I810_IOREADB(state->card, c->port+OFF_CR) & 2 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#341: FILE: drivers/sound/i810_audio.c:1825:
+			while ( I810_IOREADB(state->card, c->port+OFF_CR) & 2 )

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#348: FILE: drivers/sound/i810_audio.c:1829:
+			    state->card, c->port+OFF_BDBAR);
 			                        ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#358: FILE: drivers/sound/i810_audio.c:1960:
+                i_glob_cnt = I810_IOREADL(state->card, GLOB_CNT);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#358: FILE: drivers/sound/i810_audio.c:1960:
+                i_glob_cnt = I810_IOREADL(state->card, GLOB_CNT);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#369: FILE: drivers/sound/i810_audio.c:1973:
+				I810_IOWRITEL(i_glob_cnt & 0xffcfffff,
+				     state->card, GLOB_CNT);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#377: FILE: drivers/sound/i810_audio.c:1979:
+					I810_IOWRITEL((i_glob_cnt & 0xffcfffff) | 0x100000,
+					      state->card, GLOB_CNT);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#388: FILE: drivers/sound/i810_audio.c:1988:
+					I810_IOWRITEL((i_glob_cnt & 0xffcfffff) | 0x200000,
+					      state->card, GLOB_CNT);

ERROR:SPACING: space required before the open parenthesis '('
#408: FILE: drivers/sound/i810_audio.c:2609:
+	while(count-- && (I810_IOREADB(card, CAS) & 1))

ERROR:SPACING: space required before the open parenthesis '('
#417: FILE: drivers/sound/i810_audio.c:2637:
+	while(count-- && (I810_IOREADB(card, CAS) & 1))

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#444: FILE: drivers/sound/i810_audio.c:2809:
+	I810_IOWRITEL(reg , card, GLOB_CNT);
 	                  ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#452: FILE: drivers/sound/i810_audio.c:2816:
+		if((I810_IOREADL(card, GLOB_CNT)&4)==0)
 		                                ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#452: FILE: drivers/sound/i810_audio.c:2816:
+		if((I810_IOREADL(card, GLOB_CNT)&4)==0)
 		                                   ^

ERROR:SPACING: space required before the open parenthesis '('
#452: FILE: drivers/sound/i810_audio.c:2816:
+		if((I810_IOREADL(card, GLOB_CNT)&4)==0)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#461: FILE: drivers/sound/i810_audio.c:2836:
+	if (card->use_mmio) readw(card->ac97base_mmio);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#462: FILE: drivers/sound/i810_audio.c:2837:
+	else inw(card->ac97base);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#471: FILE: drivers/sound/i810_audio.c:2855:
+	if (card->use_mmio) readw(card->ac97base_mmio);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#472: FILE: drivers/sound/i810_audio.c:2856:
+	else inw(card->ac97base);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#535: FILE: drivers/sound/i810_audio.c:3180:
+		printk(KERN_ERR "i810_audio: No I/O resources available.\n");

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000213595.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 40 errors, 7 warnings, 29 checks, 463 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000213595.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
