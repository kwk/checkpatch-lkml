WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#27: 
The ibmasm driver is mainly intended to be used in conjunction with a user space 

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#66: FILE: drivers/misc/ibmasm/command.c:1:
+

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#81: FILE: drivers/misc/ibmasm/command.c:16:
+ * along with this program; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#82: FILE: drivers/misc/ibmasm/command.c:17:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#86: FILE: drivers/misc/ibmasm/command.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#86: FILE: drivers/misc/ibmasm/command.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#99: FILE: drivers/misc/ibmasm/command.c:34:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*cmd)...) over kmalloc(sizeof(struct command)...)
#107: FILE: drivers/misc/ibmasm/command.c:42:
+	cmd = kmalloc(sizeof(struct command), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cmd"
#108: FILE: drivers/misc/ibmasm/command.c:43:
+	if (cmd == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cmd->buffer"
#114: FILE: drivers/misc/ibmasm/command.c:49:
+	if (cmd->buffer == NULL) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#134: FILE: drivers/misc/ibmasm/command.c:69:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#134: FILE: drivers/misc/ibmasm/command.c:69:
+ $

ERROR:SPACING: space prohibited after that open parenthesis '('
#150: FILE: drivers/misc/ibmasm/command.c:85:
+	if ( list_empty(&sp->command_queue) )

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close parenthesis ')'
#150: FILE: drivers/misc/ibmasm/command.c:85:
+	if ( list_empty(&sp->command_queue) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#162: FILE: drivers/misc/ibmasm/command.c:97:
+	if ( ibmasm_send_i2o_message(sp) ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#162: FILE: drivers/misc/ibmasm/command.c:97:
+	if ( ibmasm_send_i2o_message(sp) ) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#167: FILE: drivers/misc/ibmasm/command.c:102:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#174: FILE: drivers/misc/ibmasm/command.c:109:
+ * the current commands buffer, $

ERROR:SPACING: space prohibited after that open parenthesis '('
#182: FILE: drivers/misc/ibmasm/command.c:117:
+	if ( !sp->current_command ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#182: FILE: drivers/misc/ibmasm/command.c:117:
+	if ( !sp->current_command ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#203: FILE: drivers/misc/ibmasm/command.c:138:
+	if ( sp->current_command ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#203: FILE: drivers/misc/ibmasm/command.c:138:
+	if ( sp->current_command ) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#212: FILE: drivers/misc/ibmasm/command.c:147:
+/** $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#220: FILE: drivers/misc/ibmasm/command.c:155:
+	wait_event_interruptible_timeout(cmd->wait,
+				cmd->status == IBMASM_CMD_COMPLETE ||

ERROR:TRAILING_WHITESPACE: trailing whitespace
#234: FILE: drivers/misc/ibmasm/command.c:169:
+^Iif (!sp->current_command) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#235: FILE: drivers/misc/ibmasm/command.c:170:
+^I^Ireturn; $

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#245: FILE: drivers/misc/ibmasm/dot_command.c:1:
+/*

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#259: FILE: drivers/misc/ibmasm/dot_command.c:15:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#260: FILE: drivers/misc/ibmasm/dot_command.c:16:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#264: FILE: drivers/misc/ibmasm/dot_command.c:20:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#264: FILE: drivers/misc/ibmasm/dot_command.c:20:
+ * Author: Max Asböck <amax@us.ibm.com> $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#285: FILE: drivers/misc/ibmasm/dot_command.c:41:
+^Icase sp_event: $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#289: FILE: drivers/misc/ibmasm/dot_command.c:45:
+^I^Iibmasm_receive_command_response(sp, message, size); $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#299: FILE: drivers/misc/ibmasm/dot_command.c:55:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#302: FILE: drivers/misc/ibmasm/dot_command.c:58:
+
+

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!command"
#315: FILE: drivers/misc/ibmasm/dot_command.c:71:
+	if (command == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#336: FILE: drivers/misc/ibmasm/dot_command.c:92:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#359: FILE: drivers/misc/ibmasm/dot_command.c:115:
+ * During driver exit the function is called with os state "down", $

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cmd"
#369: FILE: drivers/misc/ibmasm/dot_command.c:125:
+	if (cmd == NULL)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#395: FILE: drivers/misc/ibmasm/dot_command.h:1:
+/*

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#409: FILE: drivers/misc/ibmasm/dot_command.h:15:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#410: FILE: drivers/misc/ibmasm/dot_command.h:16:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#414: FILE: drivers/misc/ibmasm/dot_command.h:20:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#414: FILE: drivers/misc/ibmasm/dot_command.h:20:
+ * Author: Max Asböck <amax@us.ibm.com> $

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#445: FILE: drivers/misc/ibmasm/dot_command.h:51:
+};
+#pragma pack()

WARNING:LINE_SPACING: Missing a blank line after declarations
#450: FILE: drivers/misc/ibmasm/dot_command.h:56:
+	struct dot_command_header *cmd = (struct dot_command_header *)buffer;
+	return sizeof(struct dot_command_header) + cmd->command_size + cmd->data_size;

ERROR:SPACING: space prohibited after that open parenthesis '('
#461: FILE: drivers/misc/ibmasm/dot_command.h:67:
+		if ( (cmd[0] == 6) && (cmd[1] == 3) && (cmd[2] == 1) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#461: FILE: drivers/misc/ibmasm/dot_command.h:67:
+		if ( (cmd[0] == 6) && (cmd[1] == 3) && (cmd[2] == 1) )

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cmd[0] == 6'
#461: FILE: drivers/misc/ibmasm/dot_command.h:67:
+		if ( (cmd[0] == 6) && (cmd[1] == 3) && (cmd[2] == 1) )

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cmd[1] == 3'
#461: FILE: drivers/misc/ibmasm/dot_command.h:67:
+		if ( (cmd[0] == 6) && (cmd[1] == 3) && (cmd[2] == 1) )

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cmd[2] == 1'
#461: FILE: drivers/misc/ibmasm/dot_command.h:67:
+		if ( (cmd[0] == 6) && (cmd[1] == 3) && (cmd[2] == 1) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#464: FILE: drivers/misc/ibmasm/dot_command.h:70:
+		if ( (cmd[0] == 7) && (cmd[1] == 1) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#464: FILE: drivers/misc/ibmasm/dot_command.h:70:
+		if ( (cmd[0] == 7) && (cmd[1] == 1) )

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cmd[0] == 7'
#464: FILE: drivers/misc/ibmasm/dot_command.h:70:
+		if ( (cmd[0] == 7) && (cmd[1] == 1) )

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cmd[1] == 1'
#464: FILE: drivers/misc/ibmasm/dot_command.h:70:
+		if ( (cmd[0] == 7) && (cmd[1] == 1) )

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#477: FILE: drivers/misc/ibmasm/event.c:1:
+

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#492: FILE: drivers/misc/ibmasm/event.c:16:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#493: FILE: drivers/misc/ibmasm/event.c:17:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#497: FILE: drivers/misc/ibmasm/event.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#497: FILE: drivers/misc/ibmasm/event.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#513: FILE: drivers/misc/ibmasm/event.c:37:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#533: FILE: drivers/misc/ibmasm/event.c:57:
+ */ $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#559: FILE: drivers/misc/ibmasm/event.c:83:
+^Ireturn ^I(r->next_serial_number < b->next_serial_number);$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#565: FILE: drivers/misc/ibmasm/event.c:89:
+ * system). $

ERROR:SPACING: space prohibited after that open parenthesis '('
#575: FILE: drivers/misc/ibmasm/event.c:99:
+	if ( wait_event_interruptible(reader->wait, event_available(buffer, reader)) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#575: FILE: drivers/misc/ibmasm/event.c:99:
+	if ( wait_event_interruptible(reader->wait, event_available(buffer, reader)) )

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*buffer)...) over kmalloc(sizeof(struct event_buffer)...)
#626: FILE: drivers/misc/ibmasm/event.c:150:
+	buffer = kmalloc(sizeof(struct event_buffer), GFP_KERNEL);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#634: FILE: drivers/misc/ibmasm/event.c:158:
+	for (i=0; i<IBMASM_NUM_EVENTS; i++, event++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#634: FILE: drivers/misc/ibmasm/event.c:158:
+	for (i=0; i<IBMASM_NUM_EVENTS; i++, event++)
 	           ^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#653: FILE: drivers/misc/ibmasm/heartbeat.c:1:
+

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#668: FILE: drivers/misc/ibmasm/heartbeat.c:16:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#669: FILE: drivers/misc/ibmasm/heartbeat.c:17:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#673: FILE: drivers/misc/ibmasm/heartbeat.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#673: FILE: drivers/misc/ibmasm/heartbeat.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> $

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#681: FILE: drivers/misc/ibmasm/heartbeat.c:29:
+static int suspend_heartbeats = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#714: FILE: drivers/misc/ibmasm/heartbeat.c:62:
+
+

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!sp->heartbeat"
#718: FILE: drivers/misc/ibmasm/heartbeat.c:66:
+	if (sp->heartbeat == NULL)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#748: FILE: drivers/misc/ibmasm/i2o.h:1:
+/*

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#762: FILE: drivers/misc/ibmasm/i2o.h:15:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#763: FILE: drivers/misc/ibmasm/i2o.h:16:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#767: FILE: drivers/misc/ibmasm/i2o.h:20:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#767: FILE: drivers/misc/ibmasm/i2o.h:20:
+ * Author: Max Asböck <amax@us.ibm.com> $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#776: FILE: drivers/misc/ibmasm/i2o.h:29:
+^Iu8^Itarget;           $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#778: FILE: drivers/misc/ibmasm/i2o.h:31:
+^Iu8^Iinitiator;        $

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#782: FILE: drivers/misc/ibmasm/i2o.h:35:
+};
+#pragma pack()

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#785: FILE: drivers/misc/ibmasm/i2o.h:38:
+      { .version              = 0x01, \$

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#801: FILE: drivers/misc/ibmasm/i2o.h:54:
+};
+#pragma pack()

ERROR:TRAILING_WHITESPACE: trailing whitespace
#814: FILE: drivers/misc/ibmasm/i2o.h:67:
+^I$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 15)
#815: FILE: drivers/misc/ibmasm/i2o.h:68:
+	if (size % sizeof(u32))
+	       i2o_size++;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#819: FILE: drivers/misc/ibmasm/i2o.h:72:
+}^I$

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#829: FILE: drivers/misc/ibmasm/ibmasm.h:1:
+

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#844: FILE: drivers/misc/ibmasm/ibmasm.h:16:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#845: FILE: drivers/misc/ibmasm/ibmasm.h:17:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#849: FILE: drivers/misc/ibmasm/ibmasm.h:21:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#849: FILE: drivers/misc/ibmasm/ibmasm.h:21:
+ * Author: Max Asböck <amax@us.ibm.com> $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#872: FILE: drivers/misc/ibmasm/ibmasm.h:44:
+#define err(msg) printk(KERN_ERR "%s: " msg "\n", DRIVER_NAME)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#873: FILE: drivers/misc/ibmasm/ibmasm.h:45:
+#define info(msg) printk(KERN_INFO "%s: " msg "\n", DRIVER_NAME)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#875: FILE: drivers/misc/ibmasm/ibmasm.h:47:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#876: FILE: drivers/misc/ibmasm/ibmasm.h:48:
+#define IBMASM_CMD_PENDING^I0^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#877: FILE: drivers/misc/ibmasm/ibmasm.h:49:
+#define IBMASM_CMD_COMPLETE^I1^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#906: FILE: drivers/misc/ibmasm/ibmasm.h:78:
+
+

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#915: FILE: drivers/misc/ibmasm/ibmasm.h:87:
+};
+#define to_command(c) container_of(c, struct command, kobj)

ERROR:CODE_INDENT: code indent should use tabs where possible
#919: FILE: drivers/misc/ibmasm/ibmasm.h:91:
+        kobject_put(&cmd->kobj);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#919: FILE: drivers/misc/ibmasm/ibmasm.h:91:
+        kobject_put(&cmd->kobj);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#924: FILE: drivers/misc/ibmasm/ibmasm.h:96:
+        kobject_get(&cmd->kobj);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#924: FILE: drivers/misc/ibmasm/ibmasm.h:96:
+        kobject_get(&cmd->kobj);$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#927: FILE: drivers/misc/ibmasm/ibmasm.h:99:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#954: FILE: drivers/misc/ibmasm/ibmasm.h:126:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#988: FILE: drivers/misc/ibmasm/ibmasm.h:160:
+
+

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#991: FILE: drivers/misc/ibmasm/ibmasm.h:163:
+	spinlock_t		lock;

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#992: FILE: drivers/misc/ibmasm/ibmasm.h:164:
+^Ivoid ^I^I^I*base_address;$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1007: FILE: drivers/misc/ibmasm/ibmasm.h:179:
+extern struct command *ibmasm_new_command(size_t buffer_size);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1008: FILE: drivers/misc/ibmasm/ibmasm.h:180:
+extern void ibmasm_exec_command(struct service_processor *sp, struct command *cmd);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1009: FILE: drivers/misc/ibmasm/ibmasm.h:181:
+extern void ibmasm_wait_for_response(struct command *cmd, int timeout);

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#1010: FILE: drivers/misc/ibmasm/ibmasm.h:182:
+extern void ibmasm_receive_command_response(struct service_processor *sp, void *response,  size_t size);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1010: FILE: drivers/misc/ibmasm/ibmasm.h:182:
+extern void ibmasm_receive_command_response(struct service_processor *sp, void *response,  size_t size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1013: FILE: drivers/misc/ibmasm/ibmasm.h:185:
+extern int ibmasm_event_buffer_init(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1014: FILE: drivers/misc/ibmasm/ibmasm.h:186:
+extern void ibmasm_event_buffer_exit(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1015: FILE: drivers/misc/ibmasm/ibmasm.h:187:
+extern void ibmasm_receive_event(struct service_processor *sp, void *data,  size_t data_size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1016: FILE: drivers/misc/ibmasm/ibmasm.h:188:
+extern void ibmasm_event_reader_register(struct service_processor *sp, struct event_reader *reader);

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#1017: FILE: drivers/misc/ibmasm/ibmasm.h:189:
+extern void ibmasm_event_reader_unregister(struct service_processor *sp, struct event_reader *reader);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1017: FILE: drivers/misc/ibmasm/ibmasm.h:189:
+extern void ibmasm_event_reader_unregister(struct service_processor *sp, struct event_reader *reader);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1018: FILE: drivers/misc/ibmasm/ibmasm.h:190:
+extern int ibmasm_get_next_event(struct service_processor *sp, struct event_reader *reader);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1021: FILE: drivers/misc/ibmasm/ibmasm.h:193:
+extern void ibmasm_register_panic_notifier(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1022: FILE: drivers/misc/ibmasm/ibmasm.h:194:
+extern void ibmasm_unregister_panic_notifier(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1023: FILE: drivers/misc/ibmasm/ibmasm.h:195:
+extern int ibmasm_heartbeat_init(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1024: FILE: drivers/misc/ibmasm/ibmasm.h:196:
+extern void ibmasm_heartbeat_exit(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1025: FILE: drivers/misc/ibmasm/ibmasm.h:197:
+extern void ibmasm_receive_heartbeat(struct service_processor *sp,  void *message, size_t size);

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1028: FILE: drivers/misc/ibmasm/ibmasm.h:200:
+extern void ibmasm_init_reverse_heartbeat(struct service_processor *sp, struct reverse_heartbeat *rhb);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1028: FILE: drivers/misc/ibmasm/ibmasm.h:200:
+extern void ibmasm_init_reverse_heartbeat(struct service_processor *sp, struct reverse_heartbeat *rhb);

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1029: FILE: drivers/misc/ibmasm/ibmasm.h:201:
+extern int ibmasm_start_reverse_heartbeat(struct service_processor *sp, struct reverse_heartbeat *rhb);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1029: FILE: drivers/misc/ibmasm/ibmasm.h:201:
+extern int ibmasm_start_reverse_heartbeat(struct service_processor *sp, struct reverse_heartbeat *rhb);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1030: FILE: drivers/misc/ibmasm/ibmasm.h:202:
+extern void ibmasm_stop_reverse_heartbeat(struct reverse_heartbeat *rhb);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1033: FILE: drivers/misc/ibmasm/ibmasm.h:205:
+extern void ibmasm_receive_message(struct service_processor *sp, void *data, int data_size);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1034: FILE: drivers/misc/ibmasm/ibmasm.h:206:
+extern int ibmasm_send_driver_vpd(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1035: FILE: drivers/misc/ibmasm/ibmasm.h:207:
+extern int ibmasm_send_os_state(struct service_processor *sp, int os_state);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1038: FILE: drivers/misc/ibmasm/ibmasm.h:210:
+extern int ibmasm_send_i2o_message(struct service_processor *sp);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1039: FILE: drivers/misc/ibmasm/ibmasm.h:211:
+extern irqreturn_t ibmasm_interrupt_handler(int irq, void * dev_id, struct pt_regs *regs);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1039: FILE: drivers/misc/ibmasm/ibmasm.h:211:
+extern irqreturn_t ibmasm_interrupt_handler(int irq, void * dev_id, struct pt_regs *regs);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1042: FILE: drivers/misc/ibmasm/ibmasm.h:214:
+extern void ibmasm_handle_mouse_interrupt(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1043: FILE: drivers/misc/ibmasm/ibmasm.h:215:
+extern int ibmasm_init_remote_queue(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1044: FILE: drivers/misc/ibmasm/ibmasm.h:216:
+extern void ibmasm_free_remote_queue(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1045: FILE: drivers/misc/ibmasm/ibmasm.h:217:
+extern void ibmasm_advance_reader(struct remote_queue *q, unsigned int n);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1046: FILE: drivers/misc/ibmasm/ibmasm.h:218:
+extern size_t ibmasm_events_available(struct remote_queue *q);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1049: FILE: drivers/misc/ibmasm/ibmasm.h:221:
+extern int ibmasmfs_register(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1050: FILE: drivers/misc/ibmasm/ibmasm.h:222:
+extern void ibmasmfs_unregister(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1051: FILE: drivers/misc/ibmasm/ibmasm.h:223:
+extern void ibmasmfs_add_sp(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1054: FILE: drivers/misc/ibmasm/ibmasm.h:226:
+extern void ibmasm_register_uart(struct service_processor *sp);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1055: FILE: drivers/misc/ibmasm/ibmasm.h:227:
+extern void ibmasm_unregister_uart(struct service_processor *sp);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1060: FILE: drivers/misc/ibmasm/lowlevel.c:1:
+/*

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1074: FILE: drivers/misc/ibmasm/lowlevel.c:15:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1075: FILE: drivers/misc/ibmasm/lowlevel.c:16:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#1079: FILE: drivers/misc/ibmasm/lowlevel.c:20:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1079: FILE: drivers/misc/ibmasm/lowlevel.c:20:
+ * Author: Max Asböck <amax@us.ibm.com> $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1091: FILE: drivers/misc/ibmasm/lowlevel.c:32:
+
+

ERROR:SPACING: space prohibited after that open parenthesis '('
#1100: FILE: drivers/misc/ibmasm/lowlevel.c:41:
+	if ( !mfa )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1100: FILE: drivers/misc/ibmasm/lowlevel.c:41:
+	if ( !mfa )

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1116: FILE: drivers/misc/ibmasm/lowlevel.c:57:
+irqreturn_t ibmasm_interrupt_handler(int irq, void * dev_id, struct pt_regs *regs)

ERROR:SPACING: space prohibited after that open parenthesis '('
#1125: FILE: drivers/misc/ibmasm/lowlevel.c:66:
+	if ( mouse_interrupt_pending(sp) ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1125: FILE: drivers/misc/ibmasm/lowlevel.c:66:
+	if ( mouse_interrupt_pending(sp) ) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#1134: FILE: drivers/misc/ibmasm/lowlevel.c:75:
+	if ( valid_mfa(mfa) ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1134: FILE: drivers/misc/ibmasm/lowlevel.c:75:
+	if ( valid_mfa(mfa) ) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1136: FILE: drivers/misc/ibmasm/lowlevel.c:77:
+		struct i2o_message *msg = get_i2o_message(base_address, mfa);
+		ibmasm_receive_message(sp, &msg->data, incoming_data_size(msg));

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1145: FILE: drivers/misc/ibmasm/lowlevel.h:1:
+/*

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1159: FILE: drivers/misc/ibmasm/lowlevel.h:15:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1160: FILE: drivers/misc/ibmasm/lowlevel.h:16:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#1164: FILE: drivers/misc/ibmasm/lowlevel.h:20:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1164: FILE: drivers/misc/ibmasm/lowlevel.h:20:
+ * Author: Max Asböck <amax@us.ibm.com> $

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#1173: FILE: drivers/misc/ibmasm/lowlevel.h:29:
+#include <asm/io.h>

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'x' may be better as '(x)' to avoid precedence issues
#1178: FILE: drivers/misc/ibmasm/lowlevel.h:34:
+#define GET_MFA_ADDR(x)  (x & 0xFFFFFF00)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'x' may be better as '(x)' to avoid precedence issues
#1180: FILE: drivers/misc/ibmasm/lowlevel.h:36:
+#define MAILBOX_FULL(x)  (x & 0x00000001)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1184: FILE: drivers/misc/ibmasm/lowlevel.h:40:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1195: FILE: drivers/misc/ibmasm/lowlevel.h:51:
+#define SCOUT_COM_B_BASE         0x0100   $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1196: FILE: drivers/misc/ibmasm/lowlevel.h:52:
+#define SCOUT_COM_C_BASE         0x0200   $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1197: FILE: drivers/misc/ibmasm/lowlevel.h:53:
+#define SCOUT_COM_D_BASE         0x0300   $

WARNING:LINE_SPACING: Missing a blank line after declarations
#1212: FILE: drivers/misc/ibmasm/lowlevel.h:68:
+	void *ctrl_reg = base_address + INTR_CONTROL_REGISTER;
+	writel( readl(ctrl_reg) & ~mask, ctrl_reg);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1212: FILE: drivers/misc/ibmasm/lowlevel.h:68:
+	writel( readl(ctrl_reg) & ~mask, ctrl_reg);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1218: FILE: drivers/misc/ibmasm/lowlevel.h:74:
+	void *ctrl_reg = base_address + INTR_CONTROL_REGISTER;
+	writel( readl(ctrl_reg) | mask, ctrl_reg);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1218: FILE: drivers/misc/ibmasm/lowlevel.h:74:
+	writel( readl(ctrl_reg) | mask, ctrl_reg);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1233: FILE: drivers/misc/ibmasm/lowlevel.h:89:
+^Iibmasm_enable_interrupts(base_address, UART_INTR_MASK); $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1238: FILE: drivers/misc/ibmasm/lowlevel.h:94:
+^Iibmasm_disable_interrupts(base_address, UART_INTR_MASK); $

ERROR:SPACING: space prohibited after that open parenthesis '('
#1241: FILE: drivers/misc/ibmasm/lowlevel.h:97:
+#define valid_mfa(mfa)	( (mfa) != NO_MFAS_AVAILABLE )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1241: FILE: drivers/misc/ibmasm/lowlevel.h:97:
+#define valid_mfa(mfa)	( (mfa) != NO_MFAS_AVAILABLE )

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1248: FILE: drivers/misc/ibmasm/lowlevel.h:104:
+	for (retry=0; retry<=10; retry++) {
 	          ^

ERROR:SPACING: spaces required around that '<=' (ctx:VxV)
#1248: FILE: drivers/misc/ibmasm/lowlevel.h:104:
+	for (retry=0; retry<=10; retry++) {
 	                   ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1250: FILE: drivers/misc/ibmasm/lowlevel.h:106:
+		if ( valid_mfa(mfa) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1250: FILE: drivers/misc/ibmasm/lowlevel.h:106:
+		if ( valid_mfa(mfa) )

ERROR:CODE_INDENT: code indent should use tabs where possible
#1258: FILE: drivers/misc/ibmasm/lowlevel.h:114:
+   ^Iwritel(mfa, base_address + OUTBOUND_QUEUE_PORT);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1258: FILE: drivers/misc/ibmasm/lowlevel.h:114:
+   ^Iwritel(mfa, base_address + OUTBOUND_QUEUE_PORT);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1258: FILE: drivers/misc/ibmasm/lowlevel.h:114:
+   ^Iwritel(mfa, base_address + OUTBOUND_QUEUE_PORT);$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1265: FILE: drivers/misc/ibmasm/lowlevel.h:121:
+	if ( MAILBOX_FULL(mfa) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1265: FILE: drivers/misc/ibmasm/lowlevel.h:121:
+	if ( MAILBOX_FULL(mfa) )

ERROR:CODE_INDENT: code indent should use tabs where possible
#1273: FILE: drivers/misc/ibmasm/lowlevel.h:129:
+   ^Iwritel(mfa, base_address + INBOUND_QUEUE_PORT);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1273: FILE: drivers/misc/ibmasm/lowlevel.h:129:
+   ^Iwritel(mfa, base_address + INBOUND_QUEUE_PORT);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1273: FILE: drivers/misc/ibmasm/lowlevel.h:129:
+   ^Iwritel(mfa, base_address + INBOUND_QUEUE_PORT);$

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1303: FILE: drivers/misc/ibmasm/module.c:1:
+

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1318: FILE: drivers/misc/ibmasm/module.c:16:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1319: FILE: drivers/misc/ibmasm/module.c:17:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#1323: FILE: drivers/misc/ibmasm/module.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1323: FILE: drivers/misc/ibmasm/module.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1325: FILE: drivers/misc/ibmasm/module.c:23:
+ * This driver is based on code originally written by Pete Reynolds $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1335: FILE: drivers/misc/ibmasm/module.c:33:
+ * to send periodic heartbeats to the OS. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1341: FILE: drivers/misc/ibmasm/module.c:39:
+ * The interface for this is the ibmasmfs file system. $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1361: FILE: drivers/misc/ibmasm/module.c:59:
+
+

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*sp)...) over kmalloc(sizeof(struct service_processor)...)
#1367: FILE: drivers/misc/ibmasm/module.c:65:
+	sp = kmalloc(sizeof(struct service_processor), GFP_KERNEL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!sp"
#1368: FILE: drivers/misc/ibmasm/module.c:66:
+	if (sp == NULL) {

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#1369: FILE: drivers/misc/ibmasm/module.c:67:
+	if (sp == NULL) {
+		dev_err(&pdev->dev, "Failed to allocate memory\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1393: FILE: drivers/misc/ibmasm/module.c:91:
+^Isp->base_address = ioremap(pci_resource_start(pdev, 0), $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1394: FILE: drivers/misc/ibmasm/module.c:92:
+	sp->base_address = ioremap(pci_resource_start(pdev, 0), 
+					pci_resource_len(pdev, 0));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1410: FILE: drivers/misc/ibmasm/module.c:108:
+	result = request_irq(sp->irq, ibmasm_interrupt_handler, SA_SHIRQ, sp->devname, (void*)sp);

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#1469: FILE: drivers/misc/ibmasm/module.c:167:
+static struct pci_device_id ibmasm_pci_table[] =
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1481: FILE: drivers/misc/ibmasm/module.c:179:
+static void __exit ibmasm_exit (void)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1519: FILE: drivers/misc/ibmasm/remote.c:1:
+

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1534: FILE: drivers/misc/ibmasm/remote.c:16:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1535: FILE: drivers/misc/ibmasm/remote.c:17:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#1539: FILE: drivers/misc/ibmasm/remote.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1539: FILE: drivers/misc/ibmasm/remote.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> $

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1557: FILE: drivers/misc/ibmasm/remote.c:39:
+	q->start = kmalloc(DRIVER_REMOTE_QUEUE_SIZE * sizeof(struct remote_event), GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

ERROR:CODE_INDENT: code indent should use tabs where possible
#1558: FILE: drivers/misc/ibmasm/remote.c:40:
+        if (q->start == 0)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1558: FILE: drivers/misc/ibmasm/remote.c:40:
+        if (q->start == 0)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1559: FILE: drivers/misc/ibmasm/remote.c:41:
+                return -ENOMEM;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1559: FILE: drivers/misc/ibmasm/remote.c:41:
+                return -ENOMEM;$

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#1573: FILE: drivers/misc/ibmasm/remote.c:55:
+	if (sp->remote_queue.start)
+		kfree(sp->remote_queue.start);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1592: FILE: drivers/misc/ibmasm/remote.c:74:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1593: FILE: drivers/misc/ibmasm/remote.c:75:
+	
+

ERROR:SPACING: space prohibited after that open parenthesis '('
#1599: FILE: drivers/misc/ibmasm/remote.c:81:
+	return ( (q->reader + q->size - q->writer) % q->size ) - 1;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1599: FILE: drivers/misc/ibmasm/remote.c:81:
+	return ( (q->reader + q->size - q->writer) % q->size ) - 1;

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#1604: FILE: drivers/misc/ibmasm/remote.c:86:
+	static char last_buttons = 0;

ERROR:SPACING: space prohibited after that open parenthesis '('
#1630: FILE: drivers/misc/ibmasm/remote.c:112:
+	if ( space_free(q) < 1 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1630: FILE: drivers/misc/ibmasm/remote.c:112:
+	if ( space_free(q) < 1 ) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1630: FILE: drivers/misc/ibmasm/remote.c:112:
+	if ( space_free(q) < 1 ) {
+		return 1;
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: space required before the open parenthesis '('
#1634: FILE: drivers/misc/ibmasm/remote.c:116:
+	switch(input->type) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1654: FILE: drivers/misc/ibmasm/remote.c:136:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1655: FILE: drivers/misc/ibmasm/remote.c:137:
+	
+

ERROR:SPACING: space prohibited after that open parenthesis '('
#1668: FILE: drivers/misc/ibmasm/remote.c:150:
+		if ( add_to_driver_queue(&sp->remote_queue, &input) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1668: FILE: drivers/misc/ibmasm/remote.c:150:
+		if ( add_to_driver_queue(&sp->remote_queue, &input) )

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1679: FILE: drivers/misc/ibmasm/remote.h:1:
+

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1694: FILE: drivers/misc/ibmasm/remote.h:16:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1695: FILE: drivers/misc/ibmasm/remote.h:17:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#1699: FILE: drivers/misc/ibmasm/remote.h:21:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1699: FILE: drivers/misc/ibmasm/remote.h:21:
+ * Author: Max Asböck <amax@us.ibm.com> $

WARNING:TYPO_SPELLING: 'Orignally' may be misspelled - perhaps 'Originally'?
#1701: FILE: drivers/misc/ibmasm/remote.h:23:
+ * Orignally written by Pete Reynolds
    ^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#1707: FILE: drivers/misc/ibmasm/remote.h:29:
+#include <asm/io.h>

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1730: FILE: drivers/misc/ibmasm/remote.h:52:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1737: FILE: drivers/misc/ibmasm/remote.h:59:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1743: FILE: drivers/misc/ibmasm/remote.h:65:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1750: FILE: drivers/misc/ibmasm/remote.h:72:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1752: FILE: drivers/misc/ibmasm/remote.h:74:
+struct remote_input { $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1764: FILE: drivers/misc/ibmasm/remote.h:86:
+#define mouse_addr(sp) ^I^Isp->base_address + CONDOR_MOUSE_DATA$

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1764: FILE: drivers/misc/ibmasm/remote.h:86:
+#define mouse_addr(sp) 		sp->base_address + CONDOR_MOUSE_DATA

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'sp' may be better as '(sp)' to avoid precedence issues
#1764: FILE: drivers/misc/ibmasm/remote.h:86:
+#define mouse_addr(sp) 		sp->base_address + CONDOR_MOUSE_DATA

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1765: FILE: drivers/misc/ibmasm/remote.h:87:
+#define display_width(sp)	mouse_addr(sp) + CONDOR_INPUT_DISPLAY_RESX

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1766: FILE: drivers/misc/ibmasm/remote.h:88:
+#define display_height(sp)	mouse_addr(sp) + CONDOR_INPUT_DISPLAY_RESY

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1767: FILE: drivers/misc/ibmasm/remote.h:89:
+#define display_depth(sp)	mouse_addr(sp) + CONDOR_INPUT_DISPLAY_BITS

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1768: FILE: drivers/misc/ibmasm/remote.h:90:
+#define vnc_status(sp)		mouse_addr(sp) + CONDOR_OUTPUT_VNC_STATUS

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1770: FILE: drivers/misc/ibmasm/remote.h:92:
+#define mouse_interrupt_pending(sp) ^Ireadl(mouse_addr(sp) + CONDOR_MOUSE_ISR_STATUS)$

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1782: FILE: drivers/misc/ibmasm/remote.h:104:
+#define queue_begin	mouse_addr(sp) + CONDOR_MOUSE_Q_BEGIN

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1784: FILE: drivers/misc/ibmasm/remote.h:106:
+#define get_queue_entry(sp, read_index) \
+	queue_begin + read_index * sizeof(struct remote_input)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'read_index' may be better as '(read_index)' to avoid precedence issues
#1784: FILE: drivers/misc/ibmasm/remote.h:106:
+#define get_queue_entry(sp, read_index) \
+	queue_begin + read_index * sizeof(struct remote_input)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1802: FILE: drivers/misc/ibmasm/r_heartbeat.c:1:
+

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1815: FILE: drivers/misc/ibmasm/r_heartbeat.c:14:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1816: FILE: drivers/misc/ibmasm/r_heartbeat.c:15:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#1820: FILE: drivers/misc/ibmasm/r_heartbeat.c:19:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1820: FILE: drivers/misc/ibmasm/r_heartbeat.c:19:
+ * Author: Max Asböck <amax@us.ibm.com> $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1839: FILE: drivers/misc/ibmasm/r_heartbeat.c:38:
+^I^I.type = ^Isp_read,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1842: FILE: drivers/misc/ibmasm/r_heartbeat.c:41:
+^I^I.status = ^I0$

WARNING:SIZEOF_PARENTHESIS: sizeof rhb_dot_cmd should be sizeof(rhb_dot_cmd)
#1864: FILE: drivers/misc/ibmasm/r_heartbeat.c:63:
+	cmd = ibmasm_new_command(sizeof rhb_dot_cmd);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1868: FILE: drivers/misc/ibmasm/r_heartbeat.c:67:
+	while ( times_failed < 3 && !rhb->stopped ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1868: FILE: drivers/misc/ibmasm/r_heartbeat.c:67:
+	while ( times_failed < 3 && !rhb->stopped ) {

WARNING:SIZEOF_PARENTHESIS: sizeof rhb_dot_cmd should be sizeof(rhb_dot_cmd)
#1869: FILE: drivers/misc/ibmasm/r_heartbeat.c:68:
+		memcpy(cmd->buffer, (void *)&rhb_dot_cmd, sizeof rhb_dot_cmd);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1877: FILE: drivers/misc/ibmasm/r_heartbeat.c:76:
+^I^Iwait_event_interruptible_timeout(rhb->wait, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1878: FILE: drivers/misc/ibmasm/r_heartbeat.c:77:
+		wait_event_interruptible_timeout(rhb->wait, 
+			rhb->stopped,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1879: FILE: drivers/misc/ibmasm/r_heartbeat.c:78:
+^I^I^IREVERSE_HEARTBEAT_TIMEOUT * HZ); ^I$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1879: FILE: drivers/misc/ibmasm/r_heartbeat.c:78:
+^I^I^IREVERSE_HEARTBEAT_TIMEOUT * HZ); ^I$

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1901: FILE: drivers/misc/ibmasm/uart.c:1:
+

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1916: FILE: drivers/misc/ibmasm/uart.c:16:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#1917: FILE: drivers/misc/ibmasm/uart.c:17:
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.$

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#1921: FILE: drivers/misc/ibmasm/uart.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> 
                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1921: FILE: drivers/misc/ibmasm/uart.c:21:
+ * Author: Max Asböck <amax@us.ibm.com> $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1933: FILE: drivers/misc/ibmasm/uart.c:33:
+
+

ERROR:SPACING: space prohibited after that open parenthesis '('
#1944: FILE: drivers/misc/ibmasm/uart.c:44:
+	if ( 0 == readl(iomem_base + UART_SCR) ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1944: FILE: drivers/misc/ibmasm/uart.c:44:
+	if ( 0 == readl(iomem_base + UART_SCR) ) {

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1944: FILE: drivers/misc/ibmasm/uart.c:44:
+	if ( 0 == readl(iomem_base + UART_SCR) ) {

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#1980: FILE: drivers/misc/Kconfig:7:
+config IBM_ASM
+	tristate "Device driver for IBM RSA service processor"
+	default n
+	---help---
+	  This option enables device driver support for in-band access to the
+	  IBM RSA (Condor) service processor in eServer xSeries systems.
+	  The ibmasm device driver allows user space application to access
+	  ASM (Advanced Systems Management) functions on the service
+	  processor. The driver is meant to be used in conjunction with
+	  a user space API.
+	  The ibmasm driver also enables the OS to use the UART on the
+          service processor board as a regular serial port.
+	  
+
+	  If unsure, say N.
+

Kconfig symbols should have a help text which fully describes
it.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1992: FILE: drivers/misc/Kconfig:19:
+^I  $

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000307078.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 137 errors, 55 warnings, 93 checks, 1887 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000307078.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
