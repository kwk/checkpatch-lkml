WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#46: 
The machine is a Pentium M 2.00 GHz, supporting C0-C4 processor power states.

WARNING:TYPO_SPELLING: 'invokations' may be misspelled - perhaps 'invocations'?
#70: 
(Usage count could be bogus, as some invokations could not succeed if bm has currently been active).
                                     ^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'invokations' may be misspelled - perhaps 'invocations'?
#132: 
   last four C2 (or higher) invokations.
                            ^^^^^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#158: FILE: drivers/acpi/processor_idle.c:73:
+#define myPrintk(string, args...) printk(KERN_INFO ""string, ##args);

CHECK:CAMELCASE: Avoid CamelCase: <myPrintk>
#158: FILE: drivers/acpi/processor_idle.c:73:
+#define myPrintk(string, args...) printk(KERN_INFO ""string, ##args);

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#158: FILE: drivers/acpi/processor_idle.c:73:
+#define myPrintk(string, args...) printk(KERN_INFO ""string, ##args);

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#160: FILE: drivers/acpi/processor_idle.c:75:
+#define myPrintk(string, args...) {};

CHECK:LINE_SPACING: Please don't use multiple blank lines
#163: FILE: drivers/acpi/processor_idle.c:78:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#171: FILE: drivers/acpi/processor_idle.c:181:
+u16 calc_average (u64 last_measures){

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#171: FILE: drivers/acpi/processor_idle.c:181:
+u16 calc_average (u64 last_measures){

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required before the open brace '{'
#171: FILE: drivers/acpi/processor_idle.c:181:
+u16 calc_average (u64 last_measures){

WARNING:LINE_SPACING: Missing a blank line after declarations
#174: FILE: drivers/acpi/processor_idle.c:184:
+	u16 ret = 0;
+	for (x = 0; x < sizeof(u64)*8; x+=16){

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#174: FILE: drivers/acpi/processor_idle.c:184:
+	for (x = 0; x < sizeof(u64)*8; x+=16){
 	                           ^

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#174: FILE: drivers/acpi/processor_idle.c:184:
+	for (x = 0; x < sizeof(u64)*8; x+=16){
 	                                ^

ERROR:SPACING: space required before the open brace '{'
#174: FILE: drivers/acpi/processor_idle.c:184:
+	for (x = 0; x < sizeof(u64)*8; x+=16){

WARNING:LONG_LINE_COMMENT: line length of 153 exceeds 100 columns
#176: FILE: drivers/acpi/processor_idle.c:186:
+//		myPrintk (KERN_INFO "x: %d - ret: %X - last_measures: %X - result %X\n", x, ret, (u64)last_measures, (last_measures >> x) & (u64)0xFFFF);

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:TRAILING_WHITESPACE: trailing whitespace
#190: FILE: drivers/acpi/processor_idle.c:200:
+ * return 1  -> we currently have bus master activity $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#194: FILE: drivers/acpi/processor_idle.c:204:
+static void check_bm_activity(struct acpi_processor *pr) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#197: FILE: drivers/acpi/processor_idle.c:207:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#208: FILE: drivers/acpi/processor_idle.c:218:
+^I$

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#223: FILE: drivers/acpi/processor_idle.c:233:
+		if ((inb_p(errata.piix4.bmisx + 0x02) & 0x01)
+		    || (inb_p(errata.piix4.bmisx + 0x0A) & 0x01))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#227: FILE: drivers/acpi/processor_idle.c:237:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#244: FILE: drivers/acpi/processor_idle.c:254:
+^I$

WARNING:LONG_LINE_COMMENT: line length of 113 exceeds 100 columns
#245: FILE: drivers/acpi/processor_idle.c:255:
+//	myPrintk (KERN_INFO "diff: %lu - Avg: bm_last_measures: %#16X\n", diff, (u64)pr->power.bm_last_measures);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#247: FILE: drivers/acpi/processor_idle.c:257:
+	pr->power.bm_avg_ms = calc_average (pr->power.bm_last_measures);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#248: FILE: drivers/acpi/processor_idle.c:258:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#249: FILE: drivers/acpi/processor_idle.c:259:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#249: FILE: drivers/acpi/processor_idle.c:259:
+	
+	

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#250: FILE: drivers/acpi/processor_idle.c:260:
+//	printk (KERN_INFO "Avg: bm_avg_ms: %lu ms \n", (unsigned long)pr->power.bm_avg_ms);

WARNING:LINE_SPACING: Missing a blank line after declarations
#279: FILE: drivers/acpi/processor_idle.c:304:
+	unsigned long	diff = jiffies - pr->power.active_timestamp;
+	if (diff > 0xFFFF)

ERROR:SPACING: space required before the open brace '{'
#284: FILE: drivers/acpi/processor_idle.c:309:
+	if (pr->power.active_avg_ms > idle_ms){

WARNING:LONG_LINE: line length of 116 exceeds 100 columns
#285: FILE: drivers/acpi/processor_idle.c:310:
+		printk (KERN_INFO "We were not idle for %d ms (4 times avg) -> goto C1\n", pr->power.active_avg_ms);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#285: FILE: drivers/acpi/processor_idle.c:310:
+		printk (KERN_INFO "We were not idle for %d ms (4 times avg) -> goto C1\n", pr->power.active_avg_ms);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#285: FILE: drivers/acpi/processor_idle.c:310:
+		printk (KERN_INFO "We were not idle for %d ms (4 times avg) -> goto C1\n", pr->power.active_avg_ms);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#293: FILE: drivers/acpi/processor_idle.c:317:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#336: FILE: drivers/acpi/processor_idle.c:326:
+^I^I$

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#336: FILE: drivers/acpi/processor_idle.c:326:
 	if (pr->flags.bm_check) {
+		

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#375: FILE: drivers/acpi/processor_idle.c:427:
+^I$

ERROR:SPACING: space required before the open brace '{'
#377: FILE: drivers/acpi/processor_idle.c:429:
+	if (bm_promote_ms >= pr->power.bm_avg_ms){

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#378: FILE: drivers/acpi/processor_idle.c:430:
+		myPrintk ("pr->power.bm_avg_ms: %d\n", (int)pr->power.bm_avg_ms);

ERROR:SPACING: space required before the open brace '{'
#380: FILE: drivers/acpi/processor_idle.c:432:
+		if (next_state == NULL || !next_state->valid){

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!next_state"
#380: FILE: drivers/acpi/processor_idle.c:432:
+		if (next_state == NULL || !next_state->valid){

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!next_state"
#382: FILE: drivers/acpi/processor_idle.c:434:
+			if (next_state == NULL || !next_state->valid)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#384: FILE: drivers/acpi/processor_idle.c:436:
+^I^I^I$

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#385: FILE: drivers/acpi/processor_idle.c:437:
+			
+		}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#388: FILE: drivers/acpi/processor_idle.c:440:
+^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#389: FILE: drivers/acpi/processor_idle.c:441:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#389: FILE: drivers/acpi/processor_idle.c:441:
+		
+	

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#391: FILE: drivers/acpi/processor_idle.c:443:
+	/* goto sleep state which latency fits best to avg sleep time
+	   of the last 4 sleep cycles */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#391: FILE: drivers/acpi/processor_idle.c:443:
+	   of the last 4 sleep cycles */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#392: FILE: drivers/acpi/processor_idle.c:444:
+	for (i=ACPI_STATE_C2; i < ACPI_PROCESSOR_MAX_POWER; i++) {
 	      ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!temp_state"
#394: FILE: drivers/acpi/processor_idle.c:446:
+		if (temp_state == NULL || !temp_state->valid)

WARNING:LONG_LINE_STRING: line length of 101 exceeds 100 columns
#396: FILE: drivers/acpi/processor_idle.c:448:
+		myPrintk ("pr->power.sleep_avg_ticks: %d - temp_state->promotion.threshold.ticks: %d"

A string starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#396: FILE: drivers/acpi/processor_idle.c:448:
+		myPrintk ("pr->power.sleep_avg_ticks: %d - temp_state->promotion.threshold.ticks: %d"

ERROR:TRAILING_WHITESPACE: trailing whitespace
#397: FILE: drivers/acpi/processor_idle.c:449:
+^I^I^I  " - sleep_ticks; %d\n", $

WARNING:SPLIT_STRING: quoted string split across lines
#397: FILE: drivers/acpi/processor_idle.c:449:
+		myPrintk ("pr->power.sleep_avg_ticks: %d - temp_state->promotion.threshold.ticks: %d"
+			  " - sleep_ticks; %d\n", 

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:LONG_LINE: line length of 105 exceeds 100 columns
#398: FILE: drivers/acpi/processor_idle.c:450:
+			  pr->power.sleep_avg_ticks, temp_state->promotion.threshold.ticks, sleep_ticks);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#399: FILE: drivers/acpi/processor_idle.c:451:
+^I^Iif (temp_state->promotion.state && $

CHECK:BRACES: braces {} should be used on all arms of this statement
#399: FILE: drivers/acpi/processor_idle.c:451:
+		if (temp_state->promotion.state && 
[...]
+		else
[...]

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#404: FILE: drivers/acpi/processor_idle.c:456:
+		}
+		else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#407: FILE: drivers/acpi/processor_idle.c:459:
+#else^I^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#453: FILE: drivers/acpi/processor_idle.c:1056:
+		seq_printf(seq, "                         failed[%08d]\n",
+			pr->power.states[i].failed);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#476: FILE: include/acpi/processor.h:62:
+^Iu64     ^I^Ibm_last_measures;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#477: FILE: include/acpi/processor.h:63:
+^Iu16     ^I^Isleep_avg_ticks;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#478: FILE: include/acpi/processor.h:64:
+^Iu64     ^I^Isleep_last_measures;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#480: FILE: include/acpi/processor.h:66:
+^Iu16     ^I^Iactive_avg_ms;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#481: FILE: include/acpi/processor.h:67:
+^Iu64     ^I^Iactive_last_measures;$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000189157.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 26 errors, 28 warnings, 13 checks, 325 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000189157.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
