WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#78: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#82: FILE: drivers/usb/gadget/pxa27x_udc.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#83: FILE: drivers/usb/gadget/pxa27x_udc.c:2:
+ * linux/drivers/usb/gadget/pxa27x_udc.c

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#105: FILE: drivers/usb/gadget/pxa27x_udc.c:24:
+ * along with this program; if not, write to the Free Software$

Kernel maintainers reject new instances of the GPL boilerplate paragraph
directing people to write to the FSF for a copy of the GPL, since the
FSF has moved in the past and may do so again.
So do not write paragraphs about writing to the Free Software Foundation's
mailing address.

See: https://lore.kernel.org/lkml/20131006222342.GT19510@leaf/

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#106: FILE: drivers/usb/gadget/pxa27x_udc.c:25:
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA$

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#135: FILE: drivers/usb/gadget/pxa27x_udc.c:54:
+#include <asm/io.h>

CHECK:LINE_SPACING: Please don't use multiple blank lines
#148: FILE: drivers/usb/gadget/pxa27x_udc.c:67:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#167: FILE: drivers/usb/gadget/pxa27x_udc.c:86:
+
+

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#168: FILE: drivers/usb/gadget/pxa27x_udc.c:87:
+static const char driver_name [] = "pxa27x_udc";

Whitespace before opening bracket '[' is prohibited.
There are some exceptions:

1. With a type on the left::

    int [] a;

2. At the beginning of a line for slice initialisers::

    [0...10] = 5,

3. Inside a curly brace::

    = { [0...10] = 5 }

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#170: FILE: drivers/usb/gadget/pxa27x_udc.c:89:
+static const char ep0name [] = "ep0";

CHECK:LINE_SPACING: Please don't use multiple blank lines
#172: FILE: drivers/usb/gadget/pxa27x_udc.c:91:
+
+

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#182: FILE: drivers/usb/gadget/pxa27x_udc.c:101:
+#if 0

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#193: FILE: drivers/usb/gadget/pxa27x_udc.c:112:
+MODULE_PARM_DESC (use_dma, "true to use dma");

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#216: FILE: drivers/usb/gadget/pxa27x_udc.c:135:
+static ushort fifo_mode = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#218: FILE: drivers/usb/gadget/pxa27x_udc.c:137:
+MODULE_PARM_DESC (fifo_mode, "pxa27x udc fifo mode");

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#227: FILE: drivers/usb/gadget/pxa27x_udc.c:146:
+ * ^Iendpoint related parts of the api to the usb controller hardware,$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#232: FILE: drivers/usb/gadget/pxa27x_udc.c:151:
+static void pxa27x_ep_fifo_flush (struct usb_ep *ep);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#233: FILE: drivers/usb/gadget/pxa27x_udc.c:152:
+static void nuke (struct pxa27x_ep *, int status);

ERROR:CODE_INDENT: code indent should use tabs where possible
#237: FILE: drivers/usb/gadget/pxa27x_udc.c:156:
+        if (ep_num < 16)$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#237: FILE: drivers/usb/gadget/pxa27x_udc.c:156:
+        if (ep_num < 16)$

CHECK:BRACES: braces {} should be used on all arms of this statement
#237: FILE: drivers/usb/gadget/pxa27x_udc.c:156:
+        if (ep_num < 16)
[...]
+        else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#238: FILE: drivers/usb/gadget/pxa27x_udc.c:157:
+                UDCICR0 |= 3 << (ep_num * 2);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#238: FILE: drivers/usb/gadget/pxa27x_udc.c:157:
+                UDCICR0 |= 3 << (ep_num * 2);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#239: FILE: drivers/usb/gadget/pxa27x_udc.c:158:
+        else {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#239: FILE: drivers/usb/gadget/pxa27x_udc.c:158:
+        else {$

CHECK:BRACES: Unbalanced braces around else statement
#239: FILE: drivers/usb/gadget/pxa27x_udc.c:158:
+        else {

ERROR:CODE_INDENT: code indent should use tabs where possible
#240: FILE: drivers/usb/gadget/pxa27x_udc.c:159:
+                ep_num -= 16;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#240: FILE: drivers/usb/gadget/pxa27x_udc.c:159:
+                ep_num -= 16;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#241: FILE: drivers/usb/gadget/pxa27x_udc.c:160:
+                UDCICR1 |= 3 << (ep_num * 2);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#241: FILE: drivers/usb/gadget/pxa27x_udc.c:160:
+                UDCICR1 |= 3 << (ep_num * 2);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#247: FILE: drivers/usb/gadget/pxa27x_udc.c:166:
+        ep_num &= 0xf;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#247: FILE: drivers/usb/gadget/pxa27x_udc.c:166:
+        ep_num &= 0xf;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#248: FILE: drivers/usb/gadget/pxa27x_udc.c:167:
+        if (ep_num < 16)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#248: FILE: drivers/usb/gadget/pxa27x_udc.c:167:
+        if (ep_num < 16)$

CHECK:BRACES: braces {} should be used on all arms of this statement
#248: FILE: drivers/usb/gadget/pxa27x_udc.c:167:
+        if (ep_num < 16)
[...]
+        else {
[...]

ERROR:CODE_INDENT: code indent should use tabs where possible
#249: FILE: drivers/usb/gadget/pxa27x_udc.c:168:
+                UDCICR0 &= ~(3 << (ep_num * 2));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#249: FILE: drivers/usb/gadget/pxa27x_udc.c:168:
+                UDCICR0 &= ~(3 << (ep_num * 2));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#250: FILE: drivers/usb/gadget/pxa27x_udc.c:169:
+        else {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#250: FILE: drivers/usb/gadget/pxa27x_udc.c:169:
+        else {$

CHECK:BRACES: Unbalanced braces around else statement
#250: FILE: drivers/usb/gadget/pxa27x_udc.c:169:
+        else {

ERROR:CODE_INDENT: code indent should use tabs where possible
#251: FILE: drivers/usb/gadget/pxa27x_udc.c:170:
+                ep_num -= 16;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#251: FILE: drivers/usb/gadget/pxa27x_udc.c:170:
+                ep_num -= 16;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#252: FILE: drivers/usb/gadget/pxa27x_udc.c:171:
+                UDCICR1 &= ~(3 << (ep_num * 2));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#252: FILE: drivers/usb/gadget/pxa27x_udc.c:171:
+                UDCICR1 &= ~(3 << (ep_num * 2));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#253: FILE: drivers/usb/gadget/pxa27x_udc.c:172:
+        }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#253: FILE: drivers/usb/gadget/pxa27x_udc.c:172:
+        }$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#293: FILE: drivers/usb/gadget/pxa27x_udc.c:212:
+static int pxa27x_ep_enable (struct usb_ep *_ep,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#294: FILE: drivers/usb/gadget/pxa27x_udc.c:213:
+static int pxa27x_ep_enable (struct usb_ep *_ep,
+		const struct usb_endpoint_descriptor *desc)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#299: FILE: drivers/usb/gadget/pxa27x_udc.c:218:
+	ep = container_of (_ep, struct pxa27x_ep, ep);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#301: FILE: drivers/usb/gadget/pxa27x_udc.c:220:
+	if (!_ep || !desc || _ep->name == ep0name
+			|| desc->bDescriptorType != USB_DT_ENDPOINT

CHECK:CAMELCASE: Avoid CamelCase: <bDescriptorType>
#301: FILE: drivers/usb/gadget/pxa27x_udc.c:220:
+			|| desc->bDescriptorType != USB_DT_ENDPOINT

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#302: FILE: drivers/usb/gadget/pxa27x_udc.c:221:
+			|| desc->bDescriptorType != USB_DT_ENDPOINT
+			|| ep->fifo_size < le16_to_cpu(desc->wMaxPacketSize)) {

CHECK:CAMELCASE: Avoid CamelCase: <wMaxPacketSize>
#302: FILE: drivers/usb/gadget/pxa27x_udc.c:221:
+			|| ep->fifo_size < le16_to_cpu(desc->wMaxPacketSize)) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#303: FILE: drivers/usb/gadget/pxa27x_udc.c:222:
+		DMSG("%s, bad ep or descriptor\n", __FUNCTION__);

ERROR:SPACING: space prohibited after that open parenthesis '('
#308: FILE: drivers/usb/gadget/pxa27x_udc.c:227:
+	if( ep->ep_type != USB_ENDPOINT_XFER_BULK

ERROR:SPACING: space required before the open parenthesis '('
#308: FILE: drivers/usb/gadget/pxa27x_udc.c:227:
+	if( ep->ep_type != USB_ENDPOINT_XFER_BULK

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#309: FILE: drivers/usb/gadget/pxa27x_udc.c:228:
+	if( ep->ep_type != USB_ENDPOINT_XFER_BULK
+			&& desc->bmAttributes != USB_ENDPOINT_XFER_INT) {

CHECK:CAMELCASE: Avoid CamelCase: <bmAttributes>
#309: FILE: drivers/usb/gadget/pxa27x_udc.c:228:
+			&& desc->bmAttributes != USB_ENDPOINT_XFER_INT) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#310: FILE: drivers/usb/gadget/pxa27x_udc.c:229:
+		DMSG("%s, %s type mismatch\n", __FUNCTION__, _ep->name);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'desc->wMaxPacketSize'
#315: FILE: drivers/usb/gadget/pxa27x_udc.c:234:
+	if ((desc->bmAttributes == USB_ENDPOINT_XFER_BULK
+				&& le16_to_cpu (desc->wMaxPacketSize)
+						!= BULK_FIFO_SIZE)
+			|| !desc->wMaxPacketSize) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#316: FILE: drivers/usb/gadget/pxa27x_udc.c:235:
+	if ((desc->bmAttributes == USB_ENDPOINT_XFER_BULK
+				&& le16_to_cpu (desc->wMaxPacketSize)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#316: FILE: drivers/usb/gadget/pxa27x_udc.c:235:
+				&& le16_to_cpu (desc->wMaxPacketSize)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#318: FILE: drivers/usb/gadget/pxa27x_udc.c:237:
+						!= BULK_FIFO_SIZE)
+			|| !desc->wMaxPacketSize) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#319: FILE: drivers/usb/gadget/pxa27x_udc.c:238:
+		DMSG("%s, bad %s maxpacket\n", __FUNCTION__, _ep->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#325: FILE: drivers/usb/gadget/pxa27x_udc.c:244:
+		DMSG("%s, bogus device state\n", __FUNCTION__);

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#332: FILE: drivers/usb/gadget/pxa27x_udc.c:251:
+	ep->pio_irqs = ep->dma_irqs = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#333: FILE: drivers/usb/gadget/pxa27x_udc.c:252:
+	ep->ep.maxpacket = le16_to_cpu (desc->wMaxPacketSize);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#336: FILE: drivers/usb/gadget/pxa27x_udc.c:255:
+	pxa27x_ep_fifo_flush (_ep);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#344: FILE: drivers/usb/gadget/pxa27x_udc.c:263:
+	DMSG("%s: called attributes=%d\n", __FUNCTION__, ep->ep_type);

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#349: FILE: drivers/usb/gadget/pxa27x_udc.c:268:
+		// fall through

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#353: FILE: drivers/usb/gadget/pxa27x_udc.c:272:
+		ep->dma = pxa_request_dma ((char *)_ep->name,

ERROR:CODE_INDENT: code indent should use tabs where possible
#354: FILE: drivers/usb/gadget/pxa27x_udc.c:273:
+ ^I^I^I^I(le16_to_cpu (desc->wMaxPacketSize) > 64)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#354: FILE: drivers/usb/gadget/pxa27x_udc.c:273:
+ ^I^I^I^I(le16_to_cpu (desc->wMaxPacketSize) > 64)$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#354: FILE: drivers/usb/gadget/pxa27x_udc.c:273:
+		ep->dma = pxa_request_dma ((char *)_ep->name,
+ 				(le16_to_cpu (desc->wMaxPacketSize) > 64)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#354: FILE: drivers/usb/gadget/pxa27x_udc.c:273:
+ ^I^I^I^I(le16_to_cpu (desc->wMaxPacketSize) > 64)$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#354: FILE: drivers/usb/gadget/pxa27x_udc.c:273:
+ 				(le16_to_cpu (desc->wMaxPacketSize) > 64)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#370: FILE: drivers/usb/gadget/pxa27x_udc.c:289:
+static int pxa27x_ep_disable (struct usb_ep *_ep)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#374: FILE: drivers/usb/gadget/pxa27x_udc.c:293:
+	ep = container_of (_ep, struct pxa27x_ep, ep);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#376: FILE: drivers/usb/gadget/pxa27x_udc.c:295:
+		DMSG("%s, %s not enabled\n", __FUNCTION__,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#377: FILE: drivers/usb/gadget/pxa27x_udc.c:296:
+		DMSG("%s, %s not enabled\n", __FUNCTION__,
+			_ep ? ep->ep.name : NULL);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#380: FILE: drivers/usb/gadget/pxa27x_udc.c:299:
+	nuke (ep, -ESHUTDOWN);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#385: FILE: drivers/usb/gadget/pxa27x_udc.c:304:
+		pxa_free_dma (ep->dma);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#391: FILE: drivers/usb/gadget/pxa27x_udc.c:310:
+	pxa27x_ep_fifo_flush (_ep);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#408: FILE: drivers/usb/gadget/pxa27x_udc.c:327:
+ * ^Ipxa27x_ep_alloc_request - allocate a request data structure$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#411: FILE: drivers/usb/gadget/pxa27x_udc.c:330:
+pxa27x_ep_alloc_request (struct usb_ep *_ep, int gfp_flags)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#415: FILE: drivers/usb/gadget/pxa27x_udc.c:334:
+	req = kmalloc (sizeof *req, gfp_flags);

WARNING:SIZEOF_PARENTHESIS: sizeof *req should be sizeof(*req)
#415: FILE: drivers/usb/gadget/pxa27x_udc.c:334:
+	req = kmalloc (sizeof *req, gfp_flags);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#419: FILE: drivers/usb/gadget/pxa27x_udc.c:338:
+	memset (req, 0, sizeof *req);

WARNING:SIZEOF_PARENTHESIS: sizeof *req should be sizeof(*req)
#419: FILE: drivers/usb/gadget/pxa27x_udc.c:338:
+	memset (req, 0, sizeof *req);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#420: FILE: drivers/usb/gadget/pxa27x_udc.c:339:
+	INIT_LIST_HEAD (&req->queue);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#424: FILE: drivers/usb/gadget/pxa27x_udc.c:343:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#426: FILE: drivers/usb/gadget/pxa27x_udc.c:345:
+ * ^Ipxa27x_ep_free_request - deallocate a request data structure$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#429: FILE: drivers/usb/gadget/pxa27x_udc.c:348:
+pxa27x_ep_free_request (struct usb_ep *_ep, struct usb_request *_req)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#434: FILE: drivers/usb/gadget/pxa27x_udc.c:353:
+	WARN_ON (!list_empty (&req->queue));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#434: FILE: drivers/usb/gadget/pxa27x_udc.c:353:
+	WARN_ON (!list_empty (&req->queue));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#438: FILE: drivers/usb/gadget/pxa27x_udc.c:357:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#445: FILE: drivers/usb/gadget/pxa27x_udc.c:364:
+pxa27x_ep_alloc_buffer(struct usb_ep *_ep, unsigned bytes,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#446: FILE: drivers/usb/gadget/pxa27x_udc.c:365:
+pxa27x_ep_alloc_buffer(struct usb_ep *_ep, unsigned bytes,
+	dma_addr_t *dma, int gfp_flags)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#450: FILE: drivers/usb/gadget/pxa27x_udc.c:369:
+	retval = kmalloc (bytes, gfp_flags & ~(__GFP_DMA|__GFP_HIGHMEM));

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#450: FILE: drivers/usb/gadget/pxa27x_udc.c:369:
+	retval = kmalloc (bytes, gfp_flags & ~(__GFP_DMA|__GFP_HIGHMEM));
 	                                                ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#452: FILE: drivers/usb/gadget/pxa27x_udc.c:371:
+		*dma = virt_to_bus (retval);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#458: FILE: drivers/usb/gadget/pxa27x_udc.c:377:
+pxa27x_ep_free_buffer(struct usb_ep *_ep, void *buf, dma_addr_t dma,
+		unsigned bytes)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#458: FILE: drivers/usb/gadget/pxa27x_udc.c:377:
+		unsigned bytes)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#460: FILE: drivers/usb/gadget/pxa27x_udc.c:379:
+	kfree (buf);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#471: FILE: drivers/usb/gadget/pxa27x_udc.c:390:
+	if (likely (req->req.status == -EINPROGRESS))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#478: FILE: drivers/usb/gadget/pxa27x_udc.c:397:
+		DBG(DBG_VERBOSE, "complete %s req %p stat %d len %u/%u\n",
+			ep->ep.name, &req->req, status,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#485: FILE: drivers/usb/gadget/pxa27x_udc.c:404:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#486: FILE: drivers/usb/gadget/pxa27x_udc.c:405:
+static inline void ep0_idle (struct pxa27x_udc *dev)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#493: FILE: drivers/usb/gadget/pxa27x_udc.c:412:
+write_packet(volatile u32 *uddr, struct pxa27x_request *req, unsigned max)

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#493: FILE: drivers/usb/gadget/pxa27x_udc.c:412:
+write_packet(volatile u32 *uddr, struct pxa27x_request *req, unsigned max)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#498: FILE: drivers/usb/gadget/pxa27x_udc.c:417:
+	buf = (u32*)(req->req.buf + req->req.actual);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#514: FILE: drivers/usb/gadget/pxa27x_udc.c:433:
+		volatile u8* reg=(u8*)uddr;

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#514: FILE: drivers/usb/gadget/pxa27x_udc.c:433:
+		volatile u8* reg=(u8*)uddr;

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#514: FILE: drivers/usb/gadget/pxa27x_udc.c:433:
+		volatile u8* reg=(u8*)uddr;
 		                ^

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#514: FILE: drivers/usb/gadget/pxa27x_udc.c:433:
+		volatile u8* reg=(u8*)uddr;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#515: FILE: drivers/usb/gadget/pxa27x_udc.c:434:
+		char *rd =(u8*)buf;

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#515: FILE: drivers/usb/gadget/pxa27x_udc.c:434:
+		char *rd =(u8*)buf;
 		         ^

WARNING:BRACES: braces {} are not necessary for single statement blocks
#517: FILE: drivers/usb/gadget/pxa27x_udc.c:436:
+		while (remain--) {
+			*reg=*rd++;
+		}

ERROR:SPACING: spaces required around that '=' (ctx:VxO)
#518: FILE: drivers/usb/gadget/pxa27x_udc.c:437:
+			*reg=*rd++;
 			    ^

ERROR:SPACING: space required before that '*' (ctx:OxV)
#518: FILE: drivers/usb/gadget/pxa27x_udc.c:437:
+			*reg=*rd++;
 			     ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#531: FILE: drivers/usb/gadget/pxa27x_udc.c:450:
+write_fifo (struct pxa27x_ep *ep, struct pxa27x_request *req)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#533: FILE: drivers/usb/gadget/pxa27x_udc.c:452:
+	unsigned		max;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#543: FILE: drivers/usb/gadget/pxa27x_udc.c:462:
+		if (unlikely (count != max))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'count != max'
#543: FILE: drivers/usb/gadget/pxa27x_udc.c:462:
+		if (unlikely (count != max))

CHECK:BRACES: braces {} should be used on all arms of this statement
#543: FILE: drivers/usb/gadget/pxa27x_udc.c:462:
+		if (unlikely (count != max))
[...]
+		else {
[...]

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#544: FILE: drivers/usb/gadget/pxa27x_udc.c:463:
+			is_last = is_short = 1;

CHECK:BRACES: Unbalanced braces around else statement
#545: FILE: drivers/usb/gadget/pxa27x_udc.c:464:
+		else {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#547: FILE: drivers/usb/gadget/pxa27x_udc.c:466:
+			if (likely(req->req.length != req->req.actual)
+					|| req->req.zero)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#552: FILE: drivers/usb/gadget/pxa27x_udc.c:471:
+			is_short = unlikely (max < ep->fifo_size);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#556: FILE: drivers/usb/gadget/pxa27x_udc.c:475:
+		DMSG("wrote %s count:%d bytes%s%s %d left %p\n",
+			ep->ep.name, count,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#570: FILE: drivers/usb/gadget/pxa27x_udc.c:489:
+			done (ep, req, 0);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#572: FILE: drivers/usb/gadget/pxa27x_udc.c:491:
+				pio_irq_disable (ep->ep_num);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#577: FILE: drivers/usb/gadget/pxa27x_udc.c:496:
+					req = list_entry(ep->queue.next,
+						struct pxa27x_request, queue);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#578: FILE: drivers/usb/gadget/pxa27x_udc.c:497:
+					kick_dma(ep,req);
 					           ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#600: FILE: drivers/usb/gadget/pxa27x_udc.c:519:
+	UDCCSR0 = flags|UDCCSR0_SA|UDCCSR0_OPC;
 	               ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#600: FILE: drivers/usb/gadget/pxa27x_udc.c:519:
+	UDCCSR0 = flags|UDCCSR0_SA|UDCCSR0_OPC;
 	                          ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#604: FILE: drivers/usb/gadget/pxa27x_udc.c:523:
+	DBG(DBG_VERY_NOISY, "%s %s, %02x/%02x\n",
+		__FUNCTION__, tag, UDCCSR0, flags);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#604: FILE: drivers/usb/gadget/pxa27x_udc.c:523:
+		__FUNCTION__, tag, UDCCSR0, flags);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#608: FILE: drivers/usb/gadget/pxa27x_udc.c:527:
+write_ep0_fifo (struct pxa27x_ep *ep, struct pxa27x_request *req)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#610: FILE: drivers/usb/gadget/pxa27x_udc.c:529:
+	unsigned	count;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#620: FILE: drivers/usb/gadget/pxa27x_udc.c:539:
+	DBG(DBG_VERY_NOISY, "ep0in %d bytes %d left %p\n", count,
+		req->req.length - req->req.actual, &req->req);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#622: FILE: drivers/usb/gadget/pxa27x_udc.c:541:
+	if (unlikely (is_short)) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#622: FILE: drivers/usb/gadget/pxa27x_udc.c:541:
+	if (unlikely (is_short)) {
[...]
+	} else if (ep->dev->req_pending)
[...]

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#629: FILE: drivers/usb/gadget/pxa27x_udc.c:548:
+		done (ep, req, 0);

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#631: FILE: drivers/usb/gadget/pxa27x_udc.c:550:
+#if 0

CHECK:LINE_SPACING: Please don't use multiple blank lines
#656: FILE: drivers/usb/gadget/pxa27x_udc.c:575:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#666: FILE: drivers/usb/gadget/pxa27x_udc.c:585:
+read_fifo (struct pxa27x_ep *ep, struct pxa27x_request *req)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#673: FILE: drivers/usb/gadget/pxa27x_udc.c:592:
+		if (unlikely ((*ep->reg_udccsr & UDCCSR_PC) == 0))

CHECK:SPACING: No space is necessary after a cast
#675: FILE: drivers/usb/gadget/pxa27x_udc.c:594:
+		buf =(u32*) (req->req.buf + req->req.actual);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#675: FILE: drivers/usb/gadget/pxa27x_udc.c:594:
+		buf =(u32*) (req->req.buf + req->req.actual);

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#675: FILE: drivers/usb/gadget/pxa27x_udc.c:594:
+		buf =(u32*) (req->req.buf + req->req.actual);
 		    ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#680: FILE: drivers/usb/gadget/pxa27x_udc.c:599:
+		if (likely (*ep->reg_udccsr & UDCCSR_BNE)) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#682: FILE: drivers/usb/gadget/pxa27x_udc.c:601:
+			req->req.actual += min (count, bufferspace);

CHECK:BRACES: Unbalanced braces around else statement
#683: FILE: drivers/usb/gadget/pxa27x_udc.c:602:
+		} else /* zlp */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#688: FILE: drivers/usb/gadget/pxa27x_udc.c:607:
+		DMSG("read %s udccsr:%02x, count:%d bytes%s req %p %d/%d\n",
+			ep->ep.name, *ep->reg_udccsr, count,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#694: FILE: drivers/usb/gadget/pxa27x_udc.c:613:
+		while (likely (count > 0)) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#705: FILE: drivers/usb/gadget/pxa27x_udc.c:624:
+			done (ep, req, 0);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#707: FILE: drivers/usb/gadget/pxa27x_udc.c:626:
+				pio_irq_disable (ep->ep_num);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#723: FILE: drivers/usb/gadget/pxa27x_udc.c:642:
+read_ep0_fifo (struct pxa27x_ep *ep, struct pxa27x_request *req)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#726: FILE: drivers/usb/gadget/pxa27x_udc.c:645:
+	unsigned	bufferspace;

CHECK:SPACING: No space is necessary after a cast
#728: FILE: drivers/usb/gadget/pxa27x_udc.c:647:
+	buf = (u32*) (req->req.buf + req->req.actual);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#728: FILE: drivers/usb/gadget/pxa27x_udc.c:647:
+	buf = (u32*) (req->req.buf + req->req.actual);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#734: FILE: drivers/usb/gadget/pxa27x_udc.c:653:
+		if (unlikely (bufferspace == 0)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'bufferspace == 0'
#734: FILE: drivers/usb/gadget/pxa27x_udc.c:653:
+		if (unlikely (bufferspace == 0)) {

WARNING:SPACING: space prohibited before semicolon
#749: FILE: drivers/usb/gadget/pxa27x_udc.c:668:
+	UDCCSR0 = UDCCSR0_OPC ;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#767: FILE: drivers/usb/gadget/pxa27x_udc.c:686:
+	u32	fifo = io_v2p ((u32)ep->reg_udcdr);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#774: FILE: drivers/usb/gadget/pxa27x_udc.c:693:
+	DMSG("%s: req:0x%p length:%d, actual:%d dma:%d\n",
+			__FUNCTION__, &req->req, req->req.length,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#774: FILE: drivers/usb/gadget/pxa27x_udc.c:693:
+			__FUNCTION__, &req->req, req->req.length,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#775: FILE: drivers/usb/gadget/pxa27x_udc.c:694:
+			req->req.actual,ep->dma);
 			               ^

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#788: FILE: drivers/usb/gadget/pxa27x_udc.c:707:
+			len= MAX_IN_DMA;
 			   ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#789: FILE: drivers/usb/gadget/pxa27x_udc.c:708:
+			ep->dma_con =1 ;
 			            ^

WARNING:SPACING: space prohibited before semicolon
#789: FILE: drivers/usb/gadget/pxa27x_udc.c:708:
+			ep->dma_con =1 ;

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#791: FILE: drivers/usb/gadget/pxa27x_udc.c:710:
+			if ((ep->dma_con = (len % ep->ep.maxpacket) != 0))

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#804: FILE: drivers/usb/gadget/pxa27x_udc.c:723:
+	DCSR(ep->dma) =  DCSR_NODESC | DCSR_EORIRQEN \

ERROR:SPACING: space required after that ',' (ctx:VxV)
#843: FILE: drivers/usb/gadget/pxa27x_udc.c:762:
+	DMSG("%s, buf:0x%p\n",__FUNCTION__, req->req.buf);
 	                     ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#843: FILE: drivers/usb/gadget/pxa27x_udc.c:762:
+	DMSG("%s, buf:0x%p\n",__FUNCTION__, req->req.buf);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#856: FILE: drivers/usb/gadget/pxa27x_udc.c:775:
+		printk(KERN_ERR " Buss Error\n");

ERROR:SPACING: space prohibited after that open parenthesis '('
#864: FILE: drivers/usb/gadget/pxa27x_udc.c:783:
+			if ( tmp < ep->ep.maxpacket) {

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#867: FILE: drivers/usb/gadget/pxa27x_udc.c:786:
+				*ep->reg_udccsr = UDCCSR_SP | \

ERROR:SPACING: space prohibited after that open parenthesis '('
#870: FILE: drivers/usb/gadget/pxa27x_udc.c:789:
+				while( (count++ < 10000) && \

ERROR:SPACING: space required before the open parenthesis '('
#870: FILE: drivers/usb/gadget/pxa27x_udc.c:789:
+				while( (count++ < 10000) && \

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#870: FILE: drivers/usb/gadget/pxa27x_udc.c:789:
+				while( (count++ < 10000) && \
+					!(*ep->reg_udccsr & UDCCSR_FS));

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#870: FILE: drivers/usb/gadget/pxa27x_udc.c:789:
+				while( (count++ < 10000) && \

WARNING:SPLIT_STRING: quoted string split across lines
#876: FILE: drivers/usb/gadget/pxa27x_udc.c:795:
+					DMSG("%s: short packet sent len:%d,"
+					"length:%d,actual:%d\n", __FUNCTION__,

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#876: FILE: drivers/usb/gadget/pxa27x_udc.c:795:
+					"length:%d,actual:%d\n", __FUNCTION__,

ERROR:SPACING: space prohibited after that open parenthesis '('
#881: FILE: drivers/usb/gadget/pxa27x_udc.c:800:
+			} else if ( ep->dma_con) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#883: FILE: drivers/usb/gadget/pxa27x_udc.c:802:
+				DMSG("%s: more packets,length:%d,actual:%d\n",
+					 __FUNCTION__,req->req.length,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#883: FILE: drivers/usb/gadget/pxa27x_udc.c:802:
+					 __FUNCTION__,req->req.length,
 					             ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#883: FILE: drivers/usb/gadget/pxa27x_udc.c:802:
+					 __FUNCTION__,req->req.length,

WARNING:SPLIT_STRING: quoted string split across lines
#889: FILE: drivers/usb/gadget/pxa27x_udc.c:808:
+				DMSG("%s: no more packets,length:%d,"
+					"actual:%d\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#889: FILE: drivers/usb/gadget/pxa27x_udc.c:808:
+					"actual:%d\n", __FUNCTION__,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#899: FILE: drivers/usb/gadget/pxa27x_udc.c:818:
+		int remain,udccsr ;
 		          ^

WARNING:SPACING: space prohibited before semicolon
#899: FILE: drivers/usb/gadget/pxa27x_udc.c:818:
+		int remain,udccsr ;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#911: FILE: drivers/usb/gadget/pxa27x_udc.c:830:
+		DMSG("%s: length:%d actual:%d\n",
+				__FUNCTION__, req->req.length, req->req.actual);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#911: FILE: drivers/usb/gadget/pxa27x_udc.c:830:
+				__FUNCTION__, req->req.length, req->req.actual);

CHECK:BRACES: Unbalanced braces around else statement
#912: FILE: drivers/usb/gadget/pxa27x_udc.c:831:
+	} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#914: FILE: drivers/usb/gadget/pxa27x_udc.c:833:
+		DMSG("%s: Others dma:%d DCSR:0x%x DCMD:0x%x\n",
+				__FUNCTION__, dmach, DCSR(dmach), DCMD(dmach));

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#914: FILE: drivers/usb/gadget/pxa27x_udc.c:833:
+				__FUNCTION__, dmach, DCSR(dmach), DCMD(dmach));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#919: FILE: drivers/usb/gadget/pxa27x_udc.c:838:
+			req_next = list_entry(req->queue.next,
+					struct pxa27x_request, queue);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#942: FILE: drivers/usb/gadget/pxa27x_udc.c:861:
+	if (unlikely (!_req || !_req->complete || !_req->buf||

ERROR:SPACING: spaces required around that '||' (ctx:VxE)
#942: FILE: drivers/usb/gadget/pxa27x_udc.c:861:
+	if (unlikely (!_req || !_req->complete || !_req->buf||
 	                                                    ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#943: FILE: drivers/usb/gadget/pxa27x_udc.c:862:
+	if (unlikely (!_req || !_req->complete || !_req->buf||
+			!list_empty(&req->queue))) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#944: FILE: drivers/usb/gadget/pxa27x_udc.c:863:
+		DMSG("%s, bad params\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#949: FILE: drivers/usb/gadget/pxa27x_udc.c:868:
+	if (unlikely (!_ep || (!ep->desc && ep->ep.name != ep0name))) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#950: FILE: drivers/usb/gadget/pxa27x_udc.c:869:
+		DMSG("%s, bad ep\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#954: FILE: drivers/usb/gadget/pxa27x_udc.c:873:
+	DMSG("%s, ep point %d is queue\n", __FUNCTION__, ep->ep_num);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#957: FILE: drivers/usb/gadget/pxa27x_udc.c:876:
+	if (unlikely (!dev->driver

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#958: FILE: drivers/usb/gadget/pxa27x_udc.c:877:
+	if (unlikely (!dev->driver
+			|| dev->gadget.speed == USB_SPEED_UNKNOWN)) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#959: FILE: drivers/usb/gadget/pxa27x_udc.c:878:
+		DMSG("%s, bogus device state\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#966: FILE: drivers/usb/gadget/pxa27x_udc.c:885:
+	if (unlikely (ep->ep_type == USB_ENDPOINT_XFER_ISOC

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'ep->desc->wMaxPacketSize'
#966: FILE: drivers/usb/gadget/pxa27x_udc.c:885:
+	if (unlikely (ep->ep_type == USB_ENDPOINT_XFER_ISOC
+			&& req->req.length > le16_to_cpu
+						(ep->desc->wMaxPacketSize)))

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#967: FILE: drivers/usb/gadget/pxa27x_udc.c:886:
+	if (unlikely (ep->ep_type == USB_ENDPOINT_XFER_ISOC
+			&& req->req.length > le16_to_cpu

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#975: FILE: drivers/usb/gadget/pxa27x_udc.c:894:
+		_req->dma = dma_map_single(dev->dev, _req->buf, _req->length,
+			(ep->dir_in) ? DMA_TO_DEVICE : DMA_FROM_DEVICE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#980: FILE: drivers/usb/gadget/pxa27x_udc.c:899:
+	DBG(DBG_NOISY, "%s queue req %p, len %d buf %p\n",
+	     _ep->name, _req, _req->length, _req->buf);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#990: FILE: drivers/usb/gadget/pxa27x_udc.c:909:
+			unsigned	length = _req->length;

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1004: FILE: drivers/usb/gadget/pxa27x_udc.c:923:
+				if (length == 0 || ((UDCCSR0 & UDCCSR0_RNE) != 0
+						&& read_ep0_fifo(ep, req))) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1012: FILE: drivers/usb/gadget/pxa27x_udc.c:931:
+				req=0;
 				   ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1016: FILE: drivers/usb/gadget/pxa27x_udc.c:935:
+				local_irq_restore (flags);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1026: FILE: drivers/usb/gadget/pxa27x_udc.c:945:
+		} else if (ep->dir_in
+				&& (*ep->reg_udccsr & UDCCSR_FS) != 0

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1027: FILE: drivers/usb/gadget/pxa27x_udc.c:946:
+				&& (*ep->reg_udccsr & UDCCSR_FS) != 0
+				&& write_fifo(ep, req)) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1030: FILE: drivers/usb/gadget/pxa27x_udc.c:949:
+		} else if ((*ep->reg_udccsr & UDCCSR_FS) != 0
+				&& read_fifo(ep, req)) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1034: FILE: drivers/usb/gadget/pxa27x_udc.c:953:
+		if (likely (req && ep->desc) && ep->dma < 0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1039: FILE: drivers/usb/gadget/pxa27x_udc.c:958:
+	if (likely (req != 0))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'req != 0'
#1039: FILE: drivers/usb/gadget/pxa27x_udc.c:958:
+	if (likely (req != 0))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1046: FILE: drivers/usb/gadget/pxa27x_udc.c:965:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1048: FILE: drivers/usb/gadget/pxa27x_udc.c:967:
+ * ^Inuke - dequeue ALL requests$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1064: FILE: drivers/usb/gadget/pxa27x_udc.c:983:
+		pio_irq_disable (ep->ep_num);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1067: FILE: drivers/usb/gadget/pxa27x_udc.c:986:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1082: FILE: drivers/usb/gadget/pxa27x_udc.c:1001:
+	list_for_each_entry (req, &ep->queue, queue) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1098: FILE: drivers/usb/gadget/pxa27x_udc.c:1017:
+			req = list_entry(ep->queue.next,
+					struct pxa27x_request, queue);

CHECK:BRACES: Unbalanced braces around else statement
#1101: FILE: drivers/usb/gadget/pxa27x_udc.c:1020:
+	} else

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1116: FILE: drivers/usb/gadget/pxa27x_udc.c:1035:
+	DMSG("%s is called\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1118: FILE: drivers/usb/gadget/pxa27x_udc.c:1037:
+	if (unlikely (!_ep

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1119: FILE: drivers/usb/gadget/pxa27x_udc.c:1038:
+	if (unlikely (!_ep
+			|| (!ep->desc && ep->ep.name != ep0name))

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1120: FILE: drivers/usb/gadget/pxa27x_udc.c:1039:
+			|| (!ep->desc && ep->ep.name != ep0name))
+			|| ep->ep_type == USB_ENDPOINT_XFER_ISOC) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1121: FILE: drivers/usb/gadget/pxa27x_udc.c:1040:
+		DMSG("%s, bad ep\n", __FUNCTION__);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1137: FILE: drivers/usb/gadget/pxa27x_udc.c:1056:
+	if (ep->dir_in	&& ((*ep->reg_udccsr & UDCCSR_FS) == 0
+			   || !list_empty(&ep->queue))) {

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1143: FILE: drivers/usb/gadget/pxa27x_udc.c:1062:
+	*ep->reg_udccsr = UDCCSR_FST|UDCCSR_FEF;
 	                            ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1152: FILE: drivers/usb/gadget/pxa27x_udc.c:1071:
+ ^I/* and bulk/intr endpoints like dropping stalls too */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1152: FILE: drivers/usb/gadget/pxa27x_udc.c:1071:
+ ^I/* and bulk/intr endpoints like dropping stalls too */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1152: FILE: drivers/usb/gadget/pxa27x_udc.c:1071:
+ ^I/* and bulk/intr endpoints like dropping stalls too */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1153: FILE: drivers/usb/gadget/pxa27x_udc.c:1072:
+ ^I} else {$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1153: FILE: drivers/usb/gadget/pxa27x_udc.c:1072:
+ ^I} else {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1153: FILE: drivers/usb/gadget/pxa27x_udc.c:1072:
+ ^I} else {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1154: FILE: drivers/usb/gadget/pxa27x_udc.c:1073:
+ ^I^Iunsigned i;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1154: FILE: drivers/usb/gadget/pxa27x_udc.c:1073:
+ ^I^Iunsigned i;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1154: FILE: drivers/usb/gadget/pxa27x_udc.c:1073:
+ ^I^Iunsigned i;$

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1154: FILE: drivers/usb/gadget/pxa27x_udc.c:1073:
+ 		unsigned i;

ERROR:CODE_INDENT: code indent should use tabs where possible
#1155: FILE: drivers/usb/gadget/pxa27x_udc.c:1074:
+ ^I^Ifor (i = 0; i < 1000; i += 20) {$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1155: FILE: drivers/usb/gadget/pxa27x_udc.c:1074:
+ ^I^Ifor (i = 0; i < 1000; i += 20) {$

WARNING:LINE_SPACING: Missing a blank line after declarations
#1155: FILE: drivers/usb/gadget/pxa27x_udc.c:1074:
+ 		unsigned i;
+ 		for (i = 0; i < 1000; i += 20) {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1155: FILE: drivers/usb/gadget/pxa27x_udc.c:1074:
+ ^I^Ifor (i = 0; i < 1000; i += 20) {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1156: FILE: drivers/usb/gadget/pxa27x_udc.c:1075:
+ ^I^I^Iif (*ep->reg_udccsr & UDCCSR_SST)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1156: FILE: drivers/usb/gadget/pxa27x_udc.c:1075:
+ ^I^I^Iif (*ep->reg_udccsr & UDCCSR_SST)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1156: FILE: drivers/usb/gadget/pxa27x_udc.c:1075:
+ ^I^I^Iif (*ep->reg_udccsr & UDCCSR_SST)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1157: FILE: drivers/usb/gadget/pxa27x_udc.c:1076:
+ ^I^I^I^Ibreak;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1157: FILE: drivers/usb/gadget/pxa27x_udc.c:1076:
+ ^I^I^I^Ibreak;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1157: FILE: drivers/usb/gadget/pxa27x_udc.c:1076:
+ ^I^I^I^Ibreak;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1158: FILE: drivers/usb/gadget/pxa27x_udc.c:1077:
+ ^I^I^Iudelay(20);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1158: FILE: drivers/usb/gadget/pxa27x_udc.c:1077:
+ ^I^I^Iudelay(20);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1158: FILE: drivers/usb/gadget/pxa27x_udc.c:1077:
+ ^I^I^Iudelay(20);$

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#1158: FILE: drivers/usb/gadget/pxa27x_udc.c:1077:
+ 			udelay(20);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

ERROR:CODE_INDENT: code indent should use tabs where possible
#1159: FILE: drivers/usb/gadget/pxa27x_udc.c:1078:
+ ^I^I}$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1159: FILE: drivers/usb/gadget/pxa27x_udc.c:1078:
+ ^I^I}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1159: FILE: drivers/usb/gadget/pxa27x_udc.c:1078:
+ ^I^I}$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1160: FILE: drivers/usb/gadget/pxa27x_udc.c:1079:
+  ^I}$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1160: FILE: drivers/usb/gadget/pxa27x_udc.c:1079:
+  ^I}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1160: FILE: drivers/usb/gadget/pxa27x_udc.c:1079:
+  ^I}$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1161: FILE: drivers/usb/gadget/pxa27x_udc.c:1080:
+ ^Ilocal_irq_restore(flags);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1161: FILE: drivers/usb/gadget/pxa27x_udc.c:1080:
+ ^Ilocal_irq_restore(flags);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1161: FILE: drivers/usb/gadget/pxa27x_udc.c:1080:
+ ^Ilocal_irq_restore(flags);$

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1173: FILE: drivers/usb/gadget/pxa27x_udc.c:1092:
+		DMSG("%s, bad ep\n", __FUNCTION__);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1180: FILE: drivers/usb/gadget/pxa27x_udc.c:1099:
+	if (ep->dev->gadget.speed == USB_SPEED_UNKNOWN
+			|| (*ep->reg_udccsr & UDCCSR_FS) == 0)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1192: FILE: drivers/usb/gadget/pxa27x_udc.c:1111:
+		DMSG("%s, bad ep\n", __FUNCTION__);

CHECK:SPACING: No space is necessary after a cast
#1201: FILE: drivers/usb/gadget/pxa27x_udc.c:1120:
+			(void) *ep->reg_udcdr;

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1206: FILE: drivers/usb/gadget/pxa27x_udc.c:1125:
+	*ep->reg_udccsr = UDCCSR_PC|UDCCSR_FST|UDCCSR_TRN
 	                           ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1206: FILE: drivers/usb/gadget/pxa27x_udc.c:1125:
+	*ep->reg_udccsr = UDCCSR_PC|UDCCSR_FST|UDCCSR_TRN
 	                                      ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1211: FILE: drivers/usb/gadget/pxa27x_udc.c:1130:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1230: FILE: drivers/usb/gadget/pxa27x_udc.c:1149:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1232: FILE: drivers/usb/gadget/pxa27x_udc.c:1151:
+ * ^Idevice-scoped parts of the api to the usb controller hardware$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1256: FILE: drivers/usb/gadget/pxa27x_udc.c:1175:
+
+

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1261: FILE: drivers/usb/gadget/pxa27x_udc.c:1180:
+static const char proc_node_name [] = "driver/udc";

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1265: FILE: drivers/usb/gadget/pxa27x_udc.c:1184:
+udc_proc_read(char *page, char **start, off_t off, int count,
+		int *eof, void *_dev)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1270: FILE: drivers/usb/gadget/pxa27x_udc.c:1189:
+	unsigned		size = count;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1290: FILE: drivers/usb/gadget/pxa27x_udc.c:1209:
+	t = scnprintf(next, size,
+		"uicr %02X.%02X, usir %02X.%02x, ufnr %02X\n",

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#1296: FILE: drivers/usb/gadget/pxa27x_udc.c:1215:
+	t = scnprintf(next, size,"udccr %02X =%s%s%s%s%s%s%s%s%s%s, con=%d,inter=%d,altinter=%d\n", tmp,

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1296: FILE: drivers/usb/gadget/pxa27x_udc.c:1215:
+	t = scnprintf(next, size,"udccr %02X =%s%s%s%s%s%s%s%s%s%s, con=%d,inter=%d,altinter=%d\n", tmp,
 	                        ^

WARNING:TYPO_SPELLING: 'oen' may be misspelled - perhaps 'one'?
#1297: FILE: drivers/usb/gadget/pxa27x_udc.c:1216:
+		(tmp & UDCCR_OEN) ? " oen":"",
 		                      ^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1297: FILE: drivers/usb/gadget/pxa27x_udc.c:1216:
+	t = scnprintf(next, size,"udccr %02X =%s%s%s%s%s%s%s%s%s%s, con=%d,inter=%d,altinter=%d\n", tmp,
+		(tmp & UDCCR_OEN) ? " oen":"",

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1297: FILE: drivers/usb/gadget/pxa27x_udc.c:1216:
+		(tmp & UDCCR_OEN) ? " oen":"",
 		                          ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1298: FILE: drivers/usb/gadget/pxa27x_udc.c:1217:
+		(tmp & UDCCR_AALTHNP) ? " aalthnp":"",
 		                                  ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxW)
#1309: FILE: drivers/usb/gadget/pxa27x_udc.c:1228:
+		(tmp & UDCCR_AAISN)>> UDCCR_AAISN_S );
 		                   ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1309: FILE: drivers/usb/gadget/pxa27x_udc.c:1228:
+		(tmp & UDCCR_AAISN)>> UDCCR_AAISN_S );

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1316: FILE: drivers/usb/gadget/pxa27x_udc.c:1235:
+	t = scnprintf(next, size,
+		"udccsr0 %02X =%s%s%s%s%s%s%s\n", tmp,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1331: FILE: drivers/usb/gadget/pxa27x_udc.c:1250:
+	t = scnprintf(next, size, "ep0 IN %lu/%lu, OUT %lu/%lu\nirqs %lu\n\n",
+		dev->stats.write.bytes, dev->stats.write.ops,

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1339: FILE: drivers/usb/gadget/pxa27x_udc.c:1258:
+		struct pxa27x_ep	*ep = &dev->ep [i];

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1349: FILE: drivers/usb/gadget/pxa27x_udc.c:1268:
+			tmp = *dev->ep [i].reg_udccsr;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1351: FILE: drivers/usb/gadget/pxa27x_udc.c:1270:
+			t = scnprintf(next, size,
+				"%s max %d %s udccs %02x udccr:0x%x\n",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1352: FILE: drivers/usb/gadget/pxa27x_udc.c:1271:
+				ep->ep.name, le16_to_cpu (d->wMaxPacketSize),

CHECK:BRACES: Unbalanced braces around else statement
#1357: FILE: drivers/usb/gadget/pxa27x_udc.c:1276:
+		} else /* ep0 should only have one transfer queued */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1359: FILE: drivers/usb/gadget/pxa27x_udc.c:1278:
+			t = scnprintf(next, size, "ep0 max 16 pio irqs %lu\n",
+				ep->pio_irqs);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1377: FILE: drivers/usb/gadget/pxa27x_udc.c:1296:
+				t = scnprintf(next, size,
+					"\treq %p len %d/%d "

WARNING:SPLIT_STRING: quoted string split across lines
#1378: FILE: drivers/usb/gadget/pxa27x_udc.c:1297:
+					"\treq %p len %d/%d "
+					"buf %p (dma%d dcmd %08x)\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1387: FILE: drivers/usb/gadget/pxa27x_udc.c:1306:
+				t = scnprintf(next, size,
+					"\treq %p len %d/%d buf %p\n",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1416: FILE: drivers/usb/gadget/pxa27x_udc.c:1335:
+show_function (struct device *_dev, struct device_attribute *attr, char *buf)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1418: FILE: drivers/usb/gadget/pxa27x_udc.c:1337:
+	struct pxa27x_udc	*dev = dev_get_drvdata (_dev);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'dev->driver->function'
#1420: FILE: drivers/usb/gadget/pxa27x_udc.c:1339:
+	if (!dev->driver
+			|| !dev->driver->function
+			|| strlen (dev->driver->function) > PAGE_SIZE)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1421: FILE: drivers/usb/gadget/pxa27x_udc.c:1340:
+	if (!dev->driver
+			|| !dev->driver->function

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1422: FILE: drivers/usb/gadget/pxa27x_udc.c:1341:
+			|| !dev->driver->function
+			|| strlen (dev->driver->function) > PAGE_SIZE)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1422: FILE: drivers/usb/gadget/pxa27x_udc.c:1341:
+			|| strlen (dev->driver->function) > PAGE_SIZE)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1424: FILE: drivers/usb/gadget/pxa27x_udc.c:1343:
+	return scnprintf (buf, PAGE_SIZE, "%s\n", dev->driver->function);

WARNING:DEVICE_ATTR_FUNCTIONS: Consider renaming function(s) 'show_function' to 'function_show'
#1425: FILE: drivers/usb/gadget/pxa27x_udc.c:1344:
+}

The function names used in DEVICE_ATTR is unusual.
Typically, the store and show functions are used with <attr>_store and
<attr>_show, where <attr> is a named attribute variable of the device.

Consider the following examples::

  static DEVICE_ATTR(type, 0444, type_show, NULL);
  static DEVICE_ATTR(power, 0644, power_show, power_store);

The function names should preferably follow the above pattern.

See: https://www.kernel.org/doc/html/latest/driver-api/driver-model/device.html#attributes

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1426: FILE: drivers/usb/gadget/pxa27x_udc.c:1345:
+static DEVICE_ATTR (function, S_IRUGO, show_function, NULL);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#1426: FILE: drivers/usb/gadget/pxa27x_udc.c:1345:
+static DEVICE_ATTR (function, S_IRUGO, show_function, NULL);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1431: FILE: drivers/usb/gadget/pxa27x_udc.c:1350:
+ * ^Iudc_disable - disable USB device controller$

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1435: FILE: drivers/usb/gadget/pxa27x_udc.c:1354:
+	UDCICR0 = UDCICR1 = 0x00000000;

ERROR:CODE_INDENT: code indent should use tabs where possible
#1439: FILE: drivers/usb/gadget/pxa27x_udc.c:1358:
+        /* Disable clock for USB device */$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1442: FILE: drivers/usb/gadget/pxa27x_udc.c:1361:
+	ep0_idle (dev);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1448: FILE: drivers/usb/gadget/pxa27x_udc.c:1367:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1450: FILE: drivers/usb/gadget/pxa27x_udc.c:1369:
+ * ^Iudc_reinit - initialize software state$

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1463: FILE: drivers/usb/gadget/pxa27x_udc.c:1382:
+		ep->pio_irqs = ep->dma_irqs = 0;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1474: FILE: drivers/usb/gadget/pxa27x_udc.c:1393:
+static void udc_enable (struct pxa27x_udc *dev)

ERROR:CODE_INDENT: code indent should use tabs where possible
#1480: FILE: drivers/usb/gadget/pxa27x_udc.c:1399:
+        /* Enable clock for USB device */$

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1483: FILE: drivers/usb/gadget/pxa27x_udc.c:1402:
+	UDCICR0 = UDCICR1 = 0;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1490: FILE: drivers/usb/gadget/pxa27x_udc.c:1409:
+	udelay (2);

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#1491: FILE: drivers/usb/gadget/pxa27x_udc.c:1410:
+	if (UDCCR & UDCCR_EMCE)
+	{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1493: FILE: drivers/usb/gadget/pxa27x_udc.c:1412:
+		printk(KERN_ERR ": There are error in configuration, udc disabled\n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1505: FILE: drivers/usb/gadget/pxa27x_udc.c:1424:
+	UDCICR0 = UDCICR_INT(0,UDCICR_INT_MASK);
 	                      ^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1506: FILE: drivers/usb/gadget/pxa27x_udc.c:1425:
+#if 0

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1507: FILE: drivers/usb/gadget/pxa27x_udc.c:1426:
+	for(i=1; i < UDC_EP_NUM; i++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#1507: FILE: drivers/usb/gadget/pxa27x_udc.c:1426:
+	for(i=1; i < UDC_EP_NUM; i++) {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1515: FILE: drivers/usb/gadget/pxa27x_udc.c:1434:
+
+

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1526: FILE: drivers/usb/gadget/pxa27x_udc.c:1445:
+#if 0

WARNING:SPLIT_STRING: quoted string split across lines
#1528: FILE: drivers/usb/gadget/pxa27x_udc.c:1447:
+	DMSG("dev=0x%x, driver=0x%x, speed=%d,"
+			"bind=0x%x, unbind=0x%x, disconnect=0x%x, setup=0x%x\n",

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1529: FILE: drivers/usb/gadget/pxa27x_udc.c:1448:
+			(unsigned)dev, (unsigned)driver, driver->speed,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1529: FILE: drivers/usb/gadget/pxa27x_udc.c:1448:
+			(unsigned)dev, (unsigned)driver, driver->speed,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1530: FILE: drivers/usb/gadget/pxa27x_udc.c:1449:
+			(unsigned)driver->bind, (unsigned)driver->unbind,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1530: FILE: drivers/usb/gadget/pxa27x_udc.c:1449:
+			(unsigned)driver->bind, (unsigned)driver->unbind,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1531: FILE: drivers/usb/gadget/pxa27x_udc.c:1450:
+			(unsigned)driver->disconnect, (unsigned)driver->setup);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1531: FILE: drivers/usb/gadget/pxa27x_udc.c:1450:
+			(unsigned)driver->disconnect, (unsigned)driver->setup);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1533: FILE: drivers/usb/gadget/pxa27x_udc.c:1452:
+^Iif (!driver ^I|| driver->speed != USB_SPEED_FULL$

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1534: FILE: drivers/usb/gadget/pxa27x_udc.c:1453:
+	if (!driver 	|| driver->speed != USB_SPEED_FULL
+			|| !driver->bind

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1535: FILE: drivers/usb/gadget/pxa27x_udc.c:1454:
+			|| !driver->bind
+			|| !driver->unbind

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1536: FILE: drivers/usb/gadget/pxa27x_udc.c:1455:
+			|| !driver->unbind
+			|| !driver->disconnect

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1537: FILE: drivers/usb/gadget/pxa27x_udc.c:1456:
+			|| !driver->disconnect
+			|| !driver->setup)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1548: FILE: drivers/usb/gadget/pxa27x_udc.c:1467:
+	device_add (&dev->gadget.dev);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1552: FILE: drivers/usb/gadget/pxa27x_udc.c:1471:
+		DMSG("bind to driver %s --> error %d\n",
+				driver->driver.name, retval);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1553: FILE: drivers/usb/gadget/pxa27x_udc.c:1472:
+		device_del (&dev->gadget.dev);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1617: FILE: drivers/usb/gadget/pxa27x_udc.c:1536:
+	device_del (&dev->gadget.dev);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1631: FILE: drivers/usb/gadget/pxa27x_udc.c:1550:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1634: FILE: drivers/usb/gadget/pxa27x_udc.c:1553:
+static inline void clear_ep_state (struct pxa27x_udc *dev)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1636: FILE: drivers/usb/gadget/pxa27x_udc.c:1555:
+	unsigned i;

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1651: FILE: drivers/usb/gadget/pxa27x_udc.c:1570:
+	if (dev->ep0state == EP0_STALL
+			&& (UDCCSR0 & UDCCSR0_FST) == 0

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1652: FILE: drivers/usb/gadget/pxa27x_udc.c:1571:
+			&& (UDCCSR0 & UDCCSR0_FST) == 0
+			&& (UDCCSR0 & UDCCSR0_SST) == 0) {

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1653: FILE: drivers/usb/gadget/pxa27x_udc.c:1572:
+		UDCCSR0 = UDCCSR0_FST|UDCCSR0_FTF;
 		                     ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1660: FILE: drivers/usb/gadget/pxa27x_udc.c:1579:
+static void handle_ep0 (struct pxa27x_udc *dev)

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1663: FILE: drivers/usb/gadget/pxa27x_udc.c:1582:
+	struct pxa27x_ep	*ep = &dev->ep [0];

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1667: FILE: drivers/usb/gadget/pxa27x_udc.c:1586:
+		u8			raw [8];

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1668: FILE: drivers/usb/gadget/pxa27x_udc.c:1587:
+		u32			word [2];

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1693: FILE: drivers/usb/gadget/pxa27x_udc.c:1612:
+		printk(KERN_INFO"%s: Busy\n", __FUNCTION__);

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#1693: FILE: drivers/usb/gadget/pxa27x_udc.c:1612:
+		printk(KERN_INFO"%s: Busy\n", __FUNCTION__);

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1693: FILE: drivers/usb/gadget/pxa27x_udc.c:1612:
+		printk(KERN_INFO"%s: Busy\n", __FUNCTION__);

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#1694: FILE: drivers/usb/gadget/pxa27x_udc.c:1613:
+		/*Fall through */

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1700: FILE: drivers/usb/gadget/pxa27x_udc.c:1619:
+		if (likely((udccsr0 & (UDCCSR0_OPC|UDCCSR0_SA|UDCCSR0_RNE))
 		                                  ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1700: FILE: drivers/usb/gadget/pxa27x_udc.c:1619:
+		if (likely((udccsr0 & (UDCCSR0_OPC|UDCCSR0_SA|UDCCSR0_RNE))
 		                                             ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1701: FILE: drivers/usb/gadget/pxa27x_udc.c:1620:
+				== (UDCCSR0_OPC|UDCCSR0_SA|UDCCSR0_RNE))) {
 				               ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1701: FILE: drivers/usb/gadget/pxa27x_udc.c:1620:
+				== (UDCCSR0_OPC|UDCCSR0_SA|UDCCSR0_RNE))) {
 				                          ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1704: FILE: drivers/usb/gadget/pxa27x_udc.c:1623:
+			nuke (ep, -EPROTO);

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#1712: FILE: drivers/usb/gadget/pxa27x_udc.c:1631:
+				u.word [i] =  UDCDR0;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1717: FILE: drivers/usb/gadget/pxa27x_udc.c:1636:
+			le16_to_cpus (&u.r.wValue);

CHECK:CAMELCASE: Avoid CamelCase: <wValue>
#1717: FILE: drivers/usb/gadget/pxa27x_udc.c:1636:
+			le16_to_cpus (&u.r.wValue);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1718: FILE: drivers/usb/gadget/pxa27x_udc.c:1637:
+			le16_to_cpus (&u.r.wIndex);

CHECK:CAMELCASE: Avoid CamelCase: <wIndex>
#1718: FILE: drivers/usb/gadget/pxa27x_udc.c:1637:
+			le16_to_cpus (&u.r.wIndex);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1719: FILE: drivers/usb/gadget/pxa27x_udc.c:1638:
+			le16_to_cpus (&u.r.wLength);

CHECK:CAMELCASE: Avoid CamelCase: <wLength>
#1719: FILE: drivers/usb/gadget/pxa27x_udc.c:1638:
+			le16_to_cpus (&u.r.wLength);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1724: FILE: drivers/usb/gadget/pxa27x_udc.c:1643:
+			DBG(DBG_VERBOSE, "SETUP %02x.%02x v%04x i%04x l%04x\n",
+				u.r.bRequestType, u.r.bRequest,

CHECK:CAMELCASE: Avoid CamelCase: <bRequestType>
#1724: FILE: drivers/usb/gadget/pxa27x_udc.c:1643:
+				u.r.bRequestType, u.r.bRequest,

CHECK:CAMELCASE: Avoid CamelCase: <bRequest>
#1724: FILE: drivers/usb/gadget/pxa27x_udc.c:1643:
+				u.r.bRequestType, u.r.bRequest,

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1731: FILE: drivers/usb/gadget/pxa27x_udc.c:1650:
+#if 0

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1737: FILE: drivers/usb/gadget/pxa27x_udc.c:1656:
+				printk(KERN_ERR "Should not come here\n");

WARNING:REPEATED_WORD: Possible repeated word: 'tell'
#1752: FILE: drivers/usb/gadget/pxa27x_udc.c:1671:
+					/* hardware sometimes neglects to tell
+					 * tell us about config change events,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1756: FILE: drivers/usb/gadget/pxa27x_udc.c:1675:
+					WARN("config change %02x fail %d?\n",
+						u.r.bRequest, i);

WARNING:SPLIT_STRING: quoted string split across lines
#1764: FILE: drivers/usb/gadget/pxa27x_udc.c:1683:
+				DBG(DBG_VERBOSE, "protocol STALL, "
+					"%02x err %d\n", UDCCSR0, i);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1770: FILE: drivers/usb/gadget/pxa27x_udc.c:1689:
+				ep0start(dev, UDCCSR0_FST|UDCCSR0_FTF, "stall");
 				                         ^

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1778: FILE: drivers/usb/gadget/pxa27x_udc.c:1697:
+				if (likely(dev->ep0state == EP0_IN_DATA_PHASE
+						|| dev->req_std || u.r.wLength))

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1793: FILE: drivers/usb/gadget/pxa27x_udc.c:1712:
+			UDCCSR0 = udccsr0 & (UDCCSR0_SA|UDCCSR0_OPC);
 			                               ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1798: FILE: drivers/usb/gadget/pxa27x_udc.c:1717:
+			UDCCSR0 = UDCCSR0_OPC|UDCCSR0_FTF;
 			                     ^

CHECK:SPACING: No space is necessary after a cast
#1806: FILE: drivers/usb/gadget/pxa27x_udc.c:1725:
+				(void) write_ep0_fifo(ep, req);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1832: FILE: drivers/usb/gadget/pxa27x_udc.c:1751:
+
+

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1837: FILE: drivers/usb/gadget/pxa27x_udc.c:1756:
+	u32			udccsr=0;
 	   			      ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1839: FILE: drivers/usb/gadget/pxa27x_udc.c:1758:
+	DMSG("%s is called\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1842: FILE: drivers/usb/gadget/pxa27x_udc.c:1761:
+		if (likely (!list_empty(&ep->queue))) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#1842: FILE: drivers/usb/gadget/pxa27x_udc.c:1761:
+		if (likely (!list_empty(&ep->queue))) {
[...]
+		} else
[...]

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1844: FILE: drivers/usb/gadget/pxa27x_udc.c:1763:
+			req = list_entry(ep->queue.next,
+					struct pxa27x_request, queue);

CHECK:BRACES: Unbalanced braces around else statement
#1845: FILE: drivers/usb/gadget/pxa27x_udc.c:1764:
+		} else

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1849: FILE: drivers/usb/gadget/pxa27x_udc.c:1768:
+		DMSG("%s: req:%p, udcisr0:0x%x udccsr %p:0x%x\n", __FUNCTION__,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1850: FILE: drivers/usb/gadget/pxa27x_udc.c:1769:
+		DMSG("%s: req:%p, udcisr0:0x%x udccsr %p:0x%x\n", __FUNCTION__,
+				req, UDCISR0, ep->reg_udccsr, *ep->reg_udccsr);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1853: FILE: drivers/usb/gadget/pxa27x_udc.c:1772:
+			if (unlikely (udccsr))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1856: FILE: drivers/usb/gadget/pxa27x_udc.c:1775:
+			if (req && likely ((*ep->reg_udccsr & UDCCSR_FS) != 0))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1868: FILE: drivers/usb/gadget/pxa27x_udc.c:1787:
+				pio_irq_disable (ep->ep_num);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1871: FILE: drivers/usb/gadget/pxa27x_udc.c:1790:
+				DMSG("%s: no req for out data\n",
+						__FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1871: FILE: drivers/usb/gadget/pxa27x_udc.c:1790:
+						__FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1878: FILE: drivers/usb/gadget/pxa27x_udc.c:1797:
+static void pxa27x_change_configuration (struct pxa27x_udc *dev)

WARNING:SPACING: space prohibited before semicolon
#1880: FILE: drivers/usb/gadget/pxa27x_udc.c:1799:
+	struct usb_ctrlrequest req ;

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1891: FILE: drivers/usb/gadget/pxa27x_udc.c:1810:
+
+}

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1893: FILE: drivers/usb/gadget/pxa27x_udc.c:1812:
+static void pxa27x_change_interface (struct pxa27x_udc *dev)

WARNING:SPLIT_STRING: quoted string split across lines
#1925: FILE: drivers/usb/gadget/pxa27x_udc.c:1844:
+	DBG(DBG_VERBOSE, "Interrupt, UDCISR0:0x%08x, UDCISR1:0x%08x, "
+			"UDCCR:0x%08x\n", UDCISR0, UDCISR1, UDCCR);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1937: FILE: drivers/usb/gadget/pxa27x_udc.c:1856:
+			if (dev->gadget.speed != USB_SPEED_UNKNOWN
+					&& dev->driver

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1938: FILE: drivers/usb/gadget/pxa27x_udc.c:1857:
+					&& dev->driver
+					&& dev->driver->suspend)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1940: FILE: drivers/usb/gadget/pxa27x_udc.c:1859:
+			ep0_idle (dev);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1950: FILE: drivers/usb/gadget/pxa27x_udc.c:1869:
+			if (dev->gadget.speed != USB_SPEED_UNKNOWN
+					&& dev->driver

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1951: FILE: drivers/usb/gadget/pxa27x_udc.c:1870:
+					&& dev->driver
+					&& dev->driver->resume)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1956: FILE: drivers/usb/gadget/pxa27x_udc.c:1875:
+			unsigned config, interface, alternate;

WARNING:SPLIT_STRING: quoted string split across lines
#1960: FILE: drivers/usb/gadget/pxa27x_udc.c:1879:
+			DBG(DBG_VERBOSE, "USB SET_CONFIGURATION or "
+				"SET_INTERFACE command received\n");

WARNING:SPACING: space prohibited before semicolon
#1968: FILE: drivers/usb/gadget/pxa27x_udc.c:1887:
+				pxa27x_change_configuration(dev) ;

ERROR:SPACING: space prohibited after that open parenthesis '('
#1974: FILE: drivers/usb/gadget/pxa27x_udc.c:1893:
+			if ( (dev->configuration != interface) || \

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'dev->configuration != interface'
#1974: FILE: drivers/usb/gadget/pxa27x_udc.c:1893:
+			if ( (dev->configuration != interface) || \
+					(dev->alternate != alternate)){

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'dev->alternate != alternate'
#1974: FILE: drivers/usb/gadget/pxa27x_udc.c:1893:
+			if ( (dev->configuration != interface) || \
+					(dev->alternate != alternate)){

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#1974: FILE: drivers/usb/gadget/pxa27x_udc.c:1893:
+			if ( (dev->configuration != interface) || \

ERROR:SPACING: space required before the open brace '{'
#1975: FILE: drivers/usb/gadget/pxa27x_udc.c:1894:
+					(dev->alternate != alternate)){

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1983: FILE: drivers/usb/gadget/pxa27x_udc.c:1902:
+			DMSG("%s: con:%d,inter:%d,alt:%d\n",
+				__FUNCTION__, config,interface, alternate);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1983: FILE: drivers/usb/gadget/pxa27x_udc.c:1902:
+				__FUNCTION__, config,interface, alternate);
 				                    ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1983: FILE: drivers/usb/gadget/pxa27x_udc.c:1902:
+				__FUNCTION__, config,interface, alternate);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1997: FILE: drivers/usb/gadget/pxa27x_udc.c:1916:
+				stop_activity (dev, dev->driver);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1999: FILE: drivers/usb/gadget/pxa27x_udc.c:1918:
+
+			}

WARNING:SIZEOF_PARENTHESIS: sizeof dev->stats should be sizeof(dev->stats)
#2002: FILE: drivers/usb/gadget/pxa27x_udc.c:1921:
+			memset(&dev->stats, 0, sizeof dev->stats);

WARNING:SPACING: space prohibited before semicolon
#2005: FILE: drivers/usb/gadget/pxa27x_udc.c:1924:
+			u32	udcisr0 = UDCISR0 ;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2009: FILE: drivers/usb/gadget/pxa27x_udc.c:1928:
+			if (unlikely (!udcisr0 && !udcisr1))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2012: FILE: drivers/usb/gadget/pxa27x_udc.c:1931:
+			DBG(DBG_VERY_NOISY, "irq %02x.%02x\n", udcisr1,udcisr0);
 			                                              ^

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#2023: FILE: drivers/usb/gadget/pxa27x_udc.c:1942:
+			for (i = 1; udcisr0!=0 && i < 16; udcisr0>>=2,i++) {
 			                   ^

ERROR:SPACING: spaces required around that '>>=' (ctx:VxV)
#2023: FILE: drivers/usb/gadget/pxa27x_udc.c:1942:
+			for (i = 1; udcisr0!=0 && i < 16; udcisr0>>=2,i++) {
 			                                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2023: FILE: drivers/usb/gadget/pxa27x_udc.c:1942:
+			for (i = 1; udcisr0!=0 && i < 16; udcisr0>>=2,i++) {
 			                                             ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2027: FILE: drivers/usb/gadget/pxa27x_udc.c:1946:
+					printk(KERN_ERR" Endpoint %d Fifo error\n", i);

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2027: FILE: drivers/usb/gadget/pxa27x_udc.c:1946:
+					printk(KERN_ERR" Endpoint %d Fifo error\n", i);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2033: FILE: drivers/usb/gadget/pxa27x_udc.c:1952:
+
+			}

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#2035: FILE: drivers/usb/gadget/pxa27x_udc.c:1954:
+			for (i = 0; udcisr1!=0 && i < 8; udcisr1 >>= 2, i++) {
 			                   ^

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2038: FILE: drivers/usb/gadget/pxa27x_udc.c:1957:
+				if (udcisr1 & UDC_INT_FIFOERROR) {
+					printk(KERN_ERR" Endpoint %d fifo error\n", (i+16));
+				}

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2039: FILE: drivers/usb/gadget/pxa27x_udc.c:1958:
+					printk(KERN_ERR" Endpoint %d fifo error\n", (i+16));

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2039: FILE: drivers/usb/gadget/pxa27x_udc.c:1958:
+					printk(KERN_ERR" Endpoint %d fifo error\n", (i+16));
 					                                              ^

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#2039: FILE: drivers/usb/gadget/pxa27x_udc.c:1958:
+					printk(KERN_ERR" Endpoint %d fifo error\n", (i+16));

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2043: FILE: drivers/usb/gadget/pxa27x_udc.c:1962:
+					handle_ep(&dev->ep[i+16]);
 					                    ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2079: FILE: drivers/usb/gadget/pxa27x_udc.c:1998:
+	INIT_LIST_HEAD (&dev->gadget.ep_list);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2080: FILE: drivers/usb/gadget/pxa27x_udc.c:1999:
+	INIT_LIST_HEAD (&dev->gadget.ep0->ep_list);

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2086: FILE: drivers/usb/gadget/pxa27x_udc.c:2005:
+		if (i != 0) {
+			memset(ep, 0, sizeof(*ep));
+		}

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2089: FILE: drivers/usb/gadget/pxa27x_udc.c:2008:
+		INIT_LIST_HEAD (&ep->queue);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2092: FILE: drivers/usb/gadget/pxa27x_udc.c:2011:
+}
+#define NAME_SIZE 18

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2094: FILE: drivers/usb/gadget/pxa27x_udc.c:2013:
+struct usb_ep* pxa27x_ep_config(

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#2094: FILE: drivers/usb/gadget/pxa27x_udc.c:2013:
+struct usb_ep* pxa27x_ep_config(

WARNING:SPACING: space prohibited before semicolon
#2100: FILE: drivers/usb/gadget/pxa27x_udc.c:2019:
+	u32 tmp ;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2101: FILE: drivers/usb/gadget/pxa27x_udc.c:2020:
+	unsigned i;

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#2102: FILE: drivers/usb/gadget/pxa27x_udc.c:2021:
+	char* name;

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#2103: FILE: drivers/usb/gadget/pxa27x_udc.c:2022:
+	struct usb_ep * ep = NULL;

CHECK:CAMELCASE: Avoid CamelCase: <bLength>
#2114: FILE: drivers/usb/gadget/pxa27x_udc.c:2033:
+		desc->bLength,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2115: FILE: drivers/usb/gadget/pxa27x_udc.c:2034:
+		desc->bDescriptorType,desc->bEndpointAddress,
 		                     ^

CHECK:CAMELCASE: Avoid CamelCase: <bEndpointAddress>
#2115: FILE: drivers/usb/gadget/pxa27x_udc.c:2034:
+		desc->bDescriptorType,desc->bEndpointAddress,

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2116: FILE: drivers/usb/gadget/pxa27x_udc.c:2035:
+		desc->bmAttributes,desc->wMaxPacketSize);
 		                  ^

ERROR:SPACING: space required before the open parenthesis '('
#2119: FILE: drivers/usb/gadget/pxa27x_udc.c:2038:
+		if(!dev->ep[i].assigned) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2127: FILE: drivers/usb/gadget/pxa27x_udc.c:2046:
+		printk(KERN_ERR __FILE__ ": Failed to find a spare endpoint\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2131: FILE: drivers/usb/gadget/pxa27x_udc.c:2050:
+
+

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#2136: FILE: drivers/usb/gadget/pxa27x_udc.c:2055:
+	pxa_ep->pio_irqs = pxa_ep->dma_irqs = 0;

CHECK:BRACES: braces {} should be used on all arms of this statement
#2142: FILE: drivers/usb/gadget/pxa27x_udc.c:2061:
+	if (!(desc->wMaxPacketSize)) {
[...]
+	} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#2145: FILE: drivers/usb/gadget/pxa27x_udc.c:2064:
+	} else

WARNING:SPACING: space prohibited before semicolon
#2158: FILE: drivers/usb/gadget/pxa27x_udc.c:2077:
+	pxa_ep->reg_udcdr = &UDCDR0 + i ;

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#2164: FILE: drivers/usb/gadget/pxa27x_udc.c:2083:
+#if 0

WARNING:SPLIT_STRING: quoted string split across lines
#2166: FILE: drivers/usb/gadget/pxa27x_udc.c:2085:
+	DMSG("udccsr=0x%8x, udcbcr=0x%8x, udcdr=0x%8x,"
+			"udccr0=0x%8x\n",

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2167: FILE: drivers/usb/gadget/pxa27x_udc.c:2086:
+			(unsigned)pxa_ep->reg_udccsr,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2168: FILE: drivers/usb/gadget/pxa27x_udc.c:2087:
+			(unsigned)pxa_ep->reg_udcbcr,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2169: FILE: drivers/usb/gadget/pxa27x_udc.c:2088:
+			(unsigned)pxa_ep->reg_udcdr,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2170: FILE: drivers/usb/gadget/pxa27x_udc.c:2089:
+			(unsigned)pxa_ep->reg_udccr);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2180: FILE: drivers/usb/gadget/pxa27x_udc.c:2099:
+	tmp |= (min(pxa_ep->fifo_size,  (unsigned)desc->wMaxPacketSize) \

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#2180: FILE: drivers/usb/gadget/pxa27x_udc.c:2099:
+	tmp |= (min(pxa_ep->fifo_size,  (unsigned)desc->wMaxPacketSize) \

WARNING:MINMAX: min() should probably be min_t(unsigned, pxa_ep->fifo_size, desc->wMaxPacketSize)
#2180: FILE: drivers/usb/gadget/pxa27x_udc.c:2099:
+	tmp |= (min(pxa_ep->fifo_size,  (unsigned)desc->wMaxPacketSize) \
 			<< UDCCONR_MPS_S ) & UDCCONR_MPS;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2181: FILE: drivers/usb/gadget/pxa27x_udc.c:2100:
+			<< UDCCONR_MPS_S ) & UDCCONR_MPS;

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#2189: FILE: drivers/usb/gadget/pxa27x_udc.c:2108:
+	if ((pxa_ep->ep_type & USB_ENDPOINT_XFERTYPE_MASK)\

ERROR:SPACING: space required after that ',' (ctx:VxO)
#2194: FILE: drivers/usb/gadget/pxa27x_udc.c:2113:
+	DMSG("UDCCR: 0x%p is 0x%x\n", pxa_ep->reg_udccr,*pxa_ep->reg_udccr);
 	                                               ^

ERROR:SPACING: space required before that '*' (ctx:OxV)
#2194: FILE: drivers/usb/gadget/pxa27x_udc.c:2113:
+	DMSG("UDCCR: 0x%p is 0x%x\n", pxa_ep->reg_udccr,*pxa_ep->reg_udccr);
 	                                                ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2199: FILE: drivers/usb/gadget/pxa27x_udc.c:2118:
+		printk(KERN_ERR "%s: Error\n", __FUNCTION__);

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#2199: FILE: drivers/usb/gadget/pxa27x_udc.c:2118:
+	if (!name) {
+		printk(KERN_ERR "%s: Error\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2199: FILE: drivers/usb/gadget/pxa27x_udc.c:2118:
+		printk(KERN_ERR "%s: Error\n", __FUNCTION__);

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#2205: FILE: drivers/usb/gadget/pxa27x_udc.c:2124:
+		sprintf(name, "Bulk-%s-%d", (pxa_ep->dir_in ? "in":"out"), i);
 		                                                  ^

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#2208: FILE: drivers/usb/gadget/pxa27x_udc.c:2127:
+		sprintf(name, "Interrupt-%s-%d", (pxa_ep->dir_in ? \

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#2209: FILE: drivers/usb/gadget/pxa27x_udc.c:2128:
+				"in":"out"), i);
 				    ^

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#2212: FILE: drivers/usb/gadget/pxa27x_udc.c:2131:
+		sprintf(name, "endpoint-%s-%d", (pxa_ep->dir_in ? \

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#2213: FILE: drivers/usb/gadget/pxa27x_udc.c:2132:
+				"in":"out"), i);
 				    ^

WARNING:MINMAX: min() should probably be min_t(ushort, pxa_ep->fifo_size, desc->wMaxPacketSize)
#2219: FILE: drivers/usb/gadget/pxa27x_udc.c:2138:
+	ep->maxpacket = min((ushort)pxa_ep->fifo_size, desc->wMaxPacketSize);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2221: FILE: drivers/usb/gadget/pxa27x_udc.c:2140:
+	list_add_tail (&ep->ep_list, &gadget->ep_list);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#2225: FILE: drivers/usb/gadget/pxa27x_udc.c:2144:
+EXPORT_SYMBOL(pxa27x_ep_config);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2229: FILE: drivers/usb/gadget/pxa27x_udc.c:2148:
+static void nop_release (struct device *dev)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2231: FILE: drivers/usb/gadget/pxa27x_udc.c:2150:
+	DMSG("%s %s\n", __FUNCTION__, dev->bus_id);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2267: FILE: drivers/usb/gadget/pxa27x_udc.c:2186:
+ * ^Iprobe - binds to the platform device$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2278: FILE: drivers/usb/gadget/pxa27x_udc.c:2197:
+		printk(KERN_ERR "%s: not XScale!\n", driver_name);

CHECK:SPACING: No space is necessary after a cast
#2287: FILE: drivers/usb/gadget/pxa27x_udc.c:2206:
+	dev->timer.data = (unsigned long) dev;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2302: FILE: drivers/usb/gadget/pxa27x_udc.c:2221:
+	retval = request_irq(IRQ_USB, pxa27x_udc_irq,
+			SA_INTERRUPT, driver_name, dev);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2304: FILE: drivers/usb/gadget/pxa27x_udc.c:2223:
+		printk(KERN_ERR "%s: can't get irq %i, err %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2305: FILE: drivers/usb/gadget/pxa27x_udc.c:2224:
+		printk(KERN_ERR "%s: can't get irq %i, err %d\n",
+			driver_name, IRQ_USB, retval);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2340: FILE: drivers/usb/gadget/pxa27x_udc.c:2259:
+	struct pxa27x_udc *dev = (struct pxa27x_udc*)dev_get_drvdata(_dev);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2342: FILE: drivers/usb/gadget/pxa27x_udc.c:2261:
+	DMSG("%s is called\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2344: FILE: drivers/usb/gadget/pxa27x_udc.c:2263:
+		DMSG("%s will go into SUSPEND_POWER_DOWN\n", __FUNCTION__);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2346: FILE: drivers/usb/gadget/pxa27x_udc.c:2265:
+		for(i=1; (i<UDC_EP_NUM); i++) {
 		     ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2346: FILE: drivers/usb/gadget/pxa27x_udc.c:2265:
+		for(i=1; (i<UDC_EP_NUM); i++) {
 		           ^

ERROR:SPACING: space required before the open parenthesis '('
#2346: FILE: drivers/usb/gadget/pxa27x_udc.c:2265:
+		for(i=1; (i<UDC_EP_NUM); i++) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2353: FILE: drivers/usb/gadget/pxa27x_udc.c:2272:
+				DMSG("EP%d, udccsr:0x%x, udccr:0x%x\n",
+					i, *ep->reg_udccsr, *ep->reg_udccr);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2368: FILE: drivers/usb/gadget/pxa27x_udc.c:2287:
+	struct pxa27x_udc *dev = (struct pxa27x_udc*)dev_get_drvdata(_dev);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2370: FILE: drivers/usb/gadget/pxa27x_udc.c:2289:
+	DMSG("%s is called\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2372: FILE: drivers/usb/gadget/pxa27x_udc.c:2291:
+		DMSG("%s: udc resume\n", __FUNCTION__);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2375: FILE: drivers/usb/gadget/pxa27x_udc.c:2294:
+		for (i=1; i < UDC_EP_NUM; i++) {
 		      ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2382: FILE: drivers/usb/gadget/pxa27x_udc.c:2301:
+				DMSG("EP%d, udccsr:0x%x, udccr:0x%x\n",
+					i, *ep->reg_udccsr, *ep->reg_udccr);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2390: FILE: drivers/usb/gadget/pxa27x_udc.c:2309:
+		 * to the state they were in before entering sleep mode.*/

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2414: FILE: drivers/usb/gadget/pxa27x_udc.c:2333:
+	printk(KERN_INFO "%s: version %s\n", driver_name, DRIVER_VERSION);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2434: FILE: drivers/usb/gadget/pxa27x_udc.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#2435: FILE: drivers/usb/gadget/pxa27x_udc.h:2:
+ * linux/drivers/usb/gadget/pxa27x_udc.h

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#2453: FILE: drivers/usb/gadget/pxa27x_udc.h:20:
+ * along with this program; if not, write to the Free Software$

ERROR:FSF_MAILING_ADDRESS: Do not include the paragraph about writing to the Free Software Foundation's mailing address from the sample GPL notice. The FSF has changed addresses in the past, and may do so again. Linux already includes a copy of the GPL.
#2454: FILE: drivers/usb/gadget/pxa27x_udc.h:21:
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2472: FILE: drivers/usb/gadget/pxa27x_udc.h:39:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2473: FILE: drivers/usb/gadget/pxa27x_udc.h:40:
+^Iint^I^I^I^I^Idma; $

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2474: FILE: drivers/usb/gadget/pxa27x_udc.h:41:
+	unsigned				fifo_size;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2475: FILE: drivers/usb/gadget/pxa27x_udc.h:42:
+	unsigned				ep_num;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2476: FILE: drivers/usb/gadget/pxa27x_udc.h:43:
+	unsigned				ep_type;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2483: FILE: drivers/usb/gadget/pxa27x_udc.h:50:
+	unsigned				config;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2484: FILE: drivers/usb/gadget/pxa27x_udc.h:51:
+	unsigned				interface;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2485: FILE: drivers/usb/gadget/pxa27x_udc.h:52:
+	unsigned				aisn;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#2492: FILE: drivers/usb/gadget/pxa27x_udc.h:59:
+	volatile u32				*reg_udccsr;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#2493: FILE: drivers/usb/gadget/pxa27x_udc.h:60:
+	volatile u32				*reg_udcbcr;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#2494: FILE: drivers/usb/gadget/pxa27x_udc.h:61:
+	volatile u32				*reg_udcdr;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#2495: FILE: drivers/usb/gadget/pxa27x_udc.h:62:
+	volatile u32				*reg_udccr;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#2497: FILE: drivers/usb/gadget/pxa27x_udc.h:64:
+	volatile u32				*reg_drcmr;

ERROR:SPACING: space prohibited after that '&' (ctx:WxW)
#2498: FILE: drivers/usb/gadget/pxa27x_udc.h:65:
+#define	drcmr(n)  .reg_drcmr = & DRCMR ## n ,
        	                       ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#2498: FILE: drivers/usb/gadget/pxa27x_udc.h:65:
+#define	drcmr(n)  .reg_drcmr = & DRCMR ## n ,
        	                                    ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2500: FILE: drivers/usb/gadget/pxa27x_udc.h:67:
+#define^Idrcmr(n)  $

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2504: FILE: drivers/usb/gadget/pxa27x_udc.h:71:
+	unsigned				udccsr_value;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2505: FILE: drivers/usb/gadget/pxa27x_udc.h:72:
+	unsigned				udccr_value;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2514: FILE: drivers/usb/gadget/pxa27x_udc.h:81:
+enum ep0_state { $

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2523: FILE: drivers/usb/gadget/pxa27x_udc.h:90:
+#define EP0_FIFO_SIZE	((unsigned)16)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2524: FILE: drivers/usb/gadget/pxa27x_udc.h:91:
+#define BULK_FIFO_SIZE	((unsigned)64)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2525: FILE: drivers/usb/gadget/pxa27x_udc.h:92:
+#define ISO_FIFO_SIZE	((unsigned)256)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2526: FILE: drivers/usb/gadget/pxa27x_udc.h:93:
+#define INT_FIFO_SIZE	((unsigned)8)

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#2559: FILE: drivers/usb/gadget/pxa27x_udc.h:126:
+#define start_watchdog(dev) mod_timer(&dev->timer, jiffies + (HZ/200))
                                                                 ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'dev' may be better as '(dev)' to avoid precedence issues
#2559: FILE: drivers/usb/gadget/pxa27x_udc.h:126:
+#define start_watchdog(dev) mod_timer(&dev->timer, jiffies + (HZ/200))

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#2565: FILE: drivers/usb/gadget/pxa27x_udc.h:132:
+	struct pxa27x_ep			ep [UDC_EP_NUM];

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2567: FILE: drivers/usb/gadget/pxa27x_udc.h:134:
+^Iunsigned^I^I^I^Iconfiguration, $

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2567: FILE: drivers/usb/gadget/pxa27x_udc.h:134:
+	unsigned				configuration, 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2568: FILE: drivers/usb/gadget/pxa27x_udc.h:135:
+^I^I^I^I^I^Iinterface, $

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2571: FILE: drivers/usb/gadget/pxa27x_udc.h:138:
+	unsigned				udccsr0;

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#2576: FILE: drivers/usb/gadget/pxa27x_udc.h:143:
+#if 0

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#2579: FILE: drivers/usb/gadget/pxa27x_udc.h:146:
+	if (machine_is_mainstone())\
+		 { MST_LEDDAT1 = (n); } \

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 17)
#2579: FILE: drivers/usb/gadget/pxa27x_udc.h:146:
+	if (machine_is_mainstone())\
+		 { MST_LEDDAT1 = (n); } \

ERROR:SPACING: space required before the open parenthesis '('
#2581: FILE: drivers/usb/gadget/pxa27x_udc.h:148:
+	} while(0)

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#2586: FILE: drivers/usb/gadget/pxa27x_udc.h:153:
+	if (machine_is_mainstone()) \
+		{ MST_LEDDAT2 = (n); } \

ERROR:SPACING: space required before the open parenthesis '('
#2588: FILE: drivers/usb/gadget/pxa27x_udc.h:155:
+	} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2596: FILE: drivers/usb/gadget/pxa27x_udc.h:163:
+#define HEX_DISPLAY(n)		do {} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2600: FILE: drivers/usb/gadget/pxa27x_udc.h:167:
+#define LED_CONNECTED_ON	do {} while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2601: FILE: drivers/usb/gadget/pxa27x_udc.h:168:
+#define LED_CONNECTED_OFF	do {} while(0)

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#2610: FILE: drivers/usb/gadget/pxa27x_udc.h:177:
+#if 0

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2613: FILE: drivers/usb/gadget/pxa27x_udc.h:180:
+
+

WARNING:STATIC_CONST_CHAR_ARRAY: static const char * array should probably be static const char * const
#2651: FILE: drivers/usb/gadget/pxa27x_udc.h:218:
+static const char *state_name[] = {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2657: FILE: drivers/usb/gadget/pxa27x_udc.h:224:
+#define DMSG(stuff...) printk(KERN_ERR "udc: " stuff)

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: __always_unused or __maybe_unused is preferred over __attribute__((__unused__))
#2665: FILE: drivers/usb/gadget/pxa27x_udc.h:232:
+static void __attribute__ ((__unused__))

WARNING:LINE_SPACING: Missing a blank line after declarations
#2669: FILE: drivers/usb/gadget/pxa27x_udc.h:236:
+	u32	udccr = UDCCR;
+	DMSG("%s 0x%08x =%s%s%s%s%s%s%s%s%s%s, con=%d,inter=%d,altinter=%d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2670: FILE: drivers/usb/gadget/pxa27x_udc.h:237:
+	DMSG("%s 0x%08x =%s%s%s%s%s%s%s%s%s%s, con=%d,inter=%d,altinter=%d\n",
+		label, udccr,

WARNING:TYPO_SPELLING: 'oen' may be misspelled - perhaps 'one'?
#2671: FILE: drivers/usb/gadget/pxa27x_udc.h:238:
+		(udccr & UDCCR_OEN) ? " oen":"",
 		                        ^^^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#2671: FILE: drivers/usb/gadget/pxa27x_udc.h:238:
+		(udccr & UDCCR_OEN) ? " oen":"",
 		                            ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#2672: FILE: drivers/usb/gadget/pxa27x_udc.h:239:
+		(udccr & UDCCR_AALTHNP) ? " aalthnp":"",
 		                                    ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxW)
#2683: FILE: drivers/usb/gadget/pxa27x_udc.h:250:
+		(udccr & UDCCR_AAISN)>> UDCCR_AAISN_S );
 		                     ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2683: FILE: drivers/usb/gadget/pxa27x_udc.h:250:
+		(udccr & UDCCR_AAISN)>> UDCCR_AAISN_S );

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: __always_unused or __maybe_unused is preferred over __attribute__((__unused__))
#2686: FILE: drivers/usb/gadget/pxa27x_udc.h:253:
+static void __attribute__ ((__unused__))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2692: FILE: drivers/usb/gadget/pxa27x_udc.h:259:
+	DMSG("%s %s 0x%08x =%s%s%s%s%s%s%s\n",
+		label, state_name[the_controller->ep0state], udccsr0,

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: __always_unused or __maybe_unused is preferred over __attribute__((__unused__))
#2702: FILE: drivers/usb/gadget/pxa27x_udc.h:269:
+static void __attribute__ ((__unused__))

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2705: FILE: drivers/usb/gadget/pxa27x_udc.h:272:
+	unsigned	i;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2708: FILE: drivers/usb/gadget/pxa27x_udc.h:275:
+	DMSG("%s, udcicr %02X.%02X, udcsir %02X.%02x, udcfnr %02X\n",
+		state_name[dev->ep0state],

CHECK:BRACES: braces {} should be used on all arms of this statement
#2712: FILE: drivers/usb/gadget/pxa27x_udc.h:279:
+	if (!dev->driver) {
[...]
+	} else
[...]

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#2715: FILE: drivers/usb/gadget/pxa27x_udc.h:282:
+		return;
+	} else

CHECK:BRACES: Unbalanced braces around else statement
#2715: FILE: drivers/usb/gadget/pxa27x_udc.h:282:
+	} else

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2718: FILE: drivers/usb/gadget/pxa27x_udc.h:285:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2718: FILE: drivers/usb/gadget/pxa27x_udc.h:285:
+
+	

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2719: FILE: drivers/usb/gadget/pxa27x_udc.h:286:
+	dump_udccsr0 ("udccsr0");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2721: FILE: drivers/usb/gadget/pxa27x_udc.h:288:
+	DMSG("ep0 IN %lu/%lu, OUT %lu/%lu\n",
+		dev->stats.write.bytes, dev->stats.write.ops,

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#2725: FILE: drivers/usb/gadget/pxa27x_udc.h:292:
+		if (dev->ep [i].desc == 0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2727: FILE: drivers/usb/gadget/pxa27x_udc.h:294:
+		DMSG ("udccs%d = %02x\n", i, *dev->ep->reg_udccsr);

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#2731: FILE: drivers/usb/gadget/pxa27x_udc.h:298:
+#if 0

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2735: FILE: drivers/usb/gadget/pxa27x_udc.h:302:
+	DMSG("EP:%d UDCCSR:0x%08x UDCBCR:0x%08x\n UDCCR:0x%08x\n",
+		ep,UDCCSN(ep), UDCBCN(ep), UDCCN(ep));

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2735: FILE: drivers/usb/gadget/pxa27x_udc.h:302:
+		ep,UDCCSN(ep), UDCBCN(ep), UDCCN(ep));
 		  ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2737: FILE: drivers/usb/gadget/pxa27x_udc.h:304:
+}
+static void dump_req (struct pxa27x_request *req)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2737: FILE: drivers/usb/gadget/pxa27x_udc.h:304:
+static void dump_req (struct pxa27x_request *req)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2742: FILE: drivers/usb/gadget/pxa27x_udc.h:309:
+^I^I^I__FUNCTION__, (unsigned)r->buf, r->length, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2742: FILE: drivers/usb/gadget/pxa27x_udc.h:309:
+	DMSG("%s: buf:0x%08x length:%d dma:0x%08x actual:%d\n",
+			__FUNCTION__, (unsigned)r->buf, r->length, 

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2742: FILE: drivers/usb/gadget/pxa27x_udc.h:309:
+			__FUNCTION__, (unsigned)r->buf, r->length, 

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2742: FILE: drivers/usb/gadget/pxa27x_udc.h:309:
+			__FUNCTION__, (unsigned)r->buf, r->length, 

ERROR:SPACING: space required before the open brace '{'
#2749: FILE: drivers/usb/gadget/pxa27x_udc.h:316:
+#define DMSG(stuff...)		do{}while(0)

ERROR:SPACING: space required after that close brace '}'
#2749: FILE: drivers/usb/gadget/pxa27x_udc.h:316:
+#define DMSG(stuff...)		do{}while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2749: FILE: drivers/usb/gadget/pxa27x_udc.h:316:
+#define DMSG(stuff...)		do{}while(0)

ERROR:SPACING: space required before the open brace '{'
#2751: FILE: drivers/usb/gadget/pxa27x_udc.h:318:
+#define	dump_udccr(x)	do{}while(0)

ERROR:SPACING: space required after that close brace '}'
#2751: FILE: drivers/usb/gadget/pxa27x_udc.h:318:
+#define	dump_udccr(x)	do{}while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2751: FILE: drivers/usb/gadget/pxa27x_udc.h:318:
+#define	dump_udccr(x)	do{}while(0)

ERROR:SPACING: space required before the open brace '{'
#2752: FILE: drivers/usb/gadget/pxa27x_udc.h:319:
+#define	dump_udccsr0(x)	do{}while(0)

ERROR:SPACING: space required after that close brace '}'
#2752: FILE: drivers/usb/gadget/pxa27x_udc.h:319:
+#define	dump_udccsr0(x)	do{}while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2752: FILE: drivers/usb/gadget/pxa27x_udc.h:319:
+#define	dump_udccsr0(x)	do{}while(0)

ERROR:SPACING: space required before the open brace '{'
#2753: FILE: drivers/usb/gadget/pxa27x_udc.h:320:
+#define	dump_state(x)	do{}while(0)

ERROR:SPACING: space required after that close brace '}'
#2753: FILE: drivers/usb/gadget/pxa27x_udc.h:320:
+#define	dump_state(x)	do{}while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2753: FILE: drivers/usb/gadget/pxa27x_udc.h:320:
+#define	dump_state(x)	do{}while(0)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2755: FILE: drivers/usb/gadget/pxa27x_udc.h:322:
+#define UDC_DEBUG ((unsigned)0)

ERROR:SPACING: space required after that ';' (ctx:VxV)
#2759: FILE: drivers/usb/gadget/pxa27x_udc.h:326:
+#define DBG(lvl, stuff...) do{if ((lvl) <= UDC_DEBUG) DMSG(stuff);}while(0)
                                                                  ^

ERROR:SPACING: space required before the open brace '{'
#2759: FILE: drivers/usb/gadget/pxa27x_udc.h:326:
+#define DBG(lvl, stuff...) do{if ((lvl) <= UDC_DEBUG) DMSG(stuff);}while(0)

ERROR:SPACING: space required after that close brace '}'
#2759: FILE: drivers/usb/gadget/pxa27x_udc.h:326:
+#define DBG(lvl, stuff...) do{if ((lvl) <= UDC_DEBUG) DMSG(stuff);}while(0)

ERROR:SPACING: space required before the open parenthesis '('
#2759: FILE: drivers/usb/gadget/pxa27x_udc.h:326:
+#define DBG(lvl, stuff...) do{if ((lvl) <= UDC_DEBUG) DMSG(stuff);}while(0)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2761: FILE: drivers/usb/gadget/pxa27x_udc.h:328:
+#define WARN(stuff...) printk(KERN_WARNING "udc: " stuff)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2762: FILE: drivers/usb/gadget/pxa27x_udc.h:329:
+#define INFO(stuff...) printk(KERN_INFO "udc: " stuff)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2764: FILE: drivers/usb/gadget/pxa27x_udc.h:331:
+
+

WARNING:BAD_SIGN_OFF: Duplicate signature
#2769: 
Signed-off-by: Pavel Machek <pavel@suse.cz>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2798: FILE: drivers/usb/gadget/pxa27x_udc.c:330:
+pxa27x_ep_alloc_request (struct usb_ep *_ep, gfp_t gfp_flags)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2848: FILE: drivers/usb/gadget/pxa27x_udc.c:2263:
+	DMSG("%s will go into SUSPEND_POWER_DOWN\n", __FUNCTION__);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2850: FILE: drivers/usb/gadget/pxa27x_udc.c:2265:
+	for(i=1; (i<UDC_EP_NUM); i++) {
 	     ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#2850: FILE: drivers/usb/gadget/pxa27x_udc.c:2265:
+	for(i=1; (i<UDC_EP_NUM); i++) {
 	           ^

ERROR:SPACING: space required before the open parenthesis '('
#2850: FILE: drivers/usb/gadget/pxa27x_udc.c:2265:
+	for(i=1; (i<UDC_EP_NUM); i++) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#2877: FILE: drivers/usb/gadget/pxa27x_udc.c:2289:
+	DMSG("%s: udc resume\n", __FUNCTION__);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2890: FILE: drivers/usb/gadget/pxa27x_udc.c:2292:
+	for (i=1; i < UDC_EP_NUM; i++) {
 	      ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2912: FILE: drivers/usb/gadget/pxa27x_udc.c:2307:
+	 * to the state they were in before entering sleep mode.*/

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000137572.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 138 errors, 300 warnings, 178 checks, 2817 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000137572.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
