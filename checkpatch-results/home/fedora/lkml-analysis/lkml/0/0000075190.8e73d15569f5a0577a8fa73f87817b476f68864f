WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#40: FILE: drivers/net/myri10ge/myri10ge.c:1:
+/*************************************************************************

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#103: FILE: drivers/net/myri10ge/myri10ge.c:64:
+#include <asm/io.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pci.h> instead of <asm/pci.h>
#104: FILE: drivers/net/myri10ge/myri10ge.c:65:
+#include <asm/pci.h>

WARNING:INCLUDE_LINUX: Use #include <linux/processor.h> instead of <asm/processor.h>
#105: FILE: drivers/net/myri10ge/myri10ge.c:66:
+#include <asm/processor.h>

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#239: FILE: drivers/net/myri10ge/myri10ge.c:200:
+static char *myri10ge_fw_name = NULL;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#240: FILE: drivers/net/myri10ge/myri10ge.c:201:
+module_param(myri10ge_fw_name, charp, S_IRUGO | S_IWUSR);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#244: FILE: drivers/net/myri10ge/myri10ge.c:205:
+module_param(myri10ge_ecrc_enable, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#248: FILE: drivers/net/myri10ge/myri10ge.c:209:
+module_param(myri10ge_max_intr_slots, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#252: FILE: drivers/net/myri10ge/myri10ge.c:213:
+module_param(myri10ge_small_bytes, int, S_IRUGO | S_IWUSR);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#256: FILE: drivers/net/myri10ge/myri10ge.c:217:
+module_param(myri10ge_msi, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#260: FILE: drivers/net/myri10ge/myri10ge.c:221:
+module_param(myri10ge_intr_coal_delay, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#264: FILE: drivers/net/myri10ge/myri10ge.c:225:
+module_param(myri10ge_flow_control, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#268: FILE: drivers/net/myri10ge/myri10ge.c:229:
+module_param(myri10ge_deassert_wait, int, S_IRUGO | S_IWUSR);

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#272: FILE: drivers/net/myri10ge/myri10ge.c:233:
+static int myri10ge_force_firmware = 0;

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#273: FILE: drivers/net/myri10ge/myri10ge.c:234:
+module_param(myri10ge_force_firmware, int, S_IRUGO);

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#277: FILE: drivers/net/myri10ge/myri10ge.c:238:
+static int myri10ge_skb_cross_4k = 0;

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#278: FILE: drivers/net/myri10ge/myri10ge.c:239:
+module_param(myri10ge_skb_cross_4k, int, S_IRUGO | S_IWUSR);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#283: FILE: drivers/net/myri10ge/myri10ge.c:244:
+module_param(myri10ge_initial_mtu, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#287: FILE: drivers/net/myri10ge/myri10ge.c:248:
+module_param(myri10ge_napi_weight, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#291: FILE: drivers/net/myri10ge/myri10ge.c:252:
+module_param(myri10ge_watchdog_timeout, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#295: FILE: drivers/net/myri10ge/myri10ge.c:256:
+module_param(myri10ge_max_irq_loops, int, S_IRUGO);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#299: FILE: drivers/net/myri10ge/myri10ge.c:260:
+#define MYRI10GE_FW_OFFSET 1024*1024
                                ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#299: FILE: drivers/net/myri10ge/myri10ge.c:260:
+#define MYRI10GE_FW_OFFSET 1024*1024

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#300: FILE: drivers/net/myri10ge/myri10ge.c:261:
+#define MYRI10GE_HIGHPART_TO_U32(X) \
+(sizeof (X) == 8) ? ((u32)((u64)(X) >> 32)) : (0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#301: FILE: drivers/net/myri10ge/myri10ge.c:262:
+(sizeof (X) == 8) ? ((u32)((u64)(X) >> 32)) : (0)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#304: FILE: drivers/net/myri10ge/myri10ge.c:265:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#304: FILE: drivers/net/myri10ge/myri10ge.c:265:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#304: FILE: drivers/net/myri10ge/myri10ge.c:265:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#304: FILE: drivers/net/myri10ge/myri10ge.c:265:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                                 ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#304: FILE: drivers/net/myri10ge/myri10ge.c:265:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                                      ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'size' may be better as '(size)' to avoid precedence issues
#304: FILE: drivers/net/myri10ge/myri10ge.c:265:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)

WARNING:MEMORY_BARRIER: memory barrier without comment
#330: FILE: drivers/net/myri10ge/myri10ge.c:291:
+	mb();

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#341: FILE: drivers/net/myri10ge/myri10ge.c:302:
+		 * (1ms will be enough for those commands) */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#344: FILE: drivers/net/myri10ge/myri10ge.c:305:
+		     sleep_total < 1000
+		     && response->result == MYRI10GE_NO_RESPONSE_RESULT;

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#346: FILE: drivers/net/myri10ge/myri10ge.c:307:
+			udelay(10);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#351: FILE: drivers/net/myri10ge/myri10ge.c:312:
+		     sleep_total < 15
+		     && response->result == MYRI10GE_NO_RESPONSE_RESULT;

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#353: FILE: drivers/net/myri10ge/myri10ge.c:314:
+			msleep(1);

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#362: FILE: drivers/net/myri10ge/myri10ge.c:323:
+			return 0;
+		} else {

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#376: FILE: drivers/net/myri10ge/myri10ge.c:337:
+/*
+ * The eeprom strings on the lanaiX have the format

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#398: FILE: drivers/net/myri10ge/myri10ge.c:359:
+				    simple_strtoul(ptr, &ptr, 16);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#404: FILE: drivers/net/myri10ge/myri10ge.c:365:
+			mgp->serial_number = simple_strtoul(ptr, &ptr, 10);

WARNING:SPACING: space prohibited before semicolon
#406: FILE: drivers/net/myri10ge/myri10ge.c:367:
+		while (ptr < limit && *ptr++) ;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#406: FILE: drivers/net/myri10ge/myri10ge.c:367:
+		while (ptr < limit && *ptr++) ;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:WHILE_AFTER_BRACE: while should follow close brace '}'
#406: FILE: drivers/net/myri10ge/myri10ge.c:367:
+		}
+		while (ptr < limit && *ptr++) ;

while should follow the closing bracket on the same line::

  do {
          ...
  } while(something);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#417: FILE: drivers/net/myri10ge/myri10ge.c:378:
+/*
+ * Enable or disable periodic RDMAs from the host to make certain

WARNING:MEMORY_BARRIER: memory barrier without comment
#430: FILE: drivers/net/myri10ge/myri10ge.c:391:
+	mb();

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#450: FILE: drivers/net/myri10ge/myri10ge.c:411:
+		msleep(1);

WARNING:NAKED_SSCANF: unchecked sscanf return value
#472: FILE: drivers/net/myri10ge/myri10ge.c:433:
+	sscanf(mgp->fw_version, "%d.%d", &major, &minor);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#483: FILE: drivers/net/myri10ge/myri10ge.c:444:
+static int myri10ge_load_hotplug_firmware(struct myri10ge_priv *mgp, u32 * size)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#485: FILE: drivers/net/myri10ge/myri10ge.c:446:
+	unsigned crc, reread_crc;

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#492: FILE: drivers/net/myri10ge/myri10ge.c:453:
+	if ((status = request_firmware(&fw, mgp->fw_name, dev)) < 0) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:SPACING: No space is necessary after a cast
#509: FILE: drivers/net/myri10ge/myri10ge.c:470:
+	hdr_offset = ntohl(*(u32 *) (fw->data + MCP_HEADER_PTR_OFFSET));

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#528: FILE: drivers/net/myri10ge/myri10ge.c:489:
+			(unsigned)fw->size, reread_crc, crc);

CHECK:SPACING: No space is necessary after a cast
#532: FILE: drivers/net/myri10ge/myri10ge.c:493:
+	*size = (u32) fw->size;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#559: FILE: drivers/net/myri10ge/myri10ge.c:520:
+	 * validate firmware */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!hdr"
#561: FILE: drivers/net/myri10ge/myri10ge.c:522:
+	if (hdr == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#562: FILE: drivers/net/myri10ge/myri10ge.c:523:
+	if (hdr == NULL) {
+		dev_err(dev, "could not malloc firmware hdr\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#583: FILE: drivers/net/myri10ge/myri10ge.c:544:
+		 * was a bad crc */

WARNING:SPLIT_STRING: quoted string split across lines
#598: FILE: drivers/net/myri10ge/myri10ge.c:559:
+				 "Using firmware currently running on NIC"
+				 ".  For optimal\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#601: FILE: drivers/net/myri10ge/myri10ge.c:562:
+				 "performance consider loading optimized "
+				 "firmware\n");

WARNING:MEMORY_BARRIER: memory barrier without comment
#612: FILE: drivers/net/myri10ge/myri10ge.c:573:
+	mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#637: FILE: drivers/net/myri10ge/myri10ge.c:598:
+	mb();

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#638: FILE: drivers/net/myri10ge/myri10ge.c:599:
+	msleep(1);

WARNING:MEMORY_BARRIER: memory barrier without comment
#639: FILE: drivers/net/myri10ge/myri10ge.c:600:
+	mb();

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#642: FILE: drivers/net/myri10ge/myri10ge.c:603:
+		msleep(1);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#655: FILE: drivers/net/myri10ge/myri10ge.c:616:
+static int myri10ge_update_mac_address(struct myri10ge_priv *mgp, u8 * addr)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#678: FILE: drivers/net/myri10ge/myri10ge.c:639:
+		printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#696: FILE: drivers/net/myri10ge/myri10ge.c:657:
+		printk(KERN_ERR "myri10ge: %s: Failed to set promisc mode\n",

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#708: FILE: drivers/net/myri10ge/myri10ge.c:669:
+	 * is alive */

CHECK:SPACING: No space is necessary after a cast
#720: FILE: drivers/net/myri10ge/myri10ge.c:681:
+	cmd.data0 = (u32) bytes;

CHECK:SPACING: No space is necessary after a cast
#728: FILE: drivers/net/myri10ge/myri10ge.c:689:
+	mgp->irq_claim = (__iomem u32 *) (mgp->sram + cmd.data0);

CHECK:SPACING: No space is necessary after a cast
#732: FILE: drivers/net/myri10ge/myri10ge.c:693:
+		mgp->irq_deassert = (__iomem u32 *) (mgp->sram + cmd.data0);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#734: FILE: drivers/net/myri10ge/myri10ge.c:695:
+
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:SPACING: No space is necessary after a cast
#737: FILE: drivers/net/myri10ge/myri10ge.c:698:
+	mgp->intr_coal_delay_ptr = (__iomem u32 *) (mgp->sram + cmd.data0);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#805: FILE: drivers/net/myri10ge/myri10ge.c:766:
+myri10ge_submit_8rx(struct mcp_kreq_ether_recv __iomem * dst,

WARNING:MEMORY_BARRIER: memory barrier without comment
#813: FILE: drivers/net/myri10ge/myri10ge.c:774:
+	mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#816: FILE: drivers/net/myri10ge/myri10ge.c:777:
+	mb();

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#820: FILE: drivers/net/myri10ge/myri10ge.c:781:
+/*
+ * Set of routunes to get a new receive buffer.  Any buffer which

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#838: FILE: drivers/net/myri10ge/myri10ge.c:799:
+	if (skb == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#854: FILE: drivers/net/myri10ge/myri10ge.c:815:
+ * does not cross a 4KB boundary */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#861: FILE: drivers/net/myri10ge/myri10ge.c:822:
+	if (unlikely(skb == NULL))

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#880: FILE: drivers/net/myri10ge/myri10ge.c:841:
+ * space does not cross a 4KB boundary */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#887: FILE: drivers/net/myri10ge/myri10ge.c:848:
+	if (unlikely(skb == NULL))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#898: FILE: drivers/net/myri10ge/myri10ge.c:859:
+		printk(KERN_NOTICE

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'myri10ge_alloc_small', this function's name, in a string
#899: FILE: drivers/net/myri10ge/myri10ge.c:860:
+		       "myri10ge_alloc_small: small skb crossed 4KB boundary\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

ERROR:SPACING: space prohibited before that close parenthesis ')'
#917: FILE: drivers/net/myri10ge/myri10ge.c:878:
+	if ((bytes + MXGEFW_PAD) > (4096 - 16) /* linux overhead */ )

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#924: FILE: drivers/net/myri10ge/myri10ge.c:885:
+	if (unlikely(skb == NULL)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#931: FILE: drivers/net/myri10ge/myri10ge.c:892:
+	 * need mapped for DMA */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rx->wc_fifo"
#944: FILE: drivers/net/myri10ge/myri10ge.c:905:
+		if (rx->wc_fifo == NULL)

CHECK:BRACES: Unbalanced braces around else statement
#947: FILE: drivers/net/myri10ge/myri10ge.c:908:
+		else {

WARNING:MEMORY_BARRIER: memory barrier without comment
#948: FILE: drivers/net/myri10ge/myri10ge.c:909:
+			mb();

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_8021Q)'
#960: FILE: drivers/net/myri10ge/myri10ge.c:921:
+	if ((skb->protocol == ntohs(ETH_P_8021Q)) &&
+	    (vh->h_vlan_encapsulated_proto == htons(ETH_P_IP) ||
+	     vh->h_vlan_encapsulated_proto == htons(ETH_P_IPV6))) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#995: FILE: drivers/net/myri10ge/myri10ge.c:956:
+	 * aligned */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_IP)'
#1004: FILE: drivers/net/myri10ge/myri10ge.c:965:
+		if ((skb->protocol == ntohs(ETH_P_IP)) ||
+		    (skb->protocol == ntohs(ETH_P_IPV6))) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_IPV6)'
#1004: FILE: drivers/net/myri10ge/myri10ge.c:965:
+		if ((skb->protocol == ntohs(ETH_P_IP)) ||
+		    (skb->protocol == ntohs(ETH_P_IPV6))) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#1004: FILE: drivers/net/myri10ge/myri10ge.c:965:
+		if ((skb->protocol == ntohs(ETH_P_IP)) ||
[...]
+		} else
[...]

CHECK:SPACING: No space is necessary after a cast
#1006: FILE: drivers/net/myri10ge/myri10ge.c:967:
+			skb->csum = ntohs((u16) csum);

CHECK:BRACES: Unbalanced braces around else statement
#1008: FILE: drivers/net/myri10ge/myri10ge.c:969:
+		} else

CHECK:SPACING: No space is necessary after a cast
#1009: FILE: drivers/net/myri10ge/myri10ge.c:970:
+			myri10ge_vlan_ip_csum(skb, ntohs((u16) csum));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1056: FILE: drivers/net/myri10ge/myri10ge.c:1017:
+		 * 2 full tx rings per call */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1062: FILE: drivers/net/myri10ge/myri10ge.c:1023:
+	if (netif_queue_stopped(mgp->dev)
+	    && tx->req - tx->done < (tx->mask >> 1)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1098: FILE: drivers/net/myri10ge/myri10ge.c:1059:
+		 * limited number of frames. */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1115: FILE: drivers/net/myri10ge/myri10ge.c:1076:
+				printk(KERN_INFO "myri10ge: %s: link up\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1119: FILE: drivers/net/myri10ge/myri10ge.c:1080:
+				printk(KERN_INFO "myri10ge: %s: link down\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1128: FILE: drivers/net/myri10ge/myri10ge.c:1089:
+			printk(KERN_WARNING "myri10ge: %s: RDMA timed out! "

WARNING:SPLIT_STRING: quoted string split across lines
#1129: FILE: drivers/net/myri10ge/myri10ge.c:1090:
+			printk(KERN_WARNING "myri10ge: %s: RDMA timed out! "
+			       "%d tags left\n", mgp->dev->name,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1173: FILE: drivers/net/myri10ge/myri10ge.c:1134:
+	 * napi poll handler */

CHECK:BRACES: braces {} should be used on all arms of this statement
#1177: FILE: drivers/net/myri10ge/myri10ge.c:1138:
+	if (!mgp->msi_enabled) {
[...]
+	} else
[...]

WARNING:MEMORY_BARRIER: memory barrier without comment
#1181: FILE: drivers/net/myri10ge/myri10ge.c:1142:
+		mb();

CHECK:BRACES: Unbalanced braces around else statement
#1182: FILE: drivers/net/myri10ge/myri10ge.c:1143:
+	} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1194: FILE: drivers/net/myri10ge/myri10ge.c:1155:
+			printk(KERN_WARNING "myri10ge: %s: irq stuck?\n",

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1208: FILE: drivers/net/myri10ge/myri10ge.c:1169:
+	return (IRQ_HANDLED);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1225: FILE: drivers/net/myri10ge/myri10ge.c:1186:
+	strlcpy(info->driver, "myri10ge", sizeof(info->driver));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1226: FILE: drivers/net/myri10ge/myri10ge.c:1187:
+	strlcpy(info->version, MYRI10GE_VERSION_STR, sizeof(info->version));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1227: FILE: drivers/net/myri10ge/myri10ge.c:1188:
+	strlcpy(info->fw_version, mgp->fw_version, sizeof(info->fw_version));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1228: FILE: drivers/net/myri10ge/myri10ge.c:1189:
+	strlcpy(info->bus_info, pci_name(mgp->pdev), sizeof(info->bus_info));

WARNING:LINE_SPACING: Missing a blank line after declarations
#1235: FILE: drivers/net/myri10ge/myri10ge.c:1196:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	coal->rx_coalesce_usecs = mgp->intr_coal_delay;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#1294: FILE: drivers/net/myri10ge/myri10ge.c:1255:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	if (mgp->csum_flag)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1303: FILE: drivers/net/myri10ge/myri10ge.c:1264:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	if (csum_enabled)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1328: FILE: drivers/net/myri10ge/myri10ge.c:1289:
+#define MYRI10GE_STATS_LEN  sizeof(myri10ge_gstrings_stats) / ETH_GSTRING_LEN

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1331: FILE: drivers/net/myri10ge/myri10ge.c:1292:
+myri10ge_get_strings(struct net_device *netdev, u32 stringset, u8 * data)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1348: FILE: drivers/net/myri10ge/myri10ge.c:1309:
+			   struct ethtool_stats *stats, u64 * data)

WARNING:CONST_STRUCT: struct ethtool_ops should normally be const
#1380: FILE: drivers/net/myri10ge/myri10ge.c:1341:
+static struct ethtool_ops myri10ge_ethtool_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1424: FILE: drivers/net/myri10ge/myri10ge.c:1385:
+	mgp->rx_small.mask = mgp->rx_big.mask = rx_ring_entries - 1;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->tx.req_bytes"
#1431: FILE: drivers/net/myri10ge/myri10ge.c:1392:
+	if (mgp->tx.req_bytes == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_small.shadow"
#1440: FILE: drivers/net/myri10ge/myri10ge.c:1401:
+	if (mgp->rx_small.shadow == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_big.shadow"
#1445: FILE: drivers/net/myri10ge/myri10ge.c:1406:
+	if (mgp->rx_big.shadow == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->tx.info"
#1452: FILE: drivers/net/myri10ge/myri10ge.c:1413:
+	if (mgp->tx.info == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_small.info"
#1457: FILE: drivers/net/myri10ge/myri10ge.c:1418:
+	if (mgp->rx_small.info == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_big.info"
#1462: FILE: drivers/net/myri10ge/myri10ge.c:1423:
+	if (mgp->rx_big.info == NULL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1471: FILE: drivers/net/myri10ge/myri10ge.c:1432:
+			printk(KERN_ERR

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1472: FILE: drivers/net/myri10ge/myri10ge.c:1433:
+			       "myri10ge: %s: alloced only %d small bufs\n",
 			                      ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1483: FILE: drivers/net/myri10ge/myri10ge.c:1444:
+			printk(KERN_ERR

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1484: FILE: drivers/net/myri10ge/myri10ge.c:1445:
+			       "myri10ge: %s: alloced only %d big bufs\n",
 			                      ^^^^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mgp->rx_big.info[i].skb"
#1494: FILE: drivers/net/myri10ge/myri10ge.c:1455:
+		if (mgp->rx_big.info[i].skb != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mgp->rx_small.info[i].skb"
#1507: FILE: drivers/net/myri10ge/myri10ge.c:1468:
+		if (mgp->rx_small.info[i].skb != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mgp->rx_big.info[i].skb"
#1550: FILE: drivers/net/myri10ge/myri10ge.c:1511:
+		if (mgp->rx_big.info[i].skb != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mgp->rx_small.info[i].skb"
#1562: FILE: drivers/net/myri10ge/myri10ge.c:1523:
+		if (mgp->rx_small.info[i].skb != NULL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1628: FILE: drivers/net/myri10ge/myri10ge.c:1589:
+		printk(KERN_ERR "myri10ge: %s: failed reset\n", dev->name);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1649: FILE: drivers/net/myri10ge/myri10ge.c:1610:
+	 * bytes down to nearly nothing */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1669: FILE: drivers/net/myri10ge/myri10ge.c:1630:
+		printk(KERN_ERR

CHECK:SPACING: No space is necessary after a cast
#1677: FILE: drivers/net/myri10ge/myri10ge.c:1638:
+		mgp->tx.wc_fifo = (u8 __iomem *) mgp->sram + 0x200000;

CHECK:SPACING: No space is necessary after a cast
#1678: FILE: drivers/net/myri10ge/myri10ge.c:1639:
+		mgp->rx_small.wc_fifo = (u8 __iomem *) mgp->sram + 0x300000;

CHECK:SPACING: No space is necessary after a cast
#1679: FILE: drivers/net/myri10ge/myri10ge.c:1640:
+		mgp->rx_big.wc_fifo = (u8 __iomem *) mgp->sram + 0x340000;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1708: FILE: drivers/net/myri10ge/myri10ge.c:1669:
+		printk(KERN_ERR "myri10ge: %s: Couldn't set buffer sizes\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1717: FILE: drivers/net/myri10ge/myri10ge.c:1678:
+		printk(KERN_ERR "myri10ge: %s: Couldn't set stats DMA\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1729: FILE: drivers/net/myri10ge/myri10ge.c:1690:
+		printk(KERN_ERR "myri10ge: %s: Couldn't bring up link\n",

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->tx.req_bytes"
#1761: FILE: drivers/net/myri10ge/myri10ge.c:1722:
+	if (mgp->tx.req_bytes == NULL)

WARNING:MEMORY_BARRIER: memory barrier without comment
#1770: FILE: drivers/net/myri10ge/myri10ge.c:1731:
+	mb();

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1773: FILE: drivers/net/myri10ge/myri10ge.c:1734:
+		printk(KERN_ERR "myri10ge: %s: Couldn't bring down link\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1778: FILE: drivers/net/myri10ge/myri10ge.c:1739:
+		printk(KERN_ERR "myri10ge: %s never got down irq\n", dev->name);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1789: FILE: drivers/net/myri10ge/myri10ge.c:1750:
+ * backwards one at a time and handle ring wraps */

WARNING:LINE_SPACING: Missing a blank line after declarations
#1796: FILE: drivers/net/myri10ge/myri10ge.c:1757:
+	int idx, starting_slot;
+	starting_slot = tx->req;

WARNING:MEMORY_BARRIER: memory barrier without comment
#1801: FILE: drivers/net/myri10ge/myri10ge.c:1762:
+		mb();

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1806: FILE: drivers/net/myri10ge/myri10ge.c:1767:
+/*
+ * copy an array of struct mcp_kreq_ether_send's to the mcp.  Copy

WARNING:MEMORY_BARRIER: memory barrier without comment
#1825: FILE: drivers/net/myri10ge/myri10ge.c:1786:
+	mb();

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1826: FILE: drivers/net/myri10ge/myri10ge.c:1787:
+	dst = dstp = &tx->lanai[idx];

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1838: FILE: drivers/net/myri10ge/myri10ge.c:1799:
+		 * that it is submitted below */

CHECK:SPACING: No space is necessary after a cast
#1850: FILE: drivers/net/myri10ge/myri10ge.c:1811:
+	__raw_writel(*((u32 *) src + 3), (u32 __iomem *) dst + 3);

WARNING:MEMORY_BARRIER: memory barrier without comment
#1852: FILE: drivers/net/myri10ge/myri10ge.c:1813:
+	mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#1860: FILE: drivers/net/myri10ge/myri10ge.c:1821:
+	mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#1863: FILE: drivers/net/myri10ge/myri10ge.c:1824:
+		mb();

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1869: FILE: drivers/net/myri10ge/myri10ge.c:1830:
+		 * needs to be so that we don't overrun it */

WARNING:MEMORY_BARRIER: memory barrier without comment
#1871: FILE: drivers/net/myri10ge/myri10ge.c:1832:
+		mb();

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#1876: FILE: drivers/net/myri10ge/myri10ge.c:1837:
+/*
+ * Transmit a packet.  We need to split the packet so that a single

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1930: FILE: drivers/net/myri10ge/myri10ge.c:1891:
+		 * fall back to a software checksum */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1953: FILE: drivers/net/myri10ge/myri10ge.c:1914:
+		 * TSO header must be at most 134 bytes long */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1958: FILE: drivers/net/myri10ge/myri10ge.c:1919:
+		 * the checksum by parsing the header. */

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 8)
#1960: FILE: drivers/net/myri10ge/myri10ge.c:1921:
+	} else
[...]
+	if (skb->len <= MXGEFW_SEND_SMALL_SIZE) {

CHECK:BRACES: Unbalanced braces around else statement
#1960: FILE: drivers/net/myri10ge/myri10ge.c:1921:
+	} else

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#1969: FILE: drivers/net/myri10ge/myri10ge.c:1930:
+			if (skb == NULL) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1971: FILE: drivers/net/myri10ge/myri10ge.c:1932:
+				 * return 0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1976: FILE: drivers/net/myri10ge/myri10ge.c:1937:
+			 * so that the nic can know how long it is */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2014: FILE: drivers/net/myri10ge/myri10ge.c:1975:
+		 * do not cross mgp->tx.boundary */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tx->wc_fifo"
#2104: FILE: drivers/net/myri10ge/myri10ge.c:2065:
+	if (tx->wc_fifo == NULL)

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#2117: FILE: drivers/net/myri10ge/myri10ge.c:2078:
+	/* Free any DMA resources we've alloced and clear out the skb
 	                                ^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2119: FILE: drivers/net/myri10ge/myri10ge.c:2080:
+	 * double-free if linearizing fails */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "tx->info[idx].skb"
#2127: FILE: drivers/net/myri10ge/myri10ge.c:2088:
+			if (tx->info[idx].skb != NULL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2143: FILE: drivers/net/myri10ge/myri10ge.c:2104:
+		printk(KERN_ERR

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2160: FILE: drivers/net/myri10ge/myri10ge.c:2121:
+
+}

WARNING:LINE_SPACING: Missing a blank line after declarations
#2165: FILE: drivers/net/myri10ge/myri10ge.c:2126:
+	struct myri10ge_priv *mgp = netdev_priv(dev);
+	return &mgp->stats;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2171: FILE: drivers/net/myri10ge/myri10ge.c:2132:
+	 * pass 1 to force atomicity in myri10ge_send_cmd() */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2186: FILE: drivers/net/myri10ge/myri10ge.c:2147:
+		printk(KERN_ERR

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'new_mtu < 68'
#2202: FILE: drivers/net/myri10ge/myri10ge.c:2163:
+	if ((new_mtu < 68) || (ETH_HLEN + new_mtu > MYRI10GE_MAX_ETHER_MTU)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2203: FILE: drivers/net/myri10ge/myri10ge.c:2164:
+		printk(KERN_ERR "myri10ge: %s: new mtu (%d) is not valid\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2207: FILE: drivers/net/myri10ge/myri10ge.c:2168:
+	printk(KERN_INFO "%s: changing mtu from %d to %d\n",

CHECK:BRACES: braces {} should be used on all arms of this statement
#2209: FILE: drivers/net/myri10ge/myri10ge.c:2170:
+	if (mgp->running) {
[...]
+	} else
[...]

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2211: FILE: drivers/net/myri10ge/myri10ge.c:2172:
+		 * reset the device so the firmware sees the change */

CHECK:BRACES: Unbalanced braces around else statement
#2215: FILE: drivers/net/myri10ge/myri10ge.c:2176:
+	} else

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2222: FILE: drivers/net/myri10ge/myri10ge.c:2183:
+/*
+ * Enable ECRC to align PCI-E Completion packets on an 8-byte boundary.

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2233: FILE: drivers/net/myri10ge/myri10ge.c:2194:
+	unsigned cap;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2234: FILE: drivers/net/myri10ge/myri10ge.c:2195:
+	unsigned err_cap;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2251: FILE: drivers/net/myri10ge/myri10ge.c:2212:
+			 * where ECRC has to be enabled */

WARNING:SPLIT_STRING: quoted string split across lines
#2257: FILE: drivers/net/myri10ge/myri10ge.c:2218:
+						"Failed to find root port"
+						" to force ECRC\n");

WARNING:SPLIT_STRING: quoted string split across lines
#2269: FILE: drivers/net/myri10ge/myri10ge.c:2230:
+				 "Forcing ECRC on non-root port %s"
+				 " (enabling on root port %s)\n",

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2282: FILE: drivers/net/myri10ge/myri10ge.c:2243:
+	if (!cap
+	    && bridge->vendor == PCI_VENDOR_ID_NVIDIA

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2283: FILE: drivers/net/myri10ge/myri10ge.c:2244:
+	    && bridge->vendor == PCI_VENDOR_ID_NVIDIA
+	    && bridge->device == PCI_DEVICE_ID_NVIDIA_NFORCE_CK804_PCIE)

WARNING:SPLIT_STRING: quoted string split across lines
#2294: FILE: drivers/net/myri10ge/myri10ge.c:2255:
+		dev_err(dev, "\t pci=nommconf in use? "
+			"or buggy/incomplete/absent ACPI MCFG attr?\n");

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2308: FILE: drivers/net/myri10ge/myri10ge.c:2269:
+/*
+ * The Lanai Z8E PCI-E interface achieves higher Read-DMA throughput

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2339: FILE: drivers/net/myri10ge/myri10ge.c:2300:
+		 * provide aligned completions */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2342: FILE: drivers/net/myri10ge/myri10ge.c:2303:
+		    /* ServerWorks HT2000/HT1000 */
+		    && bridge->vendor == PCI_VENDOR_ID_SERVERWORKS

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2343: FILE: drivers/net/myri10ge/myri10ge.c:2304:
+		    && bridge->vendor == PCI_VENDOR_ID_SERVERWORKS
+		    && bridge->device ==

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "myri10ge_fw_name"
#2364: FILE: drivers/net/myri10ge/myri10ge.c:2325:
+	if (myri10ge_fw_name != NULL) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2378: FILE: drivers/net/myri10ge/myri10ge.c:2339:
+	 * save for us */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp"
#2407: FILE: drivers/net/myri10ge/myri10ge.c:2368:
+	if (mgp == NULL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2413: FILE: drivers/net/myri10ge/myri10ge.c:2374:
+		printk(KERN_INFO "myri10ge: closing %s\n", netdev->name);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp"
#2434: FILE: drivers/net/myri10ge/myri10ge.c:2395:
+	if (mgp == NULL)

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#2438: FILE: drivers/net/myri10ge/myri10ge.c:2399:
+	msleep(5);		/* give card time to respond */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2441: FILE: drivers/net/myri10ge/myri10ge.c:2402:
+		printk(KERN_ERR "myri10ge: %s: device disappeared!\n",

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2460: FILE: drivers/net/myri10ge/myri10ge.c:2421:
+	 * nic resets due to a parity error */

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2475: FILE: drivers/net/myri10ge/myri10ge.c:2436:
+
+}

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2495: FILE: drivers/net/myri10ge/myri10ge.c:2456:
+/*
+ * This watchdog is used to check whether the board has suffered

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2510: FILE: drivers/net/myri10ge/myri10ge.c:2471:
+		 * For now, just report it */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2512: FILE: drivers/net/myri10ge/myri10ge.c:2473:
+		printk(KERN_ERR

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2516: FILE: drivers/net/myri10ge/myri10ge.c:2477:
+		/*
+		 * A rebooted nic will come back with config space as

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2526: FILE: drivers/net/myri10ge/myri10ge.c:2487:
+		 * this case */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2530: FILE: drivers/net/myri10ge/myri10ge.c:2491:
+				printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2538: FILE: drivers/net/myri10ge/myri10ge.c:2499:
+		printk(KERN_ERR "myri10ge: %s: device timeout, resetting\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2540: FILE: drivers/net/myri10ge/myri10ge.c:2501:
+		printk(KERN_INFO "myri10ge: %s: %d %d %d %d %d\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2545: FILE: drivers/net/myri10ge/myri10ge.c:2506:
+		printk(KERN_INFO "myri10ge: %s: %d %d %d %d %d\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2554: FILE: drivers/net/myri10ge/myri10ge.c:2515:
+		printk(KERN_ERR "myri10ge: %s: failed to load firmware\n",

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2562: FILE: drivers/net/myri10ge/myri10ge.c:2523:
+/*
+ * We use our own timer routine rather than relying upon

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!netdev"
#2598: FILE: drivers/net/myri10ge/myri10ge.c:2559:
+	if (netdev == NULL) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2620: FILE: drivers/net/myri10ge/myri10ge.c:2581:
+	 * the reboot register later on */

CHECK:ASSIGNMENT_CONTINUATIONS: Assignment operator '=' should be on the previous line
#2622: FILE: drivers/net/myri10ge/myri10ge.c:2583:
+	mgp->vendor_specific_offset
+	    = pci_find_capability(pdev, PCI_CAP_ID_VNDR);

Assignment operators should not be written at the start of a
line but should follow the operand at the previous line.

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->cmd"
#2658: FILE: drivers/net/myri10ge/myri10ge.c:2619:
+	if (mgp->cmd == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->fw_stats"
#2663: FILE: drivers/net/myri10ge/myri10ge.c:2624:
+	if (mgp->fw_stats == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->sram"
#2682: FILE: drivers/net/myri10ge/myri10ge.c:2643:
+	if (mgp->sram == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_done.entry"
#2703: FILE: drivers/net/myri10ge/myri10ge.c:2664:
+	if (mgp->rx_done.entry == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2758: FILE: drivers/net/myri10ge/myri10ge.c:2719:
+	 * nic resets due to a parity error */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2775: FILE: drivers/net/myri10ge/myri10ge.c:2736:
+	printk(KERN_INFO "myri10ge: %s: %s IRQ %d, tx bndry %d, fw %s, WC %s\n",

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#2815: FILE: drivers/net/myri10ge/myri10ge.c:2776:
+/*
+ * myri10ge_remove

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp"
#2828: FILE: drivers/net/myri10ge/myri10ge.c:2789:
+	if (mgp == NULL)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2858: FILE: drivers/net/myri10ge/myri10ge.c:2819:
+#define PCI_DEVICE_ID_MYIRCOM_MYRI10GE_Z8E ^I0x0008$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#2878: FILE: drivers/net/myri10ge/myri10ge.c:2839:
+	printk(KERN_INFO "%s: Version %s\n", myri10ge_driver.name,

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000075190.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 20 errors, 145 warnings, 70 checks, 2851 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000075190.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
