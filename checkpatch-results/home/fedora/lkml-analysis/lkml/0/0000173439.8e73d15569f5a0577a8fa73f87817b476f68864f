WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#29: 
decremented for each network packet being sent. If there is a high number of

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#125: FILE: include/net/dst.h:45:
+struct per_node_cnt
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#127: FILE: include/net/dst.h:47:
+^Iint ^I^Iuse;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#139: FILE: include/net/dst.h:59:
+^Iint ^I^I^Is_nid;$

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#173: FILE: include/net/dst.h:140:
+#define dst_use_inc(__dst) (__dst)->__ncnt[numa_node_id()]->use++

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#186: FILE: include/net/dst.h:153:
+#define dst_lastuse_set(__dst) (__dst)->__ncnt[numa_node_id()]->lastuse = jiffies

ERROR:SPACING: space required after that ';' (ctx:VxV)
#219: FILE: include/net/dst.h:183:
+#define dst_update_tu(__dst) do { dst_lastuse_set(__dst);dst_use_inc(__dst); } while (0)
                                                         ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__dst' - possible side-effects?
#219: FILE: include/net/dst.h:183:
+#define dst_update_tu(__dst) do { dst_lastuse_set(__dst);dst_use_inc(__dst); } while (0)

WARNING:LONG_LINE: line length of 105 exceeds 100 columns
#220: FILE: include/net/dst.h:184:
+#define dst_update_rtu(__dst) do { dst_lastuse_set(__dst);dst_hold(__dst);dst_use_inc(__dst); } while (0)

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:SPACING: space required after that ';' (ctx:VxV)
#220: FILE: include/net/dst.h:184:
+#define dst_update_rtu(__dst) do { dst_lastuse_set(__dst);dst_hold(__dst);dst_use_inc(__dst); } while (0)
                                                          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#220: FILE: include/net/dst.h:184:
+#define dst_update_rtu(__dst) do { dst_lastuse_set(__dst);dst_hold(__dst);dst_use_inc(__dst); } while (0)
                                                                          ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse '__dst' - possible side-effects?
#220: FILE: include/net/dst.h:184:
+#define dst_update_rtu(__dst) do { dst_lastuse_set(__dst);dst_hold(__dst);dst_use_inc(__dst); } while (0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#226: FILE: include/net/dst.h:190:
+#if  (!defined (CONFIG_NUMA) || (RT_CACHE_DEBUG >= 2 ))

ERROR:SPACING: space prohibited before that close parenthesis ')'
#226: FILE: include/net/dst.h:190:
+#if  (!defined (CONFIG_NUMA) || (RT_CACHE_DEBUG >= 2 ))

WARNING:LINE_SPACING: Missing a blank line after declarations
#246: FILE: include/net/dst.h:352:
+		int online_node;
+		online_node = node_online(nid) ? nid : curr_node;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#247: FILE: include/net/dst.h:353:
+		if (!(dst->__ncnt[nid] = kmem_cache_alloc_node(rtu_cachep,

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#248: FILE: include/net/dst.h:354:
+		if (!(dst->__ncnt[nid] = kmem_cache_alloc_node(rtu_cachep,
+						SLAB_ATOMIC, online_node))) {

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#249: FILE: include/net/dst.h:355:
+			for(; nid>=0; nid--)
 			         ^

ERROR:SPACING: space required before the open parenthesis '('
#249: FILE: include/net/dst.h:355:
+			for(; nid>=0; nid--)

WARNING:LINE_SPACING: Missing a blank line after declarations
#269: FILE: include/net/dst.h:375:
+	int nid;
+	for_each_node(nid)

ERROR:INLINE_LOCATION: inline keyword should sit between storage class and type
#275: FILE: include/net/dst.h:381:
+inline static void dst_ref_xfr_node_down(struct dst_entry *dst, int nid)

The inline keyword should sit between storage class and type.

For example, the following segment::

  inline static int example_function(void)
  {
          ...
  }

should be::

  static inline int example_function(void)
  {
          ...
  }

WARNING:LINE_SPACING: Missing a blank line after declarations
#278: FILE: include/net/dst.h:384:
+	int refcnt = atomic_read(&dst->__ncnt[nid]->refcnt);
+	if (refcnt) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#353: FILE: net/core/dst.c:279:
+	rtu_cachep =  kmem_cache_create("dst_rtu",
+			sizeof(struct per_node_cnt),

ERROR:SPACING: space required before the open parenthesis '('
#385: FILE: net/decnet/dn_route.c:168:
+		for(sum = 0; nid < max; nid++) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#387: FILE: net/decnet/dn_route.c:170:
+			int nid_ = nid % MAX_NUMNODES;
+			if (node_online(nid_)) {

WARNING:SPACING: space prohibited before semicolon
#391: FILE: net/decnet/dn_route.c:174:
+					dst->s_nid = nid_ ;

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#409: FILE: net/decnet/dn_route.c:1793:
+static int __devinit dn_rtcache_cpu_callback(struct notifier_block *nfb,

ERROR:CODE_INDENT: code indent should use tabs where possible
#410: FILE: net/decnet/dn_route.c:1794:
+                                   unsigned long action,$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#410: FILE: net/decnet/dn_route.c:1794:
+static int __devinit dn_rtcache_cpu_callback(struct notifier_block *nfb,
+                                   unsigned long action,

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#410: FILE: net/decnet/dn_route.c:1794:
+                                   unsigned long action,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#411: FILE: net/decnet/dn_route.c:1795:
+                                   void *hcpu)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#411: FILE: net/decnet/dn_route.c:1795:
+                                   void *hcpu)$

CHECK:SPACING: No space is necessary after a cast
#413: FILE: net/decnet/dn_route.c:1797:
+	int node = cpu_to_node((int) hcpu);

WARNING:LINE_SPACING: Missing a blank line after declarations
#414: FILE: net/decnet/dn_route.c:1798:
+	int node = cpu_to_node((int) hcpu);
+	if ( node_online(node))

ERROR:SPACING: space prohibited after that open parenthesis '('
#414: FILE: net/decnet/dn_route.c:1798:
+	if ( node_online(node))

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#417: FILE: net/decnet/dn_route.c:1801:
+	switch(action) {
[...]
+		case CPU_DEAD:

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:SPACING: space required before the open parenthesis '('
#417: FILE: net/decnet/dn_route.c:1801:
+	switch(action) {

ERROR:SPACING: space required before the open parenthesis '('
#423: FILE: net/decnet/dn_route.c:1807:
+		for(i = 0; i < dn_rt_hash_mask; i++) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#426: FILE: net/decnet/dn_route.c:1810:
+			if ((rt = dn_rt_hash_table[i].chain) == NULL)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#429: FILE: net/decnet/dn_route.c:1813:
+			for(; rt; rt=next) {
 			            ^

ERROR:SPACING: space required before the open parenthesis '('
#429: FILE: net/decnet/dn_route.c:1813:
+			for(; rt; rt=next) {

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#443: FILE: net/decnet/dn_route.c:1827:
+static struct notifier_block dn_rtcache_cpu_notifier =
+			{ &dn_rtcache_cpu_callback, NULL, 0 };

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#486: FILE: net/ipv4/route.c:483:
+/*
+ * For NUMA systems, we do not want to sum up all local node refcnts every

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#493: FILE: net/ipv4/route.c:490:
+static inline int rt_check_age(struct rtable *rth,
+			unsigned long tmo1, unsigned long tmo2)

ERROR:SPACING: space required before the open parenthesis '('
#501: FILE: net/ipv4/route.c:498:
+	for(sum = 0; idx < max; idx++) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#503: FILE: net/ipv4/route.c:500:
+		int nid_ = idx % MAX_NUMNODES;
+		if (node_online(nid_)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#507: FILE: net/ipv4/route.c:504:
+			if ((age <= tmo1 && !rt_fast_clean(rth)) ||
+					(age <= tmo2 && rt_valuable(rth))) {

WARNING:SPACING: space prohibited before semicolon
#508: FILE: net/ipv4/route.c:505:
+				dst->s_nid = nid_ ;

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#517: FILE: net/ipv4/route.c:514:
+/*
+ * In this function order of examining three factors (ref_cnt, expires,

WARNING:SPACING: space prohibited before semicolon
#524: FILE: net/ipv4/route.c:521:
+		return (dst_refcnt(&rth->u.dst) == 0) ;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#551: FILE: net/ipv4/route.c:1129:
+	memcpy(&tmp_pnc[0], &to->u.dst.__ncnt[0],
+			sizeof(struct per_node_cnt *)*MAX_NUMNODES);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#551: FILE: net/ipv4/route.c:1129:
+			sizeof(struct per_node_cnt *)*MAX_NUMNODES);
 			                             ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#554: FILE: net/ipv4/route.c:1132:
+	memcpy(&to->u.dst.__ncnt[0], &tmp_pnc[0],
+			sizeof(struct per_node_cnt *)*MAX_NUMNODES);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#554: FILE: net/ipv4/route.c:1132:
+			sizeof(struct per_node_cnt *)*MAX_NUMNODES);
 			                             ^

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#570: FILE: net/ipv4/route.c:3134:
+static int __devinit rtcache_cpu_callback(struct notifier_block *nfb,

ERROR:CODE_INDENT: code indent should use tabs where possible
#571: FILE: net/ipv4/route.c:3135:
+                                   unsigned long action,$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#571: FILE: net/ipv4/route.c:3135:
+static int __devinit rtcache_cpu_callback(struct notifier_block *nfb,
+                                   unsigned long action,

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#571: FILE: net/ipv4/route.c:3135:
+                                   unsigned long action,$

CHECK:SPACING: No space is necessary after a cast
#574: FILE: net/ipv4/route.c:3138:
+	int node = cpu_to_node((int) hcpu);

WARNING:LINE_SPACING: Missing a blank line after declarations
#575: FILE: net/ipv4/route.c:3139:
+	int node = cpu_to_node((int) hcpu);
+	if (node_online(node))

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#578: FILE: net/ipv4/route.c:3142:
+	switch(action) {
[...]
+		case CPU_DEAD:

ERROR:SPACING: space required before the open parenthesis '('
#578: FILE: net/ipv4/route.c:3142:
+	switch(action) {

WARNING:SPACING: space prohibited before semicolon
#579: FILE: net/ipv4/route.c:3143:
+		int i ;

WARNING:LINE_SPACING: Missing a blank line after declarations
#581: FILE: net/ipv4/route.c:3145:
+		struct rtable *rth;
+		case CPU_DEAD:

ERROR:SPACING: space required before the open parenthesis '('
#582: FILE: net/ipv4/route.c:3146:
+			for(i = rt_hash_mask; i >= 0; i--) {

ERROR:SPACING: space required before the open parenthesis '('
#585: FILE: net/ipv4/route.c:3149:
+				while(rth) {

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#595: FILE: net/ipv4/route.c:3159:
+}
+static struct notifier_block rtcache_cpu_notifier = { &rtcache_cpu_callback, NULL, 0 };

ERROR:INLINE_LOCATION: inline keyword should sit between storage class and type
#621: FILE: net/ipv6/ip6_fib.c:1213:
+inline static int rt6_ref_xfr_node_down(struct rt6_info *rt, void *arg)

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#627: FILE: net/ipv6/ip6_fib.c:1219:
+static int __devinit ipv6_rtcache_cpu_callback(struct notifier_block *nfb,

ERROR:CODE_INDENT: code indent should use tabs where possible
#628: FILE: net/ipv6/ip6_fib.c:1220:
+                                   unsigned long action,$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#628: FILE: net/ipv6/ip6_fib.c:1220:
+static int __devinit ipv6_rtcache_cpu_callback(struct notifier_block *nfb,
+                                   unsigned long action,

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#628: FILE: net/ipv6/ip6_fib.c:1220:
+                                   unsigned long action,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#629: FILE: net/ipv6/ip6_fib.c:1221:
+                                   void *hcpu)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#629: FILE: net/ipv6/ip6_fib.c:1221:
+                                   void *hcpu)$

CHECK:SPACING: No space is necessary after a cast
#631: FILE: net/ipv6/ip6_fib.c:1223:
+	int node = cpu_to_node((int) hcpu);

WARNING:LINE_SPACING: Missing a blank line after declarations
#632: FILE: net/ipv6/ip6_fib.c:1224:
+	int node = cpu_to_node((int) hcpu);
+	if ( node_online(node))

ERROR:SPACING: space prohibited after that open parenthesis '('
#632: FILE: net/ipv6/ip6_fib.c:1224:
+	if ( node_online(node))

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#635: FILE: net/ipv6/ip6_fib.c:1227:
+	switch(action) {
+		case CPU_DEAD:

ERROR:SPACING: space required before the open parenthesis '('
#635: FILE: net/ipv6/ip6_fib.c:1227:
+	switch(action) {

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#647: FILE: net/ipv6/ip6_fib.c:1239:
+static struct notifier_block ipv6_rtcache_cpu_notifier =
+				{ &ipv6_rtcache_cpu_callback, NULL, 0 };

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000173439.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 35 errors, 28 warnings, 17 checks, 543 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000173439.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
