WARNING:TYPO_SPELLING: 'hda' may be misspelled - perhaps 'had'?
#25: 
> : checkroot.sh by calling "/sbin/setmax -d 0 /dev/hda"
                                                    ^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#54: FILE: drivers/ide/ide-disk.c:523:
+ int flag = (drive->id->command_set_1 & 0x0400) ? 1 : 0;$

WARNING:LINE_SPACING: Missing a blank line after declarations
#55: FILE: drivers/ide/ide-disk.c:524:
+ int flag = (drive->id->command_set_1 & 0x0400) ? 1 : 0;
+ printk("%s: host protected area => %d\n", drive->name, flag);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#55: FILE: drivers/ide/ide-disk.c:524:
+ printk("%s: host protected area => %d\n", drive->name, flag);$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#55: FILE: drivers/ide/ide-disk.c:524:
+ printk("%s: host protected area => %d\n", drive->name, flag);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#56: FILE: drivers/ide/ide-disk.c:525:
+ return flag;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#65: FILE: drivers/ide/ide-disk.c:534:
+ byte args[7];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#66: FILE: drivers/ide/ide-disk.c:535:
+ unsigned long addr = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#68: FILE: drivers/ide/ide-disk.c:537:
+ printk("%s: checking for max native LBA...\n", drive->name);$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#68: FILE: drivers/ide/ide-disk.c:537:
+ printk("%s: checking for max native LBA...\n", drive->name);

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#71: FILE: drivers/ide/ide-disk.c:540:
+ /* Create IDE/ATA command request structure
+ *

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#77: FILE: drivers/ide/ide-disk.c:546:
+ args[0] = 0xf8; /* READ_NATIVE_MAX - see ATA spec */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#78: FILE: drivers/ide/ide-disk.c:547:
+ args[IDE_FEATURE_OFFSET] = 0x00;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#79: FILE: drivers/ide/ide-disk.c:548:
+ args[IDE_NSECTOR_OFFSET] = 0x00;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#80: FILE: drivers/ide/ide-disk.c:549:
+ args[IDE_SECTOR_OFFSET] = 0x00;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#81: FILE: drivers/ide/ide-disk.c:550:
+ args[IDE_LCYL_OFFSET] = 0x00;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#82: FILE: drivers/ide/ide-disk.c:551:
+ args[IDE_HCYL_OFFSET] = 0x00;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#83: FILE: drivers/ide/ide-disk.c:552:
+ args[IDE_SELECT_OFFSET] = 0x40;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#86: FILE: drivers/ide/ide-disk.c:555:
+ if (ide_wait_cmd_task(drive, args) == 0) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (1, 1)
#86: FILE: drivers/ide/ide-disk.c:555:
+ if (ide_wait_cmd_task(drive, args) == 0) {
+ if ((args[0] & 0x01) == 0) {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#87: FILE: drivers/ide/ide-disk.c:556:
+ if ((args[0] & 0x01) == 0) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (1, 1)
#87: FILE: drivers/ide/ide-disk.c:556:
+ if ((args[0] & 0x01) == 0) {
+ addr = ((args[IDE_SELECT_OFFSET] & 0x0f) << 24)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#88: FILE: drivers/ide/ide-disk.c:557:
+ addr = ((args[IDE_SELECT_OFFSET] & 0x0f) << 24)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#89: FILE: drivers/ide/ide-disk.c:558:
+ | ((args[IDE_HCYL_OFFSET] ) << 16)$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#89: FILE: drivers/ide/ide-disk.c:558:
+ | ((args[IDE_HCYL_OFFSET] ) << 16)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#90: FILE: drivers/ide/ide-disk.c:559:
+ | ((args[IDE_LCYL_OFFSET] ) << 8)$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#90: FILE: drivers/ide/ide-disk.c:559:
+ | ((args[IDE_LCYL_OFFSET] ) << 8)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#91: FILE: drivers/ide/ide-disk.c:560:
+ | ((args[IDE_SECTOR_OFFSET] ));$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#91: FILE: drivers/ide/ide-disk.c:560:
+ | ((args[IDE_SECTOR_OFFSET] ));

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#92: FILE: drivers/ide/ide-disk.c:561:
+ }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#93: FILE: drivers/ide/ide-disk.c:562:
+ }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#95: FILE: drivers/ide/ide-disk.c:564:
+ printk("%s: max native LBA is %lu\n", drive->name, addr);$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#95: FILE: drivers/ide/ide-disk.c:564:
+ printk("%s: max native LBA is %lu\n", drive->name, addr);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#97: FILE: drivers/ide/ide-disk.c:566:
+ return addr;$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#105: FILE: drivers/ide/ide-disk.c:574:
+static unsigned long idedisk_set_max_address(ide_drive_t *drive,
+ unsigned long addr_req)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#105: FILE: drivers/ide/ide-disk.c:574:
+ unsigned long addr_req)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#107: FILE: drivers/ide/ide-disk.c:576:
+ byte args[7];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#108: FILE: drivers/ide/ide-disk.c:577:
+ unsigned long addr_set = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#110: FILE: drivers/ide/ide-disk.c:579:
+ printk("%s: (un)clipping max LBA...\n", drive->name);$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#110: FILE: drivers/ide/ide-disk.c:579:
+ printk("%s: (un)clipping max LBA...\n", drive->name);

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#113: FILE: drivers/ide/ide-disk.c:582:
+ /* Create IDE/ATA command request structure
+ *

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#119: FILE: drivers/ide/ide-disk.c:588:
+ args[0] = 0xf9; /* SET_MAX - see ATA spec */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#120: FILE: drivers/ide/ide-disk.c:589:
+ args[IDE_FEATURE_OFFSET] = 0x00;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#121: FILE: drivers/ide/ide-disk.c:590:
+ args[IDE_NSECTOR_OFFSET] = 0x00;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#122: FILE: drivers/ide/ide-disk.c:591:
+ args[IDE_SECTOR_OFFSET] = ((addr_req ) & 0xff);$

ERROR:SPACING: space prohibited after that '&' (ctx:WxW)
#122: FILE: drivers/ide/ide-disk.c:591:
+ args[IDE_SECTOR_OFFSET] = ((addr_req ) & 0xff);
                                         ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#122: FILE: drivers/ide/ide-disk.c:591:
+ args[IDE_SECTOR_OFFSET] = ((addr_req ) & 0xff);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#123: FILE: drivers/ide/ide-disk.c:592:
+ args[IDE_LCYL_OFFSET] = ((addr_req >> 8) & 0xff);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#124: FILE: drivers/ide/ide-disk.c:593:
+ args[IDE_HCYL_OFFSET] = ((addr_req >> 16) & 0xff);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#125: FILE: drivers/ide/ide-disk.c:594:
+ args[IDE_SELECT_OFFSET] = ((addr_req >> 24) & 0x0f) | 0x40;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#128: FILE: drivers/ide/ide-disk.c:597:
+ if (ide_wait_cmd_task(drive, args) == 0) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (1, 1)
#128: FILE: drivers/ide/ide-disk.c:597:
+ if (ide_wait_cmd_task(drive, args) == 0) {
+ if ((args[0] & 0x01) == 0) {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#129: FILE: drivers/ide/ide-disk.c:598:
+ if ((args[0] & 0x01) == 0) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (1, 1)
#129: FILE: drivers/ide/ide-disk.c:598:
+ if ((args[0] & 0x01) == 0) {
+ addr_set = ((args[IDE_SELECT_OFFSET] & 0x0f) << 24)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#130: FILE: drivers/ide/ide-disk.c:599:
+ addr_set = ((args[IDE_SELECT_OFFSET] & 0x0f) << 24)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#131: FILE: drivers/ide/ide-disk.c:600:
+ | ((args[IDE_HCYL_OFFSET] ) << 16)$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#131: FILE: drivers/ide/ide-disk.c:600:
+ | ((args[IDE_HCYL_OFFSET] ) << 16)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#132: FILE: drivers/ide/ide-disk.c:601:
+ | ((args[IDE_LCYL_OFFSET] ) << 8)$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#132: FILE: drivers/ide/ide-disk.c:601:
+ | ((args[IDE_LCYL_OFFSET] ) << 8)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#133: FILE: drivers/ide/ide-disk.c:602:
+ | ((args[IDE_SECTOR_OFFSET] ));$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#133: FILE: drivers/ide/ide-disk.c:602:
+ | ((args[IDE_SECTOR_OFFSET] ));

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#134: FILE: drivers/ide/ide-disk.c:603:
+ }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#135: FILE: drivers/ide/ide-disk.c:604:
+ }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#137: FILE: drivers/ide/ide-disk.c:606:
+ printk("%s: max LBA (un)clipped to %lu\n", drive->name, addr_set);$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#137: FILE: drivers/ide/ide-disk.c:606:
+ printk("%s: max LBA (un)clipped to %lu\n", drive->name, addr_set);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#139: FILE: drivers/ide/ide-disk.c:608:
+ return addr_set;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#158: FILE: drivers/ide/ide-disk.c:627:
+ unsigned long hd_max;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#159: FILE: drivers/ide/ide-disk.c:628:
+ unsigned long hd_cap = drive->cyl * drive->head * drive->sect;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#160: FILE: drivers/ide/ide-disk.c:629:
+ int is_lba = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#167: FILE: drivers/ide/ide-disk.c:634:
+ if (! drive->forced_geom) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (1, 1)
#167: FILE: drivers/ide/ide-disk.c:634:
+ if (! drive->forced_geom) {
[...]
+ if ((id->capability & 2) && lba_capacity_is_ok(id)) {

ERROR:SPACING: space prohibited after that '!' (ctx:BxW)
#167: FILE: drivers/ide/ide-disk.c:634:
+ if (! drive->forced_geom) {
      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#169: FILE: drivers/ide/ide-disk.c:636:
+ if ((id->capability & 2) && lba_capacity_is_ok(id)) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (1, 1)
#169: FILE: drivers/ide/ide-disk.c:636:
+ if ((id->capability & 2) && lba_capacity_is_ok(id)) {
+ hd_cap = id->lba_capacity;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#170: FILE: drivers/ide/ide-disk.c:637:
+ hd_cap = id->lba_capacity;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#171: FILE: drivers/ide/ide-disk.c:638:
+ is_lba = 1;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#172: FILE: drivers/ide/ide-disk.c:639:
+ }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#180: FILE: drivers/ide/ide-disk.c:642:
+ if (idedisk_supports_host_protected_area(drive)) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (1, 1)
#180: FILE: drivers/ide/ide-disk.c:642:
+ if (idedisk_supports_host_protected_area(drive)) {
+ hd_max = idedisk_read_native_max_address(drive);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#181: FILE: drivers/ide/ide-disk.c:643:
+ hd_max = idedisk_read_native_max_address(drive);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#182: FILE: drivers/ide/ide-disk.c:644:
+ hd_max = idedisk_set_max_address(drive, hd_max);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#184: FILE: drivers/ide/ide-disk.c:646:
+ if (hd_max > 0) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (1, 1)
#184: FILE: drivers/ide/ide-disk.c:646:
+ if (hd_max > 0) {
+ hd_cap = hd_max+1;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#185: FILE: drivers/ide/ide-disk.c:647:
+ hd_cap = hd_max+1;$

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#185: FILE: drivers/ide/ide-disk.c:647:
+ hd_cap = hd_max+1;
                 ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#186: FILE: drivers/ide/ide-disk.c:648:
+ is_lba = 1;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#187: FILE: drivers/ide/ide-disk.c:649:
+ }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#188: FILE: drivers/ide/ide-disk.c:650:
+ }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#192: FILE: drivers/ide/ide-disk.c:653:
+ printk("%s: lba = %d, cap = %lu\n", drive->name, is_lba, hd_cap);$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#192: FILE: drivers/ide/ide-disk.c:653:
+ printk("%s: lba = %d, cap = %lu\n", drive->name, is_lba, hd_cap);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#195: FILE: drivers/ide/ide-disk.c:656:
+ drive->select.b.lba = is_lba;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#196: FILE: drivers/ide/ide-disk.c:657:
+ drive->capacity = hd_cap;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#197: FILE: drivers/ide/ide-disk.c:658:
+ drive->cyl = hd_cap / (drive->head * drive->sect);$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000489969.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 9 errors, 82 warnings, 2 checks, 157 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000489969.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
