WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#32: FILE: kernel/trace.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:TYPO_SPELLING: 'Chaging' may be misspelled - perhaps 'Changing'?
#59: FILE: kernel/trace.c:28:
+ *    09/09/99, Chaging the format of an event record in order to reduce the
                 ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#65: FILE: kernel/trace.c:34:
+ *    planned for a system who gets at least one clock tick every 10 $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#85: FILE: kernel/trace.c:54:
+#include <asm/io.h>

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#87: FILE: kernel/trace.c:56:
+#include <asm/uaccess.h>

WARNING:INCLUDE_LINUX: Use #include <linux/bitops.h> instead of <asm/bitops.h>
#88: FILE: kernel/trace.c:57:
+#include <asm/bitops.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pgtable.h> instead of <asm/pgtable.h>
#89: FILE: kernel/trace.c:58:
+#include <asm/pgtable.h>

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#98: FILE: kernel/trace.c:67:
+static spinlock_t ^Itrace_spin_lock;^I/* Spinlock in order to lock kernel */$

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#101: FILE: kernel/trace.c:70:
+static struct task_struct* daemon_task_struct;	/* Task structure of the tracer daemon */

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'adress' may be misspelled - perhaps 'address'?
#108: FILE: kernel/trace.c:77:
+static int		use_syscall_eip_bounds;	/* Use adress bounds to fetch the EIP where call is made */
           		                       	       ^^^^^^

WARNING:LONG_LINE_COMMENT: line length of 107 exceeds 100 columns
#108: FILE: kernel/trace.c:77:
+static int		use_syscall_eip_bounds;	/* Use adress bounds to fetch the EIP where call is made */

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:POINTER_LOCATION: "foo*		bar" should be "foo *bar"
#111: FILE: kernel/trace.c:80:
+static void*		lower_eip_bound;	/* The lower bound EIP */

ERROR:POINTER_LOCATION: "foo*		bar" should be "foo *bar"
#112: FILE: kernel/trace.c:81:
+static void*		upper_eip_bound;	/* The upper bound EIP */

WARNING:LONG_LINE_COMMENT: line length of 103 exceeds 100 columns
#121: FILE: kernel/trace.c:90:
+static int		syscall_eip_depth_set;	/* The call depth at which to fetch EIP has been set */

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#129: FILE: kernel/trace.c:98:
+static char*		trace_buf = NULL;	/* Trace buffer */

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:POINTER_LOCATION: "foo*		bar" should be "foo *bar"
#129: FILE: kernel/trace.c:98:
+static char*		trace_buf = NULL;	/* Trace buffer */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#135: FILE: kernel/trace.c:104:
+static int^I^Inum_cpus;               /* Number of CPUs found */ $

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#137: FILE: kernel/trace.c:106:
+unsigned int		syscall_entry_trace_active = 0;

Global variables should not be initialized explicitly to
0 (or NULL, false, etc.).  Your compiler (or rather your
loader, which is responsible for zeroing out the relevant
sections) automatically does it for you.

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#138: FILE: kernel/trace.c:107:
+unsigned int		syscall_exit_trace_active = 0;

WARNING:SPACING: space prohibited before semicolon
#140: FILE: kernel/trace.c:109:
+static int		fetch_syscall_eip_use_bounds ;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo*		bar" should be "foo *bar"
#142: FILE: kernel/trace.c:111:
+static void*		syscall_lower_eip_bound;

ERROR:POINTER_LOCATION: "foo*		bar" should be "foo *bar"
#143: FILE: kernel/trace.c:112:
+static void*		syscall_upper_eip_bound;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#146: FILE: kernel/trace.c:115:
+static struct timer_list heartbeat_timer;^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#151: FILE: kernel/trace.c:120:
+/* The data structure shared between the tracing driver and the trace daemon $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#152: FILE: kernel/trace.c:121:
+/* The data structure shared between the tracing driver and the trace daemon 
+   via ioctl. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#152: FILE: kernel/trace.c:121:
+   via ioctl. */

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#162: FILE: kernel/trace.c:131:
+static char *user_event_data = NULL;		/* The data associated with a user event */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#165: FILE: kernel/trace.c:134:
+static u32 start_reserve = TRACER_FIRST_EVENT_SIZE; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#167: FILE: kernel/trace.c:136:
+/* Space reserved for TRACE_EV_BUFFER_END event + sizeof lost word, which $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#168: FILE: kernel/trace.c:137:
+   though the sizeof lost word isn't necessarily contiguous with rest of $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#168: FILE: kernel/trace.c:137:
+/* Space reserved for TRACE_EV_BUFFER_END event + sizeof lost word, which 
+   though the sizeof lost word isn't necessarily contiguous with rest of 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#169: FILE: kernel/trace.c:138:
+   event (it's always at the end of the buffer) is included here for code $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#170: FILE: kernel/trace.c:139:
+   clarity. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#171: FILE: kernel/trace.c:140:
+static u32 end_reserve = TRACER_LAST_EVENT_SIZE; $

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#175: FILE: kernel/trace.c:144:
+static int event_struct_size[TRACE_EV_MAX + 1] =
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#176: FILE: kernel/trace.c:145:
+	sizeof(trace_start)		/* TRACE_START */ ,
 	                   		                  ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#177: FILE: kernel/trace.c:146:
+	sizeof(trace_syscall_entry)	/* TRACE_SYSCALL_ENTRY */ ,
 	                           	                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#178: FILE: kernel/trace.c:147:
+	0				/* TRACE_SYSCALL_EXIT */ ,
 	 				                         ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#179: FILE: kernel/trace.c:148:
+	sizeof(trace_trap_entry)	/* TRACE_TRAP_ENTRY */ ,
 	                        	                       ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#180: FILE: kernel/trace.c:149:
+	0				/* TRACE_TRAP_EXIT */ ,
 	 				                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#181: FILE: kernel/trace.c:150:
+	sizeof(trace_irq_entry)		/* TRACE_IRQ_ENTRY */ ,
 	                       		                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#182: FILE: kernel/trace.c:151:
+	0				/* TRACE_IRQ_EXIT */ ,
 	 				                     ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#183: FILE: kernel/trace.c:152:
+	sizeof(trace_schedchange)	/* TRACE_SCHEDCHANGE */ ,
 	                         	                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#184: FILE: kernel/trace.c:153:
+	0				/* TRACE_KERNEL_TIMER */ ,
 	 				                         ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#185: FILE: kernel/trace.c:154:
+	sizeof(trace_soft_irq)		/* TRACE_SOFT_IRQ */ ,
 	                      		                     ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#186: FILE: kernel/trace.c:155:
+	sizeof(trace_process)		/* TRACE_PROCESS */ ,
 	                     		                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#187: FILE: kernel/trace.c:156:
+	sizeof(trace_file_system)	/* TRACE_FILE_SYSTEM */ ,
 	                         	                        ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#188: FILE: kernel/trace.c:157:
+	sizeof(trace_timer)		/* TRACE_TIMER */ ,
 	                   		                  ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#189: FILE: kernel/trace.c:158:
+	sizeof(trace_memory)		/* TRACE_MEMORY */ ,
 	                    		                   ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#190: FILE: kernel/trace.c:159:
+	sizeof(trace_socket)		/* TRACE_SOCKET */ ,
 	                    		                   ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#191: FILE: kernel/trace.c:160:
+	sizeof(trace_ipc)		/* TRACE_IPC */ ,
 	                 		                ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#192: FILE: kernel/trace.c:161:
+	sizeof(trace_network)		/* TRACE_NETWORK */ ,
 	                     		                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#193: FILE: kernel/trace.c:162:
+	sizeof(trace_buffer_start)	/* TRACE_BUFFER_START */ ,
 	                          	                         ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#194: FILE: kernel/trace.c:163:
+	sizeof(trace_buffer_end)	/* TRACE_BUFFER_END */ ,
 	                        	                       ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#195: FILE: kernel/trace.c:164:
+	sizeof(trace_new_event)		/* TRACE_NEW_EVENT */ ,
 	                       		                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#196: FILE: kernel/trace.c:165:
+	sizeof(trace_custom)		/* TRACE_CUSTOM */ ,
 	                    		                   ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#219: FILE: kernel/trace.c:188:
+/* Circular list lock. This is classic lock that provides for atomic access
+to the circular list. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#219: FILE: kernel/trace.c:188:
+to the circular list. */

WARNING:CONST_STRUCT: struct file_operations should normally be const
#223: FILE: kernel/trace.c:192:
+static struct file_operations tracer_file_ops =

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#224: FILE: kernel/trace.c:193:
+static struct file_operations tracer_file_ops =
+{

WARNING:INDENTED_LABEL: labels should not be indented
#225: FILE: kernel/trace.c:194:
+	owner:		THIS_MODULE,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#226: FILE: kernel/trace.c:195:
+	ioctl:		tracer_ioctl,
 	     ^

WARNING:INDENTED_LABEL: labels should not be indented
#226: FILE: kernel/trace.c:195:
+	ioctl:		tracer_ioctl,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#227: FILE: kernel/trace.c:196:
+	mmap:		tracer_mmap,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#227: FILE: kernel/trace.c:196:
+	mmap:		tracer_mmap,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#228: FILE: kernel/trace.c:197:
+	open:		tracer_open,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#228: FILE: kernel/trace.c:197:
+	open:		tracer_open,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#229: FILE: kernel/trace.c:198:
+	release:	tracer_release,
 	       ^

WARNING:INDENTED_LABEL: labels should not be indented
#229: FILE: kernel/trace.c:198:
+	release:	tracer_release,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#230: FILE: kernel/trace.c:199:
+	fsync:		tracer_fsync,
 	     ^

WARNING:INDENTED_LABEL: labels should not be indented
#230: FILE: kernel/trace.c:199:
+	fsync:		tracer_fsync,

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#234: FILE: kernel/trace.c:203:
+#define FIX_SIZE(x) (((x) - 1) & PAGE_MASK) + PAGE_SIZE

CHECK:SPACING: No space is necessary after a cast
#246: FILE: kernel/trace.c:215:
+	kva = (unsigned long) page_address(vmalloc_to_page((void *) adr));

CHECK:SPACING: No space is necessary after a cast
#262: FILE: kernel/trace.c:231:
+	adr = (unsigned long) mem;

CHECK:SPACING: No space is necessary after a cast
#264: FILE: kernel/trace.c:233:
+		mem_map_reserve(vmalloc_to_page((void *) adr));

CHECK:SPACING: No space is necessary after a cast
#279: FILE: kernel/trace.c:248:
+	adr = (unsigned long) mem;

CHECK:SPACING: No space is necessary after a cast
#280: FILE: kernel/trace.c:249:
+	while ((long) size > 0) {

CHECK:SPACING: No space is necessary after a cast
#281: FILE: kernel/trace.c:250:
+		mem_map_unreserve(vmalloc_to_page((void *) adr));

CHECK:SPACING: No space is necessary after a cast
#293: FILE: kernel/trace.c:262:
+	unsigned long start = (unsigned long) adr;

CHECK:SPACING: No space is necessary after a cast
#296: FILE: kernel/trace.c:265:
+	pos = (unsigned long) start_pos;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#307: FILE: kernel/trace.c:276:
+}
+/* \end{Code inspired from BTTV driver} */

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'begining' may be misspelled - perhaps 'beginning'?
#312: FILE: kernel/trace.c:281:
+ *	Writes data to the destination buffer and updates the begining the
   	                                                      ^^^^^^^^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'DEST' - possible side-effects?
#315: FILE: kernel/trace.c:284:
+#define tracer_write_to_buffer(DEST, SRC, SIZE) \
+do\
+{\
+   memcpy(DEST, SRC, SIZE);\
+   DEST += SIZE;\
+} while(0);

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'SIZE' - possible side-effects?
#315: FILE: kernel/trace.c:284:
+#define tracer_write_to_buffer(DEST, SRC, SIZE) \
+do\
+{\
+   memcpy(DEST, SRC, SIZE);\
+   DEST += SIZE;\
+} while(0);

WARNING:DO_WHILE_MACRO_WITH_TRAILING_SEMICOLON: do {} while (0) macros should not be semicolon terminated
#315: FILE: kernel/trace.c:284:
+#define tracer_write_to_buffer(DEST, SRC, SIZE) \
+do\
+{\
+   memcpy(DEST, SRC, SIZE);\
+   DEST += SIZE;\
+} while(0);

do {} while(0) macros should not have a trailing semicolon.

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#316: FILE: kernel/trace.c:285:
+do\
+{\

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#318: FILE: kernel/trace.c:287:
+   memcpy(DEST, SRC, SIZE);\$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#319: FILE: kernel/trace.c:288:
+   DEST += SIZE;\$

ERROR:SPACING: space required before the open parenthesis '('
#320: FILE: kernel/trace.c:289:
+} while(0);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#324: FILE: kernel/trace.c:293:
+/* These inline atomic functions wrap the linux versions in order to $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#325: FILE: kernel/trace.c:294:
+/* These inline atomic functions wrap the linux versions in order to 
+   implement the interface we want as well as to ensure memory barriers. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#325: FILE: kernel/trace.c:294:
+   implement the interface we want as well as to ensure memory barriers. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#338: FILE: kernel/trace.c:307:
+ *  $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#346: FILE: kernel/trace.c:315:
+inline int compare_and_store_volatile(volatile u32 *ptr, $

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#346: FILE: kernel/trace.c:315:
+inline int compare_and_store_volatile(volatile u32 *ptr, 

WARNING:TYPO_SPELLING: 'substract' may be misspelled - perhaps 'subtract'?
#389: FILE: kernel/trace.c:358:
+ *	atomic_sub_volatile: - Atomically substract val from the value at ptr.
   	                                  ^^^^^^^^^

WARNING:TYPO_SPELLING: 'substract' may be misspelled - perhaps 'subtract'?
#393: FILE: kernel/trace.c:362:
+ *	Uses memory barriers to substract val from *ptr.
   	                        ^^^^^^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#414: FILE: kernel/trace.c:383:
+	u32 bufno = TRACE_BUFFER_NUMBER_GET(index, offset_bits(cpu));
+	atomic_add_volatile(&fill_count(cpu, bufno), len);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#427: FILE: kernel/trace.c:396:
+static inline void write_start_buffer_event(u32 buf_index, $

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#434: FILE: kernel/trace.c:403:
+	uint16_t data_size;		/* Size of tracing data */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#436: FILE: kernel/trace.c:405:
+^Ichar* current_write_pos;       ^I/* Current position for writing */$

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#436: FILE: kernel/trace.c:405:
+	char* current_write_pos;       	/* Current position for writing */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#439: FILE: kernel/trace.c:408:
+^Icurrent_write_pos = trace_buffer(cpu_id) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#444: FILE: kernel/trace.c:413:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#490: FILE: kernel/trace.c:459:
+static inline void write_end_buffer_event(u32 buf_index, $

ERROR:CODE_INDENT: code indent should use tabs where possible
#495: FILE: kernel/trace.c:464:
+ ^Itrace_buffer_end end_buffer_event; /* End of buffer event */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#495: FILE: kernel/trace.c:464:
+ ^Itrace_buffer_end end_buffer_event; /* End of buffer event */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#495: FILE: kernel/trace.c:464:
+ ^Itrace_buffer_end end_buffer_event; /* End of buffer event */$

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#498: FILE: kernel/trace.c:467:
+	char* current_write_pos;        /* Current position for writing */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#499: FILE: kernel/trace.c:468:
+	uint16_t data_size;		/* Size of tracing data */

CHECK:BOOL_COMPARISON: Using comparison to TRUE is error prone
#508: FILE: kernel/trace.c:477:
+	if (log_cpuid == TRUE) {

Comparisons of A to true and false are better written
as A and !A.

See: https://lore.kernel.org/lkml/1365563834.27174.12.camel@joe-AO722/

ERROR:TRAILING_WHITESPACE: trailing whitespace
#544: FILE: kernel/trace.c:513:
+ *^I@buf_index: index into the trace buffer $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#548: FILE: kernel/trace.c:517:
+ *^IWrites the value contained in size_lost as the last word in the $

WARNING:REPEATED_WORD: Possible repeated word: 'the'
#549: FILE: kernel/trace.c:518:
+ *	Writes the value contained in size_lost as the last word in the 
+ *	the buffer specified by the buffer number contained in buf_index.  The

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#555: FILE: kernel/trace.c:524:
+	char* write_buffer_end;		/* End of buffer */

CHECK:SPACING: No space is necessary after a cast
#563: FILE: kernel/trace.c:532:
+	*((u32 *) (write_buffer_end - sizeof(size_lost))) = size_lost;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#577: FILE: kernel/trace.c:546:
+static inline void finalize_buffer(u32 end_index, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#578: FILE: kernel/trace.c:547:
+^I^I^I^I   u32 size_lost, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#580: FILE: kernel/trace.c:549:
+^I^I^I^I   trace_time_delta *tsc, $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#587: FILE: kernel/trace.c:556:
+	/* In any buffer switch, we need to write out the lost size,
+	   which can be 0. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#587: FILE: kernel/trace.c:556:
+	   which can be 0. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#590: FILE: kernel/trace.c:559:
+^I/* Add the size lost and end event size to fill_count so that $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#591: FILE: kernel/trace.c:560:
+	/* Add the size lost and end event size to fill_count so that 
+	   the old buffer won't be seen as incomplete. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#591: FILE: kernel/trace.c:560:
+	   the old buffer won't be seen as incomplete. */

WARNING:UNNECESSARY_INT: Prefer 'unsigned long' over 'unsigned long int' as the int is unnecessary
#608: FILE: kernel/trace.c:577:
+	unsigned long int flags;	/* CPU flags for lock */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#613: FILE: kernel/trace.c:582:
+^Ievents_end_index = TRACE_BUFFER_OFFSET_GET(index(cpu_id), $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#617: FILE: kernel/trace.c:586:
+	/* Size lost in buffer is the unused space after end of last event
+	   and end of buffer. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#617: FILE: kernel/trace.c:586:
+	   and end of buffer. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#626: FILE: kernel/trace.c:595:
+^I/* Write end event etc. and increment buffers_produced.  The  $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#627: FILE: kernel/trace.c:596:
+	/* Write end event etc. and increment buffers_produced.  The  
+	   time used here is what the locking version uses as well. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#627: FILE: kernel/trace.c:596:
+	   time used here is what the locking version uses as well. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#628: FILE: kernel/trace.c:597:
+^Ifinalize_buffer(index(cpu_id) & index_mask(cpu_id), size_lost, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#648: FILE: kernel/trace.c:617:
+ *^Ilast available buffer, that buffer will be finalized and all $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#652: FILE: kernel/trace.c:621:
+ *^IThe return value contains the result flags and is an ORed combination $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#661: FILE: kernel/trace.c:630:
+^I^I^I^Iu32 event_len, $

WARNING:UNNECESSARY_INT: Prefer 'unsigned long' over 'unsigned long int' as the int is unnecessary
#671: FILE: kernel/trace.c:640:
+	unsigned long int flags; /* CPU flags for lock */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#673: FILE: kernel/trace.c:642:
+^I/* Check whether the event is larger than a buffer */ $

ERROR:SPACING: space required before the open parenthesis '('
#674: FILE: kernel/trace.c:643:
+	if(event_len >= TRACE_BUFFER_SIZE(offset_bits))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#680: FILE: kernel/trace.c:649:
+^I/* We're already overrun, nothing left to do */  $

ERROR:SPACING: space required before the open parenthesis '('
#681: FILE: kernel/trace.c:650:
+	if(buffers_full(cpu_id) == TRUE) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#686: FILE: kernel/trace.c:655:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#689: FILE: kernel/trace.c:658:
+^I/* If this happens, we've been pushed to the edge of the last $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#690: FILE: kernel/trace.c:659:
+^I   available buffer which means we need to finalize it and increment $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#690: FILE: kernel/trace.c:659:
+	/* If this happens, we've been pushed to the edge of the last 
+	   available buffer which means we need to finalize it and increment 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#691: FILE: kernel/trace.c:660:
+^I   buffers_produced.  However, we don't want to allow $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#692: FILE: kernel/trace.c:661:
+^I   sBufferControl.index to be actually pushed to full or beyond, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#695: FILE: kernel/trace.c:664:
+^I   be enough space for this event, but there could be space for $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#696: FILE: kernel/trace.c:665:
+^I   subsequent smaller event(s).  It doesn't matter if they write $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#697: FILE: kernel/trace.c:666:
+^I   themselves, because here we say that anything after the old_index $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#698: FILE: kernel/trace.c:667:
+^I   passed in to this function is lost, even if other events have or $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#701: FILE: kernel/trace.c:670:
+	   buffer is consumed by the daemon. */

ERROR:SPACING: space required before the open parenthesis '('
#702: FILE: kernel/trace.c:671:
+	if(buffers_ready == n_buffers(cpu_id) - 1) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#714: FILE: kernel/trace.c:683:
+		/* Write end event and lost size.  This increases buffer_count
+		   by the lost size, which is important later when we add the

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#715: FILE: kernel/trace.c:684:
+		   deferred size. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#716: FILE: kernel/trace.c:685:
+^I^Ifinalize_buffer(old_index & index_mask, size_lost, $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#720: FILE: kernel/trace.c:689:
+		/* We need to add the lost size to old index, but we can't
+		   do it now, or we'd roll index over and allow new events,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#723: FILE: kernel/trace.c:692:
+		   important later when start logging again. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#735: FILE: kernel/trace.c:704:
+^Ispin_unlock_irqrestore(&trace_spin_lock, flags);^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#752: FILE: kernel/trace.c:721:
+ *^Ito by index_ptr will contain the index actually reserved by this $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#753: FILE: kernel/trace.c:722:
+ *^Ifunction.  The timestamp reflecting the time the slot was reserved $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#754: FILE: kernel/trace.c:723:
+ *^Iwill be saved in *time_stamp.  The return value indicates whether $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#756: FILE: kernel/trace.c:725:
+ *^IIf the return value also indicates a discarded event, the values in $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#757: FILE: kernel/trace.c:726:
+ *^I*index_ptr and *time_stamp will be indeterminate. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#759: FILE: kernel/trace.c:728:
+ *^IThe return value contains the result flags and is an ORed combination $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#762: FILE: kernel/trace.c:731:
+ *^ILTT_BUFFER_SWITCH_NONE - no buffer switch occurred $

WARNING:UNNECESSARY_INT: Prefer 'unsigned long' over 'unsigned long int' as the int is unnecessary
#776: FILE: kernel/trace.c:745:
+	unsigned long int flags; /* CPU flags for lock */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#787: FILE: kernel/trace.c:756:
+^Idiscard_event = discard_check(old_index, slot_len, time_stamp, $

ERROR:SPACING: space required before the open parenthesis '('
#789: FILE: kernel/trace.c:758:
+	if(discard_event != LTT_EVENT_DISCARD_NONE)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#796: FILE: kernel/trace.c:765:
+^I^I/* Yeah, we're re-using a param variable, is that bad form? */ $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#800: FILE: kernel/trace.c:769:
+		/* We're here because the event + ending reserve space would
+		   overflow or exactly fill old buffer.  Calculate new index

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#801: FILE: kernel/trace.c:770:
+		   again. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#805: FILE: kernel/trace.c:774:
+^I^Ioffset = TRACE_BUFFER_OFFSET_GET(new_index + end_reserve, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#808: FILE: kernel/trace.c:777:
+^I^I/* If we would actually overflow and not exactly fill the old $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#809: FILE: kernel/trace.c:778:
+^I^I   buffer, we reserve the first slot (after adding a buffer $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#809: FILE: kernel/trace.c:778:
+		/* If we would actually overflow and not exactly fill the old 
+		   buffer, we reserve the first slot (after adding a buffer 

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#810: FILE: kernel/trace.c:779:
+		   start event) in the new one. */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'offset < slot_len'
#811: FILE: kernel/trace.c:780:
+		if((offset < slot_len) && (offset > 0)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'offset > 0'
#811: FILE: kernel/trace.c:780:
+		if((offset < slot_len) && (offset > 0)) {

ERROR:SPACING: space required before the open parenthesis '('
#811: FILE: kernel/trace.c:780:
+		if((offset < slot_len) && (offset > 0)) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#812: FILE: kernel/trace.c:781:
+		if((offset < slot_len) && (offset > 0)) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#813: FILE: kernel/trace.c:782:
+^I^I^I/* This is an overflow, not an exact fit.  The $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#814: FILE: kernel/trace.c:783:
+			/* This is an overflow, not an exact fit.  The 
+			   reserved index is just after the space reserved for

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#815: FILE: kernel/trace.c:784:
+			   the start event in the new buffer. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#819: FILE: kernel/trace.c:788:
+^I^I^I/* Now the next free space is at the reserved index $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#820: FILE: kernel/trace.c:789:
+			/* Now the next free space is at the reserved index 
+			   plus the length of this event. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#820: FILE: kernel/trace.c:789:
+			   plus the length of this event. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#824: FILE: kernel/trace.c:793:
+			/* We'll exactly fill the old buffer, so our reserved
+			   index is still in the old buffer and our new index

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#825: FILE: kernel/trace.c:794:
+			   is in the new one + sStartReserve */

CHECK:BRACES: Unbalanced braces around else statement
#829: FILE: kernel/trace.c:798:
+		} else

ERROR:TRAILING_WHITESPACE: trailing whitespace
#830: FILE: kernel/trace.c:799:
+^I^I^I/* another event has actually pushed us into a new $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#831: FILE: kernel/trace.c:800:
+^I^I^I   buffer since we were called. */ $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#831: FILE: kernel/trace.c:800:
+			/* another event has actually pushed us into a new 
+			   buffer since we were called. */ 

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#831: FILE: kernel/trace.c:800:
+			   buffer since we were called. */ 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#833: FILE: kernel/trace.c:802:
+^I^I^I^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#836: FILE: kernel/trace.c:805:
+^I} while (!compare_and_store_volatile(&index(cpu_id), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#840: FILE: kernel/trace.c:809:
+^I   new global buffer control index, finish the buffer switch $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#840: FILE: kernel/trace.c:809:
+	/* Once we're successful in saving a new_index as the authoritative
+	   new global buffer control index, finish the buffer switch 

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#841: FILE: kernel/trace.c:810:
+	   processing. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#847: FILE: kernel/trace.c:816:
+	/* At this point, our indices are set in stone, so we can safely
+	   write our start and end events and lost count to our buffers.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#850: FILE: kernel/trace.c:819:
+	   did the buffer switch already. */

ERROR:SPACING: space required before the open parenthesis '('
#851: FILE: kernel/trace.c:820:
+	if(offset < slot_len) { /* Event caused a buffer switch. */

ERROR:SPACING: space required before the open parenthesis '('
#852: FILE: kernel/trace.c:821:
+		if(offset > 0) /* We didn't exactly fill the old buffer */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#854: FILE: kernel/trace.c:823:
+			/* Set the size lost value in the old buffer.  That
+			   value is len+sEndReserve-offset-sEndReserve,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#855: FILE: kernel/trace.c:824:
+			   i.e. sEndReserve cancels itself out. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#858: FILE: kernel/trace.c:827:
+^I^I^I/* Since we exactly filled the old buffer, the index $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#859: FILE: kernel/trace.c:828:
+^I^I^I   we write the end event to is after the space $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#859: FILE: kernel/trace.c:828:
+			/* Since we exactly filled the old buffer, the index 
+			   we write the end event to is after the space 

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#860: FILE: kernel/trace.c:829:
+			   reserved for this event. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#867: FILE: kernel/trace.c:836:
+^I^Ifinalize_buffer(old_index & index_mask, size_lost, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#870: FILE: kernel/trace.c:839:
+^I^I/* If we're here, we had a normal buffer switch and need to $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#871: FILE: kernel/trace.c:840:
+^I^I   update the start buffer time before writing the event.  $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#871: FILE: kernel/trace.c:840:
+		/* If we're here, we had a normal buffer switch and need to 
+		   update the start buffer time before writing the event.  

ERROR:TRAILING_WHITESPACE: trailing whitespace
#872: FILE: kernel/trace.c:841:
+^I^I   The start buffer time is the same as the event time for the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#873: FILE: kernel/trace.c:842:
+^I^I   event reserved, and lTimeDelta of 0 but that also appears $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#874: FILE: kernel/trace.c:843:
+		   to be the case in the locking version as well. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#881: FILE: kernel/trace.c:850:
+^I^I/* new_index is always valid here, since it's set correctly $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#882: FILE: kernel/trace.c:851:
+		/* new_index is always valid here, since it's set correctly 
+		   if offset < len + sEndReserve, and we don't get here

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#885: FILE: kernel/trace.c:854:
+		   sEndReserve bytes. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#886: FILE: kernel/trace.c:855:
+^I^Iwrite_start_buffer_event(new_index & index_mask, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#889: FILE: kernel/trace.c:858:
+^I^I/* We initialize the new buffer by subtracting $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#890: FILE: kernel/trace.c:859:
+^I^I   TRACE_BUFFER_SIZE rather than directly initializing to $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#890: FILE: kernel/trace.c:859:
+		/* We initialize the new buffer by subtracting 
+		   TRACE_BUFFER_SIZE rather than directly initializing to 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#891: FILE: kernel/trace.c:860:
+^I^I   sStartReserve in case events have been already been added $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#894: FILE: kernel/trace.c:863:
+		   buffer event we just wrote. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#895: FILE: kernel/trace.c:864:
+^I^Inew_buf_no = TRACE_BUFFER_NUMBER_GET(new_index & index_mask, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#898: FILE: kernel/trace.c:867:
+		atomic_sub_volatile(&fill_count(cpu_id, new_buf_no),
+			    TRACE_BUFFER_SIZE(offset_bits) - start_reserve);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#900: FILE: kernel/trace.c:869:
+^I^I/* We need to check whether fill_count is less than the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#901: FILE: kernel/trace.c:870:
+^I^I   sStartReserve.  If this test is true, it means that $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#901: FILE: kernel/trace.c:870:
+		/* We need to check whether fill_count is less than the 
+		   sStartReserve.  If this test is true, it means that 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#902: FILE: kernel/trace.c:871:
+^I^I   subtracting the buffer size underflowed fill_count i.e. $

WARNING:REPEATED_WORD: Possible repeated word: 'Any'
#903: FILE: kernel/trace.c:872:
+		   fill_count represents an incomplete buffer.  Any any case, 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#903: FILE: kernel/trace.c:872:
+^I^I   fill_count represents an incomplete buffer.  Any any case, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#904: FILE: kernel/trace.c:873:
+^I^I   we're completely fubared and don't have any choice but to $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#905: FILE: kernel/trace.c:874:
+		   start the new buffer out fresh. */

ERROR:SPACING: space required before the open parenthesis '('
#906: FILE: kernel/trace.c:875:
+		if(atomic_read(&fill_count(cpu_id, new_buf_no)) < start_reserve)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#907: FILE: kernel/trace.c:876:
+^I^I^Iatomic_set_volatile(&fill_count(cpu_id, new_buf_no), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#913: FILE: kernel/trace.c:882:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#925: FILE: kernel/trace.c:894:
+ *^IThis is the fast path for reserving space in the trace buffer in the  $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#926: FILE: kernel/trace.c:895:
+ *^Ilockless tracing scheme.  If a slot was successfully reserved, the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#933: FILE: kernel/trace.c:902:
+ *^IThe index reflecting the start position of the slot reserved will be $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#937: FILE: kernel/trace.c:906:
+ *^Iindeterminate. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#939: FILE: kernel/trace.c:908:
+ *^IThe return value contains the result flags and is an ORed combination $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#948: FILE: kernel/trace.c:917:
+static inline int trace_reserve(u32 slot_len, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#949: FILE: kernel/trace.c:918:
+^I^I^I^Iu32 *index_ptr, $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#962: FILE: kernel/trace.c:931:
+		/* If adding len + sEndReserve to the old index doesn't put us
+		   into a new buffer, this is what the new index would be. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#962: FILE: kernel/trace.c:931:
+		   into a new buffer, this is what the new index would be. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#964: FILE: kernel/trace.c:933:
+^I^Ioffset = TRACE_BUFFER_OFFSET_GET(new_index + end_reserve, $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#968: FILE: kernel/trace.c:937:
+		/* If adding the length reserved for the end buffer event and
+		   lost count to the new index would put us into a new buffer,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#969: FILE: kernel/trace.c:938:
+^I^I   we need to do a buffer switch.  If in between now and the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#970: FILE: kernel/trace.c:939:
+^I^I   buffer switch another event that does fit comes in, no $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#971: FILE: kernel/trace.c:940:
+^I^I   problem because we check again in the slow version.  In $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#972: FILE: kernel/trace.c:941:
+^I^I   either case, there will always be room for the end event $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#973: FILE: kernel/trace.c:942:
+^I^I   in the old buffer.  The trick in this test is that adding $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#974: FILE: kernel/trace.c:943:
+^I^I   a length that would carry into the non-offset bits of the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#975: FILE: kernel/trace.c:944:
+^I^I   index results in the offset portion being smaller than the $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#976: FILE: kernel/trace.c:945:
+		   length that was added. */

ERROR:SPACING: space required before the open parenthesis '('
#977: FILE: kernel/trace.c:946:
+		if(offset < slot_len)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#978: FILE: kernel/trace.c:947:
+^I^I^I/* We would roll over into a new buffer, need to do $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#979: FILE: kernel/trace.c:948:
+			/* We would roll over into a new buffer, need to do 
+			   buffer switch processing. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#979: FILE: kernel/trace.c:948:
+			   buffer switch processing. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#980: FILE: kernel/trace.c:949:
+^I^I^Ireturn trace_reserve_slow(old_index, slot_len, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#985: FILE: kernel/trace.c:954:
+^I} while (!compare_and_store_volatile(&index(cpu_id), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#989: FILE: kernel/trace.c:958:
+^I   new global buffer control index, we can return old_index, the $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#989: FILE: kernel/trace.c:958:
+	/* Once we're successful in saving a new_index as the authoritative
+	   new global buffer control index, we can return old_index, the 

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#990: FILE: kernel/trace.c:959:
+	   successfully reserved index. */

ERROR:CODE_INDENT: code indent should use tabs where possible
#992: FILE: kernel/trace.c:961:
+        /* Return the reserved index value */$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1002: FILE: kernel/trace.c:971:
+ *^I@data_size: total event size $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1008: FILE: kernel/trace.c:977:
+ *^Ireserves space for an event if possible, writes the event and signals $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1011: FILE: kernel/trace.c:980:
+int lockless_write_event(u8 event_id, $

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1013: FILE: kernel/trace.c:982:
+			 uint16_t data_size,

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1023: FILE: kernel/trace.c:992:
+	char* current_write_pos;	/* Current position for writing */

WARNING:UNNECESSARY_INT: Prefer 'unsigned long' over 'unsigned long int' as the int is unnecessary
#1025: FILE: kernel/trace.c:994:
+	unsigned long int flags;        /* CPU flags for lock */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1028: FILE: kernel/trace.c:997:
+	/* Reserve space for the event.  If the space reserved is in a new
+	   buffer, note that fact. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1028: FILE: kernel/trace.c:997:
+	   buffer, note that fact. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1029: FILE: kernel/trace.c:998:
+^Ireserve_ret_code = trace_reserve((u32)data_size, &reserved_index, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1030: FILE: kernel/trace.c:999:
+	reserve_ret_code = trace_reserve((u32)data_size, &reserved_index, 
+				 &time_stamp, &time_delta, cpu_id);

ERROR:SPACING: space required before the open parenthesis '('
#1033: FILE: kernel/trace.c:1002:
+	if(reserve_ret_code & LTT_EVENT_DISCARD)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1037: FILE: kernel/trace.c:1006:
+^Iif((reserve_ret_code & LTT_BUFFER_SWITCH) && $

ERROR:SPACING: space required before the open parenthesis '('
#1037: FILE: kernel/trace.c:1006:
+	if((reserve_ret_code & LTT_BUFFER_SWITCH) && 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1042: FILE: kernel/trace.c:1011:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1044: FILE: kernel/trace.c:1013:
+^Iif((reserve_ret_code & LTT_EVENT_DISCARD) || $

ERROR:SPACING: space required before the open parenthesis '('
#1044: FILE: kernel/trace.c:1013:
+	if((reserve_ret_code & LTT_EVENT_DISCARD) || 

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1050: FILE: kernel/trace.c:1019:
+	/* The position we write to in the trace memory area is simply the
+	   beginning of trace memory plus the index we just reserved. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1050: FILE: kernel/trace.c:1019:
+	   beginning of trace memory plus the index we just reserved. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1053: FILE: kernel/trace.c:1022:
+^I/* If not using TSC, calculate delta */ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1057: FILE: kernel/trace.c:1026:
+^Iif ((log_cpuid == TRUE) && (event_id != TRACE_EV_START) $

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'log_cpuid == TRUE'
#1057: FILE: kernel/trace.c:1026:
+	if ((log_cpuid == TRUE) && (event_id != TRACE_EV_START) 
+	    && (event_id != TRACE_EV_BUFFER_START))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'event_id != TRACE_EV_START'
#1057: FILE: kernel/trace.c:1026:
+	if ((log_cpuid == TRUE) && (event_id != TRACE_EV_START) 
+	    && (event_id != TRACE_EV_BUFFER_START))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'event_id != TRACE_EV_BUFFER_START'
#1057: FILE: kernel/trace.c:1026:
+	if ((log_cpuid == TRUE) && (event_id != TRACE_EV_START) 
+	    && (event_id != TRACE_EV_BUFFER_START))

CHECK:BOOL_COMPARISON: Using comparison to TRUE is error prone
#1057: FILE: kernel/trace.c:1026:
+	if ((log_cpuid == TRUE) && (event_id != TRACE_EV_START) 

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1058: FILE: kernel/trace.c:1027:
+	if ((log_cpuid == TRUE) && (event_id != TRACE_EV_START) 
+	    && (event_id != TRACE_EV_BUFFER_START))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1091: FILE: kernel/trace.c:1060:
+^I/* We've written the event - update the fill_count for the buffer. */ $

ERROR:SPACING: space required before the open parenthesis '('
#1097: FILE: kernel/trace.c:1066:
+	if(reserve_ret_code & LTT_BUFFER_SWITCH) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#1102: FILE: kernel/trace.c:1071:
+                /* Unlock the kernel */$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1112: FILE: kernel/trace.c:1081:
+^I} $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1133: FILE: kernel/trace.c:1102:
+^I/* A buffer's been consumed, and as we've been waiting around at the $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1134: FILE: kernel/trace.c:1103:
+	/* A buffer's been consumed, and as we've been waiting around at the 
+	   end of the last one produced, the one after that must now be free */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1134: FILE: kernel/trace.c:1103:
+	   end of the last one produced, the one after that must now be free */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1140: FILE: kernel/trace.c:1109:
+^I/* In the all-buffers-full case, sBufferControl.index is frozen at the $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1141: FILE: kernel/trace.c:1110:
+	/* In the all-buffers-full case, sBufferControl.index is frozen at the 
+	   position of the first event that would have caused a buffer switch.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1142: FILE: kernel/trace.c:1111:
+^I   However, the fill_count for that buffer is not frozen and reflects $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1143: FILE: kernel/trace.c:1112:
+^I   not only the lost size calculated at that point, but also any $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1144: FILE: kernel/trace.c:1113:
+^I   smaller events that managed to write themselves at the end of the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1145: FILE: kernel/trace.c:1114:
+^I   last buffer (because there's technically still space at the end, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1146: FILE: kernel/trace.c:1115:
+^I   though it and all those contained events will be erased here).  $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1147: FILE: kernel/trace.c:1116:
+^I   Here we try to salvage if possible that last buffer, but to do $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1148: FILE: kernel/trace.c:1117:
+^I   that, we need to subtract those pesky smaller events that managed $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1149: FILE: kernel/trace.c:1118:
+^I   to get in.  If after all that, another small event manages to $

WARNING:REPEATED_WORD: Possible repeated word: 'in'
#1150: FILE: kernel/trace.c:1119:
+	   sneak in in the time it takes us to do this, well, we concede and 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1150: FILE: kernel/trace.c:1119:
+^I   sneak in in the time it takes us to do this, well, we concede and $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1151: FILE: kernel/trace.c:1120:
+^I   the daemon will toss that buffer.  It's not the end of the world $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1152: FILE: kernel/trace.c:1121:
+^I   if that happens, since that buffer actually marked the start of a $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1153: FILE: kernel/trace.c:1122:
+	   bunch of lost events which continues until a buffer is freed. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1155: FILE: kernel/trace.c:1124:
+^I/* Get the bufno and offset of the buffer containing the last event $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1156: FILE: kernel/trace.c:1125:
+	/* Get the bufno and offset of the buffer containing the last event 
+	   logged before we had to stop for a buffer-full condition. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1156: FILE: kernel/trace.c:1125:
+	   logged before we had to stop for a buffer-full condition. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1157: FILE: kernel/trace.c:1126:
+^Ilast_event_offset = TRACE_BUFFER_OFFSET_GET(last_event_index(cpu_id), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1159: FILE: kernel/trace.c:1128:
+^Ilast_event_buf_no = TRACE_BUFFER_NUMBER_GET(last_event_index(cpu_id), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1162: FILE: kernel/trace.c:1131:
+^I/* We also need to know the lost size we wrote to that buffer when we $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1163: FILE: kernel/trace.c:1132:
+	/* We also need to know the lost size we wrote to that buffer when we 
+	   stopped */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1163: FILE: kernel/trace.c:1132:
+	   stopped */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1164: FILE: kernel/trace.c:1133:
+^Ilast_buffer_lost_size = TRACE_BUFFER_SIZE(offset_bits(cpu_id)) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1167: FILE: kernel/trace.c:1136:
+^I/* Since the time we stopped, some smaller events probably reserved $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1168: FILE: kernel/trace.c:1137:
+^I   space and wrote themselves in, the sizes of which would have been $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1168: FILE: kernel/trace.c:1137:
+	/* Since the time we stopped, some smaller events probably reserved 
+	   space and wrote themselves in, the sizes of which would have been 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1169: FILE: kernel/trace.c:1138:
+^I   reflected in the fill_count.  The total size of these events is $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1170: FILE: kernel/trace.c:1139:
+^I   calculated here.  */  $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1170: FILE: kernel/trace.c:1139:
+	   calculated here.  */  

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1175: FILE: kernel/trace.c:1144:
+^I/* If there were events written after we stopped, subtract those from $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1176: FILE: kernel/trace.c:1145:
+^I   the fill_count.  If that doesn't fix things, the buffer either is $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1176: FILE: kernel/trace.c:1145:
+	/* If there were events written after we stopped, subtract those from 
+	   the fill_count.  If that doesn't fix things, the buffer either is 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1177: FILE: kernel/trace.c:1146:
+^I   really incomplete, or another event snuck in, and we'll just stop $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1178: FILE: kernel/trace.c:1147:
+	   now and say we did what we could for it. */

ERROR:SPACING: space required before the open parenthesis '('
#1179: FILE: kernel/trace.c:1148:
+	if(discard_size > 0)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1180: FILE: kernel/trace.c:1149:
+^I^Iatomic_sub_volatile(&fill_count(cpu_id, last_event_buf_no), $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1184: FILE: kernel/trace.c:1153:
+	/* Since our end buffer event probably got trounced, rewrite it in old
+	   buffer. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1184: FILE: kernel/trace.c:1153:
+	   buffer. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1185: FILE: kernel/trace.c:1154:
+^Iwrite_end_buffer_event(last_event_index(cpu_id) & index_mask(cpu_id), $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1186: FILE: kernel/trace.c:1155:
+	write_end_buffer_event(last_event_index(cpu_id) & index_mask(cpu_id), 
+	       last_event_timestamp(cpu_id), last_event_tsc(cpu_id), cpu_id);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1188: FILE: kernel/trace.c:1157:
+^I/* We also need to update the buffer start time and write the start $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1189: FILE: kernel/trace.c:1158:
+	/* We also need to update the buffer start time and write the start 
+	   event for the next buffer, since we couldn't do it until now */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1189: FILE: kernel/trace.c:1158:
+	   event for the next buffer, since we couldn't do it until now */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1192: FILE: kernel/trace.c:1161:
+^I/* The current buffer control index is hanging around near the end of $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1193: FILE: kernel/trace.c:1162:
+	/* The current buffer control index is hanging around near the end of 
+	   the last buffer.  So we add the buffer size and clear the offset to

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1194: FILE: kernel/trace.c:1163:
+	   get to the beginning of the newly freed buffer. */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1196: FILE: kernel/trace.c:1165:
+^Inew_index = TRACE_BUFFER_OFFSET_CLEAR(new_index, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1197: FILE: kernel/trace.c:1166:
+	new_index = TRACE_BUFFER_OFFSET_CLEAR(new_index, 
+				      offset_mask(cpu_id)) + start_reserve;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1198: FILE: kernel/trace.c:1167:
+^Iwrite_start_buffer_event(new_index & index_mask(cpu_id), $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1199: FILE: kernel/trace.c:1168:
+	write_start_buffer_event(new_index & index_mask(cpu_id), 
+		 buffer_start_time(cpu_id), buffer_start_tsc(cpu_id), cpu_id);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1202: FILE: kernel/trace.c:1171:
+	/* Fixing up sBufferControl.index is simpler.  Since a buffer has been
+	   consumed, there's now at least one buffer free, and we can continue.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1203: FILE: kernel/trace.c:1172:
+^I   We start off the next buffer in a fresh state.  Since nothing else $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1205: FILE: kernel/trace.c:1174:
+^I   do that here.  'Meaningfully' means that there may be cases of $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1206: FILE: kernel/trace.c:1175:
+^I   smaller events managing to update the index in the last buffer but $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1207: FILE: kernel/trace.c:1176:
+^I   they're essentially erased by the lost size of that buffer when $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1209: FILE: kernel/trace.c:1178:
+^I   of the next available buffer before turning off sBuffersFull, and $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1210: FILE: kernel/trace.c:1179:
+^I   avoid an erroneous buffer switch.  */ $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1210: FILE: kernel/trace.c:1179:
+	   avoid an erroneous buffer switch.  */ 

ERROR:SPACING: space required before the open parenthesis '('
#1231: FILE: kernel/trace.c:1200:
+	if(hweight32(no_buffers) != 1) /* Invalid if # set bits in word != 1 */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1233: FILE: kernel/trace.c:1202:
+^I^I$

WARNING:TYPO_SPELLING: 'hearbeat' may be misspelled - perhaps 'heartbeat'?
#1241: FILE: kernel/trace.c:1210:
+ *	write_heartbeat_event: - Timer function generating hearbeat event.
   	                                                   ^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1244: FILE: kernel/trace.c:1213:
+ *^ICalled at a frequency calculated to guarantee at least 1 event is $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1247: FILE: kernel/trace.c:1216:
+ *^Iin cases where no events occur in that interval e.g. ~10s on a $

WARNING:UNNECESSARY_INT: Prefer 'unsigned long' over 'unsigned long int' as the int is unnecessary
#1252: FILE: kernel/trace.c:1221:
+	unsigned long int flags;	/* CPU flags for lock */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1254: FILE: kernel/trace.c:1223:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#1256: FILE: kernel/trace.c:1225:
+	for(i =  0; i < num_cpus; i++)

ERROR:CODE_INDENT: code indent should use tabs where possible
#1257: FILE: kernel/trace.c:1226:
+                set_waiting_for_cpu(i, LTT_TRACE_HEARTBEAT);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1257: FILE: kernel/trace.c:1226:
+                set_waiting_for_cpu(i, LTT_TRACE_HEARTBEAT);$

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1263: FILE: kernel/trace.c:1232:
+	heartbeat_timer.expires = jiffies + 0xffffffffUL/loops_per_jiffy - 1;
 	                                                ^

WARNING:TYPO_SPELLING: 'hearbeat' may be misspelled - perhaps 'heartbeat'?
#1268: FILE: kernel/trace.c:1237:
+ *	init_heartbeat_time: - Start timer generating hearbeat events.
   	                                              ^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1271: FILE: kernel/trace.c:1240:
+ *^Iwithin the TSC wrap time.  This ensures that will happen even if $

ERROR:SPACING: space required before the open parenthesis '('
#1276: FILE: kernel/trace.c:1245:
+	if(using_tsc == TRUE) {

CHECK:BOOL_COMPARISON: Using comparison to TRUE is error prone
#1276: FILE: kernel/trace.c:1245:
+	if(using_tsc == TRUE) {

ERROR:SPACING: space required before the open parenthesis '('
#1277: FILE: kernel/trace.c:1246:
+		if(loops_per_jiffy > 0) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#1277: FILE: kernel/trace.c:1246:
+		if(loops_per_jiffy > 0) {
[...]
+		} else
[...]

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1282: FILE: kernel/trace.c:1251:
+^I^I^Iheartbeat_timer.expires = jiffies $

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1283: FILE: kernel/trace.c:1252:
+				+ 0xffffffffUL/loops_per_jiffy - 1;
 				              ^

CHECK:BRACES: Unbalanced braces around else statement
#1285: FILE: kernel/trace.c:1254:
+		} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_alert([subsystem]dev, ... then dev_alert(dev, ... then pr_alert(...  to printk(KERN_ALERT ...
#1286: FILE: kernel/trace.c:1255:
+			printk(KERN_ALERT "Tracer: Couldn't set up heartbeat timer - continuing without one \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1286: FILE: kernel/trace.c:1255:
+			printk(KERN_ALERT "Tracer: Couldn't set up heartbeat timer - continuing without one \n");

WARNING:TYPO_SPELLING: 'begining' may be misspelled - perhaps 'beginning'?
#1298: FILE: kernel/trace.c:1267:
+	trace_start start_event; /* Event marking the begining of the trace */
 	                                              ^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1323: FILE: kernel/trace.c:1292:
+	/* Trace the buffer start event using the appropriate method depending
+	   on the locking scheme */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1323: FILE: kernel/trace.c:1292:
+	   on the locking scheme */

ERROR:SPACING: space required before the open parenthesis '('
#1324: FILE: kernel/trace.c:1293:
+	if(using_lockless == TRUE)

CHECK:BOOL_COMPARISON: Using comparison to TRUE is error prone
#1324: FILE: kernel/trace.c:1293:
+	if(using_lockless == TRUE)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1326: FILE: kernel/trace.c:1295:
+		write_start_buffer_event(index(cpu_id) & index_mask(cpu_id),
+		 buffer_start_time(cpu_id), buffer_start_tsc(cpu_id), cpu_id);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1329: FILE: kernel/trace.c:1298:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1343: FILE: kernel/trace.c:1312:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#1344: FILE: kernel/trace.c:1313:
+	for(i = 0; i < num_cpus; i++)

ERROR:SPACING: space required before the open parenthesis '('
#1345: FILE: kernel/trace.c:1314:
+		if(atomic_read(&waiting_for_cpu(i)) & LTT_FINALIZE_TRACE)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1360: FILE: kernel/trace.c:1329:
+ *^Iset in this set of flags.  Only one type of task per CPU is ever $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1361: FILE: kernel/trace.c:1330:
+ *^Ipending i.e. queues aren't necessary.  This function (re)checks the $

WARNING:UNNECESSARY_INT: Prefer 'unsigned long' over 'unsigned long int' as the int is unnecessary
#1366: FILE: kernel/trace.c:1335:
+	unsigned long int flags;	/* CPU flags for lock */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1370: FILE: kernel/trace.c:1339:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#1374: FILE: kernel/trace.c:1343:
+	if(tasks == 0) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1379: FILE: kernel/trace.c:1348:
+^I/* Before we can log any events, we need to write start/start_buffer $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1380: FILE: kernel/trace.c:1349:
+	/* Before we can log any events, we need to write start/start_buffer 
+	   event for this CPU */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1380: FILE: kernel/trace.c:1349:
+	   event for this CPU */

ERROR:SPACING: space required before the open parenthesis '('
#1381: FILE: kernel/trace.c:1350:
+	if(using_tsc && tracer_started && (tasks & LTT_INITIALIZE_TRACE)) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#1382: FILE: kernel/trace.c:1351:
+                clear_waiting_for_cpu(cpu_id, LTT_INITIALIZE_TRACE);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1382: FILE: kernel/trace.c:1351:
+                clear_waiting_for_cpu(cpu_id, LTT_INITIALIZE_TRACE);$

ERROR:SPACING: space required before the open parenthesis '('
#1386: FILE: kernel/trace.c:1355:
+	if(using_tsc && tracer_started && (tasks & LTT_TRACE_HEARTBEAT)) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#1387: FILE: kernel/trace.c:1356:
+                clear_waiting_for_cpu(cpu_id, LTT_TRACE_HEARTBEAT);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1387: FILE: kernel/trace.c:1356:
+                clear_waiting_for_cpu(cpu_id, LTT_TRACE_HEARTBEAT);$

ERROR:SPACING: space required before the open parenthesis '('
#1391: FILE: kernel/trace.c:1360:
+	if(using_lockless && tracer_started && (tasks & LTT_CONTINUE_TRACE)) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#1392: FILE: kernel/trace.c:1361:
+                clear_waiting_for_cpu(cpu_id, LTT_CONTINUE_TRACE);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1392: FILE: kernel/trace.c:1361:
+                clear_waiting_for_cpu(cpu_id, LTT_CONTINUE_TRACE);$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1396: FILE: kernel/trace.c:1365:
+^I/* Before we finish logging, we need to write end_buffer $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1397: FILE: kernel/trace.c:1366:
+	/* Before we finish logging, we need to write end_buffer 
+	   event for this CPU, if we're using TSC timestamping (because

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1398: FILE: kernel/trace.c:1367:
+	   we couldn't do all finalizing in TRACER_STOP itself) */

ERROR:SPACING: space required before the open parenthesis '('
#1399: FILE: kernel/trace.c:1368:
+	if(tracer_stopping && using_tsc && (tasks & LTT_FINALIZE_TRACE)) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1400: FILE: kernel/trace.c:1369:
+^I^I/* NB - we need to do this before calling trace to $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1401: FILE: kernel/trace.c:1370:
+		/* NB - we need to do this before calling trace to 
+		   avoid recursion */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1401: FILE: kernel/trace.c:1370:
+		   avoid recursion */

ERROR:CODE_INDENT: code indent should use tabs where possible
#1402: FILE: kernel/trace.c:1371:
+                clear_waiting_for_cpu(cpu_id, LTT_FINALIZE_TRACE);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1402: FILE: kernel/trace.c:1371:
+                clear_waiting_for_cpu(cpu_id, LTT_FINALIZE_TRACE);$

ERROR:SPACING: space required before the open parenthesis '('
#1403: FILE: kernel/trace.c:1372:
+		if(using_lockless) {

ERROR:SPACING: space required before the open parenthesis '('
#1412: FILE: kernel/trace.c:1381:
+		if(all_finalized())

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000424725.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 242 errors, 138 warnings, 37 checks, 1386 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000424725.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
