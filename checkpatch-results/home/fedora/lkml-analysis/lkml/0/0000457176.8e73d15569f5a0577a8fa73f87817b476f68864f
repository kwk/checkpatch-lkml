WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#65: 
  This cset changes system_bus_speed to kHz, because the additional precisioin

ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#85: 
--- a/drivers/ide/aec62xx.c	Wed May 22 13:09:12 2002

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

WARNING:LONG_LINE: line length of 144 exceeds 100 columns
#92: FILE: drivers/ide/aec62xx.c:209:
+			return ((byte) ((system_bus_speed <= 33333) ? chipset_table->chipset_settings_33 : chipset_table->chipset_settings_34));

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LONG_LINE: line length of 140 exceeds 100 columns
#101: FILE: drivers/ide/aec62xx.c:218:
+			return ((byte) ((system_bus_speed <= 33333) ? chipset_table->ultra_settings_33 : chipset_table->ultra_settings_34));

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#114: FILE: drivers/ide/ali14xx.c:127:
+	param3 = param1 = (time2 * system_bus_speed + 999999) / 1000000;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#115: FILE: drivers/ide/ali14xx.c:128:
+	param4 = param2 = (time1 * system_bus_speed + 999999) / 1000000 - param1;

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#127: FILE: drivers/ide/alim15x3.c:264:
+	if ((s_clc = (s_time * system_bus_speed + 999999) / 1000000) >= 8)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#130: FILE: drivers/ide/alim15x3.c:266:
+	if ((a_clc = (a_time * system_bus_speed + 999999) / 1000000) >= 8)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#136: FILE: drivers/ide/alim15x3.c:271:
+	if ((r_clc = ((c_time - s_time - a_time) * system_bus_speed + 999999) / 1000000) >= 16)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#141: FILE: drivers/ide/alim15x3.c:275:
+	if (!(r_clc = (c_time * system_bus_speed + 999999) / 1000000 - a_clc - s_clc)) {

WARNING:LONG_LINE: line length of 120 exceeds 100 columns
#161: FILE: drivers/ide/amd74xx.c:133:
+	amd_print("PCI clock:                          %d.%dMHz", system_bus_speed / 1000, system_bus_speed / 100 % 10);

WARNING:LONG_LINE: line length of 112 exceeds 100 columns
#187: FILE: drivers/ide/amd74xx.c:176:
+		speed[i] = 4 * system_bus_speed / ((den[i] && uen[i]) ? udma[i] : (active[i] + recover[i]) * 2);

WARNING:LONG_LINE: line length of 122 exceeds 100 columns
#188: FILE: drivers/ide/amd74xx.c:177:
+		cycle[i] = 1000000 * ((den[i] && uen[i]) ? udma[i] : (active[i] + recover[i]) * 2) / system_bus_speed / 2;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#220: FILE: drivers/ide/amd74xx.c:250:
+	if (speed == XFER_UDMA_5 && system_bus_speed <= 33333) t.udma = 1;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#281: FILE: drivers/ide/cy82c693.c:124:
+	clocks = (time*bus_speed+999999)/1000000 -1;
 	              ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#281: FILE: drivers/ide/cy82c693.c:124:
+	clocks = (time*bus_speed+999999)/1000000 -1;
 	                        ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#281: FILE: drivers/ide/cy82c693.c:124:
+	clocks = (time*bus_speed+999999)/1000000 -1;
 	                                ^

CHECK:SPACING: spaces preferred around that '-' (ctx:WxV)
#281: FILE: drivers/ide/cy82c693.c:124:
+	clocks = (time*bus_speed+999999)/1000000 -1;
 	                                         ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#356: FILE: drivers/ide/ide.c:3227:
+	if (pci_present())
+	    system_bus_speed = 33333;

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#361: FILE: drivers/ide/ide.c:3231:
+	if (idebus_parameter >= 20 && idebus_parameter <= 80) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#364: FILE: drivers/ide/ide.c:3234:
+		switch (system_bus_speed) {
+			case 33000: system_bus_speed = 33333; break;
+			case 37000: system_bus_speed = 37500; break;
+			case 41000: system_bus_speed = 41666; break;
+			case 66000: system_bus_speed = 66666; break;

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#365: FILE: drivers/ide/ide.c:3235:
+			case 33000: system_bus_speed = 33333; break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#366: FILE: drivers/ide/ide.c:3236:
+			case 37000: system_bus_speed = 37500; break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#367: FILE: drivers/ide/ide.c:3237:
+			case 41000: system_bus_speed = 41666; break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#368: FILE: drivers/ide/ide.c:3238:
+			case 66000: system_bus_speed = 66666; break;

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#372: FILE: drivers/ide/ide.c:3242:
+	if (idebus_parameter >= 20000 && idebus_parameter <= 80000)
+	    system_bus_speed = idebus_parameter;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#374: FILE: drivers/ide/ide.c:3244:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#375: FILE: drivers/ide/ide.c:3245:
+	printk(KERN_INFO "ATA: %s bus speed %d.%dMHz\n",

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#376: FILE: drivers/ide/ide.c:3246:
+		pci_present() ? "PCI" : "System", system_bus_speed / 1000, system_bus_speed / 100 % 10);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#376: FILE: drivers/ide/ide.c:3246:
+	printk(KERN_INFO "ATA: %s bus speed %d.%dMHz\n",
+		pci_present() ? "PCI" : "System", system_bus_speed / 1000, system_bus_speed / 100 % 10);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#390: FILE: drivers/ide/opti621.c:178:
+	return ((time*bus_speed+999999)/1000000);
 	             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#390: FILE: drivers/ide/opti621.c:178:
+	return ((time*bus_speed+999999)/1000000);
 	                       ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#390: FILE: drivers/ide/opti621.c:178:
+	return ((time*bus_speed+999999)/1000000);
 	                               ^

WARNING:LONG_LINE: line length of 121 exceeds 100 columns
#410: FILE: drivers/ide/piix.c:149:
+	piix_print("PCI clock:                          %d.%dMHz", system_bus_speed / 1000, system_bus_speed / 100 % 10);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#520: FILE: drivers/ide/qd65xx.c:155:
+	byte active_cycle   = 17-IDE_IN(active_time   * system_bus_speed / 1000000 + 1, 2, 17);
 	                        ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#521: FILE: drivers/ide/qd65xx.c:156:
+	byte recovery_cycle = 15-IDE_IN(recovery_time * system_bus_speed / 1000000 + 1, 2, 15);
 	                        ^

WARNING:LONG_LINE: line length of 120 exceeds 100 columns
#541: FILE: drivers/ide/via82cxxx.c:177:
+	via_print("PCI clock:                          %d.%dMHz", system_bus_speed / 1000, system_bus_speed / 100 % 10);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000457176.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 12 errors, 12 warnings, 13 checks, 481 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000457176.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
