WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#27: 
diff -ruNp 618-core.patch-old/kernel/power/suspend2_core/suspend.c 618-core.patch-new/kernel/power/suspend2_core/suspend.c

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#31: FILE: kernel/power/suspend2_core/suspend.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:TRAILING_WHITESPACE: trailing whitespace
#38: FILE: kernel/power/suspend2_core/suspend.c:8:
+ * or across some network. The support is entirely OS based, so Suspend2 $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'independant' may be misspelled - perhaps 'independent'?
#40: FILE: kernel/power/suspend2_core/suspend.c:10:
+ * code is also architecture independant, so it should be very easy to port
                              ^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#50: FILE: kernel/power/suspend2_core/suspend.c:20:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#61: FILE: kernel/power/suspend2_core/suspend.c:31:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#63: FILE: kernel/power/suspend2_core/suspend.c:33:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#68: FILE: kernel/power/suspend2_core/suspend.c:38:
+ * Steve Doddi <dirk@loth.demon.co.uk><BR> $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#106: FILE: kernel/power/suspend2_core/suspend.c:76:
+ * $

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#126: FILE: kernel/power/suspend2_core/suspend.c:96:
+#include <asm/uaccess.h>

ERROR:TRAILING_WHITESPACE: trailing whitespace
#145: FILE: kernel/power/suspend2_core/suspend.c:115:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#145: FILE: kernel/power/suspend2_core/suspend.c:115:
+ $

ERROR:SPACING: exactly one space required after that #ifdef
#146: FILE: kernel/power/suspend2_core/suspend.c:116:
+#ifdef  CONFIG_X86

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#152: FILE: kernel/power/suspend2_core/suspend.c:122:
+unsigned long suspend2_orig_mem_free = 0;

Global variables should not be initialized explicitly to
0 (or NULL, false, etc.).  Your compiler (or rather your
loader, which is responsible for zeroing out the relevant
sections) automatically does it for you.

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#156: FILE: kernel/power/suspend2_core/suspend.c:126:
+static char * debug_info_buffer;

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#159: FILE: kernel/power/suspend2_core/suspend.c:129:
+extern void do_suspend2_lowlevel(int resume);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#160: FILE: kernel/power/suspend2_core/suspend.c:130:
+extern __nosavedata char resume_commandline[COMMAND_LINE_SIZE];

ERROR:TRAILING_WHITESPACE: trailing whitespace
#162: FILE: kernel/power/suspend2_core/suspend.c:132:
+/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#164: FILE: kernel/power/suspend2_core/suspend.c:134:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#165: FILE: kernel/power/suspend2_core/suspend.c:135:
+ * The following are used by the arch specific low level routines $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#178: FILE: kernel/power/suspend2_core/suspend.c:148:
+struct pagedir pagedir1 = { 0, 0}, pagedir2 = { 0, 0}; $

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#183: FILE: kernel/power/suspend2_core/suspend.c:153:
+unsigned int nr_suspends = 0;

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#186: FILE: kernel/power/suspend2_core/suspend.c:156:
+int suspend_default_console_level = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#188: FILE: kernel/power/suspend2_core/suspend.c:158:
+/* $

ERROR:CODE_INDENT: code indent should use tabs where possible
#231: FILE: kernel/power/suspend2_core/suspend.c:201:
+       ^I^Iset_fs(KERNEL_DS);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#231: FILE: kernel/power/suspend2_core/suspend.c:201:
+       ^I^Iset_fs(KERNEL_DS);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#231: FILE: kernel/power/suspend2_core/suspend.c:201:
+       ^I^Iset_fs(KERNEL_DS);$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#236: FILE: kernel/power/suspend2_core/suspend.c:206:
+			printk("Get modules failed!\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#243: FILE: kernel/power/suspend2_core/suspend.c:213:
+			printk("Initialise plugins failed!\n");

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#269: FILE: kernel/power/suspend2_core/suspend.c:239:
+	if (RAM_TO_SUSPEND > max_mapnr) {

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#271: FILE: kernel/power/suspend2_core/suspend.c:241:
+		suspend2_prepare_status(1, 1,
+			"Couldn't get enough free pages, on %ld pages short",

ERROR:TRAILING_WHITESPACE: trailing whitespace
#275: FILE: kernel/power/suspend2_core/suspend.c:245:
+^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#277: FILE: kernel/power/suspend2_core/suspend.c:247:
+	suspend_message(SUSPEND_ANY_SECTION, SUSPEND_LOW, 1,
+		" - Final values: %d and %d.\n",

ERROR:TRAILING_WHITESPACE: trailing whitespace
#278: FILE: kernel/power/suspend2_core/suspend.c:248:
+^I^Ipageset1_size, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#284: FILE: kernel/power/suspend2_core/suspend.c:254:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#291: FILE: kernel/power/suspend2_core/suspend.c:261:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#304: FILE: kernel/power/suspend2_core/suspend.c:274:
+^I$

WARNING:SPLIT_STRING: quoted string split across lines
#318: FILE: kernel/power/suspend2_core/suspend.c:288:
+		abort_suspend("Pageset1 has grown by %d pages."
+			" Only %d growth is allowed for!\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#326: FILE: kernel/power/suspend2_core/suspend.c:296:
+	BUG_ON(!irqs_disabled());

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

ERROR:TRAILING_WHITESPACE: trailing whitespace
#333: FILE: kernel/power/suspend2_core/suspend.c:303:
+^I *  $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#335: FILE: kernel/power/suspend2_core/suspend.c:305:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#338: FILE: kernel/power/suspend2_core/suspend.c:308:
+^I/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#339: FILE: kernel/power/suspend2_core/suspend.c:309:
+^I * Other processors have waited for me to make the atomic copy of the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#344: FILE: kernel/power/suspend2_core/suspend.c:314:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#352: FILE: kernel/power/suspend2_core/suspend.c:322:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#358: FILE: kernel/power/suspend2_core/suspend.c:328:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#367: FILE: kernel/power/suspend2_core/suspend.c:337:
+^I$

WARNING:SPLIT_STRING: quoted string split across lines
#400: FILE: kernel/power/suspend2_core/suspend.c:370:
+		panic("Attempt to reload pagedir 2 while aborting "
+				"a suspend failed.");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#402: FILE: kernel/power/suspend2_core/suspend.c:372:
+^Ireturn -1;^I^I$

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#404: FILE: kernel/power/suspend2_core/suspend.c:374:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#406: FILE: kernel/power/suspend2_core/suspend.c:376:
+#define SNPRINTF(a...) ^Ilen += suspend_snprintf(debug_info_buffer + len, \$

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#406: FILE: kernel/power/suspend2_core/suspend.c:376:
+#define SNPRINTF(a...) 	len += suspend_snprintf(debug_info_buffer + len, \
+		PAGE_SIZE - len - 1, ## a)

CHECK:SPACING: No space is necessary after a cast
#414: FILE: kernel/power/suspend2_core/suspend.c:384:
+	return MB((unsigned long) suspend_io_time[read_write][0]) * HZ /

CHECK:LINE_SPACING: Please don't use multiple blank lines
#423: FILE: kernel/power/suspend2_core/suspend.c:393:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#427: FILE: kernel/power/suspend2_core/suspend.c:397:
+	int len = 0;
+	if (!debug_info_buffer) {

CHECK:SPACING: No space is necessary after a cast
#428: FILE: kernel/power/suspend2_core/suspend.c:398:
+		debug_info_buffer = (char *) get_zeroed_page(GFP_ATOMIC);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#430: FILE: kernel/power/suspend2_core/suspend.c:400:
+			printk("Error! Unable to allocate buffer for"

WARNING:SPLIT_STRING: quoted string split across lines
#431: FILE: kernel/power/suspend2_core/suspend.c:401:
+			printk("Error! Unable to allocate buffer for"
+					"software suspend debug info.\n");

WARNING:MISSING_SPACE: break quoted strings at a space character
#431: FILE: kernel/power/suspend2_core/suspend.c:401:
+			printk("Error! Unable to allocate buffer for"
+					"software suspend debug info.\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#442: FILE: kernel/power/suspend2_core/suspend.c:412:
+^I^I^Ipagedir1.lastpageset_size, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#442: FILE: kernel/power/suspend2_core/suspend.c:412:
+	SNPRINTF("- Pageset sizes  : %d (%d low) and %d (%d low).\n",
+			pagedir1.lastpageset_size, 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#444: FILE: kernel/power/suspend2_core/suspend.c:414:
+^I^I^Ipagedir2.lastpageset_size, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#447: FILE: kernel/power/suspend2_core/suspend.c:417:
+	SNPRINTF("- Parameters     : %ld %ld %ld %d %d %ld\n",
+			suspend_result,

WARNING:SPLIT_STRING: quoted string split across lines
#454: FILE: kernel/power/suspend2_core/suspend.c:424:
+	SNPRINTF("- Calculations   : Image size: %lu. "
+			"Ram to suspend: %ld.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#457: FILE: kernel/power/suspend2_core/suspend.c:427:
+	SNPRINTF("- Limits         : %lu pages RAM. Initial boot: %lu.\n",
+		max_mapnr, suspend2_orig_mem_free);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#459: FILE: kernel/power/suspend2_core/suspend.c:429:
+	SNPRINTF("- Overall expected compression percentage: %d.\n",
+			100 - expected_compression_ratio());

ERROR:TRAILING_WHITESPACE: trailing whitespace
#460: FILE: kernel/power/suspend2_core/suspend.c:430:
+^Ilen+= print_plugin_debug_info(debug_info_buffer + len, $

ERROR:SPACING: spaces required around that '+=' (ctx:VxW)
#460: FILE: kernel/power/suspend2_core/suspend.c:430:
+	len+= print_plugin_debug_info(debug_info_buffer + len, 
 	   ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#475: FILE: kernel/power/suspend2_core/suspend.c:445:
+	SNPRINTF("- Max extents used: %d\n",
+			max_extents_used);

CHECK:BRACES: braces {} should be used on all arms of this statement
#476: FILE: kernel/power/suspend2_core/suspend.c:446:
+	if (suspend_io_time[0][1]) {
[...]
+	else
[...]

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#479: FILE: kernel/power/suspend2_core/suspend.c:449:
+			SNPRINTF("- I/O speed: Write %d KB/s",
+			  (KB((unsigned long) suspend_io_time[0][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#479: FILE: kernel/power/suspend2_core/suspend.c:449:
+			  (KB((unsigned long) suspend_io_time[0][0]) * HZ /

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#483: FILE: kernel/power/suspend2_core/suspend.c:453:
+				SNPRINTF(", Read %d KB/s",
+				  (KB((unsigned long) suspend_io_time[1][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#483: FILE: kernel/power/suspend2_core/suspend.c:453:
+				  (KB((unsigned long) suspend_io_time[1][0]) * HZ /

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#487: FILE: kernel/power/suspend2_core/suspend.c:457:
+			SNPRINTF("- I/O speed: Write %d MB/s",
+			 (MB((unsigned long) suspend_io_time[0][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#487: FILE: kernel/power/suspend2_core/suspend.c:457:
+			 (MB((unsigned long) suspend_io_time[0][0]) * HZ /

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#491: FILE: kernel/power/suspend2_core/suspend.c:461:
+				SNPRINTF(", Read %d MB/s",
+				 (MB((unsigned long) suspend_io_time[1][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#491: FILE: kernel/power/suspend2_core/suspend.c:461:
+				 (MB((unsigned long) suspend_io_time[1][0]) * HZ /

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#496: FILE: kernel/power/suspend2_core/suspend.c:466:
+	}
+	else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#507: FILE: kernel/power/suspend2_core/suspend.c:477:
+int debuginfo_read_proc(char * page, char ** start, off_t off, int count,

ERROR:POINTER_LOCATION: "foo ** bar" should be "foo **bar"
#507: FILE: kernel/power/suspend2_core/suspend.c:477:
+int debuginfo_read_proc(char * page, char ** start, off_t off, int count,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#508: FILE: kernel/power/suspend2_core/suspend.c:478:
+int debuginfo_read_proc(char * page, char ** start, off_t off, int count,
+		int *eof, void *data)

CHECK:SPACING: No space is necessary after a cast
#514: FILE: kernel/power/suspend2_core/suspend.c:484:
+	copy_len = min(info_len - (int) off, count);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#521: FILE: kernel/power/suspend2_core/suspend.c:491:
+^I} $

CHECK:SPACING: No space is necessary after a cast
#526: FILE: kernel/power/suspend2_core/suspend.c:496:
+	free_pages((unsigned long) debug_info_buffer, 0);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#537: FILE: kernel/power/suspend2_core/suspend.c:507:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#554: FILE: kernel/power/suspend2_core/suspend.c:524:
+#endif^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#555: FILE: kernel/power/suspend2_core/suspend.c:525:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#558: FILE: kernel/power/suspend2_core/suspend.c:528:
+^I$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#584: FILE: kernel/power/suspend2_core/suspend.c:554:
+		printk("Image already stored: powering down immediately.");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#589: FILE: kernel/power/suspend2_core/suspend.c:559:
+	printk("Invalidating previous image.\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#599: FILE: kernel/power/suspend2_core/suspend.c:569:
+	printk(name_suspend "Initiating a software suspend cycle.\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#604: FILE: kernel/power/suspend2_core/suspend.c:574:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#605: FILE: kernel/power/suspend2_core/suspend.c:575:
+^Isuspend_io_time[0][0] = suspend_io_time[0][1] = $

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#605: FILE: kernel/power/suspend2_core/suspend.c:575:
+	suspend_io_time[0][0] = suspend_io_time[0][1] = 

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#614: FILE: kernel/power/suspend2_core/suspend.c:584:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#617: FILE: kernel/power/suspend2_core/suspend.c:587:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#623: FILE: kernel/power/suspend2_core/suspend.c:593:
+^I$

ERROR:INLINE_LOCATION: inline keyword should sit between storage class and type
#629: FILE: kernel/power/suspend2_core/suspend.c:599:
+void inline suspend2_cleanup(void)

The inline keyword should sit between storage class and type.

For example, the following segment::

  inline static int example_function(void)
  {
          ...
  }

should be::

  static inline int example_function(void)
  {
          ...
  }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#636: FILE: kernel/power/suspend2_core/suspend.c:606:
+^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#643: FILE: kernel/power/suspend2_core/suspend.c:613:
+		suspend_message(SUSPEND_ANY_SECTION, SUSPEND_LOW, 1,
+			name_suspend "Not invalidating the image due "

WARNING:SPLIT_STRING: quoted string split across lines
#644: FILE: kernel/power/suspend2_core/suspend.c:614:
+			name_suspend "Not invalidating the image due "
+			"to Keep Image being enabled.\n");

CHECK:BRACES: Unbalanced braces around else statement
#646: FILE: kernel/power/suspend2_core/suspend.c:616:
+	} else

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#660: FILE: kernel/power/suspend2_core/suspend.c:630:
+		 * its level mangling. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#662: FILE: kernel/power/suspend2_core/suspend.c:632:
+			printk("%s", debug_info_buffer + (1023 * i));

CHECK:SPACING: No space is necessary after a cast
#663: FILE: kernel/power/suspend2_core/suspend.c:633:
+		free_pages((unsigned long) debug_info_buffer, 0);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#687: FILE: kernel/power/suspend2_core/suspend.c:657:
+ * Called From     : $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#693: FILE: kernel/power/suspend2_core/suspend.c:663:
+^I * If kept image and still keeping image and suspending to RAM, we will $

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#700: FILE: kernel/power/suspend2_core/suspend.c:670:
+	if (suspend2_init() && suspend2_prepare_image() && !TEST_RESULT_STATE(SUSPEND_ABORTED) &&
+		!TEST_ACTION_STATE(SUSPEND_FREEZER_TEST))
+	{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#701: FILE: kernel/power/suspend2_core/suspend.c:671:
+	if (suspend2_init() && suspend2_prepare_image() && !TEST_RESULT_STATE(SUSPEND_ABORTED) &&
+		!TEST_ACTION_STATE(SUSPEND_FREEZER_TEST))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#708: FILE: kernel/power/suspend2_core/suspend.c:678:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#713: FILE: kernel/power/suspend2_core/suspend.c:683:
+ * $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#716: FILE: kernel/power/suspend2_core/suspend.c:686:
+static int image_exists_read(char * page, char ** start, off_t off, int count,

ERROR:POINTER_LOCATION: "foo ** bar" should be "foo **bar"
#716: FILE: kernel/power/suspend2_core/suspend.c:686:
+static int image_exists_read(char * page, char ** start, off_t off, int count,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#717: FILE: kernel/power/suspend2_core/suspend.c:687:
+static int image_exists_read(char * page, char ** start, off_t off, int count,
+		int *eof, void *data)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#720: FILE: kernel/power/suspend2_core/suspend.c:690:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#733: FILE: kernel/power/suspend2_core/suspend.c:703:
+ * $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#736: FILE: kernel/power/suspend2_core/suspend.c:706:
+static int image_exists_write(struct file *file, const char * buffer,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#737: FILE: kernel/power/suspend2_core/suspend.c:707:
+static int image_exists_write(struct file *file, const char * buffer,
+		unsigned long count, void * data)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#737: FILE: kernel/power/suspend2_core/suspend.c:707:
+		unsigned long count, void * data)

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#752: FILE: kernel/power/suspend2_core/suspend.c:722:
+void toggle_thread_nofreeze(void);

WARNING:TABSTOP: Statements should start on a tabstop
#761: FILE: kernel/power/suspend2_core/suspend.c:731:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#762: FILE: kernel/power/suspend2_core/suspend.c:732:
+	  }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#764: FILE: kernel/power/suspend2_core/suspend.c:734:
+^I$

WARNING:TABSTOP: Statements should start on a tabstop
#772: FILE: kernel/power/suspend2_core/suspend.c:742:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#773: FILE: kernel/power/suspend2_core/suspend.c:743:
+	  }

WARNING:TABSTOP: Statements should start on a tabstop
#784: FILE: kernel/power/suspend2_core/suspend.c:754:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#785: FILE: kernel/power/suspend2_core/suspend.c:755:
+	  }

WARNING:TABSTOP: Statements should start on a tabstop
#794: FILE: kernel/power/suspend2_core/suspend.c:764:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#795: FILE: kernel/power/suspend2_core/suspend.c:765:
+	  }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#797: FILE: kernel/power/suspend2_core/suspend.c:767:
+^I$

WARNING:TABSTOP: Statements should start on a tabstop
#805: FILE: kernel/power/suspend2_core/suspend.c:775:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#806: FILE: kernel/power/suspend2_core/suspend.c:776:
+	  }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#808: FILE: kernel/power/suspend2_core/suspend.c:778:
+^I  $

WARNING:TABSTOP: Statements should start on a tabstop
#816: FILE: kernel/power/suspend2_core/suspend.c:786:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#828: FILE: kernel/power/suspend2_core/suspend.c:798:
+		  }

CHECK:LINE_SPACING: Please don't use multiple blank lines
#833: FILE: kernel/power/suspend2_core/suspend.c:803:
+
+

WARNING:TABSTOP: Statements should start on a tabstop
#842: FILE: kernel/power/suspend2_core/suspend.c:812:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#853: FILE: kernel/power/suspend2_core/suspend.c:823:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#854: FILE: kernel/power/suspend2_core/suspend.c:824:
+	  }

WARNING:TABSTOP: Statements should start on a tabstop
#865: FILE: kernel/power/suspend2_core/suspend.c:835:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#866: FILE: kernel/power/suspend2_core/suspend.c:836:
+	  }

WARNING:TABSTOP: Statements should start on a tabstop
#876: FILE: kernel/power/suspend2_core/suspend.c:846:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#877: FILE: kernel/power/suspend2_core/suspend.c:847:
+	  }

WARNING:TABSTOP: Statements should start on a tabstop
#887: FILE: kernel/power/suspend2_core/suspend.c:857:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#888: FILE: kernel/power/suspend2_core/suspend.c:858:
+	  }

WARNING:TABSTOP: Statements should start on a tabstop
#898: FILE: kernel/power/suspend2_core/suspend.c:868:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#899: FILE: kernel/power/suspend2_core/suspend.c:869:
+	  }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#901: FILE: kernel/power/suspend2_core/suspend.c:871:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#903: FILE: kernel/power/suspend2_core/suspend.c:873:
+^I  $

WARNING:TABSTOP: Statements should start on a tabstop
#913: FILE: kernel/power/suspend2_core/suspend.c:883:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#914: FILE: kernel/power/suspend2_core/suspend.c:884:
+	  }

WARNING:TABSTOP: Statements should start on a tabstop
#926: FILE: kernel/power/suspend2_core/suspend.c:896:
+		  }

WARNING:TABSTOP: Statements should start on a tabstop
#927: FILE: kernel/power/suspend2_core/suspend.c:897:
+	  }

CHECK:LINE_SPACING: Please don't use multiple blank lines
#932: FILE: kernel/power/suspend2_core/suspend.c:902:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#944: FILE: kernel/power/suspend2_core/suspend.c:914:
+		printk(KERN_WARNING name_suspend

WARNING:SPLIT_STRING: quoted string split across lines
#946: FILE: kernel/power/suspend2_core/suspend.c:916:
+			"The size of swp_entry_t != size of long. "
+			"Please report this!\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#949: FILE: kernel/power/suspend2_core/suspend.c:919:
+^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#951: FILE: kernel/power/suspend2_core/suspend.c:921:
+		printk(KERN_WARNING name_suspend

WARNING:SPLIT_STRING: quoted string split across lines
#953: FILE: kernel/power/suspend2_core/suspend.c:923:
+			"You need to use a resume2= command line parameter to "
+			"tell Software Suspend 2 where to look for an image.\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#959: FILE: kernel/power/suspend2_core/suspend.c:929:
+^I^I/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#960: FILE: kernel/power/suspend2_core/suspend.c:930:
+^I^I * Without a usable storage device we can do nothing - $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_alert([subsystem]dev, ... then dev_alert(dev, ... then pr_alert(...  to printk(KERN_ALERT ...
#965: FILE: kernel/power/suspend2_core/suspend.c:935:
+			printk(KERN_ALERT name_suspend

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_alert([subsystem]dev, ... then dev_alert(dev, ... then pr_alert(...  to printk(KERN_ALERT ...
#968: FILE: kernel/power/suspend2_core/suspend.c:938:
+			printk(KERN_ALERT name_suspend

WARNING:SPLIT_STRING: quoted string split across lines
#970: FILE: kernel/power/suspend2_core/suspend.c:940:
+				"Missing or invalid storage location "
+				"(resume2= parameter). Please correct and "

WARNING:SPLIT_STRING: quoted string split across lines
#971: FILE: kernel/power/suspend2_core/suspend.c:941:
+				"(resume2= parameter). Please correct and "
+				"rerun lilo (or equivalent) before "

WARNING:SPLIT_STRING: quoted string split across lines
#972: FILE: kernel/power/suspend2_core/suspend.c:942:
+				"rerun lilo (or equivalent) before "
+				"suspending.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#984: FILE: kernel/power/suspend2_core/suspend.c:954:
+		printk(KERN_WARNING name_suspend "Resuming disabled as requested.\n");

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#995: FILE: kernel/power/suspend2_core/suspend.c:965:
+	BUG();

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1001: FILE: kernel/power/suspend2_core/suspend.c:971:
+extern void suspend2_schedule_message(int message_number);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1007: FILE: kernel/power/suspend2_core/suspend.c:977:
+	printk("Software Suspend Core.\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1008: FILE: kernel/power/suspend2_core/suspend.c:978:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1010: FILE: kernel/power/suspend2_core/suspend.c:980:
+^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1011: FILE: kernel/power/suspend2_core/suspend.c:981:
+	for (i=0; i< numfiles; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxW)
#1011: FILE: kernel/power/suspend2_core/suspend.c:981:
+	for (i=0; i< numfiles; i++)
 	           ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1021: FILE: kernel/power/suspend2_core/suspend.c:991:
+^I/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1025: FILE: kernel/power/suspend2_core/suspend.c:995:
+^I$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1030: FILE: kernel/power/suspend2_core/suspend.c:1000:
+		printk(name_suspend "Software suspend is disabled.\n"

WARNING:SPLIT_STRING: quoted string split across lines
#1032: FILE: kernel/power/suspend2_core/suspend.c:1002:
+			"This may be because you haven't put something along the "
+			"lines of\n\nresume2=swap:/dev/hda1\n\n"

WARNING:SPLIT_STRING: quoted string split across lines
#1034: FILE: kernel/power/suspend2_core/suspend.c:1004:
+			"in lilo.conf or equivalent. (Where /dev/hda1 is your "
+			"swap partition).\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1038: FILE: kernel/power/suspend2_core/suspend.c:1008:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1049: FILE: kernel/power/suspend2_core/suspend.c:1019:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1066: FILE: kernel/power/suspend2_core/suspend.c:1036:
+^I/* $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1079: FILE: kernel/power/suspend2_core/suspend.c:1049:
+ * ^I^I^Imay be corrupted by resuming. Display them if needsbe.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1080: FILE: kernel/power/suspend2_core/suspend.c:1050:
+ * ^I^I^IOn exit, CONTINUE_REQ is set if we can continue resuming.$

CHECK:SPACING: No space is necessary after a cast
#1086: FILE: kernel/power/suspend2_core/suspend.c:1056:
+		char *buffer = (char *) get_zeroed_page(GFP_ATOMIC);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1087: FILE: kernel/power/suspend2_core/suspend.c:1057:
+		char *buffer = (char *) get_zeroed_page(GFP_ATOMIC);
+		get_S4_resume_unsafe_mounts(buffer, PAGE_SIZE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1089: FILE: kernel/power/suspend2_core/suspend.c:1059:
+		suspend_early_boot_message(1, 0,
+			"You have filesystems mounted that may make resuming unsafe:\n %s", buffer);

CHECK:SPACING: No space is necessary after a cast
#1090: FILE: kernel/power/suspend2_core/suspend.c:1060:
+		free_pages((unsigned long) buffer, 0);

WARNING:RETURN_VOID: void function return statements are not generally useful
#1096: FILE: kernel/power/suspend2_core/suspend.c:1066:
+	return;
+}

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1101: FILE: kernel/power/suspend2_core/suspend.c:1071:
+ * ^I^I     enabled before invoking the high level routine.$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!str"
#1134: FILE: kernel/power/suspend2_core/suspend.c:1104:
+	if (str == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1136: FILE: kernel/power/suspend2_core/suspend.c:1106:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#1146: FILE: kernel/power/suspend2_core/suspend.c:1116:
+	if(str)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1147: FILE: kernel/power/suspend2_core/suspend.c:1117:
+		suspend_action=simple_strtol(str,NULL,0);
 		              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1147: FILE: kernel/power/suspend2_core/suspend.c:1117:
+		suspend_action=simple_strtol(str,NULL,0);
 		                                ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1147: FILE: kernel/power/suspend2_core/suspend.c:1117:
+		suspend_action=simple_strtol(str,NULL,0);
 		                                     ^

WARNING:CONSIDER_KSTRTO: simple_strtol is obsolete, use kstrtol instead
#1147: FILE: kernel/power/suspend2_core/suspend.c:1117:
+		suspend_action=simple_strtol(str,NULL,0);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#1174: FILE: kernel/power/suspend2_core/suspend.c:1144:
+__setup("resume2=", resume_setup);

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#1175: FILE: kernel/power/suspend2_core/suspend.c:1145:
+__setup("suspend_act=", suspend_act_setup);

ERROR:SPACING: space required before the open parenthesis '('
#1181: FILE: kernel/power/suspend2_core/suspend.c:1151:
+	if(str)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1182: FILE: kernel/power/suspend2_core/suspend.c:1152:
+		suspend_debug_state=simple_strtol(str,NULL,0);
 		                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1182: FILE: kernel/power/suspend2_core/suspend.c:1152:
+		suspend_debug_state=simple_strtol(str,NULL,0);
 		                                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1182: FILE: kernel/power/suspend2_core/suspend.c:1152:
+		suspend_debug_state=simple_strtol(str,NULL,0);
 		                                          ^

WARNING:CONSIDER_KSTRTO: simple_strtol is obsolete, use kstrtol instead
#1182: FILE: kernel/power/suspend2_core/suspend.c:1152:
+		suspend_debug_state=simple_strtol(str,NULL,0);

ERROR:SPACING: space required before the open parenthesis '('
#1193: FILE: kernel/power/suspend2_core/suspend.c:1163:
+	if(str)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1195: FILE: kernel/power/suspend2_core/suspend.c:1165:
+^I^Isuspend_default_console_level = $

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1196: FILE: kernel/power/suspend2_core/suspend.c:1166:
+			simple_strtol(str,NULL,0);
 			                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1196: FILE: kernel/power/suspend2_core/suspend.c:1166:
+			simple_strtol(str,NULL,0);
 			                      ^

WARNING:CONSIDER_KSTRTO: simple_strtol is obsolete, use kstrtol instead
#1196: FILE: kernel/power/suspend2_core/suspend.c:1166:
+			simple_strtol(str,NULL,0);

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#1202: FILE: kernel/power/suspend2_core/suspend.c:1172:
+__setup("suspend_dbg=", suspend_dbg_setup);

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#1203: FILE: kernel/power/suspend2_core/suspend.c:1173:
+__setup("suspend_lvl=", suspend_lvl_setup);

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#1206: FILE: kernel/power/suspend2_core/suspend.c:1176:
+__setup("noresume2", noresume_setup);

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#1207: FILE: kernel/power/suspend2_core/suspend.c:1177:
+__setup("suspend_retry_resume", suspend2_retry_resume_setup);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1210: FILE: kernel/power/suspend2_core/suspend.c:1180:
+EXPORT_SYMBOL(software_suspend_state);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000170360.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 93 errors, 80 warnings, 42 checks, 1180 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000170360.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
