WARNING:BAD_SIGN_OFF: Do not use whitespace before Signed-off-by:
#34: 
         Signed-off-by: Alex Aizman <itn780@yahoo.com>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:BAD_SIGN_OFF: Do not use whitespace before Signed-off-by:
#35: 
         Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#55: FILE: drivers/scsi/iscsi_if.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:SPLIT_STRING: quoted string split across lines
#80: FILE: drivers/scsi/iscsi_if.c:26:
+MODULE_AUTHOR("Dmitry Yusupov <dmitry_yus@yahoo.com>, "
+	      "Alex Aizman <itn780@yahoo.com>");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#90: FILE: drivers/scsi/iscsi_if.c:36:
+iscsi_control_recv_pdu(iscsi_cnx_h cp_cnx, struct iscsi_hdr *hdr,
+				char *data, uint32_t data_size)

WARNING:BRACES: braces {} are not necessary for single statement blocks
#100: FILE: drivers/scsi/iscsi_if.c:46:
+	if (!skb) {
+		return -ENOMEM;
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#110: FILE: drivers/scsi/iscsi_if.c:56:
+	pdu = (char*)ev + sizeof(*ev);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BRACES: braces {} are not necessary for single statement blocks
#128: FILE: drivers/scsi/iscsi_if.c:74:
+	if (!skb) {
+		return;
+	}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#154: FILE: drivers/scsi/iscsi_if.c:100:
+iscsi_if_send_reply(int pid, int seq, int type, int done, int multi,
+		      void *payload, int size)

WARNING:BRACES: braces {} are not necessary for single statement blocks
#163: FILE: drivers/scsi/iscsi_if.c:109:
+	if (!skb) {
+		return -ENOMEM;
+	}

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#181: FILE: drivers/scsi/iscsi_if.c:127:
+	if ((transport = iscsi_if_transport_lookup(ev->transport_id)) == NULL)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#188: FILE: drivers/scsi/iscsi_if.c:134:
+		ev->r.c_session_ret.handle = transport->create_session(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#193: FILE: drivers/scsi/iscsi_if.c:139:
+		transport->destroy_session(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#197: FILE: drivers/scsi/iscsi_if.c:143:
+		ev->r.handle = transport->create_cnx(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#206: FILE: drivers/scsi/iscsi_if.c:152:
+		ev->r.retcode = transport->bind_cnx(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#213: FILE: drivers/scsi/iscsi_if.c:159:
+		ev->r.retcode = transport->set_param(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#218: FILE: drivers/scsi/iscsi_if.c:164:
+		ev->r.retcode = transport->start_cnx(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#222: FILE: drivers/scsi/iscsi_if.c:168:
+		transport->stop_cnx(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#226: FILE: drivers/scsi/iscsi_if.c:172:
+		ev->r.retcode = transport->send_pdu(

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#228: FILE: drivers/scsi/iscsi_if.c:174:
+		       (struct iscsi_hdr*)((char*)ev + sizeof(*ev)),

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#228: FILE: drivers/scsi/iscsi_if.c:174:
+		       (struct iscsi_hdr*)((char*)ev + sizeof(*ev)),

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#229: FILE: drivers/scsi/iscsi_if.c:175:
+		       (char*)ev + sizeof(*ev) + ev->u.send_pdu.hdr_size,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#242: FILE: drivers/scsi/iscsi_if.c:188:
+ * discarded silently.  */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:LINE_SPACING: Missing a blank line after declarations
#247: FILE: drivers/scsi/iscsi_if.c:193:
+	struct sk_buff *skb;
+	while ((skb = skb_dequeue(&sk->sk_receive_queue)) != NULL) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#250: FILE: drivers/scsi/iscsi_if.c:196:
+			uint32_t rlen;

WARNING:LINE_SPACING: Missing a blank line after declarations
#268: FILE: drivers/scsi/iscsi_if.c:214:
+				struct iscsi_uevent *ev = NLMSG_DATA(nlh);
+				err = iscsi_if_send_reply(pid, seq,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#269: FILE: drivers/scsi/iscsi_if.c:215:
+				err = iscsi_if_send_reply(pid, seq,
+					nlh->nlmsg_type, 0, 0, ev, sizeof(*ev));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#294: FILE: drivers/scsi/iscsi_if.c:240:
+	printk(KERN_INFO "Open-iSCSI Interface, version "

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!nls"
#298: FILE: drivers/scsi/iscsi_if.c:244:
+	if (nls == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#316: FILE: drivers/scsi/iscsi_tcp.c:1:
+/*

WARNING:SPLIT_STRING: quoted string split across lines
#359: FILE: drivers/scsi/iscsi_tcp.c:44:
+MODULE_AUTHOR("Dmitry Yusupov <dmitry_yus@yahoo.com>, "
+	      "Alex Aizman <itn780@yahoo.com>");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#368: FILE: drivers/scsi/iscsi_tcp.c:53:
+#define debug_tcp(fmt...) printk("tcp: " fmt)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#374: FILE: drivers/scsi/iscsi_tcp.c:59:
+#define debug_scsi(fmt...) printk("scsi: " fmt)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#380: FILE: drivers/scsi/iscsi_tcp.c:65:
+#ifdef BUG_ON

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#381: FILE: drivers/scsi/iscsi_tcp.c:66:
+#undef BUG_ON

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#383: FILE: drivers/scsi/iscsi_tcp.c:68:
+#define BUG_ON(expr)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#411: FILE: drivers/scsi/iscsi_tcp.c:96:
+	BUG_ON(rc < 0);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#428: FILE: drivers/scsi/iscsi_tcp.c:113:
+#define iscsi_conn_get(rdd) (struct iscsi_conn*)(rdd)->arg.data

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#428: FILE: drivers/scsi/iscsi_tcp.c:113:
+#define iscsi_conn_get(rdd) (struct iscsi_conn*)(rdd)->arg.data

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!frag_list"
#442: FILE: drivers/scsi/iscsi_tcp.c:127:
+		if (skb_shinfo(skb)->frag_list == NULL &&

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#445: FILE: drivers/scsi/iscsi_tcp.c:130:
+				((char*)skb->data + conn->in.offset);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#448: FILE: drivers/scsi/iscsi_tcp.c:133:
+			 * in.copy before */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#450: FILE: drivers/scsi/iscsi_tcp.c:135:
+			skb_copy_bits(skb, conn->in.offset,
+				&conn->hdr, conn->hdr_size);

WARNING:TYPO_SPELLING: 'accross' may be misspelled - perhaps 'across'?
#460: FILE: drivers/scsi/iscsi_tcp.c:145:
+		 * PDU header scattered accross SKB's,
 		                        ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#465: FILE: drivers/scsi/iscsi_tcp.c:150:
+			skb_copy_bits(skb, conn->in.offset,
+				&conn->hdr, conn->in.copy);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#471: FILE: drivers/scsi/iscsi_tcp.c:156:
+			debug_tcp("PDU gather #1 %d bytes!\n",
+			       conn->in.hdr_offset);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#477: FILE: drivers/scsi/iscsi_tcp.c:162:
+			printk("iSCSI: PDU gather failed! "

WARNING:SPLIT_STRING: quoted string split across lines
#478: FILE: drivers/scsi/iscsi_tcp.c:163:
+			printk("iSCSI: PDU gather failed! "
+			       "copylen %d conn->in.copy %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#487: FILE: drivers/scsi/iscsi_tcp.c:172:
+		skb_copy_bits(skb, conn->in.offset,
+		    (char*)&conn->hdr + conn->in.hdr_offset, copylen);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#487: FILE: drivers/scsi/iscsi_tcp.c:172:
+		    (char*)&conn->hdr + conn->in.hdr_offset, copylen);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#520: FILE: drivers/scsi/iscsi_tcp.c:205:
+	__kfifo_put(session->cmdpool.queue, (void*)&ctask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#520: FILE: drivers/scsi/iscsi_tcp.c:205:
+	__kfifo_put(session->cmdpool.queue, (void*)&ctask, sizeof(void*));

ERROR:SPACING: space prohibited before that close parenthesis ')'
#557: FILE: drivers/scsi/iscsi_tcp.c:242:
+		if (sc->sc_data_direction != DMA_TO_DEVICE ) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#560: FILE: drivers/scsi/iscsi_tcp.c:245:
+				int res_count = ntohl(rhdr->residual_count);
+				if (res_count > 0 &&

CHECK:SPACING: spaces preferred around that '&' (ctx:VxW)
#569: FILE: drivers/scsi/iscsi_tcp.c:254:
+			} else if (rhdr->flags& ISCSI_FLAG_CMD_BIDI_UNDERFLOW) {
 			                      ^

CHECK:SPACING: spaces preferred around that '-' (ctx:WxV)
#612: FILE: drivers/scsi/iscsi_tcp.c:297:
+	if (max_cmdsn < exp_cmdsn -1)
 	                          ^

WARNING:BRACES: braces {} are not necessary for single statement blocks
#624: FILE: drivers/scsi/iscsi_tcp.c:309:
+	if (ctask->data_offset + conn->in.datalen > ctask->total_length) {
+		return ISCSI_ERR_DATA_OFFSET;
+	}

WARNING:LINE_SPACING: Missing a blank line after declarations
#630: FILE: drivers/scsi/iscsi_tcp.c:315:
+		struct scsi_cmnd *sc = ctask->sc;
+		conn->exp_statsn = ntohl(rhdr->statsn) + 1;

WARNING:LINE_SPACING: Missing a blank line after declarations
#633: FILE: drivers/scsi/iscsi_tcp.c:318:
+			int res_count = ntohl(rhdr->residual_count);
+			if (res_count > 0 &&

CHECK:SPACING: spaces preferred around that '&' (ctx:VxW)
#641: FILE: drivers/scsi/iscsi_tcp.c:326:
+		} else if (rhdr->flags& ISCSI_FLAG_CMD_BIDI_UNDERFLOW) {
 		                      ^

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#671: FILE: drivers/scsi/iscsi_tcp.c:356:
+	hdr->rsvd2[0] = hdr->rsvd2[1] = hdr->rsvd3 =

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#672: FILE: drivers/scsi/iscsi_tcp.c:357:
+		hdr->rsvd4 = hdr->rsvd5 = hdr->rsvd6 = 0;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#694: FILE: drivers/scsi/iscsi_tcp.c:379:
+	iscsi_buf_init_hdr(conn, &r2t->headbuf, (char*)hdr,

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#723: FILE: drivers/scsi/iscsi_tcp.c:408:
+		BUG_ON(r2t->sg == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!r2t->sg"
#723: FILE: drivers/scsi/iscsi_tcp.c:408:
+		BUG_ON(r2t->sg == NULL);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#726: FILE: drivers/scsi/iscsi_tcp.c:411:
+		iscsi_buf_init_virt(&ctask->sendbuf,
+			    (char*)sc->request_buffer + r2t->data_offset,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#726: FILE: drivers/scsi/iscsi_tcp.c:411:
+			    (char*)sc->request_buffer + r2t->data_offset,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#742: FILE: drivers/scsi/iscsi_tcp.c:427:
+	uint32_t max_cmdsn = ntohl(rhdr->max_cmdsn);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#743: FILE: drivers/scsi/iscsi_tcp.c:428:
+	uint32_t exp_cmdsn = ntohl(rhdr->exp_cmdsn);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#764: FILE: drivers/scsi/iscsi_tcp.c:449:
+	if (!__kfifo_get(ctask->r2tpool.queue, (void*)&r2t, sizeof(void*))) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#764: FILE: drivers/scsi/iscsi_tcp.c:449:
+	if (!__kfifo_get(ctask->r2tpool.queue, (void*)&r2t, sizeof(void*))) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#764: FILE: drivers/scsi/iscsi_tcp.c:449:
+	if (!__kfifo_get(ctask->r2tpool.queue, (void*)&r2t, sizeof(void*))) {
+		return ISCSI_ERR_PROTO;
+	}

WARNING:BRACES: braces {} are not necessary for single statement blocks
#773: FILE: drivers/scsi/iscsi_tcp.c:458:
+	if (ctask->hdr.lun[1] != rhdr->lun[1]) {
+		return ISCSI_ERR_LUN;
+	}

WARNING:BRACES: braces {} are not necessary for single statement blocks
#777: FILE: drivers/scsi/iscsi_tcp.c:462:
+	if (r2t->data_offset + r2t->data_length > ctask->total_length) {
+		return ISCSI_ERR_DATALEN;
+	}

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#787: FILE: drivers/scsi/iscsi_tcp.c:472:
+	__kfifo_put(ctask->r2tqueue, (void*)&r2t, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#787: FILE: drivers/scsi/iscsi_tcp.c:472:
+	__kfifo_put(ctask->r2tqueue, (void*)&r2t, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#788: FILE: drivers/scsi/iscsi_tcp.c:473:
+	__kfifo_put(conn->writequeue, (void*)&ctask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#788: FILE: drivers/scsi/iscsi_tcp.c:473:
+	__kfifo_put(conn->writequeue, (void*)&ctask, sizeof(void*));

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#801: FILE: drivers/scsi/iscsi_tcp.c:486:
+	uint32_t cdgst, rdgst = 0;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#808: FILE: drivers/scsi/iscsi_tcp.c:493:
+		printk("iSCSI: datalen %d > %d\n", conn->in.datalen,

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#816: FILE: drivers/scsi/iscsi_tcp.c:501:
+	conn->in.ahslen = hdr->hlength*(4*sizeof(__u16));
 	                              ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#816: FILE: drivers/scsi/iscsi_tcp.c:501:
+	conn->in.ahslen = hdr->hlength*(4*sizeof(__u16));
 	                                 ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#820: FILE: drivers/scsi/iscsi_tcp.c:505:
+		printk("iSCSI: can't handle AHS with length %d bytes\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#827: FILE: drivers/scsi/iscsi_tcp.c:512:
+	conn->in.padding = conn->in.datalen & (ISCSI_PAD_LEN-1);
 	                                                    ^

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#841: FILE: drivers/scsi/iscsi_tcp.c:526:
+		rdgst = *(uint32_t*)((char*)hdr + sizeof(struct iscsi_hdr) +

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#841: FILE: drivers/scsi/iscsi_tcp.c:526:
+		rdgst = *(uint32_t*)((char*)hdr + sizeof(struct iscsi_hdr) +

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#855: FILE: drivers/scsi/iscsi_tcp.c:540:
+			printk("iSCSI: itt %x: hdrdgst error recv 0x%x "

WARNING:SPLIT_STRING: quoted string split across lines
#856: FILE: drivers/scsi/iscsi_tcp.c:541:
+			printk("iSCSI: itt %x: hdrdgst error recv 0x%x "
+			       "calc 0x%x\n", conn->in.itt, rdgst, cdgst);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#863: FILE: drivers/scsi/iscsi_tcp.c:548:
+		BUG_ON(ctask != (void*)ctask->sc->SCp.ptr);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#863: FILE: drivers/scsi/iscsi_tcp.c:548:
+		BUG_ON(ctask != (void*)ctask->sc->SCp.ptr);

CHECK:CAMELCASE: Avoid CamelCase: <SCp>
#863: FILE: drivers/scsi/iscsi_tcp.c:548:
+		BUG_ON(ctask != (void*)ctask->sc->SCp.ptr);

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

ERROR:SPACING: space required before the open parenthesis '('
#870: FILE: drivers/scsi/iscsi_tcp.c:555:
+		switch(conn->in.opcode) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#879: FILE: drivers/scsi/iscsi_tcp.c:564:
+					 * placeholder */

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#892: FILE: drivers/scsi/iscsi_tcp.c:577:
+				((struct iscsi_data_rsp*)hdr)->cmd_status;

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#908: FILE: drivers/scsi/iscsi_tcp.c:593:
+				rc = iscsi_control_recv_pdu(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#916: FILE: drivers/scsi/iscsi_tcp.c:601:
+					__kfifo_put(session->immpool.queue,
+					    (void*)&mtask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#916: FILE: drivers/scsi/iscsi_tcp.c:601:
+					    (void*)&mtask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#916: FILE: drivers/scsi/iscsi_tcp.c:601:
+					    (void*)&mtask, sizeof(void*));

ERROR:SPACING: space required before the open parenthesis '('
#936: FILE: drivers/scsi/iscsi_tcp.c:621:
+		switch(conn->in.opcode) {

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#940: FILE: drivers/scsi/iscsi_tcp.c:625:
+				rc = iscsi_control_recv_pdu(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#945: FILE: drivers/scsi/iscsi_tcp.c:630:
+					__kfifo_put(session->immpool.queue,
+					    (void*)&mtask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#945: FILE: drivers/scsi/iscsi_tcp.c:630:
+					    (void*)&mtask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#945: FILE: drivers/scsi/iscsi_tcp.c:630:
+					    (void*)&mtask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#956: FILE: drivers/scsi/iscsi_tcp.c:641:
+			__kfifo_put(session->immpool.queue, (void*)&mtask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#957: FILE: drivers/scsi/iscsi_tcp.c:642:
+				    sizeof(void*));

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#972: FILE: drivers/scsi/iscsi_tcp.c:657:
+			rc = iscsi_control_recv_pdu(

WARNING:TYPO_SPELLING: 'destanation' may be misspelled - perhaps 'destination'?
#985: FILE: drivers/scsi/iscsi_tcp.c:670:
+ * iscsi_ctask_copy - copy skb bits to the destanation cmd task
                                            ^^^^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#992: FILE: drivers/scsi/iscsi_tcp.c:677:
+iscsi_ctask_copy(struct iscsi_conn *conn, struct iscsi_cmd_task *ctask,
+		void *buf, int buf_size)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1014: FILE: drivers/scsi/iscsi_tcp.c:699:
+	debug_tcp("ctask_copy %d bytes at offset %d copied %d\n",
+	       size, conn->in.offset, conn->in.copied);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1016: FILE: drivers/scsi/iscsi_tcp.c:701:
+	BUG_ON(size <= 0);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1017: FILE: drivers/scsi/iscsi_tcp.c:702:
+	BUG_ON(ctask->sent + size > ctask->total_length);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1020: FILE: drivers/scsi/iscsi_tcp.c:705:
+			   (char*)buf + conn->data_copied, size);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1022: FILE: drivers/scsi/iscsi_tcp.c:707:
+	BUG_ON(rc);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1031: FILE: drivers/scsi/iscsi_tcp.c:716:
+	BUG_ON(conn->in.copy < 0);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1032: FILE: drivers/scsi/iscsi_tcp.c:717:
+	BUG_ON(ctask->data_count < 0);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1036: FILE: drivers/scsi/iscsi_tcp.c:721:
+			BUG_ON(buf_size - conn->data_copied < 0);

WARNING:TYPO_SPELLING: 'destanation' may be misspelled - perhaps 'destination'?
#1049: FILE: drivers/scsi/iscsi_tcp.c:734:
+ * iscsi_tcp_copy - copy skb bits to the destanation buffer
                                          ^^^^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1061: FILE: drivers/scsi/iscsi_tcp.c:746:
+	debug_tcp("tcp_copy %d bytes at offset %d copied %d\n",
+	       size, conn->in.offset, conn->data_copied);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1062: FILE: drivers/scsi/iscsi_tcp.c:747:
+	BUG_ON(size <= 0);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1065: FILE: drivers/scsi/iscsi_tcp.c:750:
+			   (char*)buf + conn->data_copied, size);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1066: FILE: drivers/scsi/iscsi_tcp.c:751:
+	BUG_ON(rc);

ERROR:SPACING: space required before the open parenthesis '('
#1085: FILE: drivers/scsi/iscsi_tcp.c:770:
+	switch(conn->in.opcode) {

WARNING:TABSTOP: Statements should start on a tabstop
#1087: FILE: drivers/scsi/iscsi_tcp.c:772:
+	    struct iscsi_cmd_task *ctask = conn->in.ctask;

WARNING:TABSTOP: Statements should start on a tabstop
#1088: FILE: drivers/scsi/iscsi_tcp.c:773:
+	    struct scsi_cmnd *sc = ctask->sc;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1089: FILE: drivers/scsi/iscsi_tcp.c:774:
+	    struct scsi_cmnd *sc = ctask->sc;
+	    BUG_ON(!(ctask->in_progress & IN_PROGRESS_READ &&

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1089: FILE: drivers/scsi/iscsi_tcp.c:774:
+	    BUG_ON(!(ctask->in_progress & IN_PROGRESS_READ &&

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1091: FILE: drivers/scsi/iscsi_tcp.c:776:
+	    BUG_ON(ctask != (void*)sc->SCp.ptr);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1091: FILE: drivers/scsi/iscsi_tcp.c:776:
+	    BUG_ON(ctask != (void*)sc->SCp.ptr);

WARNING:TABSTOP: Statements should start on a tabstop
#1096: FILE: drivers/scsi/iscsi_tcp.c:781:
+	    if (sc->use_sg) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1111: FILE: drivers/scsi/iscsi_tcp.c:796:
+			if (!rc) {
+				ctask->sg_count++;
+			}

WARNING:TABSTOP: Statements should start on a tabstop
#1123: FILE: drivers/scsi/iscsi_tcp.c:808:
+	    } else {

WARNING:TABSTOP: Statements should start on a tabstop
#1129: FILE: drivers/scsi/iscsi_tcp.c:814:
+	    }

WARNING:TABSTOP: Statements should start on a tabstop
#1132: FILE: drivers/scsi/iscsi_tcp.c:817:
+	    if (conn->in.flags & ISCSI_FLAG_DATA_STATUS) {

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (12, 20)
#1132: FILE: drivers/scsi/iscsi_tcp.c:817:
+	    if (conn->in.flags & ISCSI_FLAG_DATA_STATUS) {
+		    debug_scsi("done [sc %lx res %d itt 0x%x]\n",

WARNING:TABSTOP: Statements should start on a tabstop
#1138: FILE: drivers/scsi/iscsi_tcp.c:823:
+	    }

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1180: FILE: drivers/scsi/iscsi_tcp.c:865:
+		rc = iscsi_control_recv_pdu(conn->handle,
+				conn->in.hdr, conn->data, conn->in.datalen);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1184: FILE: drivers/scsi/iscsi_tcp.c:869:
+			__kfifo_put(session->immpool.queue, (void*)&mtask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1185: FILE: drivers/scsi/iscsi_tcp.c:870:
+				    sizeof(void*));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1191: FILE: drivers/scsi/iscsi_tcp.c:876:
+		BUG_ON(1);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1202: FILE: drivers/scsi/iscsi_tcp.c:887:
+iscsi_tcp_data_recv(read_descriptor_t *rd_desc, struct sk_buff *skb,
+		unsigned int offset, size_t len)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1216: FILE: drivers/scsi/iscsi_tcp.c:901:
+	BUG_ON(conn->in.copy <= 0);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1236: FILE: drivers/scsi/iscsi_tcp.c:921:
+			printk("iSCSI: bad hdr rc (%d)\n", rc);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1244: FILE: drivers/scsi/iscsi_tcp.c:929:
+	    conn->in.copy) {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1246: FILE: drivers/scsi/iscsi_tcp.c:931:
+		debug_tcp("data_recv offset %d copy %d\n",
+		       conn->in.offset, conn->in.copy);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1255: FILE: drivers/scsi/iscsi_tcp.c:940:
+			printk("iSCSI: bad data rc (%d)\n", rc);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1265: FILE: drivers/scsi/iscsi_tcp.c:950:
+	debug_tcp("f, processed %d from out of %d padding %d\n",
+	       conn->in.offset - offset, len, conn->in.padding);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1266: FILE: drivers/scsi/iscsi_tcp.c:951:
+	BUG_ON(conn->in.offset - offset > len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1270: FILE: drivers/scsi/iscsi_tcp.c:955:
+		debug_tcp("continue to process %d bytes\n",
+		       len - (conn->in.offset - offset));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1275: FILE: drivers/scsi/iscsi_tcp.c:960:
+	BUG_ON(conn->in.offset - offset == 0);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1280: FILE: drivers/scsi/iscsi_tcp.c:965:
+^I          conn->in.offset - offset, len, rd_desc->count);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1281: FILE: drivers/scsi/iscsi_tcp.c:966:
+	BUG_ON(conn->in.offset - offset == 0);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1282: FILE: drivers/scsi/iscsi_tcp.c:967:
+	BUG_ON(conn->in.offset - offset > len);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1290: FILE: drivers/scsi/iscsi_tcp.c:975:
+	struct iscsi_conn *conn = (struct iscsi_conn*)sk->sk_user_data;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1306: FILE: drivers/scsi/iscsi_tcp.c:991:
+	struct iscsi_conn *conn = (struct iscsi_conn*)sk->sk_user_data;

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'iscsi_tcp_state_change', this function's name, in a string
#1311: FILE: drivers/scsi/iscsi_tcp.c:996:
+		debug_tcp("iscsi_tcp_state_change: TCP_CLOSE\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1330: FILE: drivers/scsi/iscsi_tcp.c:1015:
+	struct iscsi_conn *conn = (struct iscsi_conn*)sk->sk_user_data;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1331: FILE: drivers/scsi/iscsi_tcp.c:1016:
+	struct iscsi_conn *conn = (struct iscsi_conn*)sk->sk_user_data;
+	conn->old_write_space(sk);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'iscsi_write_space', this function's name, in a string
#1332: FILE: drivers/scsi/iscsi_tcp.c:1017:
+	debug_tcp("iscsi_write_space: cid %d\n", conn->id);

WARNING:MEMORY_BARRIER: memory barrier without comment
#1333: FILE: drivers/scsi/iscsi_tcp.c:1018:
+	conn->suspend = 0; wmb();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1382: FILE: drivers/scsi/iscsi_tcp.c:1067:
+	BUG_ON(buf->sent + size > buf->sg.length);

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1383: FILE: drivers/scsi/iscsi_tcp.c:1068:
+	if (buf->sent + size != buf->sg.length) {
+		flags |= MSG_MORE;
+	}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1390: FILE: drivers/scsi/iscsi_tcp.c:1075:
+	debug_tcp("sendhdr %lx %d bytes at offset %d sent %d res %d\n",
+		(long)page_address(buf->sg.page), size, offset, buf->sent, res);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct socket *' should also have an identifier name
#1414: FILE: drivers/scsi/iscsi_tcp.c:1099:
+	ssize_t (*sendpage)(struct socket *, struct page *, int, size_t, int);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#1414: FILE: drivers/scsi/iscsi_tcp.c:1099:
+	ssize_t (*sendpage)(struct socket *, struct page *, int, size_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1414: FILE: drivers/scsi/iscsi_tcp.c:1099:
+	ssize_t (*sendpage)(struct socket *, struct page *, int, size_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'size_t' should also have an identifier name
#1414: FILE: drivers/scsi/iscsi_tcp.c:1099:
+	ssize_t (*sendpage)(struct socket *, struct page *, int, size_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#1414: FILE: drivers/scsi/iscsi_tcp.c:1099:
+	ssize_t (*sendpage)(struct socket *, struct page *, int, size_t, int);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1420: FILE: drivers/scsi/iscsi_tcp.c:1105:
+	BUG_ON(buf->sent + size > buf->sg.length);

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1421: FILE: drivers/scsi/iscsi_tcp.c:1106:
+	if (size > *count) {
+		size = *count;
+	}

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1424: FILE: drivers/scsi/iscsi_tcp.c:1109:
+	if (buf->sent + size != buf->sg.length) {
+		flags |= MSG_MORE;
+	}

WARNING:SPLIT_STRING: quoted string split across lines
#1435: FILE: drivers/scsi/iscsi_tcp.c:1120:
+	debug_tcp("sendpage %lx %d bytes, boff %d bsent %d "
+		  "left %d sent %d res %d\n",

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1475: FILE: drivers/scsi/iscsi_tcp.c:1160:
+	hdr->rsvd2[0] = hdr->rsvd2[1] = hdr->rsvd3 =

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1476: FILE: drivers/scsi/iscsi_tcp.c:1161:
+		hdr->rsvd4 = hdr->rsvd5 = hdr->rsvd6 = 0;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1496: FILE: drivers/scsi/iscsi_tcp.c:1181:
+	iscsi_buf_init_hdr(conn, &r2t->headbuf, (char*)hdr,

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1500: FILE: drivers/scsi/iscsi_tcp.c:1185:
+		BUG_ON(ctask->bad_sg == r2t->sg);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1507: FILE: drivers/scsi/iscsi_tcp.c:1192:
+		iscsi_buf_init_virt(&ctask->sendbuf,
+			    (char*)sc->request_buffer + new_offset,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1507: FILE: drivers/scsi/iscsi_tcp.c:1192:
+			    (char*)sc->request_buffer + new_offset,

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1522: FILE: drivers/scsi/iscsi_tcp.c:1207:
+	hdr->rsvd2[0] = hdr->rsvd2[1] = hdr->rsvd3 =

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1523: FILE: drivers/scsi/iscsi_tcp.c:1208:
+		hdr->rsvd4 = hdr->rsvd5 = hdr->rsvd6 = 0;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1544: FILE: drivers/scsi/iscsi_tcp.c:1229:
+	iscsi_buf_init_hdr(conn, &ctask->headbuf, (char*)hdr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1555: FILE: drivers/scsi/iscsi_tcp.c:1240:
+iscsi_cmd_init(struct iscsi_conn *conn, struct iscsi_cmd_task *ctask,
+		struct scsi_cmnd *sc)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1581: FILE: drivers/scsi/iscsi_tcp.c:1266:
+		BUG_ON(ctask->total_length == 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1590: FILE: drivers/scsi/iscsi_tcp.c:1275:
+			iscsi_buf_init_virt(&ctask->sendbuf, sc->request_buffer,
+					sc->request_bufflen);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1591: FILE: drivers/scsi/iscsi_tcp.c:1276:
+			BUG_ON(sc->request_bufflen > PAGE_SIZE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1613: FILE: drivers/scsi/iscsi_tcp.c:1298:
+				ctask->imm_count = min(session->first_burst,
+							conn->max_xmit_dlength);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1616: FILE: drivers/scsi/iscsi_tcp.c:1301:
+				ctask->imm_count = min(ctask->total_length,
+							conn->max_xmit_dlength);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1624: FILE: drivers/scsi/iscsi_tcp.c:1309:
+			ctask->unsol_count=min(session->first_burst,
 			                  ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1625: FILE: drivers/scsi/iscsi_tcp.c:1310:
+			ctask->unsol_count=min(session->first_burst,
+				ctask->total_length) - ctask->imm_count;

WARNING:SPLIT_STRING: quoted string split across lines
#1638: FILE: drivers/scsi/iscsi_tcp.c:1323:
+		debug_scsi("cmd [itt %x total %d imm %d imm_data %d "
+			   "r2t_data %d]\n",

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1651: FILE: drivers/scsi/iscsi_tcp.c:1336:
+	iscsi_buf_init_hdr(conn, &ctask->headbuf, (char*)&ctask->hdr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1652: FILE: drivers/scsi/iscsi_tcp.c:1337:
+	iscsi_buf_init_hdr(conn, &ctask->headbuf, (char*)&ctask->hdr,
+			    (u8 *)ctask->hdrext);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1669: FILE: drivers/scsi/iscsi_tcp.c:1354:
+{
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1671: FILE: drivers/scsi/iscsi_tcp.c:1356:
+	debug_scsi("mtask deq [cid %d state %x itt 0x%x]\n",
+		conn->id, mtask->xmstate, mtask->itt);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1686: FILE: drivers/scsi/iscsi_tcp.c:1371:
+		BUG_ON(!mtask->data_count);

WARNING:TYPO_SPELLING: 'spreaded' may be misspelled - perhaps 'spread'?
#1689: FILE: drivers/scsi/iscsi_tcp.c:1374:
+		 * Virtual buffer could be spreaded accross multiple pages...
 		                           ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1693: FILE: drivers/scsi/iscsi_tcp.c:1378:
+			if (iscsi_sendpage(conn, &mtask->sendbuf,
+				   &mtask->data_count, &mtask->sent)) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1700: FILE: drivers/scsi/iscsi_tcp.c:1385:
+	BUG_ON(mtask->xmstate != XMSTATE_IDLE);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1710: FILE: drivers/scsi/iscsi_tcp.c:1395:
+	debug_scsi("ctask deq [cid %d state %x itt 0x%x]\n",
+		conn->id, ctask->xmstate, ctask->itt);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1715: FILE: drivers/scsi/iscsi_tcp.c:1400:
+			BUG_ON(ctask->xmstate != XMSTATE_IDLE);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1731: FILE: drivers/scsi/iscsi_tcp.c:1416:
+		BUG_ON(!ctask->imm_count);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1747: FILE: drivers/scsi/iscsi_tcp.c:1432:
+		BUG_ON(!ctask->unsol_count);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1761: FILE: drivers/scsi/iscsi_tcp.c:1446:
+		debug_scsi("uns dout [itt 0x%x dlen %d sent %d]\n",
 		                ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1762: FILE: drivers/scsi/iscsi_tcp.c:1447:
+		debug_scsi("uns dout [itt 0x%x dlen %d sent %d]\n",
+			ctask->itt, ctask->unsol_count, ctask->sent);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1766: FILE: drivers/scsi/iscsi_tcp.c:1451:
+		BUG_ON(!ctask->data_count);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1770: FILE: drivers/scsi/iscsi_tcp.c:1455:
+			int start = ctask->sent;
+			if (iscsi_sendpage(conn, &ctask->sendbuf,

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1778: FILE: drivers/scsi/iscsi_tcp.c:1463:
+			BUG_ON(ctask->sent > ctask->total_length);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1785: FILE: drivers/scsi/iscsi_tcp.c:1470:
+		BUG_ON(ctask->unsol_count < 0);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1796: FILE: drivers/scsi/iscsi_tcp.c:1481:
+		BUG_ON(ctask->xmstate != XMSTATE_IDLE);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1804: FILE: drivers/scsi/iscsi_tcp.c:1489:
+			__kfifo_get(ctask->r2tqueue, (void*)&r2t,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1805: FILE: drivers/scsi/iscsi_tcp.c:1490:
+				    sizeof(void*));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1809: FILE: drivers/scsi/iscsi_tcp.c:1494:
+		BUG_ON(r2t == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!r2t"
#1809: FILE: drivers/scsi/iscsi_tcp.c:1494:
+		BUG_ON(r2t == NULL);

WARNING:TYPO_SPELLING: 'dout' may be misspelled - perhaps 'doubt'?
#1816: FILE: drivers/scsi/iscsi_tcp.c:1501:
+		debug_scsi("sol dout [dsn %d itt 0x%x dlen %d sent %d]\n",
 		                ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1817: FILE: drivers/scsi/iscsi_tcp.c:1502:
+		debug_scsi("sol dout [dsn %d itt 0x%x dlen %d sent %d]\n",
+			r2t->solicit_datasn - 1, ctask->itt, r2t->data_count,

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1838: FILE: drivers/scsi/iscsi_tcp.c:1523:
+			BUG_ON(r2t->data_count < 0);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1840: FILE: drivers/scsi/iscsi_tcp.c:1525:
+				BUG_ON(ctask->bad_sg == r2t->sg);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1841: FILE: drivers/scsi/iscsi_tcp.c:1526:
+				BUG_ON(ctask->sc->use_sg == 0);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1855: FILE: drivers/scsi/iscsi_tcp.c:1540:
+		BUG_ON(r2t->data_length - r2t->sent < 0);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1867: FILE: drivers/scsi/iscsi_tcp.c:1552:
+		BUG_ON(ctask->r2t_data_count - r2t->data_length < 0);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1870: FILE: drivers/scsi/iscsi_tcp.c:1555:
+		__kfifo_put(ctask->r2tpool.queue, (void*)&r2t, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1870: FILE: drivers/scsi/iscsi_tcp.c:1555:
+		__kfifo_put(ctask->r2tpool.queue, (void*)&r2t, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1871: FILE: drivers/scsi/iscsi_tcp.c:1556:
+		if (__kfifo_get(ctask->r2tqueue, (void*)&r2t, sizeof(void*))) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1871: FILE: drivers/scsi/iscsi_tcp.c:1556:
+		if (__kfifo_get(ctask->r2tqueue, (void*)&r2t, sizeof(void*))) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1878: FILE: drivers/scsi/iscsi_tcp.c:1563:
+	BUG_ON(ctask->xmstate != XMSTATE_IDLE);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1907: FILE: drivers/scsi/iscsi_tcp.c:1592:
+		__kfifo_get(conn->writequeue, (void*)&conn->ctask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1908: FILE: drivers/scsi/iscsi_tcp.c:1593:
+			    sizeof(void*)) ||

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1909: FILE: drivers/scsi/iscsi_tcp.c:1594:
+		__kfifo_get(conn->xmitqueue, (void*)&conn->ctask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1910: FILE: drivers/scsi/iscsi_tcp.c:1595:
+			    sizeof(void*)))) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1911: FILE: drivers/scsi/iscsi_tcp.c:1596:
+			    sizeof(void*)))) {
+

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1924: FILE: drivers/scsi/iscsi_tcp.c:1609:
+	while (conn->mtask || __kfifo_get(conn->immqueue, (void*)&conn->mtask,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1925: FILE: drivers/scsi/iscsi_tcp.c:1610:
+	while (conn->mtask || __kfifo_get(conn->immqueue, (void*)&conn->mtask,
+			   sizeof(void*))) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1925: FILE: drivers/scsi/iscsi_tcp.c:1610:
+			   sizeof(void*))) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1935: FILE: drivers/scsi/iscsi_tcp.c:1620:
+			__kfifo_put(session->immpool.queue, (void*)&conn->mtask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1936: FILE: drivers/scsi/iscsi_tcp.c:1621:
+				    sizeof(void*));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1946: FILE: drivers/scsi/iscsi_tcp.c:1631:
+			 * when immediate PDU interrupts xmitqueue loop */

CHECK:CAMELCASE: Avoid CamelCase: <Scsi_Host>
#1988: FILE: drivers/scsi/iscsi_tcp.c:1673:
+	struct Scsi_Host *host;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1998: FILE: drivers/scsi/iscsi_tcp.c:1683:
+	session = (struct iscsi_session*)host->hostdata;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1999: FILE: drivers/scsi/iscsi_tcp.c:1684:
+	BUG_ON(host->host_no != session->id);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!conn"
#2041: FILE: drivers/scsi/iscsi_tcp.c:1726:
+		if (conn == NULL)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2047: FILE: drivers/scsi/iscsi_tcp.c:1732:
+	__kfifo_get(session->cmdpool.queue, (void*)&ctask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2047: FILE: drivers/scsi/iscsi_tcp.c:1732:
+	__kfifo_get(session->cmdpool.queue, (void*)&ctask, sizeof(void*));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2050: FILE: drivers/scsi/iscsi_tcp.c:1735:
+	BUG_ON(!ctask);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2051: FILE: drivers/scsi/iscsi_tcp.c:1736:
+	BUG_ON(ctask->in_progress = IN_PROGRESS_IDLE);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2053: FILE: drivers/scsi/iscsi_tcp.c:1738:
+	sc->SCp.ptr = (char*)ctask;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2056: FILE: drivers/scsi/iscsi_tcp.c:1741:
+	__kfifo_put(conn->xmitqueue, (void*)&ctask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2056: FILE: drivers/scsi/iscsi_tcp.c:1741:
+	__kfifo_put(conn->xmitqueue, (void*)&ctask, sizeof(void*));

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#2057: FILE: drivers/scsi/iscsi_tcp.c:1742:
+	debug_scsi(

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2074: FILE: drivers/scsi/iscsi_tcp.c:1759:
+	printk("iSCSI: cmd 0x%x is not queued (%d)\n", sc->cmnd[0], reason);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2102: FILE: drivers/scsi/iscsi_tcp.c:1787:
+	*items = kmalloc(max * sizeof(void*), GFP_KERNEL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!items"
#2103: FILE: drivers/scsi/iscsi_tcp.c:1788:
+	if (*items == NULL)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2107: FILE: drivers/scsi/iscsi_tcp.c:1792:
+	q->pool = kmalloc(max * sizeof(void*), GFP_KERNEL);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#2107: FILE: drivers/scsi/iscsi_tcp.c:1792:
+	q->pool = kmalloc(max * sizeof(void*), GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!q->pool"
#2108: FILE: drivers/scsi/iscsi_tcp.c:1793:
+	if (q->pool == NULL) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2113: FILE: drivers/scsi/iscsi_tcp.c:1798:
+	q->queue = kfifo_init((void*)q->pool, max * sizeof(void*),

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2113: FILE: drivers/scsi/iscsi_tcp.c:1798:
+	q->queue = kfifo_init((void*)q->pool, max * sizeof(void*),

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!q->pool[i]"
#2123: FILE: drivers/scsi/iscsi_tcp.c:1808:
+		if (q->pool[i] == NULL) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#2125: FILE: drivers/scsi/iscsi_tcp.c:1810:
+			int j;
+			for (j = 0; j < i; j++) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2125: FILE: drivers/scsi/iscsi_tcp.c:1810:
+			for (j = 0; j < i; j++) {
+				kfree(q->pool[j]);
+			}

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2135: FILE: drivers/scsi/iscsi_tcp.c:1820:
+		__kfifo_put(q->queue, (void*)&q->pool[i], sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2135: FILE: drivers/scsi/iscsi_tcp.c:1820:
+		__kfifo_put(q->queue, (void*)&q->pool[i], sizeof(void*));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2157: FILE: drivers/scsi/iscsi_tcp.c:1842:
+iscsi_conn_create(iscsi_snx_h snxh, iscsi_cnx_h handle,
+			 uint32_t conn_idx)

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*conn)...) over kmalloc(sizeof(struct iscsi_conn)...)
#2162: FILE: drivers/scsi/iscsi_tcp.c:1847:
+	conn = kmalloc(sizeof(struct iscsi_conn), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!conn"
#2163: FILE: drivers/scsi/iscsi_tcp.c:1848:
+	if (conn == NULL)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2182: FILE: drivers/scsi/iscsi_tcp.c:1867:
+	conn->xmitqueue = kfifo_alloc(session->cmds_max * sizeof(void*),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2183: FILE: drivers/scsi/iscsi_tcp.c:1868:
+	conn->xmitqueue = kfifo_alloc(session->cmds_max * sizeof(void*),
+					GFP_KERNEL, NULL);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2188: FILE: drivers/scsi/iscsi_tcp.c:1873:
+	conn->writequeue = kfifo_alloc(session->cmds_max * sizeof(void*),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2189: FILE: drivers/scsi/iscsi_tcp.c:1874:
+	conn->writequeue = kfifo_alloc(session->cmds_max * sizeof(void*),
+					GFP_KERNEL, NULL);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2194: FILE: drivers/scsi/iscsi_tcp.c:1879:
+	conn->immqueue = kfifo_alloc(session->imm_max * sizeof(void*),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2195: FILE: drivers/scsi/iscsi_tcp.c:1880:
+	conn->immqueue = kfifo_alloc(session->imm_max * sizeof(void*),
+					GFP_KERNEL, NULL);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2202: FILE: drivers/scsi/iscsi_tcp.c:1887:
+	if (!__kfifo_get(session->immpool.queue, (void*)&conn->login_mtask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2203: FILE: drivers/scsi/iscsi_tcp.c:1888:
+			 sizeof(void*))) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2213: FILE: drivers/scsi/iscsi_tcp.c:1898:
+		conn->data = (void*)__get_free_pages(GFP_KERNEL,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2226: FILE: drivers/scsi/iscsi_tcp.c:1911:
+	__kfifo_put(session->immpool.queue, (void*)&conn->login_mtask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2227: FILE: drivers/scsi/iscsi_tcp.c:1912:
+		    sizeof(void*));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2250: FILE: drivers/scsi/iscsi_tcp.c:1935:
+	BUG_ON(conn->sock == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!conn->sock"
#2250: FILE: drivers/scsi/iscsi_tcp.c:1935:
+	BUG_ON(conn->sock == NULL);

WARNING:TYPO_SPELLING: 'pathes' may be misspelled - perhaps 'paths'?
#2271: FILE: drivers/scsi/iscsi_tcp.c:1956:
+	 * We must serialize with xmitwork recv pathes.
 	                                        ^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2299: FILE: drivers/scsi/iscsi_tcp.c:1984:
+		free_pages((unsigned long)conn->data,
+					get_order(conn->max_recv_dlength));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2302: FILE: drivers/scsi/iscsi_tcp.c:1987:
+	__kfifo_put(session->immpool.queue, (void*)&conn->login_mtask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2303: FILE: drivers/scsi/iscsi_tcp.c:1988:
+		    sizeof(void*));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2316: FILE: drivers/scsi/iscsi_tcp.c:2001:
+		session->leadconn = container_of(session->connections.next,
+			struct iscsi_conn, item);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!session->leadconn"
#2319: FILE: drivers/scsi/iscsi_tcp.c:2004:
+	if (session->leadconn == NULL) {

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#2321: FILE: drivers/scsi/iscsi_tcp.c:2006:
+		session->cmdsn = session->max_cmdsn = session->exp_cmdsn = 1;

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#2337: FILE: drivers/scsi/iscsi_tcp.c:2022:
+	if (!(sock = sockfd_lookup(transport_fd, &err))) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2338: FILE: drivers/scsi/iscsi_tcp.c:2023:
+		printk("iSCSI: sockfd_lookup failed %d\n", err);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!session"
#2377: FILE: drivers/scsi/iscsi_tcp.c:2062:
+	if (session == NULL) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2378: FILE: drivers/scsi/iscsi_tcp.c:2063:
+		printk("iSCSI: can't start not-binded connection\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2417: FILE: drivers/scsi/iscsi_tcp.c:2102:
+iscsi_send_pdu(iscsi_cnx_h cnxh, struct iscsi_hdr *hdr, char *data,
+		  uint32_t data_size)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2425: FILE: drivers/scsi/iscsi_tcp.c:2110:
+	BUG_ON(!(hdr->opcode & ISCSI_OP_IMMEDIATE));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2437: FILE: drivers/scsi/iscsi_tcp.c:2122:
+		if (!__kfifo_get(session->immpool.queue, (void*)&mtask,

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2438: FILE: drivers/scsi/iscsi_tcp.c:2123:
+				 sizeof(void*))) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2446: FILE: drivers/scsi/iscsi_tcp.c:2131:
+		exp_statsn = ((struct iscsi_nopout*)&mtask->hdr)->exp_statsn;

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#2449: FILE: drivers/scsi/iscsi_tcp.c:2134:
+			if (mtask->data) {
+				kfree(mtask->data);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2469: FILE: drivers/scsi/iscsi_tcp.c:2154:
+		((struct iscsi_nopout*)hdr)->cmdsn = htonl(session->cmdsn);

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2470: FILE: drivers/scsi/iscsi_tcp.c:2155:
+		if (conn->c_stage == ISCSI_CNX_STARTED) {
+			session->cmdsn++;
+		}

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2475: FILE: drivers/scsi/iscsi_tcp.c:2160:
+		((struct iscsi_nopout*)hdr)->cmdsn = htonl(session->cmdsn);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2477: FILE: drivers/scsi/iscsi_tcp.c:2162:
+	((struct iscsi_nopout*)hdr)->exp_statsn = htonl(conn->exp_statsn);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2482: FILE: drivers/scsi/iscsi_tcp.c:2167:
+		iscsi_buf_init_hdr(conn, &mtask->headbuf, (char*)&mtask->hdr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2483: FILE: drivers/scsi/iscsi_tcp.c:2168:
+		iscsi_buf_init_hdr(conn, &mtask->headbuf, (char*)&mtask->hdr,
+				    (u8 *)mtask->hdrext);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2485: FILE: drivers/scsi/iscsi_tcp.c:2170:
+		iscsi_buf_init_virt(&mtask->headbuf, (char*)&mtask->hdr,

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#2491: FILE: drivers/scsi/iscsi_tcp.c:2176:
+	if (mtask->data) {
+		kfree(mtask->data);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2505: FILE: drivers/scsi/iscsi_tcp.c:2190:
+		iscsi_buf_init_virt(&mtask->sendbuf, (char*)mtask->data,

WARNING:TYPO_SPELLING: 'convertion' may be misspelled - perhaps 'conversion'?
#2507: FILE: drivers/scsi/iscsi_tcp.c:2192:
+		/* FIXME: implement: convertion of mtask->data into 1st
 		                     ^^^^^^^^^^

WARNING:TYPO_SPELLING: 'spreaded' may be misspelled - perhaps 'spread'?
#2509: FILE: drivers/scsi/iscsi_tcp.c:2194:
+		 *        could be spreaded accross multiple pages... */
 		                   ^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2509: FILE: drivers/scsi/iscsi_tcp.c:2194:
+		 *        could be spreaded accross multiple pages... */

ERROR:SPACING: space required before the open parenthesis '('
#2510: FILE: drivers/scsi/iscsi_tcp.c:2195:
+		if(mtask->sendbuf.sg.offset + mtask->data_count > PAGE_SIZE) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2514: FILE: drivers/scsi/iscsi_tcp.c:2199:
+					    (void*)&mtask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2514: FILE: drivers/scsi/iscsi_tcp.c:2199:
+					    (void*)&mtask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2524: FILE: drivers/scsi/iscsi_tcp.c:2209:
+	__kfifo_put(conn->immqueue, (void*)&mtask, sizeof(void*));

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2524: FILE: drivers/scsi/iscsi_tcp.c:2209:
+	__kfifo_put(conn->immqueue, (void*)&mtask, sizeof(void*));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2581: FILE: drivers/scsi/iscsi_tcp.c:2266:
+		rc = iscsi_send_pdu(iscsi_handle(conn),
+			    (struct iscsi_hdr *)hdr, NULL, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2585: FILE: drivers/scsi/iscsi_tcp.c:2270:
+			iscsi_control_cnx_error(conn->handle,
+				ISCSI_ERR_CNX_FAILED);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#2588: FILE: drivers/scsi/iscsi_tcp.c:2273:
+			conn->tmabort_timer.expires = 3*HZ + jiffies; /*3 secs*/
 			                               ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2596: FILE: drivers/scsi/iscsi_tcp.c:2281:
+
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#2607: FILE: drivers/scsi/iscsi_tcp.c:2292:
+		int p_state = session->state;
+		rc = wait_event_interruptible(conn->ehwait,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2608: FILE: drivers/scsi/iscsi_tcp.c:2293:
+		rc = wait_event_interruptible(conn->ehwait,
+			(p_state == ISCSI_STATE_LOGGED_IN ?

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2630: FILE: drivers/scsi/iscsi_tcp.c:2315:
+			iscsi_control_cnx_error(conn->handle,
+				ISCSI_ERR_CNX_FAILED);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2638: FILE: drivers/scsi/iscsi_tcp.c:2323:
+	BUG_ON(session->state != ISCSI_STATE_LOGGED_IN);

ERROR:CODE_INDENT: code indent should use tabs where possible
#2658: FILE: drivers/scsi/iscsi_tcp.c:2343:
+^I        struct iscsi_cmd_task *ctask = session->cmds[cmd_i];$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2662: FILE: drivers/scsi/iscsi_tcp.c:2347:
+		if (iscsi_pool_init(&ctask->r2tpool, session->max_r2t,
+			(void***)&ctask->r2ts, sizeof(struct iscsi_r2t_info))) {

ERROR:POINTER_LOCATION: "(foo***)" should be "(foo ***)"
#2662: FILE: drivers/scsi/iscsi_tcp.c:2347:
+			(void***)&ctask->r2ts, sizeof(struct iscsi_r2t_info))) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2667: FILE: drivers/scsi/iscsi_tcp.c:2352:
+		ctask->r2tqueue = kfifo_alloc(session->max_r2t * sizeof(void*),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2668: FILE: drivers/scsi/iscsi_tcp.c:2353:
+		ctask->r2tqueue = kfifo_alloc(session->max_r2t * sizeof(void*),
+						GFP_KERNEL, NULL);

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#2670: FILE: drivers/scsi/iscsi_tcp.c:2355:
+			iscsi_pool_free(&ctask->r2tpool, (void**)ctask->r2ts);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ctask->datapool"
#2683: FILE: drivers/scsi/iscsi_tcp.c:2368:
+		if (ctask->datapool == NULL) {

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#2685: FILE: drivers/scsi/iscsi_tcp.c:2370:
+			iscsi_pool_free(&ctask->r2tpool, (void**)ctask->r2ts);

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#2698: FILE: drivers/scsi/iscsi_tcp.c:2383:
+				(void**)session->cmds[i]->r2ts);

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#2712: FILE: drivers/scsi/iscsi_tcp.c:2397:
+				(void**)session->cmds[i]->r2ts);

ERROR:CODE_INDENT: code indent should use tabs where possible
#2719: FILE: drivers/scsi/iscsi_tcp.c:2404:
+        .queuecommand           = iscsi_queuecommand,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2719: FILE: drivers/scsi/iscsi_tcp.c:2404:
+        .queuecommand           = iscsi_queuecommand,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#2723: FILE: drivers/scsi/iscsi_tcp.c:2408:
+        .eh_abort_handler       = iscsi_eh_abort,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2723: FILE: drivers/scsi/iscsi_tcp.c:2408:
+        .eh_abort_handler       = iscsi_eh_abort,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#2724: FILE: drivers/scsi/iscsi_tcp.c:2409:
+        .use_clustering         = DISABLE_CLUSTERING,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2724: FILE: drivers/scsi/iscsi_tcp.c:2409:
+        .use_clustering         = DISABLE_CLUSTERING,$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!host"
#2741: FILE: drivers/scsi/iscsi_tcp.c:2426:
+	if (host == NULL) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2742: FILE: drivers/scsi/iscsi_tcp.c:2427:
+		printk("can not allocate SCSI host for session %p\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2743: FILE: drivers/scsi/iscsi_tcp.c:2428:
+		printk("can not allocate SCSI host for session %p\n",
+			iscsi_ptr(handle));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2764: FILE: drivers/scsi/iscsi_tcp.c:2449:
+	if (iscsi_pool_init(&session->cmdpool, session->cmds_max,
+		(void***)&session->cmds, sizeof(struct iscsi_cmd_task))) {

ERROR:POINTER_LOCATION: "(foo***)" should be "(foo ***)"
#2764: FILE: drivers/scsi/iscsi_tcp.c:2449:
+		(void***)&session->cmds, sizeof(struct iscsi_cmd_task))) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2768: FILE: drivers/scsi/iscsi_tcp.c:2453:
+	for (cmd_i = 0; cmd_i < session->cmds_max; cmd_i++) {
+		session->cmds[cmd_i]->itt = cmd_i;
+	}

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2778: FILE: drivers/scsi/iscsi_tcp.c:2463:
+	if (iscsi_pool_init(&session->immpool, session->imm_max,
+		(void***)&session->imm_cmds, sizeof(struct iscsi_mgmt_task))) {

ERROR:POINTER_LOCATION: "(foo***)" should be "(foo ***)"
#2778: FILE: drivers/scsi/iscsi_tcp.c:2463:
+		(void***)&session->imm_cmds, sizeof(struct iscsi_mgmt_task))) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2782: FILE: drivers/scsi/iscsi_tcp.c:2467:
+	for (cmd_i = 0; cmd_i < session->imm_max; cmd_i++) {
+		session->imm_cmds[cmd_i]->itt = ISCSI_IMM_ITT_OFFSET + cmd_i;
+	}

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2791: FILE: drivers/scsi/iscsi_tcp.c:2476:
+		printk("can not add host_no %d (%d)\n", *host_no, res);

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#2800: FILE: drivers/scsi/iscsi_tcp.c:2485:
+	iscsi_pool_free(&session->immpool, (void**)session->imm_cmds);

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#2802: FILE: drivers/scsi/iscsi_tcp.c:2487:
+	iscsi_pool_free(&session->cmdpool, (void**)session->cmds);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2821: FILE: drivers/scsi/iscsi_tcp.c:2506:
+		struct iscsi_cmd_task *ctask = session->cmds[cmd_i];
+		list_for_each_entry_safe(dtask, n, &ctask->dataqueue, item) {

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#2829: FILE: drivers/scsi/iscsi_tcp.c:2514:
+		if (session->imm_cmds[cmd_i]->data)
+			kfree(session->imm_cmds[cmd_i]->data);

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#2833: FILE: drivers/scsi/iscsi_tcp.c:2518:
+	iscsi_pool_free(&session->immpool, (void**)session->imm_cmds);

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#2834: FILE: drivers/scsi/iscsi_tcp.c:2519:
+	iscsi_pool_free(&session->cmdpool, (void**)session->cmds);

ERROR:SPACING: space required before the open parenthesis '('
#2845: FILE: drivers/scsi/iscsi_tcp.c:2530:
+		switch(param) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#2852: FILE: drivers/scsi/iscsi_tcp.c:2537:
+				conn->data = (void*)__get_free_pages(GFP_KERNEL,

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!conn->data"
#2854: FILE: drivers/scsi/iscsi_tcp.c:2539:
+			if (conn->data == NULL) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2862: FILE: drivers/scsi/iscsi_tcp.c:2547:
+				free_pages((unsigned long)saveptr,
+					get_order(conn->max_recv_dlength));

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2939: FILE: drivers/scsi/iscsi_tcp.c:2624:
+		printk("iSCSI: can not change parameter [%d]\n", param);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2965: FILE: drivers/scsi/iscsi_tcp.c:2650:
+	taskcache = kmem_cache_create("iscsi_taskcache",
+			sizeof(struct iscsi_data_task), 0, 0, NULL, NULL);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2989: FILE: drivers/scsi/iscsi_tcp.h:1:
+/*

WARNING:TYPO_SPELLING: 'recieve' may be misspelled - perhaps 'receive'?
#3086: FILE: drivers/scsi/iscsi_tcp.h:98:
+/* Socket connection recieve helper */
                      ^^^^^^^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3104: FILE: drivers/scsi/iscsi_tcp.h:116:
+	uint32_t		itt;

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#3109: FILE: drivers/scsi/iscsi_tcp.h:121:
+	char			hdrext[4*sizeof(__u16) +
 	    			        ^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3115: FILE: drivers/scsi/iscsi_tcp.h:127:
+	uint32_t		exp_statsn;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#3133: FILE: drivers/scsi/iscsi_tcp.h:145:
+	volatile int		c_stage;	/* Connection state */

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#3137: FILE: drivers/scsi/iscsi_tcp.h:149:
+	volatile int		suspend;	/* connection suspended */

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#3145: FILE: drivers/scsi/iscsi_tcp.h:157:
+	volatile int		tmabort_state;

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct sock *' should also have an identifier name
#3155: FILE: drivers/scsi/iscsi_tcp.h:167:
+	void			(*old_data_ready)(struct sock *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#3155: FILE: drivers/scsi/iscsi_tcp.h:167:
+	void			(*old_data_ready)(struct sock *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct sock *' should also have an identifier name
#3156: FILE: drivers/scsi/iscsi_tcp.h:168:
+	void			(*old_state_change)(struct sock *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct sock *' should also have an identifier name
#3157: FILE: drivers/scsi/iscsi_tcp.h:169:
+	void			(*old_write_space)(struct sock *);

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3162: FILE: drivers/scsi/iscsi_tcp.h:174:
+	uint32_t		cmdsn;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3163: FILE: drivers/scsi/iscsi_tcp.h:175:
+	uint32_t		exp_cmdsn;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3164: FILE: drivers/scsi/iscsi_tcp.h:176:
+	uint32_t		max_cmdsn;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#3185: FILE: drivers/scsi/iscsi_tcp.h:197:
+	spinlock_t		lock;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#3186: FILE: drivers/scsi/iscsi_tcp.h:198:
+	volatile int		state;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#3211: FILE: drivers/scsi/iscsi_tcp.h:223:
+};
+#define ISCSI_DTASK_DEFAULT_MAX	ISCSI_SG_TABLESIZE * PAGE_SIZE / 512

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#3211: FILE: drivers/scsi/iscsi_tcp.h:223:
+#define ISCSI_DTASK_DEFAULT_MAX	ISCSI_SG_TABLESIZE * PAGE_SIZE / 512

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#3217: FILE: drivers/scsi/iscsi_tcp.h:229:
+	volatile int	xmstate;		/* mgmt xmit progress */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3222: FILE: drivers/scsi/iscsi_tcp.h:234:
+	uint32_t	itt;			/* this ITT */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3226: FILE: drivers/scsi/iscsi_tcp.h:238:
+	uint32_t		ttt;		/* copied from R2T */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3227: FILE: drivers/scsi/iscsi_tcp.h:239:
+	uint32_t		exp_statsn;	/* copeid and incr. from R2T */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#3240: FILE: drivers/scsi/iscsi_tcp.h:252:
+	char			hdrext[4*sizeof(__u16)+	/* one AHS */
 	    			        ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxW)
#3240: FILE: drivers/scsi/iscsi_tcp.h:252:
+	char			hdrext[4*sizeof(__u16)+	/* one AHS */
 	    			                      ^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3250: FILE: drivers/scsi/iscsi_tcp.h:262:
+	uint32_t		unsol_datasn;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#3251: FILE: drivers/scsi/iscsi_tcp.h:263:
+	uint32_t		exp_r2tsn;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#3252: FILE: drivers/scsi/iscsi_tcp.h:264:
+	volatile int		in_progress;		/* State machine */

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#3253: FILE: drivers/scsi/iscsi_tcp.h:265:
+	volatile int		xmstate;		/* Xmit State machine */

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000201623.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 117 errors, 150 warnings, 118 checks, 3209 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000201623.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
