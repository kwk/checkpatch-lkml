WARNING:TYPO_SPELLING: 'fixe' may be misspelled - perhaps 'fixed'?
#21: 
Subject: [PATCH 8/9] dvb-ttpci: fix SMP race, budget: fixe init race, misc fixes
                                                      ^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#29: 
- [DVB] dvb-ttpci: re-added support for Fujitsu-Siemens DVB-S rev 1.6 0x13c2:0x0006

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#52: FILE: drivers/media/dvb/ttpci/av7110.c:72:
+#define TS_BUFLEN (TS_WIDTH*TS_HEIGHT)
                            ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#53: FILE: drivers/media/dvb/ttpci/av7110.c:73:
+#define TS_MAX_PACKETS (TS_BUFLEN/TS_SIZE)
                                  ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#55: FILE: drivers/media/dvb/ttpci/av7110.c:75:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#63: FILE: drivers/media/dvb/ttpci/av7110.c:84:
+static int budgetpatch = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#87: FILE: drivers/media/dvb/ttpci/av7110.c:368:
+		printk(KERN_ERR "%s: saa7146_wait_for_debi_done timed out\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#87: FILE: drivers/media/dvb/ttpci/av7110.c:368:
+		printk(KERN_ERR "%s: saa7146_wait_for_debi_done timed out\n", __FUNCTION__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#245: FILE: drivers/media/dvb/ttpci/av7110.c:506:
+		printk(KERN_ERR "%s: saa7146_wait_for_debi_done timed out\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#245: FILE: drivers/media/dvb/ttpci/av7110.c:506:
+		printk(KERN_ERR "%s: saa7146_wait_for_debi_done timed out\n", __FUNCTION__);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#246: FILE: drivers/media/dvb/ttpci/av7110.c:507:
+		BUG(); /* maybe we should try resetting the debi? */

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#328: FILE: drivers/media/dvb/ttpci/av7110.c:658:
+		start_debi_dma(av7110, DEBI_WRITE, DPRAM_BASE+txbuf, len);
 		                                             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#341: FILE: drivers/media/dvb/ttpci/av7110.c:676:
+		start_debi_dma(av7110, DEBI_READ, DPRAM_BASE+rxbuf, len);
 		                                            ^

CHECK:CAMELCASE: Avoid CamelCase: <Reserved>
#354: FILE: drivers/media/dvb/ttpci/av7110.c:685:
+		start_debi_dma(av7110, DEBI_READ, Reserved, len);

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:SPACING: No space is necessary after a cast
#402: FILE: drivers/media/dvb/ttpci/av7110.c:1177:
+	struct av7110 *budget = (struct av7110 *) demux->priv;

CHECK:SPACING: No space is necessary after a cast
#417: FILE: drivers/media/dvb/ttpci/av7110.c:1192:
+	struct av7110 *budget = (struct av7110 *) demux->priv;

CHECK:SPACING: No space is necessary after a cast
#430: FILE: drivers/media/dvb/ttpci/av7110.c:1205:
+	struct av7110 *budget = (struct av7110 *) data;

CHECK:SPACING: No space is necessary after a cast
#431: FILE: drivers/media/dvb/ttpci/av7110.c:1206:
+	u8 *mem = (u8 *) (budget->grabbing);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#436: FILE: drivers/media/dvb/ttpci/av7110.c:1211:
+		printk("av7110.c: vpeirq() called while budgetpatch disabled!"

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'vpeirq', this function's name, in a string
#436: FILE: drivers/media/dvb/ttpci/av7110.c:1211:
+		printk("av7110.c: vpeirq() called while budgetpatch disabled!"

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:SPLIT_STRING: quoted string split across lines
#437: FILE: drivers/media/dvb/ttpci/av7110.c:1212:
+		printk("av7110.c: vpeirq() called while budgetpatch disabled!"
+		       " check saa7146 IER register\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#438: FILE: drivers/media/dvb/ttpci/av7110.c:1213:
+		BUG();

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'newdma == olddma'
#448: FILE: drivers/media/dvb/ttpci/av7110.c:1223:
+	if (!budget->feeding1 || (newdma == olddma))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#451: FILE: drivers/media/dvb/ttpci/av7110.c:1226:
+#if 0

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#453: FILE: drivers/media/dvb/ttpci/av7110.c:1228:
+	printk("vpeirq: %02x Event Counter 1 0x%04x\n",

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'vpeirq', this function's name, in a string
#453: FILE: drivers/media/dvb/ttpci/av7110.c:1228:
+	printk("vpeirq: %02x Event Counter 1 0x%04x\n",

CHECK:BRACES: Unbalanced braces around else statement
#461: FILE: drivers/media/dvb/ttpci/av7110.c:1236:
+	else {

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:SPACING: No space is necessary after a cast
#484: FILE: drivers/media/dvb/ttpci/av7110.c:1311:
+		dvbdemux1->priv = (void *) av7110;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#504: FILE: drivers/media/dvb/ttpci/av7110.c:1331:
+		printk("dvb-ttpci: additional demux1 for budget-patch registered\n");

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#546: FILE: drivers/media/dvb/ttpci/av7110.c:2036:
+				av7110->fe->ops->diseqc_send_master_cmd = av7110_diseqc_send_master_cmd;

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LONG_LINE_COMMENT: line length of 105 exceeds 100 columns
#558: FILE: drivers/media/dvb/ttpci/av7110.c:2047:
+				saa7146_setgpio(av7110->dev, 1, SAA7146_GPIO_OUTLO); // TDA9198 pin9(STD)

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:TYPO_SPELLING: 'connectd' may be misspelled - perhaps 'connected'?
#580: FILE: drivers/media/dvb/ttpci/av7110.c:2097:
+ * GPIO3 is in budget-patch hardware connectd to port B VSYNC
                                      ^^^^^^^^

WARNING:TYPO_SPELLING: 'receiption' may be misspelled - perhaps 'reception'?
#586: FILE: drivers/media/dvb/ttpci/av7110.c:2103:
+ * it is completely received. When the receiption of n-th line
                                        ^^^^^^^^^^

WARNING:TYPO_SPELLING: 'cant' may be misspelled - perhaps 'can't'?
#615: FILE: drivers/media/dvb/ttpci/av7110.c:2132:
+ * of HS but I cant be 100% sure in that.
                ^^^^

WARNING:TYPO_SPELLING: 'freqency' may be misspelled - perhaps 'frequency'?
#620: FILE: drivers/media/dvb/ttpci/av7110.c:2137:
+ * and that means 3*25=75 Hz of interrupt freqency, as seen by
                                           ^^^^^^^^

WARNING:TYPO_SPELLING: 'seting' may be misspelled - perhaps 'setting'?
#629: FILE: drivers/media/dvb/ttpci/av7110.c:2146:
+ * cards, by seting DD1_INIT trigger mode 7 in 3rd nibble.
              ^^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#640: FILE: drivers/media/dvb/ttpci/av7110.c:2157:
+        /* Set RPS_IRQ to 1 to track rps1 activity.$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:CODE_INDENT: code indent should use tabs where possible
#641: FILE: drivers/media/dvb/ttpci/av7110.c:2158:
+         * Enabling this won't send any interrupt to PC CPU.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#642: FILE: drivers/media/dvb/ttpci/av7110.c:2159:
+         */$

WARNING:REPEATED_WORD: Possible repeated word: 'with'
#649: FILE: drivers/media/dvb/ttpci/av7110.c:2166:
+		 * reset with with MASK_31 to MC1

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#685: FILE: drivers/media/dvb/ttpci/av7110.c:2202:
+		WRITE_RPS1(cpu_to_le32(CMD_WR_REG_MASK | (GPIO_CTRL>>2)));
 		                                                   ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#687: FILE: drivers/media/dvb/ttpci/av7110.c:2204:
+		WRITE_RPS1(cpu_to_le32(SAA7146_GPIO_OUTLO<<24));
 		                                         ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#702: FILE: drivers/media/dvb/ttpci/av7110.c:2219:
+		saa7146_write(dev, EC1SSR, (0x03<<2) | 3 );
 		                                ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#702: FILE: drivers/media/dvb/ttpci/av7110.c:2219:
+		saa7146_write(dev, EC1SSR, (0x03<<2) | 3 );

WARNING:TYPO_SPELLING: 'treshold' may be misspelled - perhaps 'threshold'?
#703: FILE: drivers/media/dvb/ttpci/av7110.c:2220:
+		/* set event counter 1 treshold to maximum allowed value        (rEC p55) */
 		                       ^^^^^^^^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#704: FILE: drivers/media/dvb/ttpci/av7110.c:2221:
+		saa7146_write(dev, ECT1R,  0x3fff );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#709: FILE: drivers/media/dvb/ttpci/av7110.c:2226:
+		saa7146_write(dev, MC1, (MASK_13 | MASK_29 ));

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#720: FILE: drivers/media/dvb/ttpci/av7110.c:2237:
+			printk("dvb-ttpci: BUDGET-PATCH DETECTED.\n");

ERROR:SPACING: space prohibited after that open parenthesis '('
#723: FILE: drivers/media/dvb/ttpci/av7110.c:2240:
+		saa7146_write(dev, MC1, ( MASK_29 ));

ERROR:SPACING: space prohibited before that close parenthesis ')'
#723: FILE: drivers/media/dvb/ttpci/av7110.c:2240:
+		saa7146_write(dev, MC1, ( MASK_29 ));

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#725: FILE: drivers/media/dvb/ttpci/av7110.c:2242:
+		printk("dvb-ttpci: Event Counter 1 0x%04x\n", saa7146_read(dev, EC1R) & 0x3fff );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#725: FILE: drivers/media/dvb/ttpci/av7110.c:2242:
+		printk("dvb-ttpci: Event Counter 1 0x%04x\n", saa7146_read(dev, EC1R) & 0x3fff );

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#746: FILE: drivers/media/dvb/ttpci/av7110.c:2289:
+		av7110->grabbing = saa7146_vmalloc_build_pgtable(

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#773: FILE: drivers/media/dvb/ttpci/av7110.c:2316:
+		saa7146_write(dev, EC1SSR, (0x03<<2) | 3 );
 		                                ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#773: FILE: drivers/media/dvb/ttpci/av7110.c:2316:
+		saa7146_write(dev, EC1SSR, (0x03<<2) | 3 );

WARNING:TYPO_SPELLING: 'treshold' may be misspelled - perhaps 'threshold'?
#774: FILE: drivers/media/dvb/ttpci/av7110.c:2317:
+		/* set event counter 1 treshold to maximum allowed value        (rEC p55) */
 		                       ^^^^^^^^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#775: FILE: drivers/media/dvb/ttpci/av7110.c:2318:
+		saa7146_write(dev, ECT1R,  0x3fff );

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#783: FILE: drivers/media/dvb/ttpci/av7110.c:2326:
+		WRITE_RPS1(cpu_to_le32(CMD_WR_REG_MASK | (GPIO_CTRL>>2)));
 		                                                   ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#785: FILE: drivers/media/dvb/ttpci/av7110.c:2328:
+		WRITE_RPS1(cpu_to_le32(SAA7146_GPIO_OUTHI<<24));
 		                                         ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#793: FILE: drivers/media/dvb/ttpci/av7110.c:2336:
+		WRITE_RPS1(cpu_to_le32(CMD_WR_REG_MASK | (GPIO_CTRL>>2)));
 		                                                   ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#795: FILE: drivers/media/dvb/ttpci/av7110.c:2338:
+		WRITE_RPS1(cpu_to_le32(SAA7146_GPIO_OUTLO<<24));
 		                                         ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#816: FILE: drivers/media/dvb/ttpci/av7110.c:2359:
+		saa7146_write(dev, RPS_THRESH1, (TS_HEIGHT*1) | MASK_12 );
 		                                          ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#816: FILE: drivers/media/dvb/ttpci/av7110.c:2359:
+		saa7146_write(dev, RPS_THRESH1, (TS_HEIGHT*1) | MASK_12 );

CHECK:SPACING: No space is necessary after a cast
#822: FILE: drivers/media/dvb/ttpci/av7110.c:2365:
+		tasklet_init (&av7110->vpe_tasklet,  vpeirq,  (unsigned long) av7110);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#822: FILE: drivers/media/dvb/ttpci/av7110.c:2365:
+		tasklet_init (&av7110->vpe_tasklet,  vpeirq,  (unsigned long) av7110);

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 8)
#823: FILE: drivers/media/dvb/ttpci/av7110.c:2366:
+	} else {
 	saa7146_write(dev, PCI_BT_V1, 0x1c00101f);

ERROR:SPACING: space prohibited before that close parenthesis ')'
#840: FILE: drivers/media/dvb/ttpci/av7110.c:2490:
+	if (!av7110->device_initialized )

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#955: FILE: drivers/media/dvb/ttpci/av7110.h:118:
+	volatile int		bmp_state;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#967: FILE: drivers/media/dvb/ttpci/av7110.h:165:
+	spinlock_t		feedlock1;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#987: FILE: drivers/media/dvb/ttpci/av7110_hw.c:157:
+			printk(KERN_ERR "dvb-ttpci: load_dram(): timeout at block %d\n", i);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#999: FILE: drivers/media/dvb/ttpci/av7110_hw.c:172:
+			printk(KERN_ERR "dvb-ttpci: load_dram(): timeout at last block\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1011: FILE: drivers/media/dvb/ttpci/av7110_hw.c:187:
+		printk(KERN_ERR "dvb-ttpci: load_dram(): timeout after last block\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1018: FILE: drivers/media/dvb/ttpci/av7110_hw.c:193:
+		printk(KERN_ERR "dvb-ttpci: load_dram(): final handshake timeout\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1030: FILE: drivers/media/dvb/ttpci/av7110_hw.c:273:
+		printk(KERN_ERR "dvb-ttpci: av7110_bootarm(): "

WARNING:SPLIT_STRING: quoted string split across lines
#1031: FILE: drivers/media/dvb/ttpci/av7110_hw.c:274:
+		printk(KERN_ERR "dvb-ttpci: av7110_bootarm(): "
+		       "load_dram() failed\n");

CHECK:CAMELCASE: Avoid CamelCase: <GPMQOver>
#1071: FILE: drivers/media/dvb/ttpci/av7110_hw.c:392:
+			flags[0] = GPMQOver;

CHECK:CAMELCASE: Avoid CamelCase: <GPMQBusy>
#1072: FILE: drivers/media/dvb/ttpci/av7110_hw.c:393:
+			flags[1] = GPMQBusy;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1105: FILE: drivers/media/dvb/ttpci/av7110_hw.c:474:
+		printk(KERN_ERR "dvb-ttpci: %s(): av7110_send_fw_cmd error %d\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1106: FILE: drivers/media/dvb/ttpci/av7110_hw.c:475:
+		       __FUNCTION__, ret);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1115: FILE: drivers/media/dvb/ttpci/av7110_hw.c:499:
+		printk(KERN_ERR "dvb-ttpci: av7110_fw_cmd error %d\n", ret);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1124: FILE: drivers/media/dvb/ttpci/av7110_hw.c:521:
+		printk(KERN_ERR "dvb-ttpci: av7110_send_ci_cmd error %d\n", ret);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1133: FILE: drivers/media/dvb/ttpci/av7110_hw.c:547:
+		printk(KERN_ERR "dvb-ttpci: av7110_fw_request error %d\n", err);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1142: FILE: drivers/media/dvb/ttpci/av7110_hw.c:601:
+		printk(KERN_ERR "dvb-ttpci: av7110_fw_query error %d\n", ret);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1161: FILE: drivers/media/dvb/ttpci/av7110_hw.c:668:
+	if ((ret = av7110_send_fw_cmd(av7110, buf, 18)))

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1162: FILE: drivers/media/dvb/ttpci/av7110_hw.c:669:
+		printk(KERN_ERR "dvb-ttpci: av7110_diseqc_send error %d\n", ret);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1171: FILE: drivers/media/dvb/ttpci/av7110_hw.c:778:
+		printk(KERN_ERR "dvb-ttpci: WriteText error %d\n", ret);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1180: FILE: drivers/media/dvb/ttpci/av7110_hw.c:845:
+		printk("dvb-ttpci: warning: timeout waiting in LoadBitmap: %d, %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1199: FILE: drivers/media/dvb/ttpci/av7110_hw.c:901:
+	ret = wait_event_interruptible_timeout(av7110->bmpq,
+				av7110->bmp_state != BMP_LOADING, 10*HZ);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1199: FILE: drivers/media/dvb/ttpci/av7110_hw.c:901:
+				av7110->bmp_state != BMP_LOADING, 10*HZ);
 				                                    ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1202: FILE: drivers/media/dvb/ttpci/av7110_hw.c:903:
+		printk("dvb-ttpci: warning: timeout waiting in BlitBitmap: %d, %d\n",

CHECK:CAMELCASE: Avoid CamelCase: <LoadBitmap>
#1223: FILE: drivers/media/dvb/ttpci/av7110_hw.c:1000:
+		rc = LoadBitmap(av7110, bpp2bit[av7110->osdbpp[av7110->osdwin]],

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1224: FILE: drivers/media/dvb/ttpci/av7110_hw.c:1001:
+		rc = LoadBitmap(av7110, bpp2bit[av7110->osdbpp[av7110->osdwin]],
 			   w, lpb, inc, data);

CHECK:CAMELCASE: Avoid CamelCase: <BlitBitmap>
#1228: FILE: drivers/media/dvb/ttpci/av7110_hw.c:1004:
+		rc = BlitBitmap(av7110, av7110->osdwin, x0, y0 + i * lpb, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1236: FILE: drivers/media/dvb/ttpci/av7110_hw.c:1011:
+		rc = LoadBitmap(av7110, bpp2bit[av7110->osdbpp[av7110->osdwin]],
 			   w, brest / bpl, inc, data);

CHECK:CAMELCASE: Avoid CamelCase: <OSDSetBlock>
#1260: FILE: drivers/media/dvb/ttpci/av7110_hw.c:1098:
+		ret = OSDSetBlock(av7110, dc->x0, dc->y0, dc->x1, dc->y1, dc->color, dc->data);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1322: FILE: drivers/media/dvb/ttpci/budget-core.c:90:
+        switch(budget->card->type) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1322: FILE: drivers/media/dvb/ttpci/budget-core.c:90:
+        switch(budget->card->type) {$

ERROR:SPACING: space required before the open parenthesis '('
#1322: FILE: drivers/media/dvb/ttpci/budget-core.c:90:
+        switch(budget->card->type) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#1372: FILE: drivers/media/dvb/ttpci/budget-patch.c:48:
+        MAKE_EXTENSION_PCI(ttbp,0x13c2, 0x0000),$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1372: FILE: drivers/media/dvb/ttpci/budget-patch.c:48:
+        MAKE_EXTENSION_PCI(ttbp,0x13c2, 0x0000),$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1372: FILE: drivers/media/dvb/ttpci/budget-patch.c:48:
+        MAKE_EXTENSION_PCI(ttbp,0x13c2, 0x0000),
                                ^

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#1381: FILE: drivers/media/dvb/ttpci/budget-patch.c:56:
+/* those lines are for budget-patch to be tried
+** on a true budget card and observe the

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1383: FILE: drivers/media/dvb/ttpci/budget-patch.c:58:
+** this code was shamelessly copy/pasted from budget.c $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1385: FILE: drivers/media/dvb/ttpci/budget-patch.c:60:
+static void gpio_Set22K (struct budget *budget, int state)

CHECK:CAMELCASE: Avoid CamelCase: <gpio_Set22K>
#1385: FILE: drivers/media/dvb/ttpci/budget-patch.c:60:
+static void gpio_Set22K (struct budget *budget, int state)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1387: FILE: drivers/media/dvb/ttpci/budget-patch.c:62:
+	struct saa7146_dev *dev=budget->dev;
 	                       ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1388: FILE: drivers/media/dvb/ttpci/budget-patch.c:63:
+	struct saa7146_dev *dev=budget->dev;
+	dprintk(2, "budget: %p\n", budget);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1394: FILE: drivers/media/dvb/ttpci/budget-patch.c:69:
+/* taken from the Skyvision DVB driver by
+   Ralph Metzler <rjkm@metzlerbros.de> */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1394: FILE: drivers/media/dvb/ttpci/budget-patch.c:69:
+   Ralph Metzler <rjkm@metzlerbros.de> */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1396: FILE: drivers/media/dvb/ttpci/budget-patch.c:71:
+static void DiseqcSendBit (struct budget *budget, int data)

CHECK:CAMELCASE: Avoid CamelCase: <DiseqcSendBit>
#1396: FILE: drivers/media/dvb/ttpci/budget-patch.c:71:
+static void DiseqcSendBit (struct budget *budget, int data)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1398: FILE: drivers/media/dvb/ttpci/budget-patch.c:73:
+	struct saa7146_dev *dev=budget->dev;
 	                       ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1399: FILE: drivers/media/dvb/ttpci/budget-patch.c:74:
+	struct saa7146_dev *dev=budget->dev;
+	dprintk(2, "budget: %p\n", budget);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1407: FILE: drivers/media/dvb/ttpci/budget-patch.c:82:
+static void DiseqcSendByte (struct budget *budget, int data)

CHECK:CAMELCASE: Avoid CamelCase: <DiseqcSendByte>
#1407: FILE: drivers/media/dvb/ttpci/budget-patch.c:82:
+static void DiseqcSendByte (struct budget *budget, int data)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1409: FILE: drivers/media/dvb/ttpci/budget-patch.c:84:
+	int i, par=1, d;
 	          ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1413: FILE: drivers/media/dvb/ttpci/budget-patch.c:88:
+	for (i=7; i>=0; i--) {
 	      ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#1413: FILE: drivers/media/dvb/ttpci/budget-patch.c:88:
+	for (i=7; i>=0; i--) {
 	           ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#1414: FILE: drivers/media/dvb/ttpci/budget-patch.c:89:
+		d = (data>>i)&1;
 		         ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#1414: FILE: drivers/media/dvb/ttpci/budget-patch.c:89:
+		d = (data>>i)&1;
 		             ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1422: FILE: drivers/media/dvb/ttpci/budget-patch.c:97:
+static int SendDiSEqCMsg (struct budget *budget, int len, u8 *msg, unsigned long burst)

CHECK:CAMELCASE: Avoid CamelCase: <SendDiSEqCMsg>
#1422: FILE: drivers/media/dvb/ttpci/budget-patch.c:97:
+static int SendDiSEqCMsg (struct budget *budget, int len, u8 *msg, unsigned long burst)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1434: FILE: drivers/media/dvb/ttpci/budget-patch.c:107:
+	for (i=0; i<len; i++)
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1434: FILE: drivers/media/dvb/ttpci/budget-patch.c:107:
+	for (i=0; i<len; i++)
 	           ^

ERROR:SPACING: spaces required around that '!=' (ctx:VxO)
#1439: FILE: drivers/media/dvb/ttpci/budget-patch.c:112:
+	if (burst!=-1) {
 	         ^

ERROR:SPACING: space required before that '-' (ctx:OxV)
#1439: FILE: drivers/media/dvb/ttpci/budget-patch.c:112:
+	if (burst!=-1) {
 	           ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#1440: FILE: drivers/media/dvb/ttpci/budget-patch.c:113:
+		if (burst)
[...]
+		else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1442: FILE: drivers/media/dvb/ttpci/budget-patch.c:115:
+		else {

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#1444: FILE: drivers/media/dvb/ttpci/budget-patch.c:117:
+			udelay(12500);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

WARNING:LONG_UDELAY: long udelay - prefer mdelay; see arch/arm/include/asm/delay.h
#1444: FILE: drivers/media/dvb/ttpci/budget-patch.c:117:
+			udelay(12500);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1453: FILE: drivers/media/dvb/ttpci/budget-patch.c:126:
+/* shamelessly copy/pasted from budget.c $

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#1454: FILE: drivers/media/dvb/ttpci/budget-patch.c:127:
+/* shamelessly copy/pasted from budget.c 
+*/

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1455: FILE: drivers/media/dvb/ttpci/budget-patch.c:128:
+static int budget_set_tone(struct dvb_frontend* fe, fe_sec_tone_mode_t tone)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#1457: FILE: drivers/media/dvb/ttpci/budget-patch.c:130:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1457: FILE: drivers/media/dvb/ttpci/budget-patch.c:130:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1457: FILE: drivers/media/dvb/ttpci/budget-patch.c:130:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1461: FILE: drivers/media/dvb/ttpci/budget-patch.c:134:
+		gpio_Set22K (budget, 1);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1465: FILE: drivers/media/dvb/ttpci/budget-patch.c:138:
+		gpio_Set22K (budget, 0);

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1476: FILE: drivers/media/dvb/ttpci/budget-patch.c:148:
+static int budget_diseqc_send_master_cmd(struct dvb_frontend* fe, struct dvb_diseqc_master_cmd* cmd)

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1476: FILE: drivers/media/dvb/ttpci/budget-patch.c:148:
+static int budget_diseqc_send_master_cmd(struct dvb_frontend* fe, struct dvb_diseqc_master_cmd* cmd)

CHECK:SPACING: No space is necessary after a cast
#1478: FILE: drivers/media/dvb/ttpci/budget-patch.c:150:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1478: FILE: drivers/media/dvb/ttpci/budget-patch.c:150:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1478: FILE: drivers/media/dvb/ttpci/budget-patch.c:150:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1484: FILE: drivers/media/dvb/ttpci/budget-patch.c:152:
+	SendDiSEqCMsg (budget, cmd->msg_len, cmd->msg, 0);

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1489: FILE: drivers/media/dvb/ttpci/budget-patch.c:157:
+static int budget_diseqc_send_burst(struct dvb_frontend* fe, fe_sec_mini_cmd_t minicmd)

CHECK:SPACING: No space is necessary after a cast
#1491: FILE: drivers/media/dvb/ttpci/budget-patch.c:159:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1491: FILE: drivers/media/dvb/ttpci/budget-patch.c:159:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1491: FILE: drivers/media/dvb/ttpci/budget-patch.c:159:
+	struct budget* budget = (struct budget*) fe->dvb->priv;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1493: FILE: drivers/media/dvb/ttpci/budget-patch.c:161:
+	SendDiSEqCMsg (budget, 0, NULL, minicmd);

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#1503: FILE: drivers/media/dvb/ttpci/budget-patch.c:172:
         for (i = 2; i < length; i++)
+        {

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 18)
#1503: FILE: drivers/media/dvb/ttpci/budget-patch.c:172:
         for (i = 2; i < length; i++)
+        {

ERROR:CODE_INDENT: code indent should use tabs where possible
#1506: FILE: drivers/media/dvb/ttpci/budget-patch.c:173:
+        {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1506: FILE: drivers/media/dvb/ttpci/budget-patch.c:173:
+        {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1507: FILE: drivers/media/dvb/ttpci/budget-patch.c:174:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2*i, 2, (u32) buf[i], 0,0);$

CHECK:SPACING: No space is necessary after a cast
#1507: FILE: drivers/media/dvb/ttpci/budget-patch.c:174:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2*i, 2, (u32) buf[i], 0,0);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1507: FILE: drivers/media/dvb/ttpci/budget-patch.c:174:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2*i, 2, (u32) buf[i], 0,0);$

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1507: FILE: drivers/media/dvb/ttpci/budget-patch.c:174:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2*i, 2, (u32) buf[i], 0,0);
                                                                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1507: FILE: drivers/media/dvb/ttpci/budget-patch.c:174:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2*i, 2, (u32) buf[i], 0,0);
                                                                                               ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1508: FILE: drivers/media/dvb/ttpci/budget-patch.c:175:
+                  msleep(5);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1508: FILE: drivers/media/dvb/ttpci/budget-patch.c:175:
+                  msleep(5);$

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#1508: FILE: drivers/media/dvb/ttpci/budget-patch.c:175:
+                  msleep(5);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1509: FILE: drivers/media/dvb/ttpci/budget-patch.c:176:
+        }                  $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1509: FILE: drivers/media/dvb/ttpci/budget-patch.c:176:
+        }                  $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1509: FILE: drivers/media/dvb/ttpci/budget-patch.c:176:
+        }                  $

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 18)
#1510: FILE: drivers/media/dvb/ttpci/budget-patch.c:177:
         if (length)
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, (u32) buf[1], 0,0);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1512: FILE: drivers/media/dvb/ttpci/budget-patch.c:178:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, (u32) buf[1], 0,0);$

CHECK:SPACING: No space is necessary after a cast
#1512: FILE: drivers/media/dvb/ttpci/budget-patch.c:178:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, (u32) buf[1], 0,0);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1512: FILE: drivers/media/dvb/ttpci/budget-patch.c:178:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, (u32) buf[1], 0,0);$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1512: FILE: drivers/media/dvb/ttpci/budget-patch.c:178:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, (u32) buf[1], 0,0);
                                                                                             ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 18)
#1513: FILE: drivers/media/dvb/ttpci/budget-patch.c:179:
         else
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, 0, 0,0);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1517: FILE: drivers/media/dvb/ttpci/budget-patch.c:180:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, 0, 0,0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1517: FILE: drivers/media/dvb/ttpci/budget-patch.c:180:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, 0, 0,0);$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1517: FILE: drivers/media/dvb/ttpci/budget-patch.c:180:
+                  ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND + 2, 2, 0, 0,0);
                                                                                  ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1518: FILE: drivers/media/dvb/ttpci/budget-patch.c:181:
+        msleep(5);     $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1518: FILE: drivers/media/dvb/ttpci/budget-patch.c:181:
+        msleep(5);     $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1518: FILE: drivers/media/dvb/ttpci/budget-patch.c:181:
+        msleep(5);     $

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#1518: FILE: drivers/media/dvb/ttpci/budget-patch.c:181:
+        msleep(5);     

ERROR:CODE_INDENT: code indent should use tabs where possible
#1519: FILE: drivers/media/dvb/ttpci/budget-patch.c:182:
+        ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND, 2, (u32) buf[0], 0,0);$

CHECK:SPACING: No space is necessary after a cast
#1519: FILE: drivers/media/dvb/ttpci/budget-patch.c:182:
+        ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND, 2, (u32) buf[0], 0,0);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1519: FILE: drivers/media/dvb/ttpci/budget-patch.c:182:
+        ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND, 2, (u32) buf[0], 0,0);$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1519: FILE: drivers/media/dvb/ttpci/budget-patch.c:182:
+        ttpci_budget_debiwrite(budget, DEBINOSWAP, COMMAND, 2, (u32) buf[0], 0,0);
                                                                               ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1520: FILE: drivers/media/dvb/ttpci/budget-patch.c:183:
+        msleep(5);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1520: FILE: drivers/media/dvb/ttpci/budget-patch.c:183:
+        msleep(5);$

WARNING:MSLEEP: msleep < 20ms can sleep for up to 20ms; see Documentation/timers/timers-howto.rst
#1520: FILE: drivers/media/dvb/ttpci/budget-patch.c:183:
+        msleep(5);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1528: FILE: drivers/media/dvb/ttpci/budget-patch.c:418:
+        case 0x1013: // SATELCO Multimedia PCI$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1528: FILE: drivers/media/dvb/ttpci/budget-patch.c:418:
+        case 0x1013: // SATELCO Multimedia PCI$

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#1539: FILE: drivers/media/dvb/ttpci/budget-patch.c:432:
+			budget->dvb_frontend->ops->diseqc_send_master_cmd = budget_diseqc_send_master_cmd;

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#1551: FILE: drivers/media/dvb/ttpci/budget-patch.c:441:
+			budget->dvb_frontend->ops->diseqc_send_master_cmd = budget_diseqc_send_master_cmd;

ERROR:CODE_INDENT: code indent should use tabs where possible
#1575: FILE: drivers/media/dvb/ttpci/budget-patch.c:477:
+        saa7146_write(dev, MC1, MASK_31);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1575: FILE: drivers/media/dvb/ttpci/budget-patch.c:477:
+        saa7146_write(dev, MC1, MASK_31);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1576: FILE: drivers/media/dvb/ttpci/budget-patch.c:478:
+        msleep(40);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1576: FILE: drivers/media/dvb/ttpci/budget-patch.c:478:
+        msleep(40);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1579: FILE: drivers/media/dvb/ttpci/budget-patch.c:481:
+        // initialize registers. Better to have it like this$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1580: FILE: drivers/media/dvb/ttpci/budget-patch.c:482:
+        // than leaving something unconfigured$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1589: FILE: drivers/media/dvb/ttpci/budget-patch.c:491:
+        // zero all HPS registers$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1590: FILE: drivers/media/dvb/ttpci/budget-patch.c:492:
+        saa7146_write(dev, HPS_H_PRESCALE, 0);                  // r68$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1590: FILE: drivers/media/dvb/ttpci/budget-patch.c:492:
+        saa7146_write(dev, HPS_H_PRESCALE, 0);                  // r68$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1591: FILE: drivers/media/dvb/ttpci/budget-patch.c:493:
+        saa7146_write(dev, HPS_H_SCALE, 0);                     // r6c$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1591: FILE: drivers/media/dvb/ttpci/budget-patch.c:493:
+        saa7146_write(dev, HPS_H_SCALE, 0);                     // r6c$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1592: FILE: drivers/media/dvb/ttpci/budget-patch.c:494:
+        saa7146_write(dev, BCS_CTRL, 0);                        // r70$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1592: FILE: drivers/media/dvb/ttpci/budget-patch.c:494:
+        saa7146_write(dev, BCS_CTRL, 0);                        // r70$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1593: FILE: drivers/media/dvb/ttpci/budget-patch.c:495:
+        saa7146_write(dev, HPS_V_SCALE, 0);                     // r60$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1593: FILE: drivers/media/dvb/ttpci/budget-patch.c:495:
+        saa7146_write(dev, HPS_V_SCALE, 0);                     // r60$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1594: FILE: drivers/media/dvb/ttpci/budget-patch.c:496:
+        saa7146_write(dev, HPS_V_GAIN, 0);                      // r64$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1594: FILE: drivers/media/dvb/ttpci/budget-patch.c:496:
+        saa7146_write(dev, HPS_V_GAIN, 0);                      // r64$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1595: FILE: drivers/media/dvb/ttpci/budget-patch.c:497:
+        saa7146_write(dev, CHROMA_KEY_RANGE, 0);                // r74$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1595: FILE: drivers/media/dvb/ttpci/budget-patch.c:497:
+        saa7146_write(dev, CHROMA_KEY_RANGE, 0);                // r74$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1596: FILE: drivers/media/dvb/ttpci/budget-patch.c:498:
+        saa7146_write(dev, CLIP_FORMAT_CTRL, 0);                // r78$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1596: FILE: drivers/media/dvb/ttpci/budget-patch.c:498:
+        saa7146_write(dev, CLIP_FORMAT_CTRL, 0);                // r78$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1597: FILE: drivers/media/dvb/ttpci/budget-patch.c:499:
+        // Set HPS prescaler for port B input$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1598: FILE: drivers/media/dvb/ttpci/budget-patch.c:500:
+        saa7146_write(dev, HPS_CTRL, (1<<30) | (0<<29) | (1<<28) | (0<<12) );$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1598: FILE: drivers/media/dvb/ttpci/budget-patch.c:500:
+        saa7146_write(dev, HPS_CTRL, (1<<30) | (0<<29) | (1<<28) | (0<<12) );$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1598: FILE: drivers/media/dvb/ttpci/budget-patch.c:500:
+        saa7146_write(dev, HPS_CTRL, (1<<30) | (0<<29) | (1<<28) | (0<<12) );
                                        ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1598: FILE: drivers/media/dvb/ttpci/budget-patch.c:500:
+        saa7146_write(dev, HPS_CTRL, (1<<30) | (0<<29) | (1<<28) | (0<<12) );
                                                  ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1598: FILE: drivers/media/dvb/ttpci/budget-patch.c:500:
+        saa7146_write(dev, HPS_CTRL, (1<<30) | (0<<29) | (1<<28) | (0<<12) );
                                                            ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1598: FILE: drivers/media/dvb/ttpci/budget-patch.c:500:
+        saa7146_write(dev, HPS_CTRL, (1<<30) | (0<<29) | (1<<28) | (0<<12) );
                                                                      ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1598: FILE: drivers/media/dvb/ttpci/budget-patch.c:500:
+        saa7146_write(dev, HPS_CTRL, (1<<30) | (0<<29) | (1<<28) | (0<<12) );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1599: FILE: drivers/media/dvb/ttpci/budget-patch.c:501:
+        saa7146_write(dev, MC2, $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1599: FILE: drivers/media/dvb/ttpci/budget-patch.c:501:
+        saa7146_write(dev, MC2, $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1599: FILE: drivers/media/dvb/ttpci/budget-patch.c:501:
+        saa7146_write(dev, MC2, $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1600: FILE: drivers/media/dvb/ttpci/budget-patch.c:502:
+          0 * (MASK_08 | MASK_24)  |   // BRS control$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1600: FILE: drivers/media/dvb/ttpci/budget-patch.c:502:
+        saa7146_write(dev, MC2, 
+          0 * (MASK_08 | MASK_24)  |   // BRS control

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1600: FILE: drivers/media/dvb/ttpci/budget-patch.c:502:
+          0 * (MASK_08 | MASK_24)  |   // BRS control$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1601: FILE: drivers/media/dvb/ttpci/budget-patch.c:503:
+          0 * (MASK_09 | MASK_25)  |   // a$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1601: FILE: drivers/media/dvb/ttpci/budget-patch.c:503:
+          0 * (MASK_09 | MASK_25)  |   // a$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1602: FILE: drivers/media/dvb/ttpci/budget-patch.c:504:
+          0 * (MASK_10 | MASK_26)  |   // b$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1602: FILE: drivers/media/dvb/ttpci/budget-patch.c:504:
+          0 * (MASK_10 | MASK_26)  |   // b$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1603: FILE: drivers/media/dvb/ttpci/budget-patch.c:505:
+          1 * (MASK_06 | MASK_22)  |   // HPS_CTRL1$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1603: FILE: drivers/media/dvb/ttpci/budget-patch.c:505:
+          1 * (MASK_06 | MASK_22)  |   // HPS_CTRL1$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1604: FILE: drivers/media/dvb/ttpci/budget-patch.c:506:
+          1 * (MASK_05 | MASK_21)  |   // HPS_CTRL2$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1604: FILE: drivers/media/dvb/ttpci/budget-patch.c:506:
+          1 * (MASK_05 | MASK_21)  |   // HPS_CTRL2$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1605: FILE: drivers/media/dvb/ttpci/budget-patch.c:507:
+          0 * (MASK_01 | MASK_15)      // DEBI$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1605: FILE: drivers/media/dvb/ttpci/budget-patch.c:507:
+          0 * (MASK_01 | MASK_15)      // DEBI$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1606: FILE: drivers/media/dvb/ttpci/budget-patch.c:508:
+           );$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1606: FILE: drivers/media/dvb/ttpci/budget-patch.c:508:
+           );$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1609: FILE: drivers/media/dvb/ttpci/budget-patch.c:511:
+        saa7146_write(dev, MC1, ( MASK_29 | MASK_28));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1609: FILE: drivers/media/dvb/ttpci/budget-patch.c:511:
+        saa7146_write(dev, MC1, ( MASK_29 | MASK_28));$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1609: FILE: drivers/media/dvb/ttpci/budget-patch.c:511:
+        saa7146_write(dev, MC1, ( MASK_29 | MASK_28));

ERROR:CODE_INDENT: code indent should use tabs where possible
#1610: FILE: drivers/media/dvb/ttpci/budget-patch.c:512:
+        // RPS1 timeout disable$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1611: FILE: drivers/media/dvb/ttpci/budget-patch.c:513:
+        saa7146_write(dev, RPS_TOV1, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1611: FILE: drivers/media/dvb/ttpci/budget-patch.c:513:
+        saa7146_write(dev, RPS_TOV1, 0);$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1613: FILE: drivers/media/dvb/ttpci/budget-patch.c:515:
+^I// code for autodetection $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1617: FILE: drivers/media/dvb/ttpci/budget-patch.c:519:
+^I// test if GPIO3 will generate vertical blank signal $

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1620: FILE: drivers/media/dvb/ttpci/budget-patch.c:522:
+#if 0

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1621: FILE: drivers/media/dvb/ttpci/budget-patch.c:523:
+^IWRITE_RPS1(cpu_to_le32(CMD_UPLOAD | $

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1622: FILE: drivers/media/dvb/ttpci/budget-patch.c:524:
+	  MASK_10 | MASK_09 | MASK_08 | MASK_06 | MASK_05 | MASK_04 | MASK_03 | MASK_02 ));

ERROR:CODE_INDENT: code indent should use tabs where possible
#1624: FILE: drivers/media/dvb/ttpci/budget-patch.c:526:
+        WRITE_RPS1(cpu_to_le32(CMD_PAUSE | EVT_VBI_B));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1624: FILE: drivers/media/dvb/ttpci/budget-patch.c:526:
+        WRITE_RPS1(cpu_to_le32(CMD_PAUSE | EVT_VBI_B));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1625: FILE: drivers/media/dvb/ttpci/budget-patch.c:527:
+        WRITE_RPS1(cpu_to_le32(CMD_WR_REG_MASK | (GPIO_CTRL>>2)));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1625: FILE: drivers/media/dvb/ttpci/budget-patch.c:527:
+        WRITE_RPS1(cpu_to_le32(CMD_WR_REG_MASK | (GPIO_CTRL>>2)));$

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#1625: FILE: drivers/media/dvb/ttpci/budget-patch.c:527:
+        WRITE_RPS1(cpu_to_le32(CMD_WR_REG_MASK | (GPIO_CTRL>>2)));
                                                            ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1626: FILE: drivers/media/dvb/ttpci/budget-patch.c:528:
+        WRITE_RPS1(cpu_to_le32(GPIO3_MSK));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1626: FILE: drivers/media/dvb/ttpci/budget-patch.c:528:
+        WRITE_RPS1(cpu_to_le32(GPIO3_MSK));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1627: FILE: drivers/media/dvb/ttpci/budget-patch.c:529:
+        WRITE_RPS1(cpu_to_le32(SAA7146_GPIO_OUTLO<<24));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1627: FILE: drivers/media/dvb/ttpci/budget-patch.c:529:
+        WRITE_RPS1(cpu_to_le32(SAA7146_GPIO_OUTLO<<24));$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1627: FILE: drivers/media/dvb/ttpci/budget-patch.c:529:
+        WRITE_RPS1(cpu_to_le32(SAA7146_GPIO_OUTLO<<24));
                                                  ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1629: FILE: drivers/media/dvb/ttpci/budget-patch.c:531:
+        // issue RPS1 interrupt to increment counter$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1630: FILE: drivers/media/dvb/ttpci/budget-patch.c:532:
+        WRITE_RPS1(cpu_to_le32(CMD_INTERRUPT));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1630: FILE: drivers/media/dvb/ttpci/budget-patch.c:532:
+        WRITE_RPS1(cpu_to_le32(CMD_INTERRUPT));$

WARNING:TYPO_SPELLING: 'neede' may be misspelled - perhaps 'needed'?
#1631: FILE: drivers/media/dvb/ttpci/budget-patch.c:533:
+        // at least a NOP is neede between two interrupts
                              ^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1631: FILE: drivers/media/dvb/ttpci/budget-patch.c:533:
+        // at least a NOP is neede between two interrupts$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1632: FILE: drivers/media/dvb/ttpci/budget-patch.c:534:
+        WRITE_RPS1(cpu_to_le32(CMD_NOP));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1632: FILE: drivers/media/dvb/ttpci/budget-patch.c:534:
+        WRITE_RPS1(cpu_to_le32(CMD_NOP));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1633: FILE: drivers/media/dvb/ttpci/budget-patch.c:535:
+        // interrupt again$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1634: FILE: drivers/media/dvb/ttpci/budget-patch.c:536:
+        WRITE_RPS1(cpu_to_le32(CMD_INTERRUPT));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1634: FILE: drivers/media/dvb/ttpci/budget-patch.c:536:
+        WRITE_RPS1(cpu_to_le32(CMD_INTERRUPT));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1636: FILE: drivers/media/dvb/ttpci/budget-patch.c:538:
+        WRITE_RPS1(cpu_to_le32(CMD_STOP));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1636: FILE: drivers/media/dvb/ttpci/budget-patch.c:538:
+        WRITE_RPS1(cpu_to_le32(CMD_STOP));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1639: FILE: drivers/media/dvb/ttpci/budget-patch.c:541:
+        // set event counter 1 source as RPS1 interrupt (0x03)          (rE4 p53)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1640: FILE: drivers/media/dvb/ttpci/budget-patch.c:542:
+        // use 0x03 to track RPS1 interrupts - increase by 1 every gpio3 is toggled$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1641: FILE: drivers/media/dvb/ttpci/budget-patch.c:543:
+        // use 0x15 to track VPE  interrupts - increase by 1 every vpeirq() is called$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1642: FILE: drivers/media/dvb/ttpci/budget-patch.c:544:
+        saa7146_write(dev, EC1SSR, (0x03<<2) | 3 );$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1642: FILE: drivers/media/dvb/ttpci/budget-patch.c:544:
+        saa7146_write(dev, EC1SSR, (0x03<<2) | 3 );$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1642: FILE: drivers/media/dvb/ttpci/budget-patch.c:544:
+        saa7146_write(dev, EC1SSR, (0x03<<2) | 3 );
                                         ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1642: FILE: drivers/media/dvb/ttpci/budget-patch.c:544:
+        saa7146_write(dev, EC1SSR, (0x03<<2) | 3 );

WARNING:TYPO_SPELLING: 'treshold' may be misspelled - perhaps 'threshold'?
#1643: FILE: drivers/media/dvb/ttpci/budget-patch.c:545:
+        // set event counter 1 treshold to maximum allowed value        (rEC p55)
                                ^^^^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1643: FILE: drivers/media/dvb/ttpci/budget-patch.c:545:
+        // set event counter 1 treshold to maximum allowed value        (rEC p55)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1644: FILE: drivers/media/dvb/ttpci/budget-patch.c:546:
+        saa7146_write(dev, ECT1R,  0x3fff );$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1644: FILE: drivers/media/dvb/ttpci/budget-patch.c:546:
+        saa7146_write(dev, ECT1R,  0x3fff );$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1644: FILE: drivers/media/dvb/ttpci/budget-patch.c:546:
+        saa7146_write(dev, ECT1R,  0x3fff );

ERROR:CODE_INDENT: code indent should use tabs where possible
#1646: FILE: drivers/media/dvb/ttpci/budget-patch.c:548:
+        // Fix VSYNC level$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1647: FILE: drivers/media/dvb/ttpci/budget-patch.c:549:
+        saa7146_setgpio(dev, 3, SAA7146_GPIO_OUTLO);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1647: FILE: drivers/media/dvb/ttpci/budget-patch.c:549:
+        saa7146_setgpio(dev, 3, SAA7146_GPIO_OUTLO);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1648: FILE: drivers/media/dvb/ttpci/budget-patch.c:550:
+        // Set RPS1 Address register to point to RPS code               (r108 p42)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1649: FILE: drivers/media/dvb/ttpci/budget-patch.c:551:
+        saa7146_write(dev, RPS_ADDR1, dev->d_rps1.dma_handle);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1649: FILE: drivers/media/dvb/ttpci/budget-patch.c:551:
+        saa7146_write(dev, RPS_ADDR1, dev->d_rps1.dma_handle);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1650: FILE: drivers/media/dvb/ttpci/budget-patch.c:552:
+        // Enable RPS1,                                                 (rFC p33)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1651: FILE: drivers/media/dvb/ttpci/budget-patch.c:553:
+        saa7146_write(dev, MC1, (MASK_13 | MASK_29 ));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1651: FILE: drivers/media/dvb/ttpci/budget-patch.c:553:
+        saa7146_write(dev, MC1, (MASK_13 | MASK_29 ));$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1651: FILE: drivers/media/dvb/ttpci/budget-patch.c:553:
+        saa7146_write(dev, MC1, (MASK_13 | MASK_29 ));

ERROR:CODE_INDENT: code indent should use tabs where possible
#1659: FILE: drivers/media/dvb/ttpci/budget-patch.c:556:
+        mdelay(50);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1659: FILE: drivers/media/dvb/ttpci/budget-patch.c:556:
+        mdelay(50);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1660: FILE: drivers/media/dvb/ttpci/budget-patch.c:557:
+        saa7146_setgpio(dev, 3, SAA7146_GPIO_OUTHI);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1660: FILE: drivers/media/dvb/ttpci/budget-patch.c:557:
+        saa7146_setgpio(dev, 3, SAA7146_GPIO_OUTHI);$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1663: FILE: drivers/media/dvb/ttpci/budget-patch.c:560:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1663: FILE: drivers/media/dvb/ttpci/budget-patch.c:560:
+
+	

ERROR:SPACING: space prohibited after that open parenthesis '('
#1664: FILE: drivers/media/dvb/ttpci/budget-patch.c:561:
+	if( (saa7146_read(dev, GPIO_CTRL) & 0x10000000) == 0)

ERROR:SPACING: space required before the open parenthesis '('
#1664: FILE: drivers/media/dvb/ttpci/budget-patch.c:561:
+	if( (saa7146_read(dev, GPIO_CTRL) & 0x10000000) == 0)

ERROR:CODE_INDENT: code indent should use tabs where possible
#1668: FILE: drivers/media/dvb/ttpci/budget-patch.c:565:
+        printk("Event Counter 1 0x%04x\n", saa7146_read(dev, EC1R) & 0x3fff );$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1668: FILE: drivers/media/dvb/ttpci/budget-patch.c:565:
+        printk("Event Counter 1 0x%04x\n", saa7146_read(dev, EC1R) & 0x3fff );$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1668: FILE: drivers/media/dvb/ttpci/budget-patch.c:565:
+        printk("Event Counter 1 0x%04x\n", saa7146_read(dev, EC1R) & 0x3fff );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1668: FILE: drivers/media/dvb/ttpci/budget-patch.c:565:
+        printk("Event Counter 1 0x%04x\n", saa7146_read(dev, EC1R) & 0x3fff );

ERROR:CODE_INDENT: code indent should use tabs where possible
#1671: FILE: drivers/media/dvb/ttpci/budget-patch.c:568:
+        saa7146_write(dev, MC1, ( MASK_29 ));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1671: FILE: drivers/media/dvb/ttpci/budget-patch.c:568:
+        saa7146_write(dev, MC1, ( MASK_29 ));$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1671: FILE: drivers/media/dvb/ttpci/budget-patch.c:568:
+        saa7146_write(dev, MC1, ( MASK_29 ));

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1671: FILE: drivers/media/dvb/ttpci/budget-patch.c:568:
+        saa7146_write(dev, MC1, ( MASK_29 ));

ERROR:SPACING: space required before the open parenthesis '('
#1673: FILE: drivers/media/dvb/ttpci/budget-patch.c:570:
+	if(detected == 0)

ERROR:CODE_INDENT: code indent should use tabs where possible
#1674: FILE: drivers/media/dvb/ttpci/budget-patch.c:571:
+                printk("budget-patch not detected or saa7146 in non-default state.\n"$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1674: FILE: drivers/media/dvb/ttpci/budget-patch.c:571:
+                printk("budget-patch not detected or saa7146 in non-default state.\n"$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1674: FILE: drivers/media/dvb/ttpci/budget-patch.c:571:
+                printk("budget-patch not detected or saa7146 in non-default state.\n"

WARNING:TYPO_SPELLING: 'ressetting' may be misspelled - perhaps 'resetting'?
#1675: FILE: drivers/media/dvb/ttpci/budget-patch.c:572:
+                       "try enabling ressetting of 7146 with MASK_31 in MC1 register\n");
                                      ^^^^^^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1675: FILE: drivers/media/dvb/ttpci/budget-patch.c:572:
+                       "try enabling ressetting of 7146 with MASK_31 in MC1 register\n");$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1675: FILE: drivers/media/dvb/ttpci/budget-patch.c:572:
+                       "try enabling ressetting of 7146 with MASK_31 in MC1 register\n");$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1676: FILE: drivers/media/dvb/ttpci/budget-patch.c:573:
+                $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1676: FILE: drivers/media/dvb/ttpci/budget-patch.c:573:
+                $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1676: FILE: drivers/media/dvb/ttpci/budget-patch.c:573:
+                $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1678: FILE: drivers/media/dvb/ttpci/budget-patch.c:575:
+                printk("BUDGET-PATCH DETECTED.\n");$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1678: FILE: drivers/media/dvb/ttpci/budget-patch.c:575:
+                printk("BUDGET-PATCH DETECTED.\n");$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1678: FILE: drivers/media/dvb/ttpci/budget-patch.c:575:
+                printk("BUDGET-PATCH DETECTED.\n");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1681: FILE: drivers/media/dvb/ttpci/budget-patch.c:577:
 
+

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#1691: FILE: drivers/media/dvb/ttpci/budget-patch.c:591:
+/*      New design (By Emard)
+**      this rps1 code will copy internal HS event to GPIO3 pin.

WARNING:TYPO_SPELLING: 'connectd' may be misspelled - perhaps 'connected'?
#1692: FILE: drivers/media/dvb/ttpci/budget-patch.c:592:
+**      GPIO3 is in budget-patch hardware connectd to port B VSYNC
                                           ^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1695: FILE: drivers/media/dvb/ttpci/budget-patch.c:595:
+**      and temporarily raised high every n lines $

WARNING:TYPO_SPELLING: 'receiption' may be misspelled - perhaps 'reception'?
#1699: FILE: drivers/media/dvb/ttpci/budget-patch.c:599:
+**      it is completely received. When the receiption of n-th line
                                             ^^^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1702: FILE: drivers/media/dvb/ttpci/budget-patch.c:602:
+**      To transmit data over DMA, 7146 needs changing state at $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1703: FILE: drivers/media/dvb/ttpci/budget-patch.c:603:
+**      port B VSYNC pin. Any changing of port B VSYNC will $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1705: FILE: drivers/media/dvb/ttpci/budget-patch.c:605:
+**      It depends on the phase and frequency of VSYNC and $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1710: FILE: drivers/media/dvb/ttpci/budget-patch.c:610:
+**      The correct triggering can minimize packet loss, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1714: FILE: drivers/media/dvb/ttpci/budget-patch.c:614:
+**      by experiment it is found that the best results $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1715: FILE: drivers/media/dvb/ttpci/budget-patch.c:615:
+**      (stable bandwidths and almost no packet loss) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1716: FILE: drivers/media/dvb/ttpci/budget-patch.c:616:
+**      are obtained using DD1_INIT triggering number 2 $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1717: FILE: drivers/media/dvb/ttpci/budget-patch.c:617:
+**      (Va at rising edge of VS Fa = HS x VS-failing forced toggle) $

WARNING:TYPO_SPELLING: 'cant' may be misspelled - perhaps 'can't'?
#1728: FILE: drivers/media/dvb/ttpci/budget-patch.c:628:
+**      of HS but I cant be 100% sure in that. 
                     ^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1728: FILE: drivers/media/dvb/ttpci/budget-patch.c:628:
+**      of HS but I cant be 100% sure in that. $

WARNING:TYPO_SPELLING: 'freqency' may be misspelled - perhaps 'frequency'?
#1733: FILE: drivers/media/dvb/ttpci/budget-patch.c:633:
+**      and that means 3*25=75 Hz of interrupt freqency, as seen by
                                                ^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1734: FILE: drivers/media/dvb/ttpci/budget-patch.c:634:
+**      watch cat /proc/interrupts $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1739: FILE: drivers/media/dvb/ttpci/budget-patch.c:639:
+**      this means VSYNC line is not connected in the hardware. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1741: FILE: drivers/media/dvb/ttpci/budget-patch.c:641:
+**      The same behaviour of missing VSYNC can be duplicated on budget $

WARNING:TYPO_SPELLING: 'seting' may be misspelled - perhaps 'setting'?
#1742: FILE: drivers/media/dvb/ttpci/budget-patch.c:642:
+**      cards, by seting DD1_INIT trigger mode 7 in 3rd nibble.
                   ^^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1746: FILE: drivers/media/dvb/ttpci/budget-patch.c:646:
+        count = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1746: FILE: drivers/media/dvb/ttpci/budget-patch.c:646:
+        count = 0;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1758: FILE: drivers/media/dvb/ttpci/budget-patch.c:656:
+        // issue RPS1 interrupt$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1759: FILE: drivers/media/dvb/ttpci/budget-patch.c:657:
+        WRITE_RPS1(cpu_to_le32(CMD_INTERRUPT));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1759: FILE: drivers/media/dvb/ttpci/budget-patch.c:657:
+        WRITE_RPS1(cpu_to_le32(CMD_INTERRUPT));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1770: FILE: drivers/media/dvb/ttpci/budget-patch.c:666:
+        // issue RPS1 interrupt$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1771: FILE: drivers/media/dvb/ttpci/budget-patch.c:667:
+        WRITE_RPS1(cpu_to_le32(CMD_INTERRUPT));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1771: FILE: drivers/media/dvb/ttpci/budget-patch.c:667:
+        WRITE_RPS1(cpu_to_le32(CMD_INTERRUPT));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1781: FILE: drivers/media/dvb/ttpci/budget-patch.c:678:
+        // It generates HS event every TS_HEIGHT lines$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1782: FILE: drivers/media/dvb/ttpci/budget-patch.c:679:
+        // this is related to TS_WIDTH set in register$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1783: FILE: drivers/media/dvb/ttpci/budget-patch.c:680:
+        // NUM_LINE_BYTE3 in budget-core.c. If NUM_LINE_BYTE$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1784: FILE: drivers/media/dvb/ttpci/budget-patch.c:681:
+        // low 16 bits are set to TS_WIDTH bytes (TS_WIDTH=2*188$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1785: FILE: drivers/media/dvb/ttpci/budget-patch.c:682:
+        //,then RPS_THRESH1$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1786: FILE: drivers/media/dvb/ttpci/budget-patch.c:683:
+        // should be set to trigger every TS_HEIGHT (512) lines.$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1787: FILE: drivers/media/dvb/ttpci/budget-patch.c:684:
+        // $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1787: FILE: drivers/media/dvb/ttpci/budget-patch.c:684:
+        // $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1788: FILE: drivers/media/dvb/ttpci/budget-patch.c:685:
+        saa7146_write(dev, RPS_THRESH1, (TS_HEIGHT*1) | MASK_12 );$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1788: FILE: drivers/media/dvb/ttpci/budget-patch.c:685:
+        saa7146_write(dev, RPS_THRESH1, (TS_HEIGHT*1) | MASK_12 );$

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1788: FILE: drivers/media/dvb/ttpci/budget-patch.c:685:
+        saa7146_write(dev, RPS_THRESH1, (TS_HEIGHT*1) | MASK_12 );
                                                   ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1788: FILE: drivers/media/dvb/ttpci/budget-patch.c:685:
+        saa7146_write(dev, RPS_THRESH1, (TS_HEIGHT*1) | MASK_12 );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1789: FILE: drivers/media/dvb/ttpci/budget-patch.c:686:
+        $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1789: FILE: drivers/media/dvb/ttpci/budget-patch.c:686:
+        $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1789: FILE: drivers/media/dvb/ttpci/budget-patch.c:686:
+        $

ERROR:CODE_INDENT: code indent should use tabs where possible
#1790: FILE: drivers/media/dvb/ttpci/budget-patch.c:687:
+        // saa7146_write(dev, RPS_THRESH0, ((TS_HEIGHT/2)<<16) |MASK_28| (TS_HEIGHT/2) |MASK_12 );$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1794: FILE: drivers/media/dvb/ttpci/budget-patch.c:691:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1794: FILE: drivers/media/dvb/ttpci/budget-patch.c:691:
 
+	

ERROR:CODE_INDENT: code indent should use tabs where possible
#1795: FILE: drivers/media/dvb/ttpci/budget-patch.c:692:
+        if (!(budget = kmalloc (sizeof(struct budget_patch), GFP_KERNEL)))$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1795: FILE: drivers/media/dvb/ttpci/budget-patch.c:692:
+        if (!(budget = kmalloc (sizeof(struct budget_patch), GFP_KERNEL)))$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1795: FILE: drivers/media/dvb/ttpci/budget-patch.c:692:
+        if (!(budget = kmalloc (sizeof(struct budget_patch), GFP_KERNEL)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1795: FILE: drivers/media/dvb/ttpci/budget-patch.c:692:
+        if (!(budget = kmalloc (sizeof(struct budget_patch), GFP_KERNEL)))

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*budget)...) over kmalloc(sizeof(struct budget_patch)...)
#1795: FILE: drivers/media/dvb/ttpci/budget-patch.c:692:
+        if (!(budget = kmalloc (sizeof(struct budget_patch), GFP_KERNEL)))

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:CODE_INDENT: code indent should use tabs where possible
#1796: FILE: drivers/media/dvb/ttpci/budget-patch.c:693:
+                return -ENOMEM;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1796: FILE: drivers/media/dvb/ttpci/budget-patch.c:693:
+                return -ENOMEM;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1798: FILE: drivers/media/dvb/ttpci/budget-patch.c:695:
+        dprintk(2, "budget: %p\n", budget);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1798: FILE: drivers/media/dvb/ttpci/budget-patch.c:695:
+        dprintk(2, "budget: %p\n", budget);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1800: FILE: drivers/media/dvb/ttpci/budget-patch.c:697:
+        if ((err = ttpci_budget_init (budget, dev, info, THIS_MODULE))) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1800: FILE: drivers/media/dvb/ttpci/budget-patch.c:697:
+        if ((err = ttpci_budget_init (budget, dev, info, THIS_MODULE))) {$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1800: FILE: drivers/media/dvb/ttpci/budget-patch.c:697:
+        if ((err = ttpci_budget_init (budget, dev, info, THIS_MODULE))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1800: FILE: drivers/media/dvb/ttpci/budget-patch.c:697:
+        if ((err = ttpci_budget_init (budget, dev, info, THIS_MODULE))) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#1801: FILE: drivers/media/dvb/ttpci/budget-patch.c:698:
+                kfree (budget);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1801: FILE: drivers/media/dvb/ttpci/budget-patch.c:698:
+                kfree (budget);$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1801: FILE: drivers/media/dvb/ttpci/budget-patch.c:698:
+                kfree (budget);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1802: FILE: drivers/media/dvb/ttpci/budget-patch.c:699:
+                return err;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1802: FILE: drivers/media/dvb/ttpci/budget-patch.c:699:
+                return err;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1803: FILE: drivers/media/dvb/ttpci/budget-patch.c:700:
+        }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1803: FILE: drivers/media/dvb/ttpci/budget-patch.c:700:
+        }$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1805: FILE: drivers/media/dvb/ttpci/budget-patch.c:702:
+
+

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000213082.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 172 errors, 150 warnings, 64 checks, 1676 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000213082.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
