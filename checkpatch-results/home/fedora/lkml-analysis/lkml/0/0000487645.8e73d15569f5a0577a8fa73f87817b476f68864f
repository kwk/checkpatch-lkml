WARNING:TYPO_SPELLING: 'neccessary' may be misspelled - perhaps 'necessary'?
#25: 
This is swsusp ported to 2.5.2-pre7. Swsusp is neccessary for acpi S4
                                               ^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#30: 
diff -ur -x .dep* -x .hdep* -x *.[oas] -x *~ -x #* -x *CVS* -x *.orig -x *.rej -x *.old -x .menu* -x asm -x local.h -x System.map -x autoconf.h -x compile.h -x version.h -x .version -x defkeymap.c -x uni_hash.tbl -x zImage -x vmlinux -x vmlinuz -x TAGS -x bootsect -x *RCS* -x conmakehash -x map -x build -x build -x configure -x *target* -x *.flags -x *.bak clean-pre/CREDITS linux-swsusp.pre/CREDITS

WARNING:TYPO_SPELLING: 'possibilty' may be misspelled - perhaps 'possibility'?
#64: FILE: Documentation/Configure.help:17287:
+  Enable the possibilty of suspendig machine. It doesn't need APM.
              ^^^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#81: FILE: Documentation/Configure.help:17304:
+  $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:MAINTAINERS_STYLE: Misordered MAINTAINERS entry - list 'M:' before 'P:'
#99: FILE: MAINTAINERS:1373:
+P:	Gabor Kuti
+M:	seasons@falcon.sch.bme.hu

WARNING:MAINTAINERS_STYLE: Misordered MAINTAINERS entry - list 'S:' before 'W:'
#103: FILE: MAINTAINERS:1377:
+W:	http://falcon.sch.bme.hu/~seasons/linux
+S:	Maintained

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#216: FILE: drivers/char/sysrq.c:337:
+static void sysrq_handle_swsusp(int key, struct pt_regs *pt_regs,
+		struct kbd_struct *kbd, struct tty_struct *tty) {

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#217: FILE: drivers/char/sysrq.c:338:
+static void sysrq_handle_swsusp(int key, struct pt_regs *pt_regs,
+		struct kbd_struct *kbd, struct tty_struct *tty) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#218: FILE: drivers/char/sysrq.c:339:
+        if(!software_suspend_enabled) {$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#218: FILE: drivers/char/sysrq.c:339:
+        if(!software_suspend_enabled) {$

ERROR:SPACING: space required before the open parenthesis '('
#218: FILE: drivers/char/sysrq.c:339:
+        if(!software_suspend_enabled) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#219: FILE: drivers/char/sysrq.c:340:
+		printk("Software Suspend is not possible now\n");

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#224: FILE: drivers/char/sysrq.c:345:
+}
+static struct sysrq_key_op sysrq_swsusp_op = {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:INDENTED_LABEL: labels should not be indented
#225: FILE: drivers/char/sysrq.c:346:
+	handler:	sysrq_handle_swsusp,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#226: FILE: drivers/char/sysrq.c:347:
+	help_msg:	"suspenD",
 	        ^

WARNING:INDENTED_LABEL: labels should not be indented
#226: FILE: drivers/char/sysrq.c:347:
+	help_msg:	"suspenD",

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#227: FILE: drivers/char/sysrq.c:348:
+	action_msg:	"Software suspend\n",
 	          ^

WARNING:INDENTED_LABEL: labels should not be indented
#227: FILE: drivers/char/sysrq.c:348:
+	action_msg:	"Software suspend\n",

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#344: FILE: include/asm-i386/suspend.h:1:
+#ifndef __ASM_I386_SWSUSP_H

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#357: FILE: include/asm-i386/suspend.h:14:
+/*
+  > I will give it a try. Why exactly does it need pse? I think in older

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:LINE_SPACING: Please don't use multiple blank lines
#368: FILE: include/asm-i386/suspend.h:25:
+
+

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#387: FILE: include/asm-i386/suspend.h:44:
+} __attribute__((packed));

ERROR:SPACING: space required after that ',' (ctx:VxV)
#391: FILE: include/asm-i386/suspend.h:48:
+#define loaddebug(thread,register) \
                         ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#392: FILE: include/asm-i386/suspend.h:49:
+               __asm__("movl %0,%%db" #register  \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#392: FILE: include/asm-i386/suspend.h:49:
+               __asm__("movl %0,%%db" #register  \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#393: FILE: include/asm-i386/suspend.h:50:
+                       : /* no output */ \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#393: FILE: include/asm-i386/suspend.h:50:
+                       : /* no output */ \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#394: FILE: include/asm-i386/suspend.h:51:
+                       :"r" ((thread)->debugreg[register]))$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#394: FILE: include/asm-i386/suspend.h:51:
+                       :"r" ((thread)->debugreg[register]))$

ERROR:SPACING: spaces required around that ':' (ctx:ExV)
#394: FILE: include/asm-i386/suspend.h:51:
+                       :"r" ((thread)->debugreg[register]))
                        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#396: FILE: include/asm-i386/suspend.h:53:
+ $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#396: FILE: include/asm-i386/suspend.h:53:
+
+ 

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#396: FILE: include/asm-i386/suspend.h:53:
+ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#399: FILE: include/asm-i386/suspend.h:56:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#404: FILE: include/asm-i386/suspend.h:61:
+ * many assumptions about the layout of the stack this far down.) Also, the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#405: FILE: include/asm-i386/suspend.h:62:
+ * handy little __builtin_frame_pointer(level) where level > 0, is blatantly $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#406: FILE: include/asm-i386/suspend.h:63:
+ * buggy - it returns the value of the stack at the proper location, not the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#408: FILE: include/asm-i386/suspend.h:65:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#413: FILE: include/asm-i386/suspend.h:70:
+ * place. $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#415: FILE: include/asm-i386/suspend.h:72:
+static inline void save_processor_context (void)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#433: FILE: include/asm-i386/suspend.h:90:
+^I * so it's avoided. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#453: FILE: include/asm-i386/suspend.h:110:
+^I * control registers $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#469: FILE: include/asm-i386/suspend.h:126:
+	struct tss_struct * t = &init_tss[nr];

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'neccessary' may be misspelled - perhaps 'necessary'?
#471: FILE: include/asm-i386/suspend.h:128:
+	set_tss_desc(nr,t);	/* This is neccessary?!!! */
 	                   	           ^^^^^^^^^^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#471: FILE: include/asm-i386/suspend.h:128:
+	set_tss_desc(nr,t);	/* This is neccessary?!!! */
 	               ^

ERROR:SPACING: space required before the open brace '{'
#478: FILE: include/asm-i386/suspend.h:135:
+	if (current->thread.debugreg[7]){

ERROR:CODE_INDENT: code indent should use tabs where possible
#479: FILE: include/asm-i386/suspend.h:136:
+                loaddebug(&current->thread, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#479: FILE: include/asm-i386/suspend.h:136:
+                loaddebug(&current->thread, 0);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#480: FILE: include/asm-i386/suspend.h:137:
+                loaddebug(&current->thread, 1);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#480: FILE: include/asm-i386/suspend.h:137:
+                loaddebug(&current->thread, 1);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#481: FILE: include/asm-i386/suspend.h:138:
+                loaddebug(&current->thread, 2);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#481: FILE: include/asm-i386/suspend.h:138:
+                loaddebug(&current->thread, 2);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#482: FILE: include/asm-i386/suspend.h:139:
+                loaddebug(&current->thread, 3);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#482: FILE: include/asm-i386/suspend.h:139:
+                loaddebug(&current->thread, 3);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#483: FILE: include/asm-i386/suspend.h:140:
+                /* no 4 and 5 */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#484: FILE: include/asm-i386/suspend.h:141:
+                loaddebug(&current->thread, 6);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#484: FILE: include/asm-i386/suspend.h:141:
+                loaddebug(&current->thread, 6);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#485: FILE: include/asm-i386/suspend.h:142:
+                loaddebug(&current->thread, 7);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#485: FILE: include/asm-i386/suspend.h:142:
+                loaddebug(&current->thread, 7);$

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#488: FILE: include/asm-i386/suspend.h:145:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#493: FILE: include/asm-i386/suspend.h:150:
+        /* restore FPU regs if necessary */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#495: FILE: include/asm-i386/suspend.h:152:
+        kernel_fpu_end();$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#495: FILE: include/asm-i386/suspend.h:152:
+        kernel_fpu_end();$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#500: FILE: include/asm-i386/suspend.h:157:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#506: FILE: include/asm-i386/suspend.h:163:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#507: FILE: include/asm-i386/suspend.h:164:
+ * Note that it is critical that this function is declared inline.  $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#512: FILE: include/asm-i386/suspend.h:169:
+static inline void restore_processor_context (void)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#520: FILE: include/asm-i386/suspend.h:177:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#528: FILE: include/asm-i386/suspend.h:185:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#540: FILE: include/asm-i386/suspend.h:197:
+^I * note that even though gcc has constructs to specify memory $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#543: FILE: include/asm-i386/suspend.h:200:
+^I * bad since we don't have a stack set up when we enter, and we $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#572: FILE: include/asm-i386/suspend.h:229:
+
+

WARNING:IF_1: Consider removing the #if 1 and its #endif
#573: FILE: include/asm-i386/suspend.h:230:
+#if 1

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#575: FILE: include/asm-i386/suspend.h:232:
+static int loop __nosavedata = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#576: FILE: include/asm-i386/suspend.h:233:
+static int loop2 __nosavedata = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#583: FILE: include/asm-i386/suspend.h:240:
+ * stack pointer, but excluding the instruction pointer) will be loaded with $

WARNING:LONG_LINE_COMMENT: line length of 108 exceeds 100 columns
#598: FILE: include/asm-i386/suspend.h:255:
+		save_processor_context();	/* We need to capture registers and memory at "same time" */

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:TRAILING_WHITESPACE: trailing whitespace
#605: FILE: include/asm-i386/suspend.h:262:
+^I * place in memory $

ERROR:CODE_INDENT: code indent should use tabs where possible
#608: FILE: include/asm-i386/suspend.h:265:
+        __asm__( "movl %%ecx,%%cr3\n" ::"c"(__pa(swapper_pg_dir)));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#608: FILE: include/asm-i386/suspend.h:265:
+        __asm__( "movl %%ecx,%%cr3\n" ::"c"(__pa(swapper_pg_dir)));$

ERROR:SPACING: space prohibited after that open parenthesis '('
#608: FILE: include/asm-i386/suspend.h:265:
+        __asm__( "movl %%ecx,%%cr3\n" ::"c"(__pa(swapper_pg_dir)));

WARNING:TYPO_SPELLING: 'noone' may be misspelled - perhaps 'no one'?
#617: FILE: include/asm-i386/suspend.h:274:
+	/* Critical section here: noone should touch memory from now */
 	                          ^^^^^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#619: FILE: include/asm-i386/suspend.h:276:
+	for (loop=0; loop < nr_copy_pages; loop++) {
 	         ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#621: FILE: include/asm-i386/suspend.h:278:
+		/* You may not call something (like copy_page) here:
+		   We may absolutely not use stack at this point */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#621: FILE: include/asm-i386/suspend.h:278:
+		   We may absolutely not use stack at this point */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#622: FILE: include/asm-i386/suspend.h:279:
+		for (loop2=0; loop2 < PAGE_SIZE; loop2++) {
 		          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#623: FILE: include/asm-i386/suspend.h:280:
+			*(((char *)((pagedir_nosave+loop)->orig_address))+loop2) =
 			                           ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#623: FILE: include/asm-i386/suspend.h:280:
+			*(((char *)((pagedir_nosave+loop)->orig_address))+loop2) =
 			                                                 ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#624: FILE: include/asm-i386/suspend.h:281:
+				*(((char *)((pagedir_nosave+loop)->address))+loop2);
 				                           ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#624: FILE: include/asm-i386/suspend.h:281:
+				*(((char *)((pagedir_nosave+loop)->address))+loop2);
 				                                            ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#629: FILE: include/asm-i386/suspend.h:286:
+/* FIXME: What about page tables? Writing data pages may toggle
+   accessed/dirty bits in our page tables. That should be no problems

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#630: FILE: include/asm-i386/suspend.h:287:
+   with 4MB page tables. That's why we require have_pse. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#633: FILE: include/asm-i386/suspend.h:290:
+/* Danger: previous loop probably destroyed our current stack. Better hope it did not use
+   any stack space, itself.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#644: FILE: include/asm-i386/suspend.h:301:
+#endif $

WARNING:INLINE: plain inline is preferred over __inline__
#667: FILE: include/linux/bitops.h:44:
+extern __inline__ int generic_fls(int x)

WARNING:INLINE: plain inline is preferred over __inline__
#696: FILE: include/linux/bitops.h:73:
+extern __inline__ int get_bitmask_order(unsigned int count)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#699: FILE: include/linux/bitops.h:76:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#713: FILE: include/linux/init.h:115:
+#define __nosavedata __attribute__ ((__section__ (".data.nosave")))

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#713: FILE: include/linux/init.h:115:
+#define __nosavedata __attribute__ ((__section__ (".data.nosave")))

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __section(".data.nosave") over __attribute__((__section__(".data.nosave")))
#713: FILE: include/linux/init.h:115:
+#define __nosavedata __attribute__ ((__section__ (".data.nosave")))

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#772: FILE: include/linux/reboot.h:55:
+extern void software_suspend(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#787: FILE: include/linux/sched.h:439:
+#define PF_IOTHREAD	0x00020000	/* this thread is needed for doing I/O
+					   to swap file */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#787: FILE: include/linux/sched.h:439:
+					   to swap file */

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#796: FILE: include/linux/suspend.h:1:
+#ifndef _LINUX_SWSUSP_H

WARNING:NEW_TYPEDEFS: do not add new typedefs
#811: FILE: include/linux/suspend.h:16:
+typedef struct pbe {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#814: FILE: include/linux/suspend.h:19:
+^Iswp_entry_t swap_address;^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#815: FILE: include/linux/suspend.h:20:
+^Iswp_entry_t dummy;^I^I/* we need scratch space at $

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#836: FILE: include/linux/suspend.h:41:
+#define SUSPEND_PD_PAGES(x)     (((x)*sizeof(struct pbe))/PAGE_SIZE+1)
                                      ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#836: FILE: include/linux/suspend.h:41:
+#define SUSPEND_PD_PAGES(x)     (((x)*sizeof(struct pbe))/PAGE_SIZE+1)
                                                          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#836: FILE: include/linux/suspend.h:41:
+#define SUSPEND_PD_PAGES(x)     (((x)*sizeof(struct pbe))/PAGE_SIZE+1)
                                                                    ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#837: FILE: include/linux/suspend.h:42:
+   $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#837: FILE: include/linux/suspend.h:42:
+   $

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#841: FILE: include/linux/suspend.h:46:
+extern void activate_task(struct task_struct *tsk);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#843: FILE: include/linux/suspend.h:48:
+
+

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#845: FILE: include/linux/suspend.h:50:
+extern void software_suspend(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#846: FILE: include/linux/suspend.h:51:
+extern void software_resume(void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#847: FILE: include/linux/suspend.h:52:
+extern int resume_setup(char *str);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#849: FILE: include/linux/suspend.h:54:
+extern int register_suspend_notifier(struct notifier_block *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct notifier_block *' should also have an identifier name
#849: FILE: include/linux/suspend.h:54:
+extern int register_suspend_notifier(struct notifier_block *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#850: FILE: include/linux/suspend.h:55:
+extern int unregister_suspend_notifier(struct notifier_block *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct notifier_block *' should also have an identifier name
#850: FILE: include/linux/suspend.h:55:
+extern int unregister_suspend_notifier(struct notifier_block *);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#851: FILE: include/linux/suspend.h:56:
+extern void refrigerator(void);

ERROR:SPACING: space required before the open parenthesis '('
#853: FILE: include/linux/suspend.h:58:
+#define software_suspend()		do { } while(0)

ERROR:SPACING: space required before the open parenthesis '('
#854: FILE: include/linux/suspend.h:59:
+#define software_resume()		do { } while(0)

ERROR:SPACING: space required before the open parenthesis '('
#855: FILE: include/linux/suspend.h:60:
+#define register_suspend_notifier(a)	do { } while(0)

ERROR:SPACING: space required before the open parenthesis '('
#856: FILE: include/linux/suspend.h:61:
+#define unregister_suspend_notifier(a)	do { } while(0)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#857: FILE: include/linux/suspend.h:62:
+#define refrigerator()			do { BUG(); } while(0)

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

ERROR:SPACING: space required before the open parenthesis '('
#857: FILE: include/linux/suspend.h:62:
+#define refrigerator()			do { BUG(); } while(0)

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#857: FILE: include/linux/suspend.h:62:
+#define refrigerator()			do { BUG(); } while(0)

For the multi-statement macros, it is necessary to use the do-while
loop to avoid unpredictable code paths. The do-while loop helps to
group the multiple statements into a single one so that a
function-like macro can be used as a function only.

But for the single statement macros, it is unnecessary to use the
do-while loop. Although the code is syntactically correct but using
the do-while loop is redundant. So remove the do-while loop for single
statement macros.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#889: FILE: init/main.c:539:
+	/* This has to be before mounting root, because even readonly mount of reiserfs would replay
+	   log corrupting stuff */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#889: FILE: init/main.c:539:
+	   log corrupting stuff */

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#943: FILE: kernel/suspend.c:1:
+/*

ERROR:TRAILING_WHITESPACE: trailing whitespace
#953: FILE: kernel/suspend.c:11:
+ * $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#958: FILE: kernel/suspend.c:16:
+ * Steve Doddi <dirk@loth.demon.co.uk>: $

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#1026: FILE: kernel/suspend.c:84:
+#include <asm/uaccess.h>

WARNING:INCLUDE_LINUX: Use #include <linux/mmu_context.h> instead of <asm/mmu_context.h>
#1027: FILE: kernel/suspend.c:85:
+#include <asm/mmu_context.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pgtable.h> instead of <asm/pgtable.h>
#1028: FILE: kernel/suspend.c:86:
+#include <asm/pgtable.h>

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#1029: FILE: kernel/suspend.c:87:
+#include <asm/io.h>

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#1031: FILE: kernel/suspend.c:89:
+unsigned char software_suspend_enabled = 0;

Global variables should not be initialized explicitly to
0 (or NULL, false, etc.).  Your compiler (or rather your
loader, which is responsible for zeroing out the relevant
sections) automatically does it for you.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1035: FILE: kernel/suspend.c:93:
+/* With SUSPEND_CONSOLE defined, it suspend looks *really* cool, but
+   we probably do not take enough locks for switching consoles, etc,

CHECK:SPACING: No space is necessary after a cast
#1043: FILE: kernel/suspend.c:101:
+#define ADDRESS(x) ((unsigned long) phys_to_virt(((x) << PAGE_SHIFT)))

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1045: FILE: kernel/suspend.c:103:
+extern void wakeup_bdflush(void);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1046: FILE: kernel/suspend.c:104:
+extern asmlinkage int sys_sched_yield(void);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1047: FILE: kernel/suspend.c:105:
+extern int C_A_D;

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1050: FILE: kernel/suspend.c:108:
+extern char _text, _etext, _edata, __bss_start, _end;

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1051: FILE: kernel/suspend.c:109:
+extern char __nosave_begin, __nosave_end;

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1053: FILE: kernel/suspend.c:111:
+extern int console_loglevel;

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#1054: FILE: kernel/suspend.c:112:
+extern int is_head_of_free_region(struct page *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#1054: FILE: kernel/suspend.c:112:
+extern int is_head_of_free_region(struct page *);

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#1061: FILE: kernel/suspend.c:119:
+static int orig_loglevel = 0;

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#1066: FILE: kernel/suspend.c:124:
+static int resume_status = 0;

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#1070: FILE: kernel/suspend.c:128:
+static unsigned int nr_copy_pages __nosavedata = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1073: FILE: kernel/suspend.c:131:
+   must be freed after resume $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1073: FILE: kernel/suspend.c:131:
+/* Suspend pagedir is allocated before final copy, therefore it
+   must be freed after resume 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1077: FILE: kernel/suspend.c:135:
+   time of suspend, that must be freed. Second is "pagedir_nosave", $

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#1081: FILE: kernel/suspend.c:139:
+static suspend_pagedir_t *pagedir_nosave __nosavedata = NULL;

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#1083: FILE: kernel/suspend.c:141:
+static int pagedir_order __nosavedata = 0;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1117: FILE: kernel/suspend.c:175:
+		printk("%s", func); \

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1118: FILE: kernel/suspend.c:176:
+		printk(f, ## a); \

ERROR:SPACING: space required before the open parenthesis '('
#1119: FILE: kernel/suspend.c:177:
+	} while(0)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1122: FILE: kernel/suspend.c:180:
+#define PRINTK(f, a...)	printk(f, ## a)

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros starting with if should be enclosed by a do - while loop to avoid possible if/else logic defects
#1139: FILE: kernel/suspend.c:197:
+#define INTERESTING(p) \
+			/* We don't want to touch kernel_threads..*/ \
+			if (p->flags & PF_IOTHREAD) \
+				continue; \
+			if (p == current) \
+				continue; \
+			if (p->state == TASK_ZOMBIE) \
+				continue;

Macros with multiple statements should be enclosed in a
do - while block.  Same should also be the case for macros
starting with `if` to avoid logic defects::

  #define macrofun(a, b, c)                 \
    do {                                    \
            if (a == 5)                     \
                    do_this(b, c);          \
    } while (0)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#macros-enums-and-rtl

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'p' - possible side-effects?
#1139: FILE: kernel/suspend.c:197:
+#define INTERESTING(p) \
+			/* We don't want to touch kernel_threads..*/ \
+			if (p->flags & PF_IOTHREAD) \
+				continue; \
+			if (p == current) \
+				continue; \
+			if (p->state == TASK_ZOMBIE) \
+				continue;

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'p' may be better as '(p)' to avoid precedence issues
#1139: FILE: kernel/suspend.c:197:
+#define INTERESTING(p) \
+			/* We don't want to touch kernel_threads..*/ \
+			if (p->flags & PF_IOTHREAD) \
+				continue; \
+			if (p == current) \
+				continue; \
+			if (p->state == TASK_ZOMBIE) \
+				continue;

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#1139: FILE: kernel/suspend.c:197:
+#define INTERESTING(p) \
+			/* We don't want to touch kernel_threads..*/ \
+			if (p->flags & PF_IOTHREAD) \
+				continue; \
+			if (p == current) \
+				continue; \
+			if (p->state == TASK_ZOMBIE) \
+				continue;

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1152: FILE: kernel/suspend.c:210:
+	/* You need correct to work with real-time processes.
+	   OTOH, this way one process may see (via /proc/) some other

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1154: FILE: kernel/suspend.c:212:
+^I   suspended. We probably do not care. $

WARNING:LINE_SPACING: Missing a blank line after declarations
#1157: FILE: kernel/suspend.c:215:
+	long save;
+	save = current->state;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1160: FILE: kernel/suspend.c:218:
+	printk(":");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1166: FILE: kernel/suspend.c:224:
+	printk(":");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1175: FILE: kernel/suspend.c:233:
+^I$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1176: FILE: kernel/suspend.c:234:
+	PRINTS( "Waiting for tasks to stop... " );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1176: FILE: kernel/suspend.c:234:
+	PRINTS( "Waiting for tasks to stop... " );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1177: FILE: kernel/suspend.c:235:
+^I$

WARNING:LINE_SPACING: Missing a blank line after declarations
#1184: FILE: kernel/suspend.c:242:
+			unsigned long flags;
+			INTERESTING(p);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1189: FILE: kernel/suspend.c:247:
+			/* FIXME: smp problem here: we may not access other process' flags
+			   without locking */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1189: FILE: kernel/suspend.c:247:
+			   without locking */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1200: FILE: kernel/suspend.c:258:
+			PRINTK( "\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1200: FILE: kernel/suspend.c:258:
+			PRINTK( "\n" );

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1201: FILE: kernel/suspend.c:259:
+			printk(KERN_ERR " stopping tasks failed (%d tasks remaining)\n", todo );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1201: FILE: kernel/suspend.c:259:
+			printk(KERN_ERR " stopping tasks failed (%d tasks remaining)\n", todo );

ERROR:SPACING: space required before the open parenthesis '('
#1204: FILE: kernel/suspend.c:262:
+	} while(todo);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1205: FILE: kernel/suspend.c:263:
+^I$

ERROR:SPACING: space prohibited after that open parenthesis '('
#1206: FILE: kernel/suspend.c:264:
+	PRINTK( " ok\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1206: FILE: kernel/suspend.c:264:
+	PRINTK( " ok\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1214: FILE: kernel/suspend.c:272:
+	PRINTR( "Restarting tasks..." );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1214: FILE: kernel/suspend.c:272:
+	PRINTR( "Restarting tasks..." );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1218: FILE: kernel/suspend.c:276:
+^I^I$

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1219: FILE: kernel/suspend.c:277:
+		if (p->flags & PF_FROZEN) p->flags &= ~PF_FROZEN;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#1221: FILE: kernel/suspend.c:279:
+			printk(KERN_INFO " Strange, %s not stopped\n", p->comm );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1221: FILE: kernel/suspend.c:279:
+			printk(KERN_INFO " Strange, %s not stopped\n", p->comm );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1225: FILE: kernel/suspend.c:283:
+	PRINTK( " done\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1225: FILE: kernel/suspend.c:283:
+	PRINTK( " done\n" );

WARNING:INLINE: plain inline is preferred over __inline__
#1233: FILE: kernel/suspend.c:291:
+static __inline__ int fill_suspend_header(struct suspend_header *sh,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1234: FILE: kernel/suspend.c:292:
+static __inline__ int fill_suspend_header(struct suspend_header *sh,
+						unsigned short *swapfile_used)

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#1238: FILE: kernel/suspend.c:296:
+	sh->version_code = LINUX_VERSION_CODE;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1267: FILE: kernel/suspend.c:325:
+		printk(KERN_ERR "Hm, tq_disk is not empty after run_task_queue\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1274: FILE: kernel/suspend.c:332:
+/* mode == 0 suspend
+   mode == 2 resume */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1274: FILE: kernel/suspend.c:332:
+   mode == 2 resume */

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'mark_swapfiles', this function's name, in a string
#1282: FILE: kernel/suspend.c:340:
+		panic("Out of memory in mark_swapfiles");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1283: FILE: kernel/suspend.c:341:
+	for(i=0; i < MAX_SWAPFILES; i++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#1283: FILE: kernel/suspend.c:341:
+	for(i=0; i < MAX_SWAPFILES; i++) {

ERROR:SPACING: space required before the open parenthesis '('
#1284: FILE: kernel/suspend.c:342:
+		if(!swapfile_used[i])

CHECK:SPACING: No space is necessary after a cast
#1290: FILE: kernel/suspend.c:348:
+		rw_swap_page_nolock(READ, entry, (char *) cur);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1293: FILE: kernel/suspend.c:351:
+			if (!memcmp("SUSP1R",cur->swh.magic.magic,6))
 			                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1293: FILE: kernel/suspend.c:351:
+			if (!memcmp("SUSP1R",cur->swh.magic.magic,6))
 			                                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1294: FILE: kernel/suspend.c:352:
+				strcpy(cur->swh.magic.magic,"SWAP-SPACE");
 				                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1295: FILE: kernel/suspend.c:353:
+			else if (!memcmp("SUSP2R",cur->swh.magic.magic,6))
 			                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1295: FILE: kernel/suspend.c:353:
+			else if (!memcmp("SUSP2R",cur->swh.magic.magic,6))
 			                                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1296: FILE: kernel/suspend.c:354:
+				strcpy(cur->swh.magic.magic,"SWAPSPACE2");
 				                           ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1297: FILE: kernel/suspend.c:355:
+^I^I^Ielse printk("%sUnable to find suspended-data signature (%.10s - misspelled?\n", $

WARNING:LONG_LINE_STRING: line length of 104 exceeds 100 columns
#1297: FILE: kernel/suspend.c:355:
+			else printk("%sUnable to find suspended-data signature (%.10s - misspelled?\n", 

A string starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1297: FILE: kernel/suspend.c:355:
+			else printk("%sUnable to find suspended-data signature (%.10s - misspelled?\n", 

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1297: FILE: kernel/suspend.c:355:
+			else printk("%sUnable to find suspended-data signature (%.10s - misspelled?\n", 

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1300: FILE: kernel/suspend.c:358:
+			if ((!memcmp("SWAP-SPACE",cur->swh.magic.magic,10)))
 			                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1300: FILE: kernel/suspend.c:358:
+			if ((!memcmp("SWAP-SPACE",cur->swh.magic.magic,10)))
 			                                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1301: FILE: kernel/suspend.c:359:
+				strcpy(cur->swh.magic.magic,"SUSP1P....");
 				                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1302: FILE: kernel/suspend.c:360:
+			else if ((!memcmp("SWAPSPACE2",cur->swh.magic.magic,10)))
 			                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1302: FILE: kernel/suspend.c:360:
+			else if ((!memcmp("SWAPSPACE2",cur->swh.magic.magic,10)))
 			                                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1303: FILE: kernel/suspend.c:361:
+				strcpy(cur->swh.magic.magic,"SUSP2P....");
 				                           ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1304: FILE: kernel/suspend.c:362:
+			else panic("\nSwapspace is not swapspace (%.10s)\n", cur->swh.magic.magic);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'i == root_swap'
#1308: FILE: kernel/suspend.c:366:
+		if (!mode && (i == root_swap)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1309: FILE: kernel/suspend.c:367:
+			cur->swh.magic.magic[5]='R'; /* marked as 'root' */
 			                       ^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1312: FILE: kernel/suspend.c:370:
+#if 0

WARNING:LINE_SPACING: Missing a blank line after declarations
#1315: FILE: kernel/suspend.c:373:
+			int j;
+			printk("I=%d ", i);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1315: FILE: kernel/suspend.c:373:
+			printk("I=%d ", i);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1316: FILE: kernel/suspend.c:374:
+			for (j=0; j<10; j++)
 			      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1316: FILE: kernel/suspend.c:374:
+			for (j=0; j<10; j++)
 			           ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1317: FILE: kernel/suspend.c:375:
+				printk("%c", cur->swh.magic.magic[j]);

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1326: FILE: kernel/suspend.c:384:
+#if 0

ERROR:SPACING: space prohibited after that open parenthesis '('
#1347: FILE: kernel/suspend.c:405:
+	PRINTS( "Writing data to swap (%d pages): ", nr_copy_pages );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1347: FILE: kernel/suspend.c:405:
+	PRINTS( "Writing data to swap (%d pages): ", nr_copy_pages );

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1348: FILE: kernel/suspend.c:406:
+	for (i=0; i<nr_copy_pages; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1348: FILE: kernel/suspend.c:406:
+	for (i=0; i<nr_copy_pages; i++) {
 	           ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#1349: FILE: kernel/suspend.c:407:
+		if (!(i%100))
 		       ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1350: FILE: kernel/suspend.c:408:
+			PRINTK( "." );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1350: FILE: kernel/suspend.c:408:
+			PRINTK( "." );

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1351: FILE: kernel/suspend.c:409:
+		if (!(entry = get_swap_page()).val)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1352: FILE: kernel/suspend.c:410:
+			panic("\nNot enough swapspace when writing data" );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1353: FILE: kernel/suspend.c:411:
+^I^I$

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1355: FILE: kernel/suspend.c:413:
+		address = (pagedir_nosave+i)->address;
 		                         ^

CHECK:SPACING: No space is necessary after a cast
#1357: FILE: kernel/suspend.c:415:
+		rw_swap_page_nolock(WRITE, entry, (char *) address);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1358: FILE: kernel/suspend.c:416:
+		(pagedir_nosave+i)->swap_address = entry;
 		               ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1361: FILE: kernel/suspend.c:419:
+	PRINTS( "Writing pagedir (%d pages): ", nr_pgdir_pages);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1362: FILE: kernel/suspend.c:420:
+	for (i=0; i<nr_pgdir_pages; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#1362: FILE: kernel/suspend.c:420:
+	for (i=0; i<nr_pgdir_pages; i++) {
 	           ^

CHECK:SPACING: No space is necessary after a cast
#1363: FILE: kernel/suspend.c:421:
+		cur = (union diskpage *)((char *) pagedir_nosave)+i;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1363: FILE: kernel/suspend.c:421:
+		cur = (union diskpage *)((char *) pagedir_nosave)+i;
 		                                                 ^

CHECK:SPACING: No space is necessary after a cast
#1364: FILE: kernel/suspend.c:422:
+		if ((char *) cur != (((char *) pagedir_nosave) + i*PAGE_SIZE))

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1364: FILE: kernel/suspend.c:422:
+		if ((char *) cur != (((char *) pagedir_nosave) + i*PAGE_SIZE))
 		                                                  ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1366: FILE: kernel/suspend.c:424:
+		PRINTK( "." );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1366: FILE: kernel/suspend.c:424:
+		PRINTK( "." );

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1367: FILE: kernel/suspend.c:425:
+		if (!(entry = get_swap_page()).val) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#1368: FILE: kernel/suspend.c:426:
+			printk(KERN_CRIT "Not enough swapspace when writing pgdir\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1368: FILE: kernel/suspend.c:426:
+			printk(KERN_CRIT "Not enough swapspace when writing pgdir\n" );

CHECK:SPACING: No space is necessary after a cast
#1370: FILE: kernel/suspend.c:428:
+			free_page((unsigned long) buffer);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1378: FILE: kernel/suspend.c:436:
+^I^Icur->link.next = prev;^I^I^I^I$

CHECK:SPACING: No space is necessary after a cast
#1380: FILE: kernel/suspend.c:438:
+		rw_swap_page_nolock(WRITE, entry, (char *) cur);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1384: FILE: kernel/suspend.c:442:
+	if (sizeof(struct suspend_header) > PAGE_SIZE-sizeof(swp_entry_t))
 	                                             ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1386: FILE: kernel/suspend.c:444:
+		panic("sizeof(struct suspend_header) too big: %d",
+				sizeof(struct suspend_header));

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1389: FILE: kernel/suspend.c:447:
+	if (!(entry = get_swap_page()).val)

ERROR:SPACING: space prohibited after that open parenthesis '('
#1390: FILE: kernel/suspend.c:448:
+		panic( "\nNot enough swapspace when writing header" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1390: FILE: kernel/suspend.c:448:
+		panic( "\nNot enough swapspace when writing header" );

CHECK:SPACING: No space is necessary after a cast
#1393: FILE: kernel/suspend.c:451:
+	cur = (void *) buffer;

ERROR:SPACING: space required before the open parenthesis '('
#1394: FILE: kernel/suspend.c:452:
+	if(fill_suspend_header(&cur->sh, swapfile_used))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1396: FILE: kernel/suspend.c:454:
+^I^I$

CHECK:SPACING: No space is necessary after a cast
#1400: FILE: kernel/suspend.c:458:
+	rw_swap_page_nolock(WRITE, entry, (char *) cur);

ERROR:SPACING: space prohibited after that open parenthesis '('
#1408: FILE: kernel/suspend.c:466:
+	PRINTK( ", signature" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1408: FILE: kernel/suspend.c:466:
+	PRINTK( ", signature" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1412: FILE: kernel/suspend.c:470:
+	PRINTK( ", done\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1412: FILE: kernel/suspend.c:470:
+	PRINTK( ", done\n" );

CHECK:SPACING: No space is necessary after a cast
#1415: FILE: kernel/suspend.c:473:
+	free_page((unsigned long) buffer);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1425: FILE: kernel/suspend.c:483:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#1426: FILE: kernel/suspend.c:484:
+	for(loop = 0; loop < num_physpages; loop++) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1427: FILE: kernel/suspend.c:485:
+		if(!PageReserved(mem_map+loop)) {
 		                        ^

ERROR:SPACING: space required before the open parenthesis '('
#1427: FILE: kernel/suspend.c:485:
+		if(!PageReserved(mem_map+loop)) {

CHECK:BRACES: braces {} should be used on all arms of this statement
#1427: FILE: kernel/suspend.c:485:
+		if(!PageReserved(mem_map+loop)) {
[...]
+		} else if(PageReserved(mem_map+loop)) {
[...]
+		} else panic("No third thing should be possible");
[...]

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1428: FILE: kernel/suspend.c:486:
+			if(PageNosave(mem_map+loop))
 			                     ^

ERROR:SPACING: space required before the open parenthesis '('
#1428: FILE: kernel/suspend.c:486:
+			if(PageNosave(mem_map+loop))

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1431: FILE: kernel/suspend.c:489:
+			if((chunk_size=is_head_of_free_region(mem_map+loop))!=0) {
 			              ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1431: FILE: kernel/suspend.c:489:
+			if((chunk_size=is_head_of_free_region(mem_map+loop))!=0) {
 			                                             ^

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#1431: FILE: kernel/suspend.c:489:
+			if((chunk_size=is_head_of_free_region(mem_map+loop))!=0) {
 			                                                    ^

ERROR:SPACING: space required before the open parenthesis '('
#1431: FILE: kernel/suspend.c:489:
+			if((chunk_size=is_head_of_free_region(mem_map+loop))!=0) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1431: FILE: kernel/suspend.c:489:
+			if((chunk_size=is_head_of_free_region(mem_map+loop))!=0) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1435: FILE: kernel/suspend.c:493:
+		} else if(PageReserved(mem_map+loop)) {
 		                              ^

ERROR:SPACING: space required before the open parenthesis '('
#1435: FILE: kernel/suspend.c:493:
+		} else if(PageReserved(mem_map+loop)) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1436: FILE: kernel/suspend.c:494:
+			if(PageNosave(mem_map+loop))
 			                     ^

ERROR:SPACING: space required before the open parenthesis '('
#1436: FILE: kernel/suspend.c:494:
+			if(PageNosave(mem_map+loop))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1443: FILE: kernel/suspend.c:501:
+^I^I^I^I&__nosave_begin && ADDRESS(loop) < $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1445: FILE: kernel/suspend.c:503:
+				printk("[nosave]");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1448: FILE: kernel/suspend.c:506:
+^I^I^I/* Hmm, perhaps copying all reserved pages is not too healthy as they may contain $

WARNING:LONG_LINE_COMMENT: line length of 106 exceeds 100 columns
#1448: FILE: kernel/suspend.c:506:
+			/* Hmm, perhaps copying all reserved pages is not too healthy as they may contain 

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1449: FILE: kernel/suspend.c:507:
+			/* Hmm, perhaps copying all reserved pages is not too healthy as they may contain 
+			   critical bios data? */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1449: FILE: kernel/suspend.c:507:
+			   critical bios data? */

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1450: FILE: kernel/suspend.c:508:
+		} else panic("No third thing should be possible");

ERROR:SPACING: space required before the open parenthesis '('
#1453: FILE: kernel/suspend.c:511:
+		if(pagedir_p) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1469: FILE: kernel/suspend.c:527:
+	for(i=0; i < num_physpages; i++, page++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#1469: FILE: kernel/suspend.c:527:
+	for(i=0; i < num_physpages; i++, page++) {

ERROR:SPACING: space required before the open parenthesis '('
#1470: FILE: kernel/suspend.c:528:
+		if(!PageTestandClearNosave(page))

ERROR:SPACING: space required before the open parenthesis '('
#1473: FILE: kernel/suspend.c:531:
+		if(ADDRESS(i) >= this_pagedir && ADDRESS(i) < this_pagedir_end)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1475: FILE: kernel/suspend.c:533:
+^I^I$

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1490: FILE: kernel/suspend.c:548:
+	p = pagedir = (suspend_pagedir_t *)__get_free_pages(GFP_ATOMIC, pagedir_order);

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:SPACING: space required before the open parenthesis '('
#1491: FILE: kernel/suspend.c:549:
+	if(!pagedir)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1495: FILE: kernel/suspend.c:553:
+	for(i=0; i < 1<<pagedir_order; i++)
 	     ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1495: FILE: kernel/suspend.c:553:
+	for(i=0; i < 1<<pagedir_order; i++)
 	              ^

ERROR:SPACING: space required before the open parenthesis '('
#1495: FILE: kernel/suspend.c:553:
+	for(i=0; i < 1<<pagedir_order; i++)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1497: FILE: kernel/suspend.c:555:
+^I^I$

ERROR:SPACING: space required before the open parenthesis '('
#1498: FILE: kernel/suspend.c:556:
+	while(nr_copy_pages--) {

ERROR:SPACING: space required before the open parenthesis '('
#1500: FILE: kernel/suspend.c:558:
+		if(!p->address) {

CHECK:SPACING: No space is necessary after a cast
#1502: FILE: kernel/suspend.c:560:
+			free_suspend_pagedir((unsigned long) pagedir);

ERROR:SPACING: space required before the open parenthesis '('
#1520: FILE: kernel/suspend.c:578:
+	if(vc_allocate(SUSPEND_CONSOLE))

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1522: FILE: kernel/suspend.c:580:
+	   * we don't want to mess the screen for now. */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1525: FILE: kernel/suspend.c:583:
+	set_console (SUSPEND_CONSOLE);

ERROR:SPACING: space required before the open parenthesis '('
#1526: FILE: kernel/suspend.c:584:
+	if(vt_waitactive(SUSPEND_CONSOLE)) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1539: FILE: kernel/suspend.c:597:
+	set_console (orig_fgconsole);

WARNING:RETURN_VOID: void function return statements are not generally useful
#1542: FILE: kernel/suspend.c:600:
+	return;
+}

ERROR:SPACING: space prohibited after that open parenthesis '('
#1546: FILE: kernel/suspend.c:604:
+	PRINTS( "Stopping processes\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1546: FILE: kernel/suspend.c:604:
+	PRINTS( "Stopping processes\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1549: FILE: kernel/suspend.c:607:
+		PRINTS( "Not all processes stopped!\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1549: FILE: kernel/suspend.c:607:
+		PRINTS( "Not all processes stopped!\n" );

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#1567: FILE: kernel/suspend.c:625:
+	void **c= eaten_memory, *m;
 	        ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1569: FILE: kernel/suspend.c:627:
+	printk("Eating pages ");

CHECK:SPACING: No space is necessary after a cast
#1570: FILE: kernel/suspend.c:628:
+	while ((m = (void *) get_free_page(GFP_HIGHUSER))) {

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#1573: FILE: kernel/suspend.c:631:
+		if (!(i%100))
 		       ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1574: FILE: kernel/suspend.c:632:
+^I^I^Iprintk( ".(%d)", i ); $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1574: FILE: kernel/suspend.c:632:
+			printk( ".(%d)", i ); 

ERROR:SPACING: space prohibited after that open parenthesis '('
#1574: FILE: kernel/suspend.c:632:
+			printk( ".(%d)", i ); 

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1574: FILE: kernel/suspend.c:632:
+			printk( ".(%d)", i ); 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1577: FILE: kernel/suspend.c:635:
+^I^Ii++; $

WARNING:IF_1: Consider removing the #if 1 and its #endif
#1578: FILE: kernel/suspend.c:636:
+#if 1

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1586: FILE: kernel/suspend.c:644:
+	printk("(%dK)\n", i*4);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1586: FILE: kernel/suspend.c:644:
+	printk("(%dK)\n", i*4);
 	                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1593: FILE: kernel/suspend.c:651:
+^I$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1594: FILE: kernel/suspend.c:652:
+	printk( "Freeing pages " );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1594: FILE: kernel/suspend.c:652:
+	printk( "Freeing pages " );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1594: FILE: kernel/suspend.c:652:
+	printk( "Freeing pages " );

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 16)
#1596: FILE: kernel/suspend.c:654:
+		if (!(i%5000))
+		printk( "." ); 

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#1596: FILE: kernel/suspend.c:654:
+		if (!(i%5000))
 		       ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1597: FILE: kernel/suspend.c:655:
+^I^Iprintk( "." ); $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1597: FILE: kernel/suspend.c:655:
+		printk( "." ); 

ERROR:SPACING: space prohibited after that open parenthesis '('
#1597: FILE: kernel/suspend.c:655:
+		printk( "." ); 

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1597: FILE: kernel/suspend.c:655:
+		printk( "." ); 

CHECK:SPACING: No space is necessary after a cast
#1600: FILE: kernel/suspend.c:658:
+		if (f) { free_page( (long) f ); i++; }

ERROR:SPACING: space prohibited after that open parenthesis '('
#1600: FILE: kernel/suspend.c:658:
+		if (f) { free_page( (long) f ); i++; }

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1600: FILE: kernel/suspend.c:658:
+		if (f) { free_page( (long) f ); i++; }

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1600: FILE: kernel/suspend.c:658:
+		if (f) { free_page( (long) f ); i++; }

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1602: FILE: kernel/suspend.c:660:
+	printk( "(%dK)\n", i*4 );

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1602: FILE: kernel/suspend.c:660:
+	printk( "(%dK)\n", i*4 );
 	                    ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1602: FILE: kernel/suspend.c:660:
+	printk( "(%dK)\n", i*4 );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1602: FILE: kernel/suspend.c:660:
+	printk( "(%dK)\n", i*4 );

WARNING:IF_1: Consider removing the #if 1 and its #endif
#1613: FILE: kernel/suspend.c:671:
+#if 1

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1616: FILE: kernel/suspend.c:674:
+		printk(".");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1617: FILE: kernel/suspend.c:675:
+	printk("\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1619: FILE: kernel/suspend.c:677:
+	printk("Using memeat\n");

ERROR:SPACING: space prohibited after that open parenthesis '('
#1631: FILE: kernel/suspend.c:689:
+	PRINTS( "/critical section: Counting pages to copy" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1631: FILE: kernel/suspend.c:689:
+	PRINTS( "/critical section: Counting pages to copy" );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1634: FILE: kernel/suspend.c:692:
+^I$

WARNING:LONG_LINE: line length of 114 exceeds 100 columns
#1635: FILE: kernel/suspend.c:693:
+	PRINTK(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1635: FILE: kernel/suspend.c:693:
+	PRINTK(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());
 	                                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1635: FILE: kernel/suspend.c:693:
+	PRINTK(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());
 	                                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1635: FILE: kernel/suspend.c:693:
+	PRINTK(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());
 	                                                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1635: FILE: kernel/suspend.c:693:
+	PRINTK(" (pages needed: %d+%d=%d free: %d)\n",nr_copy_pages,PAGES_FOR_IO,nr_needed_pages,nr_free_pages());
 	                                                                                        ^

ERROR:SPACING: space required before the open parenthesis '('
#1636: FILE: kernel/suspend.c:694:
+	if(nr_free_pages() < nr_needed_pages) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#1637: FILE: kernel/suspend.c:695:
+		printk(KERN_CRIT "%sCouldn't get enough free pages, on %d pages short\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1638: FILE: kernel/suspend.c:696:
+		       name_suspend, nr_needed_pages-nr_free_pages());
 		                                    ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#1645: FILE: kernel/suspend.c:703:
+		printk(KERN_CRIT "%sThere's not enough swap space available, on %ld pages short\n",

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1646: FILE: kernel/suspend.c:704:
+		       name_suspend, nr_needed_pages-i.freeswap);
 		                                    ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1652: FILE: kernel/suspend.c:710:
+^IPRINTK( "Alloc pagedir\n" ); $

ERROR:SPACING: space prohibited after that open parenthesis '('
#1652: FILE: kernel/suspend.c:710:
+	PRINTK( "Alloc pagedir\n" ); 

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1652: FILE: kernel/suspend.c:710:
+	PRINTK( "Alloc pagedir\n" ); 

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1653: FILE: kernel/suspend.c:711:
+	pagedir_save = pagedir_nosave = create_suspend_pagedir(nr_copy_pages);

ERROR:SPACING: space required before the open parenthesis '('
#1654: FILE: kernel/suspend.c:712:
+	if(!pagedir_nosave) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#1656: FILE: kernel/suspend.c:714:
+		printk(KERN_CRIT "%sCouldn't allocate enough pages\n",name_suspend);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1656: FILE: kernel/suspend.c:714:
+		printk(KERN_CRIT "%sCouldn't allocate enough pages\n",name_suspend);
 		                                                     ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1675: FILE: kernel/suspend.c:733:
+	PRINTS( "critical section/: done (%d pages copied)\n", nr_copy_pages );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1675: FILE: kernel/suspend.c:733:
+	PRINTS( "critical section/: done (%d pages copied)\n", nr_copy_pages );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1680: FILE: kernel/suspend.c:738:
+	PRINTS( "Syncing disks\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1680: FILE: kernel/suspend.c:738:
+	PRINTS( "Syncing disks\n" );

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1686: FILE: kernel/suspend.c:744:
+#if 0

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#1696: FILE: kernel/suspend.c:754:
+	printk(KERN_EMERG "%sTrying to power down.\n", name_suspend);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#1698: FILE: kernel/suspend.c:756:
+	printk(KERN_EMERG "shift_state: %04x\n", shift_state);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1706: FILE: kernel/suspend.c:764:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#1707: FILE: kernel/suspend.c:765:
+	printk(KERN_EMERG "%sProbably not capable for powerdown. System halted.\n", name_suspend);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1709: FILE: kernel/suspend.c:767:
+	while (1);

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1716: FILE: kernel/suspend.c:774:
+#if 0

WARNING:TYPO_SPELLING: 'neccessary' may be misspelled - perhaps 'necessary'?
#1717: FILE: kernel/suspend.c:775:
+	/* Should not be neccessary -- we saved whole CPU context */
 	                 ^^^^^^^^^^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1718: FILE: kernel/suspend.c:776:
+	PRINTR( "Activating task\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1718: FILE: kernel/suspend.c:776:
+	PRINTR( "Activating task\n" );

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1719: FILE: kernel/suspend.c:777:
+	activate_mm(current->mm,current->mm);
 	                       ^

WARNING:MEMORY_BARRIER: memory barrier without comment
#1734: FILE: kernel/suspend.c:792:
+	mb();

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1735: FILE: kernel/suspend.c:793:
+^Ispin_lock_irq(&suspend_pagedir_lock);^I/* Done to disable interrupts */ $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1737: FILE: kernel/suspend.c:795:
+	printk( "Waiting for DMAs to settle down...\n");

ERROR:SPACING: space prohibited after that open parenthesis '('
#1737: FILE: kernel/suspend.c:795:
+	printk( "Waiting for DMAs to settle down...\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1739: FILE: kernel/suspend.c:797:
+	mdelay(1000);	/* We do not want some readahead with DMA to corrupt our memory, right?
+			   Do it with disabled interrupts for best effect. That way, if some

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1740: FILE: kernel/suspend.c:798:
+			   driver scheduled DMA, we have good chance for DMA to finish ;-). */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1750: FILE: kernel/suspend.c:808:
+	PRINTR( "Freeing prev allocated pagedir\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1750: FILE: kernel/suspend.c:808:
+	PRINTR( "Freeing prev allocated pagedir\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#1754: FILE: kernel/suspend.c:812:
+	PRINTK( "Fixing swap signatures... " );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1754: FILE: kernel/suspend.c:812:
+	PRINTK( "Fixing swap signatures... " );

WARNING:LONG_LINE_COMMENT: line length of 125 exceeds 100 columns
#1755: FILE: kernel/suspend.c:813:
+	swapfile_used[0] = 1;		/* FIXME: Of course, swapfile_used can not survive suspend: It is initialized *after*

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1756: FILE: kernel/suspend.c:814:
+	swapfile_used[0] = 1;		/* FIXME: Of course, swapfile_used can not survive suspend: It is initialized *after*
+					   copy :-( */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1756: FILE: kernel/suspend.c:814:
+					   copy :-( */

ERROR:SPACING: space prohibited after that open parenthesis '('
#1759: FILE: kernel/suspend.c:817:
+	PRINTK( "ok\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1759: FILE: kernel/suspend.c:817:
+	PRINTK( "ok\n" );

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#1761: FILE: kernel/suspend.c:819:
+#if 0

WARNING:TYPO_SPELLING: 'neccessary' may be misspelled - perhaps 'necessary'?
#1762: FILE: kernel/suspend.c:820:
+	restore_task ();	/* Should not be neccessary! */
 	                	                 ^^^^^^^^^^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1762: FILE: kernel/suspend.c:820:
+	restore_task ();	/* Should not be neccessary! */

WARNING:MEMORY_BARRIER: memory barrier without comment
#1772: FILE: kernel/suspend.c:830:
+	mb();

WARNING:IF_1: Consider removing the #if 1 and its #endif
#1780: FILE: kernel/suspend.c:838:
+#if 1

WARNING:LONG_LINE_COMMENT: line length of 130 exceeds 100 columns
#1781: FILE: kernel/suspend.c:839:
+		suspend_power_down ();	/* FIXME: if suspend_power_down is commented out, console is lost after few suspends ?! */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1781: FILE: kernel/suspend.c:839:
+		suspend_power_down ();	/* FIXME: if suspend_power_down is commented out, console is lost after few suspends ?! */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1785: FILE: kernel/suspend.c:843:
+	printk(KERN_WARNING "%sSuspend failed, trying to continue recover\n", name_suspend);

WARNING:MEMORY_BARRIER: memory barrier without comment
#1790: FILE: kernel/suspend.c:848:
+	mb();

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1791: FILE: kernel/suspend.c:849:
+^Ispin_lock_irq(&suspend_pagedir_lock);^I/* Done to disable interrupts */ $

CHECK:SPACING: No space is necessary after a cast
#1794: FILE: kernel/suspend.c:852:
+	free_pages((unsigned long) pagedir_nosave, pagedir_order);

WARNING:LONG_LINE_COMMENT: line length of 125 exceeds 100 columns
#1796: FILE: kernel/suspend.c:854:
+	swapfile_used[0] = 1;		/* FIXME: Of course, swapfile_used can not survive suspend: It is initialized *after*

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1797: FILE: kernel/suspend.c:855:
+	swapfile_used[0] = 1;		/* FIXME: Of course, swapfile_used can not survive suspend: It is initialized *after*
+					   copy :-( */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1797: FILE: kernel/suspend.c:855:
+					   copy :-( */

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#1806: FILE: kernel/suspend.c:864:
+
+}

WARNING:LONG_LINE_COMMENT: line length of 108 exceeds 100 columns
#1824: FILE: kernel/suspend.c:882:
+			/* No need to invalidate any vfsmnt list -- they will be valid after resume, anyway.

WARNING:LONG_LINE_COMMENT: line length of 104 exceeds 100 columns
#1826: FILE: kernel/suspend.c:884:
+			 * We sync here -- so you have consistent filesystem state when things go wrong.

WARNING:TYPO_SPELLING: 'noone' may be misspelled - perhaps 'no one'?
#1827: FILE: kernel/suspend.c:885:
+			 * -- so that noone writes to disk after we do atomic copy of data.
 			              ^^^^^

ERROR:SPACING: space prohibited after that open parenthesis '('
#1829: FILE: kernel/suspend.c:887:
+			PRINTS( "Syncing disks before copy\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1829: FILE: kernel/suspend.c:887:
+			PRINTS( "Syncing disks before copy\n" );

WARNING:LONG_LINE_COMMENT: line length of 118 exceeds 100 columns
#1833: FILE: kernel/suspend.c:891:
+			do_magic(0);			/* This function returns after machine woken up from resume */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1840: FILE: kernel/suspend.c:898:
+	restore_console ();

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1844: FILE: kernel/suspend.c:902:
+^I{ routine: (void *)(void *)do_software_suspend, $

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#1844: FILE: kernel/suspend.c:902:
+struct tq_struct suspend_tq =
+	{ routine: (void *)(void *)do_software_suspend, 

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#1845: FILE: kernel/suspend.c:903:
+	  data: 0 };
 	      ^

ERROR:SPACING: space required before the open parenthesis '('
#1853: FILE: kernel/suspend.c:911:
+	if(!software_suspend_enabled)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1867: FILE: kernel/suspend.c:925:
+	char *topointer=(char *)to, *frompointer=(char *)from;
 	               ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1867: FILE: kernel/suspend.c:925:
+	char *topointer=(char *)to, *frompointer=(char *)from;
 	                                        ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1869: FILE: kernel/suspend.c:927:
+	for(i=0; i < 1 << pagedir_order; i++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#1869: FILE: kernel/suspend.c:927:
+	for(i=0; i < 1 << pagedir_order; i++) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1880: FILE: kernel/suspend.c:938:
+ * Returns true if given address/order collides with any orig_address $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1883: FILE: kernel/suspend.c:941:
+static int does_collide_order(suspend_pagedir_t *pagedir, unsigned long addr,
+		int order)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1886: FILE: kernel/suspend.c:944:
+	unsigned long addre = addr + (PAGE_SIZE<<order);
 	                                       ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1887: FILE: kernel/suspend.c:945:
+^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1888: FILE: kernel/suspend.c:946:
+	for(i=0; i < nr_copy_pages; i++)
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#1888: FILE: kernel/suspend.c:946:
+	for(i=0; i < nr_copy_pages; i++)

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1889: FILE: kernel/suspend.c:947:
+		if((pagedir+i)->orig_address >= addr &&
 		           ^

ERROR:SPACING: space required before the open parenthesis '('
#1889: FILE: kernel/suspend.c:947:
+		if((pagedir+i)->orig_address >= addr &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1890: FILE: kernel/suspend.c:948:
+		if((pagedir+i)->orig_address >= addr &&
+			(pagedir+i)->orig_address < addre)

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1890: FILE: kernel/suspend.c:948:
+			(pagedir+i)->orig_address < addre)
 			        ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1905: FILE: kernel/suspend.c:963:
+	for(i=0; i < nr_copy_pages; i++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#1905: FILE: kernel/suspend.c:963:
+	for(i=0; i < nr_copy_pages; i++) {

ERROR:SPACING: space required before the open parenthesis '('
#1910: FILE: kernel/suspend.c:968:
+			if(!addr)

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1914: FILE: kernel/suspend.c:972:
+		(pagedir_nosave+i)->address = addr;
 		               ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1922: FILE: kernel/suspend.c:980:
+	/* This is deep magic
+	   We have to avoid recursion (not to overflow kernel stack), and that's why

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1929: FILE: kernel/suspend.c:987:
+
+

ERROR:SPACING: space required before the open parenthesis '('
#1930: FILE: kernel/suspend.c:988:
+	if(!does_collide_order(old_pagedir, (unsigned long)old_pagedir, pagedir_order)) {

WARNING:TYPO_SPELLING: 'neccessary' may be misspelled - perhaps 'necessary'?
#1931: FILE: kernel/suspend.c:989:
+		printk("not neccessary\n");
 		            ^^^^^^^^^^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1931: FILE: kernel/suspend.c:989:
+		printk("not neccessary\n");

CHECK:SPACING: No space is necessary after a cast
#1935: FILE: kernel/suspend.c:993:
+	while ((m = (void *) __get_free_pages(GFP_ATOMIC, pagedir_order))) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1940: FILE: kernel/suspend.c:998:
+^I^Iprintk( "." ); $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1940: FILE: kernel/suspend.c:998:
+		printk( "." ); 

ERROR:SPACING: space prohibited after that open parenthesis '('
#1940: FILE: kernel/suspend.c:998:
+		printk( "." ); 

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1940: FILE: kernel/suspend.c:998:
+		printk( "." ); 

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1948: FILE: kernel/suspend.c:1006:
+	pagedir_nosave = new_pagedir = m;

ERROR:SPACING: space required before the open parenthesis '('
#1952: FILE: kernel/suspend.c:1010:
+	while(c) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1953: FILE: kernel/suspend.c:1011:
+		printk(":");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1959: FILE: kernel/suspend.c:1017:
+	printk("okay\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1970: FILE: kernel/suspend.c:1028:
+	printk(KERN_ERR "%s%s\n",name_resume,reason);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1970: FILE: kernel/suspend.c:1028:
+	printk(KERN_ERR "%s%s\n",name_resume,reason);
 	                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1970: FILE: kernel/suspend.c:1028:
+	printk(KERN_ERR "%s%s\n",name_resume,reason);
 	                                    ^

WARNING:LINUX_VERSION_CODE: LINUX_VERSION_CODE should be avoided, code should be for the version to which it is merged
#1976: FILE: kernel/suspend.c:1034:
+	if(sh->version_code != LINUX_VERSION_CODE)

ERROR:SPACING: space required before the open parenthesis '('
#1976: FILE: kernel/suspend.c:1034:
+	if(sh->version_code != LINUX_VERSION_CODE)

ERROR:SPACING: space required before the open parenthesis '('
#1978: FILE: kernel/suspend.c:1036:
+	if(sh->num_physpages != num_physpages)

ERROR:SPACING: space required before the open parenthesis '('
#1980: FILE: kernel/suspend.c:1038:
+	if(strncmp(sh->machine, system_utsname.machine, 8))

ERROR:SPACING: space required before the open parenthesis '('
#1982: FILE: kernel/suspend.c:1040:
+	if(strncmp(sh->version, system_utsname.version, 20))

ERROR:SPACING: space required before the open parenthesis '('
#1984: FILE: kernel/suspend.c:1042:
+	if(sh->num_cpus != smp_num_cpus)

ERROR:SPACING: space required before the open parenthesis '('
#1986: FILE: kernel/suspend.c:1044:
+	if(sh->page_size != PAGE_SIZE)

WARNING:LONG_LINE_STRING: line length of 102 exceeds 100 columns
#1994: FILE: kernel/suspend.c:1052:
+	if ((pos%PAGE_SIZE) || (count != PAGE_SIZE)) panic("Sorry, dave, I can't let you do that!\n");

WARNING:LINE_SPACING: Missing a blank line after declarations
#1994: FILE: kernel/suspend.c:1052:
+	struct buffer_head *bh;
+	if ((pos%PAGE_SIZE) || (count != PAGE_SIZE)) panic("Sorry, dave, I can't let you do that!\n");

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#1994: FILE: kernel/suspend.c:1052:
+	if ((pos%PAGE_SIZE) || (count != PAGE_SIZE)) panic("Sorry, dave, I can't let you do that!\n");
 	        ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'count != PAGE_SIZE'
#1994: FILE: kernel/suspend.c:1052:
+	if ((pos%PAGE_SIZE) || (count != PAGE_SIZE)) panic("Sorry, dave, I can't let you do that!\n");

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1994: FILE: kernel/suspend.c:1052:
+	if ((pos%PAGE_SIZE) || (count != PAGE_SIZE)) panic("Sorry, dave, I can't let you do that!\n");

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1995: FILE: kernel/suspend.c:1053:
+	bh = bread(dev, pos/PAGE_SIZE, PAGE_SIZE);
 	                   ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '!bh->b_data'
#1996: FILE: kernel/suspend.c:1054:
+	if (!bh || (!bh->b_data)) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1996: FILE: kernel/suspend.c:1054:
+	if (!bh || (!bh->b_data)) {
+		return -1;
+	}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2002: FILE: kernel/suspend.c:1060:
+} $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#2006: FILE: kernel/suspend.c:1064:
+int resume_try_to_read(const char * specialfile)

CHECK:SPACING: No space is necessary after a cast
#2014: FILE: kernel/suspend.c:1072:
+	cur = (void *) get_free_page(GFP_ATOMIC);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2016: FILE: kernel/suspend.c:1074:
+		printk( "%sNot enough memory?\n", name_resume );

ERROR:SPACING: space prohibited after that open parenthesis '('
#2016: FILE: kernel/suspend.c:1074:
+		printk( "%sNot enough memory?\n", name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2016: FILE: kernel/suspend.c:1074:
+		printk( "%sNot enough memory?\n", name_resume );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2021: FILE: kernel/suspend.c:1079:
+	printk("Resuming from device %x\n", dev);

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#2023: FILE: kernel/suspend.c:1081:
+	if (!blksize_size[major(dev)]) {
[...]
+	} else blksize = blksize_size[major(dev)][minor(dev)];
[...]

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2024: FILE: kernel/suspend.c:1082:
+		printk("Blocksize not known?\n");

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2025: FILE: kernel/suspend.c:1083:
+	} else blksize = blksize_size[major(dev)][minor(dev)];

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2027: FILE: kernel/suspend.c:1085:
+		printk("Blocksize not set?\n");

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros starting with if should be enclosed by a do - while loop to avoid possible if/else logic defects
#2032: FILE: kernel/suspend.c:1090:
+#define READTO(pos, ptr) \
+	if (bdev_read(dev, pos, ptr, PAGE_SIZE)) { error = -EIO; goto resume_read_error; }

WARNING:MACRO_WITH_FLOW_CONTROL: Macros with flow control statements should be avoided
#2032: FILE: kernel/suspend.c:1090:
+#define READTO(pos, ptr) \
+	if (bdev_read(dev, pos, ptr, PAGE_SIZE)) { error = -EIO; goto resume_read_error; }

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2033: FILE: kernel/suspend.c:1091:
+	if (bdev_read(dev, pos, ptr, PAGE_SIZE)) { error = -EIO; goto resume_read_error; }

ERROR:CODE_INDENT: code indent should use tabs where possible
#2037: FILE: kernel/suspend.c:1095:
+        }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2037: FILE: kernel/suspend.c:1095:
+        }$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2042: FILE: kernel/suspend.c:1100:
+	if ((!memcmp("SWAP-SPACE",cur->swh.magic.magic,10)) ||
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2042: FILE: kernel/suspend.c:1100:
+	if ((!memcmp("SWAP-SPACE",cur->swh.magic.magic,10)) ||
 	                                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2043: FILE: kernel/suspend.c:1101:
+	    (!memcmp("SWAPSPACE2",cur->swh.magic.magic,10))) {
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2043: FILE: kernel/suspend.c:1101:
+	    (!memcmp("SWAPSPACE2",cur->swh.magic.magic,10))) {
 	                                              ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2044: FILE: kernel/suspend.c:1102:
+		printk(KERN_ERR "%sThis is normal swap space\n", name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2044: FILE: kernel/suspend.c:1102:
+		printk(KERN_ERR "%sThis is normal swap space\n", name_resume );

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2051: FILE: kernel/suspend.c:1109:
+	if (!memcmp("SUSP1R",cur->swh.magic.magic,6))
 	                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2051: FILE: kernel/suspend.c:1109:
+	if (!memcmp("SUSP1R",cur->swh.magic.magic,6))
 	                                         ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#2051: FILE: kernel/suspend.c:1109:
+	if (!memcmp("SUSP1R",cur->swh.magic.magic,6))
[...]
+	else if (!memcmp("SUSP2R",cur->swh.magic.magic,6))
[...]
+	else {
[...]

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2052: FILE: kernel/suspend.c:1110:
+		strcpy(cur->swh.magic.magic,"SWAP-SPACE");
 		                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2053: FILE: kernel/suspend.c:1111:
+	else if (!memcmp("SUSP2R",cur->swh.magic.magic,6))
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2053: FILE: kernel/suspend.c:1111:
+	else if (!memcmp("SUSP2R",cur->swh.magic.magic,6))
 	                                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#2054: FILE: kernel/suspend.c:1112:
+		strcpy(cur->swh.magic.magic,"SWAPSPACE2");
 		                           ^

CHECK:BRACES: Unbalanced braces around else statement
#2055: FILE: kernel/suspend.c:1113:
+	else {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2056: FILE: kernel/suspend.c:1114:
+^I^Ipanic("%sUnable to find suspended-data signature (%.10s - misspelled?\n", $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2057: FILE: kernel/suspend.c:1115:
+		panic("%sUnable to find suspended-data signature (%.10s - misspelled?\n", 
+			name_resume, cur->swh.magic.magic);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2059: FILE: kernel/suspend.c:1117:
+	printk( "%sSignature found, resuming\n", name_resume );

ERROR:SPACING: space prohibited after that open parenthesis '('
#2059: FILE: kernel/suspend.c:1117:
+	printk( "%sSignature found, resuming\n", name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2059: FILE: kernel/suspend.c:1117:
+	printk( "%sSignature found, resuming\n", name_resume );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2068: FILE: kernel/suspend.c:1126:
+^I/* Probably this is the same machine */^I$

ERROR:SPACING: space required before the open parenthesis '('
#2079: FILE: kernel/suspend.c:1137:
+	if(!pagedir_nosave)

ERROR:SPACING: space prohibited after that open parenthesis '('
#2082: FILE: kernel/suspend.c:1140:
+	PRINTR( "%sReading pagedir, ", name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2082: FILE: kernel/suspend.c:1140:
+	PRINTR( "%sReading pagedir, ", name_resume );

ERROR:SPACING: spaces required around that '=' (ctx:VxO)
#2085: FILE: kernel/suspend.c:1143:
+	error=-EIO;
 	     ^

ERROR:SPACING: space required before that '-' (ctx:OxV)
#2085: FILE: kernel/suspend.c:1143:
+	error=-EIO;
 	      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2086: FILE: kernel/suspend.c:1144:
+	for (i=nr_pgdir_pages-1; i>=0; i--) {
 	      ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#2086: FILE: kernel/suspend.c:1144:
+	for (i=nr_pgdir_pages-1; i>=0; i--) {
 	                     ^

ERROR:SPACING: spaces required around that '>=' (ctx:VxV)
#2086: FILE: kernel/suspend.c:1144:
+	for (i=nr_pgdir_pages-1; i>=0; i--) {
 	                          ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#2088: FILE: kernel/suspend.c:1146:
+			panic( "Preliminary end of suspended data?" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2088: FILE: kernel/suspend.c:1146:
+			panic( "Preliminary end of suspended data?" );

CHECK:SPACING: No space is necessary after a cast
#2089: FILE: kernel/suspend.c:1147:
+		cur = (union diskpage *)((char *) pagedir_nosave)+i;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2089: FILE: kernel/suspend.c:1147:
+		cur = (union diskpage *)((char *) pagedir_nosave)+i;
 		                                                 ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#2094: FILE: kernel/suspend.c:1152:
+		panic( "Suspended data too long?" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2094: FILE: kernel/suspend.c:1152:
+		panic( "Suspended data too long?" );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2096: FILE: kernel/suspend.c:1154:
+	printk("Relocating pagedir");

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2097: FILE: kernel/suspend.c:1155:
+	if((error=relocate_pagedir())!=0)
 	         ^

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#2097: FILE: kernel/suspend.c:1155:
+	if((error=relocate_pagedir())!=0)
 	                             ^

ERROR:SPACING: space required before the open parenthesis '('
#2097: FILE: kernel/suspend.c:1155:
+	if((error=relocate_pagedir())!=0)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#2097: FILE: kernel/suspend.c:1155:
+	if((error=relocate_pagedir())!=0)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2099: FILE: kernel/suspend.c:1157:
+	if((error=check_pagedir())!=0)
 	         ^

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#2099: FILE: kernel/suspend.c:1157:
+	if((error=check_pagedir())!=0)
 	                          ^

ERROR:SPACING: space required before the open parenthesis '('
#2099: FILE: kernel/suspend.c:1157:
+	if((error=check_pagedir())!=0)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#2099: FILE: kernel/suspend.c:1157:
+	if((error=check_pagedir())!=0)

ERROR:SPACING: space prohibited after that open parenthesis '('
#2102: FILE: kernel/suspend.c:1160:
+	PRINTK( "image data (%d pages): ", nr_copy_pages );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2102: FILE: kernel/suspend.c:1160:
+	PRINTK( "image data (%d pages): ", nr_copy_pages );

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2104: FILE: kernel/suspend.c:1162:
+	for(i=0; i < nr_copy_pages; i++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#2104: FILE: kernel/suspend.c:1162:
+	for(i=0; i < nr_copy_pages; i++) {

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2105: FILE: kernel/suspend.c:1163:
+		swp_entry_t swap_address = (pagedir_nosave+i)->swap_address;
 		                                          ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#2106: FILE: kernel/suspend.c:1164:
+		swp_entry_t swap_address = (pagedir_nosave+i)->swap_address;
+		if (!(i%100))

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#2106: FILE: kernel/suspend.c:1164:
+		if (!(i%100))
 		       ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#2107: FILE: kernel/suspend.c:1165:
+			PRINTK( "." );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2107: FILE: kernel/suspend.c:1165:
+			PRINTK( "." );

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#2108: FILE: kernel/suspend.c:1166:
+		next.val = SWP_OFFSET (swap_address) * PAGE_SIZE;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2110: FILE: kernel/suspend.c:1168:
+		/* You do not need to check for overlaps...
+		   ... check_pagedir already did this work */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2110: FILE: kernel/suspend.c:1168:
+		   ... check_pagedir already did this work */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2111: FILE: kernel/suspend.c:1169:
+		READTO(next.val, (char *)((pagedir_nosave+i)->address));
 		                                         ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#2113: FILE: kernel/suspend.c:1171:
+	PRINTK( " done\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2113: FILE: kernel/suspend.c:1171:
+	PRINTK( " done\n" );

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#2117: FILE: kernel/suspend.c:1175:
+	switch (error) {
+		case 0:
[...]
+		case -EINVAL:
[...]
+		case -EIO:
[...]
+		case -ENOENT:
[...]
+		default:

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2124: FILE: kernel/suspend.c:1182:
+			printk( "%sI/O error\n", name_resume);

ERROR:SPACING: space prohibited after that open parenthesis '('
#2124: FILE: kernel/suspend.c:1182:
+			printk( "%sI/O error\n", name_resume);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2128: FILE: kernel/suspend.c:1186:
+			printk( "%s%s: No such file or directory\n", name_resume, specialfile);

ERROR:SPACING: space prohibited after that open parenthesis '('
#2128: FILE: kernel/suspend.c:1186:
+			printk( "%s%s: No such file or directory\n", name_resume, specialfile);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2132: FILE: kernel/suspend.c:1190:
+			printk( "%sError %d resuming\n", name_resume, error );

ERROR:SPACING: space prohibited after that open parenthesis '('
#2132: FILE: kernel/suspend.c:1190:
+			printk( "%sError %d resuming\n", name_resume, error );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2132: FILE: kernel/suspend.c:1190:
+			printk( "%sError %d resuming\n", name_resume, error );

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#2148: FILE: kernel/suspend.c:1206:
+	printk(KERN_WARNING "Software Suspend has a malfunctioning SMP support. Disabled :(\n");

ERROR:SPACING: space required before the open parenthesis '('
#2153: FILE: kernel/suspend.c:1211:
+	if(!resume_status)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2156: FILE: kernel/suspend.c:1214:
+	printk( "%s", name_resume );

ERROR:SPACING: space prohibited after that open parenthesis '('
#2156: FILE: kernel/suspend.c:1214:
+	printk( "%s", name_resume );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2156: FILE: kernel/suspend.c:1214:
+	printk( "%s", name_resume );

ERROR:SPACING: space required before the open parenthesis '('
#2157: FILE: kernel/suspend.c:1215:
+	if(resume_status == NORESUME) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2159: FILE: kernel/suspend.c:1217:
+		printk( "disabled\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#2159: FILE: kernel/suspend.c:1217:
+		printk( "disabled\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2159: FILE: kernel/suspend.c:1217:
+		printk( "disabled\n" );

ERROR:SPACING: space required before the open parenthesis '('
#2167: FILE: kernel/suspend.c:1225:
+	if(!resume_file[0] && resume_status == RESUME_SPECIFIED) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2168: FILE: kernel/suspend.c:1226:
+		printk( "nowhere to resume from\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#2168: FILE: kernel/suspend.c:1226:
+		printk( "nowhere to resume from\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2168: FILE: kernel/suspend.c:1226:
+		printk( "nowhere to resume from\n" );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2172: FILE: kernel/suspend.c:1230:
+	printk( "resuming from %s\n", resume_file);

ERROR:SPACING: space prohibited after that open parenthesis '('
#2172: FILE: kernel/suspend.c:1230:
+	printk( "resuming from %s\n", resume_file);

ERROR:SPACING: space required before the open parenthesis '('
#2173: FILE: kernel/suspend.c:1231:
+	if(resume_try_to_read(resume_file))

WARNING:RETURN_VOID: void function return statements are not generally useful
#2182: FILE: kernel/suspend.c:1240:
+	return;
+}

CHECK:LINE_SPACING: Please don't use multiple blank lines
#2184: FILE: kernel/suspend.c:1242:
+
+

ERROR:SPACING: space required before the open parenthesis '('
#2187: FILE: kernel/suspend.c:1245:
+	if(resume_status)

ERROR:SPACING: space prohibited after that open parenthesis '('
#2190: FILE: kernel/suspend.c:1248:
+	strncpy( resume_file, str, 255 );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#2190: FILE: kernel/suspend.c:1248:
+	strncpy( resume_file, str, 255 );

ERROR:SPACING: space required before the open parenthesis '('
#2198: FILE: kernel/suspend.c:1256:
+	if(!resume_status)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2200: FILE: kernel/suspend.c:1258:
+^I$

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#2204: FILE: kernel/suspend.c:1262:
+__setup("noresume", software_noresume);

CHECK:UNDOCUMENTED_SETUP: __setup appears un-documented -- check Documentation/admin-guide/kernel-parameters.txt
#2205: FILE: kernel/suspend.c:1263:
+__setup("resume=", resume_setup);

ERROR:SPACING: space required before the open parenthesis '('
#2225: FILE: kernel/sys.c:329:
+		if(!software_suspend_enabled)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2227: FILE: kernel/sys.c:331:
+^I^I$

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2266: FILE: mm/page_alloc.c:225:
+	unsigned type;

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2269: FILE: mm/page_alloc.c:228:
+	for (type=0;type < (MAX_NR_ZONES-1); type++) {		/* FIXME: Ignore himem */
 	         ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#2269: FILE: mm/page_alloc.c:228:
+	for (type=0;type < (MAX_NR_ZONES-1); type++) {		/* FIXME: Ignore himem */
 	           ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#2269: FILE: mm/page_alloc.c:228:
+	for (type=0;type < (MAX_NR_ZONES-1); type++) {		/* FIXME: Ignore himem */
 	                                ^

WARNING:LONG_LINE_COMMENT: line length of 134 exceeds 100 columns
#2275: FILE: mm/page_alloc.c:234:
+		spin_lock_irqsave(&zone->lock, flags);	/* Should not matter as we need quiescent system for suspend anyway, but... */

ERROR:SPACING: space required before the open parenthesis '('
#2283: FILE: mm/page_alloc.c:242:
+			for(;;) {

WARNING:LONG_LINE: line length of 133 exceeds 100 columns
#2285: FILE: mm/page_alloc.c:244:
+					printk("FIXME: this should not happen but it does (zone %s, head %lx)!!!", zone->name, head);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2285: FILE: mm/page_alloc.c:244:
+					printk("FIXME: this should not happen but it does (zone %s, head %lx)!!!", zone->name, head);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2289: FILE: mm/page_alloc.c:248:
+^I^I^I^Iif (p == memlist_entry(curr, struct page, list)) $

ERROR:SPACING: space required before the open parenthesis '('
#2296: FILE: mm/page_alloc.c:255:
+		} while(order--);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2299: FILE: mm/page_alloc.c:258:
+
+	}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2319: FILE: mm/vmscan.c:739:
+^I^I$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000487645.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 323 errors, 185 warnings, 93 checks, 2142 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000487645.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
