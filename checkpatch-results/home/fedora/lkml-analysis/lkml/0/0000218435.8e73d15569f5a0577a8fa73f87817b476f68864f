WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#48: FILE: drivers/block/Kconfig.iosched:38:
+config GENETIC_IOSCHED_AS
+       bool "Genetic Anticipatory I/O scheduler (EXPERIMENTAL)" 
+       depends on IOSCHED_AS && GENETIC_LIB && EXPERIMENTAL
+       default n
+       ---help---
+       This will use a genetic algorithm to tweak the tunables of the
+       anticipatory scheduler autonomically and will adapt tunables
+       depending on the present workload.  

Kconfig symbols should have a help text which fully describes
it.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#49: FILE: drivers/block/Kconfig.iosched:39:
+       bool "Genetic Anticipatory I/O scheduler (EXPERIMENTAL)" $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#55: FILE: drivers/block/Kconfig.iosched:45:
+       depending on the present workload.  $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#83: FILE: drivers/block/as-iosched.c:92:
+static void as_create_child(genetic_child_t * child);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#84: FILE: drivers/block/as-iosched.c:93:
+static void as_set_child_genes(void * in_genes);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#85: FILE: drivers/block/as-iosched.c:94:
+static void as_calc_fitness(genetic_child_t * child);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#88: FILE: drivers/block/as-iosched.c:97:
+    .create_child = as_create_child,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#89: FILE: drivers/block/as-iosched.c:98:
+    .set_child_genes = as_set_child_genes,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#90: FILE: drivers/block/as-iosched.c:99:
+    .calc_fitness = as_calc_fitness,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#91: FILE: drivers/block/as-iosched.c:100:
+    .combine_genes = genetic_generic_combine_genes,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#92: FILE: drivers/block/as-iosched.c:101:
+    .mutate_child = genetic_generic_mutate_child,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#99: FILE: drivers/block/as-iosched.c:108:
+    unsigned long read_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#100: FILE: drivers/block/as-iosched.c:109:
+    unsigned long write_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#101: FILE: drivers/block/as-iosched.c:110:
+    unsigned long read_batch_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#102: FILE: drivers/block/as-iosched.c:111:
+    unsigned long write_batch_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#103: FILE: drivers/block/as-iosched.c:112:
+    unsigned long antic_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#104: FILE: drivers/block/as-iosched.c:113:
+    unsigned long max_thinktime;$

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#108: FILE: drivers/block/as-iosched.c:117:
+	{ HZ/16, 3*HZ/16, default_read_expire, 0},	/* read_expire */
 	    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#108: FILE: drivers/block/as-iosched.c:117:
+	{ HZ/16, 3*HZ/16, default_read_expire, 0},	/* read_expire */
 	          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#108: FILE: drivers/block/as-iosched.c:117:
+	{ HZ/16, 3*HZ/16, default_read_expire, 0},	/* read_expire */
 	             ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#109: FILE: drivers/block/as-iosched.c:118:
+^I{ HZ/8, 3*HZ/8, default_write_expire, 0},    ^I/* write_expire */$

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#109: FILE: drivers/block/as-iosched.c:118:
+	{ HZ/8, 3*HZ/8, default_write_expire, 0},    	/* write_expire */
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#109: FILE: drivers/block/as-iosched.c:118:
+	{ HZ/8, 3*HZ/8, default_write_expire, 0},    	/* write_expire */
 	         ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#109: FILE: drivers/block/as-iosched.c:118:
+	{ HZ/8, 3*HZ/8, default_write_expire, 0},    	/* write_expire */
 	            ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#110: FILE: drivers/block/as-iosched.c:119:
+	{ HZ/16, 3*HZ/16, default_write_batch_expire, 0},/* write_batch_expire */
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#110: FILE: drivers/block/as-iosched.c:119:
+	{ HZ/16, 3*HZ/16, default_write_batch_expire, 0},/* write_batch_expire */
 	          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#110: FILE: drivers/block/as-iosched.c:119:
+	{ HZ/16, 3*HZ/16, default_write_batch_expire, 0},/* write_batch_expire */
 	             ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#111: FILE: drivers/block/as-iosched.c:120:
+	{ HZ/4, 3*HZ/4, default_read_batch_expire, 0},	/* read_batch_expire */
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#111: FILE: drivers/block/as-iosched.c:120:
+	{ HZ/4, 3*HZ/4, default_read_batch_expire, 0},	/* read_batch_expire */
 	         ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#111: FILE: drivers/block/as-iosched.c:120:
+	{ HZ/4, 3*HZ/4, default_read_batch_expire, 0},	/* read_batch_expire */
 	            ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#112: FILE: drivers/block/as-iosched.c:121:
+	{ HZ/300, HZ/100, default_antic_expire, 0},	/* default_antic_expire */
 	    ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#112: FILE: drivers/block/as-iosched.c:121:
+	{ HZ/300, HZ/100, default_antic_expire, 0},	/* default_antic_expire */
 	            ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#113: FILE: drivers/block/as-iosched.c:122:
+	{ HZ/100, 3*HZ/100, MAX_THINKTIME, 0}
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#113: FILE: drivers/block/as-iosched.c:122:
+	{ HZ/100, 3*HZ/100, MAX_THINKTIME, 0}
 	           ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#113: FILE: drivers/block/as-iosched.c:122:
+	{ HZ/100, 3*HZ/100, MAX_THINKTIME, 0}
 	              ^

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#116: FILE: drivers/block/as-iosched.c:125:
+extern void disk_stats_snapshot(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#117: FILE: drivers/block/as-iosched.c:126:
+extern unsigned long disk_calc_fitness(void);

ERROR:CODE_INDENT: code indent should use tabs where possible
#130: FILE: drivers/block/as-iosched.c:181:
+        struct list_head data_list;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#130: FILE: drivers/block/as-iosched.c:181:
+        struct list_head data_list;$

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#140: FILE: drivers/block/as-iosched.c:920:
+				thinktime = min(thinktime, max_thinktime-1);
 				                                        ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#172: FILE: drivers/block/as-iosched.c:2133:
+    $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#172: FILE: drivers/block/as-iosched.c:2133:
+    $

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#181: FILE: drivers/block/as-iosched.c:2142:
+	if (rc)
+	    panic("as: failed to init genetic lib");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#183: FILE: drivers/block/as-iosched.c:2144:
+#endif^I$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#196: FILE: drivers/block/as-iosched.c:2178:
+static void as_create_child(genetic_child_t * child)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#198: FILE: drivers/block/as-iosched.c:2180:
+    int i;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#199: FILE: drivers/block/as-iosched.c:2181:
+    static int child_num = 0;$

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#199: FILE: drivers/block/as-iosched.c:2181:
+    static int child_num = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#200: FILE: drivers/block/as-iosched.c:2182:
+    unsigned long range;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#201: FILE: drivers/block/as-iosched.c:2183:
+    int range_incr;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#202: FILE: drivers/block/as-iosched.c:2184:
+    unsigned long * genes;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#202: FILE: drivers/block/as-iosched.c:2184:
+    unsigned long * genes;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#204: FILE: drivers/block/as-iosched.c:2186:
+    BUG_ON(!child);$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#204: FILE: drivers/block/as-iosched.c:2186:
+    BUG_ON(!child);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#206: FILE: drivers/block/as-iosched.c:2188:
+    child->genes = (void *)kmalloc(sizeof(struct as_genes), GFP_KERNEL);$

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#206: FILE: drivers/block/as-iosched.c:2188:
+    child->genes = (void *)kmalloc(sizeof(struct as_genes), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*child->genes)...) over kmalloc(sizeof(struct as_genes)...)
#206: FILE: drivers/block/as-iosched.c:2188:
+    child->genes = (void *)kmalloc(sizeof(struct as_genes), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:TRAILING_WHITESPACE: trailing whitespace
#207: FILE: drivers/block/as-iosched.c:2189:
+    if (!child->genes) $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#207: FILE: drivers/block/as-iosched.c:2189:
+    if (!child->genes) $

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'as_create_child', this function's name, in a string
#208: FILE: drivers/block/as-iosched.c:2190:
+	panic("as_create_child: error mallocing space");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#208: FILE: drivers/block/as-iosched.c:2190:
+    if (!child->genes) 
+	panic("as_create_child: error mallocing space");

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#210: FILE: drivers/block/as-iosched.c:2192:
+    child->gene_param = as_gene_param;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#212: FILE: drivers/block/as-iosched.c:2194:
+    genes = (unsigned long *)child->genes;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#214: FILE: drivers/block/as-iosched.c:2196:
+    for (i = 0; i < AS_NUM_GENES; i++) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (4, 12)
#214: FILE: drivers/block/as-iosched.c:2196:
+    for (i = 0; i < AS_NUM_GENES; i++) {
+	    range = child->gene_param[i].max - child->gene_param[i].min + 1;

WARNING:TABSTOP: Statements should start on a tabstop
#217: FILE: drivers/block/as-iosched.c:2199:
+	    if (range_incr)

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (12, 20)
#217: FILE: drivers/block/as-iosched.c:2199:
+	    if (range_incr)
+		    genes[i] = child->gene_param[i].min +

WARNING:TABSTOP: Statements should start on a tabstop
#220: FILE: drivers/block/as-iosched.c:2202:
+	    else

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (12, 20)
#220: FILE: drivers/block/as-iosched.c:2202:
+	    else
+		    genes[i] = child->gene_param[i].min +

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: drivers/block/as-iosched.c:2205:
+    }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#225: FILE: drivers/block/as-iosched.c:2207:
+    child->num_genes = AS_NUM_GENES;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#227: FILE: drivers/block/as-iosched.c:2209:
+    child_num++;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#230: FILE: drivers/block/as-iosched.c:2212:
+static void as_set_child_genes(void * in_genes)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#232: FILE: drivers/block/as-iosched.c:2214:
+    struct as_genes * genes = (struct as_genes *)in_genes;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#232: FILE: drivers/block/as-iosched.c:2214:
+    struct as_genes * genes = (struct as_genes *)in_genes;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#233: FILE: drivers/block/as-iosched.c:2215:
+    struct list_head * d;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#233: FILE: drivers/block/as-iosched.c:2215:
+    struct list_head * d;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#234: FILE: drivers/block/as-iosched.c:2216:
+    struct as_data * ad;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#234: FILE: drivers/block/as-iosched.c:2216:
+    struct as_data * ad;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#235: FILE: drivers/block/as-iosched.c:2217:
+    $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#235: FILE: drivers/block/as-iosched.c:2217:
+    $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#236: FILE: drivers/block/as-iosched.c:2218:
+    list_for_each(d, &as_data_list) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#243: FILE: drivers/block/as-iosched.c:2225:
+    }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#244: FILE: drivers/block/as-iosched.c:2226:
+    max_thinktime = genes->max_thinktime;$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#247: FILE: drivers/block/as-iosched.c:2229:
+    /* Set a mark for the start of this child to help calculate
+       fitness */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#247: FILE: drivers/block/as-iosched.c:2229:
+       fitness */

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#248: FILE: drivers/block/as-iosched.c:2230:
+    disk_stats_snapshot();$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#251: FILE: drivers/block/as-iosched.c:2233:
+static void as_calc_fitness(genetic_child_t * child)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#258: FILE: drivers/block/as-iosched.c:2240:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000218435.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 18 errors, 51 warnings, 20 checks, 203 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000218435.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
