WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#38: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:40:
+ * $Id: //depot/aic7xxx/linux/drivers/scsi/aic7xxx/aic7xxx_proc.c#19 $

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#38: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:40:
+ * $Id: //depot/aic7xxx/linux/drivers/scsi/aic7xxx/aic7xxx_proc.c#19 $

Since linux moved to git, the CVS markers are no longer used.
So, CVS style keywords ($Id$, $Revision$, $Log$) should not be
added.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#52: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:57:
+^I^I^I^I       $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#53: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:58:
+				       
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#60: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:65:
+	if ((ahc->features & AHC_SPIOCAP) != 0
+	 && (ahc_inb(ahc, SPIOCAP) & SEEPROM) == 0)

WARNING:BRACES: braces {} are not necessary for single statement blocks
#72: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:77:
+	while (--wait && ((SEEPROM_STATUS_INB(sd) & sd->sd_RDY) == 0)) {
+		ahc_delay(1000);  /* delay 1 msec */
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#76: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:81:
+^I^ISEEPROM_OUTB(sd, 0); $

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#77: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:82:
+		return (0);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#82: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:87:
+
+

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ahc_proc_write_seeprom', this function's name, in a string
#114: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:286:
+		printf("ahc_proc_write_seeprom: incorrect buffer size\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#118: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:290:
+	have_seeprom = ahc_verify_cksum((struct seeprom_config*)buffer);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ahc_proc_write_seeprom', this function's name, in a string
#120: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:292:
+		printf("ahc_proc_write_seeprom: cksum verification failed\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#128: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:300:
+^I^Isd.sd_dataout_offset = STATUS_2840;^I^I$

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ahc_proc_write_seeprom', this function's name, in a string
#155: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:327:
+		printf("ahc_proc_write_seeprom: No Serial EEPROM\n");

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ahc->seep_config"
#160: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:332:
+		if (ahc->seep_config == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ahc->seep_config"
#163: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:335:
+			if (ahc->seep_config == NULL) {

WARNING:SPLIT_STRING: quoted string split across lines
#165: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:337:
+				printf("aic7xxx: Unable to allocate serial "
+				       "eeprom buffer.  Write failing\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#172: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:344:
+				  sizeof(struct seeprom_config)/2);
 				                               ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#174: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:346:
+				 start_addr, sizeof(struct seeprom_config)/2);
 				                                          ^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#184: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:356:
+	return (written);

WARNING:TYPO_SPELLING: 'inout' may be misspelled - perhaps 'input'?
#213: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:385:
+	if (inout == TRUE) {
 	    ^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:BOOL_COMPARISON: Using comparison to TRUE is error prone
#213: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:385:
+	if (inout == TRUE) {

Comparisons of A to true and false are better written
as A and !A.

See: https://lore.kernel.org/lkml/1365563834.27174.12.camel@joe-AO722/

CHECK:BRACES: braces {} should be used on all arms of this statement
#227: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:403:
+	if (ahc->seep_config == NULL)
[...]
+	else {
[...]

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ahc->seep_config"
#227: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:403:
+	if (ahc->seep_config == NULL)

CHECK:BRACES: Unbalanced braces around else statement
#229: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:405:
+	else {

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#231: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:407:
+		for (i = 0; i < sizeof(*ahc->seep_config)/2; i++) {
 		                                         ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'i != 0'
#232: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:408:
+			if (((i % 8) == 0) && (i != 0)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:BRACES: braces {} are not necessary for single statement blocks
#232: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:408:
+			if (((i % 8) == 0) && (i != 0)) {
+				copy_info(&info, "\n");
+			}

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#236: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:412:
+				  ((uint16_t*)ahc->seep_config)[i]);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#252: FILE: drivers/scsi/aic7xxx/aic7xxx_proc.c:442:
+	return (retval);

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#262: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:42:
+ * $Id: //depot/aic7xxx/aic7xxx/aic7xxx_pci.c#46 $

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#417: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1240:
+							sizeof(*sc)/2);
 							           ^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#636: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1350:
+	uint16_t discenable;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#637: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1351:
+	uint16_t ultraenb;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#656: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1370:
+		uint16_t target_mask;

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#668: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1382:
+		if ((sc->device_flags[i] & CFXFER) == 0x04
+		 && (ultraenb & target_mask) != 0) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#671: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1385:
+^I^I ^Iultraenb &= ~target_mask;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#671: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1385:
+^I^I ^Iultraenb &= ~target_mask;$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#678: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1392:
+^I^I^Ielse $

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#716: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1430:
+	if (ahc->features & AHC_ULTRA
+	 && (ahc->flags & AHC_NEWEEPROM_FMT) == 0) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#724: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1438:
+	if (sc->signature == CFSIGNATURE
+	 || sc->signature == CFSIGNATURE2) {

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#725: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1439:
+		uint32_t devconfig;

CHECK:CAMELCASE: Avoid CamelCase: <enableSEC_high>
#753: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1498:
+					    &enableSEC_high,

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <enablePRI_low>
#754: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1499:
+					    &enablePRI_low,

CHECK:CAMELCASE: Avoid CamelCase: <enablePRI_high>
#755: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1500:
+					    &enablePRI_high,

ERROR:CODE_INDENT: code indent should use tabs where possible
#770: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1585:
+^I^I ^Iinternal50_present = 0;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#770: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1585:
+^I^I ^Iinternal50_present = 0;$

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#780: FILE: drivers/scsi/aic7xxx/aic7xxx_pci.c:1750:
+	uint8_t spiocap;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#839: FILE: drivers/scsi/aic7xxx/scsi_message.h:49:
+#define MSG_IDENTIFY_LUNMASK^I0x3F $

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#865: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.h:41:
+ * $Id: //depot/aic7xxx/aic7xxx/aic7xxx_93cx6.h#10 $

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#894: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:31:
+ * $Id: //depot/aic7xxx/aic7xxx/aic7xxx_93cx6.c#15 $

ERROR:CODE_INDENT: code indent should use tabs where possible
#906: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:80:
+ ^Iuint8_t bits[9];$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#906: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:80:
+ ^Iuint8_t bits[9];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#906: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:80:
+ ^Iuint8_t bits[9];$

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#906: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:80:
+ 	uint8_t bits[9];

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#925: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:102:
+	uint8_t temp;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#951: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:128:
+	uint8_t temp;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#1034: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:219:
+	uint16_t v;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u8' over 'uint8_t'
#1035: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:220:
+	uint8_t temp;

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1092: FILE: drivers/scsi/aic7xxx/aic7xxx_93cx6.c:277:
+	return (1);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000419800.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 14 errors, 16 warnings, 30 checks, 1018 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000419800.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
