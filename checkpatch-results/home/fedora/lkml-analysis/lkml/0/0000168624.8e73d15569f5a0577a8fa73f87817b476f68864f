WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#51: FILE: drivers/infiniband/core/sa_query.c:33:
+ * $Id: sa_query.c 2811 2005-07-06 18:11:43Z halr $

Since linux moved to git, the CVS markers are no longer used.
So, CVS style keywords ($Id$, $Revision$, $Log$) should not be
added.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#60: FILE: drivers/infiniband/core/sa_query.c:84:
+	void (*callback)(int, struct ib_sa_service_rec *, void *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct ib_sa_service_rec *' should also have an identifier name
#60: FILE: drivers/infiniband/core/sa_query.c:84:
+	void (*callback)(int, struct ib_sa_service_rec *, void *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void *' should also have an identifier name
#60: FILE: drivers/infiniband/core/sa_query.c:84:
+	void (*callback)(int, struct ib_sa_service_rec *, void *);

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'field' - possible side-effects?
#72: FILE: drivers/infiniband/core/sa_query.c:330:
+#define SERVICE_REC_FIELD(field) \
+	.struct_offset_bytes = offsetof(struct ib_sa_service_rec, field),	\
+	.struct_size_bytes   = sizeof ((struct ib_sa_service_rec *) 0)->field,	\
+	.field_name          = "sa_service_rec:" #field

CHECK:SPACING: No space is necessary after a cast
#74: FILE: drivers/infiniband/core/sa_query.c:332:
+	.struct_size_bytes   = sizeof ((struct ib_sa_service_rec *) 0)->field,	\

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#74: FILE: drivers/infiniband/core/sa_query.c:332:
+	.struct_size_bytes   = sizeof ((struct ib_sa_service_rec *) 0)->field,	\

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#101: FILE: drivers/infiniband/core/sa_query.c:359:
+	  .size_bits    = 64*8 },
 	                    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#105: FILE: drivers/infiniband/core/sa_query.c:363:
+	  .size_bits    = 16*8 },
 	                    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#109: FILE: drivers/infiniband/core/sa_query.c:367:
+	  .size_bits    = 8*16 },
 	                   ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#113: FILE: drivers/infiniband/core/sa_query.c:371:
+	  .size_bits    = 4*32 },
 	                   ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#117: FILE: drivers/infiniband/core/sa_query.c:375:
+	  .size_bits    = 2*64 },
 	                   ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#136: FILE: drivers/infiniband/core/sa_query.c:654:
+static void ib_sa_service_rec_callback(struct ib_sa_query *sa_query,
+				    int status,

CHECK:BRACES: braces {} should be used on all arms of this statement
#142: FILE: drivers/infiniband/core/sa_query.c:660:
+	if (mad) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#148: FILE: drivers/infiniband/core/sa_query.c:666:
+	} else

WARNING:SIZEOF_PARENTHESIS: sizeof *query should be sizeof(*query)
#205: FILE: drivers/infiniband/core/sa_query.c:723:
+	query = kmalloc(sizeof *query, gfp_mask);

WARNING:SIZEOF_PARENTHESIS: sizeof *query->sa_query.mad should be sizeof(*query->sa_query.mad)
#208: FILE: drivers/infiniband/core/sa_query.c:726:
+	query->sa_query.mad = kmalloc(sizeof *query->sa_query.mad, gfp_mask);

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#261: FILE: drivers/infiniband/include/ib_sa.h:33:
+ * $Id: ib_sa.h 2811 2005-07-06 18:11:43Z halr $

ERROR:SPACING: space prohibited after that open parenthesis '('
#284: FILE: drivers/infiniband/include/ib_sa.h:198:
+#define IB_SA_SERVICE_REC_SERVICE_ID			IB_SA_COMP_MASK( 0)

ERROR:SPACING: space prohibited after that open parenthesis '('
#285: FILE: drivers/infiniband/include/ib_sa.h:199:
+#define IB_SA_SERVICE_REC_SERVICE_GID			IB_SA_COMP_MASK( 1)

ERROR:SPACING: space prohibited after that open parenthesis '('
#286: FILE: drivers/infiniband/include/ib_sa.h:200:
+#define IB_SA_SERVICE_REC_SERVICE_PKEY			IB_SA_COMP_MASK( 2)

ERROR:SPACING: space prohibited after that open parenthesis '('
#288: FILE: drivers/infiniband/include/ib_sa.h:202:
+#define IB_SA_SERVICE_REC_SERVICE_LEASE			IB_SA_COMP_MASK( 4)

ERROR:SPACING: space prohibited after that open parenthesis '('
#289: FILE: drivers/infiniband/include/ib_sa.h:203:
+#define IB_SA_SERVICE_REC_SERVICE_KEY			IB_SA_COMP_MASK( 5)

ERROR:SPACING: space prohibited after that open parenthesis '('
#290: FILE: drivers/infiniband/include/ib_sa.h:204:
+#define IB_SA_SERVICE_REC_SERVICE_NAME			IB_SA_COMP_MASK( 6)

ERROR:SPACING: space prohibited after that open parenthesis '('
#291: FILE: drivers/infiniband/include/ib_sa.h:205:
+#define IB_SA_SERVICE_REC_SERVICE_DATA8_0		IB_SA_COMP_MASK( 7)

ERROR:SPACING: space prohibited after that open parenthesis '('
#292: FILE: drivers/infiniband/include/ib_sa.h:206:
+#define IB_SA_SERVICE_REC_SERVICE_DATA8_1		IB_SA_COMP_MASK( 8)

ERROR:SPACING: space prohibited after that open parenthesis '('
#293: FILE: drivers/infiniband/include/ib_sa.h:207:
+#define IB_SA_SERVICE_REC_SERVICE_DATA8_2		IB_SA_COMP_MASK( 9)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#322: FILE: drivers/infiniband/include/ib_sa.h:236:
+#define IB_DEFAULT_SERVICE_LEASE ^I0xFFFFFFFF$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#326: FILE: drivers/infiniband/include/ib_sa.h:240:
+^Iunion ib_gid^Igid;^I^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#327: FILE: drivers/infiniband/include/ib_sa.h:241:
+^Iu16 ^I^Ipkey;$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#346: FILE: drivers/infiniband/include/ib_sa.h:278:
+int ib_sa_service_rec_query(struct ib_device *device, u8 port_num,
+			 u8 method,

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000168624.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 10 errors, 10 warnings, 11 checks, 306 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000168624.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
