WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#98: 
 * command line argument "pci=exp" to force PCI Express, similar to "conf1" and "conf2"

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: arch/i386/kernel/pci-pc.c:32:
+ | PCI_PROBE_EXP$

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#254: FILE: arch/i386/kernel/pci-pc.c:462:
+extern int pci_cfg_space_size;

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#266: FILE: arch/i386/kernel/pci-pc.c:474:
+ * $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#274: FILE: arch/i386/kernel/pci-pc.c:482:
+ * $

WARNING:TYPO_SPELLING: 'presense' may be misspelled - perhaps 'presence'?
#277: FILE: arch/i386/kernel/pci-pc.c:485:
+ * deassert PCI-E presense. If PCI-E not present,
                   ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#280: FILE: arch/i386/kernel/pci-pc.c:488:
+ * $

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#285: FILE: arch/i386/kernel/pci-pc.c:493:
+	rrbar_window_virt = (void*)fix_to_virt(FIX_PCIE_CONFIG);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#309: FILE: arch/i386/kernel/pci-pc.c:517:
+	u32 dev_base = (bus << 20) | (dev << 15) | (fn << 12);
+	if (dev_base != pcie_last_accessed_device) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#315: FILE: arch/i386/kernel/pci-pc.c:523:
+static int pci_exp_read (int seg, int bus, int dev, int fn, int reg, int len, u32 *value)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#319: FILE: arch/i386/kernel/pci-pc.c:527:
+	void *addr = rrbar_window_virt + reg;
+	if (((unsigned)bus > 255 || (unsigned)dev > 31

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#319: FILE: arch/i386/kernel/pci-pc.c:527:
+	if (((unsigned)bus > 255 || (unsigned)dev > 31

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#319: FILE: arch/i386/kernel/pci-pc.c:527:
+	if (((unsigned)bus > 255 || (unsigned)dev > 31

ERROR:TRAILING_WHITESPACE: trailing whitespace
#320: FILE: arch/i386/kernel/pci-pc.c:528:
+^I  || (unsigned)fn > 7 || (unsigned)reg > 4095)) $

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#320: FILE: arch/i386/kernel/pci-pc.c:528:
+	if (((unsigned)bus > 255 || (unsigned)dev > 31
+	  || (unsigned)fn > 7 || (unsigned)reg > 4095)) 

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#320: FILE: arch/i386/kernel/pci-pc.c:528:
+	  || (unsigned)fn > 7 || (unsigned)reg > 4095)) 

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#320: FILE: arch/i386/kernel/pci-pc.c:528:
+	  || (unsigned)fn > 7 || (unsigned)reg > 4095)) 

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#349: FILE: arch/i386/kernel/pci-pc.c:557:
+static int pci_exp_write (int seg, int bus, int dev, int fn, int reg, int len, u32 value)

WARNING:LINE_SPACING: Missing a blank line after declarations
#353: FILE: arch/i386/kernel/pci-pc.c:561:
+	void *addr = rrbar_window_virt + reg;
+	if (((unsigned)bus > 255 || (unsigned)dev > 31

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#353: FILE: arch/i386/kernel/pci-pc.c:561:
+	if (((unsigned)bus > 255 || (unsigned)dev > 31

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#353: FILE: arch/i386/kernel/pci-pc.c:561:
+	if (((unsigned)bus > 255 || (unsigned)dev > 31

ERROR:TRAILING_WHITESPACE: trailing whitespace
#354: FILE: arch/i386/kernel/pci-pc.c:562:
+^I  || (unsigned)fn > 7 || (unsigned)reg > 4095)) $

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#354: FILE: arch/i386/kernel/pci-pc.c:562:
+	if (((unsigned)bus > 255 || (unsigned)dev > 31
+	  || (unsigned)fn > 7 || (unsigned)reg > 4095)) 

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#354: FILE: arch/i386/kernel/pci-pc.c:562:
+	  || (unsigned)fn > 7 || (unsigned)reg > 4095)) 

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#354: FILE: arch/i386/kernel/pci-pc.c:562:
+	  || (unsigned)fn > 7 || (unsigned)reg > 4095)) 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#387: FILE: arch/i386/kernel/pci-pc.c:595:
+^Iint result; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#389: FILE: arch/i386/kernel/pci-pc.c:597:
+^Iresult = pci_exp_read(0, dev->bus->number, PCI_SLOT(dev->devfn), $

WARNING:LINE_SPACING: Missing a blank line after declarations
#389: FILE: arch/i386/kernel/pci-pc.c:597:
+	u32 data;
+	result = pci_exp_read(0, dev->bus->number, PCI_SLOT(dev->devfn), 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#390: FILE: arch/i386/kernel/pci-pc.c:598:
+	result = pci_exp_read(0, dev->bus->number, PCI_SLOT(dev->devfn), 
+			PCI_FUNC(dev->devfn), where, 1, &data);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#397: FILE: arch/i386/kernel/pci-pc.c:605:
+^Iint result; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#399: FILE: arch/i386/kernel/pci-pc.c:607:
+^Iresult = pci_exp_read(0, dev->bus->number, PCI_SLOT(dev->devfn), $

WARNING:LINE_SPACING: Missing a blank line after declarations
#399: FILE: arch/i386/kernel/pci-pc.c:607:
+	u32 data;
+	result = pci_exp_read(0, dev->bus->number, PCI_SLOT(dev->devfn), 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#400: FILE: arch/i386/kernel/pci-pc.c:608:
+	result = pci_exp_read(0, dev->bus->number, PCI_SLOT(dev->devfn), 
+			PCI_FUNC(dev->devfn), where, 2, &data);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#407: FILE: arch/i386/kernel/pci-pc.c:615:
+^Ireturn pci_exp_read(0, dev->bus->number, PCI_SLOT(dev->devfn), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#413: FILE: arch/i386/kernel/pci-pc.c:621:
+^Ireturn pci_exp_write(0, dev->bus->number, PCI_SLOT(dev->devfn), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#419: FILE: arch/i386/kernel/pci-pc.c:627:
+^Ireturn pci_exp_write(0, dev->bus->number, PCI_SLOT(dev->devfn), $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#425: FILE: arch/i386/kernel/pci-pc.c:633:
+^Ireturn pci_exp_write(0, dev->bus->number, PCI_SLOT(dev->devfn), $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#454: FILE: arch/i386/kernel/pci-pc.c:693:
+			printk(KERN_INFO "PCI: Using configuration type PCI-Express\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#455: FILE: arch/i386/kernel/pci-pc.c:694:
+			printk(KERN_INFO "PCI-Express config at 0x%08x\n", rrbar_phys);

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#458: FILE: arch/i386/kernel/pci-pc.c:697:
+			return &pci_express_conf;
+		} else {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#473: FILE: arch/i386/kernel/pci-pc.c:1636:
+	if ((pci_probe & (PCI_PROBE_CONF1 | PCI_PROBE_CONF2

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#487: FILE: arch/i386/kernel/pci-pc.c:1648:
+^I^I} $

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#521: FILE: drivers/pci/proc.c:22:
+int pci_cfg_space_size=256;
                       ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#585: FILE: include/asm-i386/fixmap.h:81:
+#endif $

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000318342.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 18 errors, 22 warnings, 4 checks, 436 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000318342.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
