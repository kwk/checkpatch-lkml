WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#28: 
This patch has the changes to support the memory floor fix done in Dell BIOS. 

WARNING:TYPO_SPELLING: 'incase' may be misspelled - perhaps 'in case'?
#29: 
The BIOS incase of packet update mechanism would not accept packet placed in 
         ^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#67: FILE: drivers/firmware/dell_rbu.c:79:
+MODULE_PARM_DESC(allocation_floor,
+    "Minimum address for allocations when using Packet mode");

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#67: FILE: drivers/firmware/dell_rbu.c:79:
+    "Minimum address for allocations when using Packet mode");$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#95: FILE: drivers/firmware/dell_rbu.c:123:
+	newpacket = kzalloc(sizeof (struct packet_data), GFP_KERNEL);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*newpacket)...) over kzalloc(sizeof (struct packet_data)...)
#95: FILE: drivers/firmware/dell_rbu.c:123:
+	newpacket = kzalloc(sizeof (struct packet_data), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#128: FILE: drivers/firmware/dell_rbu.c:147:
+	packet_array_size = max(

ERROR:CODE_INDENT: code indent should use tabs where possible
#129: FILE: drivers/firmware/dell_rbu.c:148:
+^I       ^I^I(unsigned int)(allocation_floor / rbu_data.packetsize),$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#129: FILE: drivers/firmware/dell_rbu.c:148:
+^I       ^I^I(unsigned int)(allocation_floor / rbu_data.packetsize),$

WARNING:TYPECAST_INT_CONSTANT: Unnecessary typecast of c90 int constant - '(unsigned int)1' could be '1U'
#130: FILE: drivers/firmware/dell_rbu.c:149:
+			(unsigned int)1);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#131: FILE: drivers/firmware/dell_rbu.c:150:
+	invalid_addr_packet_array = kzalloc(packet_array_size * sizeof(void*),

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:ALLOC_WITH_MULTIPLY: Prefer kcalloc over kzalloc with multiply
#131: FILE: drivers/firmware/dell_rbu.c:150:
+	invalid_addr_packet_array = kzalloc(packet_array_size * sizeof(void*),
+						GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#132: FILE: drivers/firmware/dell_rbu.c:151:
+	invalid_addr_packet_array = kzalloc(packet_array_size * sizeof(void*),
+						GFP_KERNEL);

WARNING:SPLIT_STRING: quoted string split across lines
#142: FILE: drivers/firmware/dell_rbu.c:156:
+			"dell_rbu:%s: failed to allocate "
+			"invalid_addr_packet_array \n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#142: FILE: drivers/firmware/dell_rbu.c:156:
+			"invalid_addr_packet_array \n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#143: FILE: drivers/firmware/dell_rbu.c:157:
+			__FUNCTION__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#153: FILE: drivers/firmware/dell_rbu.c:167:
+			printk(KERN_WARNING

WARNING:SPLIT_STRING: quoted string split across lines
#155: FILE: drivers/firmware/dell_rbu.c:169:
+				"dell_rbu:%s: failed to allocate new "
+				"packet\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#155: FILE: drivers/firmware/dell_rbu.c:169:
+				"packet\n", __FUNCTION__);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#164: FILE: drivers/firmware/dell_rbu.c:178:
+			pr_debug("packet 0x%lx below floor at 0x%lx.\n",
+					(unsigned long)virt_to_phys(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#164: FILE: drivers/firmware/dell_rbu.c:178:
+					(unsigned long)virt_to_phys(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#176: FILE: drivers/firmware/dell_rbu.c:190:
+	pr_debug("create_packet: newpacket at physical addr %lx\n",
+		(unsigned long)virt_to_phys(newpacket->data));

ERROR:SPACING: space required after that ';' (ctx:BxV)
#201: FILE: drivers/firmware/dell_rbu.c:207:
+	for (;idx>0;idx--) {
 	     ^

ERROR:SPACING: spaces required around that '>' (ctx:VxV)
#201: FILE: drivers/firmware/dell_rbu.c:207:
+	for (;idx>0;idx--) {
 	         ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#201: FILE: drivers/firmware/dell_rbu.c:207:
+	for (;idx>0;idx--) {
 	           ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#203: FILE: drivers/firmware/dell_rbu.c:209:
+		pr_debug("freeing unused packet below floor 0x%lx.\n",
+			(unsigned long)virt_to_phys(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#203: FILE: drivers/firmware/dell_rbu.c:209:
+			(unsigned long)virt_to_phys(

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#204: FILE: drivers/firmware/dell_rbu.c:210:
+				invalid_addr_packet_array[idx-1]));
 				                             ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#205: FILE: drivers/firmware/dell_rbu.c:211:
+		free_pages((unsigned long)invalid_addr_packet_array[idx-1],
 		                                                       ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#206: FILE: drivers/firmware/dell_rbu.c:212:
+		free_pages((unsigned long)invalid_addr_packet_array[idx-1],
+			ordernum);

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#226: FILE: drivers/firmware/dell_rbu.c:764:
+/* vim:noet:ts=8:sw=8
+*/

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000139804.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 5 errors, 14 warnings, 12 checks, 172 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000139804.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
