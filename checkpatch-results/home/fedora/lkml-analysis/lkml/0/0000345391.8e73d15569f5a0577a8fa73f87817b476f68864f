WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#22: 
Thank you for providing us all of your feedback on the MSI patches. The attaatch is an update of vector base patch to reflect your feedback. We appreciate 

CHECK:SPACING: spaces preferred around that '-' (ctx:WxV)
#69: FILE: arch/i386/kernel/io_apic.c:80:
+int vector_irq[NR_IRQS] = { [0 ... NR_IRQS -1] = -1};
                                            ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#70: FILE: arch/i386/kernel/io_apic.c:81:
+#define vector_to_irq(vector) ^I\$

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'vector' - possible side-effects?
#70: FILE: arch/i386/kernel/io_apic.c:81:
+#define vector_to_irq(vector) 	\
+	(platform_legacy_irq(vector) ? vector : vector_irq[vector])

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#84: FILE: arch/i386/kernel/io_apic.c:260:
+static void set_ioapic_affinity_irq (unsigned int irq, unsigned long cpu_mask)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#93: FILE: arch/i386/kernel/io_apic.c:678:
+static void set_ioapic_affinity_irq (unsigned int irq, unsigned long mask);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#121: FILE: arch/i386/kernel/io_apic.c:1153:
+	if ((vector = IO_APIC_VECTOR(irq)) > 0)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#133: FILE: arch/i386/kernel/io_apic.c:1168:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#152: FILE: arch/i386/kernel/io_apic.c:1185:
+		if ((trigger == IOAPIC_AUTO && IO_APIC_irq_trigger(irq)) ||
+				trigger == IOAPIC_LEVEL)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#159: FILE: arch/i386/kernel/io_apic.c:1192:
+		if ((trigger == IOAPIC_AUTO && IO_APIC_irq_trigger(irq)) ||
+				trigger == IOAPIC_LEVEL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#241: FILE: arch/i386/kernel/io_apic.c:1820:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#263: FILE: arch/i386/kernel/io_apic.c:1842:
+static unsigned int startup_level_ioapic_vector (unsigned int vector)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#272: FILE: arch/i386/kernel/io_apic.c:1851:
+static void end_level_ioapic_vector (unsigned int vector)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#322: FILE: arch/i386/kernel/io_apic.c:1901:
+				printk(KERN_CRIT "Aieee!!!  Remote IRR"

WARNING:SPLIT_STRING: quoted string split across lines
#323: FILE: arch/i386/kernel/io_apic.c:1902:
+				printk(KERN_CRIT "Aieee!!!  Remote IRR"
+					" still set after unlock!\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#334: FILE: arch/i386/kernel/io_apic.c:1913:
+static void mask_IO_APIC_vector (unsigned int vector)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#344: FILE: arch/i386/kernel/io_apic.c:1923:
+static void unmask_IO_APIC_vector (unsigned int vector)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#348: FILE: arch/i386/kernel/io_apic.c:1927:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#354: FILE: arch/i386/kernel/io_apic.c:1933:
+static void set_ioapic_affinity_vector (unsigned int vector, $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#354: FILE: arch/i386/kernel/io_apic.c:1933:
+static void set_ioapic_affinity_vector (unsigned int vector, 

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#449: FILE: arch/i386/kernel/io_apic.c:2087:
+^I.startup ^I= startup_edge_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#450: FILE: arch/i386/kernel/io_apic.c:2088:
+^I.shutdown ^I= shutdown_edge_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#451: FILE: arch/i386/kernel/io_apic.c:2089:
+^I.enable ^I= enable_edge_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#452: FILE: arch/i386/kernel/io_apic.c:2090:
+^I.disable ^I= disable_edge_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#453: FILE: arch/i386/kernel/io_apic.c:2091:
+^I.ack ^I^I= ack_edge_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#454: FILE: arch/i386/kernel/io_apic.c:2092:
+^I.end ^I^I= end_edge_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#467: FILE: arch/i386/kernel/io_apic.c:2098:
+^I.startup ^I= startup_level_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#468: FILE: arch/i386/kernel/io_apic.c:2099:
+^I.shutdown ^I= shutdown_level_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#469: FILE: arch/i386/kernel/io_apic.c:2100:
+^I.enable ^I= enable_level_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#470: FILE: arch/i386/kernel/io_apic.c:2101:
+^I.disable ^I= disable_level_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#471: FILE: arch/i386/kernel/io_apic.c:2102:
+^I.ack ^I^I= mask_and_ack_level_ioapic,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#472: FILE: arch/i386/kernel/io_apic.c:2103:
+^I.end ^I^I= end_level_ioapic,$

WARNING:LINE_SPACING: Missing a blank line after declarations
#482: FILE: arch/i386/kernel/io_apic.c:2124:
+		int tmp = irq;
+		if (use_pci_vector()) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#483: FILE: arch/i386/kernel/io_apic.c:2125:
+^I^I^Iif (!platform_legacy_irq(tmp))  $

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#484: FILE: arch/i386/kernel/io_apic.c:2126:
+				if ((tmp = vector_to_irq(tmp)) == -1)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#535: FILE: arch/i386/pci/irq.c:746:
+^I^I^I^I^Iif (use_pci_vector() && $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#536: FILE: arch/i386/pci/irq.c:747:
+					if (use_pci_vector() && 
+						!platform_legacy_irq(irq))

ERROR:SPACING: space required after that ';' (ctx:VxV)
#561: FILE: include/asm-i386/io_apic.h:15:
+static inline int use_pci_vector(void)	{return 1;}
                                       	         ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#564: FILE: include/asm-i386/io_apic.h:18:
+static inline void end_edge_ioapic_vector (unsigned int vector) { }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#569: FILE: include/asm-i386/io_apic.h:23:
+#define mask_and_ack_level_ioapic mask_and_ack_level_ioapic_vector^I$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#573: FILE: include/asm-i386/io_apic.h:27:
+#define startup_edge_ioapic ^Istartup_edge_ioapic_vector$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#574: FILE: include/asm-i386/io_apic.h:28:
+#define shutdown_edge_ioapic ^Idisable_edge_ioapic_vector$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#575: FILE: include/asm-i386/io_apic.h:29:
+#define enable_edge_ioapic ^Iunmask_IO_APIC_vector$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#576: FILE: include/asm-i386/io_apic.h:30:
+#define disable_edge_ioapic ^Idisable_edge_ioapic_vector$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#577: FILE: include/asm-i386/io_apic.h:31:
+#define ack_edge_ioapic ^Iack_edge_ioapic_vector$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#578: FILE: include/asm-i386/io_apic.h:32:
+#define end_edge_ioapic ^Iend_edge_ioapic_vector$

ERROR:SPACING: space required after that ';' (ctx:VxV)
#580: FILE: include/asm-i386/io_apic.h:34:
+static inline int use_pci_vector(void)	{return 0;}
                                       	         ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#583: FILE: include/asm-i386/io_apic.h:37:
+static inline void end_edge_ioapic_irq (unsigned int irq) { }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#588: FILE: include/asm-i386/io_apic.h:42:
+#define mask_and_ack_level_ioapic mask_and_ack_level_ioapic_irq^I$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#592: FILE: include/asm-i386/io_apic.h:46:
+#define startup_edge_ioapic ^Istartup_edge_ioapic_irq$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#593: FILE: include/asm-i386/io_apic.h:47:
+#define shutdown_edge_ioapic ^Idisable_edge_ioapic_irq$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#594: FILE: include/asm-i386/io_apic.h:48:
+#define enable_edge_ioapic ^Iunmask_IO_APIC_irq$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#595: FILE: include/asm-i386/io_apic.h:49:
+#define disable_edge_ioapic ^Idisable_edge_ioapic_irq$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#596: FILE: include/asm-i386/io_apic.h:50:
+#define ack_edge_ioapic ^Iack_edge_ioapic_irq$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#597: FILE: include/asm-i386/io_apic.h:51:
+#define end_edge_ioapic ^Iend_edge_ioapic_irq$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#613: FILE: include/asm-i386/mach-default/irq_vectors.h:82:
+ * should be changed accordingly. $

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000345391.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 13 errors, 38 warnings, 5 checks, 551 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000345391.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
