WARNING:TYPO_SPELLING: 'teh' may be misspelled - perhaps 'the'?
#51: 
* Perhaps teh WoL config register should be saved/restored across calls to
          ^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#69: 
diff -ruN dist-2.4.12+patches/drivers/net/natsemi.c cvs-2.4.12+patches/drivers/net/natsemi.c

ERROR:TRAILING_WHITESPACE: trailing whitespace
#76: FILE: drivers/net/natsemi.c:88:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that ':' (ctx:VxE)
#77: FILE: drivers/net/natsemi.c:89:
+	version 1.0.11:
 	              ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#78: FILE: drivers/net/natsemi.c:90:
+		* check and reset if PHY errors appear (Adrian Sun)

ERROR:SPACING: space prohibited after that '*' (ctx:ExW)
#78: FILE: drivers/net/natsemi.c:90:
+		* check and reset if PHY errors appear (Adrian Sun)
 		^

CHECK:CAMELCASE: Avoid CamelCase: <Adrian>
#78: FILE: drivers/net/natsemi.c:90:
+		* check and reset if PHY errors appear (Adrian Sun)

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <Sun>
#78: FILE: drivers/net/natsemi.c:90:
+		* check and reset if PHY errors appear (Adrian Sun)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#79: FILE: drivers/net/natsemi.c:91:
+		* WoL cleanup (Tim Hockin)

CHECK:CAMELCASE: Avoid CamelCase: <Tim>
#79: FILE: drivers/net/natsemi.c:91:
+		* WoL cleanup (Tim Hockin)

CHECK:CAMELCASE: Avoid CamelCase: <Hockin>
#79: FILE: drivers/net/natsemi.c:91:
+		* WoL cleanup (Tim Hockin)

WARNING:HOTPLUG_SECTION: Using __devinitdata is unnecessary
#112: FILE: drivers/net/natsemi.c:313:
 } natsemi_pci_info[] __devinitdata = {

WARNING:HOTPLUG_SECTION: Using __devinitdata is unnecessary
#120: FILE: drivers/net/natsemi.c:320:
 static struct pci_device_id natsemi_pci_tbl[] __devinitdata = {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#131: FILE: drivers/net/natsemi.c:345:
+	PGSEL=0xCC, PMDCSR=0xE4, TSTDAT=0xFC, DSPCFG=0xF4, SDCFG=0xF8
 	     ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#131: FILE: drivers/net/natsemi.c:345:
+	PGSEL=0xCC, PMDCSR=0xE4, TSTDAT=0xFC, DSPCFG=0xF4, SDCFG=0xF8
 	                  ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#131: FILE: drivers/net/natsemi.c:345:
+	PGSEL=0xCC, PMDCSR=0xE4, TSTDAT=0xFC, DSPCFG=0xF4, SDCFG=0xF8
 	                               ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#131: FILE: drivers/net/natsemi.c:345:
+	PGSEL=0xCC, PMDCSR=0xE4, TSTDAT=0xFC, DSPCFG=0xF4, SDCFG=0xF8
 	                                            ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#131: FILE: drivers/net/natsemi.c:345:
+	PGSEL=0xCC, PMDCSR=0xE4, TSTDAT=0xFC, DSPCFG=0xF4, SDCFG=0xF8
 	                                                        ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#133: FILE: drivers/net/natsemi.c:347:
 };
+/* the values for the 'magic' registers above (PGSEL=1) */

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#146: FILE: drivers/net/natsemi.c:378:
+	IntrAbnormalSummary=0xCD20,
 	                   ^

CHECK:CAMELCASE: Avoid CamelCase: <IntrAbnormalSummary>
#146: FILE: drivers/net/natsemi.c:378:
+	IntrAbnormalSummary=0xCD20,

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#150: FILE: drivers/net/natsemi.c:382:
+/*
+ * Interrupts:

ERROR:TRAILING_WHITESPACE: trailing whitespace
#151: FILE: drivers/net/natsemi.c:383:
+ * Rx OK, Rx Packet Error, Rx Overrun, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#152: FILE: drivers/net/natsemi.c:384:
+ * Tx OK, Tx Packet Error, Tx Underrun, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#155: FILE: drivers/net/natsemi.c:387:
+ * Received Target Abort, Received Master Abort, $

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#186: FILE: drivers/net/natsemi.c:872:
+	for (i=0;i<NATSEMI_HW_TIMEOUT;i++) {
 	      ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#186: FILE: drivers/net/natsemi.c:872:
+	for (i=0;i<NATSEMI_HW_TIMEOUT;i++) {
 	        ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#186: FILE: drivers/net/natsemi.c:872:
+	for (i=0;i<NATSEMI_HW_TIMEOUT;i++) {
 	          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#186: FILE: drivers/net/natsemi.c:872:
+	for (i=0;i<NATSEMI_HW_TIMEOUT;i++) {
 	                             ^

CHECK:CAMELCASE: Avoid CamelCase: <ChipConfig>
#187: FILE: drivers/net/natsemi.c:873:
+		if (readl(dev->base_addr + ChipConfig) & CfgAnegDone)

CHECK:CAMELCASE: Avoid CamelCase: <CfgAnegDone>
#187: FILE: drivers/net/natsemi.c:873:
+		if (readl(dev->base_addr + ChipConfig) & CfgAnegDone)

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#189: FILE: drivers/net/natsemi.c:875:
+		udelay(10);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#191: FILE: drivers/net/natsemi.c:877:
+	if (i==NATSEMI_HW_TIMEOUT && debug) {
 	     ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#192: FILE: drivers/net/natsemi.c:878:
+^I^Iprintk(KERN_INFO $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#192: FILE: drivers/net/natsemi.c:878:
+		printk(KERN_INFO 

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#194: FILE: drivers/net/natsemi.c:880:
+			dev->name, i*10);
 			            ^

CHECK:CAMELCASE: Avoid CamelCase: <MIntrStatus>
#221: FILE: drivers/net/natsemi.c:901:
+	readw(ioaddr + MIntrStatus);

CHECK:CAMELCASE: Avoid CamelCase: <IntrStatus>
#225: FILE: drivers/net/natsemi.c:905:
+	readl(ioaddr + IntrStatus);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#229: FILE: drivers/net/natsemi.c:908:
+^Iwritel(np->ring_dma + RX_RING_SIZE * sizeof(struct netdev_desc), $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#230: FILE: drivers/net/natsemi.c:909:
+	writel(np->ring_dma + RX_RING_SIZE * sizeof(struct netdev_desc), 
+		ioaddr + TxRingPtr);

CHECK:CAMELCASE: Avoid CamelCase: <TxRingPtr>
#230: FILE: drivers/net/natsemi.c:909:
+		ioaddr + TxRingPtr);

CHECK:CAMELCASE: Avoid CamelCase: <SavedClkRun>
#238: FILE: drivers/net/natsemi.c:947:
+	if (np->SavedClkRun & 0x8000) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#239: FILE: drivers/net/natsemi.c:948:
+^I^Iprintk(KERN_NOTICE "%s: Wake-up event %8.8x\n", $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_notice([subsystem]dev, ... then dev_notice(dev, ... then pr_notice(...  to printk(KERN_NOTICE ...
#239: FILE: drivers/net/natsemi.c:948:
+		printk(KERN_NOTICE "%s: Wake-up event %8.8x\n", 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#240: FILE: drivers/net/natsemi.c:949:
+		printk(KERN_NOTICE "%s: Wake-up event %8.8x\n", 
+			dev->name, readl(ioaddr + WOLCmd));

CHECK:CAMELCASE: Avoid CamelCase: <WOLCmd>
#240: FILE: drivers/net/natsemi.c:949:
+			dev->name, readl(ioaddr + WOLCmd));

CHECK:CAMELCASE: Avoid CamelCase: <IntrMask>
#248: FILE: drivers/net/natsemi.c:956:
+	writel(DEFAULT_INTR, ioaddr + IntrMask);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#255: FILE: drivers/net/natsemi.c:963:
+/* $

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#256: FILE: drivers/net/natsemi.c:964:
+/* 
+ * The frequency on this has been increased because of a nasty little problem.

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#267: FILE: drivers/net/natsemi.c:974:
+	int next_tick = 5*HZ;
 	                 ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#280: FILE: drivers/net/natsemi.c:988:
+	writew(1, ioaddr+PGSEL);
 	                ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#281: FILE: drivers/net/natsemi.c:989:
+	dspcfg = readw(ioaddr+DSPCFG);
 	                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#282: FILE: drivers/net/natsemi.c:990:
+	writew(0, ioaddr+PGSEL);
 	                ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#285: FILE: drivers/net/natsemi.c:993:
+^I^I^Iprintk(KERN_INFO $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#285: FILE: drivers/net/natsemi.c:993:
+			printk(KERN_INFO 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#313: FILE: drivers/net/natsemi.c:1019:
+^I^I^I^I   np->tx_ring[i].cmd_status, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#321: FILE: drivers/net/natsemi.c:1026:
+^I^I^I^I   np->rx_ring[i].cmd_status, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#336: FILE: drivers/net/natsemi.c:1041:
+^I^I^I" resetting...\n", $

WARNING:SPLIT_STRING: quoted string split across lines
#336: FILE: drivers/net/natsemi.c:1041:
 		printk(KERN_WARNING "%s: Transmit timed out, status %8.8x,"
+			" resetting...\n", 

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:TRAILING_WHITESPACE: trailing whitespace
#347: FILE: drivers/net/natsemi.c:1050:
+^I^Iprintk(KERN_WARNING $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#347: FILE: drivers/net/natsemi.c:1050:
+		printk(KERN_WARNING 

ERROR:CODE_INDENT: code indent should use tabs where possible
#349: FILE: drivers/net/natsemi.c:1052:
+^I^I   ^Idev->name);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#349: FILE: drivers/net/natsemi.c:1052:
+^I^I   ^Idev->name);$

CHECK:SPACING: spaces preferred around that '*' (ctx:ExV)
#358: FILE: drivers/net/natsemi.c:1093:
+				*((i+1)%RX_RING_SIZE));
 				^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#358: FILE: drivers/net/natsemi.c:1093:
+				*((i+1)%RX_RING_SIZE));
 				    ^

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#358: FILE: drivers/net/natsemi.c:1093:
+				*((i+1)%RX_RING_SIZE));
 				       ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#367: FILE: drivers/net/natsemi.c:1181:
+^I^I/* StrongARM: Explicitly cache flush np->tx_ring and $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#368: FILE: drivers/net/natsemi.c:1182:
+		 * skb->data,skb->len. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BRACES: braces {} are not necessary for single statement blocks
#386: FILE: drivers/net/natsemi.c:1628:
+	if (newval & WAKE_PHY) {
 		data |= WakePhy;
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:BRACES: braces {} are not necessary for single statement blocks
#390: FILE: drivers/net/natsemi.c:1631:
+	if (newval & WAKE_UCAST) {
 		data |= WakeUnicast;
+	}

WARNING:BRACES: braces {} are not necessary for single statement blocks
#394: FILE: drivers/net/natsemi.c:1634:
+	if (newval & WAKE_MCAST) {
 		data |= WakeMulticast;
+	}

WARNING:BRACES: braces {} are not necessary for single statement blocks
#398: FILE: drivers/net/natsemi.c:1637:
+	if (newval & WAKE_BCAST) {
 		data |= WakeBroadcast;
+	}

WARNING:BRACES: braces {} are not necessary for single statement blocks
#402: FILE: drivers/net/natsemi.c:1640:
+	if (newval & WAKE_ARP) {
 		data |= WakeArp;
+	}

WARNING:BRACES: braces {} are not necessary for single statement blocks
#406: FILE: drivers/net/natsemi.c:1643:
+	if (newval & WAKE_MAGIC) {
 		data |= WakeMagic;
+	}

CHECK:CAMELCASE: Avoid CamelCase: <SiliconRev>
#411: FILE: drivers/net/natsemi.c:1646:
+	if (readl(dev->base_addr + SiliconRev) >= 0x403) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#412: FILE: drivers/net/natsemi.c:1647:
+		if (newval & WAKE_MAGICSECURE) {
+			data |= WakeMagicSecure;
+		}

CHECK:CAMELCASE: Avoid CamelCase: <WakeMagicSecure>
#413: FILE: drivers/net/natsemi.c:1648:
+			data |= WakeMagicSecure;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#430: FILE: drivers/net/natsemi.c:1665:
+^I$

CHECK:CAMELCASE: Avoid CamelCase: <WakePhy>
#439: FILE: drivers/net/natsemi.c:1673:
+	if (regval & WakePhy) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#439: FILE: drivers/net/natsemi.c:1673:
+	if (regval & WakePhy) {
 		*cur |= WAKE_PHY;
+	}

CHECK:CAMELCASE: Avoid CamelCase: <WakeUnicast>
#443: FILE: drivers/net/natsemi.c:1676:
+	if (regval & WakeUnicast) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#443: FILE: drivers/net/natsemi.c:1676:
+	if (regval & WakeUnicast) {
 		*cur |= WAKE_UCAST;
+	}

CHECK:CAMELCASE: Avoid CamelCase: <WakeMulticast>
#447: FILE: drivers/net/natsemi.c:1679:
+	if (regval & WakeMulticast) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#447: FILE: drivers/net/natsemi.c:1679:
+	if (regval & WakeMulticast) {
 		*cur |= WAKE_MCAST;
+	}

CHECK:CAMELCASE: Avoid CamelCase: <WakeBroadcast>
#451: FILE: drivers/net/natsemi.c:1682:
+	if (regval & WakeBroadcast) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#451: FILE: drivers/net/natsemi.c:1682:
+	if (regval & WakeBroadcast) {
 		*cur |= WAKE_BCAST;
+	}

CHECK:CAMELCASE: Avoid CamelCase: <WakeArp>
#455: FILE: drivers/net/natsemi.c:1685:
+	if (regval & WakeArp) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#455: FILE: drivers/net/natsemi.c:1685:
+	if (regval & WakeArp) {
 		*cur |= WAKE_ARP;
+	}

CHECK:CAMELCASE: Avoid CamelCase: <WakeMagic>
#459: FILE: drivers/net/natsemi.c:1688:
+	if (regval & WakeMagic) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#459: FILE: drivers/net/natsemi.c:1688:
+	if (regval & WakeMagic) {
 		*cur |= WAKE_MAGIC;
+	}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#476: FILE: drivers/net/natsemi.c:1703:
+^I$

WARNING:BRACES: braces {} are not necessary for single statement blocks
#477: FILE: drivers/net/natsemi.c:1704:
+	if (readl(dev->base_addr + SiliconRev) < 0x403) {
+		return 0;
+	}

CHECK:CAMELCASE: Avoid CamelCase: <RxFilterAddr>
#482: FILE: drivers/net/natsemi.c:1709:
+	addr = readl(dev->base_addr + RxFilterAddr) & ~0x3ff;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#503: FILE: drivers/net/natsemi.c:1737:
+		sval[0] = sval[1] = sval[2] = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:CAMELCASE: Avoid CamelCase: <ClkRun>
#542: FILE: drivers/net/natsemi.c:1923:
+	writel(np->SavedClkRun | 0x8100, ioaddr + ClkRun);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#555: FILE: drivers/net/natsemi.c:1945:
+		printk(KERN_DEBUG "%s: Shutting down ethercard, status was %4.4x.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#556: FILE: drivers/net/natsemi.c:1946:
+		printk(KERN_DEBUG "%s: Shutting down ethercard, status was %4.4x.\n",
 			   dev->name, (int)readl(ioaddr + ChipCmd));

ERROR:CODE_INDENT: code indent should use tabs where possible
#570: FILE: drivers/net/natsemi.c:1961:
+ ^I/* Freeze Stats */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#570: FILE: drivers/net/natsemi.c:1961:
+ ^I/* Freeze Stats */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#570: FILE: drivers/net/natsemi.c:1961:
+ ^I/* Freeze Stats */$

CHECK:CAMELCASE: Avoid CamelCase: <StatsCtrl>
#571: FILE: drivers/net/natsemi.c:1962:
+	writel(2, ioaddr + StatsCtrl);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#638: FILE: drivers/net/natsemi.c:2104:
+		mod_timer(&np->timer, jiffies + 1*HZ);
 		                                 ^

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000505965.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 31 errors, 32 warnings, 39 checks, 544 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000505965.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
