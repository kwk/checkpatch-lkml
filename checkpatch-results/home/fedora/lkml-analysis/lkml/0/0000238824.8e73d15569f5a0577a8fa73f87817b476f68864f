WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#75: FILE: drivers/media/video/msp3400.c:69:
+			       the autoscan seems work well only with FM... */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#85: FILE: drivers/media/video/msp3400.c:74:
+static int stereo_threshold = 0x190; /* a2 threshold for stereo/bilingual
+					(msp34xxg only) 0x00a0-0x03c0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#85: FILE: drivers/media/video/msp3400.c:74:
+					(msp34xxg only) 0x00a0-0x03c0 */

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#130: FILE: drivers/media/video/msp3400.c:105:
+#define HAVE_SIMPLER(msp) ((msp->rev1      & 0xff) >= 'G'-'@')
                                                          ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'msp' may be better as '(msp)' to avoid precedence issues
#130: FILE: drivers/media/video/msp3400.c:105:
+#define HAVE_SIMPLER(msp) ((msp->rev1      & 0xff) >= 'G'-'@')

ERROR:SPACING: space required after that ',' (ctx:VxV)
#240: FILE: drivers/media/video/msp3400.c:392:
+	msp3400c_write(client,I2C_MSP3400C_DFP, 0x0007,
 	                     ^

ERROR:SPACING: space prohibited after that open square bracket '['
#308: FILE: drivers/media/video/msp3400.c:487:
+		[ 0 ... 15 ]               = "invalid",

ERROR:SPACING: space prohibited before that close square bracket ']'
#308: FILE: drivers/media/video/msp3400.c:487:
+		[ 0 ... 15 ]               = "invalid",

ERROR:SPACING: space prohibited after that open square bracket '['
#314: FILE: drivers/media/video/msp3400.c:489:
+		[ V4L2_TUNER_MODE_MONO   ] = "mono",

ERROR:SPACING: space prohibited before that close square bracket ']'
#314: FILE: drivers/media/video/msp3400.c:489:
+		[ V4L2_TUNER_MODE_MONO   ] = "mono",

ERROR:SPACING: space prohibited after that open square bracket '['
#315: FILE: drivers/media/video/msp3400.c:490:
+		[ V4L2_TUNER_MODE_STEREO ] = "stereo",

ERROR:SPACING: space prohibited before that close square bracket ']'
#315: FILE: drivers/media/video/msp3400.c:490:
+		[ V4L2_TUNER_MODE_STEREO ] = "stereo",

ERROR:SPACING: space prohibited after that open square bracket '['
#316: FILE: drivers/media/video/msp3400.c:491:
+		[ V4L2_TUNER_MODE_LANG1  ] = "lang1",

ERROR:SPACING: space prohibited before that close square bracket ']'
#316: FILE: drivers/media/video/msp3400.c:491:
+		[ V4L2_TUNER_MODE_LANG1  ] = "lang1",

ERROR:SPACING: space prohibited after that open square bracket '['
#317: FILE: drivers/media/video/msp3400.c:492:
+		[ V4L2_TUNER_MODE_LANG2  ] = "lang2",

ERROR:SPACING: space prohibited before that close square bracket ']'
#317: FILE: drivers/media/video/msp3400.c:492:
+		[ V4L2_TUNER_MODE_LANG2  ] = "lang2",

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#323: FILE: drivers/media/video/msp3400.c:498:
+	BUG_ON(msp->opmode == OPMODE_SIMPLER);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#412: FILE: drivers/media/video/msp3400.c:568:
+#if 0

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#525: FILE: drivers/media/video/msp3400.c:716:
+		if (val & 0x0040) rxsubchans |= V4L2_TUNER_SUB_STEREO;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#526: FILE: drivers/media/video/msp3400.c:717:
+		if (val & 0x0100) rxsubchans |= V4L2_TUNER_SUB_LANG1;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#536: FILE: drivers/media/video/msp3400.c:723:
+			msp->rxsubchans,rxsubchans);
 			               ^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#555: FILE: drivers/media/video/msp3400.c:750:
+#if 0

ERROR:SPACING: space required after that ',' (ctx:VxV)
#594: FILE: drivers/media/video/msp3400.c:771:
+		msp3400c_set_audmode(client,best_audio_mode(msp->rxsubchans));
 		                           ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#613: FILE: drivers/media/video/msp3400.c:783:
+	printk("msp3400: kthread started\n");

ERROR:SPACING: space required after that ',' (ctx:VxO)
#619: FILE: drivers/media/video/msp3400.c:786:
+		msp34xx_sleep(msp,-1);
 		                 ^

ERROR:SPACING: space required before that '-' (ctx:OxV)
#619: FILE: drivers/media/video/msp3400.c:786:
+		msp34xx_sleep(msp,-1);
 		                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#657: FILE: drivers/media/video/msp3400.c:812:
+		if (msp34xx_sleep(msp,200))
 		                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#673: FILE: drivers/media/video/msp3400.c:827:
+			if (msp34xx_sleep(msp,100))
 			                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#714: FILE: drivers/media/video/msp3400.c:860:
+			if (msp34xx_sleep(msp,100))
 			                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#777: FILE: drivers/media/video/msp3400.c:950:
+			if (msp34xx_sleep(msp,5000))
 			                     ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#797: FILE: drivers/media/video/msp3400.c:993:
+	int i;
+	for (i = 0; modelist[i].name != NULL; i++)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "modelist[i].name"
#797: FILE: drivers/media/video/msp3400.c:993:
+	for (i = 0; modelist[i].name != NULL; i++)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#847: FILE: drivers/media/video/msp3400.c:1039:
+	printk("msp3410: daemon started\n");

ERROR:SPACING: space required after that ',' (ctx:VxO)
#853: FILE: drivers/media/video/msp3400.c:1042:
+		msp34xx_sleep(msp,-1);
 		                 ^

ERROR:SPACING: space required before that '-' (ctx:OxV)
#853: FILE: drivers/media/video/msp3400.c:1042:
+		msp34xx_sleep(msp,-1);
 		                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#888: FILE: drivers/media/video/msp3400.c:1063:
+		if (msp34xx_sleep(msp,200))
 		                     ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#929: FILE: drivers/media/video/msp3400.c:1075:
+			       msp34xx_standard_mode_name(std) ,std);
 			                                       ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#929: FILE: drivers/media/video/msp3400.c:1075:
+			       msp34xx_standard_mode_name(std) ,std);
 			                                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#940: FILE: drivers/media/video/msp3400.c:1083:
+				if (msp34xx_sleep(msp,100))
 				                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#953: FILE: drivers/media/video/msp3400.c:1128:
+			msp3400c_set_audmode(client,V4L2_TUNER_MODE_STEREO);
 			                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#962: FILE: drivers/media/video/msp3400.c:1134:
+			msp3400c_set_audmode(client,V4L2_TUNER_MODE_MONO);
 			                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#974: FILE: drivers/media/video/msp3400.c:1143:
+			msp3400c_set_audmode(client,V4L2_TUNER_MODE_STEREO);
 			                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1012: FILE: drivers/media/video/msp3400.c:1190:
+			if (msp34xx_sleep(msp,5000))
 			                     ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1062: FILE: drivers/media/video/msp3400.c:1236:
+	/* write the dfps that may have an influence on
+	   standard/audio autodetection right now */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1062: FILE: drivers/media/video/msp3400.c:1236:
+	   standard/audio autodetection right now */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1089: FILE: drivers/media/video/msp3400.c:1263:
+	printk("msp34xxg: daemon started\n");

ERROR:SPACING: space required after that ',' (ctx:VxO)
#1092: FILE: drivers/media/video/msp3400.c:1266:
+		msp34xx_sleep(msp,-1);
 		                 ^

ERROR:SPACING: space required before that '-' (ctx:OxV)
#1092: FILE: drivers/media/video/msp3400.c:1266:
+		msp34xx_sleep(msp,-1);
 		                  ^

WARNING:INDENTED_LABEL: labels should not be indented
#1095: FILE: drivers/media/video/msp3400.c:1269:
+	restart:

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1110: FILE: drivers/media/video/msp3400.c:1284:
+			if (msp34xx_sleep(msp,100))
 			                     ^

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1121: FILE: drivers/media/video/msp3400.c:1295:
+		if (0x01 == std) {

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:LONG_LINE_STRING: line length of 102 exceeds 100 columns
#1122: FILE: drivers/media/video/msp3400.c:1296:
+			dprintk("msp34xxg: detection still in progress after 10 tries. giving up.\n");

A string starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:INDENTED_LABEL: labels should not be indented
#1126: FILE: drivers/media/video/msp3400.c:1300:
+	unmute:

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#1161: FILE: drivers/media/video/msp3400.c:1335:
+	int value = (source&0x07)<<8|(source==0 ? 0x00:0x20);
 	                   ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1161: FILE: drivers/media/video/msp3400.c:1335:
+	int value = (source&0x07)<<8|(source==0 ? 0x00:0x20);
 	                         ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1161: FILE: drivers/media/video/msp3400.c:1335:
+	int value = (source&0x07)<<8|(source==0 ? 0x00:0x20);
 	                            ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#1161: FILE: drivers/media/video/msp3400.c:1335:
+	int value = (source&0x07)<<8|(source==0 ? 0x00:0x20);
 	                                    ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1161: FILE: drivers/media/video/msp3400.c:1335:
+	int value = (source&0x07)<<8|(source==0 ? 0x00:0x20);
 	                                              ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#1162: FILE: drivers/media/video/msp3400.c:1336:
+	int value = (source&0x07)<<8|(source==0 ? 0x00:0x20);
+	dprintk("msp34xxg: set source to %d (0x%x)\n", source, value);

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#1185: FILE: drivers/media/video/msp3400.c:1359:
+		       source==0 ? 0x7f0:stereo_threshold);
 		             ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1185: FILE: drivers/media/video/msp3400.c:1359:
+		       source==0 ? 0x7f0:stereo_threshold);
 		                        ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1186: FILE: drivers/media/video/msp3400.c:1360:
+	msp->source=source;
 	           ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#1196: FILE: drivers/media/video/msp3400.c:1370:
+	int is_bilingual = status&0x100;
 	                         ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#1197: FILE: drivers/media/video/msp3400.c:1371:
+	int is_stereo = status&0x40;
 	                      ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1205: FILE: drivers/media/video/msp3400.c:1379:
+		msp->rxsubchans |= V4L2_TUNER_SUB_LANG1|V4L2_TUNER_SUB_LANG2;
 		                                       ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1224: FILE: drivers/media/video/msp3400.c:1398:
+		source=0; /* mono only */
 		      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1227: FILE: drivers/media/video/msp3400.c:1401:
+		source=1; /* stereo or A|B, see comment in msp34xxg_get_v4l2_stereo() */
 		      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1231: FILE: drivers/media/video/msp3400.c:1405:
+		source=3; /* stereo or A */
 		      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1234: FILE: drivers/media/video/msp3400.c:1408:
+		source=4; /* stereo or B */
 		      ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1244: FILE: drivers/media/video/msp3400.c:1418:
+
+

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1252: FILE: drivers/media/video/msp3400.c:1426:
+static int msp_suspend(struct device * dev, u32 state, u32 level);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1253: FILE: drivers/media/video/msp3400.c:1427:
+static int msp_resume(struct device * dev, u32 level);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1336: FILE: drivers/media/video/msp3400.c:1511:
+	if (OPMODE_AUTO == msp->opmode) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1357: FILE: drivers/media/video/msp3400.c:1527:
+		printk(" +simpler");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1364: FILE: drivers/media/video/msp3400.c:1534:
+		printk(" mode=manual");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1368: FILE: drivers/media/video/msp3400.c:1538:
+		printk(" mode=simple");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1372: FILE: drivers/media/video/msp3400.c:1542:
+		printk(" mode=simpler");

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1388: FILE: drivers/media/video/msp3400.c:1551:
+		if (NULL == msp->kthread)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1389: FILE: drivers/media/video/msp3400.c:1552:
+			printk(KERN_WARNING "msp34xx: kernel_thread() failed\n");

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1436: FILE: drivers/media/video/msp3400.c:1589:
+	if (NULL == msp->kthread)

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1460: FILE: drivers/media/video/msp3400.c:1609:
+	if (0 == mode)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1620: FILE: drivers/media/video/msp3400.c:1767:
+			msp_any_set_audmode(client,mode_v4l1_to_v4l2(va->mode));
 			                          ^

CHECK:SPACING: space preferred before that '|' (ctx:VxE)
#1652: FILE: drivers/media/video/msp3400.c:1798:
+			V4L2_TUNER_CAP_LANG1|
 			                    ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1658: FILE: drivers/media/video/msp3400.c:1804:
+		struct v4l2_tuner *vt=(struct v4l2_tuner *)arg;
 		                     ^

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1683: FILE: drivers/media/video/msp3400.c:1829:
+static int msp_suspend(struct device * dev, u32 state, u32 level)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1692: FILE: drivers/media/video/msp3400.c:1838:
+static int msp_resume(struct device * dev, u32 level)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1712: FILE: drivers/media/video/msp3400.h:12:
+  int input;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1713: FILE: drivers/media/video/msp3400.h:13:
+  int output;$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1720: FILE: drivers/media/video/msp3400.h:20:
+#define MSP_SET_MATRIX     _IOW('m',17,struct msp_matrix)
                                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1720: FILE: drivers/media/video/msp3400.h:20:
+#define MSP_SET_MATRIX     _IOW('m',17,struct msp_matrix)
                                       ^

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000238824.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 49 errors, 28 warnings, 13 checks, 1635 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000238824.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
