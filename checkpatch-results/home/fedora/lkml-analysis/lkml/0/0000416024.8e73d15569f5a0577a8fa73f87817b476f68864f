ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#34: 
--- a/drivers/hotplug/acpiphp.h	Tue Nov  5 17:25:49 2002

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#41: FILE: drivers/hotplug/acpiphp.h:44:
+			printk(KERN_DEBUG "%s: " format,	\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#47: FILE: drivers/hotplug/acpiphp.h:47:
+#define err(format, arg...) printk(KERN_ERR "%s: " format, MY_NAME , ## arg)

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#47: FILE: drivers/hotplug/acpiphp.h:47:
+#define err(format, arg...) printk(KERN_ERR "%s: " format, MY_NAME , ## arg)
                                                                    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#48: FILE: drivers/hotplug/acpiphp.h:48:
+#define info(format, arg...) printk(KERN_INFO "%s: " format, MY_NAME , ## arg)

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#48: FILE: drivers/hotplug/acpiphp.h:48:
+#define info(format, arg...) printk(KERN_INFO "%s: " format, MY_NAME , ## arg)
                                                                      ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#49: FILE: drivers/hotplug/acpiphp.h:49:
+#define warn(format, arg...) printk(KERN_WARNING "%s: " format, MY_NAME , ## arg)

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#49: FILE: drivers/hotplug/acpiphp.h:49:
+#define warn(format, arg...) printk(KERN_WARNING "%s: " format, MY_NAME , ## arg)
                                                                         ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#119: FILE: drivers/hotplug/acpiphp_core.c:139:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#127: FILE: drivers/hotplug/acpiphp_core.c:145:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#140: FILE: drivers/hotplug/acpiphp_core.c:163:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#148: FILE: drivers/hotplug/acpiphp_core.c:169:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#163: FILE: drivers/hotplug/acpiphp_core.c:190:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#172: FILE: drivers/hotplug/acpiphp_core.c:217:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#182: FILE: drivers/hotplug/acpiphp_core.c:223:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#193: FILE: drivers/hotplug/acpiphp_core.c:243:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#203: FILE: drivers/hotplug/acpiphp_core.c:249:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#216: FILE: drivers/hotplug/acpiphp_core.c:268:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#225: FILE: drivers/hotplug/acpiphp_core.c:287:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#235: FILE: drivers/hotplug/acpiphp_core.c:293:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#246: FILE: drivers/hotplug/acpiphp_core.c:312:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#256: FILE: drivers/hotplug/acpiphp_core.c:318:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#268: FILE: drivers/hotplug/acpiphp_core.c:329:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#283: FILE: drivers/hotplug/acpiphp_core.c:343:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*slot)...) over kmalloc(sizeof(struct slot)...)
#312: FILE: drivers/hotplug/acpiphp_core.c:396:
+		slot = kmalloc(sizeof(struct slot), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*slot->hotplug_slot)...) over kmalloc(sizeof(struct hotplug_slot)...)
#318: FILE: drivers/hotplug/acpiphp_core.c:401:
+		slot->hotplug_slot = kmalloc(sizeof(struct hotplug_slot), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*slot->hotplug_slot->info)...) over kmalloc(sizeof(struct hotplug_slot_info)...)
#328: FILE: drivers/hotplug/acpiphp_core.c:408:
+		slot->hotplug_slot->info = kmalloc(sizeof(struct hotplug_slot_info), GFP_KERNEL);

WARNING:LONG_LINE: line length of 144 exceeds 100 columns
#456: FILE: drivers/hotplug/acpiphp_glue.c:305:
+					dbg("resource type: prefetchable memory 0x%x - 0x%x\n", (u32)min_address_range, (u32)max_address_range);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LONG_LINE: line length of 131 exceeds 100 columns
#468: FILE: drivers/hotplug/acpiphp_glue.c:315:
+					dbg("resource type: memory 0x%x - 0x%x\n", (u32)min_address_range, (u32)max_address_range);

WARNING:LONG_LINE: line length of 119 exceeds 100 columns
#482: FILE: drivers/hotplug/acpiphp_glue.c:327:
+				dbg("resource type: io 0x%x - 0x%x\n", (u32)min_address_range, (u32)max_address_range);

WARNING:LONG_LINE: line length of 123 exceeds 100 columns
#495: FILE: drivers/hotplug/acpiphp_glue.c:338:
+				dbg("resource type: bus number %d - %d\n", (u32)min_address_range, (u32)max_address_range);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#522: FILE: drivers/hotplug/acpiphp_glue.c:370:
+	list_for_each (l, list) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#702: FILE: drivers/hotplug/acpiphp_glue.c:689:
+		dbg("%s: _ADR evaluation failure\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#720: FILE: drivers/hotplug/acpiphp_glue.c:727:
+			dbg("%s: _STA evaluation failure\n", __FUNCTION__);

WARNING:TYPO_SPELLING: 'faied' may be misspelled - perhaps 'failed'?
#745: FILE: drivers/hotplug/acpiphp_glue.c:764:
+		warn("find_p2p_bridge faied (error code = 0x%x)\n",status);
 		                      ^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:SPACING: space required after that ',' (ctx:VxV)
#745: FILE: drivers/hotplug/acpiphp_glue.c:764:
+		warn("find_p2p_bridge faied (error code = 0x%x)\n",status);
 		                                                  ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#754: FILE: drivers/hotplug/acpiphp_glue.c:782:
+		dbg("%s: failed to get bridge information\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#772: FILE: drivers/hotplug/acpiphp_glue.c:811:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#778: FILE: drivers/hotplug/acpiphp_glue.c:815:
+			dbg("%s: executing _PS0 on %s\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#783: FILE: drivers/hotplug/acpiphp_glue.c:819:
+				warn("%s: _PS0 failed\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#792: FILE: drivers/hotplug/acpiphp_glue.c:849:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#798: FILE: drivers/hotplug/acpiphp_glue.c:853:
+			dbg("%s: executing _PS3 on %s\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#803: FILE: drivers/hotplug/acpiphp_glue.c:857:
+				warn("%s: _PS3 failed\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#811: FILE: drivers/hotplug/acpiphp_glue.c:864:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#817: FILE: drivers/hotplug/acpiphp_glue.c:868:
+			dbg("%s: executing _EJ0 on %s\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#827: FILE: drivers/hotplug/acpiphp_glue.c:879:
+				warn("%s: _EJ0 failed\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#854: FILE: drivers/hotplug/acpiphp_glue.c:953:
+	list_for_each (l, &slot->funcs) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#875: FILE: drivers/hotplug/acpiphp_glue.c:991:
+	list_for_each (l, &slot->funcs) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#892: FILE: drivers/hotplug/acpiphp_glue.c:1031:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#910: FILE: drivers/hotplug/acpiphp_glue.c:1082:
+		dbg("%s: Bus check notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#917: FILE: drivers/hotplug/acpiphp_glue.c:1088:
+		dbg("%s: Device check notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#924: FILE: drivers/hotplug/acpiphp_glue.c:1094:
+		dbg("%s: Device wake notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#930: FILE: drivers/hotplug/acpiphp_glue.c:1099:
+		dbg("%s: Device eject notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#953: FILE: drivers/hotplug/acpiphp_glue.c:1133:
+		dbg("%s: Bus check notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#960: FILE: drivers/hotplug/acpiphp_glue.c:1139:
+		dbg("%s: Device check notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#967: FILE: drivers/hotplug/acpiphp_glue.c:1145:
+		dbg("%s: Device wake notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#973: FILE: drivers/hotplug/acpiphp_glue.c:1150:
+		dbg("%s: Device eject notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#988: FILE: drivers/hotplug/acpiphp_glue.c:1177:
+		err("%s: acpi_walk_namespace() failed\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#997: FILE: drivers/hotplug/acpiphp_glue.c:1198:
+	list_for_each_safe (l1, n1, &bridge_list) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1003: FILE: drivers/hotplug/acpiphp_glue.c:1203:
+			list_for_each_safe (l2, n2, &slot->funcs) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1030: FILE: drivers/hotplug/acpiphp_glue.c:1245:
+	list_for_each (node, &bridge_list) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1047: FILE: drivers/hotplug/acpiphp_glue.c:1269:
+	list_for_each (node, &bridge_list) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1056: FILE: drivers/hotplug/acpiphp_glue.c:1290:
+	list_for_each (node, &bridge_list) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1065: FILE: drivers/hotplug/acpiphp_glue.c:1298:
+	err("%s: no object for id %d\n",__FUNCTION__, id);
 	                               ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1065: FILE: drivers/hotplug/acpiphp_glue.c:1298:
+	err("%s: no object for id %d\n",__FUNCTION__, id);

WARNING:TYPO_SPELLING: 'occured' may be misspelled - perhaps 'occurred'?
#1083: FILE: drivers/hotplug/acpiphp_glue.c:1378:
+					err("Error occured in enabling\n");
 					           ^^^^^^^

WARNING:TYPO_SPELLING: 'occured' may be misspelled - perhaps 'occurred'?
#1092: FILE: drivers/hotplug/acpiphp_glue.c:1389:
+					err("Error occured in enabling\n");
 					           ^^^^^^^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1101: FILE: drivers/hotplug/acpiphp_glue.c:1398:
+	dbg("%s: %d enabled, %d disabled\n", __FUNCTION__, enabled, disabled);

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1174: FILE: drivers/hotplug/acpiphp_pci.c:221:
+static int is_pci_dev_in_use (struct pci_dev* dev)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1174: FILE: drivers/hotplug/acpiphp_pci.c:221:
+static int is_pci_dev_in_use (struct pci_dev* dev)

WARNING:LONG_LINE: line length of 107 exceeds 100 columns
#1235: FILE: drivers/hotplug/acpiphp_pci.c:378:
+				dbg("BAR[%d] %08x - %08x (PMEM)\n", count, (u32)base, (u32)base + len - 1);

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#1248: FILE: drivers/hotplug/acpiphp_pci.c:395:
+				dbg("BAR[%d] %08x - %08x (MEM)\n", count, (u32)base, (u32)base + len - 1);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1257: FILE: drivers/hotplug/acpiphp_pci.c:417:
+	list_for_each (l, &bus->devices) {

WARNING:LONG_LINE: line length of 107 exceeds 100 columns
#1300: FILE: drivers/hotplug/acpiphp_pci.c:505:
+				dbg("BAR[%d] %08x - %08x (PMEM)\n", count, (u32)base, (u32)base + len - 1);

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#1313: FILE: drivers/hotplug/acpiphp_pci.c:524:
+				dbg("BAR[%d] %08x - %08x (MEM)\n", count, (u32)base, (u32)base + len - 1);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1340: FILE: drivers/hotplug/acpiphp_pci.c:577:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1376: FILE: drivers/hotplug/acpiphp_res.c:379:
+			dbg("%s: not aligned\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1385: FILE: drivers/hotplug/acpiphp_res.c:403:
+			dbg("%s: too big\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1394: FILE: drivers/hotplug/acpiphp_res.c:418:
+		dbg("%s: got one!!!\n", __FUNCTION__);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1454: FILE: drivers/hotplug/acpiphp_res.c:550:
+	dbg("*head->next = %p\n",(*head)->next);
 	                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1461: FILE: drivers/hotplug/acpiphp_res.c:555:
+	dbg("*head->base = 0x%x\n",(u32)(*head)->base);
 	                          ^

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000416024.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 9 errors, 69 warnings, 3 checks, 1362 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000416024.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
