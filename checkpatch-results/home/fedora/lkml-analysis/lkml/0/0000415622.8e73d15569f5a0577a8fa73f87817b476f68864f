WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#39: 
diff -urN linux-2.5/drivers/macintosh/adb.c pmac-2.5/drivers/macintosh/adb.c

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned char *' should also have an identifier name
#203: FILE: drivers/macintosh/adb.c:565:
+	void (*handler)(unsigned char *, int, struct pt_regs *, int);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#203: FILE: drivers/macintosh/adb.c:565:
+	void (*handler)(unsigned char *, int, struct pt_regs *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pt_regs *' should also have an identifier name
#203: FILE: drivers/macintosh/adb.c:565:
+	void (*handler)(unsigned char *, int, struct pt_regs *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#203: FILE: drivers/macintosh/adb.c:565:
+	void (*handler)(unsigned char *, int, struct pt_regs *, int);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#303: FILE: drivers/macintosh/macio-adb.c:119:
+		printk(KERN_ERR "ADB: can't get irq %d\n",

ERROR:TRAILING_WHITESPACE: trailing whitespace
#315: FILE: drivers/macintosh/macio-adb.c:133:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'seldomly' may be misspelled - perhaps 'seldom'?
#331: FILE: drivers/macintosh/macio-adb.c:149:
+	 * That function will be seldomly used during boot
 	                         ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#382: FILE: drivers/macintosh/macio-adb.c:208:
+^I$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#435: FILE: drivers/macintosh/macio-adb.c:256:
+	if (complete && req) {
+	    void (*done)(struct adb_request *) = req->done;

WARNING:LINE_SPACING: Missing a blank line after declarations
#437: FILE: drivers/macintosh/macio-adb.c:258:
+	    void (*done)(struct adb_request *) = req->done;
+	    mb();

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:MEMORY_BARRIER: memory barrier without comment
#437: FILE: drivers/macintosh/macio-adb.c:258:
+	    mb();

ERROR:CODE_INDENT: code indent should use tabs where possible
#440: FILE: drivers/macintosh/macio-adb.c:261:
+    ^I     * struct request will survive to setting req->complete to 1$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#440: FILE: drivers/macintosh/macio-adb.c:261:
+    ^I     * struct request will survive to setting req->complete to 1$

WARNING:TABSTOP: Statements should start on a tabstop
#442: FILE: drivers/macintosh/macio-adb.c:263:
+	    if (done)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#486: FILE: drivers/macintosh/via-cuda.c:392:
+    spin_lock_irqsave(&cuda_lock, flags);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#494: FILE: drivers/macintosh/via-cuda.c:402:
+    spin_unlock_irqrestore(&cuda_lock, flags);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#514: FILE: drivers/macintosh/via-cuda.c:417:
+    if ((via[B] & TREQ) == 0)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#530: FILE: drivers/macintosh/via-cuda.c:430:
+    if (via[IFR] & SR_INT) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#545: FILE: drivers/macintosh/via-cuda.c:441:
+    }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#554: FILE: drivers/macintosh/via-cuda.c:448:
+    struct adb_request *req = NULL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#555: FILE: drivers/macintosh/via-cuda.c:449:
+    unsigned char ibuf[16];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#556: FILE: drivers/macintosh/via-cuda.c:450:
+    int ibuf_len = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#557: FILE: drivers/macintosh/via-cuda.c:451:
+    int complete = 0;$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#558: FILE: drivers/macintosh/via-cuda.c:452:
+    $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#558: FILE: drivers/macintosh/via-cuda.c:452:
+    $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#562: FILE: drivers/macintosh/via-cuda.c:456:
+    spin_lock(&cuda_lock);$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#585: FILE: drivers/macintosh/via-cuda.c:554:
 	} else {
[...]
+	    ibuf_len = reply_ptr - cuda_rbuf;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#603: FILE: drivers/macintosh/via-cuda.c:579:
+    spin_unlock(&cuda_lock);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#604: FILE: drivers/macintosh/via-cuda.c:580:
+    if (complete && req) {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#605: FILE: drivers/macintosh/via-cuda.c:581:
+    ^Ivoid (*done)(struct adb_request *) = req->done;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#605: FILE: drivers/macintosh/via-cuda.c:581:
+    ^Ivoid (*done)(struct adb_request *) = req->done;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#605: FILE: drivers/macintosh/via-cuda.c:581:
+    ^Ivoid (*done)(struct adb_request *) = req->done;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#606: FILE: drivers/macintosh/via-cuda.c:582:
+    ^Imb();$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#606: FILE: drivers/macintosh/via-cuda.c:582:
+    ^Imb();$

WARNING:LINE_SPACING: Missing a blank line after declarations
#606: FILE: drivers/macintosh/via-cuda.c:582:
+    	void (*done)(struct adb_request *) = req->done;
+    	mb();

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#606: FILE: drivers/macintosh/via-cuda.c:582:
+    ^Imb();$

WARNING:MEMORY_BARRIER: memory barrier without comment
#606: FILE: drivers/macintosh/via-cuda.c:582:
+    	mb();

ERROR:CODE_INDENT: code indent should use tabs where possible
#607: FILE: drivers/macintosh/via-cuda.c:583:
+    ^Ireq->complete = 1;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#607: FILE: drivers/macintosh/via-cuda.c:583:
+    ^Ireq->complete = 1;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#607: FILE: drivers/macintosh/via-cuda.c:583:
+    ^Ireq->complete = 1;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#608: FILE: drivers/macintosh/via-cuda.c:584:
+    ^I/* Here, we assume that if the request has a done member, the$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#608: FILE: drivers/macintosh/via-cuda.c:584:
+    ^I/* Here, we assume that if the request has a done member, the$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#608: FILE: drivers/macintosh/via-cuda.c:584:
+    ^I/* Here, we assume that if the request has a done member, the$

ERROR:CODE_INDENT: code indent should use tabs where possible
#609: FILE: drivers/macintosh/via-cuda.c:585:
+    ^I * struct request will survive to setting req->complete to 1$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#609: FILE: drivers/macintosh/via-cuda.c:585:
+    ^I * struct request will survive to setting req->complete to 1$

ERROR:CODE_INDENT: code indent should use tabs where possible
#610: FILE: drivers/macintosh/via-cuda.c:586:
+    ^I */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#610: FILE: drivers/macintosh/via-cuda.c:586:
+    ^I */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#611: FILE: drivers/macintosh/via-cuda.c:587:
+    ^Iif (done)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#611: FILE: drivers/macintosh/via-cuda.c:587:
+    ^Iif (done)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#611: FILE: drivers/macintosh/via-cuda.c:587:
+    ^Iif (done)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#613: FILE: drivers/macintosh/via-cuda.c:589:
+    }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#614: FILE: drivers/macintosh/via-cuda.c:590:
+    if (ibuf_len)$

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#639: FILE: drivers/macintosh/via-pmu.c:110:
+static volatile enum int_data_state {

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#657: FILE: drivers/macintosh/via-pmu.c:127:
+static volatile int disable_poll;

WARNING:LINE_SPACING: Missing a blank line after declarations
#723: FILE: drivers/macintosh/via-pmu.c:1223:
+	void (*done)(struct adb_request *) = req->done;
+	mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#723: FILE: drivers/macintosh/via-pmu.c:1223:
+	mb();

ERROR:CODE_INDENT: code indent should use tabs where possible
#725: FILE: drivers/macintosh/via-pmu.c:1225:
+    ^I/* Here, we assume that if the request has a done member, the$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#725: FILE: drivers/macintosh/via-pmu.c:1225:
+    ^I/* Here, we assume that if the request has a done member, the$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#725: FILE: drivers/macintosh/via-pmu.c:1225:
+    ^I/* Here, we assume that if the request has a done member, the$

ERROR:CODE_INDENT: code indent should use tabs where possible
#726: FILE: drivers/macintosh/via-pmu.c:1226:
+    ^I * struct request will survive to setting req->complete to 1$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#726: FILE: drivers/macintosh/via-pmu.c:1226:
+    ^I * struct request will survive to setting req->complete to 1$

ERROR:CODE_INDENT: code indent should use tabs where possible
#727: FILE: drivers/macintosh/via-pmu.c:1227:
+    ^I */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#727: FILE: drivers/macintosh/via-pmu.c:1227:
+    ^I */$

WARNING:LINE_SPACING: Missing a blank line after declarations
#796: FILE: drivers/macintosh/via-pmu.c:1360:
+			struct adb_request *req = req_awaiting_reply;
+			if (req == 0) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#797: FILE: drivers/macintosh/via-pmu.c:1361:
+				printk(KERN_ERR "PMU: extra ADB reply\n");

CHECK:BRACES: braces {} should be used on all arms of this statement
#801: FILE: drivers/macintosh/via-pmu.c:1365:
+			if (len <= 2)
[...]
+			else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#803: FILE: drivers/macintosh/via-pmu.c:1367:
+			else {

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#811: FILE: drivers/macintosh/via-pmu.c:1375:
+				extern int xmon_wants_key, xmon_adb_keycode;

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:LINE_SPACING: Missing a blank line after declarations
#812: FILE: drivers/macintosh/via-pmu.c:1376:
+				extern int xmon_wants_key, xmon_adb_keycode;
+				if (xmon_wants_key) {

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#843: FILE: drivers/macintosh/via-pmu.c:1390:
+			if (!(pmu_kind == PMU_OHARE_BASED && len == 4
+			      && data[1] == 0x2c && data[3] == 0xff

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#844: FILE: drivers/macintosh/via-pmu.c:1391:
+			      && data[1] == 0x2c && data[3] == 0xff
+			      && (data[2] & ~1) == 0xf4))

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#845: FILE: drivers/macintosh/via-pmu.c:1392:
+				adb_input(data+1, len-1, regs, 1);
 				              ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#845: FILE: drivers/macintosh/via-pmu.c:1392:
+				adb_input(data+1, len-1, regs, 1);
 				                     ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#846: FILE: drivers/macintosh/via-pmu.c:1393:
+#endif /* CONFIG_ADB */^I^I$

WARNING:TYPO_SPELLING: 'Environement' may be misspelled - perhaps 'Environment'?
#859: FILE: drivers/macintosh/via-pmu.c:1406:
+		/* Environement or tick interrupt, query batteries */
 		   ^^^^^^^^^^^^

CHECK:BRACES: braces {} should be used on all arms of this statement
#860: FILE: drivers/macintosh/via-pmu.c:1407:
+		if (pmu_battery_count && (data[0] & PMU_INT_TICK)) {
[...]
+		} else if (pmu_battery_count && (data[0] & PMU_INT_ENVIRONMENT))
[...]

ERROR:CODE_INDENT: code indent should use tabs where possible
#867: FILE: drivers/macintosh/via-pmu.c:1414:
+ ^I^Iif (data[0])$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#867: FILE: drivers/macintosh/via-pmu.c:1414:
+ ^I^Iif (data[0])$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#867: FILE: drivers/macintosh/via-pmu.c:1414:
+ ^I^Iif (data[0])$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#953: FILE: drivers/macintosh/via-pmu.c:1522:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#957: FILE: drivers/macintosh/via-pmu.c:1526:
+^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#963: FILE: drivers/macintosh/via-pmu.c:1532:
+			printk(KERN_DEBUG "PMU: stuck in intr loop, "

WARNING:SPLIT_STRING: quoted string split across lines
#964: FILE: drivers/macintosh/via-pmu.c:1533:
+			printk(KERN_DEBUG "PMU: stuck in intr loop, "
+			       "intr=%x, ier=%x pmu_state=%d\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:BRACES: braces {} should be used on all arms of this statement
#980: FILE: drivers/macintosh/via-pmu.c:1549:
+		if (adb_int_pending) {
[...]
+		} else if (current_req)
[...]

WARNING:TYPO_SPELLING: 'intack' may be misspelled - perhaps 'intact'?
#987: FILE: drivers/macintosh/via-pmu.c:1556:
+			pmu_state = intack;
 			            ^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#995: FILE: drivers/macintosh/via-pmu.c:1564:
+no_free_slot:^I^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1015: FILE: drivers/macintosh/via-pmu.c:1584:
+^I^I$

WARNING:TYPO_SPELLING: 'datas' may be misspelled - perhaps 'data'?
#1016: FILE: drivers/macintosh/via-pmu.c:1585:
+	/* Deal with interrupt datas outside of the lock */
 	                       ^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1251: FILE: drivers/macintosh/via-pmu.c:2287:
+ ^I^I_set_L3CR(save_l3cr);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1251: FILE: drivers/macintosh/via-pmu.c:2287:
+ ^I^I_set_L3CR(save_l3cr);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1251: FILE: drivers/macintosh/via-pmu.c:2287:
+ ^I^I_set_L3CR(save_l3cr);$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000415622.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 21 errors, 63 warnings, 8 checks, 1206 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000415622.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
