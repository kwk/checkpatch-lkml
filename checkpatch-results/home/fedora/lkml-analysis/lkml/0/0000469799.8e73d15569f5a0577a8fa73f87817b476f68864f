ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#55: 
--- a/drivers/media/video/meye.c	Fri Mar 15 11:56:09 2002

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

ERROR:CODE_INDENT: code indent should use tabs where possible
#95: FILE: drivers/media/video/meye.c:122:
+        unsigned long kva, ret;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#95: FILE: drivers/media/video/meye.c:122:
+        unsigned long kva, ret;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#99: FILE: drivers/media/video/meye.c:124:
+        kva = (unsigned long) page_address(vmalloc_to_page((void *)adr));$

CHECK:SPACING: No space is necessary after a cast
#99: FILE: drivers/media/video/meye.c:124:
+        kva = (unsigned long) page_address(vmalloc_to_page((void *)adr));

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#99: FILE: drivers/media/video/meye.c:124:
+        kva = (unsigned long) page_address(vmalloc_to_page((void *)adr));$

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#100: FILE: drivers/media/video/meye.c:125:
+	kva |= adr & (PAGE_SIZE-1); /* restore the offset */
 	                       ^

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#107: FILE: drivers/media/video/meye.c:130:
+static void *rvmalloc(unsigned long size) {

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#131: FILE: drivers/media/video/meye.c:148:
+static void rvfree(void * mem, unsigned long size) {

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#131: FILE: drivers/media/video/meye.c:148:
+static void rvfree(void * mem, unsigned long size) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#132: FILE: drivers/media/video/meye.c:149:
+        unsigned long adr;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#132: FILE: drivers/media/video/meye.c:149:
+        unsigned long adr;$

CHECK:SPACING: No space is necessary after a cast
#139: FILE: drivers/media/video/meye.c:153:
+		while ((long) size > 0) {

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#150: FILE: drivers/media/video/meye.c:871:
+static int meye_open(struct inode *inode, struct file *file) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#159: FILE: drivers/media/video/meye.c:874:
+	err = video_exclusive_open(inode,file);
 	                                ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#162: FILE: drivers/media/video/meye.c:877:
+^I^I^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#166: FILE: drivers/media/video/meye.c:880:
+		video_exclusive_release(inode,file);
 		                             ^

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#180: FILE: drivers/media/video/meye.c:890:
+static int meye_release(struct inode *inode, struct file *file) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#183: FILE: drivers/media/video/meye.c:892:
+	video_exclusive_release(inode,file);
 	                             ^

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#188: FILE: drivers/media/video/meye.c:896:
+static int meye_ioctl(struct inode *inode, struct file *file,
+		      unsigned int cmd, void *arg) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#206: FILE: drivers/media/video/meye.c:903:
+		struct video_capability *b = arg;
+		strcpy(b->name,meye.video_dev.name);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#206: FILE: drivers/media/video/meye.c:903:
+		strcpy(b->name,meye.video_dev.name);
 		              ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#230: FILE: drivers/media/video/meye.c:916:
+		struct video_channel *v = arg;
+		v->flags = 0;

ERROR:SPACING: space required after that ',' (ctx:VxV)
#235: FILE: drivers/media/video/meye.c:921:
+		strcpy(v->name,"Camera");
 		              ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#245: FILE: drivers/media/video/meye.c:927:
+		struct video_channel *v = arg;
+		if (v->channel != 0)

WARNING:LINE_SPACING: Missing a blank line after declarations
#265: FILE: drivers/media/video/meye.c:940:
+		struct video_picture *p = arg;
+		if (p->depth != 2)

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#354: FILE: drivers/media/video/meye.c:1011:
 		}
+		else if (vm->width == 320 && vm->height == 240) {

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#378: FILE: drivers/media/video/meye.c:1034:
+		memset(vm, 0 , sizeof(*vm));
 		             ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#403: FILE: drivers/media/video/meye.c:1050:
+		struct meye_params *jp = arg;
+		if (jp->subsample > 1)

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#533: FILE: drivers/media/video/meye.c:1172:
+static int meye_mmap(struct file *file, struct vm_area_struct *vma) {

WARNING:CONST_STRUCT: struct file_operations should normally be const
#544: FILE: drivers/media/video/meye.c:1207:
+static struct file_operations meye_fops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:INDENTED_LABEL: labels should not be indented
#545: FILE: drivers/media/video/meye.c:1208:
+	owner:		THIS_MODULE,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#546: FILE: drivers/media/video/meye.c:1209:
+	open:		meye_open,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#546: FILE: drivers/media/video/meye.c:1209:
+	open:		meye_open,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#547: FILE: drivers/media/video/meye.c:1210:
+	release:	meye_release,
 	       ^

WARNING:INDENTED_LABEL: labels should not be indented
#547: FILE: drivers/media/video/meye.c:1210:
+	release:	meye_release,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#548: FILE: drivers/media/video/meye.c:1211:
+	mmap:		meye_mmap,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#548: FILE: drivers/media/video/meye.c:1211:
+	mmap:		meye_mmap,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#549: FILE: drivers/media/video/meye.c:1212:
+	ioctl:		video_generic_ioctl,
 	     ^

WARNING:INDENTED_LABEL: labels should not be indented
#549: FILE: drivers/media/video/meye.c:1212:
+	ioctl:		video_generic_ioctl,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#550: FILE: drivers/media/video/meye.c:1213:
+	llseek:		no_llseek,
 	      ^

WARNING:INDENTED_LABEL: labels should not be indented
#550: FILE: drivers/media/video/meye.c:1213:
+	llseek:		no_llseek,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#562: FILE: drivers/media/video/meye.c:1221:
+	fops:		&meye_fops,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#562: FILE: drivers/media/video/meye.c:1221:
+	fops:		&meye_fops,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#563: FILE: drivers/media/video/meye.c:1222:
+	kernel_ioctl:	meye_ioctl,
 	            ^

WARNING:INDENTED_LABEL: labels should not be indented
#563: FILE: drivers/media/video/meye.c:1222:
+	kernel_ioctl:	meye_ioctl,

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#566: FILE: drivers/media/video/meye.c:1225:
 static int __devinit meye_probe(struct pci_dev *pcidev, 

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000469799.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 26 errors, 18 warnings, 3 checks, 514 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000469799.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
