WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#20: 
> diff -urpN --exclude TAGS -X /home/rusty/devel/kernel/kernel-patches/current-dontdiff --minimal working-2.5.44-mm4-ipc-rcu/include/linux/msg.h working-2.5.44-mm4-ipc-rcu-fix/include/linux/msg.h

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#36: FILE: ipc/util.c:217:
+struct ipc_rcu_kmalloc
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#43: FILE: ipc/util.c:224:
+struct ipc_rcu_vmalloc
+{

ERROR:CODE_INDENT: code indent should use tabs where possible
#76: FILE: ipc/util.c:251:
+           workqueue if necessary (for vmalloc). */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#76: FILE: ipc/util.c:251:
+	/* We prepend the allocation with the rcu struct, and
+           workqueue if necessary (for vmalloc). */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#76: FILE: ipc/util.c:251:
+           workqueue if necessary (for vmalloc). */

CHECK:ALLOC_SIZEOF_STRUCT: Prefer vmalloc(sizeof(*out)...) over vmalloc(sizeof(struct ipc_rcu_vmalloc)...)
#78: FILE: ipc/util.c:253:
+		out = vmalloc(sizeof(struct ipc_rcu_vmalloc) + size);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#79: FILE: ipc/util.c:254:
+		if (out) out += sizeof(struct ipc_rcu_vmalloc);

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#81: FILE: ipc/util.c:256:
+		out = kmalloc(sizeof(struct ipc_rcu_kmalloc)+size, GFP_KERNEL);
 		                                            ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*out)...) over kmalloc(sizeof(struct ipc_rcu_kmalloc)...)
#81: FILE: ipc/util.c:256:
+		out = kmalloc(sizeof(struct ipc_rcu_kmalloc)+size, GFP_KERNEL);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#82: FILE: ipc/util.c:257:
+		if (out) out += sizeof(struct ipc_rcu_kmalloc);

WARNING:LINE_SPACING: Missing a blank line after declarations
#142: FILE: ipc/util.c:295:
+		struct ipc_rcu_vmalloc *free;
+		free = ptr - sizeof(*free);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#146: FILE: ipc/util.c:299:
+		struct ipc_rcu_kmalloc *free;
+		free = ptr - sizeof(*free);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000419224.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 5 errors, 5 warnings, 3 checks, 120 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000419224.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
