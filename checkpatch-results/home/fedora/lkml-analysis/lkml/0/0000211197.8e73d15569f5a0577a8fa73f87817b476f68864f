WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#68: 
    int fileop_notify(buffer, filp, fileop);
                              ^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#113: FILE: fs/Kconfig:975:
+config RELAYFS_FS
+	tristate "Relayfs file system support"
+	---help---
+	  Relayfs is a high-speed data relay filesystem designed to provide
+	  an efficient mechanism for tools and facilities to relay large
+	  amounts of data from kernel space to user space.  It's not useful
+	  on its own, and should only be enabled if other facilities that
+	  need it are enabled, such as for example the Linux Trace Toolkit.
+
+	  This file system is also available as a module ( = code which can be
+	  inserted in and removed from the running kernel whenever you want).
+	  The module is called relayfs.  If you want to compile it as a
+	  module, say M here and read <file:Documentation/modules.txt>.
+
+	  If unsure, say N.
+
 endmenu
 
 menu "Miscellaneous filesystems"

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#156: FILE: fs/relayfs/buffers.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!page_array"
#187: FILE: fs/relayfs/buffers.c:32:
+	if (page_array == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#287: FILE: fs/relayfs/buffers.h:1:
+#ifndef _BUFFERS_H

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#291: FILE: fs/relayfs/buffers.h:5:
+#define FIX_SIZE(x) (((x) - 1) & PAGE_MASK) + PAGE_SIZE

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#293: FILE: fs/relayfs/buffers.h:7:
+extern void * alloc_rchan_buf(unsigned long size,

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#293: FILE: fs/relayfs/buffers.h:7:
+extern void * alloc_rchan_buf(unsigned long size,

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#296: FILE: fs/relayfs/buffers.h:10:
+extern void free_rchan_buf(void *buf,

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#305: FILE: fs/relayfs/inode.c:1:
+/*

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#329: FILE: fs/relayfs/inode.c:25:
+#include <asm/uaccess.h>

WARNING:CONST_STRUCT: struct address_space_operations should normally be const
#336: FILE: fs/relayfs/inode.c:32:
+static struct address_space_operations	relayfs_aops;

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#337: FILE: fs/relayfs/inode.c:33:
+static struct inode_operations		relayfs_file_inode_operations;

WARNING:CONST_STRUCT: struct file_operations should normally be const
#338: FILE: fs/relayfs/inode.c:34:
+static struct file_operations		relayfs_file_operations;

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#339: FILE: fs/relayfs/inode.c:35:
+static struct inode_operations		relayfs_dir_inode_operations;

ERROR:POINTER_LOCATION: "foo *		bar" should be "foo *bar"
#341: FILE: fs/relayfs/inode.c:37:
+static struct vfsmount *		relayfs_mount;

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#352: FILE: fs/relayfs/inode.c:48:
+	struct inode * inode;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#364: FILE: fs/relayfs/inode.c:60:
+		inode->i_atime = inode->i_mtime = inode->i_ctime = CURRENT_TIME;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#392: FILE: fs/relayfs/inode.c:88:
+	struct inode * inode;

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#409: FILE: fs/relayfs/inode.c:105:
+relayfs_mkdir(struct inode * dir, struct dentry * dentry, int mode)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#409: FILE: fs/relayfs/inode.c:105:
+relayfs_mkdir(struct inode * dir, struct dentry * dentry, int mode)

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRWXUGO' are not preferred. Consider using octal permissions '0777'.
#413: FILE: fs/relayfs/inode.c:109:
+	retval = relayfs_mknod(dir, dentry, (mode & (S_IRWXUGO | S_ISVTX)) | S_IFDIR, 0);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#421: FILE: fs/relayfs/inode.c:117:
+relayfs_create(struct inode *dir, struct dentry *dentry, int mode, struct nameidata *nd)
                                                                                      ^^

WARNING:TYPO_SPELLING: 'specifed' may be misspelled - perhaps 'specified'?
#434: FILE: fs/relayfs/inode.c:130:
+ *	Creates a file or directory with the specifed permissions.
   	                                     ^^^^^^^^

WARNING:LONG_LINE: line length of 110 exceeds 100 columns
#437: FILE: fs/relayfs/inode.c:133:
+relayfs_create_entry(const char * name, struct dentry * parent, struct dentry **dentry, int mode, void * data)

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#437: FILE: fs/relayfs/inode.c:133:
+relayfs_create_entry(const char * name, struct dentry * parent, struct dentry **dentry, int mode, void * data)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#437: FILE: fs/relayfs/inode.c:133:
+relayfs_create_entry(const char * name, struct dentry * parent, struct dentry **dentry, int mode, void * data)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#437: FILE: fs/relayfs/inode.c:133:
+relayfs_create_entry(const char * name, struct dentry * parent, struct dentry **dentry, int mode, void * data)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#440: FILE: fs/relayfs/inode.c:136:
+	struct dentry * d;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#446: FILE: fs/relayfs/inode.c:142:
+		printk(KERN_ERR "Couldn't mount relayfs: errcode %d\n", error);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!parent"
#454: FILE: fs/relayfs/inode.c:150:
+	if (parent == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!parent"
#458: FILE: fs/relayfs/inode.c:154:
+	if (parent == NULL) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#460: FILE: fs/relayfs/inode.c:156:
+ ^I^Ireturn -EINVAL;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#460: FILE: fs/relayfs/inode.c:156:
+ ^I^Ireturn -EINVAL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#460: FILE: fs/relayfs/inode.c:156:
+ ^I^Ireturn -EINVAL;$

WARNING:TYPO_SPELLING: 'specied' may be misspelled - perhaps 'specified'?
#504: FILE: fs/relayfs/inode.c:200:
+ *	@mode: mode, if not specied the default perms are used
   	                    ^^^^^^^

WARNING:LONG_LINE: line length of 109 exceeds 100 columns
#509: FILE: fs/relayfs/inode.c:205:
+relayfs_create_file(const char * name, struct dentry * parent, struct dentry **dentry, void * data, int mode)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#509: FILE: fs/relayfs/inode.c:205:
+relayfs_create_file(const char * name, struct dentry * parent, struct dentry **dentry, void * data, int mode)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#509: FILE: fs/relayfs/inode.c:205:
+relayfs_create_file(const char * name, struct dentry * parent, struct dentry **dentry, void * data, int mode)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#509: FILE: fs/relayfs/inode.c:205:
+relayfs_create_file(const char * name, struct dentry * parent, struct dentry **dentry, void * data, int mode)

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUSR | S_IWUSR' are not preferred. Consider using octal permissions '0600'.
#512: FILE: fs/relayfs/inode.c:208:
+		mode = S_IRUSR | S_IWUSR;

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#526: FILE: fs/relayfs/inode.c:222:
+relayfs_create_dir(const char * name, struct dentry * parent, struct dentry **dentry)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#526: FILE: fs/relayfs/inode.c:222:
+relayfs_create_dir(const char * name, struct dentry * parent, struct dentry **dentry)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#528: FILE: fs/relayfs/inode.c:224:
+^Ireturn relayfs_create_entry(name, parent, dentry, $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRWXU | S_IRUGO | S_IXUGO' are not preferred. Consider using octal permissions '0755'.
#529: FILE: fs/relayfs/inode.c:225:
+				    S_IFDIR | S_IRWXU | S_IRUGO | S_IXUGO, NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!parent"
#545: FILE: fs/relayfs/inode.c:241:
+	if (parent == NULL)

ERROR:SPACING: space required before the open parenthesis '('
#560: FILE: fs/relayfs/inode.c:256:
+	if(is_reg)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#569: FILE: fs/relayfs/inode.c:265:
+ *	@filp: the file
   	 ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#575: FILE: fs/relayfs/inode.c:271:
+relayfs_open(struct inode *inode, struct file *filp)
                                                ^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rchan"
#582: FILE: fs/relayfs/inode.c:278:
+		if (rchan == NULL)

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#585: FILE: fs/relayfs/inode.c:281:
+		retval = rchan->cb->fileop_notify(rchan, filp, RELAY_FILE_OPEN);
 		                                         ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#597: FILE: fs/relayfs/inode.c:293:
+ *	@filp: the file
   	 ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#603: FILE: fs/relayfs/inode.c:299:
+relayfs_mmap(struct file *filp, struct vm_area_struct *vma)
                           ^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#606: FILE: fs/relayfs/inode.c:302:
+  $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#606: FILE: fs/relayfs/inode.c:302:
+  $

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#612: FILE: fs/relayfs/inode.c:308:
+ *	@filp: the file
   	 ^^^^

WARNING:TYPO_SPELLING: 'implemention' may be misspelled - perhaps 'implementation'?
#615: FILE: fs/relayfs/inode.c:311:
+ *	Poll implemention.
   	     ^^^^^^^^^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#618: FILE: fs/relayfs/inode.c:314:
+relayfs_poll(struct file *filp, poll_table *wait)
                           ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#629: FILE: fs/relayfs/inode.c:325:
+		poll_wait(filp, &rchan->read_wait, wait);
 		          ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#640: FILE: fs/relayfs/inode.c:336:
+ *	@filp: the file
   	 ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#646: FILE: fs/relayfs/inode.c:342:
+relayfs_release(struct inode *inode, struct file *filp)
                                                   ^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rchan"
#651: FILE: fs/relayfs/inode.c:347:
+	if (rchan == NULL)

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#654: FILE: fs/relayfs/inode.c:350:
+        rchan->cb->fileop_notify(rchan, filp, RELAY_FILE_CLOSE);
                                         ^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#654: FILE: fs/relayfs/inode.c:350:
+        rchan->cb->fileop_notify(rchan, filp, RELAY_FILE_CLOSE);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#654: FILE: fs/relayfs/inode.c:350:
+        rchan->cb->fileop_notify(rchan, filp, RELAY_FILE_CLOSE);$

WARNING:CONST_STRUCT: struct address_space_operations should normally be const
#661: FILE: fs/relayfs/inode.c:357:
+static struct address_space_operations relayfs_aops = {

WARNING:CONST_STRUCT: struct file_operations should normally be const
#667: FILE: fs/relayfs/inode.c:363:
+static struct file_operations relayfs_file_operations = {

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#676: FILE: fs/relayfs/inode.c:372:
+static struct inode_operations relayfs_file_inode_operations = {

WARNING:CONST_STRUCT: struct inode_operations should normally be const
#680: FILE: fs/relayfs/inode.c:376:
+static struct inode_operations relayfs_dir_inode_operations = {

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#697: FILE: fs/relayfs/inode.c:393:
+relayfs_fill_super(struct super_block * sb, void * data, int silent)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#697: FILE: fs/relayfs/inode.c:393:
+relayfs_fill_super(struct super_block * sb, void * data, int silent)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#699: FILE: fs/relayfs/inode.c:395:
+	struct inode * inode;

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#700: FILE: fs/relayfs/inode.c:396:
+	struct dentry * root;

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRWXU | S_IRUGO | S_IXUGO' are not preferred. Consider using octal permissions '0755'.
#706: FILE: fs/relayfs/inode.c:402:
+	inode = relayfs_get_inode(sb, S_IFDIR | S_IRWXU | S_IRUGO | S_IXUGO, 0);

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#713: FILE: fs/relayfs/inode.c:409:
+		iput(inode);
 		^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#723: FILE: fs/relayfs/inode.c:419:
+relayfs_get_sb(struct file_system_type *fs_type,
+	int flags, const char *dev_name, void *data)

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#759: FILE: fs/relayfs/relay.c:1:
+/*

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#781: FILE: fs/relayfs/relay.c:23:
+#include <asm/io.h>

WARNING:INCLUDE_LINUX: Use #include <linux/uaccess.h> instead of <asm/uaccess.h>
#783: FILE: fs/relayfs/relay.c:25:
+#include <asm/uaccess.h>

WARNING:INCLUDE_LINUX: Use #include <linux/bitops.h> instead of <asm/bitops.h>
#784: FILE: fs/relayfs/relay.c:26:
+#include <asm/bitops.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pgtable.h> instead of <asm/pgtable.h>
#785: FILE: fs/relayfs/relay.c:27:
+#include <asm/pgtable.h>

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#830: FILE: fs/relayfs/relay.c:72:
+	struct file *filp = vma->vm_file;
 	             ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#833: FILE: fs/relayfs/relay.c:75:
+	chan->cb->fileop_notify(chan, filp, RELAY_FILE_UNMAP);
 	                              ^^^^

WARNING:CONST_STRUCT: struct vm_operations_struct should normally be const
#839: FILE: fs/relayfs/relay.c:81:
+static struct vm_operations_struct relay_file_mmap_ops = {

CHECK:SPACING: No space is necessary after a cast
#848: FILE: fs/relayfs/relay.c:90:
+	kva = (unsigned long) page_address(vmalloc_to_page((void *) adr));

CHECK:SPACING: No space is necessary after a cast
#859: FILE: fs/relayfs/relay.c:101:
+	unsigned long start = (unsigned long) adr;

CHECK:SPACING: No space is necessary after a cast
#862: FILE: fs/relayfs/relay.c:104:
+	pos = (unsigned long) start_pos;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#875: FILE: fs/relayfs/relay.c:117:
+}
+/* \end{Code inspired from BTTV driver} */

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#894: FILE: fs/relayfs/relay.c:136:
+	struct file *filp = vma->vm_file;
 	             ^^^^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!chan"
#896: FILE: fs/relayfs/relay.c:138:
+	if (chan == NULL) {

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#913: FILE: fs/relayfs/relay.c:155:
+		err = chan->cb->fileop_notify(chan, filp, RELAY_FILE_MAP);
 		                                    ^^^^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#933: FILE: fs/relayfs/relay.c:175:
+					 unsigned prev_subbuf_idx)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#941: FILE: fs/relayfs/relay.c:183:
+static void deliver_default_callback (struct rchan_buf *buffer,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#943: FILE: fs/relayfs/relay.c:185:
+				      unsigned subbuf_idx)

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#951: FILE: fs/relayfs/relay.c:193:
+					  struct file *filp,
 					               ^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1063: FILE: fs/relayfs/relay.c:305:
+^I$

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#1100: FILE: fs/relayfs/relay.c:342:
+	for (i = 0; i < NR_CPUS; i++)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "chan->buffer[i]"
#1101: FILE: fs/relayfs/relay.c:343:
+		if (chan->buffer[i] != NULL)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1117: FILE: fs/relayfs/relay.c:359:
+	if ((chan->start = alloc_rchan_buf(size_alloc, &page_array, &page_count)) == NULL) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1142: FILE: fs/relayfs/relay.c:384:
+				      unsigned bufsize,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1143: FILE: fs/relayfs/relay.c:385:
+				      unsigned nbufs,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1146: FILE: fs/relayfs/relay.c:388:
+	unsigned size_alloc;

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*rchan)...) over kmalloc(sizeof(struct rchan_buf)...)
#1149: FILE: fs/relayfs/relay.c:391:
+	rchan = kmalloc(sizeof(struct rchan_buf), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rchan"
#1150: FILE: fs/relayfs/relay.c:392:
+	if (rchan == NULL)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#1154: FILE: fs/relayfs/relay.c:396:
+	rchan->padding = kmalloc(nbufs * sizeof(unsigned *), GFP_KERNEL);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#1154: FILE: fs/relayfs/relay.c:396:
+	rchan->padding = kmalloc(nbufs * sizeof(unsigned *), GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rchan->padding"
#1155: FILE: fs/relayfs/relay.c:397:
+	if (rchan->padding == NULL) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1159: FILE: fs/relayfs/relay.c:401:
+^I$

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#1160: FILE: fs/relayfs/relay.c:402:
+	rchan->commit = kmalloc(nbufs * sizeof(unsigned *), GFP_KERNEL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rchan->commit"
#1161: FILE: fs/relayfs/relay.c:403:
+	if (rchan->commit == NULL) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1166: FILE: fs/relayfs/relay.c:408:
+^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tmpname"
#1204: FILE: fs/relayfs/relay.c:446:
+	if (tmpname == NULL)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1245: FILE: fs/relayfs/relay.c:487:
+	const char * fname;

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUSR' are not preferred. Consider using octal permissions '0400'.
#1252: FILE: fs/relayfs/relay.c:494:
+	err = relayfs_create_file(fname, topdir, dentry, data, S_IRUSR);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1284: FILE: fs/relayfs/relay.c:526:
+					   unsigned bufsize,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1285: FILE: fs/relayfs/relay.c:527:
+					   unsigned nbufs,

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!buffer"
#1294: FILE: fs/relayfs/relay.c:536:
+	if (buffer == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!channel_callbacks"
#1306: FILE: fs/relayfs/relay.c:548:
+	if (channel_callbacks == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!callbacks->buffer_start"
#1310: FILE: fs/relayfs/relay.c:552:
+	if (callbacks->buffer_start == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!callbacks->deliver"
#1312: FILE: fs/relayfs/relay.c:554:
+	if (callbacks->deliver == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!callbacks->fileop_notify"
#1314: FILE: fs/relayfs/relay.c:556:
+	if (callbacks->fileop_notify == NULL)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1343: FILE: fs/relayfs/relay.c:585:
+			 unsigned bufsize,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1344: FILE: fs/relayfs/relay.c:586:
+			 unsigned nbufs,

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!chanpath"
#1352: FILE: fs/relayfs/relay.c:594:
+	if (chanpath == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!chan"
#1359: FILE: fs/relayfs/relay.c:601:
+	if (chan == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tmpname"
#1370: FILE: fs/relayfs/relay.c:612:
+	if (tmpname == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!chan->buffer[i]"
#1377: FILE: fs/relayfs/relay.c:619:
+		if (chan->buffer[i] == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1383: FILE: fs/relayfs/relay.c:625:
+^I$

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#1385: FILE: fs/relayfs/relay.c:627:
+	for (i = 0; i < NR_CPUS; i++)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "chan->buffer[i]"
#1386: FILE: fs/relayfs/relay.c:628:
+		if (chan->buffer[i] != NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1392: FILE: fs/relayfs/relay.c:634:
+^I^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1396: FILE: fs/relayfs/relay.c:638:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1401: FILE: fs/relayfs/relay.c:643:
+				 unsigned subbuf_idx)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1403: FILE: fs/relayfs/relay.c:645:
+	unsigned full;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1420: FILE: fs/relayfs/relay.c:662:
+					     unsigned offset,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1421: FILE: fs/relayfs/relay.c:663:
+					     unsigned length)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1424: FILE: fs/relayfs/relay.c:666:
+	unsigned padding = buffer->bufsize - offset;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1425: FILE: fs/relayfs/relay.c:667:
+	unsigned cur_subbuf, prev_subbuf, count = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1428: FILE: fs/relayfs/relay.c:670:
+^I$

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1439: FILE: fs/relayfs/relay.c:681:
+	cur_subbuf = prev_subbuf = buffer->bufs_produced % buffer->nbufs;

WARNING:WAITQUEUE_ACTIVE: waitqueue_active without comment
#1444: FILE: fs/relayfs/relay.c:686:
+	if (waitqueue_active(&buffer->read_wait)) {

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1456: FILE: fs/relayfs/relay.c:698:
+	buffer->padding[cur_subbuf] = buffer->commit[cur_subbuf] = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1461: FILE: fs/relayfs/relay.c:703:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1461: FILE: fs/relayfs/relay.c:703:
+ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1463: FILE: fs/relayfs/relay.c:705:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1463: FILE: fs/relayfs/relay.c:705:
+ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1473: FILE: fs/relayfs/relay.c:715:
+^I$

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1491: FILE: fs/relayfs/relay.c:733:
+		    unsigned length,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1494: FILE: fs/relayfs/relay.c:736:
+	unsigned offset;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1498: FILE: fs/relayfs/relay.c:740:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#1499: FILE: fs/relayfs/relay.c:741:
+	while(1) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!buffer"
#1504: FILE: fs/relayfs/relay.c:746:
+		if (buffer == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1507: FILE: fs/relayfs/relay.c:749:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1511: FILE: fs/relayfs/relay.c:753:
+
+

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1521: FILE: fs/relayfs/relay.c:763:
+		  unsigned subbuf_idx,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1522: FILE: fs/relayfs/relay.c:764:
+		  unsigned count)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1526: FILE: fs/relayfs/relay.c:768:
+^I$

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1542: FILE: fs/relayfs/relay.c:784:
+unsigned relay_write(struct rchan *chan,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1544: FILE: fs/relayfs/relay.c:786:
+		     unsigned length)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1548: FILE: fs/relayfs/relay.c:790:
+	unsigned count = 0;

ERROR:SPACING: space required before the open parenthesis '('
#1553: FILE: fs/relayfs/relay.c:795:
+	if(reserved) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1559: FILE: fs/relayfs/relay.c:801:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1559: FILE: fs/relayfs/relay.c:801:
+ $

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1574: FILE: fs/relayfs/relay.c:816:
+void relay_buffers_consumed(struct rchan *chan, unsigned bufs_consumed, int cpu)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1594: FILE: fs/relayfs/relay.c:836:
+	unsigned offset = local_read(&buffer->offset);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1595: FILE: fs/relayfs/relay.c:837:
+	unsigned offset = local_read(&buffer->offset);
+	relay_switch_buffer(buffer, offset, buffer->bufsize);

WARNING:NR_CPUS: usage of NR_CPUS is often wrong - consider using cpu_possible(), num_possible_cpus(), for_each_possible_cpu(), etc
#1612: FILE: fs/relayfs/relay.c:854:
+	for (i = 0; i < NR_CPUS; i++)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "chan->buffer[i]"
#1613: FILE: fs/relayfs/relay.c:855:
+		if (chan->buffer[i] != NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1615: FILE: fs/relayfs/relay.c:857:
+^I$

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1619: FILE: fs/relayfs/relay.c:861:
+EXPORT_SYMBOL_GPL(relay_open);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1620: FILE: fs/relayfs/relay.c:862:
+EXPORT_SYMBOL_GPL(relay_close);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1621: FILE: fs/relayfs/relay.c:863:
+EXPORT_SYMBOL_GPL(relay_reset);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1622: FILE: fs/relayfs/relay.c:864:
+EXPORT_SYMBOL_GPL(relay_write);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1623: FILE: fs/relayfs/relay.c:865:
+EXPORT_SYMBOL_GPL(relay_reserve);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1624: FILE: fs/relayfs/relay.c:866:
+EXPORT_SYMBOL_GPL(relay_commit);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1625: FILE: fs/relayfs/relay.c:867:
+EXPORT_SYMBOL_GPL(relay_buffers_consumed);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1630: FILE: fs/relayfs/relay.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1631: FILE: fs/relayfs/relay.h:2:
+ * fs/relayfs/relay.h

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1648: FILE: fs/relayfs/relay.h:19:
+extern int __relay_mmap_buffer(struct rchan_buf *rchan,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1651: FILE: fs/relayfs/relay.h:22:
+extern int relayfs_create_dir(const char *name,

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1655: FILE: fs/relayfs/relay.h:26:
+extern int relayfs_create_file(const char * name,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1655: FILE: fs/relayfs/relay.h:26:
+extern int relayfs_create_file(const char * name,

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1658: FILE: fs/relayfs/relay.h:29:
+			       void * data,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1661: FILE: fs/relayfs/relay.h:32:
+extern int relayfs_remove_file(struct dentry *dentry);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1662: FILE: fs/relayfs/relay.h:33:
+extern void rchan_buffer_get(struct rchan_buf *rchan);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1663: FILE: fs/relayfs/relay.h:34:
+extern void rchan_buffer_put(struct rchan_buf *rchan);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1664: FILE: fs/relayfs/relay.h:35:
+extern int rchan_buffer_empty(struct rchan_buf *chan);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1671: FILE: include/linux/relayfs_fs.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#1672: FILE: include/linux/relayfs_fs.h:2:
+ * linux/include/linux/relayfs_fs.h

ERROR:OPEN_BRACE: open brace '{' following enum go on the same line
#1714: FILE: include/linux/relayfs_fs.h:44:
+enum relay_fileop
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#1725: FILE: include/linux/relayfs_fs.h:55:
+struct rchan_buf
+{

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1729: FILE: include/linux/relayfs_fs.h:59:
+	unsigned bufsize;		/* sub-buffer size */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1730: FILE: include/linux/relayfs_fs.h:60:
+	unsigned alloc_size;		/* total buffer size allocated */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1731: FILE: include/linux/relayfs_fs.h:61:
+	unsigned nbufs;			/* number of sub-buffers */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1732: FILE: include/linux/relayfs_fs.h:62:
+	unsigned bufs_produced;		/* count of sub-buffers produced */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1733: FILE: include/linux/relayfs_fs.h:63:
+	unsigned bufs_consumed;		/* count of sub-buffers consumed */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#1743: FILE: include/linux/relayfs_fs.h:73:
+	unsigned *padding;		/* padding counts per sub-buffer */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int *' to bare use of 'unsigned *'
#1744: FILE: include/linux/relayfs_fs.h:74:
+	unsigned *commit;		/* commit counts per sub-buffer */

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#1752: FILE: include/linux/relayfs_fs.h:82:
+struct rchan
+{

ERROR:OPEN_BRACE: open brace '{' following struct go on the same line
#1761: FILE: include/linux/relayfs_fs.h:91:
+struct rchan_callbacks
+{

WARNING:SPACING: Unnecessary space before function pointer arguments
#1769: FILE: include/linux/relayfs_fs.h:99:
+	int (*buffer_start) (struct rchan_buf *buffer,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1771: FILE: include/linux/relayfs_fs.h:101:
+			     unsigned prev_subbuf_idx);

WARNING:SPACING: Unnecessary space before function pointer arguments
#1781: FILE: include/linux/relayfs_fs.h:111:
+	void (*deliver) (struct rchan_buf *buffer,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1783: FILE: include/linux/relayfs_fs.h:113:
+			 unsigned subbuf_idx);

WARNING:REPEATED_WORD: Possible repeated word: 'channel'
#1787: FILE: include/linux/relayfs_fs.h:117:
+	 * @chan: the channel channel buffer

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1788: FILE: include/linux/relayfs_fs.h:118:
+	 * @filp: relayfs file pointer
 	    ^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1793: FILE: include/linux/relayfs_fs.h:123:
+        int (*fileop_notify)(struct rchan_buf *rchan,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1793: FILE: include/linux/relayfs_fs.h:123:
+        int (*fileop_notify)(struct rchan_buf *rchan,$

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1794: FILE: include/linux/relayfs_fs.h:124:
+			     struct file *filp,
 			                  ^^^^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'chan' may be better as '(chan)' to avoid precedence issues
#1802: FILE: include/linux/relayfs_fs.h:132:
+#define relay_get_buffer(chan, cpu)	(chan->buffer[cpu])

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'buf' may be better as '(buf)' to avoid precedence issues
#1803: FILE: include/linux/relayfs_fs.h:133:
+#define relay_get_padding(buf, subbuf_idx)	(buf->padding[subbuf_idx])

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'buf' may be better as '(buf)' to avoid precedence issues
#1804: FILE: include/linux/relayfs_fs.h:134:
+#define relay_get_commit(buf, subbuf_idx)	(buf->commit[subbuf_idx])

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1806: FILE: include/linux/relayfs_fs.h:136:
+extern struct rchan *relay_open(const char *chanpath,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1807: FILE: include/linux/relayfs_fs.h:137:
+				unsigned bufsize,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1808: FILE: include/linux/relayfs_fs.h:138:
+				unsigned nbufs,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1811: FILE: include/linux/relayfs_fs.h:141:
+extern void relay_close(struct rchan *chan);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1812: FILE: include/linux/relayfs_fs.h:142:
+extern void *relay_reserve(struct rchan *chan,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1813: FILE: include/linux/relayfs_fs.h:143:
+			   unsigned length,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1815: FILE: include/linux/relayfs_fs.h:145:
+extern void relay_commit(struct rchan_buf *buffer,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1816: FILE: include/linux/relayfs_fs.h:146:
+			 unsigned subbuf_idx,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1817: FILE: include/linux/relayfs_fs.h:147:
+			 unsigned count);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1818: FILE: include/linux/relayfs_fs.h:148:
+extern unsigned relay_write(struct rchan *chan,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1818: FILE: include/linux/relayfs_fs.h:148:
+extern unsigned relay_write(struct rchan *chan,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1820: FILE: include/linux/relayfs_fs.h:150:
+			    unsigned length);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1821: FILE: include/linux/relayfs_fs.h:151:
+extern void relay_buffers_consumed(struct rchan *chan,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1822: FILE: include/linux/relayfs_fs.h:152:
+				   unsigned bufs_consumed,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1824: FILE: include/linux/relayfs_fs.h:154:
+extern void relay_reset(struct rchan *chan);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000211197.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 50 errors, 123 warnings, 54 checks, 1686 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000211197.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
