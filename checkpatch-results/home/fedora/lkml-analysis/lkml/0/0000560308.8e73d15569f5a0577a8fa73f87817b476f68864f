WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#66: 
diff -uNr linux-2.2.19-pre2/drivers/scsi/README.osst linux-2.2.19p2.osst/drivers/scsi/README.osst

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#250: FILE: drivers/scsi/osst.c:25:
+static const char * cvsid = "$Id: osst.c,v 1.28.2.12.2.1 2000/12/15 20:36:12 garloff Exp $";

Since linux moved to git, the CVS markers are no longer used.
So, CVS style keywords ($Id$, $Revision$, $Log$) should not be
added.

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#250: FILE: drivers/scsi/osst.c:25:
+static const char * cvsid = "$Id: osst.c,v 1.28.2.12.2.1 2000/12/15 20:36:12 garloff Exp $";

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#251: FILE: drivers/scsi/osst.c:26:
+const char * osst_version = "0.8.6.1";

WARNING:LONG_LINE_COMMENT: line length of 136 exceeds 100 columns
#271: FILE: drivers/scsi/osst.c:322:
+//     (STp->first_frame_position == 240 /* or STp->read_error_frame to fail again on the block calculated above */ && ++repeat < 3))) {

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#272: FILE: drivers/scsi/osst.c:323:
+//     (STp->first_frame_position == 240 /* or STp->read_error_frame to fail again on the block calculated above */ && ++repeat < 3))) {
+//	printk(OSST_DEB_MSG "osst%d: injecting read error\n", TAPE_NR(STp->devt));

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:CAMELCASE: Avoid CamelCase: <STp>
#284: FILE: drivers/scsi/osst.c:516:
+		if (STp->header_cache != NULL && i < OS_FM_TAB_MAX && (i > STp->filemark_cnt ||

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "STp->header_cache"
#284: FILE: drivers/scsi/osst.c:516:
+		if (STp->header_cache != NULL && i < OS_FM_TAB_MAX && (i > STp->filemark_cnt ||

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:LONG_LINE: line length of 107 exceeds 100 columns
#285: FILE: drivers/scsi/osst.c:517:
+		    STp->first_frame_position - 1 != ntohl(STp->header_cache->dat_fm_tab.fm_tab_ent[i]))) {

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#285: FILE: drivers/scsi/osst.c:517:
+		if (STp->header_cache != NULL && i < OS_FM_TAB_MAX && (i > STp->filemark_cnt ||
+		    STp->first_frame_position - 1 != ntohl(STp->header_cache->dat_fm_tab.fm_tab_ent[i]))) {

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (24, 33)
#292: FILE: drivers/scsi/osst.c:524:
+			if (i >= STp->filemark_cnt)
+				 STp->filemark_cnt = i+1;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#293: FILE: drivers/scsi/osst.c:525:
+				 STp->filemark_cnt = i+1;
 				                      ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#301: FILE: drivers/scsi/osst.c:635:
 }
+/*

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#302: FILE: drivers/scsi/osst.c:636:
+/*
+static int osst_buffer_stats[64];

ERROR:TRAILING_WHITESPACE: trailing whitespace
#320: FILE: drivers/scsi/osst.c:654:
+^I^I       ^Iosst_buffer_stats[i+2], osst_buffer_stats[i+3], $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#320: FILE: drivers/scsi/osst.c:654:
+^I^I       ^Iosst_buffer_stats[i+2], osst_buffer_stats[i+3], $

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#320: FILE: drivers/scsi/osst.c:654:
+^I^I       ^Iosst_buffer_stats[i+2], osst_buffer_stats[i+3], $

ERROR:CODE_INDENT: code indent should use tabs where possible
#322: FILE: drivers/scsi/osst.c:656:
+^I^I       ^Iosst_buffer_stats[i+6], osst_buffer_stats[i+7]);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#322: FILE: drivers/scsi/osst.c:656:
+^I^I       ^Iosst_buffer_stats[i+6], osst_buffer_stats[i+7]);$

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#344: FILE: drivers/scsi/osst.c:677:
+			if ((result = osst_write_error_recovery(STp, aSCpnt, 0)) == 0)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:CAMELCASE: Avoid CamelCase: <aSCpnt>
#344: FILE: drivers/scsi/osst.c:677:
+			if ((result = osst_write_error_recovery(STp, aSCpnt, 0)) == 0)

WARNING:TYPO_SPELLING: 'successfull' may be misspelled - perhaps 'successful'?
#345: FILE: drivers/scsi/osst.c:678:
+				return 0;	/* successfull recovery leaves drive ready for frame */
 				         	   ^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LONG_LINE_COMMENT: line length of 103 exceeds 100 columns
#345: FILE: drivers/scsi/osst.c:678:
+				return 0;	/* successfull recovery leaves drive ready for frame */

WARNING:TABSTOP: Statements should start on a tabstop
#353: FILE: drivers/scsi/osst.c:753:
+	    if (STp->read_error_frame == 0) {

WARNING:LONG_LINE_COMMENT: line length of 106 exceeds 100 columns
#355: FILE: drivers/scsi/osst.c:755:
+		printk(OSST_DEB_MSG "osst: recording read error at %d\n", STp->read_error_frame);/*FIXME*/

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#355: FILE: drivers/scsi/osst.c:755:
+		printk(OSST_DEB_MSG "osst: recording read error at %d\n", STp->read_error_frame);/*FIXME*/

WARNING:TABSTOP: Statements should start on a tabstop
#356: FILE: drivers/scsi/osst.c:756:
+	    }

ERROR:CODE_INDENT: code indent should use tabs where possible
#374: FILE: drivers/scsi/osst.c:837:
+                if (cnt++ > 400) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#374: FILE: drivers/scsi/osst.c:837:
+                if (cnt++ > 400) {$

WARNING:IF_1: Consider removing the #if 1 and its #endif
#379: FILE: drivers/scsi/osst.c:842:
+#if 1 //DEBUG

ERROR:CODE_INDENT: code indent should use tabs where possible
#380: FILE: drivers/scsi/osst.c:843:
+                        ^Iprintk(OSST_DEB_MSG "osst%d: Repositioning tape to bad block %d\n",$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#380: FILE: drivers/scsi/osst.c:843:
+                        ^Iprintk(OSST_DEB_MSG "osst%d: Repositioning tape to bad block %d\n",$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#380: FILE: drivers/scsi/osst.c:843:
+                        ^Iprintk(OSST_DEB_MSG "osst%d: Repositioning tape to bad block %d\n",$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#380: FILE: drivers/scsi/osst.c:843:
+                        	printk(OSST_DEB_MSG "osst%d: Repositioning tape to bad block %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#381: FILE: drivers/scsi/osst.c:844:
+                        	printk(OSST_DEB_MSG "osst%d: Repositioning tape to bad block %d\n",
+						 dev, STp->read_error_frame);

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (24, 0)
#392: FILE: drivers/scsi/osst.c:860:
+			else if (position > STp->eod_frame_ppos || ++bad == 10) {
+printk(OSST_DEB_MSG "osst%d: start again from pos %d, eod %d, bad %d\n", dev, position, STp->eod_frame_ppos, bad); /*FIXME*/

WARNING:LONG_LINE: line length of 124 exceeds 100 columns
#393: FILE: drivers/scsi/osst.c:861:
+printk(OSST_DEB_MSG "osst%d: start again from pos %d, eod %d, bad %d\n", dev, position, STp->eod_frame_ppos, bad); /*FIXME*/

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#393: FILE: drivers/scsi/osst.c:861:
+printk(OSST_DEB_MSG "osst%d: start again from pos %d, eod %d, bad %d\n", dev, position, STp->eod_frame_ppos, bad); /*FIXME*/

ERROR:CODE_INDENT: code indent should use tabs where possible
#399: FILE: drivers/scsi/osst.c:866:
+                        ^Icnt += 20;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#399: FILE: drivers/scsi/osst.c:866:
+                        ^Icnt += 20;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#399: FILE: drivers/scsi/osst.c:866:
+                        ^Icnt += 20;$

WARNING:IF_1: Consider removing the #if 1 and its #endif
#403: FILE: drivers/scsi/osst.c:868:
+#if 1 //DEBUG

ERROR:CODE_INDENT: code indent should use tabs where possible
#404: FILE: drivers/scsi/osst.c:869:
+                        printk(OSST_DEB_MSG "osst%d: Bad block detected, positioning tape to block %d\n",$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#404: FILE: drivers/scsi/osst.c:869:
+                        printk(OSST_DEB_MSG "osst%d: Bad block detected, positioning tape to block %d\n",$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#404: FILE: drivers/scsi/osst.c:869:
+                        printk(OSST_DEB_MSG "osst%d: Bad block detected, positioning tape to block %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#405: FILE: drivers/scsi/osst.c:870:
+                        printk(OSST_DEB_MSG "osst%d: Bad block detected, positioning tape to block %d\n",
 					 dev, position);

WARNING:LONG_LINE_COMMENT: line length of 105 exceeds 100 columns
#418: FILE: drivers/scsi/osst.c:890:
+					/* positioning backwards did not bring us to the desired block */

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#421: FILE: drivers/scsi/osst.c:893:
+				}
+				else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#422: FILE: drivers/scsi/osst.c:894:
+^I^I^I        ^Iposition = osst_get_frame_position(STp, aSCpnt)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#422: FILE: drivers/scsi/osst.c:894:
+^I^I^I        ^Iposition = osst_get_frame_position(STp, aSCpnt)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#423: FILE: drivers/scsi/osst.c:895:
+^I^I^I^I^I         + logical_blk_num - x - 1;$

WARNING:IF_1: Consider removing the #if 1 and its #endif
#424: FILE: drivers/scsi/osst.c:896:
+#if 1 //DEBUG

ERROR:CODE_INDENT: code indent should use tabs where possible
#429: FILE: drivers/scsi/osst.c:900:
+^I^I^I^I^I       ^ISTp->first_frame_position - position);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#429: FILE: drivers/scsi/osst.c:900:
+^I^I^I^I^I       ^ISTp->first_frame_position - position);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#433: FILE: drivers/scsi/osst.c:902:
+                        ^Iosst_set_frame_position(STp, aSCpnt, position, 0);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#433: FILE: drivers/scsi/osst.c:902:
+                        ^Iosst_set_frame_position(STp, aSCpnt, position, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#433: FILE: drivers/scsi/osst.c:902:
+                        ^Iosst_set_frame_position(STp, aSCpnt, position, 0);$

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#436: FILE: drivers/scsi/osst.c:905:
                         }
+			else

CHECK:CAMELCASE: Avoid CamelCase: <STps>
#454: FILE: drivers/scsi/osst.c:987:
+	STps->eof       = ST_NOEOF; /* FIXME test for eod */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#530: FILE: drivers/scsi/osst.c:1456:
+			if (STp->first_frame_position > STp->eod_frame_ppos+1) {
 			                                                   ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#532: FILE: drivers/scsi/osst.c:1458:
+				printk(OSST_DEB_MSG "osst%i: EOD position corrected (%d=>%d)\n",

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#533: FILE: drivers/scsi/osst.c:1459:
+					       	dev, STp->eod_frame_ppos, STp->first_frame_position-1);

ERROR:CODE_INDENT: code indent should use tabs where possible
#533: FILE: drivers/scsi/osst.c:1459:
+^I^I^I^I^I       ^Idev, STp->eod_frame_ppos, STp->first_frame_position-1);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#533: FILE: drivers/scsi/osst.c:1459:
+^I^I^I^I^I       ^Idev, STp->eod_frame_ppos, STp->first_frame_position-1);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#533: FILE: drivers/scsi/osst.c:1459:
+				printk(OSST_DEB_MSG "osst%i: EOD position corrected (%d=>%d)\n",
+					       	dev, STp->eod_frame_ppos, STp->first_frame_position-1);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#533: FILE: drivers/scsi/osst.c:1459:
+					       	dev, STp->eod_frame_ppos, STp->first_frame_position-1);
 					       	                                                   ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#535: FILE: drivers/scsi/osst.c:1461:
+				STp->eod_frame_ppos = STp->first_frame_position-1;
 				                                               ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#545: FILE: drivers/scsi/osst.c:1532:
+				printk(KERN_INFO "osst%i: Expected to find marker %d at block %d, not %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#546: FILE: drivers/scsi/osst.c:1533:
+				printk(KERN_INFO "osst%i: Expected to find marker %d at block %d, not %d\n",
+						 dev, cnt+mt_count, next_mark_ppos,

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#546: FILE: drivers/scsi/osst.c:1533:
+						 dev, cnt+mt_count, next_mark_ppos,
 						         ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#575: FILE: drivers/scsi/osst.c:2409:
+	unsigned char mysense[16];
+	memcpy (mysense, SCpnt->sense_buffer, 16);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#575: FILE: drivers/scsi/osst.c:2409:
+	memcpy (mysense, SCpnt->sense_buffer, 16);

CHECK:CAMELCASE: Avoid CamelCase: <SCpnt>
#575: FILE: drivers/scsi/osst.c:2409:
+	memcpy (mysense, SCpnt->sense_buffer, 16);

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 11)
#580: FILE: drivers/scsi/osst.c:2414:
+	if (!STp->buffer->last_result_fatal)
+	   memcpy (SCpnt->sense_buffer, mysense, 16);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#581: FILE: drivers/scsi/osst.c:2415:
+	   memcpy (SCpnt->sense_buffer, mysense, 16);

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (4, 6)
#597: FILE: drivers/scsi/osst.c:2766:
     else if (STps->rw != ST_WRITING) {
[...]
+      if (!STp->header_ok || STp->first_frame_position == STp->first_data_ppos ||

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#600: FILE: drivers/scsi/osst.c:2768:
+      if (!STp->header_ok || STp->first_frame_position == STp->first_data_ppos ||$

ERROR:CODE_INDENT: code indent should use tabs where possible
#601: FILE: drivers/scsi/osst.c:2769:
+^I^I            (STps->drv_file == 0 && STps->drv_block == 0)) {$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#601: FILE: drivers/scsi/osst.c:2769:
+      if (!STp->header_ok || STp->first_frame_position == STp->first_data_ppos ||
+		            (STps->drv_file == 0 && STps->drv_block == 0)) {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#612: FILE: drivers/scsi/osst.c:2777:
+      }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#614: FILE: drivers/scsi/osst.c:2779:
+      else {$

CHECK:BRACES: Unbalanced braces around else statement
#614: FILE: drivers/scsi/osst.c:2779:
+      else {

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 10)
#615: FILE: drivers/scsi/osst.c:2780:
+	if ((STp->fast_open && osst_verify_position(STp, &SCpnt)) ||
[...]
+	  if (STp->first_frame_position == STp->eod_frame_ppos) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#616: FILE: drivers/scsi/osst.c:2781:
+	if ((STp->fast_open && osst_verify_position(STp, &SCpnt)) ||
+		STps->drv_file < 0 || STps->drv_block < 0) {

WARNING:TABSTOP: Statements should start on a tabstop
#617: FILE: drivers/scsi/osst.c:2782:
+	  if (STp->first_frame_position == STp->eod_frame_ppos) {

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (10, 12)
#617: FILE: drivers/scsi/osst.c:2782:
+	  if (STp->first_frame_position == STp->eod_frame_ppos) {
+	    STps->drv_file = STp->filemark_cnt;

WARNING:TABSTOP: Statements should start on a tabstop
#620: FILE: drivers/scsi/osst.c:2785:
+	  }

WARNING:TABSTOP: Statements should start on a tabstop
#621: FILE: drivers/scsi/osst.c:2786:
+	  else {

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (10, 12)
#621: FILE: drivers/scsi/osst.c:2786:
+	  else {
[...]
+	    printk(OSST_DEB_MSG "osst%d: Cannot write at indeterminate position.\n", dev);

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#621: FILE: drivers/scsi/osst.c:2786:
+	  }
+	  else {

CHECK:BRACES: Unbalanced braces around else statement
#621: FILE: drivers/scsi/osst.c:2786:
+	  else {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#624: FILE: drivers/scsi/osst.c:2789:
+	    printk(OSST_DEB_MSG "osst%d: Cannot write at indeterminate position.\n", dev);

WARNING:TABSTOP: Statements should start on a tabstop
#626: FILE: drivers/scsi/osst.c:2791:
+	    if (SCpnt) scsi_release_command(SCpnt);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#626: FILE: drivers/scsi/osst.c:2791:
+	    if (SCpnt) scsi_release_command(SCpnt);

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:TABSTOP: Statements should start on a tabstop
#627: FILE: drivers/scsi/osst.c:2792:
+	    return (-EIO);

WARNING:TABSTOP: Statements should start on a tabstop
#628: FILE: drivers/scsi/osst.c:2793:
+	  }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#629: FILE: drivers/scsi/osst.c:2794:
+^I}^I  $

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 10)
#630: FILE: drivers/scsi/osst.c:2795:
+	if (STps->drv_file > 0 && STps->drv_file < STp->filemark_cnt) {
+	  STp->filemark_cnt = STps->drv_file;

WARNING:LONG_LINE: line length of 101 exceeds 100 columns
#632: FILE: drivers/scsi/osst.c:2797:
+	  STp->last_mark_ppos = ntohl(STp->header_cache->dat_fm_tab.fm_tab_ent[STp->filemark_cnt-1]);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#632: FILE: drivers/scsi/osst.c:2797:
+	  STp->last_mark_ppos = ntohl(STp->header_cache->dat_fm_tab.fm_tab_ent[STp->filemark_cnt-1]);
 	                                                                                        ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#633: FILE: drivers/scsi/osst.c:2798:
+	  printk(KERN_WARNING "osst%d: Overwriting file %d with old write pass counter %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#634: FILE: drivers/scsi/osst.c:2799:
+	  printk(KERN_WARNING "osst%d: Overwriting file %d with old write pass counter %d\n",
+		      dev, STps->drv_file, STp->wrt_pass_cntr);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#635: FILE: drivers/scsi/osst.c:2800:
+	  printk(KERN_WARNING "osst%d: may lead to stale data being accepted on reading back!\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#636: FILE: drivers/scsi/osst.c:2801:
+	  printk(KERN_WARNING "osst%d: may lead to stale data being accepted on reading back!\n",
+		      dev);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#638: FILE: drivers/scsi/osst.c:2803:
+	  printk(OSST_DEB_MSG "osst%d: resetting filemark count to %d and last mark ppos to %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#639: FILE: drivers/scsi/osst.c:2804:
+	  printk(OSST_DEB_MSG "osst%d: resetting filemark count to %d and last mark ppos to %d\n",
+		dev, STp->filemark_cnt, STp->last_mark_ppos);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#653: FILE: drivers/scsi/osst.c:2876:
+//osst_build_stats(STp, &SCpnt);^I$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#660: FILE: drivers/scsi/osst.c:3177:
 	if (STps->eof == ST_FM_HIT) {
+	    STps->eof = (STp->first_frame_position >= STp->eod_frame_ppos)?ST_EOD:ST_FM;

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#662: FILE: drivers/scsi/osst.c:3178:
+	    STps->eof = (STp->first_frame_position >= STp->eod_frame_ppos)?ST_EOD:ST_FM;
 	                                                                  ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#662: FILE: drivers/scsi/osst.c:3178:
+	    STps->eof = (STp->first_frame_position >= STp->eod_frame_ppos)?ST_EOD:ST_FM;
 	                                                                         ^

WARNING:TABSTOP: Statements should start on a tabstop
#671: FILE: drivers/scsi/osst.c:3185:
+	    if (STps->drv_block > 0 && STps->drv_file >= 0)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#682: FILE: drivers/scsi/osst.c:3384:
+   int fileno, blkno, at_sm, datalen;$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 11)
#694: FILE: drivers/scsi/osst.c:3575:
+	if (osst_get_logical_blk(STp, &SCpnt, -1, 0) < 0) {
+	   ioctl_result = -EIO;

WARNING:TABSTOP: Statements should start on a tabstop
#696: FILE: drivers/scsi/osst.c:3577:
+	   goto os_bypass;

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 11)
#698: FILE: drivers/scsi/osst.c:3579:
+	if (STp->buffer->aux->frame_type != OS_FRAME_TYPE_EOD) {
[...]
+	   printk(OSST_DEB_MSG "osst%d: No EOD frame found where expected.\n", dev);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#700: FILE: drivers/scsi/osst.c:3581:
+	   printk(OSST_DEB_MSG "osst%d: No EOD frame found where expected.\n", dev);

ERROR:CODE_INDENT: code indent should use tabs where possible
#702: FILE: drivers/scsi/osst.c:3583:
+     ^I   ioctl_result = -EIO;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#702: FILE: drivers/scsi/osst.c:3583:
+     ^I   ioctl_result = -EIO;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#702: FILE: drivers/scsi/osst.c:3583:
+     ^I   ioctl_result = -EIO;$

WARNING:TABSTOP: Statements should start on a tabstop
#703: FILE: drivers/scsi/osst.c:3584:
+	   goto os_bypass;

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 9)
#711: FILE: drivers/scsi/osst.c:3692:
       else if (cmd_in == MTFSF)
+	 STps->eof = (STp->first_frame_position >= STp->eod_frame_ppos)?ST_EOD:ST_FM;

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#713: FILE: drivers/scsi/osst.c:3693:
+	 STps->eof = (STp->first_frame_position >= STp->eod_frame_ppos)?ST_EOD:ST_FM;
 	                                                               ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#713: FILE: drivers/scsi/osst.c:3693:
+	 STps->eof = (STp->first_frame_position >= STp->eod_frame_ppos)?ST_EOD:ST_FM;
 	                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#721: FILE: drivers/scsi/osst.c:3714:
+   } else if (cmd_in == MTBSF || cmd_in == MTBSFM ) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (3, 6)
#721: FILE: drivers/scsi/osst.c:3714:
+   } else if (cmd_in == MTBSF || cmd_in == MTBSFM ) {
+      if (osst_position_tape_and_confirm(STp, &SCpnt, STp->first_data_ppos) < 0)

ERROR:SPACING: space prohibited before that close parenthesis ')'
#721: FILE: drivers/scsi/osst.c:3714:
+   } else if (cmd_in == MTBSF || cmd_in == MTBSFM ) {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#722: FILE: drivers/scsi/osst.c:3715:
+      if (osst_position_tape_and_confirm(STp, &SCpnt, STp->first_data_ppos) < 0)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 10)
#722: FILE: drivers/scsi/osst.c:3715:
+      if (osst_position_tape_and_confirm(STp, &SCpnt, STp->first_data_ppos) < 0)
+	  STps->drv_file = STps->drv_block = -1;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#723: FILE: drivers/scsi/osst.c:3716:
+	  STps->drv_file = STps->drv_block = -1;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#724: FILE: drivers/scsi/osst.c:3717:
+      else$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 10)
#724: FILE: drivers/scsi/osst.c:3717:
+      else
+	  STps->drv_file = STps->drv_block = 0;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#725: FILE: drivers/scsi/osst.c:3718:
+	  STps->drv_file = STps->drv_block = 0;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#726: FILE: drivers/scsi/osst.c:3719:
+      STps->eof = ST_NOEOF;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#727: FILE: drivers/scsi/osst.c:3720:
+   } else if (cmd_in == MTFSF || cmd_in == MTFSFM) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (3, 6)
#727: FILE: drivers/scsi/osst.c:3720:
+   } else if (cmd_in == MTFSF || cmd_in == MTFSFM) {
+      if (osst_position_tape_and_confirm(STp, &SCpnt, STp->eod_frame_ppos) < 0)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#728: FILE: drivers/scsi/osst.c:3721:
+      if (osst_position_tape_and_confirm(STp, &SCpnt, STp->eod_frame_ppos) < 0)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 10)
#728: FILE: drivers/scsi/osst.c:3721:
+      if (osst_position_tape_and_confirm(STp, &SCpnt, STp->eod_frame_ppos) < 0)
+	  STps->drv_file = STps->drv_block = -1;

CHECK:BRACES: braces {} should be used on all arms of this statement
#728: FILE: drivers/scsi/osst.c:3721:
+      if (osst_position_tape_and_confirm(STp, &SCpnt, STp->eod_frame_ppos) < 0)
[...]
+      else {
[...]

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#729: FILE: drivers/scsi/osst.c:3722:
+	  STps->drv_file = STps->drv_block = -1;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#730: FILE: drivers/scsi/osst.c:3723:
+      else {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 10)
#730: FILE: drivers/scsi/osst.c:3723:
+      else {
+	  STps->drv_file  = STp->filemark_cnt;

CHECK:BRACES: Unbalanced braces around else statement
#730: FILE: drivers/scsi/osst.c:3723:
+      else {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#733: FILE: drivers/scsi/osst.c:3726:
+      }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#734: FILE: drivers/scsi/osst.c:3727:
+      STps->eof = ST_EOD;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#735: FILE: drivers/scsi/osst.c:3728:
+   } else if (cmd_in == MTBSR || cmd_in == MTFSR || cmd_in == MTWEOF || cmd_in == MTEOM) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (3, 6)
#735: FILE: drivers/scsi/osst.c:3728:
+   } else if (cmd_in == MTBSR || cmd_in == MTFSR || cmd_in == MTWEOF || cmd_in == MTEOM) {
+      STps->drv_file = STps->drv_block = (-1);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#736: FILE: drivers/scsi/osst.c:3729:
+      STps->drv_file = STps->drv_block = (-1);$

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#736: FILE: drivers/scsi/osst.c:3729:
+      STps->drv_file = STps->drv_block = (-1);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#737: FILE: drivers/scsi/osst.c:3730:
+      STps->eof = ST_NOEOF;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#738: FILE: drivers/scsi/osst.c:3731:
+      STp->header_ok = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#739: FILE: drivers/scsi/osst.c:3732:
+   } else if (cmd_in == MTERASE) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (3, 6)
#739: FILE: drivers/scsi/osst.c:3732:
+   } else if (cmd_in == MTERASE) {
+      STp->header_ok = 0;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#740: FILE: drivers/scsi/osst.c:3733:
+      STp->header_ok = 0;$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 9)
#742: FILE: drivers/scsi/osst.c:3735:
       if (SCpnt->sense_buffer[2] & 0x40) {
+	 STps->eof = ST_EOM_OK;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#816: FILE: drivers/scsi/osst.c:3739:
+      if (chg_eof)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 9)
#816: FILE: drivers/scsi/osst.c:3739:
+      if (chg_eof)
+         STps->eof = ST_NOEOF;

ERROR:CODE_INDENT: code indent should use tabs where possible
#817: FILE: drivers/scsi/osst.c:3740:
+         STps->eof = ST_NOEOF;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#817: FILE: drivers/scsi/osst.c:3740:
+         STps->eof = ST_NOEOF;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#844: FILE: drivers/scsi/osst.h:492:
+  int      read_error_frame;^I^I^I/* used in read error recovery */$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000560308.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 25 errors, 100 warnings, 34 checks, 724 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000560308.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
