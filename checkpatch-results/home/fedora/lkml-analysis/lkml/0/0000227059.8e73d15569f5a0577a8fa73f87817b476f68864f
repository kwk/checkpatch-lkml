WARNING:TYPO_SPELLING: 'usefuly' may be misspelled - perhaps 'usefully'?
#58: 
> very usefuly when using pagecache saving and pagecachs_addon.diff
       ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#79: FILE: include/linux/suspend.h:4:
+#if (defined(CONFIG_X86)) || (defined (CONFIG_PPC32))

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#89: FILE: include/linux/sysctl.h:173:
+	VM_SWSUSP_PAGECACHE=29,	/* Enable/Disable Suspend PageCaches */
 	                   ^

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#112: FILE: kernel/power/disk.c:33:
+extern int swsusp_prepare_suspend(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#113: FILE: kernel/power/disk.c:34:
+extern int swsusp_post_resume(void);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#212: FILE: kernel/power/disk.c:120:
+		if ((error = swsusp_prepare_suspend())) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#212: FILE: kernel/power/disk.c:120:
+		if ((error = swsusp_prepare_suspend())) {
+			goto Finish;
+		}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:CAMELCASE: Avoid CamelCase: <Finish>
#213: FILE: kernel/power/disk.c:121:
+			goto Finish;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#223: FILE: kernel/power/disk.c:148:
+	if ((error = prepare(0)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#232: FILE: kernel/power/disk.c:205:
+	if ((error = prepare(1)))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#297: FILE: kernel/power/swsusp.c:172:
+int swsusp_swap_check(struct partial_device_tree *suspend_device_tree) $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LONG_LINE: line length of 125 exceeds 100 columns
#305: FILE: kernel/power/swsusp.c:196:
+					device_switch_trees((swap_info[i].bdev)->bd_disk->driverfs_dev, suspend_device_tree);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:TRAILING_WHITESPACE: trailing whitespace
#313: FILE: kernel/power/swsusp.c:224:
+^I$

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#314: FILE: kernel/power/swsusp.c:225:
+#define ONE_PAGE_PBE_NUM	(PAGE_SIZE/sizeof(struct pbe))
                         	          ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'x' - possible side-effects?
#315: FILE: kernel/power/swsusp.c:226:
+#define PBE_IS_PAGE_END(x)  \
+	( PAGE_SIZE - sizeof(struct pbe) == ((x) - ((~(PAGE_SIZE - 1)) & (x))) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#316: FILE: kernel/power/swsusp.c:227:
+	( PAGE_SIZE - sizeof(struct pbe) == ((x) - ((~(PAGE_SIZE - 1)) & (x))) )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#316: FILE: kernel/power/swsusp.c:227:
+	( PAGE_SIZE - sizeof(struct pbe) == ((x) - ((~(PAGE_SIZE - 1)) & (x))) )

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pos' - possible side-effects?
#318: FILE: kernel/power/swsusp.c:229:
+#define pgdir_for_each_safe(pos, n, head) \
+	for(pos = head, n = pos ? (suspend_pagedir_t*)pos->dummy.val : NULL; \
+		pos != NULL; \
+		pos = n, n = pos ? (suspend_pagedir_t *)pos->dummy.val : NULL)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'n' - possible side-effects?
#318: FILE: kernel/power/swsusp.c:229:
+#define pgdir_for_each_safe(pos, n, head) \
+	for(pos = head, n = pos ? (suspend_pagedir_t*)pos->dummy.val : NULL; \
+		pos != NULL; \
+		pos = n, n = pos ? (suspend_pagedir_t *)pos->dummy.val : NULL)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#319: FILE: kernel/power/swsusp.c:230:
+	for(pos = head, n = pos ? (suspend_pagedir_t*)pos->dummy.val : NULL; \

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required before the open parenthesis '('
#319: FILE: kernel/power/swsusp.c:230:
+	for(pos = head, n = pos ? (suspend_pagedir_t*)pos->dummy.val : NULL; \

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "pos"
#320: FILE: kernel/power/swsusp.c:231:
+		pos != NULL; \

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'pos' - possible side-effects?
#323: FILE: kernel/power/swsusp.c:234:
+#define pbe_for_each_safe(pos, n, index, max, head) \
+	for(pos = head, index = 0, \
+			n = pos ? (struct pbe *)pos->dummy.val : NULL; \
+		(pos != NULL) && (index < max); \
+		pos = (PBE_IS_PAGE_END((unsigned long)pos)) ? n : \
+			((struct pbe *)((unsigned long)pos + sizeof(struct pbe))), \
+			index ++, \
+			n = pos ? (struct pbe*)pos->dummy.val : NULL)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'n' - possible side-effects?
#323: FILE: kernel/power/swsusp.c:234:
+#define pbe_for_each_safe(pos, n, index, max, head) \
+	for(pos = head, index = 0, \
+			n = pos ? (struct pbe *)pos->dummy.val : NULL; \
+		(pos != NULL) && (index < max); \
+		pos = (PBE_IS_PAGE_END((unsigned long)pos)) ? n : \
+			((struct pbe *)((unsigned long)pos + sizeof(struct pbe))), \
+			index ++, \
+			n = pos ? (struct pbe*)pos->dummy.val : NULL)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'index' - possible side-effects?
#323: FILE: kernel/power/swsusp.c:234:
+#define pbe_for_each_safe(pos, n, index, max, head) \
+	for(pos = head, index = 0, \
+			n = pos ? (struct pbe *)pos->dummy.val : NULL; \
+		(pos != NULL) && (index < max); \
+		pos = (PBE_IS_PAGE_END((unsigned long)pos)) ? n : \
+			((struct pbe *)((unsigned long)pos + sizeof(struct pbe))), \
+			index ++, \
+			n = pos ? (struct pbe*)pos->dummy.val : NULL)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'max' may be better as '(max)' to avoid precedence issues
#323: FILE: kernel/power/swsusp.c:234:
+#define pbe_for_each_safe(pos, n, index, max, head) \
+	for(pos = head, index = 0, \
+			n = pos ? (struct pbe *)pos->dummy.val : NULL; \
+		(pos != NULL) && (index < max); \
+		pos = (PBE_IS_PAGE_END((unsigned long)pos)) ? n : \
+			((struct pbe *)((unsigned long)pos + sizeof(struct pbe))), \
+			index ++, \
+			n = pos ? (struct pbe*)pos->dummy.val : NULL)

ERROR:SPACING: space required before the open parenthesis '('
#324: FILE: kernel/power/swsusp.c:235:
+	for(pos = head, index = 0, \

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "pos"
#326: FILE: kernel/power/swsusp.c:237:
+		(pos != NULL) && (index < max); \

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#330: FILE: kernel/power/swsusp.c:241:
+			n = pos ? (struct pbe*)pos->dummy.val : NULL)

WARNING:LINE_SPACING: Missing a blank line after declarations
#336: FILE: kernel/power/swsusp.c:247:
+	suspend_pagedir_t *next, *cur;
+	pgdir_for_each_safe(cur, next, head) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#341: FILE: kernel/power/swsusp.c:252:
+/* for_each_pbe_copy_back $

WARNING:TYPO_SPELLING: 'usefuly' may be misspelled - perhaps 'usefully'?
#343: FILE: kernel/power/swsusp.c:254:
+ * That usefuly for help us writing the code in assemble code.
         ^^^^^^^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#348: FILE: kernel/power/swsusp.c:259:
+#if 0

ERROR:TRAILING_WHITESPACE: trailing whitespace
#349: FILE: kernel/power/swsusp.c:260:
+#define GET_ADDRESS(x) __pa(x) $

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#353: FILE: kernel/power/swsusp.c:264:
+asmlinkage void for_each_pbe_copy_back(void)
+{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "pgdir"
#358: FILE: kernel/power/swsusp.c:269:
+	while (pgdir != NULL) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#360: FILE: kernel/power/swsusp.c:271:
+		unsigned long nums, i;
+		pgdir = (struct pbe *)GET_ADDRESS(pgdir);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#361: FILE: kernel/power/swsusp.c:272:
+		next = (struct pbe*)pgdir->dummy.val;

WARNING:LINE_SPACING: Missing a blank line after declarations
#364: FILE: kernel/power/swsusp.c:275:
+			register unsigned long *orig, *copy;
+			orig = (unsigned long *)pgdir->orig_address;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#365: FILE: kernel/power/swsusp.c:276:
+			if (orig == 0) goto end;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#368: FILE: kernel/power/swsusp.c:279:
+#if 0

ERROR:SPACING: spaces required around that '+=' (ctx:VxV)
#371: FILE: kernel/power/swsusp.c:282:
+			for (i = 0; i < PAGE_SIZE / sizeof(unsigned long); i+=4) {
 			                                                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#373: FILE: kernel/power/swsusp.c:284:
+				*(orig + i+1) = *(copy + i+1);
 				          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#373: FILE: kernel/power/swsusp.c:284:
+				*(orig + i+1) = *(copy + i+1);
 				                          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#374: FILE: kernel/power/swsusp.c:285:
+				*(orig + i+2) = *(copy + i+2);
 				          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#374: FILE: kernel/power/swsusp.c:285:
+				*(orig + i+2) = *(copy + i+2);
 				                          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#375: FILE: kernel/power/swsusp.c:286:
+				*(orig + i+3) = *(copy + i+3);
 				          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#375: FILE: kernel/power/swsusp.c:286:
+				*(orig + i+3) = *(copy + i+3);
 				                          ^

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#378: FILE: kernel/power/swsusp.c:289:
+			pgdir ++;
 			      ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#388: FILE: kernel/power/swsusp.c:299:
+ * find_pbe_by_index - $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#389: FILE: kernel/power/swsusp.c:300:
+ * @pgdir: the pgdir head $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#390: FILE: kernel/power/swsusp.c:301:
+ * @index: $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#392: FILE: kernel/power/swsusp.c:303:
+ * @return: $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#399: FILE: kernel/power/swsusp.c:310:
+^Ipr_debug("find_pbe_by_index: %p, 0x%03x", pgdir, index); $

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'find_pbe_by_index', this function's name, in a string
#399: FILE: kernel/power/swsusp.c:310:
+	pr_debug("find_pbe_by_index: %p, 0x%03x", pgdir, index); 

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#402: FILE: kernel/power/swsusp.c:313:
+^I^I^Ipbe = (struct pbe *)((unsigned long)pbe + $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#405: FILE: kernel/power/swsusp.c:316:
+			pr_debug(" %p, o{%p} c{%p}\n",
+					pbe, (void*)pbe->orig_address, (void*)pbe->address);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#405: FILE: kernel/power/swsusp.c:316:
+					pbe, (void*)pbe->orig_address, (void*)pbe->address);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#405: FILE: kernel/power/swsusp.c:316:
+					pbe, (void*)pbe->orig_address, (void*)pbe->address);

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#408: FILE: kernel/power/swsusp.c:319:
+		p ++;
 		  ^

ERROR:INLINE_LOCATION: inline keyword should sit between storage class and type
#449: FILE: kernel/power/swsusp.c:380:
+static void inline mod_printk_progress(int i)

The inline keyword should sit between storage class and type.

For example, the following segment::

  inline static int example_function(void)
  {
          ...
  }

should be::

  static inline int example_function(void)
  {
          ...
  }

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#451: FILE: kernel/power/swsusp.c:382:
+	if (mod_progress == 0) mod_progress = 1;

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#452: FILE: kernel/power/swsusp.c:383:
+	if (!(i%100))
 	       ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#453: FILE: kernel/power/swsusp.c:384:
+		printk( "\b\b\b\b%3d%%", i / mod_progress );

ERROR:SPACING: space prohibited after that open parenthesis '('
#453: FILE: kernel/power/swsusp.c:384:
+		printk( "\b\b\b\b%3d%%", i / mod_progress );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#453: FILE: kernel/power/swsusp.c:384:
+		printk( "\b\b\b\b%3d%%", i / mod_progress );

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'write_one_pbe', this function's name, in a string
#462: FILE: kernel/power/swsusp.c:393:
+	pr_debug("write_one_pbe: %p, o{%p} c{%p} %d ",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#463: FILE: kernel/power/swsusp.c:394:
+	pr_debug("write_one_pbe: %p, o{%p} c{%p} %d ",
+			p, (void *)p->orig_address, (void *)p->address, cur);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#465: FILE: kernel/power/swsusp.c:396:
+	if (error) return error;

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#472: FILE: kernel/power/swsusp.c:403:
+static int bio_read_page(pgoff_t page_off, void * page);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'read_one_pbe', this function's name, in a string
#480: FILE: kernel/power/swsusp.c:411:
+	pr_debug("read_one_pbe: %p, o{%p} c{%p} %lu\n",

ERROR:TRAILING_WHITESPACE: trailing whitespace
#481: FILE: kernel/power/swsusp.c:412:
+^I^I^Ip, (void *)p->orig_address, data, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#481: FILE: kernel/power/swsusp.c:412:
+	pr_debug("read_one_pbe: %p, o{%p} c{%p} %lu\n",
+			p, (void *)p->orig_address, data, 

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#485: FILE: kernel/power/swsusp.c:416:
+	if (error) return error;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#506: FILE: kernel/power/swsusp.c:430:
+^I$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#515: FILE: kernel/power/swsusp.c:433:
+	printk( "Writing data to swap (%d pages)...     ", nr_copy_pages);

ERROR:SPACING: space prohibited after that open parenthesis '('
#515: FILE: kernel/power/swsusp.c:433:
+	printk( "Writing data to swap (%d pages)...     ", nr_copy_pages);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#517: FILE: kernel/power/swsusp.c:435:
+		BUG_ON(pos->orig_address == 0);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#518: FILE: kernel/power/swsusp.c:436:
+		error = write_one_pbe(pos, (void*)pos->address, index);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#519: FILE: kernel/power/swsusp.c:437:
+		if (error) break;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#548: FILE: kernel/power/swsusp.c:512:
+^I^Iif (error) { $

WARNING:BRACES: braces {} are not necessary for single statement blocks
#548: FILE: kernel/power/swsusp.c:512:
+		if (error) { 
+			break;
+		}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#552: FILE: kernel/power/swsusp.c:516:
+^I} $

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#573: FILE: kernel/power/swsusp.c:642:
 }
+struct partial_device_tree *swsusp_dev_tree = NULL;

ERROR:GLOBAL_INITIALISERS: do not initialise globals to NULL
#573: FILE: kernel/power/swsusp.c:642:
+struct partial_device_tree *swsusp_dev_tree = NULL;

Global variables should not be initialized explicitly to
0 (or NULL, false, etc.).  Your compiler (or rather your
loader, which is responsible for zeroing out the relevant
sections) automatically does it for you.

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#587: FILE: kernel/power/swsusp.c:656:
+	struct class * class = NULL;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#594: FILE: kernel/power/swsusp.c:663:
+^I/* Now check for graphics class devices, so we can $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#595: FILE: kernel/power/swsusp.c:664:
+	 * keep the display on while suspending */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#598: FILE: kernel/power/swsusp.c:667:
+		struct class_device * class_dev;

WARNING:LINE_SPACING: Missing a blank line after declarations
#599: FILE: kernel/power/swsusp.c:668:
+		struct class_device * class_dev;
+		list_for_each_entry(class_dev, &class->children, node)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#613: FILE: kernel/power/swsusp.c:682:
+^Ispin_lock_irq(&zone->lru_lock); $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#615: FILE: kernel/power/swsusp.c:684:
+		struct list_head * entry = zone->inactive_list.prev;

WARNING:LINE_SPACING: Missing a blank line after declarations
#616: FILE: kernel/power/swsusp.c:685:
+		struct list_head * entry = zone->inactive_list.prev;
+		while (entry != &zone->inactive_list) {

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#618: FILE: kernel/power/swsusp.c:687:
+				struct page * page = list_entry(entry, struct page, lru);

WARNING:LINE_SPACING: Missing a blank line after declarations
#619: FILE: kernel/power/swsusp.c:688:
+				struct page * page = list_entry(entry, struct page, lru);
+				inactive += fun(page, p);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#620: FILE: kernel/power/swsusp.c:689:
+^I^I^I} else { $

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#621: FILE: kernel/power/swsusp.c:690:
+				inactive ++;
 				         ^

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#627: FILE: kernel/power/swsusp.c:696:
+		struct list_head * entry = zone->active_list.prev;

WARNING:LINE_SPACING: Missing a blank line after declarations
#628: FILE: kernel/power/swsusp.c:697:
+		struct list_head * entry = zone->active_list.prev;
+		while (entry != &zone->active_list) {

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#630: FILE: kernel/power/swsusp.c:699:
+				struct page * page = list_entry(entry, struct page, lru);

WARNING:LINE_SPACING: Missing a blank line after declarations
#631: FILE: kernel/power/swsusp.c:700:
+				struct page * page = list_entry(entry, struct page, lru);
+				active += fun(page, p);

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#633: FILE: kernel/power/swsusp.c:702:
+				active ++;
 				       ^

ERROR:GLOBAL_INITIALISERS: do not initialise globals to 0
#644: FILE: kernel/power/swsusp.c:713:
+int swsusp_pagecache = 0;

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#653: FILE: kernel/power/swsusp.c:722:
+static suspend_pagedir_t *pagedir_cache = NULL;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#654: FILE: kernel/power/swsusp.c:723:
+static int nr_copy_page_caches = 0;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#660: FILE: kernel/power/swsusp.c:729:
+	BUG_ON(PageReserved(page) && PageNosave(page));

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#662: FILE: kernel/power/swsusp.c:731:
+		printk("not valid page\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#666: FILE: kernel/power/swsusp.c:735:
+		printk("nosave\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#670: FILE: kernel/power/swsusp.c:739:
+		printk("[nosave]\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#674: FILE: kernel/power/swsusp.c:743:
+		printk("slab\n");

WARNING:LINE_SPACING: Missing a blank line after declarations
#679: FILE: kernel/power/swsusp.c:748:
+		struct pbe *p = find_pbe_by_index(pagedir_cache, nr_copy_page_caches);
+		BUG_ON(p == NULL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#679: FILE: kernel/power/swsusp.c:748:
+		BUG_ON(p == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!p"
#679: FILE: kernel/power/swsusp.c:748:
+		BUG_ON(p == NULL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#681: FILE: kernel/power/swsusp.c:750:
+		BUG_ON(p->address == 0);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#683: FILE: kernel/power/swsusp.c:752:
+		/*pr_debug("setup_page_caches: cur %p, o{%p}, d{%p}, nr %u\n",
+				(void*)p, (void*)p->orig_address,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#684: FILE: kernel/power/swsusp.c:753:
+				(void*)p->address, nr_copy_page_caches);*/

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#685: FILE: kernel/power/swsusp.c:754:
+		nr_copy_page_caches ++;
 		                    ^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#689: FILE: kernel/power/swsusp.c:758:
+	return (1);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'x' may be better as '(x)' to avoid precedence issues
#699: FILE: kernel/power/swsusp.c:768:
+#define pointer2num(x)  ((x - 0xc0000000) >> 12)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'x' may be better as '(x)' to avoid precedence issues
#700: FILE: kernel/power/swsusp.c:769:
+#define num2pointer(x)  ((x << 12) + 0xc0000000)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#702: FILE: kernel/power/swsusp.c:771:
+static inline void collide_set_bit(unsigned char *bitmap, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#703: FILE: kernel/power/swsusp.c:772:
+static inline void collide_set_bit(unsigned char *bitmap, 
+		unsigned long bitnum)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#705: FILE: kernel/power/swsusp.c:774:
+^Ibitnum = pointer2num(bitnum); $

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#706: FILE: kernel/power/swsusp.c:775:
+	bitmap[bitnum / 8] |= (1 << (bitnum%8));
 	                                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#709: FILE: kernel/power/swsusp.c:778:
+static inline int collide_is_bit_set(unsigned char *bitmap, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#710: FILE: kernel/power/swsusp.c:779:
+static inline int collide_is_bit_set(unsigned char *bitmap, 
+		unsigned long bitnum)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#711: FILE: kernel/power/swsusp.c:780:
+{               $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#712: FILE: kernel/power/swsusp.c:781:
+^Ibitnum = pointer2num(bitnum); $

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#713: FILE: kernel/power/swsusp.c:782:
+	return !!(bitmap[bitnum / 8] & (1 << (bitnum%8)));
 	                                            ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#721: FILE: kernel/power/swsusp.c:790:
+/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#722: FILE: kernel/power/swsusp.c:791:
+ * four pages are enough for bitmap $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#727: FILE: kernel/power/swsusp.c:796:
+^Iunsigned char *bitmap = $

WARNING:BRACES: braces {} are not necessary for single statement blocks
#731: FILE: kernel/power/swsusp.c:800:
+	if (bitmap == NULL) {
+		return NULL;
+	}

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!bitmap"
#731: FILE: kernel/power/swsusp.c:800:
+	if (bitmap == NULL) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#737: FILE: kernel/power/swsusp.c:806:
+	BUG_ON(collide_is_bit_set(bitmap, (unsigned long)bitmap) == 1);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#739: FILE: kernel/power/swsusp.c:808:
+	BUG_ON(collide_is_bit_set(bitmap, (unsigned long)bitmap) == 0);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#740: FILE: kernel/power/swsusp.c:809:
+^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "pgdir"
#741: FILE: kernel/power/swsusp.c:810:
+	while (pgdir != NULL) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#743: FILE: kernel/power/swsusp.c:812:
+		unsigned long nums;
+		next = (struct pbe*)pgdir->dummy.val;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#743: FILE: kernel/power/swsusp.c:812:
+		next = (struct pbe*)pgdir->dummy.val;

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#747: FILE: kernel/power/swsusp.c:816:
+			pgdir ++;
 			      ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#754: FILE: kernel/power/swsusp.c:823:
+}
+static void **eaten_memory = NULL;

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#754: FILE: kernel/power/swsusp.c:823:
+static void **eaten_memory = NULL;

ERROR:POINTER_LOCATION: "(foo**)" should be "(foo **)"
#763: FILE: kernel/power/swsusp.c:832:
+			eaten_memory = (void**)addr;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#767: FILE: kernel/power/swsusp.c:836:
+		addr = (void*)__get_free_pages(GFP_ATOMIC | __GFP_COLD, 0);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#768: FILE: kernel/power/swsusp.c:837:
+^I^Iif (!addr) $

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#774: FILE: kernel/power/swsusp.c:843:
+}
+/*

ERROR:TRAILING_WHITESPACE: trailing whitespace
#785: FILE: kernel/power/swsusp.c:854:
+static suspend_pagedir_t * alloc_one_pagedir(suspend_pagedir_t *prev, $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#785: FILE: kernel/power/swsusp.c:854:
+static suspend_pagedir_t * alloc_one_pagedir(suspend_pagedir_t *prev, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#786: FILE: kernel/power/swsusp.c:855:
+static suspend_pagedir_t * alloc_one_pagedir(suspend_pagedir_t *prev, 
+		unsigned char *collide)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#793: FILE: kernel/power/swsusp.c:862:
+^I/*pr_debug("pgdir: %p, %p, %d\n", $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#794: FILE: kernel/power/swsusp.c:863:
+	/*pr_debug("pgdir: %p, %p, %d\n", 
+			pgdir, prev, sizeof(suspend_pagedir_t)); */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#794: FILE: kernel/power/swsusp.c:863:
+			pgdir, prev, sizeof(suspend_pagedir_t)); */

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#800: FILE: kernel/power/swsusp.c:869:
+			prev[i].dummy.val= (unsigned long)pgdir;
 			                 ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#810: FILE: kernel/power/swsusp.c:879:
+	int diff = 0, ret = 0;
+	do {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#820: FILE: kernel/power/swsusp.c:889:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#821: FILE: kernel/power/swsusp.c:890:
+/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#822: FILE: kernel/power/swsusp.c:891:
+ * alloc_pagedir $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#830: FILE: kernel/power/swsusp.c:899:
+static int alloc_pagedir(struct pbe **pbe, int pbe_nums, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#831: FILE: kernel/power/swsusp.c:900:
+static int alloc_pagedir(struct pbe **pbe, int pbe_nums, 
+		unsigned char *collide, int page_nums)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#839: FILE: kernel/power/swsusp.c:908:
+^Ielse $

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'alloc_pagedir', this function's name, in a string
#842: FILE: kernel/power/swsusp.c:911:
+	pr_debug("alloc_pagedir: %d, %d\n", pbe_nums, after_alloc);

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#863: FILE: kernel/power/swsusp.c:932:
+static char *page_cache_buf = NULL;

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#873: FILE: kernel/power/swsusp.c:942:
+}
+static int free_pagecache_buf(void)

WARNING:BRACES: braces {} are not necessary for single statement blocks
#887: FILE: kernel/power/swsusp.c:956:
+	if (swsusp_pagecache == 0) {
+		goto end;
+	}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#890: FILE: kernel/power/swsusp.c:959:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#898: FILE: kernel/power/swsusp.c:967:
+^Iprintk( "Reading PageCaches from swap (%d pages)...     ", $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#898: FILE: kernel/power/swsusp.c:967:
+	printk( "Reading PageCaches from swap (%d pages)...     ", 

ERROR:SPACING: space prohibited after that open parenthesis '('
#898: FILE: kernel/power/swsusp.c:967:
+	printk( "Reading PageCaches from swap (%d pages)...     ", 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#899: FILE: kernel/power/swsusp.c:968:
+	printk( "Reading PageCaches from swap (%d pages)...     ", 
+			nr_copy_page_caches);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#900: FILE: kernel/power/swsusp.c:969:
+^Ipbe_for_each_safe(pos, next, index, nr_copy_page_caches, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#901: FILE: kernel/power/swsusp.c:970:
+	pbe_for_each_safe(pos, next, index, nr_copy_page_caches, 
+			pagedir_cache) {

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#905: FILE: kernel/power/swsusp.c:974:
+		if (error) break;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#906: FILE: kernel/power/swsusp.c:975:
+		memcpy((void*)pos->address, page_cache_buf, PAGE_SIZE);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#911: FILE: kernel/power/swsusp.c:980:
+	printk("\b\b\b\bdone\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#930: FILE: kernel/power/swsusp.c:999:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#933: FILE: kernel/power/swsusp.c:1002:
+^Iprintk( "Writing PageCaches to swap (%d pages)...     ", $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#933: FILE: kernel/power/swsusp.c:1002:
+	printk( "Writing PageCaches to swap (%d pages)...     ", 

ERROR:SPACING: space prohibited after that open parenthesis '('
#933: FILE: kernel/power/swsusp.c:1002:
+	printk( "Writing PageCaches to swap (%d pages)...     ", 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#934: FILE: kernel/power/swsusp.c:1003:
+	printk( "Writing PageCaches to swap (%d pages)...     ", 
+			nr_copy_page_caches);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#936: FILE: kernel/power/swsusp.c:1005:
+	pbe_for_each_safe(pos, next, index, nr_copy_page_caches,
+			pagedir_cache) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#937: FILE: kernel/power/swsusp.c:1006:
+		memcpy(page_cache_buf, (void*)pos->address, PAGE_SIZE);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#939: FILE: kernel/power/swsusp.c:1008:
+		if (error) break;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#941: FILE: kernel/power/swsusp.c:1010:
+	printk("\b\b\b\bdone\n");

WARNING:BRACES: braces {} are not necessary for single statement blocks
#952: FILE: kernel/power/swsusp.c:1021:
+		if (!is_highmem(zone)) {
+			count_page_caches(zone, 1);
+		}

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#968: FILE: kernel/power/swsusp.c:1037:
+	if (swsusp_pagecache == 0 || resume == 1) return 0;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#971: FILE: kernel/power/swsusp.c:1040:
+		ClearPagePcs(mem_map+i);
 		                    ^

WARNING:BRACES: braces {} are not necessary for single statement blocks
#976: FILE: kernel/power/swsusp.c:1045:
+		if (!is_highmem(zone)) {
+			nr_copy_page_caches += count_page_caches(zone, 0);
+		}

ERROR:INLINE_LOCATION: inline keyword should sit between storage class and type
#985: FILE: kernel/power/swsusp.c:1054:
+static int inline swsusp_need_pages(int resume)

WARNING:BRACES: braces {} are not necessary for single statement blocks
#994: FILE: kernel/power/swsusp.c:1063:
+	if (!resume) {
+		count_data_pages();
+	}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#998: FILE: kernel/power/swsusp.c:1067:
+^Iprintk("swsusp: need %d + %d pages, freed %d pages ...     ", $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#998: FILE: kernel/power/swsusp.c:1067:
+	printk("swsusp: need %d + %d pages, freed %d pages ...     ", 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#999: FILE: kernel/power/swsusp.c:1068:
+^I^I^Inr_copy_pages + PAGES_FOR_IO, page_caches_recal(resume), $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#999: FILE: kernel/power/swsusp.c:1068:
+	printk("swsusp: need %d + %d pages, freed %d pages ...     ", 
+			nr_copy_pages + PAGES_FOR_IO, page_caches_recal(resume), 

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1002: FILE: kernel/power/swsusp.c:1071:
+		printk(" done\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1008: FILE: kernel/power/swsusp.c:1077:
+^I^I$

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1009: FILE: kernel/power/swsusp.c:1078:
+		if (diff < 0) break;

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#1010: FILE: kernel/power/swsusp.c:1079:
+		if (shrink_all_memory(diff * 2) == 0) {
[...]
+		} else {
[...]

ERROR:SPACING: space prohibited before that '--' (ctx:WxO)
#1011: FILE: kernel/power/swsusp.c:1080:
+			retry --;
 			      ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#1016: FILE: kernel/power/swsusp.c:1085:
+		schedule_timeout(HZ/5);
 		                   ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1021: FILE: kernel/power/swsusp.c:1090:
+		printk("\b\b\b\b\b%5d", diff);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1023: FILE: kernel/power/swsusp.c:1092:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1024: FILE: kernel/power/swsusp.c:1093:
+^Iprintk("swsusp: need %d + %d pages, freed %d pages ... ", $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1024: FILE: kernel/power/swsusp.c:1093:
+	printk("swsusp: need %d + %d pages, freed %d pages ... ", 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1025: FILE: kernel/power/swsusp.c:1094:
+^I^I^Inr_copy_pages + PAGES_FOR_IO, page_caches_recal(resume), $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1025: FILE: kernel/power/swsusp.c:1094:
+	printk("swsusp: need %d + %d pages, freed %d pages ... ", 
+			nr_copy_pages + PAGES_FOR_IO, page_caches_recal(resume), 

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1029: FILE: kernel/power/swsusp.c:1098:
+		printk("  failed\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1031: FILE: kernel/power/swsusp.c:1100:
+^I} $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1032: FILE: kernel/power/swsusp.c:1101:
+	printk("   done\n");

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1041: FILE: kernel/power/swsusp.c:1110:
+	if ((error = setup_suspend_device_tree())) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1041: FILE: kernel/power/swsusp.c:1110:
+	if ((error = setup_suspend_device_tree())) {
+		return error;
+	}

WARNING:TYPO_SPELLING: 'exept' may be misspelled - perhaps 'except'?
#1048: FILE: kernel/power/swsusp.c:1117:
+	/* exept swap device and parent from the tree */
 	   ^^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1049: FILE: kernel/power/swsusp.c:1118:
+	if ((error = swsusp_swap_check(swsusp_dev_tree))) {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1055: FILE: kernel/power/swsusp.c:1124:
+	BUG_ON(irqs_disabled());

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1062: FILE: kernel/power/swsusp.c:1131:
+		if ((error = alloc_pagecache_buf())) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1062: FILE: kernel/power/swsusp.c:1131:
+		if ((error = alloc_pagecache_buf())) {
+			swsusp_pagecache = 0;
+		}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1069: FILE: kernel/power/swsusp.c:1138:
+^I^Ielse $

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1077: FILE: kernel/power/swsusp.c:1146:
+		printk("swsusp_alloc failed, %d\n", error);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1084: FILE: kernel/power/swsusp.c:1153:
+	printk("swsusp: need to copy %u pages, %u page_caches\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1085: FILE: kernel/power/swsusp.c:1154:
+	printk("swsusp: need to copy %u pages, %u page_caches\n",
+			nr_copy_pages, nr_copy_page_caches);

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1089: FILE: kernel/power/swsusp.c:1158:
+		pr_debug("after setup_pagedir_pbe \n");

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1109: FILE: kernel/power/swsusp.c:1205:
+		BUG_ON(zone->nr_inactive == 0 && zone->nr_active == 0);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1132: FILE: kernel/power/swsusp.c:1240:
+^I^I^I^Istruct pbe * pbe = find_pbe_by_index(pagedir_nosave, $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1132: FILE: kernel/power/swsusp.c:1240:
+				struct pbe * pbe = find_pbe_by_index(pagedir_nosave, 

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1134: FILE: kernel/power/swsusp.c:1242:
+				BUG_ON(pbe == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pbe"
#1134: FILE: kernel/power/swsusp.c:1242:
+				BUG_ON(pbe == NULL);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1135: FILE: kernel/power/swsusp.c:1243:
+^I^I^I^Iif (pbe->address == 0) $

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'copy_data_pages', this function's name, in a string
#1136: FILE: kernel/power/swsusp.c:1244:
+					panic("copy_data_pages: %d copied\n", pages_copied);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1139: FILE: kernel/power/swsusp.c:1247:
+				BUG_ON(pbe->orig_address == 0);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1320: FILE: kernel/power/swsusp.c:1331:
+		printk("suspend: Allocating pagedir failed.\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1327: FILE: kernel/power/swsusp.c:1337:
+		printk("suspend: Allocating image pages failed.\n");

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1341: FILE: kernel/power/swsusp.c:1348:
+	BUG_ON(!irqs_disabled());

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1392: FILE: kernel/power/swsusp.c:1404:
+	BUG_ON(irqs_disabled());

WARNING:MEMORY_BARRIER: memory barrier without comment
#1396: FILE: kernel/power/swsusp.c:1408:
+	mb();

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1412: FILE: kernel/power/swsusp.c:1424:
+	BUG_ON(!irqs_disabled());

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1414: FILE: kernel/power/swsusp.c:1426:
+^I$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1440: FILE: kernel/power/swsusp.c:1450:
+	BUG_ON(irqs_disabled());

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1449: FILE: kernel/power/swsusp.c:1459:
+^I$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1561: FILE: kernel/power/swsusp.c:1541:
+static int bio_read_page(pgoff_t page_off, void * page)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1567: FILE: kernel/power/swsusp.c:1546:
+static int bio_write_page(pgoff_t page_off, void * page)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1583: FILE: kernel/power/swsusp.c:1617:
 
+

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#1587: FILE: kernel/power/swsusp.c:1621:
+	static int eaten_i = 0;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1589: FILE: kernel/power/swsusp.c:1623:
+	printk("\b%c", eaten_progess[eaten_i]);

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#1590: FILE: kernel/power/swsusp.c:1624:
+	eaten_i ++;
 	        ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1591: FILE: kernel/power/swsusp.c:1625:
+	if (eaten_i > 3) eaten_i = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1598: FILE: kernel/power/swsusp.c:1632:
+^Ipr_debug("check_one_pbe: %p %lu o{%p} ", $

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'check_one_pbe', this function's name, in a string
#1598: FILE: kernel/power/swsusp.c:1632:
+	pr_debug("check_one_pbe: %p %lu o{%p} ", 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1599: FILE: kernel/power/swsusp.c:1633:
+	pr_debug("check_one_pbe: %p %lu o{%p} ", 
+			p, p->swap_address.val, (void*)p->orig_address);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1599: FILE: kernel/power/swsusp.c:1633:
+			p, p->swap_address.val, (void*)p->orig_address);

ERROR:SPACING: space required before the open parenthesis '('
#1601: FILE: kernel/power/swsusp.c:1635:
+	if(!addr)

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1603: FILE: kernel/power/swsusp.c:1637:
+	pr_debug("c{%p} done\n", (void*)addr);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1609: FILE: kernel/power/swsusp.c:1643:
+static void __init swsusp_copy_pagedir(suspend_pagedir_t *d_pgdir, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1610: FILE: kernel/power/swsusp.c:1644:
+static void __init swsusp_copy_pagedir(suspend_pagedir_t *d_pgdir, 
+		suspend_pagedir_t *s_pgdir)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "s_pgdir"
#1614: FILE: kernel/power/swsusp.c:1648:
+	while (s_pgdir != NULL) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#1617: FILE: kernel/power/swsusp.c:1651:
+		suspend_pagedir_t *d_next = (suspend_pagedir_t *)d_pgdir->dummy.val;
+		for (i = 0; i < ONE_PAGE_PBE_NUM; i++) {

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#1621: FILE: kernel/power/swsusp.c:1655:
+			s_pgdir ++; d_pgdir ++;
 			        ^

ERROR:SPACING: space prohibited before that '++' (ctx:WxO)
#1621: FILE: kernel/power/swsusp.c:1655:
+			s_pgdir ++; d_pgdir ++;
 			                    ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1627: FILE: kernel/power/swsusp.c:1661:
+}
+/*

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1638: FILE: kernel/power/swsusp.c:1672:
+^I$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1639: FILE: kernel/power/swsusp.c:1673:
+	BUG_ON(bitmap == NULL);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!bitmap"
#1639: FILE: kernel/power/swsusp.c:1673:
+	BUG_ON(bitmap == NULL);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1641: FILE: kernel/power/swsusp.c:1675:
+	printk("Relocating pagedir ... ");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1642: FILE: kernel/power/swsusp.c:1676:
+^Ierror = alloc_pagedir(&addr, nr_copy_pages, bitmap, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1643: FILE: kernel/power/swsusp.c:1677:
+	error = alloc_pagedir(&addr, nr_copy_pages, bitmap, 
+			swsusp_info.pagedir_pages);

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1644: FILE: kernel/power/swsusp.c:1678:
+	if (error < 0) {
+		return error;
+	}

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1653: FILE: kernel/power/swsusp.c:1687:
+		BUG_ON(error);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1666: FILE: kernel/power/swsusp.c:1700:
+	printk("     done\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1667: FILE: kernel/power/swsusp.c:1701:
+^I^I$

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1693: FILE: kernel/power/swsusp.c:1716:
+	if ((error = swsusp_check_memory(1))) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1693: FILE: kernel/power/swsusp.c:1716:
+	if ((error = swsusp_check_memory(1))) {
 		return error;
+	}

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1697: FILE: kernel/power/swsusp.c:1720:
+	if ((error = check_pagedir())) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1697: FILE: kernel/power/swsusp.c:1720:
+	if ((error = check_pagedir())) {
+		return -ENOMEM;
+	}

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1710: FILE: kernel/power/swsusp.c:1728:
+		error = read_one_pbe(pos, (void*)pos->address, index);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1711: FILE: kernel/power/swsusp.c:1729:
+		if (error) break;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1715: FILE: kernel/power/swsusp.c:1731:
+	printk(" %d done.\n", index);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1736: FILE: kernel/power/swsusp.c:1745:
+^Ipr_debug("read_one_pagedir: %p, %d, %lu, %p\n", $

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'read_one_pagedir', this function's name, in a string
#1736: FILE: kernel/power/swsusp.c:1745:
+	pr_debug("read_one_pagedir: %p, %d, %lu, %p\n", 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1737: FILE: kernel/power/swsusp.c:1746:
+	pr_debug("read_one_pagedir: %p, %d, %lu, %p\n", 
+			pgdir, i, offset, (void*)next);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#1737: FILE: kernel/power/swsusp.c:1746:
+			pgdir, i, offset, (void*)next);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1738: FILE: kernel/power/swsusp.c:1747:
+	if ((error = bio_read_page(offset, (void *)pgdir))) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1738: FILE: kernel/power/swsusp.c:1747:
+	if ((error = bio_read_page(offset, (void *)pgdir))) {
+		return error;
+	}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1757: FILE: kernel/power/swsusp.c:1756:
+ * reading pagedir from swap device $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1764: FILE: kernel/power/swsusp.c:1763:
+^I$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1769: FILE: kernel/power/swsusp.c:1768:
+	printk("pmdisk: Reading pagedir (%d Pages)\n",n);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1769: FILE: kernel/power/swsusp.c:1768:
+	printk("pmdisk: Reading pagedir (%d Pages)\n",n);
 	                                             ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1772: FILE: kernel/power/swsusp.c:1771:
+		if (error) break;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1775: FILE: kernel/power/swsusp.c:1774:
+	BUG_ON(i != n);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1776: FILE: kernel/power/swsusp.c:1775:
+^Iif (error)^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1778: FILE: kernel/power/swsusp.c:1777:
+^I$

WARNING:DUPLICATED_SYSCTL_CONST: duplicated sysctl range checking value 'zero', consider using the shared one in include/linux/sysctl.h
#1846: FILE: kernel/sysctl.c:808:
+		.extra1		= &zero,

Commit d91bff3011cf ("proc/sysctl: add shared variables for range
check") added some shared const variables to be used instead of a local
copy in each source file.

Consider replacing the sysctl range checking value with the shared
one in include/linux/sysctl.h.  The following conversion scheme may
be used::

  &zero     ->  SYSCTL_ZERO
  &one      ->  SYSCTL_ONE
  &int_max  ->  SYSCTL_INT_MAX

See:

  1. https://lore.kernel.org/lkml/20190430180111.10688-1-mcroce@redhat.com/
  2. https://lore.kernel.org/lkml/20190531131422.14970-1-mcroce@redhat.com/

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000227059.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 142 errors, 92 warnings, 56 checks, 1728 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000227059.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
