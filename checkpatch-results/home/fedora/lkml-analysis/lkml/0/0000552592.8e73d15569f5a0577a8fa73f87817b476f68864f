WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#39: FILE: drivers/block/loop.c:122:
+#define ID printk(KERN_ERR "crc: info about (%s, %d, %d) ", kdevname(lo->lo_device), real_block, blksize);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#39: FILE: drivers/block/loop.c:122:
+#define ID printk(KERN_ERR "crc: info about (%s, %d, %d) ", kdevname(lo->lo_device), real_block, blksize);

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#39: FILE: drivers/block/loop.c:122:
+#define ID printk(KERN_ERR "crc: info about (%s, %d, %d) ", kdevname(lo->lo_device), real_block, blksize);

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

CHECK:LINE_SPACING: Please don't use multiple blank lines
#41: FILE: drivers/block/loop.c:124:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#43: FILE: drivers/block/loop.c:126:
+static int transfer_crc(struct loop_device *lo, int cmd, char *raw_buf,
+		  char *loop_buf, int size, int real_block)

WARNING:TYPO_SPELLING: 'auxilary' may be misspelled - perhaps 'auxiliary'?
#46: FILE: drivers/block/loop.c:129:
+	int blksize = 1024, nsect;	/* Size of block on auxilary media */
 	                          	                    ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LINE_SPACING: Missing a blank line after declarations
#49: FILE: drivers/block/loop.c:132:
+	u32 *data;
+	nsect = blksize / 4;

WARNING:LONG_LINE_STRING: line length of 113 exceeds 100 columns
#52: FILE: drivers/block/loop.c:135:
+		ID; printk( "reading from not-yet-setup crc device can result in armagedon. Dont try again.\n" );

A string starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#52: FILE: drivers/block/loop.c:135:
+		ID; printk( "reading from not-yet-setup crc device can result in armagedon. Dont try again.\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#52: FILE: drivers/block/loop.c:135:
+		ID; printk( "reading from not-yet-setup crc device can result in armagedon. Dont try again.\n" );

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close parenthesis ')'
#52: FILE: drivers/block/loop.c:135:
+		ID; printk( "reading from not-yet-setup crc device can result in armagedon. Dont try again.\n" );

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#55: FILE: drivers/block/loop.c:138:
+	bh = getblk(lo->second_device, 1+real_block/nsect, blksize);
 	                                ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#55: FILE: drivers/block/loop.c:138:
+	bh = getblk(lo->second_device, 1+real_block/nsect, blksize);
 	                                           ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#57: FILE: drivers/block/loop.c:140:
+		ID; printk( "getblk returned NULL.\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#57: FILE: drivers/block/loop.c:140:
+		ID; printk( "getblk returned NULL.\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#57: FILE: drivers/block/loop.c:140:
+		ID; printk( "getblk returned NULL.\n" );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#64: FILE: drivers/block/loop.c:147:
+			ID; printk(  "could not read block with CRC\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#64: FILE: drivers/block/loop.c:147:
+			ID; printk(  "could not read block with CRC\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#64: FILE: drivers/block/loop.c:147:
+			ID; printk(  "could not read block with CRC\n" );

CHECK:SPACING: No space is necessary after a cast
#69: FILE: drivers/block/loop.c:152:
+	data = (u32 *) bh->b_data;

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#76: FILE: drivers/block/loop.c:159:
+		if (le32_to_cpu(data[real_block%nsect]) != cksum) {
 		                               ^

WARNING:LONG_LINE: line length of 109 exceeds 100 columns
#78: FILE: drivers/block/loop.c:161:
+				ID; printk( "wrong checksum reading, is %x, should be %x\n", cksum, 0x1234 );

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#78: FILE: drivers/block/loop.c:161:
+				ID; printk( "wrong checksum reading, is %x, should be %x\n", cksum, 0x1234 );

ERROR:SPACING: space prohibited after that open parenthesis '('
#78: FILE: drivers/block/loop.c:161:
+				ID; printk( "wrong checksum reading, is %x, should be %x\n", cksum, 0x1234 );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#78: FILE: drivers/block/loop.c:161:
+				ID; printk( "wrong checksum reading, is %x, should be %x\n", cksum, 0x1234 );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#80: FILE: drivers/block/loop.c:163:
+^I^I^I} else { $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#81: FILE: drivers/block/loop.c:164:
+				ID; printk( "wrong checksum repairing, setting to %x\n", cksum );

ERROR:SPACING: space prohibited after that open parenthesis '('
#81: FILE: drivers/block/loop.c:164:
+				ID; printk( "wrong checksum repairing, setting to %x\n", cksum );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#81: FILE: drivers/block/loop.c:164:
+				ID; printk( "wrong checksum repairing, setting to %x\n", cksum );

WARNING:INDENTED_LABEL: labels should not be indented
#86: FILE: drivers/block/loop.c:169:
+	repair:

CHECK:SPACING: spaces preferred around that '%' (ctx:VxV)
#87: FILE: drivers/block/loop.c:170:
+		data[real_block%nsect] = cpu_to_le32(cksum);
 		               ^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#98: FILE: drivers/block/loop.c:181:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#106: FILE: drivers/block/loop.c:189:
+	printk( "Entering ioctl_crc\n" );

ERROR:SPACING: space prohibited after that open parenthesis '('
#106: FILE: drivers/block/loop.c:189:
+	printk( "Entering ioctl_crc\n" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#106: FILE: drivers/block/loop.c:189:
+	printk( "Entering ioctl_crc\n" );

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ioctl_crc', this function's name, in a string
#106: FILE: drivers/block/loop.c:189:
+	printk( "Entering ioctl_crc\n" );

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#118: FILE: drivers/block/loop.c:201:
+		printk(KERN_ERR "ioctl_crc: NULL inode?!?\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'ioctl_crc', this function's name, in a string
#118: FILE: drivers/block/loop.c:201:
+		printk(KERN_ERR "ioctl_crc: NULL inode?!?\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#125: FILE: drivers/block/loop.c:208:
+		printk( "loop_crc: Registered device %x\n", lo->second_device );

ERROR:SPACING: space prohibited after that open parenthesis '('
#125: FILE: drivers/block/loop.c:208:
+		printk( "loop_crc: Registered device %x\n", lo->second_device );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#125: FILE: drivers/block/loop.c:208:
+		printk( "loop_crc: Registered device %x\n", lo->second_device );

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#127: FILE: drivers/block/loop.c:210:
+		return error;
+	} else {

WARNING:INDENTED_LABEL: labels should not be indented
#128: FILE: drivers/block/loop.c:211:
+	out:

ERROR:TRAILING_WHITESPACE: trailing whitespace
#141: FILE: drivers/block/loop.c:241:
+struct loop_func_table crc_funcs = { $

WARNING:INDENTED_LABEL: labels should not be indented
#142: FILE: drivers/block/loop.c:242:
+	number: LO_CRYPT_CRC,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#143: FILE: drivers/block/loop.c:243:
+	transfer: transfer_crc,
 	        ^

WARNING:INDENTED_LABEL: labels should not be indented
#143: FILE: drivers/block/loop.c:243:
+	transfer: transfer_crc,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#144: FILE: drivers/block/loop.c:244:
+	init: none_status,
 	    ^

WARNING:INDENTED_LABEL: labels should not be indented
#144: FILE: drivers/block/loop.c:244:
+	init: none_status,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#145: FILE: drivers/block/loop.c:245:
+	ioctl: ioctl_crc
 	     ^

WARNING:INDENTED_LABEL: labels should not be indented
#145: FILE: drivers/block/loop.c:245:
+	ioctl: ioctl_crc

ERROR:TRAILING_WHITESPACE: trailing whitespace
#146: FILE: drivers/block/loop.c:246:
+}; ^I$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#146: FILE: drivers/block/loop.c:246:
+}; ^I$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000552592.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 20 errors, 25 warnings, 8 checks, 155 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000552592.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
