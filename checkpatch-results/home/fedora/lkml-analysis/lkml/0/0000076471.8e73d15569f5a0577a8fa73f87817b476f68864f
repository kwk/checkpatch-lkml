WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#40: FILE: /drivers/net/myri10ge/myri10ge.c:1:
+/*************************************************************************

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#103: FILE: /drivers/net/myri10ge/myri10ge.c:64:
+#include <asm/io.h>

WARNING:INCLUDE_LINUX: Use #include <linux/pci.h> instead of <asm/pci.h>
#104: FILE: /drivers/net/myri10ge/myri10ge.c:65:
+#include <asm/pci.h>

WARNING:INCLUDE_LINUX: Use #include <linux/processor.h> instead of <asm/processor.h>
#105: FILE: /drivers/net/myri10ge/myri10ge.c:66:
+#include <asm/processor.h>

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#191: FILE: /drivers/net/myri10ge/myri10ge.c:152:
+	volatile u8 __iomem *sram;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#195: FILE: /drivers/net/myri10ge/myri10ge.c:156:
+	volatile u32 __iomem *irq_claim;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#196: FILE: /drivers/net/myri10ge/myri10ge.c:157:
+	volatile u32 __iomem *irq_deassert;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#207: FILE: /drivers/net/myri10ge/myri10ge.c:168:
+	volatile u32 __iomem *intr_coal_delay_ptr;

ERROR:INITIALISED_STATIC: do not initialise statics to NULL
#233: FILE: /drivers/net/myri10ge/myri10ge.c:194:
+static char *myri10ge_fw_name = NULL;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#243: FILE: /drivers/net/myri10ge/myri10ge.c:204:
+static int myri10ge_force_firmware = 0;

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#244: FILE: /drivers/net/myri10ge/myri10ge.c:205:
+static int myri10ge_skb_cross_4k = 0;

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#250: FILE: /drivers/net/myri10ge/myri10ge.c:211:
+module_param(myri10ge_fw_name, charp, S_IRUGO | S_IWUSR);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#252: FILE: /drivers/net/myri10ge/myri10ge.c:213:
+module_param(myri10ge_max_intr_slots, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#254: FILE: /drivers/net/myri10ge/myri10ge.c:215:
+module_param(myri10ge_small_bytes, int, S_IRUGO | S_IWUSR);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#256: FILE: /drivers/net/myri10ge/myri10ge.c:217:
+module_param(myri10ge_msi, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#258: FILE: /drivers/net/myri10ge/myri10ge.c:219:
+module_param(myri10ge_intr_coal_delay, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#260: FILE: /drivers/net/myri10ge/myri10ge.c:221:
+module_param(myri10ge_ecrc_enable, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#262: FILE: /drivers/net/myri10ge/myri10ge.c:223:
+module_param(myri10ge_flow_control, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#264: FILE: /drivers/net/myri10ge/myri10ge.c:225:
+module_param(myri10ge_deassert_wait, int, S_IRUGO | S_IWUSR);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#267: FILE: /drivers/net/myri10ge/myri10ge.c:228:
+module_param(myri10ge_force_firmware, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO | S_IWUSR' are not preferred. Consider using octal permissions '0644'.
#270: FILE: /drivers/net/myri10ge/myri10ge.c:231:
+module_param(myri10ge_skb_cross_4k, int, S_IRUGO | S_IWUSR);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#273: FILE: /drivers/net/myri10ge/myri10ge.c:234:
+module_param(myri10ge_initial_mtu, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#275: FILE: /drivers/net/myri10ge/myri10ge.c:236:
+module_param(myri10ge_napi_weight, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#277: FILE: /drivers/net/myri10ge/myri10ge.c:238:
+module_param(myri10ge_watchdog_timeout, int, S_IRUGO);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#279: FILE: /drivers/net/myri10ge/myri10ge.c:240:
+module_param(myri10ge_max_irq_loops, int, S_IRUGO);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#283: FILE: /drivers/net/myri10ge/myri10ge.c:244:
+#define MYRI10GE_FW_OFFSET 1024*1024
                                ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#283: FILE: /drivers/net/myri10ge/myri10ge.c:244:
+#define MYRI10GE_FW_OFFSET 1024*1024

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#284: FILE: /drivers/net/myri10ge/myri10ge.c:245:
+#define MYRI10GE_HIGHPART_TO_U32(X) \
+(sizeof (X) == 8) ? ((u32)((u64)(X) >> 32)) : (0)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#285: FILE: /drivers/net/myri10ge/myri10ge.c:246:
+(sizeof (X) == 8) ? ((u32)((u64)(X) >> 32)) : (0)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#288: FILE: /drivers/net/myri10ge/myri10ge.c:249:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#288: FILE: /drivers/net/myri10ge/myri10ge.c:249:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#288: FILE: /drivers/net/myri10ge/myri10ge.c:249:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#288: FILE: /drivers/net/myri10ge/myri10ge.c:249:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                                 ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#288: FILE: /drivers/net/myri10ge/myri10ge.c:249:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)
                                                                      ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'size' may be better as '(size)' to avoid precedence issues
#288: FILE: /drivers/net/myri10ge/myri10ge.c:249:
+#define myri10ge_pio_copy(to,from,size) __iowrite64_copy(to,from,size/8)

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#295: FILE: /drivers/net/myri10ge/myri10ge.c:256:
+	volatile struct mcp_cmd_response *response = mgp->cmd;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#296: FILE: /drivers/net/myri10ge/myri10ge.c:257:
+	volatile char __iomem *cmd_addr = mgp->sram + MYRI10GE_MCP_CMD_OFFSET;

WARNING:MEMORY_BARRIER: memory barrier without comment
#313: FILE: /drivers/net/myri10ge/myri10ge.c:274:
+	mb();

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#324: FILE: /drivers/net/myri10ge/myri10ge.c:285:
+		udelay(10);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#332: FILE: /drivers/net/myri10ge/myri10ge.c:293:
+			return 0;
+		} else {

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#368: FILE: /drivers/net/myri10ge/myri10ge.c:329:
+				    simple_strtoul(ptr, &ptr, 16);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#374: FILE: /drivers/net/myri10ge/myri10ge.c:335:
+			mgp->serial_number = simple_strtoul(ptr, &ptr, 10);

WARNING:SPACING: space prohibited before semicolon
#376: FILE: /drivers/net/myri10ge/myri10ge.c:337:
+		while (ptr < limit && *ptr++) ;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#376: FILE: /drivers/net/myri10ge/myri10ge.c:337:
+		while (ptr < limit && *ptr++) ;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:WHILE_AFTER_BRACE: while should follow close brace '}'
#376: FILE: /drivers/net/myri10ge/myri10ge.c:337:
+		}
+		while (ptr < limit && *ptr++) ;

while should follow the closing bracket on the same line::

  do {
          ...
  } while(something);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:INDENTED_LABEL: labels should not be indented
#381: FILE: /drivers/net/myri10ge/myri10ge.c:342:
+      abort:

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#393: FILE: /drivers/net/myri10ge/myri10ge.c:354:
+	volatile u32 *confirm;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#394: FILE: /drivers/net/myri10ge/myri10ge.c:355:
+	volatile char __iomem *submit;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#400: FILE: /drivers/net/myri10ge/myri10ge.c:361:
+	confirm = (volatile u32 *)mgp->cmd;

WARNING:MEMORY_BARRIER: memory barrier without comment
#402: FILE: /drivers/net/myri10ge/myri10ge.c:363:
+	mb();

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#422: FILE: /drivers/net/myri10ge/myri10ge.c:383:
+		udelay(1000);

WARNING:NAKED_SSCANF: unchecked sscanf return value
#445: FILE: /drivers/net/myri10ge/myri10ge.c:406:
+	sscanf(mgp->fw_version, "%d.%d", &major, &minor);

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#448: FILE: /drivers/net/myri10ge/myri10ge.c:409:
+	if (!(major == MYRI10GE_MCP_VERSION_MAJOR
+	      && minor == MYRI10GE_MCP_VERSION_MINOR)) {

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#457: FILE: /drivers/net/myri10ge/myri10ge.c:418:
+static int myri10ge_load_hotplug_firmware(struct myri10ge_priv *mgp, u32 * size)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#459: FILE: /drivers/net/myri10ge/myri10ge.c:420:
+	unsigned crc, reread_crc;

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#466: FILE: /drivers/net/myri10ge/myri10ge.c:427:
+	if ((status = request_firmware(&fw, mgp->fw_name, dev)) < 0) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:SPACING: No space is necessary after a cast
#483: FILE: /drivers/net/myri10ge/myri10ge.c:444:
+	hdr_offset = ntohl(*(u32 *) (fw->data + MCP_HEADER_PTR_OFFSET));

WARNING:BRACES: braces {} are not necessary for single statement blocks
#492: FILE: /drivers/net/myri10ge/myri10ge.c:453:
+	if (status != 0) {
+		goto abort_with_fw;
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#503: FILE: /drivers/net/myri10ge/myri10ge.c:464:
+			(unsigned)fw->size, reread_crc, crc);

CHECK:SPACING: No space is necessary after a cast
#507: FILE: /drivers/net/myri10ge/myri10ge.c:468:
+	*size = (u32) fw->size;

WARNING:INDENTED_LABEL: labels should not be indented
#509: FILE: /drivers/net/myri10ge/myri10ge.c:470:
+      abort_with_fw:

WARNING:INDENTED_LABEL: labels should not be indented
#512: FILE: /drivers/net/myri10ge/myri10ge.c:473:
+      abort_with_nothing:

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#534: FILE: /drivers/net/myri10ge/myri10ge.c:495:
+	 * validate firmware */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!hdr"
#536: FILE: /drivers/net/myri10ge/myri10ge.c:497:
+	if (hdr == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#537: FILE: /drivers/net/myri10ge/myri10ge.c:498:
+	if (hdr == NULL) {
+		dev_err(dev, "could not malloc firmware hdr\n");

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#548: FILE: /drivers/net/myri10ge/myri10ge.c:509:
+	volatile u32 *confirm;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#549: FILE: /drivers/net/myri10ge/myri10ge.c:510:
+	volatile char __iomem *submit;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#559: FILE: /drivers/net/myri10ge/myri10ge.c:520:
+		 * was a bad crc */

WARNING:BRACES: braces {} are not necessary for single statement blocks
#560: FILE: /drivers/net/myri10ge/myri10ge.c:521:
+		if (status == -EIO) {
+			return status;
+		}

WARNING:SPLIT_STRING: quoted string split across lines
#574: FILE: /drivers/net/myri10ge/myri10ge.c:535:
+				 "Using firmware currently running on NIC"
+				 ".  For optimal\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#577: FILE: /drivers/net/myri10ge/myri10ge.c:538:
+				 "performance consider loading optimized "
+				 "firmware\n");

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#587: FILE: /drivers/net/myri10ge/myri10ge.c:548:
+	confirm = (volatile u32 *)mgp->cmd;

WARNING:MEMORY_BARRIER: memory barrier without comment
#589: FILE: /drivers/net/myri10ge/myri10ge.c:550:
+	mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#614: FILE: /drivers/net/myri10ge/myri10ge.c:575:
+	mb();

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#615: FILE: /drivers/net/myri10ge/myri10ge.c:576:
+	udelay(1000);

WARNING:MEMORY_BARRIER: memory barrier without comment
#616: FILE: /drivers/net/myri10ge/myri10ge.c:577:
+	mb();

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#619: FILE: /drivers/net/myri10ge/myri10ge.c:580:
+		udelay(1000);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#632: FILE: /drivers/net/myri10ge/myri10ge.c:593:
+static int myri10ge_update_mac_address(struct myri10ge_priv *mgp, u8 * addr)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#656: FILE: /drivers/net/myri10ge/myri10ge.c:617:
+		printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#674: FILE: /drivers/net/myri10ge/myri10ge.c:635:
+		printk(KERN_ERR "myri10ge: %s: Failed to set promisc mode\n",

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#681: FILE: /drivers/net/myri10ge/myri10ge.c:642:
+{
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#688: FILE: /drivers/net/myri10ge/myri10ge.c:649:
+	 * is alive */

CHECK:SPACING: No space is necessary after a cast
#700: FILE: /drivers/net/myri10ge/myri10ge.c:661:
+	cmd.data0 = (u32) bytes;

CHECK:SPACING: No space is necessary after a cast
#708: FILE: /drivers/net/myri10ge/myri10ge.c:669:
+	mgp->irq_claim = (__iomem u32 *) (mgp->sram + cmd.data0);

CHECK:SPACING: No space is necessary after a cast
#712: FILE: /drivers/net/myri10ge/myri10ge.c:673:
+		mgp->irq_deassert = (__iomem u32 *) (mgp->sram + cmd.data0);

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#714: FILE: /drivers/net/myri10ge/myri10ge.c:675:
+
+	}

CHECK:SPACING: No space is necessary after a cast
#717: FILE: /drivers/net/myri10ge/myri10ge.c:678:
+	mgp->intr_coal_delay_ptr = (__iomem u32 *) (mgp->sram + cmd.data0);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#785: FILE: /drivers/net/myri10ge/myri10ge.c:746:
+myri10ge_submit_8rx(struct mcp_kreq_ether_recv __iomem * dst,

WARNING:MEMORY_BARRIER: memory barrier without comment
#793: FILE: /drivers/net/myri10ge/myri10ge.c:754:
+	mb();

CHECK:SPACING: No space is necessary after a cast
#795: FILE: /drivers/net/myri10ge/myri10ge.c:756:
+	*(u32 __force *) & dst->addr_low = src->addr_low;

ERROR:SPACING: space prohibited after that '&' (ctx:WxW)
#795: FILE: /drivers/net/myri10ge/myri10ge.c:756:
+	*(u32 __force *) & dst->addr_low = src->addr_low;
 	                 ^

WARNING:MEMORY_BARRIER: memory barrier without comment
#796: FILE: /drivers/net/myri10ge/myri10ge.c:757:
+	mb();

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#818: FILE: /drivers/net/myri10ge/myri10ge.c:779:
+	if (skb == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#834: FILE: /drivers/net/myri10ge/myri10ge.c:795:
+ * does not cross a 4KB boundary */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#841: FILE: /drivers/net/myri10ge/myri10ge.c:802:
+	if (unlikely(skb == NULL))

WARNING:BRACES: braces {} are not necessary for single statement blocks
#852: FILE: /drivers/net/myri10ge/myri10ge.c:813:
+	if ((boundary - data) >= (bytes + MYRI10GE_MCP_ETHER_PAD)) {
+		return skb;
+	}

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#860: FILE: /drivers/net/myri10ge/myri10ge.c:821:
+ * space does not cross a 4KB boundary */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#867: FILE: /drivers/net/myri10ge/myri10ge.c:828:
+	if (unlikely(skb == NULL))

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'myri10ge_alloc_small', this function's name, in a string
#879: FILE: /drivers/net/myri10ge/myri10ge.c:840:
+		    ("myri10ge_alloc_small: small skb crossed 4KB boundary\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

ERROR:SPACING: space prohibited before that close parenthesis ')'
#898: FILE: /drivers/net/myri10ge/myri10ge.c:859:
+	    (4096 - 16) /* linux overhead */ ) {

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#901: FILE: /drivers/net/myri10ge/myri10ge.c:862:
+		if (myri10ge_skb_cross_4k) {
[...]
+		} else {
[...]

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#907: FILE: /drivers/net/myri10ge/myri10ge.c:868:
+	if (unlikely(skb == NULL)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#914: FILE: /drivers/net/myri10ge/myri10ge.c:875:
+	 * need mapped for DMA */

WARNING:INDENTED_LABEL: labels should not be indented
#924: FILE: /drivers/net/myri10ge/myri10ge.c:885:
+      done:

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rx->wc_fifo"
#927: FILE: /drivers/net/myri10ge/myri10ge.c:888:
+		if (rx->wc_fifo == NULL) {

WARNING:MEMORY_BARRIER: memory barrier without comment
#931: FILE: /drivers/net/myri10ge/myri10ge.c:892:
+			mb();

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_8021Q)'
#943: FILE: /drivers/net/myri10ge/myri10ge.c:904:
+	if ((skb->protocol == ntohs(ETH_P_8021Q)) &&
+	    (vh->h_vlan_encapsulated_proto == htons(ETH_P_IP) ||
+	     vh->h_vlan_encapsulated_proto == htons(ETH_P_IPV6))) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#978: FILE: /drivers/net/myri10ge/myri10ge.c:939:
+	 * aligned */

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_IP)'
#987: FILE: /drivers/net/myri10ge/myri10ge.c:948:
+		if ((skb->protocol == ntohs(ETH_P_IP)) ||
+		    (skb->protocol == ntohs(ETH_P_IPV6))) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'skb->protocol == ntohs(ETH_P_IPV6)'
#987: FILE: /drivers/net/myri10ge/myri10ge.c:948:
+		if ((skb->protocol == ntohs(ETH_P_IP)) ||
+		    (skb->protocol == ntohs(ETH_P_IPV6))) {

CHECK:SPACING: No space is necessary after a cast
#989: FILE: /drivers/net/myri10ge/myri10ge.c:950:
+			skb->csum = ntohs((u16) csum);

CHECK:SPACING: No space is necessary after a cast
#992: FILE: /drivers/net/myri10ge/myri10ge.c:953:
+			myri10ge_vlan_ip_csum(skb, ntohs((u16) csum));

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1040: FILE: /drivers/net/myri10ge/myri10ge.c:1001:
+		 * 2 full tx rings per call */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1046: FILE: /drivers/net/myri10ge/myri10ge.c:1007:
+	if (netif_queue_stopped(mgp->dev)
+	    && tx->req - tx->done < (tx->mask >> 1)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1082: FILE: /drivers/net/myri10ge/myri10ge.c:1043:
+		 * limited number of frames. */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1099: FILE: /drivers/net/myri10ge/myri10ge.c:1060:
+				printk("myri10ge: %s: link up\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1103: FILE: /drivers/net/myri10ge/myri10ge.c:1064:
+				printk("myri10ge: %s: link down\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1112: FILE: /drivers/net/myri10ge/myri10ge.c:1073:
+			printk("myri10ge: %s: RDMA timed out! "

WARNING:SPLIT_STRING: quoted string split across lines
#1113: FILE: /drivers/net/myri10ge/myri10ge.c:1074:
+			printk("myri10ge: %s: RDMA timed out! "
+			       "%d tags left\n", mgp->dev->name,

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1153: FILE: /drivers/net/myri10ge/myri10ge.c:1114:
+	if (unlikely(!stats->valid)) {
+		return (IRQ_NONE);
+	}

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1154: FILE: /drivers/net/myri10ge/myri10ge.c:1115:
+		return (IRQ_NONE);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1158: FILE: /drivers/net/myri10ge/myri10ge.c:1119:
+	 * napi poll handler */

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1159: FILE: /drivers/net/myri10ge/myri10ge.c:1120:
+	if (stats->valid & 1) {
+		netif_rx_schedule(mgp->dev);
+	}

WARNING:MEMORY_BARRIER: memory barrier without comment
#1167: FILE: /drivers/net/myri10ge/myri10ge.c:1128:
+		mb();

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#1180: FILE: /drivers/net/myri10ge/myri10ge.c:1141:
+		if (*((u8 * volatile)&stats->valid) == 0)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1183: FILE: /drivers/net/myri10ge/myri10ge.c:1144:
+			printk("myri10ge: %s: irq stuck?\n", mgp->dev->name);

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#1187: FILE: /drivers/net/myri10ge/myri10ge.c:1148:
+	} while (*((u8 * volatile)&stats->valid));

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1192: FILE: /drivers/net/myri10ge/myri10ge.c:1153:
+	return (IRQ_HANDLED);

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1209: FILE: /drivers/net/myri10ge/myri10ge.c:1170:
+	strlcpy(info->driver, "myri10ge", sizeof(info->driver));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1210: FILE: /drivers/net/myri10ge/myri10ge.c:1171:
+	strlcpy(info->version, MYRI10GE_VERSION_STR, sizeof(info->version));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1211: FILE: /drivers/net/myri10ge/myri10ge.c:1172:
+	strlcpy(info->fw_version, mgp->fw_version, sizeof(info->fw_version));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1212: FILE: /drivers/net/myri10ge/myri10ge.c:1173:
+	strlcpy(info->bus_info, pci_name(mgp->pdev), sizeof(info->bus_info));

WARNING:LINE_SPACING: Missing a blank line after declarations
#1219: FILE: /drivers/net/myri10ge/myri10ge.c:1180:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	coal->rx_coalesce_usecs = mgp->intr_coal_delay;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1250: FILE: /drivers/net/myri10ge/myri10ge.c:1211:
+	if (pause->tx_pause != mgp->pause) {
+		return (myri10ge_change_pause(mgp, pause->tx_pause));
+	}

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1251: FILE: /drivers/net/myri10ge/myri10ge.c:1212:
+		return (myri10ge_change_pause(mgp, pause->tx_pause));

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1253: FILE: /drivers/net/myri10ge/myri10ge.c:1214:
+	if (pause->rx_pause != mgp->pause) {
+		return (myri10ge_change_pause(mgp, pause->tx_pause));
+	}

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#1254: FILE: /drivers/net/myri10ge/myri10ge.c:1215:
+		return (myri10ge_change_pause(mgp, pause->tx_pause));

WARNING:LINE_SPACING: Missing a blank line after declarations
#1280: FILE: /drivers/net/myri10ge/myri10ge.c:1241:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	if (mgp->csum_flag)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1289: FILE: /drivers/net/myri10ge/myri10ge.c:1250:
+	struct myri10ge_priv *mgp = netdev_priv(netdev);
+	if (csum_enabled)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#1314: FILE: /drivers/net/myri10ge/myri10ge.c:1275:
+#define MYRI10GE_STATS_LEN  sizeof(myri10ge_gstrings_stats) / ETH_GSTRING_LEN

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1317: FILE: /drivers/net/myri10ge/myri10ge.c:1278:
+myri10ge_get_strings(struct net_device *netdev, u32 stringset, u8 * data)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1334: FILE: /drivers/net/myri10ge/myri10ge.c:1295:
+			   struct ethtool_stats *stats, u64 * data)

WARNING:CONST_STRUCT: struct ethtool_ops should normally be const
#1366: FILE: /drivers/net/myri10ge/myri10ge.c:1327:
+static struct ethtool_ops myri10ge_ethtool_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1406: FILE: /drivers/net/myri10ge/myri10ge.c:1367:
+		printk(KERN_ERR "myri10ge: %s: failed reset\n", dev->name);

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#1417: FILE: /drivers/net/myri10ge/myri10ge.c:1378:
+	if (dev->mtu <= ETH_DATA_LEN) {
[...]
+	} else {
[...]

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1423: FILE: /drivers/net/myri10ge/myri10ge.c:1384:
+	if (myri10ge_small_bytes > 0) {
+		mgp->small_bytes = myri10ge_small_bytes;
+	}

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1428: FILE: /drivers/net/myri10ge/myri10ge.c:1389:
+	 * bytes down to nearly nothing */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1458: FILE: /drivers/net/myri10ge/myri10ge.c:1419:
+		printk(KERN_ERR

CHECK:SPACING: No space is necessary after a cast
#1466: FILE: /drivers/net/myri10ge/myri10ge.c:1427:
+		mgp->tx.wc_fifo = (u8 __iomem *) mgp->sram + 0x200000;

CHECK:SPACING: No space is necessary after a cast
#1467: FILE: /drivers/net/myri10ge/myri10ge.c:1428:
+		mgp->rx_small.wc_fifo = (u8 __iomem *) mgp->sram + 0x300000;

CHECK:SPACING: No space is necessary after a cast
#1468: FILE: /drivers/net/myri10ge/myri10ge.c:1429:
+		mgp->rx_big.wc_fifo = (u8 __iomem *) mgp->sram + 0x340000;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1478: FILE: /drivers/net/myri10ge/myri10ge.c:1439:
+	mgp->rx_small.mask = mgp->rx_big.mask = rx_ring_entries - 1;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->tx.req_bytes"
#1485: FILE: /drivers/net/myri10ge/myri10ge.c:1446:
+	if (mgp->tx.req_bytes == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_small.shadow"
#1495: FILE: /drivers/net/myri10ge/myri10ge.c:1456:
+	if (mgp->rx_small.shadow == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_big.shadow"
#1501: FILE: /drivers/net/myri10ge/myri10ge.c:1462:
+	if (mgp->rx_big.shadow == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->tx.info"
#1509: FILE: /drivers/net/myri10ge/myri10ge.c:1470:
+	if (mgp->tx.info == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_small.info"
#1515: FILE: /drivers/net/myri10ge/myri10ge.c:1476:
+	if (mgp->rx_small.info == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_big.info"
#1521: FILE: /drivers/net/myri10ge/myri10ge.c:1482:
+	if (mgp->rx_big.info == NULL)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1530: FILE: /drivers/net/myri10ge/myri10ge.c:1491:
+			printk(KERN_ERR

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1531: FILE: /drivers/net/myri10ge/myri10ge.c:1492:
+			       "myri10ge: %s: alloced only %d small bufs\n",
 			                      ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1542: FILE: /drivers/net/myri10ge/myri10ge.c:1503:
+			printk(KERN_ERR

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#1543: FILE: /drivers/net/myri10ge/myri10ge.c:1504:
+			       "myri10ge: %s: alloced only %d big bufs\n",
 			                      ^^^^^^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1568: FILE: /drivers/net/myri10ge/myri10ge.c:1529:
+		printk(KERN_ERR "myri10ge: %s: Couldn't set buffer sizes\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1577: FILE: /drivers/net/myri10ge/myri10ge.c:1538:
+		printk(KERN_ERR "myri10ge: %s: Couldn't set stats DMA\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1589: FILE: /drivers/net/myri10ge/myri10ge.c:1550:
+		printk(KERN_ERR "myri10ge: %s: Couldn't bring up link\n",

WARNING:INDENTED_LABEL: labels should not be indented
#1602: FILE: /drivers/net/myri10ge/myri10ge.c:1563:
+      abort_with_rx_big_ring:

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mgp->rx_big.info[i].skb"
#1604: FILE: /drivers/net/myri10ge/myri10ge.c:1565:
+		if (mgp->rx_big.info[i].skb != NULL)

WARNING:INDENTED_LABEL: labels should not be indented
#1616: FILE: /drivers/net/myri10ge/myri10ge.c:1577:
+      abort_with_rx_small_ring:

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mgp->rx_small.info[i].skb"
#1618: FILE: /drivers/net/myri10ge/myri10ge.c:1579:
+		if (mgp->rx_small.info[i].skb != NULL)

WARNING:INDENTED_LABEL: labels should not be indented
#1631: FILE: /drivers/net/myri10ge/myri10ge.c:1592:
+      abort_with_rx_small_info:

WARNING:INDENTED_LABEL: labels should not be indented
#1634: FILE: /drivers/net/myri10ge/myri10ge.c:1595:
+      abort_with_tx_info:

WARNING:INDENTED_LABEL: labels should not be indented
#1637: FILE: /drivers/net/myri10ge/myri10ge.c:1598:
+      abort_with_rx_big_shadow:

WARNING:INDENTED_LABEL: labels should not be indented
#1640: FILE: /drivers/net/myri10ge/myri10ge.c:1601:
+      abort_with_rx_small_shadow:

WARNING:INDENTED_LABEL: labels should not be indented
#1643: FILE: /drivers/net/myri10ge/myri10ge.c:1604:
+      abort_with_tx_req_bytes:

WARNING:INDENTED_LABEL: labels should not be indented
#1648: FILE: /drivers/net/myri10ge/myri10ge.c:1609:
+      abort_with_nothing:

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->tx.req_bytes"
#1666: FILE: /drivers/net/myri10ge/myri10ge.c:1627:
+	if (mgp->tx.req_bytes == NULL)

WARNING:MEMORY_BARRIER: memory barrier without comment
#1675: FILE: /drivers/net/myri10ge/myri10ge.c:1636:
+	mb();

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1678: FILE: /drivers/net/myri10ge/myri10ge.c:1639:
+		printk(KERN_ERR "myri10ge: %s: Couldn't bring down link\n",

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1682: FILE: /drivers/net/myri10ge/myri10ge.c:1643:
+	if (old_down_cnt == mgp->down_cnt) {
+		printk(KERN_ERR "myri10ge: %s never got down irq\n", dev->name);
+	}

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1683: FILE: /drivers/net/myri10ge/myri10ge.c:1644:
+		printk(KERN_ERR "myri10ge: %s never got down irq\n", dev->name);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mgp->rx_big.info[i].skb"
#1688: FILE: /drivers/net/myri10ge/myri10ge.c:1649:
+		if (mgp->rx_big.info[i].skb != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "mgp->rx_small.info[i].skb"
#1701: FILE: /drivers/net/myri10ge/myri10ge.c:1662:
+		if (mgp->rx_small.info[i].skb != NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1757: FILE: /drivers/net/myri10ge/myri10ge.c:1718:
+ * backwards one at a time and handle ring wraps */

WARNING:LINE_SPACING: Missing a blank line after declarations
#1764: FILE: /drivers/net/myri10ge/myri10ge.c:1725:
+	int idx, starting_slot;
+	starting_slot = tx->req;

WARNING:MEMORY_BARRIER: memory barrier without comment
#1769: FILE: /drivers/net/myri10ge/myri10ge.c:1730:
+		mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#1795: FILE: /drivers/net/myri10ge/myri10ge.c:1756:
+	mb();

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#1796: FILE: /drivers/net/myri10ge/myri10ge.c:1757:
+	dst = dstp = &tx->lanai[idx];

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1808: FILE: /drivers/net/myri10ge/myri10ge.c:1769:
+		 * that it is submitted below */

CHECK:SPACING: No space is necessary after a cast
#1820: FILE: /drivers/net/myri10ge/myri10ge.c:1781:
+	src_ints = (u32 *) src;

CHECK:SPACING: No space is necessary after a cast
#1822: FILE: /drivers/net/myri10ge/myri10ge.c:1783:
+	dst_ints = (u32 __iomem *) dst;

CHECK:SPACING: No space is necessary after a cast
#1824: FILE: /drivers/net/myri10ge/myri10ge.c:1785:
+	*(u32 __force *) dst_ints = *src_ints;

WARNING:MEMORY_BARRIER: memory barrier without comment
#1826: FILE: /drivers/net/myri10ge/myri10ge.c:1787:
+	mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#1834: FILE: /drivers/net/myri10ge/myri10ge.c:1795:
+	mb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#1837: FILE: /drivers/net/myri10ge/myri10ge.c:1798:
+		mb();

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1843: FILE: /drivers/net/myri10ge/myri10ge.c:1804:
+		 * needs to be so that we don't overrun it */

WARNING:MEMORY_BARRIER: memory barrier without comment
#1845: FILE: /drivers/net/myri10ge/myri10ge.c:1806:
+		mb();

WARNING:INDENTED_LABEL: labels should not be indented
#1873: FILE: /drivers/net/myri10ge/myri10ge.c:1834:
+      again:

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1905: FILE: /drivers/net/myri10ge/myri10ge.c:1866:
+		 * fall back to a software checksum */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1929: FILE: /drivers/net/myri10ge/myri10ge.c:1890:
+		 * TSO header must be at most 134 bytes long */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1934: FILE: /drivers/net/myri10ge/myri10ge.c:1895:
+		 * the checksum by parsing the header. */

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 8)
#1936: FILE: /drivers/net/myri10ge/myri10ge.c:1897:
+	} else
[...]
+	if (skb->len <= MYRI10GE_MCP_ETHER_SEND_SMALL_SIZE) {

CHECK:BRACES: Unbalanced braces around else statement
#1936: FILE: /drivers/net/myri10ge/myri10ge.c:1897:
+	} else

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skb"
#1945: FILE: /drivers/net/myri10ge/myri10ge.c:1906:
+			if (skb == NULL) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1947: FILE: /drivers/net/myri10ge/myri10ge.c:1908:
+				 * return 0 */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1952: FILE: /drivers/net/myri10ge/myri10ge.c:1913:
+			 * so that the nic can know how long it is */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1990: FILE: /drivers/net/myri10ge/myri10ge.c:1951:
+		 * do not cross mgp->tx.boundary */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tx->wc_fifo"
#2086: FILE: /drivers/net/myri10ge/myri10ge.c:2047:
+	if (tx->wc_fifo == NULL)

WARNING:INDENTED_LABEL: labels should not be indented
#2098: FILE: /drivers/net/myri10ge/myri10ge.c:2059:
+      abort_linearize:

WARNING:TYPO_SPELLING: 'alloced' may be misspelled - perhaps 'allocated'?
#2099: FILE: /drivers/net/myri10ge/myri10ge.c:2060:
+	/* Free any DMA resources we've alloced and clear out the skb
 	                                ^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2101: FILE: /drivers/net/myri10ge/myri10ge.c:2062:
+	 * double-free if linearizing fails */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "tx->info[idx].skb"
#2109: FILE: /drivers/net/myri10ge/myri10ge.c:2070:
+			if (tx->info[idx].skb != NULL) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2126: FILE: /drivers/net/myri10ge/myri10ge.c:2087:
+		printk(KERN_ERR

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2132: FILE: /drivers/net/myri10ge/myri10ge.c:2093:
+	if (skb_linearize(skb, GFP_ATOMIC)) {
+		goto drop;
+	}

WARNING:INDENTED_LABEL: labels should not be indented
#2138: FILE: /drivers/net/myri10ge/myri10ge.c:2099:
+      drop:

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2143: FILE: /drivers/net/myri10ge/myri10ge.c:2104:
+
+}

WARNING:LINE_SPACING: Missing a blank line after declarations
#2148: FILE: /drivers/net/myri10ge/myri10ge.c:2109:
+	struct myri10ge_priv *mgp = netdev_priv(dev);
+	return &mgp->stats;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2167: FILE: /drivers/net/myri10ge/myri10ge.c:2128:
+		printk(KERN_ERR

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'new_mtu < 68'
#2183: FILE: /drivers/net/myri10ge/myri10ge.c:2144:
+	if ((new_mtu < 68) || (ETH_HLEN + new_mtu > MYRI10GE_MAX_ETHER_MTU)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2184: FILE: /drivers/net/myri10ge/myri10ge.c:2145:
+		printk(KERN_ERR "myri10ge: %s: new mtu (%d) is not valid\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2188: FILE: /drivers/net/myri10ge/myri10ge.c:2149:
+	printk("%s: changing mtu from %d to %d\n",

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2192: FILE: /drivers/net/myri10ge/myri10ge.c:2153:
+		 * reset the device so the firmware sees the change */

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2214: FILE: /drivers/net/myri10ge/myri10ge.c:2175:
+	unsigned cap;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#2215: FILE: /drivers/net/myri10ge/myri10ge.c:2176:
+	unsigned err_cap;

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2232: FILE: /drivers/net/myri10ge/myri10ge.c:2193:
+			 * where ECRC has to be enabled */

WARNING:SPLIT_STRING: quoted string split across lines
#2238: FILE: /drivers/net/myri10ge/myri10ge.c:2199:
+						"Failed to find root port"
+						" to force ECRC\n");

WARNING:SPLIT_STRING: quoted string split across lines
#2250: FILE: /drivers/net/myri10ge/myri10ge.c:2211:
+				 "Forcing ECRC on non-root port %s"
+				 " (enabling on root port %s)\n",

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2263: FILE: /drivers/net/myri10ge/myri10ge.c:2224:
+	if (!cap
+	    && bridge->vendor == PCI_VENDOR_ID_NVIDIA

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2264: FILE: /drivers/net/myri10ge/myri10ge.c:2225:
+	    && bridge->vendor == PCI_VENDOR_ID_NVIDIA
+	    && bridge->device == PCI_DEVICE_ID_NVIDIA_NFORCE_CK804_PCIE)

WARNING:SPLIT_STRING: quoted string split across lines
#2275: FILE: /drivers/net/myri10ge/myri10ge.c:2236:
+		dev_err(dev, "\t pci=nommconf in use? "
+			"or buggy/incomplete/absent acpi MCFG attr?\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2320: FILE: /drivers/net/myri10ge/myri10ge.c:2281:
+		 * provide aligned completions */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2323: FILE: /drivers/net/myri10ge/myri10ge.c:2284:
+		    /* ServerWorks HT2000/HT1000 */
+		    && bridge->vendor == PCI_VENDOR_ID_SERVERWORKS

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#2324: FILE: /drivers/net/myri10ge/myri10ge.c:2285:
+		    && bridge->vendor == PCI_VENDOR_ID_SERVERWORKS
+		    && bridge->device ==

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "myri10ge_fw_name"
#2345: FILE: /drivers/net/myri10ge/myri10ge.c:2306:
+	if (myri10ge_fw_name != NULL) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2359: FILE: /drivers/net/myri10ge/myri10ge.c:2320:
+	 * save for us */

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp"
#2388: FILE: /drivers/net/myri10ge/myri10ge.c:2349:
+	if (mgp == NULL)

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2394: FILE: /drivers/net/myri10ge/myri10ge.c:2355:
+		printk("myri10ge: closing %s\n", netdev->name);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp"
#2415: FILE: /drivers/net/myri10ge/myri10ge.c:2376:
+	if (mgp == NULL)

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#2419: FILE: /drivers/net/myri10ge/myri10ge.c:2380:
+	udelay(5000);		/* give card time to respond */

WARNING:LONG_UDELAY: long udelay - prefer mdelay; see arch/arm/include/asm/delay.h
#2419: FILE: /drivers/net/myri10ge/myri10ge.c:2380:
+	udelay(5000);		/* give card time to respond */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2422: FILE: /drivers/net/myri10ge/myri10ge.c:2383:
+		printk(KERN_ERR "myri10ge: %s: device disappeared!\n",

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2441: FILE: /drivers/net/myri10ge/myri10ge.c:2402:
+	 * nic resets due to a parity error */

WARNING:INDENTED_LABEL: labels should not be indented
#2453: FILE: /drivers/net/myri10ge/myri10ge.c:2414:
+      abort_with_msi:

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2456: FILE: /drivers/net/myri10ge/myri10ge.c:2417:
+
+}

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2491: FILE: /drivers/net/myri10ge/myri10ge.c:2452:
+		 * For now, just report it */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2493: FILE: /drivers/net/myri10ge/myri10ge.c:2454:
+		printk(KERN_ERR

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2507: FILE: /drivers/net/myri10ge/myri10ge.c:2468:
+		 * this case */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2511: FILE: /drivers/net/myri10ge/myri10ge.c:2472:
+				printk(KERN_ERR

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2519: FILE: /drivers/net/myri10ge/myri10ge.c:2480:
+		printk(KERN_ERR "myri10ge: %s: device timeout, resetting\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2521: FILE: /drivers/net/myri10ge/myri10ge.c:2482:
+		printk("myri10ge: %s: %d %d %d %d %d\n", mgp->dev->name,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2528: FILE: /drivers/net/myri10ge/myri10ge.c:2489:
+		printk("myri10ge: %s: %d %d %d %d %d\n", mgp->dev->name,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#2537: FILE: /drivers/net/myri10ge/myri10ge.c:2498:
+		printk(KERN_ERR "myri10ge: %s: failed to load firmware\n",

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!netdev"
#2582: FILE: /drivers/net/myri10ge/myri10ge.c:2543:
+	if (netdev == NULL) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2604: FILE: /drivers/net/myri10ge/myri10ge.c:2565:
+	 * the reboot register later on */

CHECK:ASSIGNMENT_CONTINUATIONS: Assignment operator '=' should be on the previous line
#2606: FILE: /drivers/net/myri10ge/myri10ge.c:2567:
+	mgp->vendor_specific_offset
+	    = pci_find_capability(pdev, PCI_CAP_ID_VNDR);

Assignment operators should not be written at the start of a
line but should follow the operand at the previous line.

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2642: FILE: /drivers/net/myri10ge/myri10ge.c:2603:
+	if (mgp->cmd == NULL) {
+		goto abort_with_netdev;
+	}

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->cmd"
#2642: FILE: /drivers/net/myri10ge/myri10ge.c:2603:
+	if (mgp->cmd == NULL) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2648: FILE: /drivers/net/myri10ge/myri10ge.c:2609:
+	if (mgp->fw_stats == NULL) {
+		goto abort_with_cmd;
+	}

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->fw_stats"
#2648: FILE: /drivers/net/myri10ge/myri10ge.c:2609:
+	if (mgp->fw_stats == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->sram"
#2668: FILE: /drivers/net/myri10ge/myri10ge.c:2629:
+	if (mgp->sram == NULL) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#2682: FILE: /drivers/net/myri10ge/myri10ge.c:2643:
+	for (i = 0; i < ETH_ALEN; i++) {
+		netdev->dev_addr[i] = mgp->mac_addr[i];
+	}

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp->rx_done.entry"
#2689: FILE: /drivers/net/myri10ge/myri10ge.c:2650:
+	if (mgp->rx_done.entry == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2745: FILE: /drivers/net/myri10ge/myri10ge.c:2706:
+	 * nic resets due to a parity error */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2762: FILE: /drivers/net/myri10ge/myri10ge.c:2723:
+	printk("myri10ge: %s: %s IRQ %d, tx bndry %d, fw %s, WC %s\n",

WARNING:INDENTED_LABEL: labels should not be indented
#2769: FILE: /drivers/net/myri10ge/myri10ge.c:2730:
+      abort_with_irq:

WARNING:INDENTED_LABEL: labels should not be indented
#2774: FILE: /drivers/net/myri10ge/myri10ge.c:2735:
+      abort_with_firmware:

WARNING:INDENTED_LABEL: labels should not be indented
#2777: FILE: /drivers/net/myri10ge/myri10ge.c:2738:
+      abort_with_rx_done:

WARNING:INDENTED_LABEL: labels should not be indented
#2781: FILE: /drivers/net/myri10ge/myri10ge.c:2742:
+      abort_with_ioremap:

WARNING:INDENTED_LABEL: labels should not be indented
#2784: FILE: /drivers/net/myri10ge/myri10ge.c:2745:
+      abort_with_wc:

WARNING:INDENTED_LABEL: labels should not be indented
#2792: FILE: /drivers/net/myri10ge/myri10ge.c:2753:
+      abort_with_cmd:

WARNING:INDENTED_LABEL: labels should not be indented
#2795: FILE: /drivers/net/myri10ge/myri10ge.c:2756:
+      abort_with_netdev:

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mgp"
#2815: FILE: /drivers/net/myri10ge/myri10ge.c:2776:
+	if (mgp == NULL)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2845: FILE: /drivers/net/myri10ge/myri10ge.c:2806:
+#define MYRI10GE_PCI_VENDOR_MYRICOM ^I0x14c1$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2846: FILE: /drivers/net/myri10ge/myri10ge.c:2807:
+#define MYRI10GE_PCI_DEVICE_Z8E ^I0x0008$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#2865: FILE: /drivers/net/myri10ge/myri10ge.c:2826:
+	printk("%s: Version %s\n", myri10ge_driver.name, MYRI10GE_VERSION_STR);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000076471.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 24 errors, 180 warnings, 70 checks, 2836 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000076471.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
