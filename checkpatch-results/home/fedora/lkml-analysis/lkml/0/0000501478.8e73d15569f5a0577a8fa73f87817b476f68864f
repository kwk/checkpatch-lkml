WARNING:TYPO_SPELLING: 'algorithims' may be misspelled - perhaps 'algorithms'?
#12: 
Subject: Alternate routing algorithims for md/multipath
                           ^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'ALS' may be misspelled - perhaps 'ALSO'?
#60: 
get back from ALS.  I will be looking at ways to do round robin routing
              ^^^

WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#69: 
diff -b -r -U 5 --exclude=*.o --exclude=.??* linux-2.4.12-ac3/include/linux/raid/md_k.h linux-2.4.12-ac3-md/include/linux/raid/md_k.h

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#77: FILE: include/linux/raid/md_k.h:47:
 	switch (level) {
+		case -4: return MULTIPATH;

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#111: FILE: drivers/md/multipath.c:51:
+static char multipath_version[] =
+		{ "MD/LVM Multipath Storage Device Driver: ver 0.0.1" };

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#113: FILE: drivers/md/multipath.c:53:
+static int multipath_proc_readstr (ctl_table *, int, struct file *, void *,

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#114: FILE: drivers/md/multipath.c:54:
+static int multipath_proc_readstr (ctl_table *, int, struct file *, void *,
+		size_t *);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#115: FILE: drivers/md/multipath.c:55:
+static int multipath_proc_read_dev (ctl_table *, int, struct file *, void *,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#116: FILE: drivers/md/multipath.c:56:
+static int multipath_proc_read_dev (ctl_table *, int, struct file *, void *,
+		size_t *);

ERROR:CODE_INDENT: code indent should use tabs where possible
#121: FILE: drivers/md/multipath.c:61:
+        "",$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#121: FILE: drivers/md/multipath.c:61:
+        "",$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#127: FILE: drivers/md/multipath.c:67:
+	{{MULTIPATH_DEV, NULL, NULL, 0, 0555, NULL},{0}},
 	                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#128: FILE: drivers/md/multipath.c:68:
+	{{DEV_MULTIPATH, "multipath", NULL, 0, 0555, NULL},{0}},
 	                                                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#129: FILE: drivers/md/multipath.c:69:
+	{{CTL_DEV, "dev", NULL, 0, 0555, NULL},{0}}
 	                                      ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#130: FILE: drivers/md/multipath.c:70:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close parenthesis ')'
#155: FILE: drivers/md/multipath.c:95:
+static int multipath_proc_register_dev(mddev_t *md )

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around conf->ctl_tbl
#160: FILE: drivers/md/multipath.c:100:
+	t = &(conf->ctl_tbl);

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

ERROR:SPACING: space prohibited after that open parenthesis '('
#165: FILE: drivers/md/multipath.c:105:
+	sprintf( t->mdname, "%d", md->__minor );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#165: FILE: drivers/md/multipath.c:105:
+	sprintf( t->mdname, "%d", md->__minor );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#170: FILE: drivers/md/multipath.c:110:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#174: FILE: drivers/md/multipath.c:114:
+^I$

ERROR:SPACING: space prohibited after that open parenthesis '('
#175: FILE: drivers/md/multipath.c:115:
+	conf->tbl = register_sysctl_table( t->dev, 1 );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#175: FILE: drivers/md/multipath.c:115:
+	conf->tbl = register_sysctl_table( t->dev, 1 );

ERROR:SPACING: space prohibited after that open parenthesis '('
#180: FILE: drivers/md/multipath.c:120:
+static int multipath_proc_unregister_dev( mddev_t *md )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#180: FILE: drivers/md/multipath.c:120:
+static int multipath_proc_unregister_dev( mddev_t *md )

ERROR:SPACING: space prohibited after that open parenthesis '('
#184: FILE: drivers/md/multipath.c:124:
+	unregister_sysctl_table( conf->tbl );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#184: FILE: drivers/md/multipath.c:124:
+	unregister_sysctl_table( conf->tbl );

ERROR:TRAILING_WHITESPACE: trailing whitespace
#187: FILE: drivers/md/multipath.c:127:
+} $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#189: FILE: drivers/md/multipath.c:129:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#190: FILE: drivers/md/multipath.c:130:
+static int multipath_proc_readstr (ctl_table *tbl, int write, struct file *f,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#191: FILE: drivers/md/multipath.c:131:
+static int multipath_proc_readstr (ctl_table *tbl, int write, struct file *f,
+		void *buffer, size_t *lenp)

ERROR:SPACING: space prohibited after that open parenthesis '('
#195: FILE: drivers/md/multipath.c:135:
+	if ( write )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#195: FILE: drivers/md/multipath.c:135:
+	if ( write )

WARNING:TYPO_SPELLING: 'allready' may be misspelled - perhaps 'already'?
#198: FILE: drivers/md/multipath.c:138:
+		/* check for no or zero length data, or data allready read */
 		                                             ^^^^^^^^

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#199: FILE: drivers/md/multipath.c:139:
+	if (!tbl->data || !tbl->maxlen || !*lenp || f->f_pos )
+	{

ERROR:SPACING: space prohibited before that close parenthesis ')'
#199: FILE: drivers/md/multipath.c:139:
+	if (!tbl->data || !tbl->maxlen || !*lenp || f->f_pos )

ERROR:TRAILING_WHITESPACE: trailing whitespace
#204: FILE: drivers/md/multipath.c:144:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#209: FILE: drivers/md/multipath.c:149:
+^I^I$

ERROR:SPACING: space prohibited after that open parenthesis '('
#210: FILE: drivers/md/multipath.c:150:
+	if ( n > *lenp )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#210: FILE: drivers/md/multipath.c:150:
+	if ( n > *lenp )

ERROR:SPACING: space prohibited after that open parenthesis '('
#213: FILE: drivers/md/multipath.c:153:
+	if ( n )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#213: FILE: drivers/md/multipath.c:153:
+	if ( n )

ERROR:SPACING: space prohibited after that open parenthesis '('
#214: FILE: drivers/md/multipath.c:154:
+		if(copy_to_user( buffer, multipath_version, n))

ERROR:SPACING: space required before the open parenthesis '('
#214: FILE: drivers/md/multipath.c:154:
+		if(copy_to_user( buffer, multipath_version, n))

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#216: FILE: drivers/md/multipath.c:156:
+	if ( n  < *lenp )
+	{

ERROR:SPACING: space prohibited after that open parenthesis '('
#216: FILE: drivers/md/multipath.c:156:
+	if ( n  < *lenp )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#216: FILE: drivers/md/multipath.c:156:
+	if ( n  < *lenp )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#218: FILE: drivers/md/multipath.c:158:
+		if(put_user('\n', ((char *)buffer) + n) )

ERROR:SPACING: space required before the open parenthesis '('
#218: FILE: drivers/md/multipath.c:158:
+		if(put_user('\n', ((char *)buffer) + n) )

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#228: FILE: drivers/md/multipath.c:168:
+static int multipath_proc_read_dev (ctl_table *t, int w, struct file *f,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#229: FILE: drivers/md/multipath.c:169:
+static int multipath_proc_read_dev (ctl_table *t, int w, struct file *f,
+		void *b, size_t *s)

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#238: FILE: drivers/md/multipath.c:178:
+	if (!t->data || !*s || f->f_pos )
+	{

ERROR:SPACING: space prohibited before that close parenthesis ')'
#238: FILE: drivers/md/multipath.c:178:
+	if (!t->data || !*s || f->f_pos )

ERROR:SPACING: space prohibited after that open parenthesis '('
#244: FILE: drivers/md/multipath.c:184:
+	if ( w )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#244: FILE: drivers/md/multipath.c:184:
+	if ( w )

ERROR:SPACING: space prohibited after that open parenthesis '('
#248: FILE: drivers/md/multipath.c:188:
+	conf = mddev_to_conf( md );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#248: FILE: drivers/md/multipath.c:188:
+	conf = mddev_to_conf( md );

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#250: FILE: drivers/md/multipath.c:190:
+	if ( f->f_pos == 0 )
+	{

ERROR:SPACING: space prohibited after that open parenthesis '('
#250: FILE: drivers/md/multipath.c:190:
+	if ( f->f_pos == 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#250: FILE: drivers/md/multipath.c:190:
+	if ( f->f_pos == 0 )

ERROR:SPACING: space prohibited after that open parenthesis '('
#252: FILE: drivers/md/multipath.c:192:
+		if ( *s < LEN_HDR )	/* must be big enough to handle the */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#252: FILE: drivers/md/multipath.c:192:
+		if ( *s < LEN_HDR )	/* must be big enough to handle the */

ERROR:SPACING: space prohibited after that open parenthesis '('
#255: FILE: drivers/md/multipath.c:195:
+		sprintf( b, "nr_disks %3d: raid_disks %3d: working_disks %3d\n",

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#256: FILE: drivers/md/multipath.c:196:
+			conf->nr_disks&255, conf->raid_disks&255,
 			              ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#256: FILE: drivers/md/multipath.c:196:
+			conf->nr_disks&255, conf->raid_disks&255,
 			                                    ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#257: FILE: drivers/md/multipath.c:197:
+			conf->working_disks&255 );
 			                   ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#257: FILE: drivers/md/multipath.c:197:
+			conf->working_disks&255 );

ERROR:SPACING: space prohibited after that open parenthesis '('
#259: FILE: drivers/md/multipath.c:199:
+		len = strlen( b );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#259: FILE: drivers/md/multipath.c:199:
+		len = strlen( b );

ERROR:SPACING: space prohibited after that open parenthesis '('
#260: FILE: drivers/md/multipath.c:200:
+		if ( *s < len )	/* check for overflow */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#260: FILE: drivers/md/multipath.c:200:
+		if ( *s < len )	/* check for overflow */

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#263: FILE: drivers/md/multipath.c:203:
+		if ( *s < len + LEN_DSK )
+		{

ERROR:SPACING: space prohibited after that open parenthesis '('
#263: FILE: drivers/md/multipath.c:203:
+		if ( *s < len + LEN_DSK )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#263: FILE: drivers/md/multipath.c:203:
+		if ( *s < len + LEN_DSK )

CHECK:LINE_SPACING: Please don't use multiple blank lines
#271: FILE: drivers/md/multipath.c:211:
+
+

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#272: FILE: drivers/md/multipath.c:212:
+	for ( path = 0; path < conf->nr_disks; path++ )
+	{

ERROR:SPACING: space prohibited after that open parenthesis '('
#272: FILE: drivers/md/multipath.c:212:
+	for ( path = 0; path < conf->nr_disks; path++ )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#272: FILE: drivers/md/multipath.c:212:
+	for ( path = 0; path < conf->nr_disks; path++ )

ERROR:SPACING: space prohibited after that open parenthesis '('
#276: FILE: drivers/md/multipath.c:216:
+		sprintf( b + len,

WARNING:SPLIT_STRING: quoted string split across lines
#279: FILE: drivers/md/multipath.c:219:
+			"\tworking %c: write only %c: spare %c: used %c "
+			"ops %10d\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#280: FILE: drivers/md/multipath.c:220:
+			info->number&255, info->raid_disk&255, MAJOR(info->dev),
 			            ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#280: FILE: drivers/md/multipath.c:220:
+			info->number&255, info->raid_disk&255, MAJOR(info->dev),
 			                                 ^

ERROR:SPACING: spaces required around that '?' (ctx:VxW)
#282: FILE: drivers/md/multipath.c:222:
+			info->operational? 'y' : 'n',
 			                 ^

ERROR:SPACING: spaces required around that '?' (ctx:VxW)
#283: FILE: drivers/md/multipath.c:223:
+			info->write_only? 'y' : 'n',
 			                ^

ERROR:SPACING: spaces required around that '?' (ctx:VxW)
#284: FILE: drivers/md/multipath.c:224:
+			info->spare? 'y' : 'n',
 			           ^

ERROR:SPACING: spaces required around that '?' (ctx:VxW)
#285: FILE: drivers/md/multipath.c:225:
+			info->used_slot? 'y' : 'n',
 			               ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#286: FILE: drivers/md/multipath.c:226:
+			info->nr_ops );

ERROR:SPACING: space prohibited after that open parenthesis '('
#287: FILE: drivers/md/multipath.c:227:
+		len = strlen( b );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#287: FILE: drivers/md/multipath.c:227:
+		len = strlen( b );

ERROR:SPACING: space prohibited after that open parenthesis '('
#288: FILE: drivers/md/multipath.c:228:
+		if ( *s < len + LEN_DSK )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#288: FILE: drivers/md/multipath.c:228:
+		if ( *s < len + LEN_DSK )

CHECK:LINE_SPACING: Please don't use multiple blank lines
#310: FILE: drivers/md/multipath.c:561:
 
+

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#336: FILE: drivers/md/multipath.c:1228:
+	if (multipath_proc_register_dev( mddev ))
+	{

ERROR:SPACING: space prohibited after that open parenthesis '('
#336: FILE: drivers/md/multipath.c:1228:
+	if (multipath_proc_register_dev( mddev ))

ERROR:SPACING: space prohibited before that close parenthesis ')'
#336: FILE: drivers/md/multipath.c:1228:
+	if (multipath_proc_register_dev( mddev ))

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#338: FILE: drivers/md/multipath.c:1230:
+		printk(ERRORS, mdidx(mddev));

ERROR:SPACING: space prohibited after that open parenthesis '('
#353: FILE: drivers/md/multipath.c:1422:
+	multipath_proc_unregister_dev( mddev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#353: FILE: drivers/md/multipath.c:1422:
+	multipath_proc_unregister_dev( mddev );

WARNING:TYPO_SPELLING: 'prefered' may be misspelled - perhaps 'preferred'?
#419: FILE: include/linux/raid/multipath.h:65:
+	int	last;		/* last used, or prefered route */
 	   	     		                 ^^^^^^^^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#437: FILE: include/linux/sysctl.h:559:
+	DEV_MAC_HID=5,
 	           ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#438: FILE: include/linux/sysctl.h:560:
+	DEV_MULTIPATH=6
 	             ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#454: FILE: include/linux/sysctl.h:586:
+	MULTIPATH_VER=1,
 	             ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#455: FILE: include/linux/sysctl.h:587:
+	MULTIPATH_DEV=2
 	             ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#460: FILE: include/linux/sysctl.h:592:
+	MULTIPATH_ROUTING=1,
 	                 ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#461: FILE: include/linux/sysctl.h:593:
+	MULTIPATH_CONF=2
 	              ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#773: FILE: drivers/md/multipath.c:437:
+^I * Later we do read balancing on the read side $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#788: FILE: drivers/md/multipath.c:562:
+static int multipath_read_balance (multipath_conf_t *conf)

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000501478.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 81 errors, 13 warnings, 13 checks, 905 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000501478.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
