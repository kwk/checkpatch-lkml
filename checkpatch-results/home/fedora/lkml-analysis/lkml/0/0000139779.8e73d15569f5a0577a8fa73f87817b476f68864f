WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#77: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:DEPRECATED_VARIABLE: Use of EXTRA_CFLAGS is deprecated, please use `ccflags-y instead.
#82: FILE: drivers/infiniband/ulp/srp/Kbuild:1:
+EXTRA_CFLAGS += -Idrivers/infiniband/include

EXTRA_{A,C,CPP,LD}FLAGS are deprecated and should be replaced by the new
flags added via commit f77bf01425b1 ("kbuild: introduce ccflags-y,
asflags-y and ldflags-y").

The following conversion scheme maybe used::

  EXTRA_AFLAGS    ->  asflags-y
  EXTRA_CFLAGS    ->  ccflags-y
  EXTRA_CPPFLAGS  ->  cppflags-y
  EXTRA_LDFLAGS   ->  ldflags-y

See:

  1. https://lore.kernel.org/lkml/20070930191054.GA15876@uranus.ravnborg.org/
  2. https://lore.kernel.org/lkml/1313384834-24433-12-git-send-email-lacombar@gmail.com/
  3. https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#compilation-flags

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#91: FILE: drivers/infiniband/ulp/srp/Kconfig:1:
+config INFINIBAND_SRP
+	tristate "InfiniBand SCSI RDMA Protocol"
+	depends on INFINIBAND && SCSI
+	---help---
+	  Support for the SCSI RDMA Protocol over InfiniBand.  This
+	  allows you to access storage devices that speak SRP over
+	  InfiniBand.
+
+	  The SRP protocol is defined by the INCITS T10 technical
+	  committee.  See <http://www.t10.org/>.
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#108: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#139: FILE: drivers/infiniband/ulp/srp/ib_srp.c:32:
+ * $Id: ib_srp.c 3895 2005-10-28 21:20:11Z roland $

Since linux moved to git, the CVS markers are no longer used.
So, CVS style keywords ($Id$, $Revision$, $Log$) should not be
added.

WARNING:INCLUDE_LINUX: Use #include <linux/atomic.h> instead of <asm/atomic.h>
#150: FILE: drivers/infiniband/ulp/srp/ib_srp.c:43:
+#include <asm/atomic.h>

CHECK:CAMELCASE: Avoid CamelCase: <Scsi_Host>
#188: FILE: drivers/infiniband/ulp/srp/ib_srp.c:81:
+static inline struct srp_target_port *host_to_target(struct Scsi_Host *host)

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:SPACING: No space is necessary after a cast
#190: FILE: drivers/infiniband/ulp/srp/ib_srp.c:83:
+	return (struct srp_target_port *) host->hostdata;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SIZEOF_PARENTHESIS: sizeof *iu should be sizeof(*iu)
#204: FILE: drivers/infiniband/ulp/srp/ib_srp.c:97:
+	iu = kmalloc(sizeof *iu, gfp_mask);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#241: FILE: drivers/infiniband/ulp/srp/ib_srp.c:134:
+	printk(KERN_ERR PFX "QP event %d\n", event->event);

WARNING:SIZEOF_PARENTHESIS: sizeof *attr should be sizeof(*attr)
#250: FILE: drivers/infiniband/ulp/srp/ib_srp.c:143:
+	attr = kmalloc(sizeof *attr, GFP_KERNEL);

WARNING:SIZEOF_PARENTHESIS: sizeof *init_attr should be sizeof(*init_attr)
#278: FILE: drivers/infiniband/ulp/srp/ib_srp.c:171:
+	init_attr = kzalloc(sizeof *init_attr, GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#341: FILE: drivers/infiniband/ulp/srp/ib_srp.c:234:
+		printk(KERN_ERR PFX "Got failed path rec status %d\n", status);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#370: FILE: drivers/infiniband/ulp/srp/ib_srp.c:263:
+		printk(KERN_WARNING PFX "Path record query failed\n");

WARNING:SIZEOF_PARENTHESIS: sizeof *req should be sizeof(*req)
#383: FILE: drivers/infiniband/ulp/srp/ib_srp.c:276:
+	req = kzalloc(sizeof *req, GFP_KERNEL);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#387: FILE: drivers/infiniband/ulp/srp/ib_srp.c:280:
+^Ireq->param.primary_path ^I      = &target->path;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#388: FILE: drivers/infiniband/ulp/srp/ib_srp.c:281:
+^Ireq->param.alternate_path ^I      = NULL;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#389: FILE: drivers/infiniband/ulp/srp/ib_srp.c:282:
+^Ireq->param.service_id ^I^I      = target->service_id;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#390: FILE: drivers/infiniband/ulp/srp/ib_srp.c:283:
+^Ireq->param.qp_num ^I^I      = target->qp->qp_num;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#391: FILE: drivers/infiniband/ulp/srp/ib_srp.c:284:
+^Ireq->param.qp_type ^I^I      = target->qp->qp_type;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#392: FILE: drivers/infiniband/ulp/srp/ib_srp.c:285:
+^Ireq->param.starting_psn ^I      = 0; /* XXX */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#393: FILE: drivers/infiniband/ulp/srp/ib_srp.c:286:
+^Ireq->param.private_data ^I      = &req->priv;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#394: FILE: drivers/infiniband/ulp/srp/ib_srp.c:287:
+^Ireq->param.private_data_len ^I      = sizeof req->priv;$

WARNING:SIZEOF_PARENTHESIS: sizeof req->priv should be sizeof(req->priv)
#394: FILE: drivers/infiniband/ulp/srp/ib_srp.c:287:
+	req->param.private_data_len 	      = sizeof req->priv;

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#397: FILE: drivers/infiniband/ulp/srp/ib_srp.c:290:
+^Ireq->param.flow_control ^I      = 1;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#399: FILE: drivers/infiniband/ulp/srp/ib_srp.c:292:
+^Ireq->param.retry_count ^I^I      = 7;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#400: FILE: drivers/infiniband/ulp/srp/ib_srp.c:293:
+^Ireq->param.rnr_retry_count ^I      = 7;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#401: FILE: drivers/infiniband/ulp/srp/ib_srp.c:294:
+^Ireq->param.max_cm_retries ^I      = 15;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#403: FILE: drivers/infiniband/ulp/srp/ib_srp.c:296:
+^Ireq->priv.opcode     ^I= SRP_LOGIN_REQ;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#404: FILE: drivers/infiniband/ulp/srp/ib_srp.c:297:
+^Ireq->priv.tag        ^I= 0;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#406: FILE: drivers/infiniband/ulp/srp/ib_srp.c:299:
+^Ireq->priv.req_buf_fmt ^I= cpu_to_be16(SRP_BUF_FORMAT_DIRECT |$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#416: FILE: drivers/infiniband/ulp/srp/ib_srp.c:309:
+		printk(KERN_DEBUG PFX "Topspin/Cisco initiator port ID workaround "

WARNING:SPLIT_STRING: quoted string split across lines
#417: FILE: drivers/infiniband/ulp/srp/ib_srp.c:310:
+		printk(KERN_DEBUG PFX "Topspin/Cisco initiator port ID workaround "
+		       "activated for target GUID %016llx\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:SPACING: No space is necessary after a cast
#418: FILE: drivers/infiniband/ulp/srp/ib_srp.c:311:
+		       (unsigned long long) be64_to_cpu(target->ioc_guid));

CHECK:BRACES: braces {} should be used on all arms of this statement
#567: FILE: drivers/infiniband/ulp/srp/ib_srp.c:460:
+	if (target->state == SRP_TARGET_CONNECTING) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#570: FILE: drivers/infiniband/ulp/srp/ib_srp.c:463:
+	} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#577: FILE: drivers/infiniband/ulp/srp/ib_srp.c:470:
+	printk(KERN_ERR PFX "reconnect failed (%d), removing target port.\n", ret);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#604: FILE: drivers/infiniband/ulp/srp/ib_srp.c:497:
+		return sizeof (struct srp_cmd);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#608: FILE: drivers/infiniband/ulp/srp/ib_srp.c:501:
+		printk(KERN_WARNING PFX "Unhandled data direction %d\n",

CHECK:SPACING: No space is necessary after a cast
#622: FILE: drivers/infiniband/ulp/srp/ib_srp.c:515:
+			struct srp_direct_buf *buf = (void *) cmd->add_data;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#630: FILE: drivers/infiniband/ulp/srp/ib_srp.c:523:
+			len = sizeof (struct srp_cmd) +

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#631: FILE: drivers/infiniband/ulp/srp/ib_srp.c:524:
+				sizeof (struct srp_direct_buf);

CHECK:SPACING: No space is necessary after a cast
#633: FILE: drivers/infiniband/ulp/srp/ib_srp.c:526:
+			struct srp_indirect_buf *buf = (void *) cmd->add_data;

WARNING:SIZEOF_PARENTHESIS: sizeof *cmd should be sizeof(*cmd)
#644: FILE: drivers/infiniband/ulp/srp/ib_srp.c:537:
+							  sizeof *cmd +

WARNING:SIZEOF_PARENTHESIS: sizeof *buf should be sizeof(*buf)
#645: FILE: drivers/infiniband/ulp/srp/ib_srp.c:538:
+							  sizeof *buf);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#649: FILE: drivers/infiniband/ulp/srp/ib_srp.c:542:
+				cpu_to_be32(n * sizeof (struct srp_direct_buf));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#662: FILE: drivers/infiniband/ulp/srp/ib_srp.c:555:
+			len = sizeof (struct srp_cmd) +

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#663: FILE: drivers/infiniband/ulp/srp/ib_srp.c:556:
+				sizeof (struct srp_indirect_buf) +

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#664: FILE: drivers/infiniband/ulp/srp/ib_srp.c:557:
+				n * sizeof (struct srp_direct_buf);

CHECK:SPACING: No space is necessary after a cast
#667: FILE: drivers/infiniband/ulp/srp/ib_srp.c:560:
+		struct srp_direct_buf *buf = (void *) cmd->add_data;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#674: FILE: drivers/infiniband/ulp/srp/ib_srp.c:567:
+			printk(KERN_WARNING PFX "unable to map %p/%d (dir %d)\n",

CHECK:SPACING: No space is necessary after a cast
#675: FILE: drivers/infiniband/ulp/srp/ib_srp.c:568:
+			       scmnd->request_buffer, (int) scmnd->request_bufflen,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#688: FILE: drivers/infiniband/ulp/srp/ib_srp.c:581:
+		len = sizeof (struct srp_cmd) + sizeof (struct srp_direct_buf);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#688: FILE: drivers/infiniband/ulp/srp/ib_srp.c:581:
+		len = sizeof (struct srp_cmd) + sizeof (struct srp_direct_buf);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#696: FILE: drivers/infiniband/ulp/srp/ib_srp.c:589:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#704: FILE: drivers/infiniband/ulp/srp/ib_srp.c:597:
+	if (!scmnd->request_buffer ||
[...]
+	    return;

WARNING:TABSTOP: Statements should start on a tabstop
#707: FILE: drivers/infiniband/ulp/srp/ib_srp.c:600:
+	    return;

CHECK:SPACING: No space is necessary after a cast
#711: FILE: drivers/infiniband/ulp/srp/ib_srp.c:604:
+			     (struct scatterlist *) scmnd->request_buffer,

CHECK:SPACING: No space is necessary after a cast
#727: FILE: drivers/infiniband/ulp/srp/ib_srp.c:620:
+	delta = (s32) be32_to_cpu(rsp->req_lim_delta);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#742: FILE: drivers/infiniband/ulp/srp/ib_srp.c:635:
+^I^Iscmnd ^I      = req->scmnd;$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#744: FILE: drivers/infiniband/ulp/srp/ib_srp.c:637:
+			printk(KERN_ERR "Null scmnd for RSP w/tag %016llx\n",

CHECK:SPACING: No space is necessary after a cast
#745: FILE: drivers/infiniband/ulp/srp/ib_srp.c:638:
+			       (unsigned long long) rsp->tag);

CHECK:BRACES: braces {} should be used on all arms of this statement
#762: FILE: drivers/infiniband/ulp/srp/ib_srp.c:655:
+		if (!req->tsk_mgmt) {
[...]
+		} else
[...]

CHECK:SPACING: No space is necessary after a cast
#764: FILE: drivers/infiniband/ulp/srp/ib_srp.c:657:
+			scmnd->host_scribble = (void *) -1L;

CHECK:BRACES: Unbalanced braces around else statement
#770: FILE: drivers/infiniband/ulp/srp/ib_srp.c:663:
+		} else

CHECK:SPACING: No space is necessary after a cast
#794: FILE: drivers/infiniband/ulp/srp/ib_srp.c:687:
+	opcode = *(u8 *) iu->buf;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#799: FILE: drivers/infiniband/ulp/srp/ib_srp.c:692:
+		printk(KERN_ERR PFX "recv completion, opcode 0x%02x\n", opcode);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#803: FILE: drivers/infiniband/ulp/srp/ib_srp.c:696:
+				printk(KERN_ERR "  [%02x] ", i);

CHECK:SPACING: No space is necessary after a cast
#804: FILE: drivers/infiniband/ulp/srp/ib_srp.c:697:
+			printk(" %02x", ((u8 *) iu->buf)[i]);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#804: FILE: drivers/infiniband/ulp/srp/ib_srp.c:697:
+			printk(" %02x", ((u8 *) iu->buf)[i]);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#806: FILE: drivers/infiniband/ulp/srp/ib_srp.c:699:
+				printk("\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#810: FILE: drivers/infiniband/ulp/srp/ib_srp.c:703:
+			printk("\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#820: FILE: drivers/infiniband/ulp/srp/ib_srp.c:713:
+		printk(KERN_WARNING PFX "Got target logout request\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#824: FILE: drivers/infiniband/ulp/srp/ib_srp.c:717:
+		printk(KERN_WARNING PFX "Unhandled SRP opcode 0x%02x\n", opcode);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#841: FILE: drivers/infiniband/ulp/srp/ib_srp.c:734:
+			printk(KERN_ERR PFX "failed %s status %d\n",

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#866: FILE: drivers/infiniband/ulp/srp/ib_srp.c:759:
+^Inext ^I = target->rx_head & (SRP_RQ_SIZE - 1);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#868: FILE: drivers/infiniband/ulp/srp/ib_srp.c:761:
+^Iiu ^I = target->rx_ring[next];$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#921: FILE: drivers/infiniband/ulp/srp/ib_srp.c:814:
+		printk(KERN_ERR PFX "Target has req_lim %d\n", target->req_lim);

CHECK:SPACING: No space is necessary after a cast
#977: FILE: drivers/infiniband/ulp/srp/ib_srp.c:870:
+	scmnd->host_scribble = (void *) req_index;

WARNING:SIZEOF_PARENTHESIS: sizeof *cmd should be sizeof(*cmd)
#980: FILE: drivers/infiniband/ulp/srp/ib_srp.c:873:
+	memset(cmd, 0, sizeof *cmd);

CHECK:SPACING: No space is necessary after a cast
#983: FILE: drivers/infiniband/ulp/srp/ib_srp.c:876:
+	cmd->lun    = cpu_to_be64((u64) scmnd->device->lun << 48);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#996: FILE: drivers/infiniband/ulp/srp/ib_srp.c:889:
+		printk(KERN_ERR PFX "Failed to map data\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1001: FILE: drivers/infiniband/ulp/srp/ib_srp.c:894:
+		printk(KERN_ERR PFX "Recv failed\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1009: FILE: drivers/infiniband/ulp/srp/ib_srp.c:902:
+		printk(KERN_ERR PFX "Send failed\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1091: FILE: drivers/infiniband/ulp/srp/ib_srp.c:984:
+			printk(KERN_DEBUG PFX "Topspin/Cisco redirect to target port GID %016llx%016llx\n",

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#1092: FILE: drivers/infiniband/ulp/srp/ib_srp.c:985:
+			       (unsigned long long) be64_to_cpu(target->path.dgid.global.subnet_prefix),

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:SPACING: No space is necessary after a cast
#1092: FILE: drivers/infiniband/ulp/srp/ib_srp.c:985:
+			       (unsigned long long) be64_to_cpu(target->path.dgid.global.subnet_prefix),

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#1093: FILE: drivers/infiniband/ulp/srp/ib_srp.c:986:
+			       (unsigned long long) be64_to_cpu(target->path.dgid.global.interface_id));

CHECK:SPACING: No space is necessary after a cast
#1093: FILE: drivers/infiniband/ulp/srp/ib_srp.c:986:
+			       (unsigned long long) be64_to_cpu(target->path.dgid.global.interface_id));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1097: FILE: drivers/infiniband/ulp/srp/ib_srp.c:990:
+			printk(KERN_WARNING "  REJ reason: IB_CM_REJ_PORT_REDIRECT\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1103: FILE: drivers/infiniband/ulp/srp/ib_srp.c:996:
+		printk(KERN_WARNING "  REJ reason: IB_CM_REJ_DUPLICATE_LOCAL_COMM_ID\n");

CHECK:SPACING: No space is necessary after a cast
#1108: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1001:
+		opcode = *(u8 *) event->private_data;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1114: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1007:
+				printk(KERN_WARNING PFX

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1117: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1010:
+				printk(KERN_WARNING PFX

CHECK:BRACES: Unbalanced braces around else statement
#1119: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1012:
+		} else

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1120: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1013:
+			printk(KERN_WARNING "  REJ reason: IB_CM_REJ_CONSUMER_DEFINED,"

WARNING:SPLIT_STRING: quoted string split across lines
#1121: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1014:
+			printk(KERN_WARNING "  REJ reason: IB_CM_REJ_CONSUMER_DEFINED,"
+			       " opcode 0x%02x\n", opcode);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1126: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1019:
+		printk(KERN_WARNING "  REJ reason 0x%x\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1142: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1035:
+		printk(KERN_DEBUG PFX "Sending CM REQ failed\n");

CHECK:SPACING: No space is necessary after a cast
#1149: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1042:
+		opcode = *(u8 *) event->private_data;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1160: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1053:
+			printk(KERN_WARNING PFX "Unhandled RSP opcode %#x\n", opcode);

WARNING:SIZEOF_PARENTHESIS: sizeof *qp_attr should be sizeof(*qp_attr)
#1169: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1062:
+		qp_attr = kmalloc(sizeof *qp_attr, GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1207: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1100:
+		printk(KERN_DEBUG PFX "REJ received\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1214: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1107:
+		printk(KERN_ERR PFX "MRA received\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1221: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1114:
+		printk(KERN_ERR PFX "connection closed\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1228: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1121:
+		printk(KERN_WARNING PFX "Unhandled CM event %d\n", event->event);

CHECK:SPACING: No space is necessary after a cast
#1251: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1144:
+	if (scmnd->host_scribble == (void *) -1L)

CHECK:SPACING: No space is necessary after a cast
#1254: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1147:
+	req_index = (long) scmnd->host_scribble;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1255: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1148:
+	printk(KERN_ERR "Abort for req_index %d\n", req_index);

WARNING:SIZEOF_PARENTHESIS: sizeof *tsk_mgmt should be sizeof(*tsk_mgmt)
#1265: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1158:
+	memset(tsk_mgmt, 0, sizeof *tsk_mgmt);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1267: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1160:
+^Itsk_mgmt->opcode ^I= SRP_TSK_MGMT;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1268: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1161:
+^Itsk_mgmt->lun ^I^I= cpu_to_be64((u64) scmnd->device->lun << 48);$

CHECK:SPACING: No space is necessary after a cast
#1268: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1161:
+	tsk_mgmt->lun 		= cpu_to_be64((u64) scmnd->device->lun << 48);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1269: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1162:
+^Itsk_mgmt->tag ^I^I= req_index | SRP_TAG_TSK_MGMT;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1271: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1164:
+^Itsk_mgmt->task_tag ^I= req_index;$

WARNING:SIZEOF_PARENTHESIS: sizeof *tsk_mgmt should be sizeof(*tsk_mgmt)
#1273: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1166:
+	if (__srp_post_send(target, iu, sizeof *tsk_mgmt))

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1302: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1195:
+	printk(KERN_ERR "SRP abort called\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1309: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1202:
+	printk(KERN_ERR "SRP reset_device called\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1319: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1212:
+	printk(KERN_ERR PFX "SRP reset_host called\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1345: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1238:
+	sprintf(target->target_name, "SRP.T10:%016llX",
+		 (unsigned long long) be64_to_cpu(target->id_ext));

CHECK:SPACING: No space is necessary after a cast
#1345: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1238:
+		 (unsigned long long) be64_to_cpu(target->id_ext));

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1400: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1293:
+^I{ SRP_OPT_ID_EXT,^I"id_ext=%s" ^I},$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1401: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1294:
+^I{ SRP_OPT_IOC_GUID,^I"ioc_guid=%s" ^I},$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1402: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1295:
+^I{ SRP_OPT_DGID,^I^I"dgid=%s" ^I},$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1403: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1296:
+^I{ SRP_OPT_PKEY,^I^I"pkey=%x" ^I},$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1405: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1298:
+^I{ SRP_OPT_MAX_SECT,     "max_sect=%d" ^I},$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1406: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1299:
+^I{ SRP_OPT_ERR,^I^INULL ^I^I}$

WARNING:CONSIDER_KSTRTO: simple_strtoull is obsolete, use kstrtoull instead
#1434: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1327:
+			target->id_ext = cpu_to_be64(simple_strtoull(p, NULL, 16));

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:CONSIDER_KSTRTO: simple_strtoull is obsolete, use kstrtoull instead
#1440: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1333:
+			target->ioc_guid = cpu_to_be64(simple_strtoull(p, NULL, 16));

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1450: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1343:
+				strlcpy(dgid, p + i * 2, 3);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#1451: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1344:
+				target->path.dgid.raw[i] = simple_strtoul(dgid, NULL, 16);

WARNING:CONSIDER_KSTRTO: simple_strtoull is obsolete, use kstrtoull instead
#1463: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1356:
+			target->service_id = cpu_to_be64(simple_strtoull(p, NULL, 16));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1497: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1390:
+				      sizeof (struct srp_target_port));

WARNING:SIZEOF_PARENTHESIS: sizeof *target should be sizeof(*target)
#1502: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1395:
+	memset(target, 0, sizeof *target);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#1520: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1413:
+	printk(KERN_DEBUG PFX "new target: id_ext %016llx ioc_guid %016llx pkey %04x "

WARNING:SPLIT_STRING: quoted string split across lines
#1521: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1414:
+	printk(KERN_DEBUG PFX "new target: id_ext %016llx ioc_guid %016llx pkey %04x "
+	       "service_id %016llx dgid %04x:%04x:%04x:%04x:%04x:%04x:%04x:%04x\n",

CHECK:SPACING: No space is necessary after a cast
#1522: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1415:
+	       (unsigned long long) be64_to_cpu(target->id_ext),

CHECK:SPACING: No space is necessary after a cast
#1523: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1416:
+	       (unsigned long long) be64_to_cpu(target->ioc_guid),

CHECK:SPACING: No space is necessary after a cast
#1525: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1418:
+	       (unsigned long long) be64_to_cpu(target->service_id),

CHECK:SPACING: No space is necessary after a cast
#1526: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1419:
+	       (int) be16_to_cpu(*(__be16 *) &target->path.dgid.raw[0]),

CHECK:SPACING: No space is necessary after a cast
#1527: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1420:
+	       (int) be16_to_cpu(*(__be16 *) &target->path.dgid.raw[2]),

CHECK:SPACING: No space is necessary after a cast
#1528: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1421:
+	       (int) be16_to_cpu(*(__be16 *) &target->path.dgid.raw[4]),

CHECK:SPACING: No space is necessary after a cast
#1529: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1422:
+	       (int) be16_to_cpu(*(__be16 *) &target->path.dgid.raw[6]),

CHECK:SPACING: No space is necessary after a cast
#1530: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1423:
+	       (int) be16_to_cpu(*(__be16 *) &target->path.dgid.raw[8]),

CHECK:SPACING: No space is necessary after a cast
#1531: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1424:
+	       (int) be16_to_cpu(*(__be16 *) &target->path.dgid.raw[10]),

CHECK:SPACING: No space is necessary after a cast
#1532: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1425:
+	       (int) be16_to_cpu(*(__be16 *) &target->path.dgid.raw[12]),

CHECK:SPACING: No space is necessary after a cast
#1533: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1426:
+	       (int) be16_to_cpu(*(__be16 *) &target->path.dgid.raw[14]));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1547: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1440:
+		printk(KERN_ERR PFX "Connection failed\n");

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IWUSR' are not preferred. Consider using octal permissions '0200'.
#1572: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1465:
+static CLASS_DEVICE_ATTR(add_target, S_IWUSR, NULL, srp_create_target);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:SIZEOF_PARENTHESIS: sizeof *host should be sizeof(*host)
#1579: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1472:
+	host = kzalloc(sizeof *host, GFP_KERNEL);

WARNING:SIZEOF_PARENTHESIS: sizeof *dev_attr should be sizeof(*dev_attr)
#1638: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1531:
+	dev_attr = kmalloc(sizeof *dev_attr, GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1643: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1536:
+		printk(KERN_WARNING PFX "Couldn't query node GUID for %s.\n",

WARNING:SIZEOF_PARENTHESIS: sizeof *dev_list should be sizeof(*dev_list)
#1648: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1541:
+	dev_list = kmalloc(sizeof *dev_list, GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1736: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1629:
+		printk(KERN_ERR PFX "couldn't register class infiniband_srp\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1742: FILE: drivers/infiniband/ulp/srp/ib_srp.c:1635:
+		printk(KERN_ERR PFX "couldn't register IB client\n");

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1764: FILE: drivers/infiniband/ulp/srp/ib_srp.h:1:
+/*

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#1795: FILE: drivers/infiniband/ulp/srp/ib_srp.h:32:
+ * $Id: ib_srp.h 3893 2005-10-28 21:15:40Z roland $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1822: FILE: drivers/infiniband/ulp/srp/ib_srp.h:59:
+^ISRP_RQ_SHIFT    ^I= 6,$

CHECK:BIT_MACRO: Prefer using the BIT macro
#1830: FILE: drivers/infiniband/ulp/srp/ib_srp.h:67:
+#define SRP_OP_RECV		(1 << 31)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1832: FILE: drivers/infiniband/ulp/srp/ib_srp.h:69:
+				  sizeof (struct srp_cmd) -		\

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1833: FILE: drivers/infiniband/ulp/srp/ib_srp.h:70:
+				  sizeof (struct srp_indirect_buf)) / 16)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1887: FILE: drivers/infiniband/ulp/srp/ib_srp.h:124:
+	unsigned		rx_head;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1890: FILE: drivers/infiniband/ulp/srp/ib_srp.h:127:
+	unsigned		tx_head;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1891: FILE: drivers/infiniband/ulp/srp/ib_srp.h:128:
+	unsigned		tx_tail;

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#1975: FILE: drivers/infiniband/ulp/srp/ib_srp.h:212:
+	struct srp_direct_buf	desc_list[0] __attribute__((packed));

WARNING:LINE_SPACING: Missing a blank line after declarations
#2042: FILE: drivers/infiniband/ulp/srp/ib_srp.h:279:
+	u8	reserved2[4];
+	__be64	lun __attribute__((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#2042: FILE: drivers/infiniband/ulp/srp/ib_srp.h:279:
+	__be64	lun __attribute__((packed));

WARNING:LINE_SPACING: Missing a blank line after declarations
#2063: FILE: drivers/infiniband/ulp/srp/ib_srp.h:300:
+	u8	reserved2[4];
+	__be64	lun __attribute__((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#2063: FILE: drivers/infiniband/ulp/srp/ib_srp.h:300:
+	__be64	lun __attribute__((packed));

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000139779.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 0 errors, 127 warnings, 42 checks, 2008 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000139779.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
