WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#43: FILE: include/media/video-buf-dvb.h:1:
+#include <dvbdev.h>

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#82: FILE: drivers/media/video/video-buf-dvb.c:1:
+/*

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#83: FILE: drivers/media/video/video-buf-dvb.c:2:
+ * $Id: video-buf-dvb.c,v 1.5 2004/11/07 13:17:15 kraxel Exp $

Since linux moved to git, the CVS markers are no longer used.
So, CVS style keywords ($Id$, $Revision$, $Log$) should not be
added.

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#114: FILE: drivers/media/video/video-buf-dvb.c:33:
+static unsigned int debug = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:SPACING: space required after that ',' (ctx:VxV)
#116: FILE: drivers/media/video/video-buf-dvb.c:35:
+MODULE_PARM_DESC(debug,"enable debug messages");
                       ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:MULTISTATEMENT_MACRO_USE_DO_WHILE: Macros starting with if should be enclosed by a do - while loop to avoid possible if/else logic defects
#118: FILE: drivers/media/video/video-buf-dvb.c:37:
+#define dprintk(fmt, arg...)	if (debug)			\
+	printk(KERN_DEBUG "%s/dvb: " fmt, dvb->name, ## arg)

Macros with multiple statements should be enclosed in a
do - while block.  Same should also be the case for macros
starting with `if` to avoid logic defects::

  #define macrofun(a, b, c)                 \
    do {                                    \
            if (a == 5)                     \
                    do_this(b, c);          \
    } while (0)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#macros-enums-and-rtl

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#119: FILE: drivers/media/video/video-buf-dvb.c:38:
+	printk(KERN_DEBUG "%s/dvb: " fmt, dvb->name, ## arg)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#138: FILE: drivers/media/video/video-buf-dvb.c:57:
+		err = videobuf_waiton(buf,0,1);
 		                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#138: FILE: drivers/media/video/video-buf-dvb.c:57:
+		err = videobuf_waiton(buf,0,1);
 		                           ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#139: FILE: drivers/media/video/video-buf-dvb.c:58:
+		BUG_ON(0 != err);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#139: FILE: drivers/media/video/video-buf-dvb.c:58:
+		BUG_ON(0 != err);

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#142: FILE: drivers/media/video/video-buf-dvb.c:61:
+		if (0 == dvb->nfeeds)

ERROR:SPACING: space required after that ',' (ctx:VxO)
#155: FILE: drivers/media/video/video-buf-dvb.c:74:
+		list_add_tail(&buf->stream,&dvb->dvbq.stream);
 		                          ^

ERROR:SPACING: space required before that '&' (ctx:OxV)
#155: FILE: drivers/media/video/video-buf-dvb.c:74:
+		list_add_tail(&buf->stream,&dvb->dvbq.stream);
 		                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#156: FILE: drivers/media/video/video-buf-dvb.c:75:
+		spin_lock_irqsave(dvb->dvbq.irqlock,flags);
 		                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#157: FILE: drivers/media/video/video-buf-dvb.c:76:
+		dvb->dvbq.ops->buf_queue(&dvb->dvbq,buf);
 		                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#158: FILE: drivers/media/video/video-buf-dvb.c:77:
+		spin_unlock_irqrestore(dvb->dvbq.irqlock,flags);
 		                                        ^

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#185: FILE: drivers/media/video/video-buf-dvb.c:104:
+	if (NULL != dvb->thread)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#227: FILE: drivers/media/video/video-buf-dvb.c:146:
+		printk(KERN_WARNING "%s: dvb_register_adapter failed (errno = %d)\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#235: FILE: drivers/media/video/video-buf-dvb.c:154:
+		printk(KERN_WARNING "%s: dvb_register_frontend failed (errno = %d)\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#251: FILE: drivers/media/video/video-buf-dvb.c:170:
+		printk(KERN_WARNING "%s: dvb_dmx_init failed (errno = %d)\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#261: FILE: drivers/media/video/video-buf-dvb.c:180:
+		printk(KERN_WARNING "%s: dvb_dmxdev_init failed (errno = %d)\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#269: FILE: drivers/media/video/video-buf-dvb.c:188:
+		printk(KERN_WARNING "%s: add_frontend failed (DMX_FRONTEND_0, errno = %d)\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#277: FILE: drivers/media/video/video-buf-dvb.c:196:
+		printk(KERN_WARNING "%s: add_frontend failed (DMX_MEMORY_FE, errno = %d)\n",

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#284: FILE: drivers/media/video/video-buf-dvb.c:203:
+		printk(KERN_WARNING "%s: connect_frontend failed (errno = %d)\n",

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#320: FILE: drivers/media/video/video-buf-dvb.c:239:
+EXPORT_SYMBOL(videobuf_dvb_register);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#321: FILE: drivers/media/video/video-buf-dvb.c:240:
+EXPORT_SYMBOL(videobuf_dvb_unregister);

WARNING:DEPRECATED_VARIABLE: Use of EXTRA_CFLAGS is deprecated, please use `ccflags-y instead.
#357: FILE: drivers/media/video/Makefile:54:
+EXTRA_CFLAGS += -I$(srctree)/drivers/media/dvb/dvb-core

EXTRA_{A,C,CPP,LD}FLAGS are deprecated and should be replaced by the new
flags added via commit f77bf01425b1 ("kbuild: introduce ccflags-y,
asflags-y and ldflags-y").

The following conversion scheme maybe used::

  EXTRA_AFLAGS    ->  asflags-y
  EXTRA_CFLAGS    ->  ccflags-y
  EXTRA_CPPFLAGS  ->  cppflags-y
  EXTRA_LDFLAGS   ->  ldflags-y

See:

  1. https://lore.kernel.org/lkml/20070930191054.GA15876@uranus.ravnborg.org/
  2. https://lore.kernel.org/lkml/1313384834-24433-12-git-send-email-lacombar@gmail.com/
  3. https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#compilation-flags

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000232938.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 10 errors, 18 warnings, 0 checks, 300 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000232938.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
