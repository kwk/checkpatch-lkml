WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#30: 
One of my ATAPI drives developed a real dislike to 2.5.55 and above, which gave

WARNING:PATCH_PREFIX: patch prefix 'drivers' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix 'drivers' exists, appears to be a -p0 patch

CHECK:SPACING: No space is necessary after a cast
#126: FILE: scsi/ide-scsi.c:294:
+	rq->buffer = (void *) failed_command;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#130: FILE: scsi/ide-scsi.c:297:
+		printk (IDESCSI_LOG "ide-scsi: %s: queue cmd = ", drive->name);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#130: FILE: scsi/ide-scsi.c:297:
+		printk (IDESCSI_LOG "ide-scsi: %s: queue cmd = ", drive->name);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#151: FILE: scsi/ide-scsi.c:325:
+			printk (IDESCSI_LOG "ide-scsi: %s: wrap up check %lu, rst = ",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#151: FILE: scsi/ide-scsi.c:325:
+			printk (IDESCSI_LOG "ide-scsi: %s: wrap up check %lu, rst = ",

ERROR:CODE_INDENT: code indent should use tabs where possible
#152: FILE: scsi/ide-scsi.c:326:
+^I^I^I^I       ^Idrive->name, opc->scsi_cmd->serial_number);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#152: FILE: scsi/ide-scsi.c:326:
+^I^I^I^I       ^Idrive->name, opc->scsi_cmd->serial_number);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#152: FILE: scsi/ide-scsi.c:326:
+			printk (IDESCSI_LOG "ide-scsi: %s: wrap up check %lu, rst = ",
+				       	drive->name, opc->scsi_cmd->serial_number);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#161: FILE: scsi/ide-scsi.c:339:
+			printk (IDESCSI_LOG "ide-scsi: %s: I/O error for %lu\n",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#161: FILE: scsi/ide-scsi.c:339:
+			printk (IDESCSI_LOG "ide-scsi: %s: I/O error for %lu\n",

ERROR:CODE_INDENT: code indent should use tabs where possible
#162: FILE: scsi/ide-scsi.c:340:
+^I^I^I^I       ^Idrive->name, pc->scsi_cmd->serial_number);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#162: FILE: scsi/ide-scsi.c:340:
+^I^I^I^I       ^Idrive->name, pc->scsi_cmd->serial_number);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#162: FILE: scsi/ide-scsi.c:340:
+			printk (IDESCSI_LOG "ide-scsi: %s: I/O error for %lu\n",
+				       	drive->name, pc->scsi_cmd->serial_number);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#167: FILE: scsi/ide-scsi.c:343:
+			printk (IDESCSI_LOG "ide-scsi: %s: check condition for %lu\n",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#167: FILE: scsi/ide-scsi.c:343:
+			printk (IDESCSI_LOG "ide-scsi: %s: check condition for %lu\n",

ERROR:CODE_INDENT: code indent should use tabs where possible
#168: FILE: scsi/ide-scsi.c:344:
+^I^I^I^I       ^Idrive->name, pc->scsi_cmd->serial_number);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#168: FILE: scsi/ide-scsi.c:344:
+^I^I^I^I       ^Idrive->name, pc->scsi_cmd->serial_number);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#168: FILE: scsi/ide-scsi.c:344:
+			printk (IDESCSI_LOG "ide-scsi: %s: check condition for %lu\n",
+				       	drive->name, pc->scsi_cmd->serial_number);

WARNING:LONG_LINE: line length of 111 exceeds 100 columns
#178: FILE: scsi/ide-scsi.c:353:
+			printk (IDESCSI_LOG "ide-scsi: %s: suc %lu", drive->name, pc->scsi_cmd->serial_number);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#178: FILE: scsi/ide-scsi.c:353:
+			printk (IDESCSI_LOG "ide-scsi: %s: suc %lu", drive->name, pc->scsi_cmd->serial_number);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#178: FILE: scsi/ide-scsi.c:353:
+			printk (IDESCSI_LOG "ide-scsi: %s: suc %lu", drive->name, pc->scsi_cmd->serial_number);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#187: FILE: scsi/ide-scsi.c:393:
+	printk (IDESCSI_DEBUG "ide-scsi: Reached idescsi_pc_intr interrupt handler\n");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#187: FILE: scsi/ide-scsi.c:393:
+	printk (IDESCSI_DEBUG "ide-scsi: Reached idescsi_pc_intr interrupt handler\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#193: FILE: scsi/ide-scsi.c:398:
+		printk (IDESCSI_DEBUG "ide-scsi: %s: DMA complete\n", drive->name);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#193: FILE: scsi/ide-scsi.c:398:
+		printk (IDESCSI_DEBUG "ide-scsi: %s: DMA complete\n", drive->name);

WARNING:LONG_LINE: line length of 122 exceeds 100 columns
#202: FILE: scsi/ide-scsi.c:411:
+			printk (IDESCSI_LOG "Packet command completed, %d bytes transferred\n", pc->actually_transferred);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#202: FILE: scsi/ide-scsi.c:411:
+			printk (IDESCSI_LOG "Packet command completed, %d bytes transferred\n", pc->actually_transferred);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#202: FILE: scsi/ide-scsi.c:411:
+			printk (IDESCSI_LOG "Packet command completed, %d bytes transferred\n", pc->actually_transferred);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#211: FILE: scsi/ide-scsi.c:449:
+			printk (IDESCSI_DEBUG "ide-scsi: The scsi wants to send us more data than expected - allowing transfer\n");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#211: FILE: scsi/ide-scsi.c:449:
+			printk (IDESCSI_DEBUG "ide-scsi: The scsi wants to send us more data than expected - allowing transfer\n");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#221: FILE: scsi/ide-scsi.c:556:
+	printk (IDESCSI_DEBUG "rq_status: %d, dev: %s, cmd: %x, errors: %d\n",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#221: FILE: scsi/ide-scsi.c:556:
+	printk (IDESCSI_DEBUG "rq_status: %d, dev: %s, cmd: %x, errors: %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#222: FILE: scsi/ide-scsi.c:557:
+	printk (IDESCSI_DEBUG "rq_status: %d, dev: %s, cmd: %x, errors: %d\n",
+			rq->rq_status, rq->rq_disk->disk_name,rq->cmd[0],rq->errors);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#222: FILE: scsi/ide-scsi.c:557:
+			rq->rq_status, rq->rq_disk->disk_name,rq->cmd[0],rq->errors);
 			                                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#222: FILE: scsi/ide-scsi.c:557:
+			rq->rq_status, rq->rq_disk->disk_name,rq->cmd[0],rq->errors);
 			                                                ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#223: FILE: scsi/ide-scsi.c:558:
+	printk (IDESCSI_DEBUG "sector: %ld, nr_sectors: %ld, current_nr_sectors: %d\n",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#223: FILE: scsi/ide-scsi.c:558:
+	printk (IDESCSI_DEBUG "sector: %ld, nr_sectors: %ld, current_nr_sectors: %d\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#224: FILE: scsi/ide-scsi.c:559:
+	printk (IDESCSI_DEBUG "sector: %ld, nr_sectors: %ld, current_nr_sectors: %d\n",
+			rq->sector,rq->nr_sectors,rq->current_nr_sectors);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#224: FILE: scsi/ide-scsi.c:559:
+			rq->sector,rq->nr_sectors,rq->current_nr_sectors);
 			          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#224: FILE: scsi/ide-scsi.c:559:
+			rq->sector,rq->nr_sectors,rq->current_nr_sectors);
 			                         ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#233: FILE: scsi/ide-scsi.c:778:
+		printk (IDESCSI_DEBUG "ide-scsi: %s: building DMA table, %d segments, %dkB total\n",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#233: FILE: scsi/ide-scsi.c:778:
+		printk (IDESCSI_DEBUG "ide-scsi: %s: building DMA table, %d segments, %dkB total\n",

ERROR:CODE_INDENT: code indent should use tabs where possible
#234: FILE: scsi/ide-scsi.c:779:
+^I^I^I       ^Idrive->name, segments, pc->request_transfer >> 10);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#234: FILE: scsi/ide-scsi.c:779:
+^I^I^I       ^Idrive->name, segments, pc->request_transfer >> 10);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#234: FILE: scsi/ide-scsi.c:779:
+		printk (IDESCSI_DEBUG "ide-scsi: %s: building DMA table, %d segments, %dkB total\n",
+			       	drive->name, segments, pc->request_transfer >> 10);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#243: FILE: scsi/ide-scsi.c:793:
+		printk (IDESCSI_DEBUG "ide-scsi: %s: building DMA table for a single buffer (%dkB)\n",

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#243: FILE: scsi/ide-scsi.c:793:
+		printk (IDESCSI_DEBUG "ide-scsi: %s: building DMA table for a single buffer (%dkB)\n",

ERROR:CODE_INDENT: code indent should use tabs where possible
#244: FILE: scsi/ide-scsi.c:794:
+^I^I^I       ^Idrive->name, pc->request_transfer >> 10);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#244: FILE: scsi/ide-scsi.c:794:
+^I^I^I       ^Idrive->name, pc->request_transfer >> 10);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#244: FILE: scsi/ide-scsi.c:794:
+		printk (IDESCSI_DEBUG "ide-scsi: %s: building DMA table for a single buffer (%dkB)\n",
+			       	drive->name, pc->request_transfer >> 10);

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#253: FILE: scsi/ide-scsi.c:858:
+		printk (IDESCSI_LOG "ide-scsi: %s: que %lu, cmd = ", drive->name, cmd->serial_number);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#253: FILE: scsi/ide-scsi.c:858:
+		printk (IDESCSI_LOG "ide-scsi: %s: que %lu, cmd = ", drive->name, cmd->serial_number);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#253: FILE: scsi/ide-scsi.c:858:
+		printk (IDESCSI_LOG "ide-scsi: %s: que %lu, cmd = ", drive->name, cmd->serial_number);

WARNING:LONG_LINE: line length of 110 exceeds 100 columns
#257: FILE: scsi/ide-scsi.c:861:
+			printk (IDESCSI_LOG "ide-scsi: %s: que %lu, tsl = ", drive->name, cmd->serial_number);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#257: FILE: scsi/ide-scsi.c:861:
+			printk (IDESCSI_LOG "ide-scsi: %s: que %lu, tsl = ", drive->name, cmd->serial_number);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#257: FILE: scsi/ide-scsi.c:861:
+			printk (IDESCSI_LOG "ide-scsi: %s: que %lu, tsl = ", drive->name, cmd->serial_number);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#290: FILE: scsi/ide-scsi.c:889:
+	if (!drive || !(scsi = drive->driver_data))

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#297: FILE: scsi/ide-scsi.c:896:
+		printk (IDESCSI_LOG "ide-scsi: abort called for %lu\n", cmd->serial_number);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#297: FILE: scsi/ide-scsi.c:896:
+		printk (IDESCSI_LOG "ide-scsi: abort called for %lu\n", cmd->serial_number);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#302: FILE: scsi/ide-scsi.c:901:
+		 * need to lock so this stuff doesn't change under us */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:TRAILING_WHITESPACE: trailing whitespace
#304: FILE: scsi/ide-scsi.c:903:
+^I^Iif (scsi->pc && scsi->pc->scsi_cmd && $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#305: FILE: scsi/ide-scsi.c:904:
+		if (scsi->pc && scsi->pc->scsi_cmd && 
+				scsi->pc->scsi_cmd->serial_number == cmd->serial_number) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#306: FILE: scsi/ide-scsi.c:905:
+^I^I^I/* yep - let's give it some more time - $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#307: FILE: scsi/ide-scsi.c:906:
+			 * we can do that, we're in _our_ error kernel thread */

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#321: FILE: scsi/ide-scsi.c:920:
+		schedule_timeout(HZ/10);
 		                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#329: FILE: scsi/ide-scsi.c:928:
+^Iint countdown = 8; $

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#342: FILE: scsi/ide-scsi.c:939:
+	if (!drive || !(scsi = drive->driver_data))

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#346: FILE: scsi/ide-scsi.c:943:
+		printk (IDESCSI_LOG "ide-scsi: reset called for %lu\n", cmd->serial_number);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#346: FILE: scsi/ide-scsi.c:943:
+		printk (IDESCSI_LOG "ide-scsi: reset called for %lu\n", cmd->serial_number);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#350: FILE: scsi/ide-scsi.c:946:
+^I * the lock prevents processing new requests $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#351: FILE: scsi/ide-scsi.c:947:
+	 * we countdown to avoid deadlock */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#363: FILE: scsi/ide-scsi.c:958:
+			printk (IDESCSI_LOG "ide-scsi: handler did not finish\n");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#363: FILE: scsi/ide-scsi.c:958:
+			printk (IDESCSI_LOG "ide-scsi: handler did not finish\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#378: FILE: scsi/ide-scsi.c:972:
+	 * holding the ide lock for a long time during the reset */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#384: FILE: scsi/ide-scsi.c:976:
+	ide_do_reset (drive);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#387: FILE: scsi/ide-scsi.c:979:
+	 * usually, that is enough, but we call repeatedly, just to be covered */

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#391: FILE: scsi/ide-scsi.c:983:
+			printk (IDESCSI_LOG "ide-scsi: waiting for reset drive to complete\n");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#391: FILE: scsi/ide-scsi.c:983:
+			printk (IDESCSI_LOG "ide-scsi: waiting for reset drive to complete\n");

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#393: FILE: scsi/ide-scsi.c:985:
+	if (countdown) spin_unlock_irq(&ide_lock);

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#396: FILE: scsi/ide-scsi.c:988:
+		printk (KERN_CRIT "ide-scsi: reset drive did not complete in time\n");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#396: FILE: scsi/ide-scsi.c:988:
+		printk (KERN_CRIT "ide-scsi: reset drive did not complete in time\n");

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000397350.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 16 errors, 58 warnings, 10 checks, 343 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000397350.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
