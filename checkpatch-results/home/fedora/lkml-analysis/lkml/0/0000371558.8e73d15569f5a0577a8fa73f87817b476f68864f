ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#42: 
--- a/drivers/char/drm/drmP.h	Sat May 10 01:47:43 2003

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#50: FILE: drivers/char/drm/drmP.h:228:
+#define DRM_IOREMAP(map, dev)							\
+	(map)->handle = DRM(ioremap)( (map)->offset, (map)->size, (dev) )

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'map' - possible side-effects?
#50: FILE: drivers/char/drm/drmP.h:228:
+#define DRM_IOREMAP(map, dev)							\
+	(map)->handle = DRM(ioremap)( (map)->offset, (map)->size, (dev) )

ERROR:SPACING: space prohibited after that open parenthesis '('
#51: FILE: drivers/char/drm/drmP.h:229:
+	(map)->handle = DRM(ioremap)( (map)->offset, (map)->size, (dev) )

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close parenthesis ')'
#51: FILE: drivers/char/drm/drmP.h:229:
+	(map)->handle = DRM(ioremap)( (map)->offset, (map)->size, (dev) )

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#55: FILE: drivers/char/drm/drmP.h:231:
+#define DRM_IOREMAP_NOCACHE(map, dev)						\
+	(map)->handle = DRM(ioremap_nocache)((map)->offset, (map)->size, (dev))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'map' - possible side-effects?
#55: FILE: drivers/char/drm/drmP.h:231:
+#define DRM_IOREMAP_NOCACHE(map, dev)						\
+	(map)->handle = DRM(ioremap_nocache)((map)->offset, (map)->size, (dev))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'map' - possible side-effects?
#62: FILE: drivers/char/drm/drmP.h:234:
+#define DRM_IOREMAPFREE(map, dev)							\
+	do {									\
+		if ( (map)->handle && (map)->size )				\
+			DRM(ioremapfree)( (map)->handle, (map)->size, (dev) );	\
 	} while (0)

ERROR:SPACING: space prohibited after that open parenthesis '('
#64: FILE: drivers/char/drm/drmP.h:236:
+		if ( (map)->handle && (map)->size )				\

ERROR:SPACING: space prohibited before that close parenthesis ')'
#64: FILE: drivers/char/drm/drmP.h:236:
+		if ( (map)->handle && (map)->size )				\

ERROR:SPACING: space prohibited after that open parenthesis '('
#65: FILE: drivers/char/drm/drmP.h:237:
+			DRM(ioremapfree)( (map)->handle, (map)->size, (dev) );	\

ERROR:SPACING: space prohibited before that close parenthesis ')'
#65: FILE: drivers/char/drm/drmP.h:237:
+			DRM(ioremapfree)( (map)->handle, (map)->size, (dev) );	\

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#76: FILE: drivers/char/drm/drmP.h:655:
+extern void	     *DRM(ioremap)(unsigned long offset, unsigned long size, drm_device_t *dev);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#77: FILE: drivers/char/drm/drmP.h:656:
+extern void	     *DRM(ioremap_nocache)(unsigned long offset, unsigned long size,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#79: FILE: drivers/char/drm/drmP.h:658:
+extern void	     DRM(ioremapfree)(void *pt, unsigned long size, drm_device_t *dev);

ERROR:SPACING: space prohibited after that open parenthesis '('
#91: FILE: drivers/char/drm/drm_bufs.h:126:
+		map->handle = DRM(ioremap)( map->offset, map->size, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#91: FILE: drivers/char/drm/drm_bufs.h:126:
+		map->handle = DRM(ioremap)( map->offset, map->size, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#112: FILE: drivers/char/drm/drm_drv.h:457:
+				DRM(ioremapfree)( map->handle, map->size, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#112: FILE: drivers/char/drm/drm_drv.h:457:
+				DRM(ioremapfree)( map->handle, map->size, dev );

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#140: FILE: drivers/char/drm/drm_memory.h:51:
+drm_lookup_map (unsigned long offset, unsigned long size, drm_device_t *dev)

CHECK:SPACING: No space is necessary after a cast
#147: FILE: drivers/char/drm/drm_memory.h:58:
+		r_list = (drm_map_list_t *) list;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#158: FILE: drivers/char/drm/drm_memory.h:69:
+agp_remap (unsigned long offset, unsigned long size, drm_device_t *dev)

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#169: FILE: drivers/char/drm/drm_memory.h:80:
+		if (agpmem->bound <= offset
+		    && (agpmem->bound + (agpmem->pages << PAGE_SHIFT)) >= (offset + size))

CHECK:SPACING: No space is necessary after a cast
#192: FILE: drivers/char/drm/drm_memory.h:103:
+	flush_tlb_kernel_range((unsigned long) addr, (unsigned long) addr + size);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#197: FILE: drivers/char/drm/drm_memory.h:108:
+drm_follow_page (void *vaddr)

CHECK:SPACING: No space is necessary after a cast
#199: FILE: drivers/char/drm/drm_memory.h:110:
+	pgd_t *pgd = pgd_offset_k((unsigned long) vaddr);

CHECK:SPACING: No space is necessary after a cast
#200: FILE: drivers/char/drm/drm_memory.h:111:
+	pmd_t *pmd = pmd_offset(pgd, (unsigned long) vaddr);

CHECK:SPACING: No space is necessary after a cast
#201: FILE: drivers/char/drm/drm_memory.h:112:
+	pte_t *ptep = pte_offset_kernel(pmd, (unsigned long) vaddr);

WARNING:LINE_SPACING: Missing a blank line after declarations
#202: FILE: drivers/char/drm/drm_memory.h:113:
+	pte_t *ptep = pte_offset_kernel(pmd, (unsigned long) vaddr);
+	return pte_pfn(*ptep) << PAGE_SHIFT;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#208: FILE: drivers/char/drm/drm_memory.h:119:
+agp_remap (unsigned long offset, unsigned long size, drm_device_t *dev)

ERROR:CODE_INDENT: code indent should use tabs where possible
#229: FILE: drivers/char/drm/drm_memory.h:140:
+ ^Ielse$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#229: FILE: drivers/char/drm/drm_memory.h:140:
+ ^Ielse$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#229: FILE: drivers/char/drm/drm_memory.h:140:
+ ^Ielse$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#261: FILE: drivers/char/drm/drm_memory.h:172:
+	if (dev->agp->cant_use_aperture
+	    && ((unsigned long) pt >= VMALLOC_START && (unsigned long) pt < VMALLOC_END))
+	{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#262: FILE: drivers/char/drm/drm_memory.h:173:
+	if (dev->agp->cant_use_aperture
+	    && ((unsigned long) pt >= VMALLOC_START && (unsigned long) pt < VMALLOC_END))

CHECK:SPACING: No space is necessary after a cast
#262: FILE: drivers/char/drm/drm_memory.h:173:
+	    && ((unsigned long) pt >= VMALLOC_START && (unsigned long) pt < VMALLOC_END))

CHECK:SPACING: No space is necessary after a cast
#267: FILE: drivers/char/drm/drm_memory.h:178:
+		offset = drm_follow_page(pt) | ((unsigned long) pt & ~PAGE_MASK);

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#324: FILE: drivers/char/drm/drm_memory_debug.h:282:
+	if (!(pt = drm_ioremap(offset, size, dev))) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#342: FILE: drivers/char/drm/drm_memory_debug.h:305:
+	if (!(pt = drm_ioremap_nocache(offset, size, dev))) {

WARNING:TABSTOP: Statements should start on a tabstop
#398: FILE: drivers/char/drm/drm_vm.h:424:
+	  if (dev->agp->cant_use_aperture) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#404: FILE: drivers/char/drm/drm_vm.h:426:
+                 * On some platforms we can't talk to bus dma address from the CPU, so for$

ERROR:CODE_INDENT: code indent should use tabs where possible
#405: FILE: drivers/char/drm/drm_vm.h:427:
+                 * memory of type DRM_AGP, we'll deal with sorting out the real physical$

ERROR:CODE_INDENT: code indent should use tabs where possible
#406: FILE: drivers/char/drm/drm_vm.h:428:
+                 * pages and mappings in nopage()$

WARNING:TABSTOP: Statements should start on a tabstop
#410: FILE: drivers/char/drm/drm_vm.h:432:
+	  }

ERROR:SPACING: space prohibited after that open parenthesis '('
#442: FILE: drivers/char/drm/gamma_dma.c:615:
+		DRM_IOREMAP( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#442: FILE: drivers/char/drm/gamma_dma.c:615:
+		DRM_IOREMAP( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#451: FILE: drivers/char/drm/gamma_dma.c:654:
+			DRM_IOREMAPFREE( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#451: FILE: drivers/char/drm/gamma_dma.c:654:
+			DRM_IOREMAPFREE( dev_priv->buffers, dev );

CHECK:CAMELCASE: Avoid CamelCase: <Size>
#463: FILE: drivers/char/drm/i810_dma.c:249:
+					 dev_priv->ring.Size, dev);

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

ERROR:SPACING: space prohibited after that open parenthesis '('
#543: FILE: drivers/char/drm/mga_dma.c:557:
+	DRM_IOREMAP( dev_priv->warp, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#543: FILE: drivers/char/drm/mga_dma.c:557:
+	DRM_IOREMAP( dev_priv->warp, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#544: FILE: drivers/char/drm/mga_dma.c:558:
+	DRM_IOREMAP( dev_priv->primary, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#544: FILE: drivers/char/drm/mga_dma.c:558:
+	DRM_IOREMAP( dev_priv->primary, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#545: FILE: drivers/char/drm/mga_dma.c:559:
+	DRM_IOREMAP( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#545: FILE: drivers/char/drm/mga_dma.c:559:
+	DRM_IOREMAP( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#554: FILE: drivers/char/drm/mga_dma.c:654:
+			DRM_IOREMAPFREE( dev_priv->warp, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#554: FILE: drivers/char/drm/mga_dma.c:654:
+			DRM_IOREMAPFREE( dev_priv->warp, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#557: FILE: drivers/char/drm/mga_dma.c:656:
+			DRM_IOREMAPFREE( dev_priv->primary, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#557: FILE: drivers/char/drm/mga_dma.c:656:
+			DRM_IOREMAPFREE( dev_priv->primary, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#560: FILE: drivers/char/drm/mga_dma.c:658:
+			DRM_IOREMAPFREE( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#560: FILE: drivers/char/drm/mga_dma.c:658:
+			DRM_IOREMAPFREE( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#572: FILE: drivers/char/drm/mga_drv.h:229:
+		DRM_INFO( "   space=0x%x req=0x%Zx\n",			\

WARNING:PRINTF_Z: %Zx is non-standard C, use %zx
#572: FILE: drivers/char/drm/mga_drv.h:229:
+		DRM_INFO( "   space=0x%x req=0x%Zx\n",			\

ERROR:SPACING: space prohibited after that open parenthesis '('
#581: FILE: drivers/char/drm/mga_drv.h:279:
+		DRM_INFO( "   DMA_WRITE( 0x%08x ) at 0x%04Zx\n",	\

WARNING:PRINTF_Z: %Zx is non-standard C, use %zx
#581: FILE: drivers/char/drm/mga_drv.h:279:
+		DRM_INFO( "   DMA_WRITE( 0x%08x ) at 0x%04Zx\n",	\

ERROR:SPACING: space prohibited after that open parenthesis '('
#594: FILE: drivers/char/drm/r128_cce.c:353:
+		DRM_DEBUG( "ring rptr: offset=0x%08lx handle=0x%08lx\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#595: FILE: drivers/char/drm/r128_cce.c:354:
+		DRM_DEBUG( "ring rptr: offset=0x%08lx handle=0x%08lx\n",
+			   (unsigned long) entry->busaddr[page_ofs],

CHECK:SPACING: No space is necessary after a cast
#595: FILE: drivers/char/drm/r128_cce.c:354:
+			   (unsigned long) entry->busaddr[page_ofs],

ERROR:SPACING: space prohibited after that open parenthesis '('
#606: FILE: drivers/char/drm/r128_cce.c:543:
+		DRM_IOREMAP( dev_priv->cce_ring, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#606: FILE: drivers/char/drm/r128_cce.c:543:
+		DRM_IOREMAP( dev_priv->cce_ring, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#607: FILE: drivers/char/drm/r128_cce.c:544:
+		DRM_IOREMAP( dev_priv->ring_rptr, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#607: FILE: drivers/char/drm/r128_cce.c:544:
+		DRM_IOREMAP( dev_priv->ring_rptr, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#608: FILE: drivers/char/drm/r128_cce.c:545:
+		DRM_IOREMAP( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#608: FILE: drivers/char/drm/r128_cce.c:545:
+		DRM_IOREMAP( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#617: FILE: drivers/char/drm/r128_cce.c:632:
+				DRM_IOREMAPFREE( dev_priv->cce_ring, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#617: FILE: drivers/char/drm/r128_cce.c:632:
+				DRM_IOREMAPFREE( dev_priv->cce_ring, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#620: FILE: drivers/char/drm/r128_cce.c:634:
+				DRM_IOREMAPFREE( dev_priv->ring_rptr, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#620: FILE: drivers/char/drm/r128_cce.c:634:
+				DRM_IOREMAPFREE( dev_priv->ring_rptr, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#623: FILE: drivers/char/drm/r128_cce.c:636:
+				DRM_IOREMAPFREE( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#623: FILE: drivers/char/drm/r128_cce.c:636:
+				DRM_IOREMAPFREE( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#636: FILE: drivers/char/drm/radeon_cp.c:906:
+		DRM_DEBUG( "ring rptr: offset=0x%08lx handle=0x%08lx\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#637: FILE: drivers/char/drm/radeon_cp.c:907:
+		DRM_DEBUG( "ring rptr: offset=0x%08lx handle=0x%08lx\n",
+			   (unsigned long) entry->busaddr[page_ofs],

CHECK:SPACING: No space is necessary after a cast
#637: FILE: drivers/char/drm/radeon_cp.c:907:
+			   (unsigned long) entry->busaddr[page_ofs],

ERROR:SPACING: space prohibited after that open parenthesis '('
#648: FILE: drivers/char/drm/radeon_cp.c:1155:
+		DRM_IOREMAP( dev_priv->cp_ring, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#648: FILE: drivers/char/drm/radeon_cp.c:1155:
+		DRM_IOREMAP( dev_priv->cp_ring, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#649: FILE: drivers/char/drm/radeon_cp.c:1156:
+		DRM_IOREMAP( dev_priv->ring_rptr, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#649: FILE: drivers/char/drm/radeon_cp.c:1156:
+		DRM_IOREMAP( dev_priv->ring_rptr, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#650: FILE: drivers/char/drm/radeon_cp.c:1157:
+		DRM_IOREMAP( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#650: FILE: drivers/char/drm/radeon_cp.c:1157:
+		DRM_IOREMAP( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#659: FILE: drivers/char/drm/radeon_cp.c:1282:
+				DRM_IOREMAPFREE( dev_priv->cp_ring, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#659: FILE: drivers/char/drm/radeon_cp.c:1282:
+				DRM_IOREMAPFREE( dev_priv->cp_ring, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#662: FILE: drivers/char/drm/radeon_cp.c:1284:
+				DRM_IOREMAPFREE( dev_priv->ring_rptr, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#662: FILE: drivers/char/drm/radeon_cp.c:1284:
+				DRM_IOREMAPFREE( dev_priv->ring_rptr, dev );

ERROR:SPACING: space prohibited after that open parenthesis '('
#665: FILE: drivers/char/drm/radeon_cp.c:1286:
+				DRM_IOREMAPFREE( dev_priv->buffers, dev );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#665: FILE: drivers/char/drm/radeon_cp.c:1286:
+				DRM_IOREMAPFREE( dev_priv->buffers, dev );

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000371558.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 64 errors, 11 warnings, 20 checks, 595 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000371558.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
