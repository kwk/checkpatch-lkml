ERROR:TRAILING_WHITESPACE: trailing whitespace
#147: FILE: drivers/i2c/busses/i2c-iop3xx.c:7:
+ * With acknowledgements to i2c-algo-ibm_ocp.c by $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#153: FILE: drivers/i2c/busses/i2c-iop3xx.c:13:
+ *  $

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#154: FILE: drivers/i2c/busses/i2c-iop3xx.c:14:
+ * And which acknowledged Kyösti Mälkki <kmalkki@cc.hut.fi>,
                             ^

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#178: FILE: drivers/i2c/busses/i2c-iop3xx.c:41:
+#include <asm/io.h>

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#185: FILE: drivers/i2c/busses/i2c-iop3xx.c:46:
+static int i2c_id = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#197: FILE: drivers/i2c/busses/i2c-iop3xx.c:48:
+static inline unsigned char $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#198: FILE: drivers/i2c/busses/i2c-iop3xx.c:49:
+iic_cook_addr(struct i2c_msg *msg) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#218: FILE: drivers/i2c/busses/i2c-iop3xx.c:67:
+static void $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#231: FILE: drivers/i2c/busses/i2c-iop3xx.c:76:
+static void $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#239: FILE: drivers/i2c/busses/i2c-iop3xx.c:82:
+static void $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#245: FILE: drivers/i2c/busses/i2c-iop3xx.c:87:
+^I/* $

WARNING:TYPO_SPELLING: 'Everytime' may be misspelled - perhaps 'Every time'?
#246: FILE: drivers/i2c/busses/i2c-iop3xx.c:88:
+	 * Everytime unit enable is asserted, GPOD needs to be cleared
 	   ^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#253: FILE: drivers/i2c/busses/i2c-iop3xx.c:95:
+^I*IOP321_GPOD &= (iop3xx_adap->id == 0) ? ~IOP321_GPOD_I2C0 : $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#260: FILE: drivers/i2c/busses/i2c-iop3xx.c:99:
+^Iiop3xx_adap->SR_enabled = $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#274: FILE: drivers/i2c/busses/i2c-iop3xx.c:109:
+static void $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#284: FILE: drivers/i2c/busses/i2c-iop3xx.c:114:
+^Icr &= ~(IOP3XX_ICR_MSTART | IOP3XX_ICR_TBYTE | $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#305: FILE: drivers/i2c/busses/i2c-iop3xx.c:124:
+static irqreturn_t $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#306: FILE: drivers/i2c/busses/i2c-iop3xx.c:125:
+iop3xx_i2c_irq_handler(int this_irq, void *dev_id, struct pt_regs *regs) $

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#316: FILE: drivers/i2c/busses/i2c-iop3xx.c:130:
+	if ((sr &= iop3xx_adap->SR_enabled)) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#326: FILE: drivers/i2c/busses/i2c-iop3xx.c:139:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#343: FILE: drivers/i2c/busses/i2c-iop3xx.c:153:
+static inline u32 $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#364: FILE: drivers/i2c/busses/i2c-iop3xx.c:174:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#365: FILE: drivers/i2c/busses/i2c-iop3xx.c:175:
+iop3xx_i2c_wait_event(struct i2c_algo_iop3xx_data *iop3xx_adap, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#366: FILE: drivers/i2c/busses/i2c-iop3xx.c:176:
+iop3xx_i2c_wait_event(struct i2c_algo_iop3xx_data *iop3xx_adap, 
+			  unsigned flags, unsigned* status,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#366: FILE: drivers/i2c/busses/i2c-iop3xx.c:176:
+			  unsigned flags, unsigned* status,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int*' to bare use of 'unsigned*'
#366: FILE: drivers/i2c/busses/i2c-iop3xx.c:176:
+			  unsigned flags, unsigned* status,

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#366: FILE: drivers/i2c/busses/i2c-iop3xx.c:176:
+			  unsigned flags, unsigned* status,

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LONG_LINE: line length of 130 exceeds 100 columns
#377: FILE: drivers/i2c/busses/i2c-iop3xx.c:187:
+			(done = compare( sr = iop3xx_i2c_get_srstat(iop3xx_adap)					,flags )),

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#377: FILE: drivers/i2c/busses/i2c-iop3xx.c:187:
+			(done = compare( sr = iop3xx_i2c_get_srstat(iop3xx_adap)					,flags )),
 			                                                        					^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:WxV)
#377: FILE: drivers/i2c/busses/i2c-iop3xx.c:187:
+			(done = compare( sr = iop3xx_i2c_get_srstat(iop3xx_adap)					,flags )),
 			                                                        					^

ERROR:SPACING: space prohibited after that open parenthesis '('
#377: FILE: drivers/i2c/busses/i2c-iop3xx.c:187:
+			(done = compare( sr = iop3xx_i2c_get_srstat(iop3xx_adap)					,flags )),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#377: FILE: drivers/i2c/busses/i2c-iop3xx.c:187:
+			(done = compare( sr = iop3xx_i2c_get_srstat(iop3xx_adap)					,flags )),

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#381: FILE: drivers/i2c/busses/i2c-iop3xx.c:190:
+		if ((rc = iop3xx_i2c_error(sr)) < 0) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#394: FILE: drivers/i2c/busses/i2c-iop3xx.c:207:
+static int $

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#395: FILE: drivers/i2c/busses/i2c-iop3xx.c:208:
+all_bits_clear(unsigned test, unsigned mask)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#395: FILE: drivers/i2c/busses/i2c-iop3xx.c:208:
+all_bits_clear(unsigned test, unsigned mask)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#401: FILE: drivers/i2c/busses/i2c-iop3xx.c:213:
+static int $

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#402: FILE: drivers/i2c/busses/i2c-iop3xx.c:214:
+any_bits_set(unsigned test, unsigned mask)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#402: FILE: drivers/i2c/busses/i2c-iop3xx.c:214:
+any_bits_set(unsigned test, unsigned mask)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#408: FILE: drivers/i2c/busses/i2c-iop3xx.c:219:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#412: FILE: drivers/i2c/busses/i2c-iop3xx.c:222:
+^Ireturn iop3xx_i2c_wait_event( $

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#412: FILE: drivers/i2c/busses/i2c-iop3xx.c:222:
+	return iop3xx_i2c_wait_event( 

ERROR:CODE_INDENT: code indent should use tabs where possible
#415: FILE: drivers/i2c/busses/i2c-iop3xx.c:224:
+^I        IOP3XX_ISR_TXEMPTY | IOP3XX_ISR_ALD | IOP3XX_ISR_BERRD,$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:TRAILING_WHITESPACE: trailing whitespace
#420: FILE: drivers/i2c/busses/i2c-iop3xx.c:228:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#424: FILE: drivers/i2c/busses/i2c-iop3xx.c:231:
+^Ireturn iop3xx_i2c_wait_event( $

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#424: FILE: drivers/i2c/busses/i2c-iop3xx.c:231:
+	return iop3xx_i2c_wait_event( 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#442: FILE: drivers/i2c/busses/i2c-iop3xx.c:237:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#454: FILE: drivers/i2c/busses/i2c-iop3xx.c:240:
+^Ireturn iop3xx_i2c_wait_event( $

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#454: FILE: drivers/i2c/busses/i2c-iop3xx.c:240:
+	return iop3xx_i2c_wait_event( 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#460: FILE: drivers/i2c/busses/i2c-iop3xx.c:244:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#461: FILE: drivers/i2c/busses/i2c-iop3xx.c:245:
+iop3xx_i2c_send_target_addr(struct i2c_algo_iop3xx_data *iop3xx_adap, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#462: FILE: drivers/i2c/busses/i2c-iop3xx.c:246:
+iop3xx_i2c_send_target_addr(struct i2c_algo_iop3xx_data *iop3xx_adap, 
+				struct i2c_msg* msg)

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#462: FILE: drivers/i2c/busses/i2c-iop3xx.c:246:
+				struct i2c_msg* msg)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#491: FILE: drivers/i2c/busses/i2c-iop3xx.c:263:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#492: FILE: drivers/i2c/busses/i2c-iop3xx.c:264:
+iop3xx_i2c_write_byte(struct i2c_algo_iop3xx_data *iop3xx_adap, char byte, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#493: FILE: drivers/i2c/busses/i2c-iop3xx.c:265:
+iop3xx_i2c_write_byte(struct i2c_algo_iop3xx_data *iop3xx_adap, char byte, 
+				int stop)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#522: FILE: drivers/i2c/busses/i2c-iop3xx.c:285:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#523: FILE: drivers/i2c/busses/i2c-iop3xx.c:286:
+iop3xx_i2c_read_byte(struct i2c_algo_iop3xx_data *iop3xx_adap, char* byte, $

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#523: FILE: drivers/i2c/busses/i2c-iop3xx.c:286:
+iop3xx_i2c_read_byte(struct i2c_algo_iop3xx_data *iop3xx_adap, char* byte, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#524: FILE: drivers/i2c/busses/i2c-iop3xx.c:287:
+iop3xx_i2c_read_byte(struct i2c_algo_iop3xx_data *iop3xx_adap, char* byte, 
+				int stop)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#556: FILE: drivers/i2c/busses/i2c-iop3xx.c:310:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#566: FILE: drivers/i2c/busses/i2c-iop3xx.c:317:
+^Ifor (ii = 0; rc == 0 && ii != count; ++ii) $

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#567: FILE: drivers/i2c/busses/i2c-iop3xx.c:318:
+		rc = iop3xx_i2c_write_byte(iop3xx_adap, buf[ii], ii==count-1);
 		                                                   ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#567: FILE: drivers/i2c/busses/i2c-iop3xx.c:318:
+		rc = iop3xx_i2c_write_byte(iop3xx_adap, buf[ii], ii==count-1);
 		                                                          ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#573: FILE: drivers/i2c/busses/i2c-iop3xx.c:322:
+static int $

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#584: FILE: drivers/i2c/busses/i2c-iop3xx.c:330:
+		rc = iop3xx_i2c_read_byte(iop3xx_adap, &buf[ii], ii==count-1);
 		                                                   ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#584: FILE: drivers/i2c/busses/i2c-iop3xx.c:330:
+		rc = iop3xx_i2c_read_byte(iop3xx_adap, &buf[ii], ii==count-1);
 		                                                          ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#585: FILE: drivers/i2c/busses/i2c-iop3xx.c:331:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#594: FILE: drivers/i2c/busses/i2c-iop3xx.c:342:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#595: FILE: drivers/i2c/busses/i2c-iop3xx.c:343:
+iop3xx_i2c_handle_msg(struct i2c_adapter *i2c_adap, struct i2c_msg* pmsg) $

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#595: FILE: drivers/i2c/busses/i2c-iop3xx.c:343:
+iop3xx_i2c_handle_msg(struct i2c_adapter *i2c_adap, struct i2c_msg* pmsg) 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#610: FILE: drivers/i2c/busses/i2c-iop3xx.c:363:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#611: FILE: drivers/i2c/busses/i2c-iop3xx.c:364:
+iop3xx_i2c_master_xfer(struct i2c_adapter *i2c_adap, struct i2c_msg msgs[], $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#612: FILE: drivers/i2c/busses/i2c-iop3xx.c:365:
+iop3xx_i2c_master_xfer(struct i2c_adapter *i2c_adap, struct i2c_msg msgs[], 
+				int num)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#641: FILE: drivers/i2c/busses/i2c-iop3xx.c:388:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#649: FILE: drivers/i2c/busses/i2c-iop3xx.c:395:
+static u32 $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#675: FILE: drivers/i2c/busses/i2c-iop3xx.c:409:
+static int $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#680: FILE: drivers/i2c/busses/i2c-iop3xx.c:414:
+^Istruct i2c_algo_iop3xx_data *adapter_data = $

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#692: FILE: drivers/i2c/busses/i2c-iop3xx.c:426:
+	iounmap((void __iomem*)adapter_data->ioaddr);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#702: FILE: drivers/i2c/busses/i2c-iop3xx.c:436:
+static int $

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new_adapter)...) over kmalloc(sizeof(struct i2c_adapter)...)
#716: FILE: drivers/i2c/busses/i2c-iop3xx.c:445:
+	new_adapter = kmalloc(sizeof(struct i2c_adapter), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#721: FILE: drivers/i2c/busses/i2c-iop3xx.c:450:
+	memset((void*)new_adapter, 0, sizeof(*new_adapter));

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*adapter_data)...) over kmalloc(sizeof(struct i2c_algo_iop3xx_data)...)
#725: FILE: drivers/i2c/busses/i2c-iop3xx.c:452:
+	adapter_data = kmalloc(sizeof(struct i2c_algo_iop3xx_data), GFP_KERNEL);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#730: FILE: drivers/i2c/busses/i2c-iop3xx.c:457:
+	memset((void*)adapter_data, 0, sizeof(*adapter_data));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#772: FILE: drivers/i2c/busses/i2c-iop3xx.c:479:
+^Ires = request_irq(platform_get_irq(pdev, 0), iop3xx_i2c_irq_handler, 0, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#773: FILE: drivers/i2c/busses/i2c-iop3xx.c:480:
+	res = request_irq(platform_get_irq(pdev, 0), iop3xx_i2c_irq_handler, 0, 
+				pdev->name, adapter_data);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#790: FILE: drivers/i2c/busses/i2c-iop3xx.c:494:
+^Inew_adapter->timeout = 100;^I$

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#842: FILE: drivers/i2c/busses/i2c-iop3xx.c:513:
+	iounmap((void __iomem*)adapter_data->ioaddr);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#868: FILE: drivers/i2c/busses/i2c-iop3xx.c:528:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#877: FILE: drivers/i2c/busses/i2c-iop3xx.c:536:
+static int __init $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#878: FILE: drivers/i2c/busses/i2c-iop3xx.c:537:
+i2c_iop3xx_init (void)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#886: FILE: drivers/i2c/busses/i2c-iop3xx.c:542:
+static void __exit $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#887: FILE: drivers/i2c/busses/i2c-iop3xx.c:543:
+i2c_iop3xx_exit (void)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#938: FILE: drivers/i2c/busses/i2c-iop3xx.h:51:
+#define IOP3XX_ICR_MABORT^I0x0010^I/* 1=Send a STOP with no data $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#966: FILE: drivers/i2c/busses/i2c-iop3xx.h:58:
+
+

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000217684.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 68 errors, 11 warnings, 16 checks, 949 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000217684.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
