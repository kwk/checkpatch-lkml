WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#50: 
   - Clear the page uptodate flag in fs/ntfs/aops.c::ntfs_write_mst_block()
                    ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'noone' may be misspelled - perhaps 'no one'?
#51: 
     to ensure noone can see the page whilst the mst fixups are applied.
               ^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#68: 
   - Clear the page uptodate flag in fs/ntfs/mft.c::ntfs_sync_mft_mirror()
                    ^^^^^^^^

WARNING:TYPO_SPELLING: 'noone' may be misspelled - perhaps 'no one'?
#69: 
     to ensure noone can see the page whilst the mst fixups are applied.
               ^^^^^

WARNING:BAD_SIGN_OFF: Do not use whitespace before Signed-off-by:
#78: 
   Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#98: FILE: fs/ntfs/ChangeLog:88:
+	- Clear the page uptodate flag in fs/ntfs/aops.c::ntfs_write_mst_block()
 	                 ^^^^^^^^

WARNING:TYPO_SPELLING: 'noone' may be misspelled - perhaps 'no one'?
#99: FILE: fs/ntfs/ChangeLog:89:
+	  to ensure noone can see the page whilst the mst fixups are applied.
 	            ^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#116: FILE: fs/ntfs/ChangeLog:106:
+	- Clear the page uptodate flag in fs/ntfs/mft.c::ntfs_sync_mft_mirror()
 	                 ^^^^^^^^

WARNING:TYPO_SPELLING: 'noone' may be misspelled - perhaps 'no one'?
#117: FILE: fs/ntfs/ChangeLog:107:
+	  to ensure noone can see the page whilst the mst fixups are applied.
 	            ^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#163: FILE: fs/ntfs/aops.c:796:
+ * We clear the page uptodate flag for the duration of the function to ensure
                      ^^^^^^^^

CHECK:SPACING: spaces preferred around that '*' (ctx:WxV)
#177: FILE: fs/ntfs/aops.c:815:
+	ntfs_inode *locked_nis[PAGE_CACHE_SIZE / rec_size];
 	           ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#194: FILE: fs/ntfs/aops.c:828:
+	BUG_ON(!(is_mft || S_ISDIR(vi->i_mode) ||

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#195: FILE: fs/ntfs/aops.c:829:
+	BUG_ON(!(is_mft || S_ISDIR(vi->i_mode) ||
 			(NInoAttr(ni) && ni->type == AT_INDEX_ALLOCATION)));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#212: FILE: fs/ntfs/aops.c:836:
+	BUG_ON(!page_has_buffers(page));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#216: FILE: fs/ntfs/aops.c:838:
+	BUG_ON(!bh);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#223: FILE: fs/ntfs/aops.c:842:
+	BUG_ON(!(PAGE_CACHE_SIZE >> rec_size_bits));

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#229: FILE: fs/ntfs/aops.c:847:
+	rec_block = block = (sector_t)page->index <<

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#238: FILE: fs/ntfs/aops.c:853:
+	err = nr_bhs = nr_recs = nr_locked_nis = 0;

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#239: FILE: fs/ntfs/aops.c:854:
+	page_is_dirty = rec_is_dirty = FALSE;

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#281: FILE: fs/ntfs/aops.c:889:
+		BUG_ON(!buffer_mapped(bh));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#282: FILE: fs/ntfs/aops.c:890:
+		BUG_ON(!buffer_uptodate(bh));

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#292: FILE: fs/ntfs/aops.c:899:
+	/* Clear the page uptodate flag whilst the mst fixups are applied. */
 	                  ^^^^^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#293: FILE: fs/ntfs/aops.c:900:
+	BUG_ON(!PageUptodate(page));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#326: FILE: fs/ntfs/aops.c:920:
+			if (!ntfs_may_write_mft_record(vol, mft_no,
+					(MFT_RECORD*)(kaddr + ofs), &tni)) {

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#326: FILE: fs/ntfs/aops.c:920:
+					(MFT_RECORD*)(kaddr + ofs), &tni)) {

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#351: FILE: fs/ntfs/aops.c:945:
+		err = pre_write_mst_fixup((NTFS_RECORD*)(kaddr + ofs),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#352: FILE: fs/ntfs/aops.c:946:
+		err = pre_write_mst_fixup((NTFS_RECORD*)(kaddr + ofs),
+				rec_size);

WARNING:SPLIT_STRING: quoted string split across lines
#355: FILE: fs/ntfs/aops.c:949:
+			ntfs_error(vol->sb, "Failed to apply mst fixups "
+					"(inode 0x%lx, attribute type 0x%x, "

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#356: FILE: fs/ntfs/aops.c:950:
+					"(inode 0x%lx, attribute type 0x%x, "
+					"page index 0x%lx, page offset 0x%x)!"

WARNING:SPLIT_STRING: quoted string split across lines
#357: FILE: fs/ntfs/aops.c:951:
+					"page index 0x%lx, page offset 0x%x)!"
+					"  Unmount and run chkdsk.", vi->i_ino,

WARNING:SPLIT_STRING: quoted string split across lines
#403: FILE: fs/ntfs/aops.c:998:
+			ntfs_error(vol->sb, "I/O error while writing ntfs "
+					"record buffer (inode 0x%lx, "

WARNING:SPLIT_STRING: quoted string split across lines
#404: FILE: fs/ntfs/aops.c:999:
+					"record buffer (inode 0x%lx, "
+					"attribute type 0x%x, page index "

WARNING:SPLIT_STRING: quoted string split across lines
#405: FILE: fs/ntfs/aops.c:1000:
+					"attribute type 0x%x, page index "
+					"0x%lx, page offset 0x%lx)!  Unmount "

WARNING:SPLIT_STRING: quoted string split across lines
#406: FILE: fs/ntfs/aops.c:1001:
+					"0x%lx, page offset 0x%lx)!  Unmount "
+					"and run chkdsk.", vi->i_ino, ni->type,

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#412: FILE: fs/ntfs/aops.c:1005:
+			 * Set the buffer uptodate so the page and buffer
 			                  ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#443: FILE: fs/ntfs/aops.c:1034:
+				ntfs_sync_mft_mirror(vol, mft_no,
+						(MFT_RECORD*)(kaddr + ofs),

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#443: FILE: fs/ntfs/aops.c:1034:
+						(MFT_RECORD*)(kaddr + ofs),

ERROR:TRAILING_WHITESPACE: trailing whitespace
#467: FILE: fs/ntfs/aops.c:1055:
+^I^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:BRACES: braces {} should be used on all arms of this statement
#471: FILE: fs/ntfs/aops.c:1059:
+		if (tni->nr_extents >= 0)
[...]
+		else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#473: FILE: fs/ntfs/aops.c:1061:
+		else {

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#475: FILE: fs/ntfs/aops.c:1063:
+			BUG_ON(!base_tni);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#479: FILE: fs/ntfs/aops.c:1067:
+		ntfs_debug("Unlocking %s inode 0x%lx.",
+				tni == base_tni ? "base" : "extent",

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#483: FILE: fs/ntfs/aops.c:1071:
+		iput(VFS_I(base_tni));
 		^^^^

CHECK:CAMELCASE: Avoid CamelCase: <NVolSetErrors>
#493: FILE: fs/ntfs/aops.c:1075:
+		NVolSetErrors(vol);

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

WARNING:SPLIT_STRING: quoted string split across lines
#504: FILE: fs/ntfs/aops.c:1082:
+		ntfs_debug("Page still contains one or more dirty ntfs "
+				"records.  Redirtying the page starting at "

WARNING:SPLIT_STRING: quoted string split across lines
#505: FILE: fs/ntfs/aops.c:1083:
+				"records.  Redirtying the page starting at "
+				"record 0x%lx.", page->index <<

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#515: FILE: fs/ntfs/aops.c:1093:
+		BUG_ON(PageWriteback(page));

CHECK:CAMELCASE: Avoid CamelCase: <NInoMstProtected>
#586: FILE: fs/ntfs/inode.c:1115:
+	if (NInoMstProtected(ni))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#618: FILE: fs/ntfs/inode.c:2518:
+		mark_ntfs_record_dirty(NTFS_I(ni->vol->mft_ino),
+				ctx->ntfs_ino->page, ctx->ntfs_ino->page_ofs);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#727: FILE: fs/ntfs/mft.c:384:
+	mark_ntfs_record_dirty(NTFS_I(ni->vol->mft_ino), ni->page,
+			ni->page_ofs);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#757: FILE: fs/ntfs/mft.c:422:
+static int ntfs_sync_mft_mirror_umount(ntfs_volume *vol,
+		const unsigned long mft_no, MFT_RECORD *m)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#792: FILE: fs/ntfs/mft.c:449:
+int ntfs_sync_mft_mirror(ntfs_volume *vol, const unsigned long mft_no,
+		MFT_RECORD *m, int sync)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#823: FILE: fs/ntfs/mft.c:484:
+	BUG_ON(!PageUptodate(page));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#841: FILE: fs/ntfs/mft.c:492:
+	BUG_ON(!page_has_buffers(page));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#845: FILE: fs/ntfs/mft.c:494:
+	BUG_ON(!bh);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#869: FILE: fs/ntfs/mft.c:504:
+		BUG_ON(!buffer_mapped(bh));

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#870: FILE: fs/ntfs/mft.c:505:
+		BUG_ON(!buffer_uptodate(bh));

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#880: FILE: fs/ntfs/mft.c:533:
+				 * Set the buffer uptodate so the page and
 				                  ^^^^^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#913: FILE: fs/ntfs/mft.c:555:
 		ntfs_error(vol->sb, "I/O error while writing mft mirror "
+				"record 0x%lx!", mft_no);

WARNING:SPLIT_STRING: quoted string split across lines
#922: FILE: fs/ntfs/mft.c:558:
+		ntfs_error(vol->sb, "Failed to synchronize $MFTMirr (error "
+				"code %i).  Volume will be left marked dirty "

WARNING:SPLIT_STRING: quoted string split across lines
#923: FILE: fs/ntfs/mft.c:559:
+				"code %i).  Volume will be left marked dirty "
+				"on umount.  Run ntfsfix on the partition "

WARNING:SPLIT_STRING: quoted string split across lines
#924: FILE: fs/ntfs/mft.c:560:
+				"on umount.  Run ntfsfix on the partition "
+				"after umounting to correct this.", -err);

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#987: FILE: fs/ntfs/mft.c:752:
+ * The caller has locked the page and cleared the uptodate flag on it which
                                                   ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1052: FILE: fs/ntfs/mft.c:816:
+BOOL ntfs_may_write_mft_record(ntfs_volume *vol, const unsigned long mft_no,
+		const MFT_RECORD *m, ntfs_inode **locked_ni)

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1131: FILE: fs/ntfs/mft.c:829:
+	BUG_ON(!locked_ni);

CHECK:BRACES: braces {} should be used on all arms of this statement
#1151: FILE: fs/ntfs/mft.c:849:
+	if (!mft_no) {
[...]
+	} else
[...]

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1152: FILE: fs/ntfs/mft.c:850:
+		/* Balance the below iput(). */
 		                     ^^^^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1154: FILE: fs/ntfs/mft.c:852:
+		BUG_ON(vi != mft_vi);

CHECK:BRACES: Unbalanced braces around else statement
#1155: FILE: fs/ntfs/mft.c:853:
+	} else

CHECK:CAMELCASE: Avoid CamelCase: <NInoDirty>
#1164: FILE: fs/ntfs/mft.c:862:
+		if (NInoDirty(ni)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1166: FILE: fs/ntfs/mft.c:864:
+			ntfs_debug("Inode 0x%lx is dirty, do not write it.",
 					mft_no);

WARNING:SPLIT_STRING: quoted string split across lines
#1185: FILE: fs/ntfs/mft.c:873:
+			ntfs_debug("Mft record 0x%lx is already locked, do "
+					"not write it.", mft_no);

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1187: FILE: fs/ntfs/mft.c:875:
+			iput(vi);
 			^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1192: FILE: fs/ntfs/mft.c:879:
+		ntfs_debug("Managed to lock mft record 0x%lx, write it.",
+				mft_no);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1218: FILE: fs/ntfs/mft.c:892:
+		ntfs_debug("Mft record 0x%lx is not a FILE record, write it.",
+				mft_no);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1224: FILE: fs/ntfs/mft.c:898:
+		ntfs_debug("Mft record 0x%lx is a base record, write it.",
+				mft_no);

WARNING:SPLIT_STRING: quoted string split across lines
#1234: FILE: fs/ntfs/mft.c:908:
+	ntfs_debug("Mft record 0x%lx is an extent record.  Looking for base "
+			"inode 0x%lx in icache.", mft_no, na.mft_no);

WARNING:SPLIT_STRING: quoted string split across lines
#1260: FILE: fs/ntfs/mft.c:916:
+		ntfs_debug("Base inode 0x%lx is not in icache, write the "
+				"extent record.", na.mft_no);

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1281: FILE: fs/ntfs/mft.c:932:
+		iput(vi);
 		^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#1283: FILE: fs/ntfs/mft.c:934:
+		ntfs_debug("Base inode 0x%lx has no attached extent inodes, "
+				"write the extent record.", na.mft_no);

WARNING:SPLIT_STRING: quoted string split across lines
#1366: FILE: fs/ntfs/mft.c:957:
+		ntfs_debug("Extent inode 0x%lx is not attached to its base "
+				"inode 0x%lx, write the extent record.",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1371: FILE: fs/ntfs/mft.c:962:
+	ntfs_debug("Extent inode 0x%lx is attached to its base inode 0x%lx.",
+			mft_no, na.mft_no);

WARNING:TYPO_SPELLING: 'coresponding' may be misspelled - perhaps 'corresponding'?
#1376: FILE: fs/ntfs/mft.c:967:
+	 * Found the extent inode coresponding to this extent mft record.
 	                          ^^^^^^^^^^^^

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1381: FILE: fs/ntfs/mft.c:972:
+		iput(vi);
 		^^^^

WARNING:SPLIT_STRING: quoted string split across lines
#1383: FILE: fs/ntfs/mft.c:974:
+		ntfs_debug("Extent mft record 0x%lx is already locked, do "
+				"not write it.", mft_no);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1387: FILE: fs/ntfs/mft.c:978:
+	ntfs_debug("Managed to lock extent mft record 0x%lx, write it.",
+			mft_no);

CHECK:CAMELCASE: Avoid CamelCase: <NInoTestClearDirty>
#1388: FILE: fs/ntfs/mft.c:979:
+	if (NInoTestClearDirty(eni))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1390: FILE: fs/ntfs/mft.c:981:
+		ntfs_debug("Extent inode 0x%lx is dirty, marking it clean.",
+				mft_no);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1415: FILE: fs/ntfs/mft.h:79:
+extern int ntfs_sync_mft_mirror(ntfs_volume *vol, const unsigned long mft_no,

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1416: FILE: fs/ntfs/mft.h:80:
+extern int ntfs_sync_mft_mirror(ntfs_volume *vol, const unsigned long mft_no,
+		MFT_RECORD *m, int sync);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1426: FILE: fs/ntfs/mft.h:117:
+extern BOOL ntfs_may_write_mft_record(ntfs_volume *vol,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1427: FILE: fs/ntfs/mft.h:118:
+extern BOOL ntfs_may_write_mft_record(ntfs_volume *vol,
+		const unsigned long mft_no, const MFT_RECORD *m,

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000240401.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 4 errors, 55 warnings, 33 checks, 1311 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000240401.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
