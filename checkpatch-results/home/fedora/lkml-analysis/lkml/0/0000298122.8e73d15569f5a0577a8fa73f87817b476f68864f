WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#51: 
diff -ruX /home/jack/.kerndiffexclude linux-2.6.3/fs/dquot.c linux-2.6.3-1-jquota/fs/dquot.c

ERROR:TRAILING_WHITESPACE: trailing whitespace
#100: FILE: fs/dquot.c:91:
+ * The spinlock ordering is hence: dq_data_lock > dq_list_lock > i_lock $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#158: FILE: fs/dquot.c:263:
 }
+/*

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'dquot' - possible side-effects?
#169: FILE: fs/dquot.c:273:
+#define mark_dquot_dirty(dquot) ((dquot)->dq_sb->dq_op->mark_dirty(dquot))

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#172: FILE: fs/dquot.c:276:
+ * worst what can happen is that dquot is not written by concurrent sync... */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:LINE_SPACING: Please don't use multiple blank lines
#187: FILE: fs/dquot.c:290:
+
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#232: FILE: fs/dquot.c:331:
+	 * => we have better not writing it */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#268: FILE: fs/dquot.c:364:
+ * for this sb+type at all. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#324: FILE: fs/dquot.c:420:
+		 * can safely just increase use count */

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#338: FILE: fs/dquot.c:432:
+		if ((cnt == type || type == -1) && sb_has_quota_enabled(sb, cnt)
+			&& info_dirty(&dqopt->info[cnt]))

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#406: FILE: fs/dquot.c:591:
+	 * finished or it will be canceled due to dq_count > 1 test */

ERROR:CODE_INDENT: code indent should use tabs where possible
#512: FILE: fs/dquot.c:904:
+         * re-enter the quota code and are already holding the semaphore */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#512: FILE: fs/dquot.c:904:
+         * re-enter the quota code and are already holding the semaphore */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#539: FILE: fs/dquot.c:934:
+ * ^IRelease all quotas referenced by inode$

ERROR:CODE_INDENT: code indent should use tabs where possible
#604: FILE: fs/dquot.c:971:
+         * re-enter the quota code and are already holding the semaphore */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#604: FILE: fs/dquot.c:971:
+         * re-enter the quota code and are already holding the semaphore */

ERROR:CODE_INDENT: code indent should use tabs where possible
#646: FILE: fs/dquot.c:1020:
+         * re-enter the quota code and are already holding the semaphore */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#646: FILE: fs/dquot.c:1020:
+         * re-enter the quota code and are already holding the semaphore */

ERROR:CODE_INDENT: code indent should use tabs where possible
#674: FILE: fs/dquot.c:1064:
+         * re-enter the quota code and are already holding the semaphore */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#674: FILE: fs/dquot.c:1064:
+         * re-enter the quota code and are already holding the semaphore */

ERROR:CODE_INDENT: code indent should use tabs where possible
#713: FILE: fs/dquot.c:1099:
+         * re-enter the quota code and are already holding the semaphore */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#713: FILE: fs/dquot.c:1099:
+         * re-enter the quota code and are already holding the semaphore */

ERROR:CODE_INDENT: code indent should use tabs where possible
#742: FILE: fs/dquot.c:1137:
+         * re-enter the quota code and are already holding the semaphore */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#742: FILE: fs/dquot.c:1137:
+         * re-enter the quota code and are already holding the semaphore */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#755: FILE: fs/dquot.c:1152:
+	 * us was already started so we don't violate lock ranking here */

WARNING:REPEATED_WORD: Possible repeated word: 'on'
#874: FILE: fs/dquot.c:1319:
+ *	Turn quotas on on a device

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#930: FILE: fs/dquot.c:1363:
+	 * start transaction for dquot_release() */

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1105: FILE: fs/dquot.c:1719:
+EXPORT_SYMBOL(vfs_quota_on_mount);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1106: FILE: fs/dquot.c:1720:
+EXPORT_SYMBOL(vfs_quota_off);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1107: FILE: fs/dquot.c:1721:
+EXPORT_SYMBOL(vfs_quota_sync);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1108: FILE: fs/dquot.c:1722:
+EXPORT_SYMBOL(vfs_get_dqinfo);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1109: FILE: fs/dquot.c:1723:
+EXPORT_SYMBOL(vfs_set_dqinfo);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1110: FILE: fs/dquot.c:1724:
+EXPORT_SYMBOL(vfs_get_dqblk);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1111: FILE: fs/dquot.c:1725:
+EXPORT_SYMBOL(vfs_set_dqblk);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1112: FILE: fs/dquot.c:1726:
+EXPORT_SYMBOL(dquot_commit);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1113: FILE: fs/dquot.c:1727:
+EXPORT_SYMBOL(dquot_commit_info);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1114: FILE: fs/dquot.c:1728:
+EXPORT_SYMBOL(dquot_mark_dquot_dirty);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1115: FILE: fs/dquot.c:1729:
+EXPORT_SYMBOL(dquot_initialize);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1116: FILE: fs/dquot.c:1730:
+EXPORT_SYMBOL(dquot_drop);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1117: FILE: fs/dquot.c:1731:
+EXPORT_SYMBOL(dquot_alloc_space);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1118: FILE: fs/dquot.c:1732:
+EXPORT_SYMBOL(dquot_alloc_inode);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1119: FILE: fs/dquot.c:1733:
+EXPORT_SYMBOL(dquot_free_space);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1120: FILE: fs/dquot.c:1734:
+EXPORT_SYMBOL(dquot_free_inode);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#1121: FILE: fs/dquot.c:1735:
+EXPORT_SYMBOL(dquot_transfer);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1134: FILE: fs/ext3/inode.c:2778:
+		 * inode block, ? - but truncate inode update has it) */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1135: FILE: fs/ext3/inode.c:2779:
+		handle = ext3_journal_start(inode, 4*EXT3_QUOTA_INIT_BLOCKS+3);
 		                                    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1135: FILE: fs/ext3/inode.c:2779:
+		handle = ext3_journal_start(inode, 4*EXT3_QUOTA_INIT_BLOCKS+3);
 		                                                           ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1147: FILE: fs/ext3/inode.c:2790:
+		 * one transaction */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1163: FILE: fs/ext3/inode.c:2876:
+	 * we will be updating only the data blocks + inodes */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1164: FILE: fs/ext3/inode.c:2877:
+	ret += 2*EXT3_QUOTA_TRANS_BLOCKS;
 	        ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1177: FILE: fs/ext3/namei.c:1637:
+					2*EXT3_QUOTA_INIT_BLOCKS);
 					 ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1186: FILE: fs/ext3/namei.c:1667:
+^I^I^I ^I^IEXT3_INDEX_EXTRA_TRANS_BLOCKS + 3 +$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1186: FILE: fs/ext3/namei.c:1667:
+^I^I^I ^I^IEXT3_INDEX_EXTRA_TRANS_BLOCKS + 3 +$

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1187: FILE: fs/ext3/namei.c:1668:
+					2*EXT3_QUOTA_INIT_BLOCKS);
 					 ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1197: FILE: fs/ext3/namei.c:1701:
+					2*EXT3_QUOTA_INIT_BLOCKS);
 					 ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1206: FILE: fs/ext3/namei.c:1981:
+	 * separate transaction */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1224: FILE: fs/ext3/namei.c:2040:
+	 * in separate transaction */

ERROR:CODE_INDENT: code indent should use tabs where possible
#1242: FILE: fs/ext3/namei.c:2097:
+^I^I^I ^I^IEXT3_INDEX_EXTRA_TRANS_BLOCKS + 5 +$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1242: FILE: fs/ext3/namei.c:2097:
+^I^I^I ^I^IEXT3_INDEX_EXTRA_TRANS_BLOCKS + 5 +$

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1243: FILE: fs/ext3/namei.c:2098:
+					2*EXT3_QUOTA_INIT_BLOCKS);
 					 ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1252: FILE: fs/ext3/namei.c:2184:
+	 * in separate transaction */

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#1287: FILE: fs/ext3/super.c:512:
+#define QTYPE2NAME(t) ((t)==USRQUOTA?"user":"group")
                           ^

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#1287: FILE: fs/ext3/super.c:512:
+#define QTYPE2NAME(t) ((t)==USRQUOTA?"user":"group")
                                     ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1287: FILE: fs/ext3/super.c:512:
+#define QTYPE2NAME(t) ((t)==USRQUOTA?"user":"group")
                                            ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#1288: FILE: fs/ext3/super.c:513:
+#define QTYPE2MOPT(on, t) ((t)==USRQUOTA?((on)##USRJQUOTA):((on)##GRPJQUOTA))
                               ^

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#1288: FILE: fs/ext3/super.c:513:
+#define QTYPE2MOPT(on, t) ((t)==USRQUOTA?((on)##USRJQUOTA):((on)##GRPJQUOTA))
                                         ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#1288: FILE: fs/ext3/super.c:513:
+#define QTYPE2MOPT(on, t) ((t)==USRQUOTA?((on)##USRJQUOTA):((on)##GRPJQUOTA))
                                                           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'on' - possible side-effects?
#1288: FILE: fs/ext3/super.c:513:
+#define QTYPE2MOPT(on, t) ((t)==USRQUOTA?((on)##USRJQUOTA):((on)##GRPJQUOTA))

CHECK:CAMELCASE: Avoid CamelCase: <Opt_usrjquota>
#1329: FILE: fs/ext3/super.c:578:
+	Opt_usrjquota, Opt_grpjquota, Opt_offusrjquota, Opt_offgrpjquota,

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <Opt_grpjquota>
#1329: FILE: fs/ext3/super.c:578:
+	Opt_usrjquota, Opt_grpjquota, Opt_offusrjquota, Opt_offgrpjquota,

CHECK:CAMELCASE: Avoid CamelCase: <Opt_offusrjquota>
#1329: FILE: fs/ext3/super.c:578:
+	Opt_usrjquota, Opt_grpjquota, Opt_offusrjquota, Opt_offgrpjquota,

CHECK:CAMELCASE: Avoid CamelCase: <Opt_offgrpjquota>
#1329: FILE: fs/ext3/super.c:578:
+	Opt_usrjquota, Opt_grpjquota, Opt_offusrjquota, Opt_offgrpjquota,

CHECK:CAMELCASE: Avoid CamelCase: <Opt_jqfmt_vfsold>
#1330: FILE: fs/ext3/super.c:579:
+	Opt_jqfmt_vfsold, Opt_jqfmt_vfsv0,

CHECK:CAMELCASE: Avoid CamelCase: <Opt_jqfmt_vfsv0>
#1330: FILE: fs/ext3/super.c:579:
+	Opt_jqfmt_vfsold, Opt_jqfmt_vfsv0,

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1352: FILE: fs/ext3/super.c:648:
+static int parse_options (char * options, struct super_block *sb,

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1352: FILE: fs/ext3/super.c:648:
+static int parse_options (char * options, struct super_block *sb,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1378: FILE: fs/ext3/super.c:821:
+				printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#1380: FILE: fs/ext3/super.c:823:
+					"EXT3-fs: Cannot change journalled "
+					"quota options when quota turned on.\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1384: FILE: fs/ext3/super.c:827:
+				printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#1386: FILE: fs/ext3/super.c:829:
+					"EXT3-fs: %s quota file already "
+					"specified.\n", QTYPE2NAME(qtype));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1391: FILE: fs/ext3/super.c:834:
+				printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#1393: FILE: fs/ext3/super.c:836:
+					"EXT3-fs: not enough memory for "
+					"storing quotafile name.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1397: FILE: fs/ext3/super.c:840:
+				printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#1399: FILE: fs/ext3/super.c:842:
+					"EXT3-fs: quotafile must be on "
+					"filesystem root.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1412: FILE: fs/ext3/super.c:855:
+				printk(KERN_ERR "EXT3-fs: Cannot change "

WARNING:SPLIT_STRING: quoted string split across lines
#1413: FILE: fs/ext3/super.c:856:
+				printk(KERN_ERR "EXT3-fs: Cannot change "
+					"journalled quota options when "

WARNING:SPLIT_STRING: quoted string split across lines
#1414: FILE: fs/ext3/super.c:857:
+					"journalled quota options when "
+					"quota turned on.\n");

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#1418: FILE: fs/ext3/super.c:861:
+			if (sbi->s_qf_names[qtype]) {
+				kfree(sbi->s_qf_names[qtype]);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1435: FILE: fs/ext3/super.c:878:
+			printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#1437: FILE: fs/ext3/super.c:880:
+				"EXT3-fs: journalled quota options not "
+				"supported.\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1449: FILE: fs/ext3/super.c:897:
+		printk(KERN_ERR

WARNING:TYPO_SPELLING: 'iput' may be misspelled - perhaps 'input'?
#1472: FILE: fs/ext3/super.c:1084:
+	/* Needed for iput() to work correctly and not trash data */
 	              ^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:LINE_SPACING: Missing a blank line after declarations
#1478: FILE: fs/ext3/super.c:1090:
+			int ret = ext3_quota_on_mount(sb, i);
+			if (ret < 0)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1479: FILE: fs/ext3/super.c:1091:
+				printk(KERN_ERR

WARNING:SPLIT_STRING: quoted string split across lines
#1481: FILE: fs/ext3/super.c:1093:
+					"EXT3-fs: Cannot turn on journalled "
+					"quota: error %d\n", ret);

CHECK:SPACING: No space is necessary after a cast
#1515: FILE: fs/ext3/super.c:1272:
+	if (!parse_options ((char *) data, sb, &journal_inum, 0))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1515: FILE: fs/ext3/super.c:1272:
+	if (!parse_options ((char *) data, sb, &journal_inum, 0))

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#1538: FILE: fs/ext3/super.c:1566:
+		if (sbi->s_qf_names[i])
+			kfree(sbi->s_qf_names[i]);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1573: FILE: fs/ext3/super.c:2126:
+	handle = ext3_journal_start(inode, 2*EXT3_QUOTA_INIT_BLOCKS);
 	                                    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#1589: FILE: fs/ext3/super.c:2142:
+	handle = ext3_journal_start(inode, 2*EXT3_QUOTA_INIT_BLOCKS);
 	                                    ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1627: FILE: fs/ext3/super.c:2158:
+	handle = ext3_journal_start(dquot_to_inode(dquot),
+					EXT3_QUOTA_TRANS_BLOCKS);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#1638: FILE: fs/ext3/super.c:2168:
+static int ext3_mark_dquot_dirty(struct dquot * dquot)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1684: FILE: fs/ext3/super.c:2213:
+	 * on quota_off time */

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1709: FILE: fs/ext3/super.c:2238:
+	struct nameidata nd;
 	                 ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1714: FILE: fs/ext3/super.c:2243:
+	err = path_lookup(path, LOOKUP_FOLLOW, &nd);
 	                                        ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1718: FILE: fs/ext3/super.c:2247:
+	if (nd.mnt->mnt_sb != sb)
 	    ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1721: FILE: fs/ext3/super.c:2250:
+	if (nd.dentry->d_parent->d_inode != sb->s_root->d_inode)
 	    ^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1722: FILE: fs/ext3/super.c:2251:
+		printk(KERN_WARNING

WARNING:SPLIT_STRING: quoted string split across lines
#1724: FILE: fs/ext3/super.c:2253:
+			"EXT3-fs: Quota file not on filesystem root. "
+			"Journalled quota will not work.\n");

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1725: FILE: fs/ext3/super.c:2254:
+	if (!ext3_should_journal_data(nd.dentry->d_inode))
 	                              ^^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1726: FILE: fs/ext3/super.c:2255:
+		printk(KERN_WARNING "EXT3-fs: Quota file does not have "

WARNING:SPLIT_STRING: quoted string split across lines
#1727: FILE: fs/ext3/super.c:2256:
+		printk(KERN_WARNING "EXT3-fs: Quota file does not have "
+			"data-journalling. Journalled quota will not work.\n");

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#1728: FILE: fs/ext3/super.c:2257:
+	path_release(&nd);
 	              ^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1867: FILE: fs/quota_v2.c:178:
+static int get_free_dqblk(struct file *filp, int type)
                                        ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1888: FILE: fs/quota_v2.c:207:
+static int put_free_dqblk(struct file *filp, int type, dqbuf_t buf, uint blk)
                                        ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1907: FILE: fs/quota_v2.c:224:
+static int remove_free_dqentry(struct file *filp, int type, dqbuf_t buf, uint blk)
                                             ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1928: FILE: fs/quota_v2.c:263:
+static int insert_free_dqentry(struct file *filp, int type, dqbuf_t buf, uint blk)
                                             ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1949: FILE: fs/quota_v2.c:316:
+		blk = get_free_dqblk(filp, dquot->dq_type);
 		                     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1962: FILE: fs/quota_v2.c:327:
+		if ((*err = remove_free_dqentry(filp, dquot->dq_type, buf, blk)) < 0) {
 		                                ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#1962: FILE: fs/quota_v2.c:327:
+		if ((*err = remove_free_dqentry(filp, dquot->dq_type, buf, blk)) < 0) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1979: FILE: fs/quota_v2.c:366:
+		ret = get_free_dqblk(filp, dquot->dq_type);
 		                     ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#1988: FILE: fs/quota_v2.c:400:
+		put_free_dqblk(filp, dquot->dq_type, buf, *treeblk);
 		               ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#2024: FILE: fs/quota_v2.c:473:
+		if ((ret = remove_free_dqentry(filp, dquot->dq_type, buf, blk)) < 0 ||
 		                               ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#2024: FILE: fs/quota_v2.c:473:
+		if ((ret = remove_free_dqentry(filp, dquot->dq_type, buf, blk)) < 0 ||

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#2025: FILE: fs/quota_v2.c:474:
+		    (ret = put_free_dqblk(filp, dquot->dq_type, buf, blk)) < 0) {
 		                          ^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#2034: FILE: fs/quota_v2.c:483:
+			if ((ret = insert_free_dqentry(filp, dquot->dq_type, buf, blk)) < 0) {
 			                               ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#2034: FILE: fs/quota_v2.c:483:
+			if ((ret = insert_free_dqentry(filp, dquot->dq_type, buf, blk)) < 0) {

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#2051: FILE: fs/quota_v2.c:527:
+			put_free_dqblk(filp, dquot->dq_type, buf, *blk);
 			               ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2069: FILE: fs/quota_v2.c:660:
+		if (!dquot->dq_dqb.dqb_bhardlimit &&
+			!dquot->dq_dqb.dqb_bsoftlimit &&

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2082: FILE: fs/quota_v2.c:671:
+ * the only one operating on dquot (thanks to dq_lock) */

WARNING:LONG_LINE: line length of 113 exceeds 100 columns
#2088: FILE: fs/quota_v2.c:674:
+	if (test_bit(DQ_FAKE_B, &dquot->dq_flags) && !(dquot->dq_dqb.dqb_curinodes | dquot->dq_dqb.dqb_curspace))

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2116: FILE: fs/stat.c:401:
+	 * (ie. inode->i_lock) */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#2145: FILE: include/linux/ext3_jbd.h:47:
+					 2*EXT3_QUOTA_TRANS_BLOCKS)
 					  ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2155: FILE: include/linux/ext3_jbd.h:78:
+ * allocated so we need to update only inode+data */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2158: FILE: include/linux/ext3_jbd.h:81:
+ * but inode, sb and group updates are done only once */

CHECK:SPACING: spaces preferred around that '*' (ctx:VxE)
#2159: FILE: include/linux/ext3_jbd.h:82:
+#define EXT3_QUOTA_INIT_BLOCKS (DQUOT_MAX_WRITES*\
                                                 ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#2160: FILE: include/linux/ext3_jbd.h:83:
+				(EXT3_SINGLEDATA_TRANS_BLOCKS-3)+3)
 				                             ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2160: FILE: include/linux/ext3_jbd.h:83:
+				(EXT3_SINGLEDATA_TRANS_BLOCKS-3)+3)
 				                                ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2177: FILE: include/linux/quota.h:142:
+ * (over all formats) - info block, 4 pointer blocks, data block */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2200: FILE: include/linux/quota.h:183:
+extern void mark_info_dirty(struct super_block *sb, int type);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2206: FILE: include/linux/quota.h:189:
+#define sb_dqinfo(sb, type) (sb_dqopt(sb)->info+(type))
                                                ^

WARNING:LONG_LINE_COMMENT: line length of 114 exceeds 100 columns
#2249: FILE: include/linux/quota.h:242:
+	int (*release_dqblk)(struct dquot *dquot);	/* Called when last reference to dquot is being dropped */

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:SPACING: Unnecessary space before function pointer arguments
#2256: FILE: include/linux/quota.h:247:
+	int (*initialize) (struct inode *, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct inode *' should also have an identifier name
#2256: FILE: include/linux/quota.h:247:
+	int (*initialize) (struct inode *, int);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#2256: FILE: include/linux/quota.h:247:
+	int (*initialize) (struct inode *, int);

WARNING:SPACING: Unnecessary space before function pointer arguments
#2257: FILE: include/linux/quota.h:248:
+	int (*drop) (struct inode *);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct inode *' should also have an identifier name
#2257: FILE: include/linux/quota.h:248:
+	int (*drop) (struct inode *);

WARNING:SPACING: Unnecessary space before function pointer arguments
#2262: FILE: include/linux/quota.h:251:
+	int (*free_space) (struct inode *, qsize_t);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct inode *' should also have an identifier name
#2262: FILE: include/linux/quota.h:251:
+	int (*free_space) (struct inode *, qsize_t);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'qsize_t' should also have an identifier name
#2262: FILE: include/linux/quota.h:251:
+	int (*free_space) (struct inode *, qsize_t);

WARNING:SPACING: Unnecessary space before function pointer arguments
#2263: FILE: include/linux/quota.h:252:
+	int (*free_inode) (const struct inode *, unsigned long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'const struct inode *' should also have an identifier name
#2263: FILE: include/linux/quota.h:252:
+	int (*free_inode) (const struct inode *, unsigned long);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long' should also have an identifier name
#2263: FILE: include/linux/quota.h:252:
+	int (*free_inode) (const struct inode *, unsigned long);

WARNING:SPACING: Unnecessary space before function pointer arguments
#2266: FILE: include/linux/quota.h:254:
+	int (*write_dquot) (struct dquot *);		/* Ordinary dquot write */

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct dquot *' should also have an identifier name
#2266: FILE: include/linux/quota.h:254:
+	int (*write_dquot) (struct dquot *);		/* Ordinary dquot write */

WARNING:SPACING: Unnecessary space before function pointer arguments
#2267: FILE: include/linux/quota.h:255:
+	int (*mark_dirty) (struct dquot *);		/* Dquot is marked dirty */

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct dquot *' should also have an identifier name
#2267: FILE: include/linux/quota.h:255:
+	int (*mark_dirty) (struct dquot *);		/* Dquot is marked dirty */

WARNING:SPACING: Unnecessary space before function pointer arguments
#2268: FILE: include/linux/quota.h:256:
+	int (*write_info) (struct super_block *, int);	/* Write of quota "superblock" */

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct super_block *' should also have an identifier name
#2268: FILE: include/linux/quota.h:256:
+	int (*write_info) (struct super_block *, int);	/* Write of quota "superblock" */

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#2268: FILE: include/linux/quota.h:256:
+	int (*write_info) (struct super_block *, int);	/* Write of quota "superblock" */

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2301: FILE: include/linux/quotaops.h:25:
+extern int dquot_initialize(struct inode *inode, int type);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2302: FILE: include/linux/quotaops.h:26:
+extern int dquot_drop(struct inode *inode);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2306: FILE: include/linux/quotaops.h:28:
+extern int dquot_alloc_space(struct inode *inode, qsize_t number, int prealloc);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2307: FILE: include/linux/quotaops.h:29:
+extern int dquot_alloc_inode(const struct inode *inode, unsigned long number);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2311: FILE: include/linux/quotaops.h:31:
+extern int dquot_free_space(struct inode *inode, qsize_t number);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2312: FILE: include/linux/quotaops.h:32:
+extern int dquot_free_inode(const struct inode *inode, unsigned long number);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2315: FILE: include/linux/quotaops.h:34:
+extern int dquot_transfer(struct inode *inode, struct iattr *iattr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2316: FILE: include/linux/quotaops.h:35:
+extern int dquot_commit(struct dquot *dquot);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2317: FILE: include/linux/quotaops.h:36:
+extern int dquot_acquire(struct dquot *dquot);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2318: FILE: include/linux/quotaops.h:37:
+extern int dquot_release(struct dquot *dquot);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2319: FILE: include/linux/quotaops.h:38:
+extern int dquot_commit_info(struct super_block *sb, int type);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2320: FILE: include/linux/quotaops.h:39:
+extern int dquot_mark_dquot_dirty(struct dquot *dquot);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2322: FILE: include/linux/quotaops.h:41:
+extern int vfs_quota_on(struct super_block *sb, int type, int format_id, char *path);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2323: FILE: include/linux/quotaops.h:42:
+extern int vfs_quota_on_mount(int type, int format_id, struct dentry *dentry);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2324: FILE: include/linux/quotaops.h:43:
+extern int vfs_quota_off(struct super_block *sb, int type);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2326: FILE: include/linux/quotaops.h:45:
+extern int vfs_quota_sync(struct super_block *sb, int type);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2327: FILE: include/linux/quotaops.h:46:
+extern int vfs_get_dqinfo(struct super_block *sb, int type, struct if_dqinfo *ii);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2328: FILE: include/linux/quotaops.h:47:
+extern int vfs_set_dqinfo(struct super_block *sb, int type, struct if_dqinfo *ii);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2329: FILE: include/linux/quotaops.h:48:
+extern int vfs_get_dqblk(struct super_block *sb, int type, qid_t id, struct if_dqblk *di);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#2330: FILE: include/linux/quotaops.h:49:
+extern int vfs_set_dqblk(struct super_block *sb, int type, qid_t id, struct if_dqblk *di);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2339: FILE: include/linux/quotaops.h:61:
+ * need a lot of space in journal for dquot structure allocation. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2356: FILE: include/linux/quotaops.h:79:
+ * a transaction (deadlocks possible otherwise) */

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#2366: FILE: include/linux/quotaops.h:87:
 	}
+	else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#2379: FILE: include/linux/quotaops.h:107:
 	}
+	else

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000298122.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 18 errors, 113 warnings, 53 checks, 2189 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000298122.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
