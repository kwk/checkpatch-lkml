CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#636: FILE: arch/s390/kernel/smp.c:778:
+#ifndef __s390x__

Architecture specific defines should be avoided wherever
possible.

CHECK:SPACING: No space is necessary after a cast
#639: FILE: arch/s390/kernel/smp.c:781:
+				(__u32) __get_free_pages(GFP_KERNEL,0);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#639: FILE: arch/s390/kernel/smp.c:781:
+				(__u32) __get_free_pages(GFP_KERNEL,0);
 				                                   ^

WARNING:SPLIT_STRING: quoted string split across lines
#642: FILE: arch/s390/kernel/smp.c:784:
+				panic("smp_boot_cpus failed to "
+				      "allocate memory\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#646: FILE: arch/s390/kernel/smp.c:788:
+#ifndef __s390x__

ERROR:SPACING: space required before the open parenthesis '('
#669: FILE: drivers/s390/s390mach.c:41:
+	for(;;);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#669: FILE: drivers/s390/s390mach.c:41:
+	for(;;);

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#757: FILE: drivers/s390/s390mach.c:183:
+		printk(KERN_EMERG "mcck: Terminating task because of machine "

WARNING:SPLIT_STRING: quoted string split across lines
#758: FILE: drivers/s390/s390mach.c:184:
+		printk(KERN_EMERG "mcck: Terminating task because of machine "
+		       "malfunction (code 0x%016llx).\n", mcck.mcck_code);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_emerg([subsystem]dev, ... then dev_emerg(dev, ... then pr_emerg(...  to printk(KERN_EMERG ...
#759: FILE: drivers/s390/s390mach.c:185:
+		printk(KERN_EMERG "mcck: task: %s, pid: %d.\n",

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#795: FILE: drivers/s390/s390mach.c:221:
+#ifndef __s390x__

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#804: FILE: drivers/s390/s390mach.c:230:
+#ifdef __s390x__

CHECK:SPACING: No space is necessary after a cast
#808: FILE: drivers/s390/s390mach.c:234:
+		fpt_save_area = (void *) S390_lowcore.extended_save_area_addr;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#809: FILE: drivers/s390/s390mach.c:235:
+		fpt_creg_save_area = fpt_save_area+128;
 		                                  ^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#820: FILE: drivers/s390/s390mach.c:246:
+
+		}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#821: FILE: drivers/s390/s390mach.c:247:
+		}
+		else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#822: FILE: drivers/s390/s390mach.c:248:
+			asm volatile (

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#863: FILE: drivers/s390/s390mach.c:289:
+#ifdef __s390x__

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#876: FILE: drivers/s390/s390mach.c:302:
+#ifdef __s390x__

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#886: FILE: drivers/s390/s390mach.c:312:
+		asm volatile(

CHECK:SPACING: No space is necessary after a cast
#921: FILE: drivers/s390/s390mach.c:347:
+	mci = (struct mci *) &S390_lowcore.mcck_interruption_code;

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#933: FILE: drivers/s390/s390mach.c:359:
+#ifdef __s390x__

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#934: FILE: drivers/s390/s390mach.c:360:
+			z_mcic = (1ULL<<63 | 1ULL<<59 | 1ULL<<29);
 			              ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#934: FILE: drivers/s390/s390mach.c:360:
+			z_mcic = (1ULL<<63 | 1ULL<<59 | 1ULL<<29);
 			                         ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#934: FILE: drivers/s390/s390mach.c:360:
+			z_mcic = (1ULL<<63 | 1ULL<<59 | 1ULL<<29);
 			                                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#935: FILE: drivers/s390/s390mach.c:361:
+			o_mcic = (1ULL<<43 | 1ULL<<42 | 1ULL<<41 | 1ULL<<40 |
 			              ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#935: FILE: drivers/s390/s390mach.c:361:
+			o_mcic = (1ULL<<43 | 1ULL<<42 | 1ULL<<41 | 1ULL<<40 |
 			                         ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#935: FILE: drivers/s390/s390mach.c:361:
+			o_mcic = (1ULL<<43 | 1ULL<<42 | 1ULL<<41 | 1ULL<<40 |
 			                                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#935: FILE: drivers/s390/s390mach.c:361:
+			o_mcic = (1ULL<<43 | 1ULL<<42 | 1ULL<<41 | 1ULL<<40 |
 			                                               ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#936: FILE: drivers/s390/s390mach.c:362:
+				  1ULL<<36 | 1ULL<<35 | 1ULL<<34 | 1ULL<<32 |
 				      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#936: FILE: drivers/s390/s390mach.c:362:
+				  1ULL<<36 | 1ULL<<35 | 1ULL<<34 | 1ULL<<32 |
 				                 ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#936: FILE: drivers/s390/s390mach.c:362:
+				  1ULL<<36 | 1ULL<<35 | 1ULL<<34 | 1ULL<<32 |
 				                            ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#936: FILE: drivers/s390/s390mach.c:362:
+				  1ULL<<36 | 1ULL<<35 | 1ULL<<34 | 1ULL<<32 |
 				                                       ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#937: FILE: drivers/s390/s390mach.c:363:
+				  1ULL<<30 | 1ULL<<21 | 1ULL<<20 | 1ULL<<17 |
 				      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#937: FILE: drivers/s390/s390mach.c:363:
+				  1ULL<<30 | 1ULL<<21 | 1ULL<<20 | 1ULL<<17 |
 				                 ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#937: FILE: drivers/s390/s390mach.c:363:
+				  1ULL<<30 | 1ULL<<21 | 1ULL<<20 | 1ULL<<17 |
 				                            ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#937: FILE: drivers/s390/s390mach.c:363:
+				  1ULL<<30 | 1ULL<<21 | 1ULL<<20 | 1ULL<<17 |
 				                                       ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#938: FILE: drivers/s390/s390mach.c:364:
+				  1ULL<<16);
 				      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#940: FILE: drivers/s390/s390mach.c:366:
+			z_mcic = (1ULL<<63 | 1ULL<<59 | 1ULL<<57 | 1ULL<<50 |
 			              ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#940: FILE: drivers/s390/s390mach.c:366:
+			z_mcic = (1ULL<<63 | 1ULL<<59 | 1ULL<<57 | 1ULL<<50 |
 			                         ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#940: FILE: drivers/s390/s390mach.c:366:
+			z_mcic = (1ULL<<63 | 1ULL<<59 | 1ULL<<57 | 1ULL<<50 |
 			                                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#940: FILE: drivers/s390/s390mach.c:366:
+			z_mcic = (1ULL<<63 | 1ULL<<59 | 1ULL<<57 | 1ULL<<50 |
 			                                               ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#941: FILE: drivers/s390/s390mach.c:367:
+				  1ULL<<29);
 				      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#942: FILE: drivers/s390/s390mach.c:368:
+			o_mcic = (1ULL<<43 | 1ULL<<42 | 1ULL<<41 | 1ULL<<40 |
 			              ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#942: FILE: drivers/s390/s390mach.c:368:
+			o_mcic = (1ULL<<43 | 1ULL<<42 | 1ULL<<41 | 1ULL<<40 |
 			                         ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#942: FILE: drivers/s390/s390mach.c:368:
+			o_mcic = (1ULL<<43 | 1ULL<<42 | 1ULL<<41 | 1ULL<<40 |
 			                                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#942: FILE: drivers/s390/s390mach.c:368:
+			o_mcic = (1ULL<<43 | 1ULL<<42 | 1ULL<<41 | 1ULL<<40 |
 			                                               ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#943: FILE: drivers/s390/s390mach.c:369:
+				  1ULL<<36 | 1ULL<<35 | 1ULL<<34 | 1ULL<<32 |
 				      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#943: FILE: drivers/s390/s390mach.c:369:
+				  1ULL<<36 | 1ULL<<35 | 1ULL<<34 | 1ULL<<32 |
 				                 ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#943: FILE: drivers/s390/s390mach.c:369:
+				  1ULL<<36 | 1ULL<<35 | 1ULL<<34 | 1ULL<<32 |
 				                            ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#943: FILE: drivers/s390/s390mach.c:369:
+				  1ULL<<36 | 1ULL<<35 | 1ULL<<34 | 1ULL<<32 |
 				                                       ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#944: FILE: drivers/s390/s390mach.c:370:
+				  1ULL<<30 | 1ULL<<20 | 1ULL<<17 | 1ULL<<16);
 				      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#944: FILE: drivers/s390/s390mach.c:370:
+				  1ULL<<30 | 1ULL<<20 | 1ULL<<17 | 1ULL<<16);
 				                 ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#944: FILE: drivers/s390/s390mach.c:370:
+				  1ULL<<30 | 1ULL<<20 | 1ULL<<17 | 1ULL<<16);
 				                            ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#944: FILE: drivers/s390/s390mach.c:370:
+				  1ULL<<30 | 1ULL<<20 | 1ULL<<17 | 1ULL<<16);
 				                                       ^

WARNING:SPLIT_STRING: quoted string split across lines
#951: FILE: drivers/s390/s390mach.c:377:
+				s390_handle_damage("processing backup machine "
+						   "check with damage.");

WARNING:SPLIT_STRING: quoted string split across lines
#955: FILE: drivers/s390/s390mach.c:381:
+				s390_handle_damage("processing backup machine "
+						   "check in kernel mode.");

CHECK:SPACING: No space is necessary after a cast
#957: FILE: drivers/s390/s390mach.c:383:
+			mcck->mcck_code = *(unsigned long long *) mci;

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#959: FILE: drivers/s390/s390mach.c:385:
+		}
+		else {

CHECK:BRACES: Unbalanced braces around else statement
#959: FILE: drivers/s390/s390mach.c:385:
+		else {

WARNING:SPLIT_STRING: quoted string split across lines
#962: FILE: drivers/s390/s390mach.c:388:
+			s390_handle_damage("received instruction processing "
+					   "damage machine check.");

CHECK:SPACING: No space is necessary after a cast
#972: FILE: drivers/s390/s390mach.c:398:
+			mcck->mcck_code = *(unsigned long long *) mci;

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#975: FILE: drivers/s390/s390mach.c:401:
+		}
+		else

WARNING:SPLIT_STRING: quoted string split across lines
#986: FILE: drivers/s390/s390mach.c:412:
+		s390_handle_damage("received storage error uncorrected "
+				   "machine check.");

WARNING:SPLIT_STRING: quoted string split across lines
#991: FILE: drivers/s390/s390mach.c:417:
+		s390_handle_damage("received storage key-error uncorrected "
+				   "machine check.");

WARNING:SPLIT_STRING: quoted string split across lines
#996: FILE: drivers/s390/s390mach.c:422:
+		s390_handle_damage("received storage degradation machine "
+				   "check.");

ERROR:CODE_INDENT: code indent should use tabs where possible
#1101: FILE: include/asm-s390/lowcore.h:174:
+        __u8         pad3[0xD4-0xC4];          /* 0x0c4 */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1101: FILE: include/asm-s390/lowcore.h:174:
+        __u8         pad3[0xD4-0xC4];          /* 0x0c4 */$

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#1101: FILE: include/asm-s390/lowcore.h:174:
+        __u8         pad3[0xD4-0xC4];          /* 0x0c4 */
                               ^

CHECK:CAMELCASE: Avoid CamelCase: <xD4>
#1101: FILE: include/asm-s390/lowcore.h:174:
+        __u8         pad3[0xD4-0xC4];          /* 0x0c4 */

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <xC4>
#1101: FILE: include/asm-s390/lowcore.h:174:
+        __u8         pad3[0xD4-0xC4];          /* 0x0c4 */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1118: FILE: include/asm-s390/processor.h:215:
+	asm volatile ("lpsw  0(%0)" : : "a" (&psw), "m" (psw) : "cc" );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1120: FILE: include/asm-s390/processor.h:217:
+	asm volatile ("lpswe 0(%0)" : : "a" (&psw), "m" (psw) : "cc" );

ERROR:CODE_INDENT: code indent should use tabs where possible
#1179: FILE: include/asm-s390/processor.h:267:
+        psw_t dw_psw;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1179: FILE: include/asm-s390/processor.h:267:
+        psw_t dw_psw;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1183: FILE: include/asm-s390/processor.h:269:
+        dw_psw.mask = PSW_BASE_BITS | PSW_MASK_WAIT;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1183: FILE: include/asm-s390/processor.h:269:
+        dw_psw.mask = PSW_BASE_BITS | PSW_MASK_WAIT;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1184: FILE: include/asm-s390/processor.h:270:
+        dw_psw.addr = code;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1184: FILE: include/asm-s390/processor.h:270:
+        dw_psw.addr = code;$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1193: FILE: include/asm-s390/processor.h:292:
+		      : "a" (&dw_psw), "a" (&ctl_buf), "m" (dw_psw) : "cc" );

WARNING:INCLUDE_LINUX: Use #include <linux/processor.h> instead of <asm/processor.h>
#1225: FILE: include/asm-s390/system.h:19:
+#include <asm/processor.h>

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1285: FILE: include/asm-s390/thread_info.h:113:
+#define _TIF_MCCK_PENDING	(1<<TIF_MCCK_PENDING)
                          	  ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#1285: FILE: include/asm-s390/thread_info.h:113:
+#define _TIF_MCCK_PENDING	(1<<TIF_MCCK_PENDING)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000173608.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 13 errors, 15 warnings, 55 checks, 1143 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000173608.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
