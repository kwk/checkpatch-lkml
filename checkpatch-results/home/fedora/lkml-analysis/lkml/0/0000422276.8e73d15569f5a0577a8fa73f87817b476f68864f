ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#29: 
--- a/fs/attr.c	Thu Oct 17 14:19:00 2002

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#37: FILE: fs/attr.c:156:
+		if (!(error = security_inode_setattr(dentry, attr)))

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#56: FILE: fs/dquot.c:1309:
+	if ((error = security_quota_on(f)))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#69: FILE: fs/fcntl.c:277:
+	if ((err = security_file_set_fowner(filp)))
 	                                    ^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#69: FILE: fs/fcntl.c:277:
+	if ((err = security_file_set_fowner(filp)))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#79: FILE: fs/fcntl.c:370:
+	if ((err = security_file_fcntl(filp, cmd, arg))) {
 	                               ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#79: FILE: fs/fcntl.c:370:
+	if ((err = security_file_fcntl(filp, cmd, arg))) {

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#89: FILE: fs/fcntl.c:393:
+	if ((err = security_file_fcntl(filp, cmd, arg))) {
 	                               ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#89: FILE: fs/fcntl.c:393:
+	if ((err = security_file_fcntl(filp, cmd, arg))) {

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#171: FILE: fs/ioctl.c:62:
+	if ((error = security_file_ioctl(filp, cmd, arg))) {
 	                                 ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#171: FILE: fs/ioctl.c:62:
+	if ((error = security_file_ioctl(filp, cmd, arg))) {

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#184: FILE: fs/locks.c:1178:
+	if ((error = security_file_lock(filp, arg)))
 	                                ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#184: FILE: fs/locks.c:1178:
+	if ((error = security_file_lock(filp, arg)))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#194: FILE: fs/locks.c:1291:
+	if ((error = security_file_lock(filp, cmd)))
 	                                ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#194: FILE: fs/locks.c:1291:
+	if ((error = security_file_lock(filp, cmd)))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#204: FILE: fs/locks.c:1440:
+	if ((error = security_file_lock(filp, file_lock->fl_type)))
 	                                ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#204: FILE: fs/locks.c:1440:
+	if ((error = security_file_lock(filp, file_lock->fl_type)))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#214: FILE: fs/locks.c:1579:
+	if ((error = security_file_lock(filp, file_lock->fl_type)))
 	                                ^^^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#214: FILE: fs/locks.c:1579:
+	if ((error = security_file_lock(filp, file_lock->fl_type)))

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#254: FILE: fs/namei.c:416:
+	if ((err = security_inode_follow_link(dentry, nd)))
 	                                              ^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#254: FILE: fs/namei.c:416:
+	if ((err = security_inode_follow_link(dentry, nd)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#273: FILE: fs/namei.c:1127:
+	if ((error = security_inode_create(dir, dentry, mode)))

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#290: FILE: fs/namei.c:1345:
+	if ((error = security_inode_follow_link(dentry, nd)))
 	                                                ^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#290: FILE: fs/namei.c:1345:
+	if ((error = security_inode_follow_link(dentry, nd)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#300: FILE: fs/namei.c:1410:
+	if ((error = security_inode_mknod(dir, dentry, mode, dev)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#318: FILE: fs/namei.c:1477:
+	if ((error = security_inode_mkdir(dir, dentry, mode)))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#326: FILE: fs/namei.c:1484:
+		security_inode_post_mkdir(dir,dentry, mode);
 		                             ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#336: FILE: fs/namei.c:1568:
+		if (!(error = security_inode_rmdir(dir, dentry))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#346: FILE: fs/namei.c:1641:
+		if (!(error = security_inode_unlink(dir, dentry)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#358: FILE: fs/namei.c:1704:
+	if ((error = security_inode_symlink(dir, dentry, oldname)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#376: FILE: fs/namei.c:1774:
+	if ((error = security_inode_link(old_dentry, dir, new_dentry)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#395: FILE: fs/namei.c:1882:
+	if ((error = security_inode_rename(old_dir, old_dentry, new_dir, new_dentry)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#416: FILE: fs/namei.c:1916:
+	if ((error = security_inode_rename(old_dir, old_dentry, new_dir, new_dentry)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#438: FILE: fs/namespace.c:292:
+	if ((retval = security_sb_umount(mnt, flags)))

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#466: FILE: fs/namespace.c:473:
+	if ((err = security_sb_check_sb(mnt, nd)))
 	                                     ^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#466: FILE: fs/namespace.c:473:
+	if ((err = security_sb_check_sb(mnt, nd)))

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#475: FILE: fs/namespace.c:489:
+		security_sb_post_addmount(mnt, nd);
 		                               ^^

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#494: FILE: fs/namespace.c:743:
+	if ((retval = security_sb_mount(dev_name, &nd, type_page, flags, data_page)))
 	                                           ^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#494: FILE: fs/namespace.c:743:
+	if ((retval = security_sb_mount(dev_name, &nd, type_page, flags, data_page)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#504: FILE: fs/namespace.c:940:
+	if ((error = security_sb_pivotroot(&old_nd, &new_nd))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#526: FILE: fs/open.c:33:
+			if ((retval = security_sb_statfs(sb)))

WARNING:LONG_LINE: line length of 115 exceeds 100 columns
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
   ^

ERROR:SPACING: spaces required around that '||' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
            ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
                        ^

ERROR:SPACING: spaces required around that '&&' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
                                 ^

ERROR:SPACING: spaces required around that '&&' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
                                                           ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
                                                                     ^

ERROR:SPACING: spaces required around that '&&' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
                                                                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
                                                                                                            ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#538: FILE: fs/proc/base.c:398:
+(p==current||(p->parent==current&&(p->ptrace & PT_PTRACED)&&p->state==TASK_STOPPED&&security_ptrace(current,p)==0))
                                                                                                               ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#550: FILE: fs/quota.c:101:
+	return security_quotactl (cmd, type, id, sb);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#563: FILE: fs/read_write.c:196:
+		if (!(ret = security_file_permission (file, MAY_READ))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#563: FILE: fs/read_write.c:196:
+		if (!(ret = security_file_permission (file, MAY_READ))) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#573: FILE: fs/read_write.c:235:
+		if (!(ret = security_file_permission (file, MAY_WRITE))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#573: FILE: fs/read_write.c:235:
+		if (!(ret = security_file_permission (file, MAY_WRITE))) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#583: FILE: fs/read_write.c:466:
+		if (!(ret = security_file_permission (file, MAY_READ)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#583: FILE: fs/read_write.c:466:
+		if (!(ret = security_file_permission (file, MAY_READ)))

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#593: FILE: fs/read_write.c:488:
+		if (!(ret = security_file_permission (file, MAY_WRITE)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#593: FILE: fs/read_write.c:488:
+		if (!(ret = security_file_permission (file, MAY_WRITE)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#606: FILE: fs/readdir.c:25:
+	if ((res = security_file_permission(file, MAY_READ)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#619: FILE: fs/stat.c:42:
+	if ((retval = security_inode_getattr(mnt, dentry)))

WARNING:TYPO_SPELLING: 'nd' may be misspelled - perhaps 'and'?
#629: FILE: fs/stat.c:240:
+			if (!(error = security_inode_readlink(nd.dentry))) {
 			                                      ^^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#629: FILE: fs/stat.c:240:
+			if (!(error = security_inode_readlink(nd.dentry))) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#664: FILE: fs/xattr.c:89:
+		if ((error = security_inode_setxattr(d, kname, kvalue, size, flags)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#674: FILE: fs/xattr.c:165:
+		if ((error = security_inode_getxattr(d, kname)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#684: FILE: fs/xattr.c:237:
+		if ((error = security_inode_listxattr(d)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#694: FILE: fs/xattr.c:311:
+		if ((error = security_inode_removexattr(d, kname)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#719: FILE: mm/mmap.c:501:
+	if ((error = security_file_mmap(file, prot, flags)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#732: FILE: mm/mprotect.c:265:
+		if ((error = security_file_mprotect(vma, prot)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#745: FILE: net/core/scm.c:220:
+		if ((err = security_file_receive(fp[i])))

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000422276.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 51 errors, 20 warnings, 0 checks, 594 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000422276.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
