WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#29: 
--- linux-2.5.63/drivers/block/cciss.c~bigioctl	2003-02-27 14:11:56.000000000 +0600

CHECK:CAMELCASE: Avoid CamelCase: <CommandList_struct>
#39: FILE: drivers/block/cciss.c:734:
+		CommandList_struct *c;

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

ERROR:TRAILING_WHITESPACE: trailing whitespace
#56: FILE: drivers/block/cciss.c:751:
+^I^Iioc = (BIG_IOCTL_Command_struct *) $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#56: FILE: drivers/block/cciss.c:751:
+		ioc = (BIG_IOCTL_Command_struct *) 

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#62: FILE: drivers/block/cciss.c:757:
+		if (copy_from_user(ioc, (void *) arg, sizeof(*ioc)))

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 32)
#64: FILE: drivers/block/cciss.c:759:
+		if ((ioc->buf_size < 1) &&
[...]
+				return -EINVAL;

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'ioc->buf_size < 1'
#64: FILE: drivers/block/cciss.c:759:
+		if ((ioc->buf_size < 1) &&
+			(ioc->Request.Type.Direction != XFER_NONE))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'ioc->Request.Type.Direction != XFER_NONE'
#64: FILE: drivers/block/cciss.c:759:
+		if ((ioc->buf_size < 1) &&
+			(ioc->Request.Type.Direction != XFER_NONE))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#65: FILE: drivers/block/cciss.c:760:
+		if ((ioc->buf_size < 1) &&
+			(ioc->Request.Type.Direction != XFER_NONE))

CHECK:CAMELCASE: Avoid CamelCase: <Request>
#65: FILE: drivers/block/cciss.c:760:
+			(ioc->Request.Type.Direction != XFER_NONE))

CHECK:CAMELCASE: Avoid CamelCase: <Type>
#65: FILE: drivers/block/cciss.c:760:
+			(ioc->Request.Type.Direction != XFER_NONE))

CHECK:CAMELCASE: Avoid CamelCase: <Direction>
#65: FILE: drivers/block/cciss.c:760:
+			(ioc->Request.Type.Direction != XFER_NONE))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#72: FILE: drivers/block/cciss.c:767:
+^I^Ibuff = (unsigned char **) kmalloc(MAXSGENTRIES * $

CHECK:SPACING: No space is necessary after a cast
#72: FILE: drivers/block/cciss.c:767:
+		buff = (unsigned char **) kmalloc(MAXSGENTRIES * 

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#72: FILE: drivers/block/cciss.c:767:
+		buff = (unsigned char **) kmalloc(MAXSGENTRIES * 

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#72: FILE: drivers/block/cciss.c:767:
+		buff = (unsigned char **) kmalloc(MAXSGENTRIES * 
+				sizeof(char *), GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

ERROR:TRAILING_WHITESPACE: trailing whitespace
#79: FILE: drivers/block/cciss.c:774:
+^I^Ibuff_size = (int *) kmalloc(MAXSGENTRIES * sizeof(int), $

CHECK:SPACING: No space is necessary after a cast
#79: FILE: drivers/block/cciss.c:774:
+		buff_size = (int *) kmalloc(MAXSGENTRIES * sizeof(int), 

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#79: FILE: drivers/block/cciss.c:774:
+		buff_size = (int *) kmalloc(MAXSGENTRIES * sizeof(int), 

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#79: FILE: drivers/block/cciss.c:774:
+		buff_size = (int *) kmalloc(MAXSGENTRIES * sizeof(int), 
+					GFP_KERNEL);

CHECK:SPACING: No space is necessary after a cast
#86: FILE: drivers/block/cciss.c:781:
+		data_ptr = (BYTE *) ioc->buf;

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!buff[sg_used]"
#91: FILE: drivers/block/cciss.c:786:
+			if (buff[sg_used] == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (24, 40)
#95: FILE: drivers/block/cciss.c:790:
+			if (ioc->Request.Type.Direction == XFER_WRITE &&
[...]
+					status = -ENOMEM;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#96: FILE: drivers/block/cciss.c:791:
+			if (ioc->Request.Type.Direction == XFER_WRITE &&
+				copy_from_user(buff[sg_used], data_ptr, sz)) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#98: FILE: drivers/block/cciss.c:793:
+^I^I^I^I^Igoto cleanup1;^I^I^I$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#104: FILE: drivers/block/cciss.c:799:
+		if ((c = cmd_alloc(h , 0)) == NULL) {
 		                     ^

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#104: FILE: drivers/block/cciss.c:799:
+		if ((c = cmd_alloc(h , 0)) == NULL) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#106: FILE: drivers/block/cciss.c:801:
+^I^I^Igoto cleanup1;^I$

CHECK:CAMELCASE: Avoid CamelCase: <Header>
#109: FILE: drivers/block/cciss.c:804:
+		c->Header.ReplyQueue = 0;

CHECK:CAMELCASE: Avoid CamelCase: <ReplyQueue>
#109: FILE: drivers/block/cciss.c:804:
+		c->Header.ReplyQueue = 0;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#110: FILE: drivers/block/cciss.c:805:
+^I^I$

ERROR:SPACING: space prohibited after that open parenthesis '('
#111: FILE: drivers/block/cciss.c:806:
+		if( ioc->buf_size > 0) {

ERROR:SPACING: space required before the open parenthesis '('
#111: FILE: drivers/block/cciss.c:806:
+		if( ioc->buf_size > 0) {

CHECK:CAMELCASE: Avoid CamelCase: <SGList>
#112: FILE: drivers/block/cciss.c:807:
+			c->Header.SGList = sg_used;

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#113: FILE: drivers/block/cciss.c:808:
+			c->Header.SGTotal= sg_used;
 			                 ^

CHECK:CAMELCASE: Avoid CamelCase: <SGTotal>
#113: FILE: drivers/block/cciss.c:808:
+			c->Header.SGTotal= sg_used;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#114: FILE: drivers/block/cciss.c:809:
+^I^I} else { $

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#116: FILE: drivers/block/cciss.c:811:
+			c->Header.SGTotal= 0;
 			                 ^

CHECK:CAMELCASE: Avoid CamelCase: <Tag>
#119: FILE: drivers/block/cciss.c:814:
+		c->Header.Tag.lower = c->busaddr;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#120: FILE: drivers/block/cciss.c:815:
+^I^I$

ERROR:SPACING: space prohibited before that close parenthesis ')'
#122: FILE: drivers/block/cciss.c:817:
+		if (ioc->buf_size > 0 ) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#124: FILE: drivers/block/cciss.c:819:
+			int i;
+			for(i=0; i<sg_used; i++) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#124: FILE: drivers/block/cciss.c:819:
+			for(i=0; i<sg_used; i++) {
 			     ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#124: FILE: drivers/block/cciss.c:819:
+			for(i=0; i<sg_used; i++) {
 			          ^

ERROR:SPACING: space required before the open parenthesis '('
#124: FILE: drivers/block/cciss.c:819:
+			for(i=0; i<sg_used; i++) {

ERROR:SPACING: space prohibited after that open parenthesis '('
#125: FILE: drivers/block/cciss.c:820:
+				temp64.val = pci_map_single( h->pdev, buff[i],

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#126: FILE: drivers/block/cciss.c:821:
+				temp64.val = pci_map_single( h->pdev, buff[i],
+					buff_size[i],

CHECK:CAMELCASE: Avoid CamelCase: <Addr>
#128: FILE: drivers/block/cciss.c:823:
+				c->SG[i].Addr.lower = temp64.val32.lower;

CHECK:CAMELCASE: Avoid CamelCase: <Len>
#130: FILE: drivers/block/cciss.c:825:
+				c->SG[i].Len = buff_size[i];

CHECK:CAMELCASE: Avoid CamelCase: <Ext>
#131: FILE: drivers/block/cciss.c:826:
+				c->SG[i].Ext = 0;  /* we are not chaining */

CHECK:CAMELCASE: Avoid CamelCase: <reqQ>
#137: FILE: drivers/block/cciss.c:832:
+		addQ(&h->reqQ, c);

CHECK:CAMELCASE: Avoid CamelCase: <Qdepth>
#138: FILE: drivers/block/cciss.c:833:
+		h->Qdepth++;

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#143: FILE: drivers/block/cciss.c:838:
+		for(i=0; i<sg_used; i++) {
 		     ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#143: FILE: drivers/block/cciss.c:838:
+		for(i=0; i<sg_used; i++) {
 		          ^

ERROR:SPACING: space required before the open parenthesis '('
#143: FILE: drivers/block/cciss.c:838:
+		for(i=0; i<sg_used; i++) {

CHECK:SPACING: No space is necessary after a cast
#146: FILE: drivers/block/cciss.c:841:
+			pci_unmap_single( h->pdev, (dma_addr_t) temp64.val,

ERROR:SPACING: space prohibited after that open parenthesis '('
#146: FILE: drivers/block/cciss.c:841:
+			pci_unmap_single( h->pdev, (dma_addr_t) temp64.val,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#147: FILE: drivers/block/cciss.c:842:
+			pci_unmap_single( h->pdev, (dma_addr_t) temp64.val,
+				buff_size[i], PCI_DMA_BIDIRECTIONAL);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around c->err_info
#150: FILE: drivers/block/cciss.c:845:
+		ioc->error_info = *(c->err_info);

CHECK:SPACING: No space is necessary after a cast
#151: FILE: drivers/block/cciss.c:846:
+		if (copy_to_user((void *) arg, ioc, sizeof(*ioc))) {

CHECK:SPACING: No space is necessary after a cast
#158: FILE: drivers/block/cciss.c:853:
+			BYTE *ptr = (BYTE  *) ioc->buf;

ERROR:CODE_INDENT: code indent should use tabs where possible
#159: FILE: drivers/block/cciss.c:854:
+^I        ^Ifor(i=0; i< sg_used; i++) {$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#159: FILE: drivers/block/cciss.c:854:
+^I        ^Ifor(i=0; i< sg_used; i++) {$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#159: FILE: drivers/block/cciss.c:854:
+	        	for(i=0; i< sg_used; i++) {
 	        	     ^

ERROR:SPACING: spaces required around that '<' (ctx:VxW)
#159: FILE: drivers/block/cciss.c:854:
+	        	for(i=0; i< sg_used; i++) {
 	        	          ^

ERROR:SPACING: space required before the open parenthesis '('
#159: FILE: drivers/block/cciss.c:854:
+	        	for(i=0; i< sg_used; i++) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#172: FILE: drivers/block/cciss.c:867:
+			for(i=0; i<sg_used; i++)
 			     ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#172: FILE: drivers/block/cciss.c:867:
+			for(i=0; i<sg_used; i++)
 			          ^

ERROR:SPACING: space required before the open parenthesis '('
#172: FILE: drivers/block/cciss.c:867:
+			for(i=0; i<sg_used; i++)

ERROR:SPACING: space required before the open parenthesis '('
#173: FILE: drivers/block/cciss.c:868:
+				if(buff[i] != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "buff[i]"
#173: FILE: drivers/block/cciss.c:868:
+				if(buff[i] != NULL)

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#178: FILE: drivers/block/cciss.c:873:
+		if (buff_size)
+			kfree(buff_size);

WARNING:NEEDLESS_IF: kfree(NULL) is safe and this check is probably not required
#180: FILE: drivers/block/cciss.c:875:
+		if (ioc)
+			kfree(ioc);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#181: FILE: drivers/block/cciss.c:876:
+		return(status);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

WARNING:NEW_TYPEDEFS: do not add new typedefs
#194: FILE: include/linux/cciss_ioctl.h:38:
+typedef struct _BIG_IOCTL_Command_struct {

CHECK:CAMELCASE: Avoid CamelCase: <_BIG_IOCTL_Command_struct>
#194: FILE: include/linux/cciss_ioctl.h:38:
+typedef struct _BIG_IOCTL_Command_struct {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#195: FILE: include/linux/cciss_ioctl.h:39:
+  LUNAddr_struct^I   LUN_info;$

CHECK:CAMELCASE: Avoid CamelCase: <LUNAddr_struct>
#195: FILE: include/linux/cciss_ioctl.h:39:
+  LUNAddr_struct	   LUN_info;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#196: FILE: include/linux/cciss_ioctl.h:40:
+  RequestBlock_struct      Request;$

CHECK:CAMELCASE: Avoid CamelCase: <RequestBlock_struct>
#196: FILE: include/linux/cciss_ioctl.h:40:
+  RequestBlock_struct      Request;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#197: FILE: include/linux/cciss_ioctl.h:41:
+  ErrorInfo_struct  ^I   error_info; $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#197: FILE: include/linux/cciss_ioctl.h:41:
+  ErrorInfo_struct  ^I   error_info; $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#197: FILE: include/linux/cciss_ioctl.h:41:
+  ErrorInfo_struct  ^I   error_info; $

CHECK:CAMELCASE: Avoid CamelCase: <ErrorInfo_struct>
#197: FILE: include/linux/cciss_ioctl.h:41:
+  ErrorInfo_struct  	   error_info; 

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#198: FILE: include/linux/cciss_ioctl.h:42:
+  DWORD^I^I^I   malloc_size; /* < MAX_KMALLOC_SIZE in cciss.c */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#199: FILE: include/linux/cciss_ioctl.h:43:
+  DWORD^I^I^I   buf_size;    /* size in bytes of the buf */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#200: FILE: include/linux/cciss_ioctl.h:44:
+  ^I^I^I^I        /* < malloc_size * MAXSGENTRIES */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#200: FILE: include/linux/cciss_ioctl.h:44:
+  ^I^I^I^I        /* < malloc_size * MAXSGENTRIES */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#200: FILE: include/linux/cciss_ioctl.h:44:
+  ^I^I^I^I        /* < malloc_size * MAXSGENTRIES */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#201: FILE: include/linux/cciss_ioctl.h:45:
+  BYTE^I^I^I   *buf;$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000389863.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 34 errors, 21 warnings, 35 checks, 178 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000389863.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
