WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#41: FILE: drivers/dlm/lock.c:1:
+/******************************************************************************

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#42: FILE: drivers/dlm/lock.c:2:
+/******************************************************************************
+*******************************************************************************

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#54: FILE: drivers/dlm/lock.c:14:
+/* Central locking logic has four stages:
+

ERROR:CODE_INDENT: code indent should use tabs where possible
#95: FILE: drivers/dlm/lock.c:55:
+                                   R: do_xxxx()$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:TYPO_SPELLING: 'compatibilty' may be misspelled - perhaps 'compatibility'?
#128: FILE: drivers/dlm/lock.c:88:
+ * Lock compatibilty matrix - thanks Steve
         ^^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:CODE_INDENT: code indent should use tabs where possible
#137: FILE: drivers/dlm/lock.c:97:
+        {1, 1, 1, 1, 1, 1, 1, 0},       /* UN */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#137: FILE: drivers/dlm/lock.c:97:
+        {1, 1, 1, 1, 1, 1, 1, 0},       /* UN */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#138: FILE: drivers/dlm/lock.c:98:
+        {1, 1, 1, 1, 1, 1, 1, 0},       /* NL */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#138: FILE: drivers/dlm/lock.c:98:
+        {1, 1, 1, 1, 1, 1, 1, 0},       /* NL */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#139: FILE: drivers/dlm/lock.c:99:
+        {1, 1, 1, 1, 1, 1, 0, 0},       /* CR */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#139: FILE: drivers/dlm/lock.c:99:
+        {1, 1, 1, 1, 1, 1, 0, 0},       /* CR */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#140: FILE: drivers/dlm/lock.c:100:
+        {1, 1, 1, 1, 0, 0, 0, 0},       /* CW */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#140: FILE: drivers/dlm/lock.c:100:
+        {1, 1, 1, 1, 0, 0, 0, 0},       /* CW */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#141: FILE: drivers/dlm/lock.c:101:
+        {1, 1, 1, 0, 1, 0, 0, 0},       /* PR */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#141: FILE: drivers/dlm/lock.c:101:
+        {1, 1, 1, 0, 1, 0, 0, 0},       /* PR */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#142: FILE: drivers/dlm/lock.c:102:
+        {1, 1, 1, 0, 0, 0, 0, 0},       /* PW */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#142: FILE: drivers/dlm/lock.c:102:
+        {1, 1, 1, 0, 0, 0, 0, 0},       /* PW */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#143: FILE: drivers/dlm/lock.c:103:
+        {1, 1, 0, 0, 0, 0, 0, 0},       /* EX */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#143: FILE: drivers/dlm/lock.c:103:
+        {1, 1, 0, 0, 0, 0, 0, 0},       /* EX */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#144: FILE: drivers/dlm/lock.c:104:
+        {0, 0, 0, 0, 0, 0, 0, 0}        /* PD */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#144: FILE: drivers/dlm/lock.c:104:
+        {0, 0, 0, 0, 0, 0, 0, 0}        /* PD */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#163: FILE: drivers/dlm/lock.c:123:
+        {0, 0, 0, 0, 0, 0, 0, 0},       /* UN */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#163: FILE: drivers/dlm/lock.c:123:
+        {0, 0, 0, 0, 0, 0, 0, 0},       /* UN */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#164: FILE: drivers/dlm/lock.c:124:
+        {0, 0, 1, 1, 1, 1, 1, 0},       /* NL */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#164: FILE: drivers/dlm/lock.c:124:
+        {0, 0, 1, 1, 1, 1, 1, 0},       /* NL */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#165: FILE: drivers/dlm/lock.c:125:
+        {0, 0, 0, 1, 1, 1, 1, 0},       /* CR */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#165: FILE: drivers/dlm/lock.c:125:
+        {0, 0, 0, 1, 1, 1, 1, 0},       /* CR */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#166: FILE: drivers/dlm/lock.c:126:
+        {0, 0, 0, 0, 1, 1, 1, 0},       /* CW */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#166: FILE: drivers/dlm/lock.c:126:
+        {0, 0, 0, 0, 1, 1, 1, 0},       /* CW */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#167: FILE: drivers/dlm/lock.c:127:
+        {0, 0, 0, 1, 0, 1, 1, 0},       /* PR */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#167: FILE: drivers/dlm/lock.c:127:
+        {0, 0, 0, 1, 0, 1, 1, 0},       /* PR */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#168: FILE: drivers/dlm/lock.c:128:
+        {0, 0, 0, 0, 0, 0, 1, 0},       /* PW */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#168: FILE: drivers/dlm/lock.c:128:
+        {0, 0, 0, 0, 0, 0, 1, 0},       /* PW */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#169: FILE: drivers/dlm/lock.c:129:
+        {0, 0, 0, 0, 0, 0, 0, 0},       /* EX */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#169: FILE: drivers/dlm/lock.c:129:
+        {0, 0, 0, 0, 0, 0, 0, 0},       /* EX */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#170: FILE: drivers/dlm/lock.c:130:
+        {0, 0, 0, 0, 0, 0, 0, 0}        /* PD */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#170: FILE: drivers/dlm/lock.c:130:
+        {0, 0, 0, 0, 0, 0, 0, 0}        /* PD */$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#175: FILE: drivers/dlm/lock.c:135:
+	printk(KERN_ERR "lkb: nodeid %d id %x remid %x exflags %x flags %x\n"

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#184: FILE: drivers/dlm/lock.c:144:
+	printk(KERN_ERR "rsb: nodeid %d flags %lx trial %x rlc %d name %s\n",

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#241: FILE: drivers/dlm/lock.c:201:
+	if ((lkb->lkb_grmode==DLM_LOCK_PR && lkb->lkb_rqmode==DLM_LOCK_CW) ||
 	                    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#241: FILE: drivers/dlm/lock.c:201:
+	if ((lkb->lkb_grmode==DLM_LOCK_PR && lkb->lkb_rqmode==DLM_LOCK_CW) ||
 	                                                    ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#242: FILE: drivers/dlm/lock.c:202:
+	    (lkb->lkb_rqmode==DLM_LOCK_PR && lkb->lkb_grmode==DLM_LOCK_CW))
 	                    ^

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#242: FILE: drivers/dlm/lock.c:202:
+	    (lkb->lkb_rqmode==DLM_LOCK_PR && lkb->lkb_grmode==DLM_LOCK_CW))
 	                                                    ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#267: FILE: drivers/dlm/lock.c:227:
+	if (is_master_copy(lkb))
[...]
+	else {
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#269: FILE: drivers/dlm/lock.c:229:
+	else {

ERROR:SPACING: space required after that ',' (ctx:VxB)
#350: FILE: drivers/dlm/lock.c:310:
+		DLM_ASSERT(!test_bit(RESFL_MASTER_UNCERTAIN, &r->res_flags),);
 		                                                           ^

WARNING:LINE_SPACING: Missing a blank line after declarations
#361: FILE: drivers/dlm/lock.c:321:
+	int error;
+	write_lock(&ls->ls_rsbtbl[b].lock);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#385: FILE: drivers/dlm/lock.c:345:
+	uint32_t bucket;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#434: FILE: drivers/dlm/lock.c:394:
+/* This is only called to add a reference when the code already holds
+   a valid reference to the rsb, so there's no need for locking. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#434: FILE: drivers/dlm/lock.c:394:
+   a valid reference to the rsb, so there's no need for locking. */

WARNING:TYPO_SPELLING: 'transfered' may be misspelled - perhaps 'transferred'?
#461: FILE: drivers/dlm/lock.c:421:
+/* When all references to the rsb are gone it's transfered to
                                                 ^^^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#462: FILE: drivers/dlm/lock.c:422:
+/* When all references to the rsb are gone it's transfered to
+   the tossed list for later disposal. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#462: FILE: drivers/dlm/lock.c:422:
+   the tossed list for later disposal. */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#467: FILE: drivers/dlm/lock.c:427:
+	uint32_t bucket = r->res_bucket;

WARNING:LINE_SPACING: Missing a blank line after declarations
#484: FILE: drivers/dlm/lock.c:444:
+	int rv;
+	rv = kref_put(&r->res_ref, toss_rsb);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#493: FILE: drivers/dlm/lock.c:453:
+	/* All work is done after the return from kref_put() so we
+	   can release the write_lock before the remove and free. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#493: FILE: drivers/dlm/lock.c:453:
+	   can release the write_lock before the remove and free. */

ERROR:SPACING: space required after that ',' (ctx:VxB)
#495: FILE: drivers/dlm/lock.c:455:
+	DLM_ASSERT(list_empty(&r->res_lookup),);
 	                                     ^

ERROR:SPACING: space required after that ',' (ctx:VxB)
#496: FILE: drivers/dlm/lock.c:456:
+	DLM_ASSERT(list_empty(&r->res_grantqueue),);
 	                                         ^

ERROR:SPACING: space required after that ',' (ctx:VxB)
#497: FILE: drivers/dlm/lock.c:457:
+	DLM_ASSERT(list_empty(&r->res_convertqueue),);
 	                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxB)
#498: FILE: drivers/dlm/lock.c:458:
+	DLM_ASSERT(list_empty(&r->res_waitqueue),);
 	                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxB)
#499: FILE: drivers/dlm/lock.c:459:
+	DLM_ASSERT(list_empty(&r->res_root_list),);
 	                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxB)
#500: FILE: drivers/dlm/lock.c:460:
+	DLM_ASSERT(list_empty(&r->res_recover_list),);
 	                                           ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#504: FILE: drivers/dlm/lock.c:464:
+/* Attaching/detaching lkb's from rsb's is for rsb reference counting.
+   The rsb must exist as long as any lkb's for it do. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#504: FILE: drivers/dlm/lock.c:464:
+   The rsb must exist as long as any lkb's for it do. */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#523: FILE: drivers/dlm/lock.c:483:
+	uint32_t lkid = 0;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#524: FILE: drivers/dlm/lock.c:484:
+	uint16_t bucket;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#563: FILE: drivers/dlm/lock.c:523:
+	uint16_t bucket = lkid & 0xFFFF;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#576: FILE: drivers/dlm/lock.c:536:
+	uint16_t bucket = lkid & 0xFFFF;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#596: FILE: drivers/dlm/lock.c:556:
+	/* All work is done after the return from kref_put() so we
+	   can release the write_lock before the detach_lkb */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#596: FILE: drivers/dlm/lock.c:556:
+	   can release the write_lock before the detach_lkb */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u16' over 'uint16_t'
#604: FILE: drivers/dlm/lock.c:564:
+	uint16_t bucket = lkb->lkb_id & 0xFFFF;

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#620: FILE: drivers/dlm/lock.c:580:
+		return 1;
+	} else {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#632: FILE: drivers/dlm/lock.c:592:
+/* This is only called to add a reference when the code already holds
+   a valid reference to the lkb, so there's no need for locking. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#632: FILE: drivers/dlm/lock.c:592:
+   a valid reference to the lkb, so there's no need for locking. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#640: FILE: drivers/dlm/lock.c:600:
+/* This is called when we need to remove a reference and are certain
+   it's not the last ref.  e.g. del_lkb is always called between a

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#642: FILE: drivers/dlm/lock.c:602:
+   put_lkb would work fine, but would involve unnecessary locking */

WARNING:LINE_SPACING: Missing a blank line after declarations
#647: FILE: drivers/dlm/lock.c:607:
+	int rv;
+	rv = kref_put(&lkb->lkb_ref, kill_lkb);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#696: FILE: drivers/dlm/lock.c:656:
+		DLM_ASSERT(0, dlm_print_lkb(lkb); printk("sts=%d\n", status););

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#716: FILE: drivers/dlm/lock.c:676:
+/* add/remove lkb from global waiters list of lkb's waiting for
+   a reply from a remote node */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#716: FILE: drivers/dlm/lock.c:676:
+   a reply from a remote node */

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'add_to_waiters', this function's name, in a string
#724: FILE: drivers/dlm/lock.c:684:
+		log_print("add_to_waiters error %d", lkb->lkb_wait_type);

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#778: FILE: drivers/dlm/lock.c:738:
+/* FIXME: shouldn't this be able to exit as soon as one non-due rsb is
+   found since they are in order of newest to oldest? */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#778: FILE: drivers/dlm/lock.c:738:
+   found since they are in order of newest to oldest? */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#839: FILE: drivers/dlm/lock.c:799:
+	/* b=1 lvb returned to caller
+	   b=0 lvb written to rsb or invalidated

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#840: FILE: drivers/dlm/lock.c:800:
+	   b=-1 do nothing */

WARNING:LINE_SPACING: Missing a blank line after declarations
#928: FILE: drivers/dlm/lock.c:888:
+		int len = receive_extralen(ms);
+		memcpy(lkb->lkb_lvbptr, ms->m_extra, len);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#934: FILE: drivers/dlm/lock.c:894:
+/* Manipulate lkb's on rsb's convert/granted/waiting queues
+   remove_lock -- used for unlock, removes lkb from granted

ERROR:CODE_INDENT: code indent should use tabs where possible
#937: FILE: drivers/dlm/lock.c:897:
+                  moves lkb from convert or waiting to granted$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#941: FILE: drivers/dlm/lock.c:901:
+   a process copy (pc) lkb. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#948: FILE: drivers/dlm/lock.c:908:
+	/* this unhold undoes the original ref from create_lkb()
+	   so this leads to the lkb being freed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#948: FILE: drivers/dlm/lock.c:908:
+	   so this leads to the lkb being freed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#975: FILE: drivers/dlm/lock.c:935:
+		/* this unhold undoes the original ref from create_lkb()
+		   so this leads to the lkb being freed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#975: FILE: drivers/dlm/lock.c:935:
+		   so this leads to the lkb being freed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1021: FILE: drivers/dlm/lock.c:981:
+/* called by grant_pending_locks() which means an async grant message must
+   be sent to the requesting node in addition to granting the lock if the

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1022: FILE: drivers/dlm/lock.c:982:
+   lkb belongs to a remote node. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1044: FILE: drivers/dlm/lock.c:1004:
+/* Return 1 if the locks' ranges overlap.  If the lkb has no range then it is
+   assumed to cover 0-ffffffff.ffffffff */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1044: FILE: drivers/dlm/lock.c:1004:
+   assumed to cover 0-ffffffff.ffffffff */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1118: FILE: drivers/dlm/lock.c:1078:
+	/* if lkb is on the convert queue and is preventing the first
+	   from being granted, then there's deadlock and we demote lkb.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1120: FILE: drivers/dlm/lock.c:1080:
+	   converting lock can be granted. */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 's8' over 'int8_t'
#1146: FILE: drivers/dlm/lock.c:1106:
+	int8_t conv = (lkb->lkb_grmode != DLM_LOCK_IV);

WARNING:TYPO_SPELLING: 'theis' may be misspelled - perhaps 'this'?
#1154: FILE: drivers/dlm/lock.c:1114:
+	 * tells the Lock Manager to expedite theis request by not considering
 	                                      ^^^^^

WARNING:TYPO_SPELLING: 'indefinate' may be misspelled - perhaps 'indefinite'?
#1191: FILE: drivers/dlm/lock.c:1151:
+	 * turn, can lead to a phenomenon known as "indefinate postponement".
 	                                            ^^^^^^^^^^

WARNING:TYPO_SPELLING: 'servce' may be misspelled - perhaps 'service'?
#1198: FILE: drivers/dlm/lock.c:1158:
+	 * being ordered on a "first come first servce" basis.
 	                                        ^^^^^^

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1278: FILE: drivers/dlm/lock.c:1238:
+	uint32_t flags = lkb->lkb_exflags;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 's8' over 'int8_t'
#1280: FILE: drivers/dlm/lock.c:1240:
+	int8_t alt = 0, rqmode = lkb->lkb_rqmode;

ERROR:CODE_INDENT: code indent should use tabs where possible
#1346: FILE: drivers/dlm/lock.c:1306:
+                else$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1346: FILE: drivers/dlm/lock.c:1306:
+                else$

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'lkb->lkb_highbast < high'
#1374: FILE: drivers/dlm/lock.c:1334:
+		if (lkb->lkb_bastaddr && (lkb->lkb_highbast < high) &&
+		    !__dlm_compat_matrix[lkb->lkb_grmode+1][high+1]) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1375: FILE: drivers/dlm/lock.c:1335:
+		    !__dlm_compat_matrix[lkb->lkb_grmode+1][high+1]) {
 		                                        ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1375: FILE: drivers/dlm/lock.c:1335:
+		    !__dlm_compat_matrix[lkb->lkb_grmode+1][high+1]) {
 		                                                ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1409: FILE: drivers/dlm/lock.c:1369:
+/* set_master(r, lkb) -- set the master nodeid of a resource
+

WARNING:TYPO_SPELLING: 'retrived' may be misspelled - perhaps 'retrieved'?
#1421: FILE: drivers/dlm/lock.c:1381:
+   After a remote lookup or when a tossed rsb is retrived that specifies
                                                  ^^^^^^^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1470: FILE: drivers/dlm/lock.c:1430:
+	/* This is the first lkb requested on this rsb since the rsb
+	   was created.  We need to figure out who the rsb master is. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1470: FILE: drivers/dlm/lock.c:1430:
+	   was created.  We need to figure out who the rsb master is. */

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1472: FILE: drivers/dlm/lock.c:1432:
+	DLM_ASSERT(r->res_nodeid == -1, );

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1484: FILE: drivers/dlm/lock.c:1444:
+		/* It's possible for dlm_scand to remove an old rsb for
+		   this same resource from the toss list, us to create

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1487: FILE: drivers/dlm/lock.c:1447:
+		   dir_remove() on the previous rsb. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1511: FILE: drivers/dlm/lock.c:1471:
+/* confirm_master -- confirm (or deny) an rsb's master nodeid
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1532: FILE: drivers/dlm/lock.c:1492:
+		/* the remote master queued our request, or
+		   the remote dir node told us we're the master */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1532: FILE: drivers/dlm/lock.c:1492:
+		   the remote dir node told us we're the master */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1544: FILE: drivers/dlm/lock.c:1504:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1547: FILE: drivers/dlm/lock.c:1507:
+		/* the remote master didn't queue our NOQUEUE request;
+		   do another trial with the next waiting lkb */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1547: FILE: drivers/dlm/lock.c:1507:
+		   do another trial with the next waiting lkb */

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#1557: FILE: drivers/dlm/lock.c:1517:
+		/* fall through so the rsb looks new */

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1562: FILE: drivers/dlm/lock.c:1522:
+		/* the remote master wasn't really the master, i.e.  our
+		   trial failed; so we start over with another lookup */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1562: FILE: drivers/dlm/lock.c:1522:
+		   trial failed; so we start over with another lookup */

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'confirm_master', this function's name, in a string
#1570: FILE: drivers/dlm/lock.c:1530:
+		log_error(r->res_ls, "confirm_master unknown error %d", error);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'namelen > DLM_RESNAME_MAXLEN'
#1586: FILE: drivers/dlm/lock.c:1546:
+	if (!(flags & DLM_LKF_CONVERT) && (namelen > DLM_RESNAME_MAXLEN))

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1627: FILE: drivers/dlm/lock.c:1587:
+	/* these args will be copied to the lkb in validate_lock_args,
+	   it cannot be done now because when converting locks, fields in

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1628: FILE: drivers/dlm/lock.c:1588:
+	   an active lkb cannot be modified before locking the rsb */

CHECK:SPACING: No space is necessary after a cast
#1632: FILE: drivers/dlm/lock.c:1592:
+	args->astparam = (long) astarg;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1642: FILE: drivers/dlm/lock.c:1602:
+static int set_unlock_args(uint32_t flags, void *astarg, struct dlm_args *args)

CHECK:SPACING: No space is necessary after a cast
#1648: FILE: drivers/dlm/lock.c:1608:
+	args->astparam = (long) astarg;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1662: FILE: drivers/dlm/lock.c:1622:
+		    !__quecvt_compat_matrix[lkb->lkb_grmode+1][args->mode+1])
 		                                           ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1662: FILE: drivers/dlm/lock.c:1622:
+		    !__quecvt_compat_matrix[lkb->lkb_grmode+1][args->mode+1])
 		                                                         ^

CHECK:SPACING: No space is necessary after a cast
#1681: FILE: drivers/dlm/lock.c:1641:
+	lkb->lkb_ownpid = (int) current->pid;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#1693: FILE: drivers/dlm/lock.c:1653:
+		/* This is needed for conversions that contain ranges
+		   where the original lock didn't but it's harmless for

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1694: FILE: drivers/dlm/lock.c:1654:
+		   new locks too. */

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1996: FILE: drivers/dlm/lock.c:1956:
+	     uint32_t flags,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1999: FILE: drivers/dlm/lock.c:1959:
+	     uint32_t parent_lkid,

WARNING:SPACING: Unnecessary space before function pointer arguments
#2000: FILE: drivers/dlm/lock.c:1960:
+	     void (*ast) (void *astarg),

WARNING:SPACING: Unnecessary space before function pointer arguments
#2002: FILE: drivers/dlm/lock.c:1962:
+	     void (*bast) (void *astarg, int mode),

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2048: FILE: drivers/dlm/lock.c:2008:
+	       uint32_t lkid,

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#2049: FILE: drivers/dlm/lock.c:2009:
+	       uint32_t flags,

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2101: FILE: drivers/dlm/lock.c:2061:
+ * ^I^I^I^Isend_common_reply$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2136: FILE: drivers/dlm/lock.c:2096:
+	/* get_buffer gives us a message handle (mh) that we need to
+	   pass into lowcomms_commit and a message buffer (mb) that we

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2137: FILE: drivers/dlm/lock.c:2097:
+	   write our data into */

CHECK:SPACING: No space is necessary after a cast
#2145: FILE: drivers/dlm/lock.c:2105:
+	ms = (struct dlm_message *) mb;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2161: FILE: drivers/dlm/lock.c:2121:
+/* further lowcomms enhancements or alternate implementations may make
+   the return value from this function useful at some point */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2161: FILE: drivers/dlm/lock.c:2121:
+   the return value from this function useful at some point */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2186: FILE: drivers/dlm/lock.c:2146:
+	/* m_result and m_bastmode are set from function args,
+	   not from lkb fields */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2186: FILE: drivers/dlm/lock.c:2146:
+	   not from lkb fields */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2203: FILE: drivers/dlm/lock.c:2163:
+^I$

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2204: FILE: drivers/dlm/lock.c:2164:
+	
+}

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2254: FILE: drivers/dlm/lock.c:2214:
+/* FIXME: if this lkb is the only lock we hold on the rsb, then set
+   MASTER_UNCERTAIN to force the next request on the rsb to confirm

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2255: FILE: drivers/dlm/lock.c:2215:
+   that the master is still correct. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2418: FILE: drivers/dlm/lock.c:2378:
+/* which args we save from a received message depends heavily on the type
+   of message, unlike the send side where we can safely send everything about

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2419: FILE: drivers/dlm/lock.c:2379:
+   the lkb for any type of message */

ERROR:CODE_INDENT: code indent should use tabs where possible
#2425: FILE: drivers/dlm/lock.c:2385:
+^I^I         (ms->m_flags & 0x0000FFFF);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#2432: FILE: drivers/dlm/lock.c:2392:
+^I^I         (ms->m_flags & 0x0000FFFF);$

CHECK:SPACING: No space is necessary after a cast
#2478: FILE: drivers/dlm/lock.c:2438:
+	lkb->lkb_bastaddr = (void *) (long) (ms->m_asts & AST_BAST);

CHECK:SPACING: No space is necessary after a cast
#2479: FILE: drivers/dlm/lock.c:2439:
+	lkb->lkb_astaddr = (void *) (long) (ms->m_asts & AST_COMP);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2535: FILE: drivers/dlm/lock.c:2495:
+/* We fill in the stub-lkb fields with the info that send_xxxx_reply()
+   uses to send a reply and that the remote end uses to process the reply. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2535: FILE: drivers/dlm/lock.c:2495:
+   uses to send a reply and that the remote end uses to process the reply. */

WARNING:LINE_SPACING: Missing a blank line after declarations
#2540: FILE: drivers/dlm/lock.c:2500:
+	struct dlm_lkb *lkb = &ls->ls_stub_lkb;
+	lkb->lkb_nodeid = ms->m_header.h_nodeid;

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_grant', this function's name, in a string
#2698: FILE: drivers/dlm/lock.c:2658:
+		log_error(ls, "receive_grant no lkb");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_bast', this function's name, in a string
#2725: FILE: drivers/dlm/lock.c:2685:
+		log_error(ls, "receive_bast no lkb");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_request_reply', this function's name, in a string
#2797: FILE: drivers/dlm/lock.c:2757:
+		log_error(ls, "receive_request_reply no lkb");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_request_reply', this function's name, in a string
#2805: FILE: drivers/dlm/lock.c:2765:
+		log_error(ls, "receive_request_reply not on waiters");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2817: FILE: drivers/dlm/lock.c:2777:
+	/* Optimization: the dir node was also the master, so it took our
+	   lookup as a request and sent request reply instead of lookup reply */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2817: FILE: drivers/dlm/lock.c:2777:
+	   lookup as a request and sent request reply instead of lookup reply */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#2827: FILE: drivers/dlm/lock.c:2787:
+		/* request would block (be queued) on remote master;
+		   the unhold undoes the original ref from create_lkb()

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#2828: FILE: drivers/dlm/lock.c:2788:
+		   so it leads to the lkb being freed */

CHECK:BRACES: braces {} should be used on all arms of this statement
#2839: FILE: drivers/dlm/lock.c:2799:
+		if (error)
[...]
+		else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#2841: FILE: drivers/dlm/lock.c:2801:
+		else {

ERROR:CODE_INDENT: code indent should use tabs where possible
#2853: FILE: drivers/dlm/lock.c:2813:
+^I^I           log_print("receive_request_reply error %d", error);$

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_request_reply', this function's name, in a string
#2853: FILE: drivers/dlm/lock.c:2813:
+		           log_print("receive_request_reply error %d", error);

ERROR:CODE_INDENT: code indent should use tabs where possible
#2854: FILE: drivers/dlm/lock.c:2814:
+^I^I           dlm_print_lkb(lkb);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#2855: FILE: drivers/dlm/lock.c:2815:
+^I^I           dlm_print_rsb(r););$

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_request_reply', this function's name, in a string
#2863: FILE: drivers/dlm/lock.c:2823:
+		log_error(ls, "receive_request_reply error %d", error);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_convert_reply', this function's name, in a string
#2923: FILE: drivers/dlm/lock.c:2883:
+		log_error(ls, "receive_convert_reply no lkb");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_convert_reply', this function's name, in a string
#2930: FILE: drivers/dlm/lock.c:2890:
+		log_error(ls, "receive_convert_reply not on waiters");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_unlock_reply', this function's name, in a string
#2970: FILE: drivers/dlm/lock.c:2930:
+		log_error(ls, "receive_unlock_reply no lkb");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_unlock_reply', this function's name, in a string
#2977: FILE: drivers/dlm/lock.c:2937:
+		log_error(ls, "receive_unlock_reply not on waiters");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_cancel_reply', this function's name, in a string
#3017: FILE: drivers/dlm/lock.c:2977:
+		log_error(ls, "receive_cancel_reply no lkb");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_cancel_reply', this function's name, in a string
#3024: FILE: drivers/dlm/lock.c:2984:
+		log_error(ls, "receive_cancel_reply not on waiters");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_lookup_reply', this function's name, in a string
#3041: FILE: drivers/dlm/lock.c:3001:
+		log_error(ls, "receive_lookup_reply no lkb");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'receive_lookup_reply', this function's name, in a string
#3047: FILE: drivers/dlm/lock.c:3007:
+		log_error(ls, "receive_lookup_reply not on waiters");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3052: FILE: drivers/dlm/lock.c:3012:
+	/* this is the value returned by dlm_dir_lookup on dir node
+	   FIXME: will a non-zero error ever be returned? */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3052: FILE: drivers/dlm/lock.c:3012:
+	   FIXME: will a non-zero error ever be returned? */

CHECK:BRACES: braces {} should be used on all arms of this statement
#3060: FILE: drivers/dlm/lock.c:3020:
+	if (ret_nodeid == dlm_our_nodeid())
[...]
+	else {
[...]

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#3061: FILE: drivers/dlm/lock.c:3021:
+		r->res_nodeid = ret_nodeid = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:BRACES: Unbalanced braces around else statement
#3062: FILE: drivers/dlm/lock.c:3022:
+	else {

CHECK:SPACING: No space is necessary after a cast
#3080: FILE: drivers/dlm/lock.c:3040:
+	struct dlm_message *ms = (struct dlm_message *) hd;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3095: FILE: drivers/dlm/lock.c:3055:
+	/* recovery may have just ended leaving a bunch of backed-up requests
+	   in the requestqueue; wait while dlm_recoverd clears them */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3095: FILE: drivers/dlm/lock.c:3055:
+	   in the requestqueue; wait while dlm_recoverd clears them */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3101: FILE: drivers/dlm/lock.c:3061:
+	/* recovery may have just started while there were a bunch of
+	   in-flight requests -- save them in requestqueue to be processed

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3105: FILE: drivers/dlm/lock.c:3065:
+	   recovery operation is starting. */

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#3121: FILE: drivers/dlm/lock.c:3081:
+	switch (ms->m_type) {
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#3195: FILE: drivers/dlm/lock.c:3155:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3216: FILE: drivers/dlm/lock.c:3176:
+^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3218: FILE: drivers/dlm/lock.c:3178:
+	/* lkb->lkb_rqmode < lkb->lkb_grmode shouldn't happen since down
+	   conversions are async; there's no reply from the remote master */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3218: FILE: drivers/dlm/lock.c:3178:
+	   conversions are async; there's no reply from the remote master */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3222: FILE: drivers/dlm/lock.c:3182:
+/* Recovery for locks that are waiting for replies from nodes that are now
+   gone.  We can just complete unlocks and cancels by faking a reply from the

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3225: FILE: drivers/dlm/lock.c:3185:
+   unlocks.  Conversions between PR and CW need special attention. */

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#3241: FILE: drivers/dlm/lock.c:3201:
+		switch (lkb->lkb_wait_type) {
+

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3268: FILE: drivers/dlm/lock.c:3228:
+			/* all outstanding lookups, regardless of dest.
+			   will be resent after recovery is done */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3268: FILE: drivers/dlm/lock.c:3228:
+			   will be resent after recovery is done */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3302: FILE: drivers/dlm/lock.c:3262:
+/* Deal with lookups and lkb's marked RESEND from _pre.  We may now be the
+   master or dir-node for r.  Processing the lkb may result in it being placed

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3303: FILE: drivers/dlm/lock.c:3263:
+   back on waiters. */

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#3328: FILE: drivers/dlm/lock.c:3288:
+		switch (mstype) {
+

CHECK:SPACING: No space is necessary after a cast
#3461: FILE: drivers/dlm/lock.c:3421:
+	struct rcom_lock *rl = (struct rcom_lock *) rc->rc_buf;

CHECK:SPACING: No space is necessary after a cast
#3475: FILE: drivers/dlm/lock.c:3435:
+	lkb->lkb_bastaddr = (void *) (long) (rl->rl_asts & AST_BAST);

CHECK:SPACING: No space is necessary after a cast
#3476: FILE: drivers/dlm/lock.c:3436:
+	lkb->lkb_astaddr = (void *) (long) (rl->rl_asts & AST_COMP);

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#3482: FILE: drivers/dlm/lock.c:3442:
+		memcpy(lkb->lkb_range, rl->rl_range, 4*sizeof(uint64_t));
 		                                      ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3495: FILE: drivers/dlm/lock.c:3455:
+	/* Conversions between PR and CW (middle modes) need special handling.
+	   The real granted mode of these converting locks cannot be determined

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3496: FILE: drivers/dlm/lock.c:3456:
+	   until all locks have been rebuilt on the rsb (recover_conversion) */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3508: FILE: drivers/dlm/lock.c:3468:
+/* This lkb may have been recovered in a previous aborted recovery so we need
+   to check if the rsb already has an lkb with the given remote nodeid/lkid.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3511: FILE: drivers/dlm/lock.c:3471:
+   back the rcom_lock struct we got but with the remid field filled in. */

CHECK:SPACING: No space is necessary after a cast
#3515: FILE: drivers/dlm/lock.c:3475:
+	struct rcom_lock *rl = (struct rcom_lock *) rc->rc_buf;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3553: FILE: drivers/dlm/lock.c:3513:
+	/* this is the new value returned to the lock holder for
+	   saving in its process-copy lkb */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3553: FILE: drivers/dlm/lock.c:3513:
+	   saving in its process-copy lkb */

CHECK:SPACING: No space is necessary after a cast
#3568: FILE: drivers/dlm/lock.c:3528:
+	struct rcom_lock *rl = (struct rcom_lock *) rc->rc_buf;

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#3590: FILE: drivers/dlm/lock.c:3550:
+		/* fall through */

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'dlm_recover_process_copy', this function's name, in a string
#3595: FILE: drivers/dlm/lock.c:3555:
+		log_error(ls, "dlm_recover_process_copy unknown error %d %x",

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#3600: FILE: drivers/dlm/lock.c:3560:
+	/* an ack for dlm_recover_locks() which waits for replies from
+	   all the locks it sends to new masters */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#3600: FILE: drivers/dlm/lock.c:3560:
+	   all the locks it sends to new masters */

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#3613: FILE: drivers/dlm/lock.h:1:
+/******************************************************************************

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#3614: FILE: drivers/dlm/lock.h:2:
+/******************************************************************************
+*******************************************************************************

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3617: FILE: drivers/dlm/lock.h:5:
+**  $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#3633: FILE: drivers/dlm/lock.h:21:
+int dlm_find_rsb(struct dlm_ls *ls, char *name, int namelen,
+	unsigned int flags, struct dlm_rsb **r_ret);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000183370.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 40 errors, 145 warnings, 47 checks, 3620 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000183370.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
