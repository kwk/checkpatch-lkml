ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#37: 
--- a/drivers/hotplug/Makefile	Fri Dec  6 09:51:04 2002

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#59: FILE: drivers/hotplug/acpiphp.h:101:
+			printk(KERN_DEBUG "%s: " format,	\

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#65: FILE: drivers/hotplug/acpiphp.h:104:
+#define err(format, arg...) printk(KERN_ERR "%s: " format, MY_NAME , ## arg)

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#65: FILE: drivers/hotplug/acpiphp.h:104:
+#define err(format, arg...) printk(KERN_ERR "%s: " format, MY_NAME , ## arg)
                                                                    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#66: FILE: drivers/hotplug/acpiphp.h:105:
+#define info(format, arg...) printk(KERN_INFO "%s: " format, MY_NAME , ## arg)

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#66: FILE: drivers/hotplug/acpiphp.h:105:
+#define info(format, arg...) printk(KERN_INFO "%s: " format, MY_NAME , ## arg)
                                                                      ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#67: FILE: drivers/hotplug/acpiphp.h:106:
+#define warn(format, arg...) printk(KERN_WARNING "%s: " format, MY_NAME , ## arg)

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#67: FILE: drivers/hotplug/acpiphp.h:106:
+#define warn(format, arg...) printk(KERN_WARNING "%s: " format, MY_NAME , ## arg)
                                                                         ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#136: FILE: drivers/hotplug/acpiphp_core.c:77:
+static int get_max_bus_speed	(struct hotplug_slot *hotplug_slot, enum pci_bus_speed *value);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#137: FILE: drivers/hotplug/acpiphp_core.c:78:
+static int get_cur_bus_speed	(struct hotplug_slot *hotplug_slot, enum pci_bus_speed *value);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#207: FILE: drivers/hotplug/acpiphp_core.c:139:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#215: FILE: drivers/hotplug/acpiphp_core.c:145:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#228: FILE: drivers/hotplug/acpiphp_core.c:163:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#236: FILE: drivers/hotplug/acpiphp_core.c:169:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#251: FILE: drivers/hotplug/acpiphp_core.c:190:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#260: FILE: drivers/hotplug/acpiphp_core.c:217:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#270: FILE: drivers/hotplug/acpiphp_core.c:223:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#281: FILE: drivers/hotplug/acpiphp_core.c:243:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#291: FILE: drivers/hotplug/acpiphp_core.c:249:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#304: FILE: drivers/hotplug/acpiphp_core.c:268:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#313: FILE: drivers/hotplug/acpiphp_core.c:287:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#323: FILE: drivers/hotplug/acpiphp_core.c:293:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#334: FILE: drivers/hotplug/acpiphp_core.c:312:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#344: FILE: drivers/hotplug/acpiphp_core.c:318:
+	dbg("%s - physical_slot = %s\n", __FUNCTION__, hotplug_slot->name);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#353: FILE: drivers/hotplug/acpiphp_core.c:327:
+static int get_max_bus_speed (struct hotplug_slot *hotplug_slot, enum pci_bus_speed *value)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#355: FILE: drivers/hotplug/acpiphp_core.c:329:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!slot"
#357: FILE: drivers/hotplug/acpiphp_core.c:331:
+	if (slot == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:LINE_SPACING: Please don't use multiple blank lines
#365: FILE: drivers/hotplug/acpiphp_core.c:339:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#367: FILE: drivers/hotplug/acpiphp_core.c:341:
+static int get_cur_bus_speed (struct hotplug_slot *hotplug_slot, enum pci_bus_speed *value)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#369: FILE: drivers/hotplug/acpiphp_core.c:343:
+	struct slot *slot = get_slot(hotplug_slot, __FUNCTION__);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!slot"
#371: FILE: drivers/hotplug/acpiphp_core.c:345:
+	if (slot == NULL)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#379: FILE: drivers/hotplug/acpiphp_core.c:353:
+
+

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*slot)...) over kmalloc(sizeof(struct slot)...)
#414: FILE: drivers/hotplug/acpiphp_core.c:396:
+		slot = kmalloc(sizeof(struct slot), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*slot->hotplug_slot)...) over kmalloc(sizeof(struct hotplug_slot)...)
#420: FILE: drivers/hotplug/acpiphp_core.c:401:
+		slot->hotplug_slot = kmalloc(sizeof(struct hotplug_slot), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*slot->hotplug_slot->info)...) over kmalloc(sizeof(struct hotplug_slot_info)...)
#430: FILE: drivers/hotplug/acpiphp_core.c:408:
+		slot->hotplug_slot->info = kmalloc(sizeof(struct hotplug_slot_info), GFP_KERNEL);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#506: FILE: drivers/hotplug/acpiphp_core.c:462:
+	list_for_each_safe (tmp, n, &slot_list) {

WARNING:LONG_LINE: line length of 144 exceeds 100 columns
#598: FILE: drivers/hotplug/acpiphp_glue.c:306:
+					dbg("resource type: prefetchable memory 0x%x - 0x%x\n", (u32)min_address_range, (u32)max_address_range);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LONG_LINE: line length of 131 exceeds 100 columns
#610: FILE: drivers/hotplug/acpiphp_glue.c:316:
+					dbg("resource type: memory 0x%x - 0x%x\n", (u32)min_address_range, (u32)max_address_range);

WARNING:LONG_LINE: line length of 119 exceeds 100 columns
#624: FILE: drivers/hotplug/acpiphp_glue.c:328:
+				dbg("resource type: io 0x%x - 0x%x\n", (u32)min_address_range, (u32)max_address_range);

WARNING:LONG_LINE: line length of 123 exceeds 100 columns
#637: FILE: drivers/hotplug/acpiphp_glue.c:339:
+				dbg("resource type: bus number %d - %d\n", (u32)min_address_range, (u32)max_address_range);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#664: FILE: drivers/hotplug/acpiphp_glue.c:371:
+	list_for_each (l, list) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#891: FILE: drivers/hotplug/acpiphp_glue.c:727:
+		dbg("%s: _ADR evaluation failure\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#916: FILE: drivers/hotplug/acpiphp_glue.c:765:
+			dbg("%s: _STA evaluation failure\n", __FUNCTION__);

WARNING:TYPO_SPELLING: 'faied' may be misspelled - perhaps 'failed'?
#941: FILE: drivers/hotplug/acpiphp_glue.c:802:
+		warn("find_p2p_bridge faied (error code = 0x%x)\n",status);
 		                      ^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:SPACING: space required after that ',' (ctx:VxV)
#941: FILE: drivers/hotplug/acpiphp_glue.c:802:
+		warn("find_p2p_bridge faied (error code = 0x%x)\n",status);
 		                                                  ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#956: FILE: drivers/hotplug/acpiphp_glue.c:820:
+		dbg("%s: failed to get bridge information\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#980: FILE: drivers/hotplug/acpiphp_glue.c:849:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#986: FILE: drivers/hotplug/acpiphp_glue.c:853:
+			dbg("%s: executing _PS0 on %s\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#991: FILE: drivers/hotplug/acpiphp_glue.c:857:
+				warn("%s: _PS0 failed\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1000: FILE: drivers/hotplug/acpiphp_glue.c:887:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1006: FILE: drivers/hotplug/acpiphp_glue.c:891:
+			dbg("%s: executing _PS3 on %s\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1011: FILE: drivers/hotplug/acpiphp_glue.c:895:
+				warn("%s: _PS3 failed\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1019: FILE: drivers/hotplug/acpiphp_glue.c:902:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1025: FILE: drivers/hotplug/acpiphp_glue.c:906:
+			dbg("%s: executing _EJ0 on %s\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1035: FILE: drivers/hotplug/acpiphp_glue.c:917:
+				warn("%s: _EJ0 failed\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1070: FILE: drivers/hotplug/acpiphp_glue.c:989:
+	list_for_each (l, &slot->funcs) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1097: FILE: drivers/hotplug/acpiphp_glue.c:1027:
+	list_for_each (l, &slot->funcs) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1119: FILE: drivers/hotplug/acpiphp_glue.c:1067:
+	list_for_each (l, &slot->funcs) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1147: FILE: drivers/hotplug/acpiphp_glue.c:1119:
+		dbg("%s: Bus check notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1154: FILE: drivers/hotplug/acpiphp_glue.c:1125:
+		dbg("%s: Device check notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1161: FILE: drivers/hotplug/acpiphp_glue.c:1131:
+		dbg("%s: Device wake notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1167: FILE: drivers/hotplug/acpiphp_glue.c:1136:
+		dbg("%s: Device eject notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1200: FILE: drivers/hotplug/acpiphp_glue.c:1170:
+		dbg("%s: Bus check notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1207: FILE: drivers/hotplug/acpiphp_glue.c:1176:
+		dbg("%s: Device check notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1214: FILE: drivers/hotplug/acpiphp_glue.c:1182:
+		dbg("%s: Device wake notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1220: FILE: drivers/hotplug/acpiphp_glue.c:1187:
+		dbg("%s: Device eject notify on %s\n", __FUNCTION__, objname);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1235: FILE: drivers/hotplug/acpiphp_glue.c:1219:
+		err("%s: acpi_walk_namespace() failed\n", __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1252: FILE: drivers/hotplug/acpiphp_glue.c:1240:
+	list_for_each_safe (l1, n1, &bridge_list) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1259: FILE: drivers/hotplug/acpiphp_glue.c:1245:
+			list_for_each_safe (l2, n2, &slot->funcs) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1287: FILE: drivers/hotplug/acpiphp_glue.c:1287:
+	list_for_each (node, &bridge_list) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1304: FILE: drivers/hotplug/acpiphp_glue.c:1311:
+	list_for_each (node, &bridge_list) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1313: FILE: drivers/hotplug/acpiphp_glue.c:1332:
+	list_for_each (node, &bridge_list) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1322: FILE: drivers/hotplug/acpiphp_glue.c:1340:
+	err("%s: no object for id %d\n",__FUNCTION__, id);
 	                               ^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1322: FILE: drivers/hotplug/acpiphp_glue.c:1340:
+	err("%s: no object for id %d\n",__FUNCTION__, id);

WARNING:TYPO_SPELLING: 'occured' may be misspelled - perhaps 'occurred'?
#1364: FILE: drivers/hotplug/acpiphp_glue.c:1420:
+					err("Error occured in enabling\n");
 					           ^^^^^^^

WARNING:TYPO_SPELLING: 'occured' may be misspelled - perhaps 'occurred'?
#1373: FILE: drivers/hotplug/acpiphp_glue.c:1431:
+					err("Error occured in enabling\n");
 					           ^^^^^^^

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1382: FILE: drivers/hotplug/acpiphp_glue.c:1440:
+	dbg("%s: %d enabled, %d disabled\n", __FUNCTION__, enabled, disabled);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1401: FILE: drivers/hotplug/acpiphp_pci.c:46:
+static int init_config_space (struct acpiphp_func *func)

WARNING:LONG_LINE: line length of 101 exceeds 100 columns
#1412: FILE: drivers/hotplug/acpiphp_pci.c:71:
+		pci_write_config_dword_nodev(ops, bus, device, function, address[count], 0xFFFFFFFF);

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#1479: FILE: drivers/hotplug/acpiphp_pci.c:210:
+static int is_pci_dev_in_use (struct pci_dev* dev)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1479: FILE: drivers/hotplug/acpiphp_pci.c:210:
+static int is_pci_dev_in_use (struct pci_dev* dev)

WARNING:LONG_LINE: line length of 107 exceeds 100 columns
#1548: FILE: drivers/hotplug/acpiphp_pci.c:367:
+				dbg("BAR[%d] %08x - %08x (PMEM)\n", count, (u32)base, (u32)base + len - 1);

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#1561: FILE: drivers/hotplug/acpiphp_pci.c:384:
+				dbg("BAR[%d] %08x - %08x (MEM)\n", count, (u32)base, (u32)base + len - 1);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1570: FILE: drivers/hotplug/acpiphp_pci.c:406:
+	list_for_each (l, &bus->devices) {

WARNING:LONG_LINE: line length of 107 exceeds 100 columns
#1627: FILE: drivers/hotplug/acpiphp_pci.c:494:
+				dbg("BAR[%d] %08x - %08x (PMEM)\n", count, (u32)base, (u32)base + len - 1);

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#1640: FILE: drivers/hotplug/acpiphp_pci.c:513:
+				dbg("BAR[%d] %08x - %08x (MEM)\n", count, (u32)base, (u32)base + len - 1);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1667: FILE: drivers/hotplug/acpiphp_pci.c:566:
+	list_for_each (l, &slot->funcs) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#1779: FILE: drivers/hotplug/acpiphp_pci.c:700:
+	extern void iosapic_fixup_pci_interrupt (struct pci_dev *dev);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1818: FILE: drivers/hotplug/acpiphp_res.c:379:
+			dbg("%s: not aligned\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1827: FILE: drivers/hotplug/acpiphp_res.c:403:
+			dbg("%s: too big\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1836: FILE: drivers/hotplug/acpiphp_res.c:418:
+		dbg("%s: got one!!!\n", __FUNCTION__);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1896: FILE: drivers/hotplug/acpiphp_res.c:550:
+	dbg("*head->next = %p\n",(*head)->next);
 	                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1903: FILE: drivers/hotplug/acpiphp_res.c:555:
+	dbg("*head->base = 0x%x\n",(u32)(*head)->base);
 	                          ^

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000408768.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 9 errors, 77 warnings, 7 checks, 1776 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000408768.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
