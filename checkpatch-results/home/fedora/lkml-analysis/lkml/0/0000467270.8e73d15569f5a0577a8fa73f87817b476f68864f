ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#67: 
--- a/drivers/usb/serial/Config.help	Wed Mar 27 15:24:32 2002

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '!port->tty'
#124: FILE: drivers/usb/serial/belkin_sa.c:333:
+	if ((!port->tty) || (!port->tty->termios)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around '!port->tty->termios'
#124: FILE: drivers/usb/serial/belkin_sa.c:333:
+	if ((!port->tty) || (!port->tty->termios)) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#125: FILE: drivers/usb/serial/belkin_sa.c:334:
+		dbg ("%s - no tty or termios structure", __FUNCTION__);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#125: FILE: drivers/usb/serial/belkin_sa.c:334:
+		dbg ("%s - no tty or termios structure", __FUNCTION__);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'cflag == old_termios->c_cflag'
#134: FILE: drivers/usb/serial/belkin_sa.c:343:
+		if ((cflag == old_termios->c_cflag) &&
+		    (RELEVANT_IFLAG(port->tty->termios->c_iflag) == RELEVANT_IFLAG(old_termios->c_iflag))) {

WARNING:LONG_LINE: line length of 108 exceeds 100 columns
#135: FILE: drivers/usb/serial/belkin_sa.c:344:
+		    (RELEVANT_IFLAG(port->tty->termios->c_iflag) == RELEVANT_IFLAG(old_termios->c_iflag))) {

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#136: FILE: drivers/usb/serial/belkin_sa.c:345:
+			dbg("%s - nothing to change...", __FUNCTION__);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around port->tty->termios
#188: FILE: drivers/usb/serial/pl2303.c:393:
+		*(port->tty->termios) = tty_std_termios;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#192: FILE: drivers/usb/serial/pl2303.c:396:
+		pl2303_set_termios (port, &tmp_termios);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#214: FILE: drivers/usb/serial/pl2303.c:444:
+				set_control_lines (port->serial->dev,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#336: FILE: drivers/usb/serial/usbserial.c:1341:
+^I^I/* $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#349: FILE: drivers/usb/serial/usbserial.c:1354:
+		dbg ("registering the USB serial console.");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#381: FILE: drivers/usb/serial/usbserial.c:1593:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#399: FILE: drivers/usb/serial/usbserial.c:1611:
+#if 0

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#426: FILE: drivers/usb/serial/usbserial.c:1638:
+	dbg ("%s", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#426: FILE: drivers/usb/serial/usbserial.c:1638:
+	dbg ("%s", __FUNCTION__);

WARNING:CONSIDER_KSTRTO: simple_strtoul is obsolete, use kstrtoul instead
#429: FILE: drivers/usb/serial/usbserial.c:1641:
+		baud = simple_strtoul(options, NULL, 10);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#433: FILE: drivers/usb/serial/usbserial.c:1645:
+		if (*s)	parity = *s++;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#434: FILE: drivers/usb/serial/usbserial.c:1646:
+		if (*s)	bits   = *s++ - '0';

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#435: FILE: drivers/usb/serial/usbserial.c:1647:
+		if (*s)	doflow = (*s++ == 'r');

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#439: FILE: drivers/usb/serial/usbserial.c:1651:
+	switch (baud) {
+		case 1200:
[...]
+		case 2400:
[...]
+		case 4800:
[...]
+		case 19200:
[...]
+		case 38400:
[...]
+		case 57600:
[...]
+		case 115200:
[...]
+		case 9600:
+		default:

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#470: FILE: drivers/usb/serial/usbserial.c:1682:
+	switch (bits) {
+		case 7:
[...]
+		default:
+		case 8:

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#479: FILE: drivers/usb/serial/usbserial.c:1691:
+	switch (parity) {
+		case 'o': case 'O':
[...]
+		case 'e': case 'E':

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#490: FILE: drivers/usb/serial/usbserial.c:1702:
+	serial = get_serial_by_minor (0);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#491: FILE: drivers/usb/serial/usbserial.c:1703:
+	if (serial_paranoia_check (serial, __FUNCTION__)) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#491: FILE: drivers/usb/serial/usbserial.c:1703:
+	if (serial_paranoia_check (serial, __FUNCTION__)) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#493: FILE: drivers/usb/serial/usbserial.c:1705:
+		err ("No USB device connected to ttyUSB0");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#498: FILE: drivers/usb/serial/usbserial.c:1710:
+	down (&port->sem);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#502: FILE: drivers/usb/serial/usbserial.c:1714:
+^I $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#505: FILE: drivers/usb/serial/usbserial.c:1717:
+^I^I/* only call the device specific open if this $

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#506: FILE: drivers/usb/serial/usbserial.c:1718:
+		 * is the first time the port is opened */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#515: FILE: drivers/usb/serial/usbserial.c:1727:
+	up (&port->sem);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#518: FILE: drivers/usb/serial/usbserial.c:1730:
+		err ("could not open USB console port");

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#524: FILE: drivers/usb/serial/usbserial.c:1736:
+		 * to look at to get the cflag value */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#525: FILE: drivers/usb/serial/usbserial.c:1737:
+		tty = kmalloc (sizeof (*tty), GFP_KERNEL);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#525: FILE: drivers/usb/serial/usbserial.c:1737:
+		tty = kmalloc (sizeof (*tty), GFP_KERNEL);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#527: FILE: drivers/usb/serial/usbserial.c:1739:
+			err ("no more memory");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#530: FILE: drivers/usb/serial/usbserial.c:1742:
+		termios = kmalloc (sizeof (*termios), GFP_KERNEL);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#530: FILE: drivers/usb/serial/usbserial.c:1742:
+		termios = kmalloc (sizeof (*termios), GFP_KERNEL);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#532: FILE: drivers/usb/serial/usbserial.c:1744:
+			err ("no more memory");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#533: FILE: drivers/usb/serial/usbserial.c:1745:
+			kfree (tty);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#536: FILE: drivers/usb/serial/usbserial.c:1748:
+		memset (tty, 0x00, sizeof(*tty));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#537: FILE: drivers/usb/serial/usbserial.c:1749:
+		memset (termios, 0x00, sizeof(*termios));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#545: FILE: drivers/usb/serial/usbserial.c:1757:
+		kfree (termios);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#546: FILE: drivers/usb/serial/usbserial.c:1758:
+		kfree (tty);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#552: FILE: drivers/usb/serial/usbserial.c:1764:
+static void usb_console_write(struct console *co, const char *buf, unsigned count)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#556: FILE: drivers/usb/serial/usbserial.c:1768:
+	struct usb_serial *serial = get_usb_serial (port, __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#556: FILE: drivers/usb/serial/usbserial.c:1768:
+	struct usb_serial *serial = get_usb_serial (port, __FUNCTION__);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#565: FILE: drivers/usb/serial/usbserial.c:1777:
+	down (&port->sem);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#567: FILE: drivers/usb/serial/usbserial.c:1779:
+	dbg("%s - port %d, %d byte(s)", __FUNCTION__, port->number, count);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#570: FILE: drivers/usb/serial/usbserial.c:1782:
+		dbg (__FUNCTION__ " - port not opened");

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#570: FILE: drivers/usb/serial/usbserial.c:1782:
+		dbg (__FUNCTION__ " - port not opened");

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#581: FILE: drivers/usb/serial/usbserial.c:1793:
+	up (&port->sem);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#582: FILE: drivers/usb/serial/usbserial.c:1794:
+	dbg("%s - return value (if we had one): %d", __FUNCTION__, retval);

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#585: FILE: drivers/usb/serial/usbserial.c:1797:
+#if 0

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#594: FILE: drivers/usb/serial/usbserial.c:1806:
+	dbg("%s", __FUNCTION__);

WARNING:INDENTED_LABEL: labels should not be indented
#603: FILE: drivers/usb/serial/usbserial.c:1815:
+	name:		"ttyUSB",			/* only [8] */

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#604: FILE: drivers/usb/serial/usbserial.c:1816:
+	write:		usb_console_write,
 	     ^

WARNING:INDENTED_LABEL: labels should not be indented
#604: FILE: drivers/usb/serial/usbserial.c:1816:
+	write:		usb_console_write,

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#605: FILE: drivers/usb/serial/usbserial.c:1817:
+#if 0

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#606: FILE: drivers/usb/serial/usbserial.c:1818:
+	device:		usb_console_device,		/* TBD */
 	      ^

WARNING:INDENTED_LABEL: labels should not be indented
#606: FILE: drivers/usb/serial/usbserial.c:1818:
+	device:		usb_console_device,		/* TBD */

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#607: FILE: drivers/usb/serial/usbserial.c:1819:
+	wait_key:	usb_console_wait_key,		/* TBD */
 	        ^

WARNING:INDENTED_LABEL: labels should not be indented
#607: FILE: drivers/usb/serial/usbserial.c:1819:
+	wait_key:	usb_console_wait_key,		/* TBD */

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#609: FILE: drivers/usb/serial/usbserial.c:1821:
+	setup:		usb_console_setup,
 	     ^

WARNING:INDENTED_LABEL: labels should not be indented
#609: FILE: drivers/usb/serial/usbserial.c:1821:
+	setup:		usb_console_setup,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#610: FILE: drivers/usb/serial/usbserial.c:1822:
+	flags:		CON_PRINTBUFFER,
 	     ^

WARNING:INDENTED_LABEL: labels should not be indented
#610: FILE: drivers/usb/serial/usbserial.c:1822:
+	flags:		CON_PRINTBUFFER,

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#611: FILE: drivers/usb/serial/usbserial.c:1823:
+	index:		-1,
 	     ^

WARNING:INDENTED_LABEL: labels should not be indented
#611: FILE: drivers/usb/serial/usbserial.c:1823:
+	index:		-1,

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000467270.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 16 errors, 50 warnings, 5 checks, 549 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000467270.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
