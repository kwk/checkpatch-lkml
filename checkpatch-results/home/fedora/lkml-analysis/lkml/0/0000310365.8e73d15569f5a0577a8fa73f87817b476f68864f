ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#40: 
--- a/drivers/i2c/chips/w83781d.c	Mon Jan 19 15:31:21 2004

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#65: FILE: drivers/i2c/chips/w83781d.c:174:
+#define TEMP_TO_REG(val)		(SENSORS_LIMIT(((val) < 0 ? (val)+0x100*1000 \
                         		                                 ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#65: FILE: drivers/i2c/chips/w83781d.c:174:
+#define TEMP_TO_REG(val)		(SENSORS_LIMIT(((val) < 0 ? (val)+0x100*1000 \
                         		                                       ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'val' - possible side-effects?
#65: FILE: drivers/i2c/chips/w83781d.c:174:
+#define TEMP_TO_REG(val)		(SENSORS_LIMIT(((val) < 0 ? (val)+0x100*1000 \
+						: (val)) / 1000, 0, 0xff))

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#67: FILE: drivers/i2c/chips/w83781d.c:176:
+#define TEMP_FROM_REG(val)		(((val) & 0x80 ? (val)-0x100 : (val)) * 1000)
                           		                      ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'val' - possible side-effects?
#67: FILE: drivers/i2c/chips/w83781d.c:176:
+#define TEMP_FROM_REG(val)		(((val) & 0x80 ? (val)-0x100 : (val)) * 1000)

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#69: FILE: drivers/i2c/chips/w83781d.c:178:
+#define AS99127_TEMP_ADD_TO_REG(val)	(SENSORS_LIMIT((((val) < 0 ? (val)+0x10000*250 \
                                     	                                  ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#69: FILE: drivers/i2c/chips/w83781d.c:178:
+#define AS99127_TEMP_ADD_TO_REG(val)	(SENSORS_LIMIT((((val) < 0 ? (val)+0x10000*250 \
                                     	                                          ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'val' - possible side-effects?
#69: FILE: drivers/i2c/chips/w83781d.c:178:
+#define AS99127_TEMP_ADD_TO_REG(val)	(SENSORS_LIMIT((((val) < 0 ? (val)+0x10000*250 \
+						: (val)) / 250) << 7, 0, 0xffff))

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#71: FILE: drivers/i2c/chips/w83781d.c:180:
+#define AS99127_TEMP_ADD_FROM_REG(val)	((((val) & 0x8000 ? (val)-0x10000 : (val)) \
                                       	                         ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'val' - possible side-effects?
#71: FILE: drivers/i2c/chips/w83781d.c:180:
+#define AS99127_TEMP_ADD_FROM_REG(val)	((((val) & 0x8000 ? (val)-0x10000 : (val)) \
+						>> 7) * 250)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#82: FILE: drivers/i2c/chips/w83781d.c:438:
+			return sprintf(buf,"%d\n", \
 			                  ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#83: FILE: drivers/i2c/chips/w83781d.c:439:
+				LM75_TEMP_FROM_REG(data->reg##_add[nr-2])); \
 				                                     ^

WARNING:CONSIDER_KSTRTO: simple_strtol is obsolete, use kstrtol instead
#95: FILE: drivers/i2c/chips/w83781d.c:456:
+	val = simple_strtol(buf, NULL, 10); \

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#102: FILE: drivers/i2c/chips/w83781d.c:462:
+			data->temp_##reg##_add[nr-2] = LM75_TEMP_TO_REG(val); \
 			                         ^

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000310365.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 2 errors, 1 warnings, 12 checks, 60 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000310365.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
