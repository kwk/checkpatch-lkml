WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#25: 
The patch below builds upon the patch sent earlier and adds subject label to

WARNING:LINE_SPACING: Missing a blank line after declarations
#75: FILE: kernel/audit.c:241:
+		int rc;
+		if ((rc = selinux_ctxid_to_string(sid, &ctx, &len)))

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#75: FILE: kernel/audit.c:241:
+		if ((rc = selinux_ctxid_to_string(sid, &ctx, &len)))

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#77: FILE: kernel/audit.c:243:
+			return rc;
+		else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#79: FILE: kernel/audit.c:245:
+			audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+				"audit_rate_limit=%d old=%d by auid=%u subj=%s",

CHECK:BRACES: Unbalanced braces around else statement
#82: FILE: kernel/audit.c:248:
+	} else

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#84: FILE: kernel/audit.c:250:
+		audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
 			"audit_rate_limit=%d old=%d by auid=%u",

WARNING:LINE_SPACING: Missing a blank line after declarations
#103: FILE: kernel/audit.c:264:
+		int rc;
+		if ((rc = selinux_ctxid_to_string(sid, &ctx, &len)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#103: FILE: kernel/audit.c:264:
+		if ((rc = selinux_ctxid_to_string(sid, &ctx, &len)))

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#105: FILE: kernel/audit.c:266:
+			return rc;
+		else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#107: FILE: kernel/audit.c:268:
+			audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+			    "audit_backlog_limit=%d old=%d by auid=%u subj=%s",

CHECK:BRACES: Unbalanced braces around else statement
#110: FILE: kernel/audit.c:271:
+	} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#112: FILE: kernel/audit.c:273:
+		audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
 			"audit_backlog_limit=%d old=%d by auid=%u",

WARNING:LINE_SPACING: Missing a blank line after declarations
#134: FILE: kernel/audit.c:290:
+		int rc;
+		if ((rc = selinux_ctxid_to_string(sid, &ctx, &len)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#134: FILE: kernel/audit.c:290:
+		if ((rc = selinux_ctxid_to_string(sid, &ctx, &len)))

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#136: FILE: kernel/audit.c:292:
+			return rc;
+		else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#138: FILE: kernel/audit.c:294:
+			audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+				"audit_enabled=%d old=%d by auid=%u subj=%s",

CHECK:BRACES: Unbalanced braces around else statement
#141: FILE: kernel/audit.c:297:
+	} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#143: FILE: kernel/audit.c:299:
+		audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
 			"audit_enabled=%d old=%d by auid=%u",

WARNING:LINE_SPACING: Missing a blank line after declarations
#167: FILE: kernel/audit.c:318:
+		int rc;
+		if ((rc = selinux_ctxid_to_string(sid, &ctx, &len)))

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#167: FILE: kernel/audit.c:318:
+		if ((rc = selinux_ctxid_to_string(sid, &ctx, &len)))

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#169: FILE: kernel/audit.c:320:
+			return rc;
+		else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#171: FILE: kernel/audit.c:322:
+			audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+				"audit_failure=%d old=%d by auid=%u subj=%s",

CHECK:BRACES: Unbalanced braces around else statement
#174: FILE: kernel/audit.c:325:
+	} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#176: FILE: kernel/audit.c:327:
+		audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
 			"audit_failure=%d old=%d by auid=%u",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#189: FILE: kernel/audit.c:495:
+			err = audit_set_enabled(status_get->enabled,
+							loginuid, sid);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#195: FILE: kernel/audit.c:500:
+			err = audit_set_failure(status_get->failure,
+							 loginuid, sid);

WARNING:LINE_SPACING: Missing a blank line after declarations
#204: FILE: kernel/audit.c:509:
+				int rc;
+				if ((rc = selinux_ctxid_to_string(

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#204: FILE: kernel/audit.c:509:
+				if ((rc = selinux_ctxid_to_string(

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#204: FILE: kernel/audit.c:509:
+				if ((rc = selinux_ctxid_to_string(

WARNING:UNNECESSARY_ELSE: else is not generally useful after a break or return
#207: FILE: kernel/audit.c:512:
+					return rc;
+				else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#209: FILE: kernel/audit.c:514:
+					audit_log(NULL, GFP_KERNEL,
+						AUDIT_CONFIG_CHANGE,

CHECK:BRACES: Unbalanced braces around else statement
#214: FILE: kernel/audit.c:519:
+			} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#216: FILE: kernel/audit.c:521:
+				audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+					"audit_pid=%d old=%d by auid=%u",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#226: FILE: kernel/audit.c:527:
+			audit_set_rate_limit(status_get->rate_limit,
+							 loginuid, sid);

WARNING:LINE_SPACING: Missing a blank line after declarations
#287: FILE: kernel/auditfilter.c:638:
+			u32 len;
+			if (selinux_ctxid_to_string(sid, &ctx, &len)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#290: FILE: kernel/auditfilter.c:641:
+				audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+				 "auid=%u ssid=%u add rule to list=%d res=%d",

CHECK:BRACES: Unbalanced braces around else statement
#292: FILE: kernel/auditfilter.c:643:
+			} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#294: FILE: kernel/auditfilter.c:645:
+				audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+				 "auid=%u subj=%s add rule to list=%d res=%d",

CHECK:BRACES: Unbalanced braces around else statement
#297: FILE: kernel/auditfilter.c:648:
+		} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#299: FILE: kernel/auditfilter.c:650:
+			audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+				"auid=%u add rule to list=%d res=%d",

WARNING:LINE_SPACING: Missing a blank line after declarations
#315: FILE: kernel/auditfilter.c:671:
+			u32 len;
+			if (selinux_ctxid_to_string(sid, &ctx, &len)) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#318: FILE: kernel/auditfilter.c:674:
+				audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+					"auid=%u ssid=%u remove rule from list=%d res=%d",

CHECK:BRACES: Unbalanced braces around else statement
#320: FILE: kernel/auditfilter.c:676:
+			} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#322: FILE: kernel/auditfilter.c:678:
+				audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+					"auid=%u subj=%s remove rule from list=%d res=%d",

CHECK:BRACES: Unbalanced braces around else statement
#325: FILE: kernel/auditfilter.c:681:
+		} else

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#327: FILE: kernel/auditfilter.c:683:
+			audit_log(NULL, GFP_KERNEL, AUDIT_CONFIG_CHANGE,
+				"auid=%u remove rule from list=%d res=%d",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#342: FILE: kernel/auditsc.c:641:
+					audit_log_format(ab, " osid=%u",
 							axi->osid);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#351: FILE: kernel/auditsc.c:716:
+				audit_log_format(ab, " osid=%u",
 						context->names[i].osid);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000081095.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 5 errors, 13 warnings, 31 checks, 285 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000081095.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
