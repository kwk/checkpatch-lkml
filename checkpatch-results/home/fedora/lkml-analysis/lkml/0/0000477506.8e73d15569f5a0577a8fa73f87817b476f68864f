WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#36: 
> Doubt it - the 2.4.18pre tree uses a much more uptodate APM code set
                                                 ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:STATIC_CONST_CHAR_ARRAY: static char array declaration should probably be static const char
#154: FILE: arch/i386/kernel/apm.c:420:
+static char			driver_version[] = "1.16";	/* no spaces */

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#191: FILE: arch/i386/kernel/apm.c:776:
+extern void default_idle(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#208: FILE: arch/i386/kernel/apm.c:788:
+	static int use_apm_idle = 0;

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#209: FILE: arch/i386/kernel/apm.c:789:
+	static unsigned int last_jiffies = 0;

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#210: FILE: arch/i386/kernel/apm.c:790:
+	static unsigned int last_stime = 0;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#216: FILE: arch/i386/kernel/apm.c:796:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#248: FILE: arch/i386/kernel/apm.c:821:
+			case 0: apm_is_idle = 1;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:JIFFIES_COMPARISON: Comparing jiffies is almost always wrong; prefer time_after, time_before and friends
#249: FILE: arch/i386/kernel/apm.c:822:
+				if (t != jiffies) {

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#265: FILE: arch/i386/kernel/apm.c:832:
+			case 1: apm_is_idle = 1;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#325: FILE: arch/i386/kernel/apm.c:1204:
+			printk(KERN_WARNING "apm: suspend was vetoed.\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'suspend', this function's name, in a string
#325: FILE: arch/i386/kernel/apm.c:1204:
+			printk(KERN_WARNING "apm: suspend was vetoed.\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_crit([subsystem]dev, ... then dev_crit(dev, ... then pr_crit(...  to printk(KERN_CRIT ...
#334: FILE: arch/i386/kernel/apm.c:1207:
+		printk(KERN_CRIT "apm: suspend was vetoed, but suspending anyway.\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'suspend', this function's name, in a string
#334: FILE: arch/i386/kernel/apm.c:1207:
+		printk(KERN_CRIT "apm: suspend was vetoed, but suspending anyway.\n");

CHECK:SPACING: No space is necessary after a cast
#415: FILE: arch/i386/kernel/apm.c:1316:
+				(void) suspend(1);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#450: FILE: arch/i386/kernel/apm.c:1349:
+			(void) suspend(0);

CHECK:BRACES: Unbalanced braces around else statement
#526: FILE: arch/i386/kernel/apm.c:1480:
+		} else

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#537: FILE: arch/i386/kernel/apm.c:1490:
+		} else

CHECK:SPACING: No space is necessary after a cast
#551: FILE: arch/i386/kernel/apm.c:1523:
+			(void) suspend(1);

WARNING:CONSIDER_KSTRTO: simple_strtol is obsolete, use kstrtol instead
#573: FILE: arch/i386/kernel/apm.c:1796:
+			idle_threshold = simple_strtol(str + 15, NULL, 0);

The simple_strtol(), simple_strtoll(), simple_strtoul(), and
simple_strtoull() functions explicitly ignore overflows, which
may lead to unexpected results in callers.  The respective kstrtol(),
kstrtoll(), kstrtoul(), and kstrtoull() functions tend to be the
correct replacements.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#simple-strtol-simple-strtoll-simple-strtoul-simple-strtoull

WARNING:CONSIDER_KSTRTO: simple_strtol is obsolete, use kstrtol instead
#576: FILE: arch/i386/kernel/apm.c:1799:
+			idle_threshold = simple_strtol(str + 15, NULL, 0);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#612: FILE: arch/i386/kernel/apm.c:2028:
+MODULE_PARM_DESC(idle_threshold,
+	"System idle percentage above which to make APM BIOS idle calls");

WARNING:TYPO_SPELLING: 'caculate' may be misspelled - perhaps 'calculate'?
#615: FILE: arch/i386/kernel/apm.c:2031:
+	"Period (in sec/100) over which to caculate the idle percentage");
 	                                   ^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#615: FILE: arch/i386/kernel/apm.c:2031:
+MODULE_PARM_DESC(idle_period,
+	"Period (in sec/100) over which to caculate the idle percentage");

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#629: FILE: arch/i386/kernel/i386_ksyms.c:38:
+extern void default_idle(void);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000477506.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 5 errors, 12 warnings, 8 checks, 553 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000477506.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
