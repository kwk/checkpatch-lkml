WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#49: FILE: drivers/s390/block/dasd_diag.c:9:
+ * $Revision: 1.49 $

Since linux moved to git, the CVS markers are no longer used.
So, CVS style keywords ($Id$, $Revision$, $Log$) should not be
added.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#80: FILE: drivers/s390/block/dasd_diag.c:40:
+ * finishes. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:CODE_INDENT: code indent should use tabs where possible
#83: FILE: drivers/s390/block/dasd_diag.c:43:
+^I^I           sizeof(struct dasd_diag_bio)) / 2)$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#85: FILE: drivers/s390/block/dasd_diag.c:45:
+#define DIAG_TIMEOUT		50 * HZ

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#108: FILE: drivers/s390/block/dasd_diag.c:66:
+ * resulting condition code and DIAG return code. */

WARNING:NEW_TYPEDEFS: do not add new typedefs
#112: FILE: drivers/s390/block/dasd_diag.c:70:
+	typedef struct {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#113: FILE: drivers/s390/block/dasd_diag.c:71:
+		char _[max(sizeof (struct dasd_diag_init_io),

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#114: FILE: drivers/s390/block/dasd_diag.c:72:
+			   sizeof (struct dasd_diag_rw_io))];

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#130: FILE: drivers/s390/block/dasd_diag.c:76:
+	__asm__ __volatile__(

CHECK:SPACING: No space is necessary after a cast
#163: FILE: drivers/s390/block/dasd_diag.c:102:
+		: "=&d" (rc), "=m" (*(addr_type *) iob)

CHECK:SPACING: No space is necessary after a cast
#164: FILE: drivers/s390/block/dasd_diag.c:103:
+		: "d" (cmd), "d" (iob), "m" (*(addr_type *) iob)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#172: FILE: drivers/s390/block/dasd_diag.c:111:
+ * otherwise. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#198: FILE: drivers/s390/block/dasd_diag.c:138:
+ * otherwise. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#211: FILE: drivers/s390/block/dasd_diag.c:155:
+ * environment. */

WARNING:SPLIT_STRING: quoted string split across lines
#221: FILE: drivers/s390/block/dasd_diag.c:165:
+		DEV_MESSAGE(KERN_WARNING, device, "DIAG ERP unsuccessful, "
+			    "rc=%d", rc);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#225: FILE: drivers/s390/block/dasd_diag.c:169:
+ * otherwise. */

WARNING:SPLIT_STRING: quoted string split across lines
#235: FILE: drivers/s390/block/dasd_diag.c:181:
+		DEV_MESSAGE(KERN_WARNING, device, "DIAG start_IO: request %p "
+			    "- no retry left)", cqr);

CHECK:SPACING: No space is necessary after a cast
#248: FILE: drivers/s390/block/dasd_diag.c:192:
+	private->iob.interrupt_params = (addr_t) cqr;

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#268: FILE: drivers/s390/block/dasd_diag.c:206:
+		/* Indicate to calling function that only a dasd_schedule_bh()
+		   and no timer is needed */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#268: FILE: drivers/s390/block/dasd_diag.c:206:
+		   and no timer is needed */

ERROR:CODE_INDENT: code indent should use tabs where possible
#269: FILE: drivers/s390/block/dasd_diag.c:207:
+                rc = -EACCES;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#269: FILE: drivers/s390/block/dasd_diag.c:207:
+                rc = -EACCES;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#287: FILE: drivers/s390/block/dasd_diag.c:225:
+dasd_diag_term_IO(struct dasd_ccw_req * cqr)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#321: FILE: drivers/s390/block/dasd_diag.c:250:
+	int_code = *((u8 *) DASD_DIAG_LC_INT_CODE);

CHECK:SPACING: No space is necessary after a cast
#322: FILE: drivers/s390/block/dasd_diag.c:251:
+	status = *((u8 *) DASD_DIAG_LC_INT_STATUS);

CHECK:SPACING: No space is necessary after a cast
#325: FILE: drivers/s390/block/dasd_diag.c:254:
+		ip = (addr_t) *((u32 *) DASD_DIAG_LC_INT_PARM_31BIT);

CHECK:SPACING: No space is necessary after a cast
#328: FILE: drivers/s390/block/dasd_diag.c:257:
+		ip = (addr_t) *((u64 *) DASD_DIAG_LC_INT_PARM_64BIT);

CHECK:SPACING: No space is necessary after a cast
#341: FILE: drivers/s390/block/dasd_diag.c:266:
+	cqr = (struct dasd_ccw_req *) ip;

WARNING:SPLIT_STRING: quoted string split across lines
#381: FILE: drivers/s390/block/dasd_diag.c:310:
+		DEV_MESSAGE(KERN_WARNING, device, "interrupt status for "
+			    "request %p was %d (%d retries left)", cqr, status,

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#393: FILE: drivers/s390/block/dasd_diag.c:325:
+ * success, non-zero otherwise. */

WARNING:SPLIT_STRING: quoted string split across lines
#415: FILE: drivers/s390/block/dasd_diag.c:355:
+		DEV_MESSAGE(KERN_WARNING, device, "failed to retrieve device "
+			    "information (rc=%d)", rc);

WARNING:SPLIT_STRING: quoted string split across lines
#426: FILE: drivers/s390/block/dasd_diag.c:369:
+		DEV_MESSAGE(KERN_WARNING, device, "unsupported device class "
+			    "(class=%d)", private->rdc_data.vdev_class);

CHECK:SPACING: No space is necessary after a cast
#435: FILE: drivers/s390/block/dasd_diag.c:383:
+	label = (struct dasd_diag_cms_label *) get_zeroed_page(GFP_KERNEL);

WARNING:SPLIT_STRING: quoted string split across lines
#470: FILE: drivers/s390/block/dasd_diag.c:416:
+		DEV_MESSAGE(KERN_WARNING, device, "device access failed "
+			    "(rc=%d)", rc);

CHECK:BRACES: braces {} should be used on all arms of this statement
#473: FILE: drivers/s390/block/dasd_diag.c:419:
+		if (memcmp(label->label_id, DASD_DIAG_CMS1,
[...]
+		} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#474: FILE: drivers/s390/block/dasd_diag.c:420:
+		if (memcmp(label->label_id, DASD_DIAG_CMS1,
+			  sizeof(DASD_DIAG_CMS1)) == 0) {

CHECK:SPACING: No space is necessary after a cast
#476: FILE: drivers/s390/block/dasd_diag.c:422:
+			bsize = (unsigned int) label->block_size;

CHECK:SPACING: No space is necessary after a cast
#477: FILE: drivers/s390/block/dasd_diag.c:423:
+			device->blocks = (unsigned long) label->block_count;

CHECK:BRACES: Unbalanced braces around else statement
#478: FILE: drivers/s390/block/dasd_diag.c:424:
+		} else

CHECK:SPACING: No space is necessary after a cast
#490: FILE: drivers/s390/block/dasd_diag.c:433:
+			    (unsigned long) device->bp_block,

CHECK:SPACING: No space is necessary after a cast
#491: FILE: drivers/s390/block/dasd_diag.c:434:
+			    (unsigned long) (device->blocks <<

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#508: FILE: drivers/s390/block/dasd_diag.c:443:
+ * otherwise. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#517: FILE: drivers/s390/block/dasd_diag.c:474:
+ * request on success, ERR_PTR otherwise. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#547: FILE: drivers/s390/block/dasd_diag.c:548:
+ * otherwise. */

CHECK:SPACING: No space is necessary after a cast
#564: FILE: drivers/s390/block/dasd_diag.c:567:
+	info->label_block = (unsigned int) private->pt_block;

WARNING:CVS_KEYWORD: CVS style keyword markers, these will _not_ be updated
#651: FILE: drivers/s390/block/dasd_diag.h:9:
+ * $Revision: 1.7 $

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#698: FILE: drivers/s390/block/dasd_diag.h:67:
+} __attribute__ ((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#713: FILE: drivers/s390/block/dasd_diag.h:82:
+} __attribute__ ((packed, aligned(8)));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __aligned(8) over __attribute__((aligned(8)))
#713: FILE: drivers/s390/block/dasd_diag.h:82:
+} __attribute__ ((packed, aligned(8)));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#725: FILE: drivers/s390/block/dasd_diag.h:94:
+} __attribute__ ((packed, aligned(8)));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __aligned(8) over __attribute__((aligned(8)))
#725: FILE: drivers/s390/block/dasd_diag.h:94:
+} __attribute__ ((packed, aligned(8)));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#740: FILE: drivers/s390/block/dasd_diag.h:109:
+} __attribute__ ((packed, aligned(8)));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __aligned(8) over __attribute__((aligned(8)))
#740: FILE: drivers/s390/block/dasd_diag.h:109:
+} __attribute__ ((packed, aligned(8)));

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000156400.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 4 errors, 31 warnings, 18 checks, 708 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000156400.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
