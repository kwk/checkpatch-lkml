WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#42: FILE: drivers/block/Kconfig.iosched:41:
+config GENETIC_IOSCHED_AS
+        bool "Genetic Anticipatory I/O scheduler (EXPERIMENTAL)" 
+        depends on IOSCHED_AS && GENETIC_LIB && EXPERIMENTAL
+        default n
+        ---help---
+        This will use a genetic algorithm to tweak the tunables of the
+        anticipatory scheduler autonomically and will adapt tunables
+        depending on the present workload.  
+

Kconfig symbols should have a help text which fully describes
it.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#43: FILE: drivers/block/Kconfig.iosched:42:
+        bool "Genetic Anticipatory I/O scheduler (EXPERIMENTAL)" $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#49: FILE: drivers/block/Kconfig.iosched:48:
+        depending on the present workload.  $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#79: FILE: drivers/block/as-iosched.c:92:
+struct disk_stats_snapshot * as_stats_snapshot;

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#81: FILE: drivers/block/as-iosched.c:94:
+extern void disk_stats_snapshot(phenotype_t * pt);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#81: FILE: drivers/block/as-iosched.c:94:
+extern void disk_stats_snapshot(phenotype_t * pt);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#83: FILE: drivers/block/as-iosched.c:96:
+static void as_create_child(genetic_child_t * child);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#84: FILE: drivers/block/as-iosched.c:97:
+static void as_set_child_genes(void * in_genes);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#85: FILE: drivers/block/as-iosched.c:98:
+static void as_calc_fitness(genetic_child_t * child);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#88: FILE: drivers/block/as-iosched.c:101:
+    .create_child = as_create_child,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#89: FILE: drivers/block/as-iosched.c:102:
+    .set_child_genes = as_set_child_genes,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#90: FILE: drivers/block/as-iosched.c:103:
+    .calc_fitness = as_calc_fitness,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#91: FILE: drivers/block/as-iosched.c:104:
+    .combine_genes = genetic_generic_combine_genes,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#92: FILE: drivers/block/as-iosched.c:105:
+    .mutate_child = genetic_generic_mutate_child,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#93: FILE: drivers/block/as-iosched.c:106:
+    .take_snapshot = disk_stats_snapshot,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#101: FILE: drivers/block/as-iosched.c:114:
+    unsigned long read_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#102: FILE: drivers/block/as-iosched.c:115:
+    unsigned long write_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#103: FILE: drivers/block/as-iosched.c:116:
+    unsigned long read_batch_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#104: FILE: drivers/block/as-iosched.c:117:
+    unsigned long write_batch_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#105: FILE: drivers/block/as-iosched.c:118:
+    unsigned long antic_expire;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#106: FILE: drivers/block/as-iosched.c:119:
+    unsigned long max_thinktime;$

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#110: FILE: drivers/block/as-iosched.c:123:
+	{ HZ/16, 3*HZ/16, default_read_expire, 0},	/* read_expire */
 	    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#110: FILE: drivers/block/as-iosched.c:123:
+	{ HZ/16, 3*HZ/16, default_read_expire, 0},	/* read_expire */
 	          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#110: FILE: drivers/block/as-iosched.c:123:
+	{ HZ/16, 3*HZ/16, default_read_expire, 0},	/* read_expire */
 	             ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#111: FILE: drivers/block/as-iosched.c:124:
+^I{ HZ/8, 3*HZ/8, default_write_expire, 0},    ^I/* write_expire */$

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#111: FILE: drivers/block/as-iosched.c:124:
+	{ HZ/8, 3*HZ/8, default_write_expire, 0},    	/* write_expire */
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#111: FILE: drivers/block/as-iosched.c:124:
+	{ HZ/8, 3*HZ/8, default_write_expire, 0},    	/* write_expire */
 	         ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#111: FILE: drivers/block/as-iosched.c:124:
+	{ HZ/8, 3*HZ/8, default_write_expire, 0},    	/* write_expire */
 	            ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#112: FILE: drivers/block/as-iosched.c:125:
+	{ HZ/4, 3*HZ/4, default_read_batch_expire, 0},	/* read_batch_expire */
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#112: FILE: drivers/block/as-iosched.c:125:
+	{ HZ/4, 3*HZ/4, default_read_batch_expire, 0},	/* read_batch_expire */
 	         ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#112: FILE: drivers/block/as-iosched.c:125:
+	{ HZ/4, 3*HZ/4, default_read_batch_expire, 0},	/* read_batch_expire */
 	            ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#113: FILE: drivers/block/as-iosched.c:126:
+	{ HZ/16, 3*HZ/16, default_write_batch_expire, 0},/* write_batch_expire */
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#113: FILE: drivers/block/as-iosched.c:126:
+	{ HZ/16, 3*HZ/16, default_write_batch_expire, 0},/* write_batch_expire */
 	          ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#113: FILE: drivers/block/as-iosched.c:126:
+	{ HZ/16, 3*HZ/16, default_write_batch_expire, 0},/* write_batch_expire */
 	             ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#114: FILE: drivers/block/as-iosched.c:127:
+	{ HZ/300, HZ/100, default_antic_expire, 0},	/* default_antic_expire */
 	    ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#114: FILE: drivers/block/as-iosched.c:127:
+	{ HZ/300, HZ/100, default_antic_expire, 0},	/* default_antic_expire */
 	            ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#115: FILE: drivers/block/as-iosched.c:128:
+	{ HZ/100, 3*HZ/100, MAX_THINKTIME, 0}
 	    ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#115: FILE: drivers/block/as-iosched.c:128:
+	{ HZ/100, 3*HZ/100, MAX_THINKTIME, 0}
 	           ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#115: FILE: drivers/block/as-iosched.c:128:
+	{ HZ/100, 3*HZ/100, MAX_THINKTIME, 0}
 	              ^

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#118: FILE: drivers/block/as-iosched.c:131:
+extern void disk_stats_snapshot(phenotype_t * pt);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#118: FILE: drivers/block/as-iosched.c:131:
+extern void disk_stats_snapshot(phenotype_t * pt);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#119: FILE: drivers/block/as-iosched.c:132:
+extern unsigned long disk_calc_fitness(genetic_child_t * child);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#119: FILE: drivers/block/as-iosched.c:132:
+extern unsigned long disk_calc_fitness(genetic_child_t * child);

ERROR:CODE_INDENT: code indent should use tabs where possible
#132: FILE: drivers/block/as-iosched.c:187:
+        struct list_head data_list;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#132: FILE: drivers/block/as-iosched.c:187:
+        struct list_head data_list;$

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#142: FILE: drivers/block/as-iosched.c:926:
+				thinktime = min(thinktime, max_thinktime-1);
 				                                        ^

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#174: FILE: drivers/block/as-iosched.c:2166:
+	genetic_t * genetic = 0;

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#183: FILE: drivers/block/as-iosched.c:2176:
 	if (!ret) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:LONG_LINE: line length of 122 exceeds 100 columns
#185: FILE: drivers/block/as-iosched.c:2178:
+		as_stats_snapshot = (struct disk_stats_snapshot *)kmalloc(sizeof(struct disk_stats_snapshot), GFP_KERNEL);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#185: FILE: drivers/block/as-iosched.c:2178:
+		as_stats_snapshot = (struct disk_stats_snapshot *)kmalloc(sizeof(struct disk_stats_snapshot), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*as_stats_snapshot)...) over kmalloc(sizeof(struct disk_stats_snapshot)...)
#185: FILE: drivers/block/as-iosched.c:2178:
+		as_stats_snapshot = (struct disk_stats_snapshot *)kmalloc(sizeof(struct disk_stats_snapshot), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#187: FILE: drivers/block/as-iosched.c:2180:
+		if (!as_stats_snapshot)
+			panic("as: failed to malloc enough space");

CHECK:LINE_SPACING: Please don't use multiple blank lines
#189: FILE: drivers/block/as-iosched.c:2182:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#193: FILE: drivers/block/as-iosched.c:2186:
+^I^I$

ERROR:SPACING: space required before the open parenthesis '('
#194: FILE: drivers/block/as-iosched.c:2187:
+		if(genetic_register_phenotype(genetic, &as_genetic_ops, AS_NUM_CHILDREN,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#199: FILE: drivers/block/as-iosched.c:2192:
+#endif^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#200: FILE: drivers/block/as-iosched.c:2193:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#200: FILE: drivers/block/as-iosched.c:2193:
+ $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#211: FILE: drivers/block/as-iosched.c:2216:
+static void as_create_child(genetic_child_t * child)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#213: FILE: drivers/block/as-iosched.c:2218:
+    BUG_ON(!child);$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#213: FILE: drivers/block/as-iosched.c:2218:
+    BUG_ON(!child);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#215: FILE: drivers/block/as-iosched.c:2220:
+    child->genes = (void *)kmalloc(sizeof(struct as_genes), GFP_KERNEL);$

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#215: FILE: drivers/block/as-iosched.c:2220:
+    child->genes = (void *)kmalloc(sizeof(struct as_genes), GFP_KERNEL);

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*child->genes)...) over kmalloc(sizeof(struct as_genes)...)
#215: FILE: drivers/block/as-iosched.c:2220:
+    child->genes = (void *)kmalloc(sizeof(struct as_genes), GFP_KERNEL);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#216: FILE: drivers/block/as-iosched.c:2221:
+    if (!child->genes) $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#216: FILE: drivers/block/as-iosched.c:2221:
+    if (!child->genes) $

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'as_create_child', this function's name, in a string
#217: FILE: drivers/block/as-iosched.c:2222:
+	panic("as_create_child: error mallocing space");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#217: FILE: drivers/block/as-iosched.c:2222:
+    if (!child->genes) 
+	panic("as_create_child: error mallocing space");

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#219: FILE: drivers/block/as-iosched.c:2224:
+    child->gene_param = as_gene_param;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#220: FILE: drivers/block/as-iosched.c:2225:
+    child->num_genes = AS_NUM_GENES;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#221: FILE: drivers/block/as-iosched.c:2226:
+    child->stats_snapshot = as_stats_snapshot;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: drivers/block/as-iosched.c:2228:
+    genetic_create_child_spread(child, AS_NUM_CHILDREN);$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#227: FILE: drivers/block/as-iosched.c:2232:
+static void as_set_child_genes(void * in_genes)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#229: FILE: drivers/block/as-iosched.c:2234:
+    struct as_genes * genes = (struct as_genes *)in_genes;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#229: FILE: drivers/block/as-iosched.c:2234:
+    struct as_genes * genes = (struct as_genes *)in_genes;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#230: FILE: drivers/block/as-iosched.c:2235:
+    struct list_head * d;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#230: FILE: drivers/block/as-iosched.c:2235:
+    struct list_head * d;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#231: FILE: drivers/block/as-iosched.c:2236:
+    struct as_data * ad;$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#231: FILE: drivers/block/as-iosched.c:2236:
+    struct as_data * ad;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#232: FILE: drivers/block/as-iosched.c:2237:
+    $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#232: FILE: drivers/block/as-iosched.c:2237:
+    $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#233: FILE: drivers/block/as-iosched.c:2238:
+    list_for_each(d, &as_data_list) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#240: FILE: drivers/block/as-iosched.c:2245:
+    }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#241: FILE: drivers/block/as-iosched.c:2246:
+    max_thinktime = genes->max_thinktime;$

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#243: FILE: drivers/block/as-iosched.c:2248:
+
+}

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#245: FILE: drivers/block/as-iosched.c:2250:
+static void as_calc_fitness(genetic_child_t * child)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#252: FILE: drivers/block/as-iosched.c:2257:
+ $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#252: FILE: drivers/block/as-iosched.c:2257:
+
+ 

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#252: FILE: drivers/block/as-iosched.c:2257:
+ $

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000206795.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 24 errors, 41 warnings, 24 checks, 204 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000206795.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
