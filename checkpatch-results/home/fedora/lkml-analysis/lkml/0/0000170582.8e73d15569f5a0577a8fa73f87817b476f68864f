WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#30: 
this patch supports the Infineon Trusted Platform Module SLD 9630 (TPM 1.1b),

WARNING:CONFIG_DESCRIPTION: please write a help paragraph that fully describes the config symbol
#50: FILE: drivers/char/tpm/Kconfig:38:
+config TCG_INFINEON
+	tristate "Infineon Technologies SLD 9630 TPM Interface"
+	depends on TCG_TPM
+	---help---
+	  If you have a TPM security chip from Infineon Technologies
+	  say Yes and it will be accessible from within Linux.  To
+	  compile this driver as a module, choose M here; the module
+	  will be called tpm_infineon.
+	  Further information on this driver and the supported hardware
+	  can be found at http://www.prosec.rub.de/tpm
+	  Note: To get debugging output into the module, you have to enable
+	  CONFIG_DEBUG_KERNEL, CONFIG_DEBUG_INFO and CONFIG_PCI_DEBUG
+

Kconfig symbols should have a help text which fully describes
it.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#78: FILE: drivers/char/tpm/tpm_infineon.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:TRAILING_WHITESPACE: trailing whitespace
#87: FILE: drivers/char/tpm/tpm_infineon.c:10:
+ * Specifications at www.trustedcomputinggroup.org^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#106: FILE: drivers/char/tpm/tpm_infineon.c:29:
+^ITPM_MAX_TRIES^I^I= 5000 ^I/* gives number of max. msleep()-calls before$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#107: FILE: drivers/char/tpm/tpm_infineon.c:30:
+	TPM_MAX_TRIES		= 5000 	/* gives number of max. msleep()-calls before
+throwing timeout */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#107: FILE: drivers/char/tpm/tpm_infineon.c:30:
+throwing timeout */

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#113: FILE: drivers/char/tpm/tpm_infineon.c:36:
+	TPM_DATA			= (TPM_ADDR+1) & 0xff
 	        			           ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#120: FILE: drivers/char/tpm/tpm_infineon.c:43:
+^ITPM_VL_CHANNEL_PERSONALISATION ^I= 0x0A,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#153: FILE: drivers/char/tpm/tpm_infineon.c:76:
+^ISTAT_XFE ^I= 0x00,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#154: FILE: drivers/char/tpm/tpm_infineon.c:77:
+^ISTAT_LPA ^I= 0x01,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#155: FILE: drivers/char/tpm/tpm_infineon.c:78:
+^ISTAT_FOK ^I= 0x02,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#156: FILE: drivers/char/tpm/tpm_infineon.c:79:
+^ISTAT_TOK ^I= 0x03,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#157: FILE: drivers/char/tpm/tpm_infineon.c:80:
+^ISTAT_IRQA ^I= 0x06,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#158: FILE: drivers/char/tpm/tpm_infineon.c:81:
+^ISTAT_RDA ^I= 0x07$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#178: FILE: drivers/char/tpm/tpm_infineon.c:101:
+static int number_of_wtx = 0;^I$

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#178: FILE: drivers/char/tpm/tpm_infineon.c:101:
+static int number_of_wtx = 0;	

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#180: FILE: drivers/char/tpm/tpm_infineon.c:103:
+static int empty_fifo(struct tpm_chip *chip, int clear_wrfifo) {

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#182: FILE: drivers/char/tpm/tpm_infineon.c:105:
+	int check=0;
 	         ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#183: FILE: drivers/char/tpm/tpm_infineon.c:106:
+	int i=0;
 	     ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#184: FILE: drivers/char/tpm/tpm_infineon.c:107:
+	int j=0;
 	     ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#185: FILE: drivers/char/tpm/tpm_infineon.c:108:
+^I$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#186: FILE: drivers/char/tpm/tpm_infineon.c:109:
+	if (clear_wrfifo) {
+	    for (i=0; i<4096; i++) {

WARNING:TABSTOP: Statements should start on a tabstop
#187: FILE: drivers/char/tpm/tpm_infineon.c:110:
+	    for (i=0; i<4096; i++) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#187: FILE: drivers/char/tpm/tpm_infineon.c:110:
+	    for (i=0; i<4096; i++) {
 	          ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#187: FILE: drivers/char/tpm/tpm_infineon.c:110:
+	    for (i=0; i<4096; i++) {
 	               ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#188: FILE: drivers/char/tpm/tpm_infineon.c:111:
+		status = inb(chip->vendor->base+WRFIFO);
 		                               ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 20)
#189: FILE: drivers/char/tpm/tpm_infineon.c:112:
+		if (status == 0xff) {
+		    if (check==5)

WARNING:TABSTOP: Statements should start on a tabstop
#190: FILE: drivers/char/tpm/tpm_infineon.c:113:
+		    if (check==5)

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#190: FILE: drivers/char/tpm/tpm_infineon.c:113:
+		    if (check==5)
 		             ^

WARNING:TABSTOP: Statements should start on a tabstop
#192: FILE: drivers/char/tpm/tpm_infineon.c:115:
+		    else

WARNING:TABSTOP: Statements should start on a tabstop
#195: FILE: drivers/char/tpm/tpm_infineon.c:118:
+	    }

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#198: FILE: drivers/char/tpm/tpm_infineon.c:121:
+	/* Note: The Values which are currently in the FIFO of the TPM
+	are thrown away since there is no usage for them. Usually,

WARNING:TYPO_SPELLING: 'immidiately' may be misspelled - perhaps 'immediately'?
#199: FILE: drivers/char/tpm/tpm_infineon.c:122:
+	this has nothing to say, since the TPM will give its answer immidiately
 	                                                            ^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#205: FILE: drivers/char/tpm/tpm_infineon.c:128:
+	do {
+	    status = inb(chip->vendor->base+RDFIFO);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#206: FILE: drivers/char/tpm/tpm_infineon.c:129:
+	    status = inb(chip->vendor->base+RDFIFO);
 	                                   ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#207: FILE: drivers/char/tpm/tpm_infineon.c:130:
+	    status = inb(chip->vendor->base+STAT);
 	                                   ^

WARNING:TABSTOP: Statements should start on a tabstop
#209: FILE: drivers/char/tpm/tpm_infineon.c:132:
+	    if (j==TPM_MAX_TRIES)

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#209: FILE: drivers/char/tpm/tpm_infineon.c:132:
+	    if (j==TPM_MAX_TRIES)
 	         ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#211: FILE: drivers/char/tpm/tpm_infineon.c:134:
+	} while ((status & (1<<STAT_RDA)) != 0);
 	                     ^

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#212: FILE: drivers/char/tpm/tpm_infineon.c:135:
+	return(0);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#215: FILE: drivers/char/tpm/tpm_infineon.c:138:
+static int wait(struct tpm_chip *chip, int wait_for_bit) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#216: FILE: drivers/char/tpm/tpm_infineon.c:139:
+static int wait(struct tpm_chip *chip, int wait_for_bit) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#217: FILE: drivers/char/tpm/tpm_infineon.c:140:
+  int status;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#218: FILE: drivers/char/tpm/tpm_infineon.c:141:
+  int i = 0;$

WARNING:LONG_LINE_COMMENT: line length of 117 exceeds 100 columns
#219: FILE: drivers/char/tpm/tpm_infineon.c:142:
+  for (i = 0; i < TPM_MAX_TRIES; i++) {		/* Check the TPM_TIMEOUT-Variable in the definitions in Infineon.h */

A comment starts before but extends beyond the maximum line length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

WARNING:LINE_SPACING: Missing a blank line after declarations
#219: FILE: drivers/char/tpm/tpm_infineon.c:142:
+  int i = 0;
+  for (i = 0; i < TPM_MAX_TRIES; i++) {		/* Check the TPM_TIMEOUT-Variable in the definitions in Infineon.h */

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#219: FILE: drivers/char/tpm/tpm_infineon.c:142:
+  for (i = 0; i < TPM_MAX_TRIES; i++) {^I^I/* Check the TPM_TIMEOUT-Variable in the definitions in Infineon.h */$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (2, 6)
#219: FILE: drivers/char/tpm/tpm_infineon.c:142:
+  for (i = 0; i < TPM_MAX_TRIES; i++) {		/* Check the TPM_TIMEOUT-Variable in the definitions in Infineon.h */
+      status = inb(chip->vendor->base + STAT);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#220: FILE: drivers/char/tpm/tpm_infineon.c:143:
+      status = inb(chip->vendor->base + STAT);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#221: FILE: drivers/char/tpm/tpm_infineon.c:144:
+      if (status & 1<<wait_for_bit)^I^I/* Check the Status-Register for the XFE-Bit */$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 10)
#221: FILE: drivers/char/tpm/tpm_infineon.c:144:
+      if (status & 1<<wait_for_bit)		/* Check the Status-Register for the XFE-Bit */
+          break;

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#221: FILE: drivers/char/tpm/tpm_infineon.c:144:
+      if (status & 1<<wait_for_bit)		/* Check the Status-Register for the XFE-Bit */
                     ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#222: FILE: drivers/char/tpm/tpm_infineon.c:145:
+          break;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#222: FILE: drivers/char/tpm/tpm_infineon.c:145:
+          break;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: drivers/char/tpm/tpm_infineon.c:146:
+      msleep(TPM_MSLEEP_TIME);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#224: FILE: drivers/char/tpm/tpm_infineon.c:147:
+    }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#225: FILE: drivers/char/tpm/tpm_infineon.c:148:
+  if (i == TPM_MAX_TRIES) {^I^I^I/* In Case of an error, print information */$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (2, 6)
#225: FILE: drivers/char/tpm/tpm_infineon.c:148:
+  if (i == TPM_MAX_TRIES) {			/* In Case of an error, print information */
+      dev_err(&chip->pci_dev->dev,": Timeout in wait(");

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#226: FILE: drivers/char/tpm/tpm_infineon.c:149:
+      dev_err(&chip->pci_dev->dev,": Timeout in wait(");$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#226: FILE: drivers/char/tpm/tpm_infineon.c:149:
+      dev_err(&chip->pci_dev->dev,": Timeout in wait(");
                                  ^

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'wait', this function's name, in a string
#226: FILE: drivers/char/tpm/tpm_infineon.c:149:
+      dev_err(&chip->pci_dev->dev,": Timeout in wait(");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#227: FILE: drivers/char/tpm/tpm_infineon.c:150:
+      if (wait_for_bit==STAT_XFE) dev_err(&chip->pci_dev->dev,"STAT_XFE)\n");$

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#227: FILE: drivers/char/tpm/tpm_infineon.c:150:
+      if (wait_for_bit==STAT_XFE) dev_err(&chip->pci_dev->dev,"STAT_XFE)\n");
                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#227: FILE: drivers/char/tpm/tpm_infineon.c:150:
+      if (wait_for_bit==STAT_XFE) dev_err(&chip->pci_dev->dev,"STAT_XFE)\n");
                                                              ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#227: FILE: drivers/char/tpm/tpm_infineon.c:150:
+      if (wait_for_bit==STAT_XFE) dev_err(&chip->pci_dev->dev,"STAT_XFE)\n");

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#228: FILE: drivers/char/tpm/tpm_infineon.c:151:
+      if (wait_for_bit==STAT_RDA) dev_err(&chip->pci_dev->dev,"STAT_RDA)\n");$

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#228: FILE: drivers/char/tpm/tpm_infineon.c:151:
+      if (wait_for_bit==STAT_RDA) dev_err(&chip->pci_dev->dev,"STAT_RDA)\n");
                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#228: FILE: drivers/char/tpm/tpm_infineon.c:151:
+      if (wait_for_bit==STAT_RDA) dev_err(&chip->pci_dev->dev,"STAT_RDA)\n");
                                                              ^

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#228: FILE: drivers/char/tpm/tpm_infineon.c:151:
+      if (wait_for_bit==STAT_RDA) dev_err(&chip->pci_dev->dev,"STAT_RDA)\n");

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#229: FILE: drivers/char/tpm/tpm_infineon.c:152:
+      return -EIO;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#230: FILE: drivers/char/tpm/tpm_infineon.c:153:
+  }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#231: FILE: drivers/char/tpm/tpm_infineon.c:154:
+  return(0);$

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#234: FILE: drivers/char/tpm/tpm_infineon.c:157:
+static void wait_and_send(struct tpm_chip *chip, u8 sendbyte) {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#235: FILE: drivers/char/tpm/tpm_infineon.c:158:
+    wait(chip,STAT_XFE);$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#235: FILE: drivers/char/tpm/tpm_infineon.c:158:
+    wait(chip,STAT_XFE);
              ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#236: FILE: drivers/char/tpm/tpm_infineon.c:159:
+    outb(sendbyte,chip->vendor->base+WRFIFO);$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#236: FILE: drivers/char/tpm/tpm_infineon.c:159:
+    outb(sendbyte,chip->vendor->base+WRFIFO);
                  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#236: FILE: drivers/char/tpm/tpm_infineon.c:159:
+    outb(sendbyte,chip->vendor->base+WRFIFO);
                                     ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#240: FILE: drivers/char/tpm/tpm_infineon.c:163:
+/* Note: WTX means Waiting-Time-Extension. Whenever the TPM
+needs more calculation time, it sends a WTX-package, which has to

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#247: FILE: drivers/char/tpm/tpm_infineon.c:170:
+static void tpm_wtx(struct tpm_chip *chip) {

WARNING:LONG_LINE: line length of 106 exceeds 100 columns
#249: FILE: drivers/char/tpm/tpm_infineon.c:172:
+	dev_info(&chip->pci_dev->dev,": Granting WTX (%02d / %02d)\n",number_of_wtx,TPM_MAX_WTX_PACKAGES);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:SPACING: space required after that ',' (ctx:VxV)
#249: FILE: drivers/char/tpm/tpm_infineon.c:172:
+	dev_info(&chip->pci_dev->dev,": Granting WTX (%02d / %02d)\n",number_of_wtx,TPM_MAX_WTX_PACKAGES);
 	                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#249: FILE: drivers/char/tpm/tpm_infineon.c:172:
+	dev_info(&chip->pci_dev->dev,": Granting WTX (%02d / %02d)\n",number_of_wtx,TPM_MAX_WTX_PACKAGES);
 	                                                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#249: FILE: drivers/char/tpm/tpm_infineon.c:172:
+	dev_info(&chip->pci_dev->dev,": Granting WTX (%02d / %02d)\n",number_of_wtx,TPM_MAX_WTX_PACKAGES);
 	                                                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#250: FILE: drivers/char/tpm/tpm_infineon.c:173:
+	wait_and_send(chip,TPM_VL_VER);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#251: FILE: drivers/char/tpm/tpm_infineon.c:174:
+	wait_and_send(chip,TPM_CTRL_WTX);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#252: FILE: drivers/char/tpm/tpm_infineon.c:175:
+	wait_and_send(chip,0x00);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#253: FILE: drivers/char/tpm/tpm_infineon.c:176:
+	wait_and_send(chip,0x00);
 	                  ^

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#257: FILE: drivers/char/tpm/tpm_infineon.c:180:
+static void tpm_wtx_abort(struct tpm_chip *chip) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#258: FILE: drivers/char/tpm/tpm_infineon.c:181:
+	dev_info(&chip->pci_dev->dev,": Sending WTX Abort\n");
 	                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#259: FILE: drivers/char/tpm/tpm_infineon.c:182:
+	wait_and_send(chip,TPM_VL_VER);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#260: FILE: drivers/char/tpm/tpm_infineon.c:183:
+	wait_and_send(chip,TPM_CTRL_WTX_ABORT);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#261: FILE: drivers/char/tpm/tpm_infineon.c:184:
+	wait_and_send(chip,0x00);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#262: FILE: drivers/char/tpm/tpm_infineon.c:185:
+	wait_and_send(chip,0x00);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#264: FILE: drivers/char/tpm/tpm_infineon.c:187:
+	dev_info(&chip->pci_dev->dev,": Waiting for Abort-Acknowledge\n");
 	                            ^

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#268: FILE: drivers/char/tpm/tpm_infineon.c:191:
+static int tpm_inf_recv(struct tpm_chip *chip, u8 *buf, size_t count) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#273: FILE: drivers/char/tpm/tpm_infineon.c:196:
+recv_begin:^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#275: FILE: drivers/char/tpm/tpm_infineon.c:198:
+	dev_dbg(&chip->pci_dev->dev,": Receiving Header: ");
 	                           ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#277: FILE: drivers/char/tpm/tpm_infineon.c:200:
+	for (i=0; i<4 ; i++) {
+	    ret = wait(chip,STAT_RDA);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#277: FILE: drivers/char/tpm/tpm_infineon.c:200:
+	for (i=0; i<4 ; i++) {
 	      ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#277: FILE: drivers/char/tpm/tpm_infineon.c:200:
+	for (i=0; i<4 ; i++) {
 	           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#278: FILE: drivers/char/tpm/tpm_infineon.c:201:
+	    ret = wait(chip,STAT_RDA);
 	                   ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 20)
#279: FILE: drivers/char/tpm/tpm_infineon.c:202:
+		if (ret)
+		    return -EIO;

WARNING:TABSTOP: Statements should start on a tabstop
#280: FILE: drivers/char/tpm/tpm_infineon.c:203:
+		    return -EIO;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#281: FILE: drivers/char/tpm/tpm_infineon.c:204:
+^I^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#282: FILE: drivers/char/tpm/tpm_infineon.c:205:
+	    buf[i]=inb(chip->vendor->base+RDFIFO);
 	          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#282: FILE: drivers/char/tpm/tpm_infineon.c:205:
+	    buf[i]=inb(chip->vendor->base+RDFIFO);
 	                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#283: FILE: drivers/char/tpm/tpm_infineon.c:206:
+	    dev_dbg(&chip->pci_dev->dev,"%02x ",buf[i]);
 	                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#283: FILE: drivers/char/tpm/tpm_infineon.c:206:
+	    dev_dbg(&chip->pci_dev->dev,"%02x ",buf[i]);
 	                                       ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#285: FILE: drivers/char/tpm/tpm_infineon.c:208:
+^I    dev_dbg(&chip->pci_dev->dev,"\n");^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#285: FILE: drivers/char/tpm/tpm_infineon.c:208:
+	    dev_dbg(&chip->pci_dev->dev,"\n");	
 	                               ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#286: FILE: drivers/char/tpm/tpm_infineon.c:209:
+^I$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#287: FILE: drivers/char/tpm/tpm_infineon.c:210:
+	if (buf[0] != TPM_VL_VER) {
+	    dev_err(&chip->pci_dev->dev,": Wrong Transport Protol Implementation!\n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#288: FILE: drivers/char/tpm/tpm_infineon.c:211:
+	    dev_err(&chip->pci_dev->dev,": Wrong Transport Protol Implementation!\n");
 	                               ^

WARNING:TABSTOP: Statements should start on a tabstop
#289: FILE: drivers/char/tpm/tpm_infineon.c:212:
+	    return -EIO;

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#292: FILE: drivers/char/tpm/tpm_infineon.c:215:
+	if (buf[1] == TPM_CTRL_DATA) {
[...]
+	    size = ((buf[2] << 8) | buf[3]);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#295: FILE: drivers/char/tpm/tpm_infineon.c:218:
+	    dev_dbg(&chip->pci_dev->dev,": Number of Bytes to Copy:  %d (0x%04x)\n",size,size);
 	                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#295: FILE: drivers/char/tpm/tpm_infineon.c:218:
+	    dev_dbg(&chip->pci_dev->dev,": Number of Bytes to Copy:  %d (0x%04x)\n",size,size);
 	                                                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#295: FILE: drivers/char/tpm/tpm_infineon.c:218:
+	    dev_dbg(&chip->pci_dev->dev,": Number of Bytes to Copy:  %d (0x%04x)\n",size,size);
 	                                                                                ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#296: FILE: drivers/char/tpm/tpm_infineon.c:219:
+	    dev_dbg(&chip->pci_dev->dev,": Receiving Data-Bytes: ");
 	                               ^

WARNING:TABSTOP: Statements should start on a tabstop
#298: FILE: drivers/char/tpm/tpm_infineon.c:221:
+	    for (i=0; i<size; i++) {

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#298: FILE: drivers/char/tpm/tpm_infineon.c:221:
+	    for (i=0; i<size; i++) {
 	          ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#298: FILE: drivers/char/tpm/tpm_infineon.c:221:
+	    for (i=0; i<size; i++) {
 	               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#299: FILE: drivers/char/tpm/tpm_infineon.c:222:
+		wait(chip,STAT_RDA);
 		         ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#300: FILE: drivers/char/tpm/tpm_infineon.c:223:
+		buf[i]=inb(chip->vendor->base+RDFIFO);
 		      ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#300: FILE: drivers/char/tpm/tpm_infineon.c:223:
+		buf[i]=inb(chip->vendor->base+RDFIFO);
 		                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#301: FILE: drivers/char/tpm/tpm_infineon.c:224:
+		dev_dbg(&chip->pci_dev->dev,"%02x ",buf[i]);
 		                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#301: FILE: drivers/char/tpm/tpm_infineon.c:224:
+		dev_dbg(&chip->pci_dev->dev,"%02x ",buf[i]);
 		                                   ^

WARNING:TABSTOP: Statements should start on a tabstop
#302: FILE: drivers/char/tpm/tpm_infineon.c:225:
+	    }

ERROR:SPACING: space required after that ',' (ctx:VxV)
#303: FILE: drivers/char/tpm/tpm_infineon.c:226:
+	    dev_dbg(&chip->pci_dev->dev,"\n");
 	                               ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#304: FILE: drivers/char/tpm/tpm_infineon.c:227:
+^I$

WARNING:TABSTOP: Statements should start on a tabstop
#305: FILE: drivers/char/tpm/tpm_infineon.c:228:
+	    if ((size == 0x6D00) && (buf[1] == 0x80)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'size == 0x6D00'
#305: FILE: drivers/char/tpm/tpm_infineon.c:228:
+	    if ((size == 0x6D00) && (buf[1] == 0x80)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'buf[1] == 0x80'
#305: FILE: drivers/char/tpm/tpm_infineon.c:228:
+	    if ((size == 0x6D00) && (buf[1] == 0x80)) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#306: FILE: drivers/char/tpm/tpm_infineon.c:229:
+		dev_err(&chip->pci_dev->dev,": Error Handling on Vendor-Layer!\n");
 		                           ^

WARNING:TABSTOP: Statements should start on a tabstop
#308: FILE: drivers/char/tpm/tpm_infineon.c:231:
+	    }

ERROR:TRAILING_WHITESPACE: trailing whitespace
#309: FILE: drivers/char/tpm/tpm_infineon.c:232:
+^I$

WARNING:TABSTOP: Statements should start on a tabstop
#310: FILE: drivers/char/tpm/tpm_infineon.c:233:
+	    for (i=0;i<size;i++)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#310: FILE: drivers/char/tpm/tpm_infineon.c:233:
+	    for (i=0;i<size;i++)
 	          ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#310: FILE: drivers/char/tpm/tpm_infineon.c:233:
+	    for (i=0;i<size;i++)
 	            ^

ERROR:SPACING: spaces required around that '<' (ctx:VxV)
#310: FILE: drivers/char/tpm/tpm_infineon.c:233:
+	    for (i=0;i<size;i++)
 	              ^

ERROR:SPACING: space required after that ';' (ctx:VxV)
#310: FILE: drivers/char/tpm/tpm_infineon.c:233:
+	    for (i=0;i<size;i++)
 	                   ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#311: FILE: drivers/char/tpm/tpm_infineon.c:234:
+		buf[i]=buf[i+6];
 		      ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#311: FILE: drivers/char/tpm/tpm_infineon.c:234:
+		buf[i]=buf[i+6];
 		            ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#313: FILE: drivers/char/tpm/tpm_infineon.c:236:
+	    size=size-6;
 	        ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#313: FILE: drivers/char/tpm/tpm_infineon.c:236:
+	    size=size-6;
 	             ^

WARNING:TABSTOP: Statements should start on a tabstop
#314: FILE: drivers/char/tpm/tpm_infineon.c:237:
+	    return (size);

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#314: FILE: drivers/char/tpm/tpm_infineon.c:237:
+	    return (size);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#316: FILE: drivers/char/tpm/tpm_infineon.c:239:
+^I$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#317: FILE: drivers/char/tpm/tpm_infineon.c:240:
+	if (buf[1] == TPM_CTRL_WTX) {
+	    dev_info(&chip->pci_dev->dev,": WTX-package received\n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#318: FILE: drivers/char/tpm/tpm_infineon.c:241:
+	    dev_info(&chip->pci_dev->dev,": WTX-package received\n");
 	                                ^

WARNING:TABSTOP: Statements should start on a tabstop
#319: FILE: drivers/char/tpm/tpm_infineon.c:242:
+	    if (number_of_wtx < TPM_MAX_WTX_PACKAGES) {

WARNING:TABSTOP: Statements should start on a tabstop
#322: FILE: drivers/char/tpm/tpm_infineon.c:245:
+	    } else {

ERROR:CODE_INDENT: code indent should use tabs where possible
#323: FILE: drivers/char/tpm/tpm_infineon.c:246:
+^I    ^Itpm_wtx_abort(chip);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#323: FILE: drivers/char/tpm/tpm_infineon.c:246:
+^I    ^Itpm_wtx_abort(chip);$

WARNING:TABSTOP: Statements should start on a tabstop
#325: FILE: drivers/char/tpm/tpm_infineon.c:248:
+	    }

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#327: FILE: drivers/char/tpm/tpm_infineon.c:250:
+	if (buf[1] == TPM_CTRL_WTX_ABORT_ACK) {
+	    dev_info(&chip->pci_dev->dev,": WTX-Abort-Acknowledgement-package received\n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#328: FILE: drivers/char/tpm/tpm_infineon.c:251:
+	    dev_info(&chip->pci_dev->dev,": WTX-Abort-Acknowledgement-package received\n");
 	                                ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#332: FILE: drivers/char/tpm/tpm_infineon.c:255:
+	if (buf[1] == TPM_CTRL_ERROR) {
+	    dev_err(&chip->pci_dev->dev,": ERROR-package received:\n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#333: FILE: drivers/char/tpm/tpm_infineon.c:256:
+	    dev_err(&chip->pci_dev->dev,": ERROR-package received:\n");
 	                               ^

WARNING:TABSTOP: Statements should start on a tabstop
#334: FILE: drivers/char/tpm/tpm_infineon.c:257:
+	    if (buf[4] == TPM_INF_NAK)

WARNING:TYPO_SPELLING: 'Acknowledgement' may be misspelled - perhaps 'Acknowledgment'?
#335: FILE: drivers/char/tpm/tpm_infineon.c:258:
+	        dev_err(&chip->pci_dev->dev,": -> Negative Acknowledgement - Please retransmit commando!\n");
 	                                                   ^^^^^^^^^^^^^^^

ERROR:CODE_INDENT: code indent should use tabs where possible
#335: FILE: drivers/char/tpm/tpm_infineon.c:258:
+^I        dev_err(&chip->pci_dev->dev,": -> Negative Acknowledgement - Please retransmit commando!\n");$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#335: FILE: drivers/char/tpm/tpm_infineon.c:258:
+	        dev_err(&chip->pci_dev->dev,": -> Negative Acknowledgement - Please retransmit commando!\n");
 	                                   ^

WARNING:TABSTOP: Statements should start on a tabstop
#336: FILE: drivers/char/tpm/tpm_infineon.c:259:
+	    return -EIO;

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#341: FILE: drivers/char/tpm/tpm_infineon.c:264:
+static int tpm_inf_send(struct tpm_chip *chip, u8 *buf, size_t count) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#344: FILE: drivers/char/tpm/tpm_infineon.c:267:
+	u8 count_high,count_low,count_4,count_3,count_2,count_1;
 	             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#344: FILE: drivers/char/tpm/tpm_infineon.c:267:
+	u8 count_high,count_low,count_4,count_3,count_2,count_1;
 	                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#344: FILE: drivers/char/tpm/tpm_infineon.c:267:
+	u8 count_high,count_low,count_4,count_3,count_2,count_1;
 	                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#344: FILE: drivers/char/tpm/tpm_infineon.c:267:
+	u8 count_high,count_low,count_4,count_3,count_2,count_1;
 	                                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#344: FILE: drivers/char/tpm/tpm_infineon.c:267:
+	u8 count_high,count_low,count_4,count_3,count_2,count_1;
 	                                               ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#346: FILE: drivers/char/tpm/tpm_infineon.c:269:
+^Ioutb(RESET_LP_IRQC_DISABLE,chip->vendor->base+CMD);^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#346: FILE: drivers/char/tpm/tpm_infineon.c:269:
+	outb(RESET_LP_IRQC_DISABLE,chip->vendor->base+CMD);	
 	                          ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#346: FILE: drivers/char/tpm/tpm_infineon.c:269:
+	outb(RESET_LP_IRQC_DISABLE,chip->vendor->base+CMD);	
 	                                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#348: FILE: drivers/char/tpm/tpm_infineon.c:271:
+	ret = empty_fifo(chip,1);
 	                     ^

WARNING:TABSTOP: Statements should start on a tabstop
#349: FILE: drivers/char/tpm/tpm_infineon.c:272:
+	    if (ret) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#350: FILE: drivers/char/tpm/tpm_infineon.c:273:
+		dev_err(&chip->pci_dev->dev,"Timeout while clearing FIFOs\n");
 		                           ^

WARNING:TABSTOP: Statements should start on a tabstop
#352: FILE: drivers/char/tpm/tpm_infineon.c:275:
+	    }

ERROR:SPACING: space required after that ',' (ctx:VxV)
#354: FILE: drivers/char/tpm/tpm_infineon.c:277:
+	ret = wait(chip,STAT_XFE);
 	               ^

WARNING:TABSTOP: Statements should start on a tabstop
#355: FILE: drivers/char/tpm/tpm_infineon.c:278:
+	    if (ret)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#358: FILE: drivers/char/tpm/tpm_infineon.c:281:
+	count_4=(count & 0xff000000)>>24;
 	       ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#358: FILE: drivers/char/tpm/tpm_infineon.c:281:
+	count_4=(count & 0xff000000)>>24;
 	                            ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#359: FILE: drivers/char/tpm/tpm_infineon.c:282:
+	count_3=(count & 0x00ff0000)>>16;
 	       ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#359: FILE: drivers/char/tpm/tpm_infineon.c:282:
+	count_3=(count & 0x00ff0000)>>16;
 	                            ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#360: FILE: drivers/char/tpm/tpm_infineon.c:283:
+	count_2=(count & 0x0000ff00)>>8;
 	       ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#360: FILE: drivers/char/tpm/tpm_infineon.c:283:
+	count_2=(count & 0x0000ff00)>>8;
 	                            ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#361: FILE: drivers/char/tpm/tpm_infineon.c:284:
+	count_1=(count & 0x000000ff);
 	       ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#362: FILE: drivers/char/tpm/tpm_infineon.c:285:
+	count_high = ((count+6) & 0xffffff00)>>8;
 	                    ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#362: FILE: drivers/char/tpm/tpm_infineon.c:285:
+	count_high = ((count+6) & 0xffffff00)>>8;
 	                                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#363: FILE: drivers/char/tpm/tpm_infineon.c:286:
+	count_low = ((count+6) & 0x000000ff);
 	                   ^

WARNING:LONG_LINE: line length of 124 exceeds 100 columns
#366: FILE: drivers/char/tpm/tpm_infineon.c:289:
+	dev_dbg(&chip->pci_dev->dev,": Sending Header %02x %02x %02x %02x\n",TPM_VL_VER,TPM_CTRL_DATA,count_high,count_low);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#366: FILE: drivers/char/tpm/tpm_infineon.c:289:
+	dev_dbg(&chip->pci_dev->dev,": Sending Header %02x %02x %02x %02x\n",TPM_VL_VER,TPM_CTRL_DATA,count_high,count_low);
 	                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#366: FILE: drivers/char/tpm/tpm_infineon.c:289:
+	dev_dbg(&chip->pci_dev->dev,": Sending Header %02x %02x %02x %02x\n",TPM_VL_VER,TPM_CTRL_DATA,count_high,count_low);
 	                                                                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#366: FILE: drivers/char/tpm/tpm_infineon.c:289:
+	dev_dbg(&chip->pci_dev->dev,": Sending Header %02x %02x %02x %02x\n",TPM_VL_VER,TPM_CTRL_DATA,count_high,count_low);
 	                                                                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#366: FILE: drivers/char/tpm/tpm_infineon.c:289:
+	dev_dbg(&chip->pci_dev->dev,": Sending Header %02x %02x %02x %02x\n",TPM_VL_VER,TPM_CTRL_DATA,count_high,count_low);
 	                                                                                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#366: FILE: drivers/char/tpm/tpm_infineon.c:289:
+	dev_dbg(&chip->pci_dev->dev,": Sending Header %02x %02x %02x %02x\n",TPM_VL_VER,TPM_CTRL_DATA,count_high,count_low);
 	                                                                                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#368: FILE: drivers/char/tpm/tpm_infineon.c:291:
+	wait_and_send(chip,TPM_VL_VER);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#369: FILE: drivers/char/tpm/tpm_infineon.c:292:
+	wait_and_send(chip,TPM_CTRL_DATA);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#370: FILE: drivers/char/tpm/tpm_infineon.c:293:
+	wait_and_send(chip,count_high);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#371: FILE: drivers/char/tpm/tpm_infineon.c:294:
+	wait_and_send(chip,count_low);
 	                  ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#372: FILE: drivers/char/tpm/tpm_infineon.c:295:
+^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#373: FILE: drivers/char/tpm/tpm_infineon.c:296:
+	count_high=0;
 	          ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#374: FILE: drivers/char/tpm/tpm_infineon.c:297:
+	count_low=0;
 	         ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+^Idev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);^I^I$

WARNING:LONG_LINE: line length of 160 exceeds 100 columns
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);		

ERROR:SPACING: space required after that ',' (ctx:VxV)
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);		
 	                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);		
 	                                                                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);		
 	                                                                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);		
 	                                                                                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);		
 	                                                                                                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);		
 	                                                                                                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#380: FILE: drivers/char/tpm/tpm_infineon.c:303:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data   %02x %02x %02x %02x %02x %02x ",TPM_VL_VER,TPM_VL_CHANNEL_TPM,count_4,count_3,count_2,count_1);		
 	                                                                                                                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#382: FILE: drivers/char/tpm/tpm_infineon.c:305:
+	wait_and_send(chip,TPM_VL_VER);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#383: FILE: drivers/char/tpm/tpm_infineon.c:306:
+	wait_and_send(chip,TPM_VL_CHANNEL_TPM);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#384: FILE: drivers/char/tpm/tpm_infineon.c:307:
+	wait_and_send(chip,count_4);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#385: FILE: drivers/char/tpm/tpm_infineon.c:308:
+	wait_and_send(chip,count_3);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#386: FILE: drivers/char/tpm/tpm_infineon.c:309:
+	wait_and_send(chip,count_2);
 	                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#387: FILE: drivers/char/tpm/tpm_infineon.c:310:
+	wait_and_send(chip,count_1);
 	                  ^

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#389: FILE: drivers/char/tpm/tpm_infineon.c:312:
+	for (i = 0; i < count; i++) {
+	    wait_and_send(chip,buf[i]);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#390: FILE: drivers/char/tpm/tpm_infineon.c:313:
+	    wait_and_send(chip,buf[i]);
 	                      ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#391: FILE: drivers/char/tpm/tpm_infineon.c:314:
+	    dev_dbg(&chip->pci_dev->dev,"%02x ",buf[i]);
 	                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#391: FILE: drivers/char/tpm/tpm_infineon.c:314:
+	    dev_dbg(&chip->pci_dev->dev,"%02x ",buf[i]);
 	                                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#393: FILE: drivers/char/tpm/tpm_infineon.c:316:
+	dev_dbg(&chip->pci_dev->dev,"\n");
 	                           ^

WARNING:LONG_LINE: line length of 134 exceeds 100 columns
#394: FILE: drivers/char/tpm/tpm_infineon.c:317:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data successful -> %d (0x%04x) from %d (0x%04x) Data-Bytes written\n",count,count,i,i);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#394: FILE: drivers/char/tpm/tpm_infineon.c:317:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data successful -> %d (0x%04x) from %d (0x%04x) Data-Bytes written\n",count,count,i,i);
 	                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#394: FILE: drivers/char/tpm/tpm_infineon.c:317:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data successful -> %d (0x%04x) from %d (0x%04x) Data-Bytes written\n",count,count,i,i);
 	                                                                                                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#394: FILE: drivers/char/tpm/tpm_infineon.c:317:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data successful -> %d (0x%04x) from %d (0x%04x) Data-Bytes written\n",count,count,i,i);
 	                                                                                                                  ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#394: FILE: drivers/char/tpm/tpm_infineon.c:317:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data successful -> %d (0x%04x) from %d (0x%04x) Data-Bytes written\n",count,count,i,i);
 	                                                                                                                        ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#394: FILE: drivers/char/tpm/tpm_infineon.c:317:
+	dev_dbg(&chip->pci_dev->dev,": Sending Data successful -> %d (0x%04x) from %d (0x%04x) Data-Bytes written\n",count,count,i,i);
 	                                                                                                                          ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#397: FILE: drivers/char/tpm/tpm_infineon.c:320:
+}
+static void tpm_inf_cancel(struct tpm_chip *chip) {

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#397: FILE: drivers/char/tpm/tpm_infineon.c:320:
+static void tpm_inf_cancel(struct tpm_chip *chip) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#399: FILE: drivers/char/tpm/tpm_infineon.c:322:
+    /* Nothing yet!
+    This has something to do with the internal functions

WARNING:DEVICE_ATTR_FUNCTIONS: Consider renaming function(s) 'tpm_show_pubek' to 'pubek_show'
#402: FILE: drivers/char/tpm/tpm_infineon.c:325:
+}

The function names used in DEVICE_ATTR is unusual.
Typically, the store and show functions are used with <attr>_store and
<attr>_show, where <attr> is a named attribute variable of the device.

Consider the following examples::

  static DEVICE_ATTR(type, 0444, type_show, NULL);
  static DEVICE_ATTR(power, 0644, power_show, power_store);

The function names should preferably follow the above pattern.

See: https://www.kernel.org/doc/html/latest/driver-api/driver-model/device.html#attributes

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#404: FILE: drivers/char/tpm/tpm_infineon.c:327:
+static DEVICE_ATTR(pubek, S_IRUGO, tpm_show_pubek, NULL);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:DEVICE_ATTR_FUNCTIONS: Consider renaming function(s) 'tpm_show_pcrs' to 'pcrs_show'
#405: FILE: drivers/char/tpm/tpm_infineon.c:328:
+static DEVICE_ATTR(pcrs, S_IRUGO, tpm_show_pcrs, NULL);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#405: FILE: drivers/char/tpm/tpm_infineon.c:328:
+static DEVICE_ATTR(pcrs, S_IRUGO, tpm_show_pcrs, NULL);

WARNING:DEVICE_ATTR_FUNCTIONS: Consider renaming function(s) 'tpm_show_caps' to 'caps_show'
#406: FILE: drivers/char/tpm/tpm_infineon.c:329:
+static DEVICE_ATTR(caps, S_IRUGO, tpm_show_caps, NULL);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#406: FILE: drivers/char/tpm/tpm_infineon.c:329:
+static DEVICE_ATTR(caps, S_IRUGO, tpm_show_caps, NULL);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#407: FILE: drivers/char/tpm/tpm_infineon.c:330:
+static DEVICE_ATTR(cancel, S_IWUSR|S_IWGRP, NULL, tpm_store_cancel);
                                   ^

WARNING:DEVICE_ATTR_PERMS: DEVICE_ATTR unusual permissions 'S_IWUSR|S_IWGRP' used
#407: FILE: drivers/char/tpm/tpm_infineon.c:330:
+static DEVICE_ATTR(cancel, S_IWUSR|S_IWGRP, NULL, tpm_store_cancel);

The permissions used in DEVICE_ATTR are unusual.
Typically only three permissions are used - 0644 (RW), 0444 (RO)
and 0200 (WO).

See: https://www.kernel.org/doc/html/latest/filesystems/sysfs.html#attributes

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IWUSR|S_IWGRP' are not preferred. Consider using octal permissions '0220'.
#407: FILE: drivers/char/tpm/tpm_infineon.c:330:
+static DEVICE_ATTR(cancel, S_IWUSR|S_IWGRP, NULL, tpm_store_cancel);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#409: FILE: drivers/char/tpm/tpm_infineon.c:332:
+static struct attribute * inf_attrs[] = {

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:CONST_STRUCT: struct file_operations should normally be const
#419: FILE: drivers/char/tpm/tpm_infineon.c:342:
+static struct file_operations inf_ops = {

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#438: FILE: drivers/char/tpm/tpm_infineon.c:361:
+int __init tpm_inf_probe(struct pci_dev *pci_dev, const struct pci_device_id *pci_id) {

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#439: FILE: drivers/char/tpm/tpm_infineon.c:362:
+int __init tpm_inf_probe(struct pci_dev *pci_dev, const struct pci_device_id *pci_id) {
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#450: FILE: drivers/char/tpm/tpm_infineon.c:373:
+^Idev_dbg(&pci_dev->dev,": LPC-Bus found at 0x%x\n",pci_id->device);^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#450: FILE: drivers/char/tpm/tpm_infineon.c:373:
+	dev_dbg(&pci_dev->dev,": LPC-Bus found at 0x%x\n",pci_id->device);	
 	                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#450: FILE: drivers/char/tpm/tpm_infineon.c:373:
+	dev_dbg(&pci_dev->dev,": LPC-Bus found at 0x%x\n",pci_id->device);	
 	                                                 ^

WARNING:SPACING: space prohibited before semicolon
#456: FILE: drivers/char/tpm/tpm_infineon.c:379:
+	vendor[1] = inb(TPM_DATA) ;

WARNING:SPACING: space prohibited before semicolon
#458: FILE: drivers/char/tpm/tpm_infineon.c:381:
+	vendor[0] = inb(TPM_DATA) ;

WARNING:SPACING: space prohibited before semicolon
#460: FILE: drivers/char/tpm/tpm_infineon.c:383:
+	vendor[3] = inb(TPM_DATA) ;

WARNING:SPACING: space prohibited before semicolon
#462: FILE: drivers/char/tpm/tpm_infineon.c:385:
+	vendor[2] = inb(TPM_DATA) ;

WARNING:SPACING: space prohibited before semicolon
#464: FILE: drivers/char/tpm/tpm_infineon.c:387:
+	version[1] = inb(TPM_DATA) ;

WARNING:SPACING: space prohibited before semicolon
#466: FILE: drivers/char/tpm/tpm_infineon.c:389:
+	version[0] = inb(TPM_DATA) ;

WARNING:LONG_LINE: line length of 135 exceeds 100 columns
#468: FILE: drivers/char/tpm/tpm_infineon.c:391:
+	if ((vendor[1] == (TCPA_INFINEON_DEV_VEN_VALUE & 0xFF)) && ((vendor[0] << 8) == (TCPA_INFINEON_DEV_VEN_VALUE & 0x00FF << 8))) {

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#468: FILE: drivers/char/tpm/tpm_infineon.c:391:
+	if ((vendor[1] == (TCPA_INFINEON_DEV_VEN_VALUE & 0xFF)) && ((vendor[0] << 8) == (TCPA_INFINEON_DEV_VEN_VALUE & 0x00FF << 8))) {
[...]
+	    outb(IOLIMH, TPM_ADDR);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#469: FILE: drivers/char/tpm/tpm_infineon.c:392:
+	if ((vendor[1] == (TCPA_INFINEON_DEV_VEN_VALUE & 0xFF)) && ((vendor[0] << 8) == (TCPA_INFINEON_DEV_VEN_VALUE & 0x00FF << 8))) {
+

ERROR:SPACING: space required after that ',' (ctx:VxV)
#473: FILE: drivers/char/tpm/tpm_infineon.c:396:
+	    dev_dbg(&pci_dev->dev,": Current Values in IOLIMH: %02x\n",ioh);
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#473: FILE: drivers/char/tpm/tpm_infineon.c:396:
+	    dev_dbg(&pci_dev->dev,": Current Values in IOLIMH: %02x\n",ioh);
 	                                                              ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#476: FILE: drivers/char/tpm/tpm_infineon.c:399:
+^I    dev_dbg(&pci_dev->dev,": Current Values in IOLIML: %02x\n",iol);^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#476: FILE: drivers/char/tpm/tpm_infineon.c:399:
+	    dev_dbg(&pci_dev->dev,": Current Values in IOLIML: %02x\n",iol);	
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#476: FILE: drivers/char/tpm/tpm_infineon.c:399:
+	    dev_dbg(&pci_dev->dev,": Current Values in IOLIML: %02x\n",iol);	
 	                                                              ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#477: FILE: drivers/char/tpm/tpm_infineon.c:400:
+	    tpm_inf.base = (ioh<<8) | iol;
 	                       ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#478: FILE: drivers/char/tpm/tpm_infineon.c:401:
+^I$

WARNING:TABSTOP: Statements should start on a tabstop
#479: FILE: drivers/char/tpm/tpm_infineon.c:402:
+	    if (tpm_inf.base == 0) {

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (12, 12)
#479: FILE: drivers/char/tpm/tpm_infineon.c:402:
+	    if (tpm_inf.base == 0) {
+	    dev_err(&pci_dev->dev,": No IO-Ports set!\n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#480: FILE: drivers/char/tpm/tpm_infineon.c:403:
+	    dev_err(&pci_dev->dev,": No IO-Ports set!\n");
 	                         ^

WARNING:TABSTOP: Statements should start on a tabstop
#482: FILE: drivers/char/tpm/tpm_infineon.c:405:
+	    return -ENODEV;

WARNING:TABSTOP: Statements should start on a tabstop
#483: FILE: drivers/char/tpm/tpm_infineon.c:406:
+	    }

ERROR:SPACING: space required after that ',' (ctx:VxV)
#486: FILE: drivers/char/tpm/tpm_infineon.c:409:
+	    outb(DAR,TPM_ADDR);
 	            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#487: FILE: drivers/char/tpm/tpm_infineon.c:410:
+	    outb(0x01,TPM_DATA);
 	             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#488: FILE: drivers/char/tpm/tpm_infineon.c:411:
+	    outb(DAR,TPM_ADDR);
 	            ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#489: FILE: drivers/char/tpm/tpm_infineon.c:412:
+	    status = inb (TPM_DATA);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#490: FILE: drivers/char/tpm/tpm_infineon.c:413:
+	    dev_dbg(&pci_dev->dev,": Device Activate Register Status : %x \n",status);
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#490: FILE: drivers/char/tpm/tpm_infineon.c:413:
+	    dev_dbg(&pci_dev->dev,": Device Activate Register Status : %x \n",status);
 	                                                                     ^

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#490: FILE: drivers/char/tpm/tpm_infineon.c:413:
+	    dev_dbg(&pci_dev->dev,": Device Activate Register Status : %x \n",status);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#494: FILE: drivers/char/tpm/tpm_infineon.c:417:
+^I    outb(RESET_LP_IRQC_DISABLE,tpm_inf.base+CMD);^I^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#494: FILE: drivers/char/tpm/tpm_infineon.c:417:
+	    outb(RESET_LP_IRQC_DISABLE,tpm_inf.base+CMD);		
 	                              ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#494: FILE: drivers/char/tpm/tpm_infineon.c:417:
+	    outb(RESET_LP_IRQC_DISABLE,tpm_inf.base+CMD);		
 	                                           ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#495: FILE: drivers/char/tpm/tpm_infineon.c:418:
+	    dev_dbg(&pci_dev->dev,": Disabling Reset, LP and IRQC\n");
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#496: FILE: drivers/char/tpm/tpm_infineon.c:419:
+	    dev_dbg(&pci_dev->dev,": Setting WRFIFO: %04x\n",tpm_inf.base+WRFIFO);
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#496: FILE: drivers/char/tpm/tpm_infineon.c:419:
+	    dev_dbg(&pci_dev->dev,": Setting WRFIFO: %04x\n",tpm_inf.base+WRFIFO);
 	                                                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#496: FILE: drivers/char/tpm/tpm_infineon.c:419:
+	    dev_dbg(&pci_dev->dev,": Setting WRFIFO: %04x\n",tpm_inf.base+WRFIFO);
 	                                                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#497: FILE: drivers/char/tpm/tpm_infineon.c:420:
+	    dev_dbg(&pci_dev->dev,": Setting RDFIFO: %04x\n",tpm_inf.base+RDFIFO);
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#497: FILE: drivers/char/tpm/tpm_infineon.c:420:
+	    dev_dbg(&pci_dev->dev,": Setting RDFIFO: %04x\n",tpm_inf.base+RDFIFO);
 	                                                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#497: FILE: drivers/char/tpm/tpm_infineon.c:420:
+	    dev_dbg(&pci_dev->dev,": Setting RDFIFO: %04x\n",tpm_inf.base+RDFIFO);
 	                                                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#498: FILE: drivers/char/tpm/tpm_infineon.c:421:
+	    dev_dbg(&pci_dev->dev,": Setting STAT  : %04x\n",tpm_inf.base+STAT);
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#498: FILE: drivers/char/tpm/tpm_infineon.c:421:
+	    dev_dbg(&pci_dev->dev,": Setting STAT  : %04x\n",tpm_inf.base+STAT);
 	                                                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#498: FILE: drivers/char/tpm/tpm_infineon.c:421:
+	    dev_dbg(&pci_dev->dev,": Setting STAT  : %04x\n",tpm_inf.base+STAT);
 	                                                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#499: FILE: drivers/char/tpm/tpm_infineon.c:422:
+	    dev_dbg(&pci_dev->dev,": Setting CMD   : %04x\n",tpm_inf.base+CMD);
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#499: FILE: drivers/char/tpm/tpm_infineon.c:422:
+	    dev_dbg(&pci_dev->dev,": Setting CMD   : %04x\n",tpm_inf.base+CMD);
 	                                                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#499: FILE: drivers/char/tpm/tpm_infineon.c:422:
+	    dev_dbg(&pci_dev->dev,": Setting CMD   : %04x\n",tpm_inf.base+CMD);
 	                                                                 ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#501: FILE: drivers/char/tpm/tpm_infineon.c:424:
+^I    /* Finally, we're done, print some infos */^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#502: FILE: drivers/char/tpm/tpm_infineon.c:425:
+	    dev_info(&pci_dev->dev,"************************************************\n");
 	                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#503: FILE: drivers/char/tpm/tpm_infineon.c:426:
+	    dev_info(&pci_dev->dev,"*    TPM found with IO-Base 0x%x             *\n",tpm_inf.base);
 	                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#503: FILE: drivers/char/tpm/tpm_infineon.c:426:
+	    dev_info(&pci_dev->dev,"*    TPM found with IO-Base 0x%x             *\n",tpm_inf.base);
 	                                                                             ^

WARNING:LONG_LINE: line length of 116 exceeds 100 columns
#504: FILE: drivers/char/tpm/tpm_infineon.c:427:
+	    dev_info(&pci_dev->dev,"*    Chip    ID %02x%02x                           *\n",version[0], version[1]);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#504: FILE: drivers/char/tpm/tpm_infineon.c:427:
+	    dev_info(&pci_dev->dev,"*    Chip    ID %02x%02x                           *\n",version[0], version[1]);
 	                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#504: FILE: drivers/char/tpm/tpm_infineon.c:427:
+	    dev_info(&pci_dev->dev,"*    Chip    ID %02x%02x                           *\n",version[0], version[1]);
 	                                                                                   ^

WARNING:LONG_LINE: line length of 110 exceeds 100 columns
#505: FILE: drivers/char/tpm/tpm_infineon.c:428:
+	    dev_info(&pci_dev->dev,"*    Vendor  ID %x%x (Infineon)                *\n",vendor[0], vendor[1]);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#505: FILE: drivers/char/tpm/tpm_infineon.c:428:
+	    dev_info(&pci_dev->dev,"*    Vendor  ID %x%x (Infineon)                *\n",vendor[0], vendor[1]);
 	                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#505: FILE: drivers/char/tpm/tpm_infineon.c:428:
+	    dev_info(&pci_dev->dev,"*    Vendor  ID %x%x (Infineon)                *\n",vendor[0], vendor[1]);
 	                                                                               ^

WARNING:TABSTOP: Statements should start on a tabstop
#506: FILE: drivers/char/tpm/tpm_infineon.c:429:
+	    if ((vendor[2] == 0) && (vendor[3] == 6))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'vendor[2] == 0'
#506: FILE: drivers/char/tpm/tpm_infineon.c:429:
+	    if ((vendor[2] == 0) && (vendor[3] == 6))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'vendor[3] == 6'
#506: FILE: drivers/char/tpm/tpm_infineon.c:429:
+	    if ((vendor[2] == 0) && (vendor[3] == 6))

WARNING:LONG_LINE: line length of 117 exceeds 100 columns
#507: FILE: drivers/char/tpm/tpm_infineon.c:430:
+		dev_info(&pci_dev->dev,"*    Product ID %02x%02x (SLD 9630 TT 1.1)         *\n",vendor[2],vendor[3]);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#507: FILE: drivers/char/tpm/tpm_infineon.c:430:
+		dev_info(&pci_dev->dev,"*    Product ID %02x%02x (SLD 9630 TT 1.1)         *\n",vendor[2],vendor[3]);
 		                      ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#507: FILE: drivers/char/tpm/tpm_infineon.c:430:
+		dev_info(&pci_dev->dev,"*    Product ID %02x%02x (SLD 9630 TT 1.1)         *\n",vendor[2],vendor[3]);
 		                                                                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#507: FILE: drivers/char/tpm/tpm_infineon.c:430:
+		dev_info(&pci_dev->dev,"*    Product ID %02x%02x (SLD 9630 TT 1.1)         *\n",vendor[2],vendor[3]);
 		                                                                                         ^

WARNING:TABSTOP: Statements should start on a tabstop
#508: FILE: drivers/char/tpm/tpm_infineon.c:431:
+	    else

WARNING:LONG_LINE: line length of 117 exceeds 100 columns
#509: FILE: drivers/char/tpm/tpm_infineon.c:432:
+		dev_info(&pci_dev->dev,"*    Product ID %02x%02x                           *\n",vendor[2],vendor[3]);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#509: FILE: drivers/char/tpm/tpm_infineon.c:432:
+		dev_info(&pci_dev->dev,"*    Product ID %02x%02x                           *\n",vendor[2],vendor[3]);
 		                      ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#509: FILE: drivers/char/tpm/tpm_infineon.c:432:
+		dev_info(&pci_dev->dev,"*    Product ID %02x%02x                           *\n",vendor[2],vendor[3]);
 		                                                                               ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#509: FILE: drivers/char/tpm/tpm_infineon.c:432:
+		dev_info(&pci_dev->dev,"*    Product ID %02x%02x                           *\n",vendor[2],vendor[3]);
 		                                                                                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#510: FILE: drivers/char/tpm/tpm_infineon.c:433:
+	    dev_info(&pci_dev->dev,"************************************************\n");
 	                          ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#513: FILE: drivers/char/tpm/tpm_infineon.c:436:
+^I    dev_dbg(&pci_dev->dev,"Registering TPM-Infineon-Driver: %x\n",rc);^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#513: FILE: drivers/char/tpm/tpm_infineon.c:436:
+	    dev_dbg(&pci_dev->dev,"Registering TPM-Infineon-Driver: %x\n",rc);	
 	                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#513: FILE: drivers/char/tpm/tpm_infineon.c:436:
+	    dev_dbg(&pci_dev->dev,"Registering TPM-Infineon-Driver: %x\n",rc);	
 	                                                                 ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#514: FILE: drivers/char/tpm/tpm_infineon.c:437:
+^I    rc = tpm_register_hardware(pci_dev, &tpm_inf);^I$

WARNING:TABSTOP: Statements should start on a tabstop
#515: FILE: drivers/char/tpm/tpm_infineon.c:438:
+	    if (rc < 0) {

WARNING:TABSTOP: Statements should start on a tabstop
#518: FILE: drivers/char/tpm/tpm_infineon.c:441:
+	    }

WARNING:TABSTOP: Statements should start on a tabstop
#519: FILE: drivers/char/tpm/tpm_infineon.c:442:
+	    return 0;

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 12)
#521: FILE: drivers/char/tpm/tpm_infineon.c:444:
+	} else {
+	    dev_err(&pci_dev->dev,": No Infineon TPM found! Sorry! \n");

ERROR:SPACING: space required after that ',' (ctx:VxV)
#522: FILE: drivers/char/tpm/tpm_infineon.c:445:
+	    dev_err(&pci_dev->dev,": No Infineon TPM found! Sorry! \n");
 	                         ^

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#522: FILE: drivers/char/tpm/tpm_infineon.c:445:
+	    dev_err(&pci_dev->dev,": No Infineon TPM found! Sorry! \n");

WARNING:TABSTOP: Statements should start on a tabstop
#524: FILE: drivers/char/tpm/tpm_infineon.c:447:
+	    return -ENODEV;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#525: FILE: drivers/char/tpm/tpm_infineon.c:448:
+    }$

WARNING:HOTPLUG_SECTION: Using __devinitdata is unnecessary
#528: FILE: drivers/char/tpm/tpm_infineon.c:451:
+static struct pci_device_id tpm_pci_tbl [] __devinitdata = {

ERROR:BRACKET_SPACE: space prohibited before open square bracket '['
#528: FILE: drivers/char/tpm/tpm_infineon.c:451:
+static struct pci_device_id tpm_pci_tbl [] __devinitdata = {

Whitespace before opening bracket '[' is prohibited.
There are some exceptions:

1. With a type on the left::

    int [] a;

2. At the beginning of a line for slice initialisers::

    [0...10] = 5,

3. Inside a curly brace::

    = { [0...10] = 5 }

ERROR:CODE_INDENT: code indent should use tabs where possible
#529: FILE: drivers/char/tpm/tpm_infineon.c:452:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801BA_0)},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#529: FILE: drivers/char/tpm/tpm_infineon.c:452:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801BA_0)},$

ERROR:CODE_INDENT: code indent should use tabs where possible
#530: FILE: drivers/char/tpm/tpm_infineon.c:453:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801CA_12)},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#530: FILE: drivers/char/tpm/tpm_infineon.c:453:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801CA_12)},$

ERROR:CODE_INDENT: code indent should use tabs where possible
#531: FILE: drivers/char/tpm/tpm_infineon.c:454:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801DB_0)},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#531: FILE: drivers/char/tpm/tpm_infineon.c:454:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801DB_0)},$

ERROR:CODE_INDENT: code indent should use tabs where possible
#532: FILE: drivers/char/tpm/tpm_infineon.c:455:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801DB_12)},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#532: FILE: drivers/char/tpm/tpm_infineon.c:455:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801DB_12)},$

ERROR:CODE_INDENT: code indent should use tabs where possible
#533: FILE: drivers/char/tpm/tpm_infineon.c:456:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801EB_0)},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#533: FILE: drivers/char/tpm/tpm_infineon.c:456:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_82801EB_0)},$

ERROR:CODE_INDENT: code indent should use tabs where possible
#534: FILE: drivers/char/tpm/tpm_infineon.c:457:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_ICH6_0)},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#534: FILE: drivers/char/tpm/tpm_infineon.c:457:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_ICH6_0)},$

ERROR:CODE_INDENT: code indent should use tabs where possible
#535: FILE: drivers/char/tpm/tpm_infineon.c:458:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_ICH6_1)},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#535: FILE: drivers/char/tpm/tpm_infineon.c:458:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_ICH6_1)},$

ERROR:CODE_INDENT: code indent should use tabs where possible
#536: FILE: drivers/char/tpm/tpm_infineon.c:459:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_ICH6_2)},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#536: FILE: drivers/char/tpm/tpm_infineon.c:459:
+        {PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_ICH6_2)},$

ERROR:CODE_INDENT: code indent should use tabs where possible
#537: FILE: drivers/char/tpm/tpm_infineon.c:460:
+        {0,}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#537: FILE: drivers/char/tpm/tpm_infineon.c:460:
+        {0,}$

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#551: FILE: drivers/char/tpm/tpm_infineon.c:474:
+static int __init init_inf(void) {

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#555: FILE: drivers/char/tpm/tpm_infineon.c:478:
+static void __exit cleanup_inf(void) {

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000170582.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 193 errors, 124 warnings, 33 checks, 511 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000170582.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
