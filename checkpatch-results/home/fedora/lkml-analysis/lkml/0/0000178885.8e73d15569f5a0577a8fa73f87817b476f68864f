ERROR:TRAILING_WHITESPACE: trailing whitespace
#51: FILE: Documentation/DELL_RBU.txt:6:
+This document discusses the functionality of the DELL_RBU driver. $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#53: FILE: Documentation/DELL_RBU.txt:8:
+BIOS on DELL servers and client systems. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#56: FILE: Documentation/DELL_RBU.txt:11:
+The rbu driver is designed to be running on 2.6 kernel. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#58: FILE: Documentation/DELL_RBU.txt:13:
+This driver utilizes the hotplug interface for downloading the BIOS update image $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#60: FILE: Documentation/DELL_RBU.txt:15:
+The BIOS then scans the memory to find the image and will then update itself. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#61: FILE: Documentation/DELL_RBU.txt:16:
+There are basically two different mechanisms for writing the BIOS image in to $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#62: FILE: Documentation/DELL_RBU.txt:17:
+contiguous memory $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#65: FILE: Documentation/DELL_RBU.txt:20:
+The update mechanism is determined by the update application based on the $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#77: FILE: Documentation/DELL_RBU.txt:32:
+1> Copy the image file in to /lib/firmware $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#81: FILE: Documentation/DELL_RBU.txt:36:
+transferred to the memory. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#90: FILE: Documentation/DELL_RBU.txt:45:
+The user should not unload the driver after downloading the new BIOS image  $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#92: FILE: Documentation/DELL_RBU.txt:47:
+The user can overwrite the previously loaded monolithich image by echoing a $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#93: FILE: Documentation/DELL_RBU.txt:48:
+new file name string to /sys/firmware/dell_rbu/monolithic/mono_name. Make sure $

WARNING:TYPO_SPELLING: 'alocation' may be misspelled - perhaps 'allocation'?
#95: FILE: Documentation/DELL_RBU.txt:50:
+previous image then the previous image is freed and the new alocation is made. 
                                                             ^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#95: FILE: Documentation/DELL_RBU.txt:50:
+previous image then the previous image is freed and the new alocation is made. $

WARNING:TYPO_SPELLING: 'contiuguous' may be misspelled - perhaps 'contiguous'?
#102: FILE: Documentation/DELL_RBU.txt:57:
+to get that size of contiuguous chunk of avaliable physical pages as in most 
                     ^^^^^^^^^^^

WARNING:TYPO_SPELLING: 'avaliable' may be misspelled - perhaps 'available'?
#102: FILE: Documentation/DELL_RBU.txt:57:
+to get that size of contiuguous chunk of avaliable physical pages as in most 
                                          ^^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#102: FILE: Documentation/DELL_RBU.txt:57:
+to get that size of contiuguous chunk of avaliable physical pages as in most $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#104: FILE: Documentation/DELL_RBU.txt:59:
+The update using smaller chunks fixes this issue; it also requires the BIOS on $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#105: FILE: Documentation/DELL_RBU.txt:60:
+the system to support this feature; the update application needs to query this $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#106: FILE: Documentation/DELL_RBU.txt:61:
+with the BIOS on the system before using this technique. $

WARNING:TYPO_SPELLING: 'appplication' may be misspelled - perhaps 'application'?
#110: FILE: Documentation/DELL_RBU.txt:65:
+Afte updating the BIOS image the appplication needs to communicate with the BIOS 
                                  ^^^^^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#110: FILE: Documentation/DELL_RBU.txt:65:
+Afte updating the BIOS image the appplication needs to communicate with the BIOS $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#111: FILE: Documentation/DELL_RBU.txt:66:
+for enabling the update on the next reboot. The application can then choose to $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#112: FILE: Documentation/DELL_RBU.txt:67:
+reboot the system imideately or not reboot the system and leave up to the user $

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#120: FILE: drivers/firmware/dell_rbu.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

ERROR:TRAILING_WHITESPACE: trailing whitespace
#128: FILE: drivers/firmware/dell_rbu.c:9:
+ * Remote BIOS Update (rbu) driver is used for updating DELL BIOS by creating $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#131: FILE: drivers/firmware/dell_rbu.c:12:
+ * The driver supports two mechanism to update the BIOS namely contiguous and $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#135: FILE: drivers/firmware/dell_rbu.c:16:
+ * the image file. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#138: FILE: drivers/firmware/dell_rbu.c:19:
+ * This driver writes the incoming data in a monolithic image by allocating $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#139: FILE: drivers/firmware/dell_rbu.c:20:
+ * contiguous physical pages large enough to accommodate the incoming BIOS image $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#140: FILE: drivers/firmware/dell_rbu.c:21:
+ * size.  $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#143: FILE: drivers/firmware/dell_rbu.c:24:
+ * The driver writes the incoming packet image by allocating a new packet on $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#144: FILE: drivers/firmware/dell_rbu.c:25:
+ * every time the packet image name is written. $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#145: FILE: drivers/firmware/dell_rbu.c:26:
+ * This driver requires an application to break the BIOS image in to fixed sized $

ERROR:CODE_INDENT: code indent should use tabs where possible
#179: FILE: drivers/firmware/dell_rbu.c:60:
+        void *image_update_buffer;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#179: FILE: drivers/firmware/dell_rbu.c:60:
+        void *image_update_buffer;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#180: FILE: drivers/firmware/dell_rbu.c:61:
+        unsigned long image_update_buffer_size;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#180: FILE: drivers/firmware/dell_rbu.c:61:
+        unsigned long image_update_buffer_size;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#181: FILE: drivers/firmware/dell_rbu.c:62:
+        unsigned long bios_image_size;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#181: FILE: drivers/firmware/dell_rbu.c:62:
+        unsigned long bios_image_size;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#182: FILE: drivers/firmware/dell_rbu.c:63:
+        unsigned long image_update_order_number;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#182: FILE: drivers/firmware/dell_rbu.c:63:
+        unsigned long image_update_order_number;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#183: FILE: drivers/firmware/dell_rbu.c:64:
+        spinlock_t lock;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#183: FILE: drivers/firmware/dell_rbu.c:64:
+        spinlock_t lock;$

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#183: FILE: drivers/firmware/dell_rbu.c:64:
+        spinlock_t lock;

ERROR:CODE_INDENT: code indent should use tabs where possible
#184: FILE: drivers/firmware/dell_rbu.c:65:
+        unsigned long packet_read_count;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#184: FILE: drivers/firmware/dell_rbu.c:65:
+        unsigned long packet_read_count;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#185: FILE: drivers/firmware/dell_rbu.c:66:
+        unsigned long packet_write_count;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#185: FILE: drivers/firmware/dell_rbu.c:66:
+        unsigned long packet_write_count;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#186: FILE: drivers/firmware/dell_rbu.c:67:
+        unsigned long num_packets;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#186: FILE: drivers/firmware/dell_rbu.c:67:
+        unsigned long num_packets;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#187: FILE: drivers/firmware/dell_rbu.c:68:
+        unsigned long packetsize;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#187: FILE: drivers/firmware/dell_rbu.c:68:
+        unsigned long packetsize;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#188: FILE: drivers/firmware/dell_rbu.c:69:
+        char mono_image[256];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#188: FILE: drivers/firmware/dell_rbu.c:69:
+        char mono_image[256];$

ERROR:CODE_INDENT: code indent should use tabs where possible
#189: FILE: drivers/firmware/dell_rbu.c:70:
+        char packet_image[256];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#189: FILE: drivers/firmware/dell_rbu.c:70:
+        char packet_image[256];$

WARNING:SPACING: missing space after struct definition
#192: FILE: drivers/firmware/dell_rbu.c:73:
+struct packet_data{

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'fill_last_packet', this function's name, in a string
#227: FILE: drivers/firmware/dell_rbu.c:108:
+	pr_debug("fill_last_packet: entry \n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#227: FILE: drivers/firmware/dell_rbu.c:108:
+	pr_debug("fill_last_packet: entry \n");

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#230: FILE: drivers/firmware/dell_rbu.c:111:
+	if (0 == rbu_data.num_packets) {

Comparisons with a constant or upper case identifier on the left
side of the test should be avoided.

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'fill_last_packet', this function's name, in a string
#231: FILE: drivers/firmware/dell_rbu.c:112:
+		pr_debug("fill_last_packet: num_packets=0\n");

ERROR:SPACING: space required before the open parenthesis '('
#239: FILE: drivers/firmware/dell_rbu.c:120:
+	while(--packet_count) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#239: FILE: drivers/firmware/dell_rbu.c:120:
+	while(--packet_count) {
+		ptemp_list = ptemp_list->next;
+	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#243: FILE: drivers/firmware/dell_rbu.c:124:
+	ppacket = list_entry(ptemp_list,struct packet_data, list);
 	                               ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#246: FILE: drivers/firmware/dell_rbu.c:127:
+		printk(KERN_WARNING "fill_last_packet: packet size data "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'fill_last_packet', this function's name, in a string
#246: FILE: drivers/firmware/dell_rbu.c:127:
+		printk(KERN_WARNING "fill_last_packet: packet size data "

WARNING:SPLIT_STRING: quoted string split across lines
#247: FILE: drivers/firmware/dell_rbu.c:128:
+		printk(KERN_WARNING "fill_last_packet: packet size data "
+			"overrun\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'fill_last_packet', this function's name, in a string
#251: FILE: drivers/firmware/dell_rbu.c:132:
+	pr_debug("fill_last_packet : buffer = %p\n", ppacket->data);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#255: FILE: drivers/firmware/dell_rbu.c:136:
+	memcpy((ppacket->data + rbu_data.packet_write_count),
+			data, length);

CHECK:BRACES: braces {} should be used on all arms of this statement
#257: FILE: drivers/firmware/dell_rbu.c:138:
+	if ((rbu_data.packet_write_count + length) == rbu_data.packetsize) {
[...]
+	} else
[...]

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#259: FILE: drivers/firmware/dell_rbu.c:140:
+		/*
+		 this was the last data chunk in the packet

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

CHECK:BRACES: Unbalanced braces around else statement
#263: FILE: drivers/firmware/dell_rbu.c:144:
+	} else

ERROR:TRAILING_WHITESPACE: trailing whitespace
#265: FILE: drivers/firmware/dell_rbu.c:146:
+^I$

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'fill_last_packet', this function's name, in a string
#266: FILE: drivers/firmware/dell_rbu.c:147:
+	pr_debug("fill_last_packet: exit \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#266: FILE: drivers/firmware/dell_rbu.c:147:
+	pr_debug("fill_last_packet: exit \n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#271: FILE: drivers/firmware/dell_rbu.c:152:
+/*
+ get_free_pages_limited:

ERROR:CODE_INDENT: code indent should use tabs where possible
#281: FILE: drivers/firmware/dell_rbu.c:162:
+                                    int *ordernum,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#281: FILE: drivers/firmware/dell_rbu.c:162:
+                                    int *ordernum,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#282: FILE: drivers/firmware/dell_rbu.c:163:
+                                    unsigned long limit)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#282: FILE: drivers/firmware/dell_rbu.c:163:
+                                    unsigned long limit)$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#289: FILE: drivers/firmware/dell_rbu.c:170:
+	/*
+	 Check if we are not getting a very large file.

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'get_free_pages_limited', this function's name, in a string
#293: FILE: drivers/firmware/dell_rbu.c:174:
+		pr_debug("get_free_pages_limited: Incoming size is"

WARNING:SPLIT_STRING: quoted string split across lines
#294: FILE: drivers/firmware/dell_rbu.c:175:
+		pr_debug("get_free_pages_limited: Incoming size is"
+			" very large\n");

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#299: FILE: drivers/firmware/dell_rbu.c:180:
+	pbuf =(unsigned char *)__get_free_pages(GFP_KERNEL, *ordernum);
 	     ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "pbuf"
#301: FILE: drivers/firmware/dell_rbu.c:182:
+	if (pbuf != NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'limit != 0'
#305: FILE: drivers/firmware/dell_rbu.c:186:
+		if ((limit != 0) && ((img_buf_phys_addr + size) > limit)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:SPLIT_STRING: quoted string split across lines
#307: FILE: drivers/firmware/dell_rbu.c:188:
+			pr_debug("Got memory above 4GB range, free this "
+				"and try with DMA memory\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#309: FILE: drivers/firmware/dell_rbu.c:190:
+^I^I^I  free this memory as we need it with in $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#309: FILE: drivers/firmware/dell_rbu.c:190:
+			/*
+			  free this memory as we need it with in 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#310: FILE: drivers/firmware/dell_rbu.c:191:
+^I^I^I 4GB range $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#312: FILE: drivers/firmware/dell_rbu.c:193:
+			free_pages ((unsigned long)pbuf, *ordernum);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#314: FILE: drivers/firmware/dell_rbu.c:195:
+^I^I^I Try allocating a new buffer from the $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#314: FILE: drivers/firmware/dell_rbu.c:195:
+			/*
+			 Try allocating a new buffer from the 

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#317: FILE: drivers/firmware/dell_rbu.c:198:
+			pbuf =(unsigned char *)__get_free_pages(GFP_DMA,
 			     ^

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!pbuf"
#319: FILE: drivers/firmware/dell_rbu.c:200:
+			if (pbuf == NULL)

WARNING:SPLIT_STRING: quoted string split across lines
#321: FILE: drivers/firmware/dell_rbu.c:202:
+				pr_debug("Failed to get memory "
+					"of size %ld "

WARNING:SPLIT_STRING: quoted string split across lines
#322: FILE: drivers/firmware/dell_rbu.c:203:
+					"of size %ld "
+					"using GFP_DMA\n", size);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_packet', this function's name, in a string
#333: FILE: drivers/firmware/dell_rbu.c:214:
+	pr_debug("create_packet: entry \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#333: FILE: drivers/firmware/dell_rbu.c:214:
+	pr_debug("create_packet: entry \n");

ERROR:SPACING: space prohibited before that close parenthesis ')'
#335: FILE: drivers/firmware/dell_rbu.c:216:
+	if (rbu_data.packetsize == 0 ) {

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_packet', this function's name, in a string
#336: FILE: drivers/firmware/dell_rbu.c:217:
+		pr_debug("create_packet: packetsize not specified\n");

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#340: FILE: drivers/firmware/dell_rbu.c:221:
+	newpacket = kmalloc(sizeof(struct packet_data) ,GFP_KERNEL);
 	                                               ^

ERROR:SPACING: space required after that ',' (ctx:WxV)
#340: FILE: drivers/firmware/dell_rbu.c:221:
+	newpacket = kmalloc(sizeof(struct packet_data) ,GFP_KERNEL);
 	                                               ^

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*newpacket)...) over kmalloc(sizeof(struct packet_data)...)
#340: FILE: drivers/firmware/dell_rbu.c:221:
+	newpacket = kmalloc(sizeof(struct packet_data) ,GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:SPACING: space required before the open parenthesis '('
#341: FILE: drivers/firmware/dell_rbu.c:222:
+	if(newpacket == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!newpacket"
#341: FILE: drivers/firmware/dell_rbu.c:222:
+	if(newpacket == NULL) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#342: FILE: drivers/firmware/dell_rbu.c:223:
+		printk(KERN_WARNING "create_packet: failed to allocate new "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_packet', this function's name, in a string
#342: FILE: drivers/firmware/dell_rbu.c:223:
+		printk(KERN_WARNING "create_packet: failed to allocate new "

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#342: FILE: drivers/firmware/dell_rbu.c:223:
+	if(newpacket == NULL) {
+		printk(KERN_WARNING "create_packet: failed to allocate new "

WARNING:SPLIT_STRING: quoted string split across lines
#343: FILE: drivers/firmware/dell_rbu.c:224:
+		printk(KERN_WARNING "create_packet: failed to allocate new "
+			"packet\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#349: FILE: drivers/firmware/dell_rbu.c:230:
+	newpacket->data = get_free_pages_limited(rbu_data.packetsize,
+							&ordernum, 0);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_packet', this function's name, in a string
#350: FILE: drivers/firmware/dell_rbu.c:231:
+	pr_debug("create_packet: newpacket %p\n", newpacket->data);

ERROR:SPACING: space required before the open parenthesis '('
#352: FILE: drivers/firmware/dell_rbu.c:233:
+	if(newpacket->data == NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!newpacket->data"
#352: FILE: drivers/firmware/dell_rbu.c:233:
+	if(newpacket->data == NULL) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#353: FILE: drivers/firmware/dell_rbu.c:234:
+		printk(KERN_WARNING "create_packet: failed to allocate new "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_packet', this function's name, in a string
#353: FILE: drivers/firmware/dell_rbu.c:234:
+		printk(KERN_WARNING "create_packet: failed to allocate new "

WARNING:SPLIT_STRING: quoted string split across lines
#354: FILE: drivers/firmware/dell_rbu.c:235:
+		printk(KERN_WARNING "create_packet: failed to allocate new "
+			"packet\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_packet', this function's name, in a string
#367: FILE: drivers/firmware/dell_rbu.c:248:
+	pr_debug("create_packet: exit \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#367: FILE: drivers/firmware/dell_rbu.c:248:
+	pr_debug("create_packet: exit \n");

ERROR:SPACING: space prohibited before that close parenthesis ')'
#377: FILE: drivers/firmware/dell_rbu.c:258:
+		if ((rc = create_packet(length)) != 0 )

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#377: FILE: drivers/firmware/dell_rbu.c:258:
+		if ((rc = create_packet(length)) != 0 )

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#381: FILE: drivers/firmware/dell_rbu.c:262:
+	if ((rc = fill_last_packet(data, length)) != 0)

ERROR:SPACING: space required before the open parenthesis '('
#394: FILE: drivers/firmware/dell_rbu.c:275:
+	while(!list_empty(ptemp_list)) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#400: FILE: drivers/firmware/dell_rbu.c:281:
+		/*
+		 zero out the RBU packet memory before freeing to make sure

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#414: FILE: drivers/firmware/dell_rbu.c:295:
+/*
+ img_update_free:

ERROR:SPACING: space prohibited after that open parenthesis '('
#418: FILE: drivers/firmware/dell_rbu.c:299:
+static void img_update_free( void)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rbu_data.image_update_buffer"
#420: FILE: drivers/firmware/dell_rbu.c:301:
+	if (rbu_data.image_update_buffer == NULL)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#423: FILE: drivers/firmware/dell_rbu.c:304:
+	/*
+	 zero out this buffer before freeing it to get rid of any stale

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#427: FILE: drivers/firmware/dell_rbu.c:308:
+	memset(rbu_data.image_update_buffer, 0,
+		rbu_data.image_update_buffer_size);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#429: FILE: drivers/firmware/dell_rbu.c:310:
+	free_pages((unsigned long)rbu_data.image_update_buffer,
+		rbu_data.image_update_order_number);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#437: FILE: drivers/firmware/dell_rbu.c:318:
+/*
+ img_update_realloc:

ERROR:TRAILING_WHITESPACE: trailing whitespace
#442: FILE: drivers/firmware/dell_rbu.c:323:
+ freed and new allocation is done to accommodate the new size. If the $

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#451: FILE: drivers/firmware/dell_rbu.c:332:
+	int ordernum =0;
 	             ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'size != 0'
#456: FILE: drivers/firmware/dell_rbu.c:337:
+		if ((size != 0) && (rbu_data.image_update_buffer == NULL)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'rbu_data.image_update_buffer == NULL'
#456: FILE: drivers/firmware/dell_rbu.c:337:
+		if ((size != 0) && (rbu_data.image_update_buffer == NULL)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rbu_data.image_update_buffer"
#456: FILE: drivers/firmware/dell_rbu.c:337:
+		if ((size != 0) && (rbu_data.image_update_buffer == NULL)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#457: FILE: drivers/firmware/dell_rbu.c:338:
+			printk(KERN_ERR "img_update_realloc: "

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'img_update_realloc', this function's name, in a string
#457: FILE: drivers/firmware/dell_rbu.c:338:
+			printk(KERN_ERR "img_update_realloc: "

WARNING:SPLIT_STRING: quoted string split across lines
#458: FILE: drivers/firmware/dell_rbu.c:339:
+			printk(KERN_ERR "img_update_realloc: "
+				"corruption check failed\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#467: FILE: drivers/firmware/dell_rbu.c:348:
+^I$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#469: FILE: drivers/firmware/dell_rbu.c:350:
+	/*
+	 This has already been called as locked so we can now unlock

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "image_update_buffer"
#482: FILE: drivers/firmware/dell_rbu.c:363:
+	if (image_update_buffer != NULL) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#486: FILE: drivers/firmware/dell_rbu.c:367:
+		memset(rbu_data.image_update_buffer,0,
 		                                   ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#487: FILE: drivers/firmware/dell_rbu.c:368:
+		memset(rbu_data.image_update_buffer,0,
+			rbu_data.image_update_buffer_size);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#491: FILE: drivers/firmware/dell_rbu.c:372:
+			" number = %d,size = %ld\n",ordernum, size);
 			                           ^

WARNING:SPLIT_STRING: quoted string split across lines
#491: FILE: drivers/firmware/dell_rbu.c:372:
+		pr_debug("Not enough memory for image update:order"
+			" number = %d,size = %ld\n",ordernum, size);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#499: FILE: drivers/firmware/dell_rbu.c:380:
+/*
+ rbu_store_image_size:

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#502: FILE: drivers/firmware/dell_rbu.c:383:
+static ssize_t rbu_store_image_size (struct rbu_download_device *rbu_dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#503: FILE: drivers/firmware/dell_rbu.c:384:
+static ssize_t rbu_store_image_size (struct rbu_download_device *rbu_dev,
+		const char *buf, size_t count, int type)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#506: FILE: drivers/firmware/dell_rbu.c:387:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#507: FILE: drivers/firmware/dell_rbu.c:388:
+^Isscanf(buf, "%d",&size);^I$

ERROR:SPACING: space required after that ',' (ctx:VxO)
#507: FILE: drivers/firmware/dell_rbu.c:388:
+	sscanf(buf, "%d",&size);	
 	                ^

ERROR:SPACING: space required before that '&' (ctx:OxV)
#507: FILE: drivers/firmware/dell_rbu.c:388:
+	sscanf(buf, "%d",&size);	
 	                 ^

WARNING:NAKED_SSCANF: unchecked sscanf return value
#507: FILE: drivers/firmware/dell_rbu.c:388:
+	sscanf(buf, "%d",&size);	

WARNING:SSCANF_TO_KSTRTO: Prefer kstrto<type> to single variable sscanf
#507: FILE: drivers/firmware/dell_rbu.c:388:
+	sscanf(buf, "%d",&size);	

ERROR:SPACING: space prohibited before that close parenthesis ')'
#512: FILE: drivers/firmware/dell_rbu.c:393:
+	if (type == MONOLITHIC )

ERROR:TRAILING_WHITESPACE: trailing whitespace
#514: FILE: drivers/firmware/dell_rbu.c:395:
+^Ielse $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#518: FILE: drivers/firmware/dell_rbu.c:399:
+^Ireturn count; $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#521: FILE: drivers/firmware/dell_rbu.c:402:
+static ssize_t rbu_show_image_size (struct rbu_download_device *rbu_dev, $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#521: FILE: drivers/firmware/dell_rbu.c:402:
+static ssize_t rbu_show_image_size (struct rbu_download_device *rbu_dev, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#522: FILE: drivers/firmware/dell_rbu.c:403:
+static ssize_t rbu_show_image_size (struct rbu_download_device *rbu_dev, 
+		char *buf, int type)

WARNING:LINE_SPACING: Missing a blank line after declarations
#525: FILE: drivers/firmware/dell_rbu.c:406:
+	unsigned int size = 0;
+	if ( type == MONOLITHIC )

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited after that open parenthesis '('
#525: FILE: drivers/firmware/dell_rbu.c:406:
+	if ( type == MONOLITHIC )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#525: FILE: drivers/firmware/dell_rbu.c:406:
+	if ( type == MONOLITHIC )

ERROR:TRAILING_WHITESPACE: trailing whitespace
#532: FILE: drivers/firmware/dell_rbu.c:413:
+static ssize_t rbu_show_image_name (struct rbu_download_device *rbu_dev, $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#532: FILE: drivers/firmware/dell_rbu.c:413:
+static ssize_t rbu_show_image_name (struct rbu_download_device *rbu_dev, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#533: FILE: drivers/firmware/dell_rbu.c:414:
+static ssize_t rbu_show_image_name (struct rbu_download_device *rbu_dev, 
+		char *buf, int type)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#537: FILE: drivers/firmware/dell_rbu.c:418:
+        $

ERROR:CODE_INDENT: code indent should use tabs where possible
#537: FILE: drivers/firmware/dell_rbu.c:418:
+        $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#537: FILE: drivers/firmware/dell_rbu.c:418:
+        $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#538: FILE: drivers/firmware/dell_rbu.c:419:
+^Iif (type == MONOLITHIC ) $

ERROR:SPACING: space prohibited before that close parenthesis ')'
#538: FILE: drivers/firmware/dell_rbu.c:419:
+	if (type == MONOLITHIC ) 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#546: FILE: drivers/firmware/dell_rbu.c:427:
+static ssize_t rbu_store_image_name (struct rbu_download_device *rbu_dev, $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#546: FILE: drivers/firmware/dell_rbu.c:427:
+static ssize_t rbu_store_image_name (struct rbu_download_device *rbu_dev, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#547: FILE: drivers/firmware/dell_rbu.c:428:
+static ssize_t rbu_store_image_name (struct rbu_download_device *rbu_dev, 
+		const char *buf, size_t count, int type)

ERROR:SPACING: space prohibited before that close parenthesis ')'
#555: FILE: drivers/firmware/dell_rbu.c:436:
+	if (strlen(buf) >= 256 ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#560: FILE: drivers/firmware/dell_rbu.c:441:
+	if (type == MONOLITHIC ) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#561: FILE: drivers/firmware/dell_rbu.c:442:
+		sscanf(buf, "%s",rbu_data.mono_image);
 		                ^

WARNING:NAKED_SSCANF: unchecked sscanf return value
#561: FILE: drivers/firmware/dell_rbu.c:442:
+		sscanf(buf, "%s",rbu_data.mono_image);

ERROR:SPACING: space required after that ',' (ctx:VxV)
#564: FILE: drivers/firmware/dell_rbu.c:445:
+		sscanf(buf, "%s",rbu_data.packet_image);
 		                ^

WARNING:NAKED_SSCANF: unchecked sscanf return value
#564: FILE: drivers/firmware/dell_rbu.c:445:
+		sscanf(buf, "%s",rbu_data.packet_image);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#568: FILE: drivers/firmware/dell_rbu.c:449:
+^Ispin_unlock(&rbu_data.lock);^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#571: FILE: drivers/firmware/dell_rbu.c:452:
+	rc = request_firmware(&fw_entry, image_name,
+		&rbu_device);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#573: FILE: drivers/firmware/dell_rbu.c:454:
+^I^Iprintk(KERN_ERR "rbu_store_image_name: " $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#573: FILE: drivers/firmware/dell_rbu.c:454:
+		printk(KERN_ERR "rbu_store_image_name: " 

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'rbu_store_image_name', this function's name, in a string
#573: FILE: drivers/firmware/dell_rbu.c:454:
+		printk(KERN_ERR "rbu_store_image_name: " 

WARNING:SPLIT_STRING: quoted string split across lines
#574: FILE: drivers/firmware/dell_rbu.c:455:
+		printk(KERN_ERR "rbu_store_image_name: " 
+			"Firmware not available %d\n", rc);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#577: FILE: drivers/firmware/dell_rbu.c:458:
+^I^I$

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'rbu_store_image_name', this function's name, in a string
#578: FILE: drivers/firmware/dell_rbu.c:459:
+	pr_debug("rbu_store_image_name: request_firmware is successful "

WARNING:SPLIT_STRING: quoted string split across lines
#579: FILE: drivers/firmware/dell_rbu.c:460:
+	pr_debug("rbu_store_image_name: request_firmware is successful "
+		"fw->size = %lu\n", fw_entry->size);

ERROR:SPACING: space prohibited before that close parenthesis ')'
#582: FILE: drivers/firmware/dell_rbu.c:463:
+	if (type == MONOLITHIC ) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#584: FILE: drivers/firmware/dell_rbu.c:465:
+		if (fw_entry->size == 0 )

CHECK:BRACES: braces {} should be used on all arms of this statement
#584: FILE: drivers/firmware/dell_rbu.c:465:
+		if (fw_entry->size == 0 )
[...]
+		else {	
[...]

ERROR:TRAILING_WHITESPACE: trailing whitespace
#586: FILE: drivers/firmware/dell_rbu.c:467:
+^I^Ielse {^I$

CHECK:BRACES: Unbalanced braces around else statement
#586: FILE: drivers/firmware/dell_rbu.c:467:
+		else {	

ERROR:TRAILING_WHITESPACE: trailing whitespace
#589: FILE: drivers/firmware/dell_rbu.c:470:
+^I^I^I^I^Imemcpy(rbu_data.image_update_buffer, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#590: FILE: drivers/firmware/dell_rbu.c:471:
+^I^I^I^I^I^Ifw_entry->data, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#590: FILE: drivers/firmware/dell_rbu.c:471:
+					memcpy(rbu_data.image_update_buffer, 
+						fw_entry->data, 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#596: FILE: drivers/firmware/dell_rbu.c:477:
+^I^I/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#597: FILE: drivers/firmware/dell_rbu.c:478:
+^I^I  if a new packet is entered free all previsou $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#597: FILE: drivers/firmware/dell_rbu.c:478:
+		/* 
+		  if a new packet is entered free all previsou 

ERROR:SPACING: space prohibited after that open parenthesis '('
#600: FILE: drivers/firmware/dell_rbu.c:481:
+		if ( rbu_data.packetsize != fw_entry->size )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#600: FILE: drivers/firmware/dell_rbu.c:481:
+		if ( rbu_data.packetsize != fw_entry->size )

ERROR:SPACING: space prohibited after that open parenthesis '('
#605: FILE: drivers/firmware/dell_rbu.c:486:
+		if ( rc == 0 )

ERROR:SPACING: space prohibited before that close parenthesis ')'
#605: FILE: drivers/firmware/dell_rbu.c:486:
+		if ( rc == 0 )

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#615: FILE: drivers/firmware/dell_rbu.c:496:
+static struct attribute * def_attrs[] = { NULL, };

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: Unnecessary space before function pointer arguments
#619: FILE: drivers/firmware/dell_rbu.c:500:
+	ssize_t (*show) (struct rbu_download_device *rbu_dev,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#620: FILE: drivers/firmware/dell_rbu.c:501:
+	ssize_t (*show) (struct rbu_download_device *rbu_dev,
+			char *buf, int type);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#621: FILE: drivers/firmware/dell_rbu.c:502:
+^Issize_t (*store)(struct rbu_download_device *rbu_dev, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#622: FILE: drivers/firmware/dell_rbu.c:503:
+	ssize_t (*store)(struct rbu_download_device *rbu_dev, 
+			const char *buf , size_t count, int type);

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#622: FILE: drivers/firmware/dell_rbu.c:503:
+			const char *buf , size_t count, int type);
 			                ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#626: FILE: drivers/firmware/dell_rbu.c:507:
+#define RBU_DEVICE_ATTR(_name,_mode,_show,_store, _type) \
                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#626: FILE: drivers/firmware/dell_rbu.c:507:
+#define RBU_DEVICE_ATTR(_name,_mode,_show,_store, _type) \
                                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#626: FILE: drivers/firmware/dell_rbu.c:507:
+#define RBU_DEVICE_ATTR(_name,_mode,_show,_store, _type) \
                                          ^

WARNING:TRAILING_SEMICOLON: macros should not use a trailing semicolon
#626: FILE: drivers/firmware/dell_rbu.c:507:
+#define RBU_DEVICE_ATTR(_name,_mode,_show,_store, _type) \
+struct rbu_attribute rbu_attr_##_name = {       \
+	.attr ={.name= __stringify(_name), .mode= _mode, .owner= THIS_MODULE},\
+	.show = _show,                                \
+	.store = _store,                                \
+	.type = _type,	 \
+};

Macro definition should not end with a semicolon. The macro
invocation style should be consistent with function calls.
This can prevent any unexpected code paths::

  #define MAC do_something;

If this macro is used within a if else statement, like::

  if (some_condition)
          MAC;

  else
          do_something;

Then there would be a compilation error, because when the macro is
expanded there are two trailing semicolons, so the else branch gets
orphaned.

See: https://lore.kernel.org/lkml/1399671106.2912.21.camel@joe-AO725/

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#628: FILE: drivers/firmware/dell_rbu.c:509:
+	.attr ={.name= __stringify(_name), .mode= _mode, .owner= THIS_MODULE},\
 	      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#628: FILE: drivers/firmware/dell_rbu.c:509:
+	.attr ={.name= __stringify(_name), .mode= _mode, .owner= THIS_MODULE},\
 	             ^

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#628: FILE: drivers/firmware/dell_rbu.c:509:
+	.attr ={.name= __stringify(_name), .mode= _mode, .owner= THIS_MODULE},\
 	                                        ^

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#628: FILE: drivers/firmware/dell_rbu.c:509:
+	.attr ={.name= __stringify(_name), .mode= _mode, .owner= THIS_MODULE},\
 	                                                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#634: FILE: drivers/firmware/dell_rbu.c:515:
+#define to_rbu_attr(_attr) container_of(_attr,struct rbu_attribute,attr)
                                              ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#634: FILE: drivers/firmware/dell_rbu.c:515:
+#define to_rbu_attr(_attr) container_of(_attr,struct rbu_attribute,attr)
                                                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#636: FILE: drivers/firmware/dell_rbu.c:517:
+	container_of(obj,struct rbu_download_device,kobj)
 	                ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#636: FILE: drivers/firmware/dell_rbu.c:517:
+	container_of(obj,struct rbu_download_device,kobj)
 	                                           ^

CHECK:LINE_SPACING: Please don't use multiple blank lines
#638: FILE: drivers/firmware/dell_rbu.c:519:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#639: FILE: drivers/firmware/dell_rbu.c:520:
+static RBU_DEVICE_ATTR(mono_name, 0644, rbu_show_image_name, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#642: FILE: drivers/firmware/dell_rbu.c:523:
+static RBU_DEVICE_ATTR(mono_size, 0644, rbu_show_image_size, $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#651: FILE: drivers/firmware/dell_rbu.c:532:
+static  ssize_t rbu_attr_store (struct kobject *kobj,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#653: FILE: drivers/firmware/dell_rbu.c:534:
+^I^I^I^Iconst char *buf, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#654: FILE: drivers/firmware/dell_rbu.c:535:
+^I^I^I^Isize_t count) $

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'rbu_attr_store', this function's name, in a string
#660: FILE: drivers/firmware/dell_rbu.c:541:
+	pr_debug("rbu_attr_store: entry type = %d\n", rbu_attr->type);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#661: FILE: drivers/firmware/dell_rbu.c:542:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#667: FILE: drivers/firmware/dell_rbu.c:548:
+static ssize_t rbu_attr_show (struct kobject * kobj, $

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#667: FILE: drivers/firmware/dell_rbu.c:548:
+static ssize_t rbu_attr_show (struct kobject * kobj, 

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#667: FILE: drivers/firmware/dell_rbu.c:548:
+static ssize_t rbu_attr_show (struct kobject * kobj, 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#668: FILE: drivers/firmware/dell_rbu.c:549:
+^I^I^I      struct attribute *attr, $

WARNING:LINE_SPACING: Missing a blank line after declarations
#674: FILE: drivers/firmware/dell_rbu.c:555:
+	ssize_t rc = 0;
+	pr_debug("rbu_attr_show: entry type = %d\n", rbu_attr->type);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'rbu_attr_show', this function's name, in a string
#674: FILE: drivers/firmware/dell_rbu.c:555:
+	pr_debug("rbu_attr_show: entry type = %d\n", rbu_attr->type);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#680: FILE: drivers/firmware/dell_rbu.c:561:
+static struct sysfs_ops rbu_attr_ops = { $

WARNING:CONST_STRUCT: struct sysfs_ops should normally be const
#680: FILE: drivers/firmware/dell_rbu.c:561:
+static struct sysfs_ops rbu_attr_ops = { 

Using const is generally a good idea.  Checkpatch reads
a list of frequently used structs that are always or
almost always constant.

The existing structs list can be viewed from
`scripts/const_structs.checkpatch`.

See: https://lore.kernel.org/lkml/alpine.DEB.2.10.1608281509480.3321@hadrien/

ERROR:TRAILING_WHITESPACE: trailing whitespace
#685: FILE: drivers/firmware/dell_rbu.c:566:
+static struct kobj_type ktype_dell_rbu = { $

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#689: FILE: drivers/firmware/dell_rbu.c:570:
+};
+static decl_subsys(dell_rbu,&ktype_dell_rbu,NULL);

ERROR:SPACING: space required after that ',' (ctx:VxO)
#689: FILE: drivers/firmware/dell_rbu.c:570:
+static decl_subsys(dell_rbu,&ktype_dell_rbu,NULL);
                            ^

ERROR:SPACING: space required before that '&' (ctx:OxV)
#689: FILE: drivers/firmware/dell_rbu.c:570:
+static decl_subsys(dell_rbu,&ktype_dell_rbu,NULL);
                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#689: FILE: drivers/firmware/dell_rbu.c:570:
+static decl_subsys(dell_rbu,&ktype_dell_rbu,NULL);
                                            ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#691: FILE: drivers/firmware/dell_rbu.c:572:
+static int rbu_download_device_register(struct rbu_download_device *rbu_dev, $

WARNING:LINE_SPACING: Missing a blank line after declarations
#695: FILE: drivers/firmware/dell_rbu.c:576:
+	int rc = 0;
+	if (!rbu_dev)

ERROR:CODE_INDENT: code indent should use tabs where possible
#697: FILE: drivers/firmware/dell_rbu.c:578:
+        memset(rbu_dev, 0, sizeof (*rbu_dev));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#697: FILE: drivers/firmware/dell_rbu.c:578:
+        memset(rbu_dev, 0, sizeof (*rbu_dev));$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#697: FILE: drivers/firmware/dell_rbu.c:578:
+        memset(rbu_dev, 0, sizeof (*rbu_dev));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#700: FILE: drivers/firmware/dell_rbu.c:581:
+^Ielse $

ERROR:SPACING: space required after that ',' (ctx:VxV)
#702: FILE: drivers/firmware/dell_rbu.c:583:
+	kobj_set_kset_s(rbu_dev,dell_rbu_subsys);
 	                       ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#705: FILE: drivers/firmware/dell_rbu.c:586:
+		if (type == MONOLITHIC ) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#707: FILE: drivers/firmware/dell_rbu.c:588:
+			sysfs_create_file(&rbu_dev->kobj,
+				&rbu_attr_mono_name.attr);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#709: FILE: drivers/firmware/dell_rbu.c:590:
+			sysfs_create_file(&rbu_dev->kobj,
+				&rbu_attr_mono_size.attr);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#712: FILE: drivers/firmware/dell_rbu.c:593:
+			sysfs_create_file(&rbu_dev->kobj,
+				&rbu_attr_packet_name.attr);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#714: FILE: drivers/firmware/dell_rbu.c:595:
+			sysfs_create_file(&rbu_dev->kobj,
+				&rbu_attr_packet_size.attr);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#716: FILE: drivers/firmware/dell_rbu.c:597:
+^I} else $

CHECK:BRACES: Unbalanced braces around else statement
#716: FILE: drivers/firmware/dell_rbu.c:597:
+	} else 

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'rbu_download_device_register', this function's name, in a string
#717: FILE: drivers/firmware/dell_rbu.c:598:
+		pr_debug("rbu_download_device_register: "

WARNING:SPLIT_STRING: quoted string split across lines
#718: FILE: drivers/firmware/dell_rbu.c:599:
+		pr_debug("rbu_download_device_register: "
+			"kobject_register %d \n", rc);

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#718: FILE: drivers/firmware/dell_rbu.c:599:
+			"kobject_register %d \n", rc);

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'rbu_download_device_register', this function's name, in a string
#719: FILE: drivers/firmware/dell_rbu.c:600:
+	pr_debug("rbu_download_device_register: rbu_dev addr %p\n", rbu_dev);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#723: FILE: drivers/firmware/dell_rbu.c:604:
+static struct rbu_download_device *create_rbu_download_entry(int type) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#726: FILE: drivers/firmware/dell_rbu.c:607:
+^Irbu_dev = kmalloc( sizeof(struct rbu_download_device), $

WARNING:LINE_SPACING: Missing a blank line after declarations
#726: FILE: drivers/firmware/dell_rbu.c:607:
+	struct rbu_download_device *rbu_dev = NULL;
+	rbu_dev = kmalloc( sizeof(struct rbu_download_device), 

ERROR:SPACING: space prohibited after that open parenthesis '('
#726: FILE: drivers/firmware/dell_rbu.c:607:
+	rbu_dev = kmalloc( sizeof(struct rbu_download_device), 

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*rbu_dev)...) over kmalloc(sizeof(struct rbu_download_device)...)
#726: FILE: drivers/firmware/dell_rbu.c:607:
+	rbu_dev = kmalloc( sizeof(struct rbu_download_device), 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#727: FILE: drivers/firmware/dell_rbu.c:608:
+	rbu_dev = kmalloc( sizeof(struct rbu_download_device), 
+		GFP_KERNEL);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#729: FILE: drivers/firmware/dell_rbu.c:610:
+		printk(KERN_ERR "create_rbu_download_entry: kmalloc failed\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_rbu_download_entry', this function's name, in a string
#729: FILE: drivers/firmware/dell_rbu.c:610:
+		printk(KERN_ERR "create_rbu_download_entry: kmalloc failed\n");

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#729: FILE: drivers/firmware/dell_rbu.c:610:
+	if (!rbu_dev) {
+		printk(KERN_ERR "create_rbu_download_entry: kmalloc failed\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_rbu_download_entry', this function's name, in a string
#734: FILE: drivers/firmware/dell_rbu.c:615:
+		pr_debug("create_rbu_download_entry: "

WARNING:SPLIT_STRING: quoted string split across lines
#735: FILE: drivers/firmware/dell_rbu.c:616:
+		pr_debug("create_rbu_download_entry: "
+			"rbu_download_device_register failed \n");

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#735: FILE: drivers/firmware/dell_rbu.c:616:
+			"rbu_download_device_register failed \n");

ERROR:CODE_INDENT: code indent should use tabs where possible
#737: FILE: drivers/firmware/dell_rbu.c:618:
+        }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#737: FILE: drivers/firmware/dell_rbu.c:618:
+        }$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#739: FILE: drivers/firmware/dell_rbu.c:620:
+^Ipr_debug("create_rbu_download_entry: rbu_dev %p\n", rbu_dev);^I$

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'create_rbu_download_entry', this function's name, in a string
#739: FILE: drivers/firmware/dell_rbu.c:620:
+	pr_debug("create_rbu_download_entry: rbu_dev %p\n", rbu_dev);	

ERROR:TRAILING_WHITESPACE: trailing whitespace
#743: FILE: drivers/firmware/dell_rbu.c:624:
+static void remove_rbu_download_entry(struct rbu_download_device *rbu_dev, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#744: FILE: drivers/firmware/dell_rbu.c:625:
+^I^I^I^I       int type) $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#744: FILE: drivers/firmware/dell_rbu.c:625:
+static void remove_rbu_download_entry(struct rbu_download_device *rbu_dev, 
+				       int type) 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#746: FILE: drivers/firmware/dell_rbu.c:627:
+^Ipr_debug("remove_rbu_download_entry: rbu_dev ptr %p \n", rbu_dev);^I$

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'remove_rbu_download_entry', this function's name, in a string
#746: FILE: drivers/firmware/dell_rbu.c:627:
+	pr_debug("remove_rbu_download_entry: rbu_dev ptr %p \n", rbu_dev);	

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#746: FILE: drivers/firmware/dell_rbu.c:627:
+	pr_debug("remove_rbu_download_entry: rbu_dev ptr %p \n", rbu_dev);	

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "rbu_dev"
#747: FILE: drivers/firmware/dell_rbu.c:628:
+	if (rbu_dev != NULL) {

WARNING:LINE_SPACING: Missing a blank line after declarations
#756: FILE: drivers/firmware/dell_rbu.c:637:
+	int rc = 0;
+	spin_lock_init(&rbu_data.lock);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#757: FILE: drivers/firmware/dell_rbu.c:638:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#759: FILE: drivers/firmware/dell_rbu.c:640:
+^I$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#764: FILE: drivers/firmware/dell_rbu.c:645:
+		printk(KERN_WARNING "dcdrbu_init: firmware_register"

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'dcdrbu_init', this function's name, in a string
#764: FILE: drivers/firmware/dell_rbu.c:645:
+		printk(KERN_WARNING "dcdrbu_init: firmware_register"

WARNING:SPLIT_STRING: quoted string split across lines
#765: FILE: drivers/firmware/dell_rbu.c:646:
+		printk(KERN_WARNING "dcdrbu_init: firmware_register"
+			" dell_rbu failed\n");

ERROR:CODE_INDENT: code indent should use tabs where possible
#767: FILE: drivers/firmware/dell_rbu.c:648:
+        }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#767: FILE: drivers/firmware/dell_rbu.c:648:
+        }$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#768: FILE: drivers/firmware/dell_rbu.c:649:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#769: FILE: drivers/firmware/dell_rbu.c:650:
+	rbu_download_mono = create_rbu_download_entry (MONOLITHIC);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#770: FILE: drivers/firmware/dell_rbu.c:651:
+^Iif (rbu_download_mono == NULL) {^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rbu_download_mono"
#770: FILE: drivers/firmware/dell_rbu.c:651:
+	if (rbu_download_mono == NULL) {	

ERROR:TRAILING_WHITESPACE: trailing whitespace
#774: FILE: drivers/firmware/dell_rbu.c:655:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#775: FILE: drivers/firmware/dell_rbu.c:656:
+	rbu_download_packet=  create_rbu_download_entry (PACKETIZED);

ERROR:SPACING: spaces required around that '=' (ctx:VxW)
#775: FILE: drivers/firmware/dell_rbu.c:656:
+	rbu_download_packet=  create_rbu_download_entry (PACKETIZED);
 	                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#776: FILE: drivers/firmware/dell_rbu.c:657:
+^Iif (rbu_download_packet == NULL) {^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!rbu_download_packet"
#776: FILE: drivers/firmware/dell_rbu.c:657:
+	if (rbu_download_packet == NULL) {	

ERROR:SPACING: space required after that ',' (ctx:VxV)
#781: FILE: drivers/firmware/dell_rbu.c:662:
+	strncpy(rbu_device.bus_id,"firmware", BUS_ID_SIZE);
 	                         ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#785: FILE: drivers/firmware/dell_rbu.c:666:
+static __exit void dcdrbu_exit( void)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#799: FILE: drivers/firmware/dell_rbu.c:680:
+
+

WARNING:TYPO_SPELLING: 'comunicate' may be misspelled - perhaps 'communicate'?
#813: FILE: drivers/firmware/Kconfig:67:
+	  DELL system. Note you need a supporting application to comunicate 
 	                                                         ^^^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#813: FILE: drivers/firmware/Kconfig:67:
+^I  DELL system. Note you need a supporting application to comunicate $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#814: FILE: drivers/firmware/Kconfig:68:
+^I  with the BIOS regardin the new image for the image update to $

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000178885.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 153 errors, 114 warnings, 43 checks, 771 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000178885.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
