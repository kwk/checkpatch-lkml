CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#36: 
Dipankar Sarma a écrit :
                 ^

WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#38: 
> freeing. For scalability reasons, file accounting was constructor/destructor

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#48: 
> At the same time, I see only a 2000+ objects in filp cache.
                                                  ^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'sligthly' may be misspelled - perhaps 'slightly'?
#65: 
I am using a patch that seems sligthly better : It removes the filp_count_lock 
                              ^^^^^^^^

WARNING:TYPO_SPELLING: 'litle' may be misspelled - perhaps 'little'?
#73: 
  - litle memory footprint of NR_CPUS*4 bytes
    ^^^^^

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#74: 
  - No more cli/sti games (because of filp ctor/dtor spinlock_bh)
                                      ^^^^

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#111: FILE: include/linux/files_stat.h:1:
+#ifndef _LINUX_FILES_STAT_H

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#127: FILE: include/linux/files_stat.h:17:
+    int _nr_files;^I/* rd only, updated when reading /proc/sys/fs/file-nr */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#128: FILE: include/linux/files_stat.h:18:
+    int nr_free_files;^I/* rd only , obsolete */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#129: FILE: include/linux/files_stat.h:19:
+    int max_files;^I/* rw (/proc/sys/fs/file-max) */$

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#132: FILE: include/linux/files_stat.h:22:
+};
+extern struct files_stat_struct files_stat;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#186: FILE: fs/file_table.c:41:
+	int *local;
+	preempt_disable();

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#203: FILE: fs/file_table.c:50:
 }
+#define dec_nr_files() add_nr_files(-1)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#230: FILE: fs/file_table.c:85:
+	if (nr_files >= files_stat.max_files &&
 				!capable(CAP_SYS_ADMIN))

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#268: FILE: kernel/sysctl.c:135:
+static int proc_dointvec_files_stat(ctl_table *table, int write, struct file *filp,
                                                                               ^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#269: FILE: kernel/sysctl.c:136:
+static int proc_dointvec_files_stat(ctl_table *table, int write, struct file *filp,
+			     void __user *buffer, size_t *lenp, loff_t *ppos);

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#287: FILE: kernel/sysctl.c:1761:
+static int proc_dointvec_files_stat(ctl_table *table, int write, struct file *filp,
                                                                               ^^^^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#287: FILE: kernel/sysctl.c:1761:
 }
+static int proc_dointvec_files_stat(ctl_table *table, int write, struct file *filp,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#288: FILE: kernel/sysctl.c:1762:
+static int proc_dointvec_files_stat(ctl_table *table, int write, struct file *filp,
+			     void __user *buffer, size_t *lenp, loff_t *ppos)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#290: FILE: kernel/sysctl.c:1764:
+    files_stat._nr_files = get_nr_files();$

WARNING:TYPO_SPELLING: 'filp' may be misspelled - perhaps 'flip'?
#291: FILE: kernel/sysctl.c:1765:
+    return proc_dointvec(table,write,filp,buffer,lenp,ppos);
                                      ^^^^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#291: FILE: kernel/sysctl.c:1765:
+    return proc_dointvec(table,write,filp,buffer,lenp,ppos);$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#291: FILE: kernel/sysctl.c:1765:
+    return proc_dointvec(table,write,filp,buffer,lenp,ppos);
                               ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#291: FILE: kernel/sysctl.c:1765:
+    return proc_dointvec(table,write,filp,buffer,lenp,ppos);
                                     ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#291: FILE: kernel/sysctl.c:1765:
+    return proc_dointvec(table,write,filp,buffer,lenp,ppos);
                                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#291: FILE: kernel/sysctl.c:1765:
+    return proc_dointvec(table,write,filp,buffer,lenp,ppos);
                                                 ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#291: FILE: kernel/sysctl.c:1765:
+    return proc_dointvec(table,write,filp,buffer,lenp,ppos);
                                                      ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#311: FILE: net/unix/af_unix.c:551:
+	if (atomic_read(&unix_nr_socks) >= 2*get_max_files())
 	                                    ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#330: FILE: fs/dcache.c:1742:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC, NULL, NULL);
 			                  ^

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000111197.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 5 errors, 15 warnings, 9 checks, 223 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000111197.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
