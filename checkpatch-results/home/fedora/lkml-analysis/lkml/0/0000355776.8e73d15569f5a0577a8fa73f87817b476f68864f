WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#33: 
diff -u --new-file --recursive --exclude-from /usr/src/exclude linux-2.5.75/include/linux/ac97_codec.h linux-2.5.75-ac1/include/linux/ac97_codec.h

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#58: FILE: include/linux/ac97_codec.h:234:
+	/* controller specific lower leverl ac97 accessing routines.
+	   must be re-entrant safe */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#58: FILE: include/linux/ac97_codec.h:234:
+	   must be re-entrant safe */

WARNING:SPACING: Unnecessary space before function pointer arguments
#66: FILE: include/linux/ac97_codec.h:242:
+	void  (*codec_unregister) (struct ac97_codec *codec);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#67: FILE: include/linux/ac97_codec.h:243:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#70: FILE: include/linux/ac97_codec.h:246:
+^I$

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#71: FILE: include/linux/ac97_codec.h:247:
+	spinlock_t lock;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#72: FILE: include/linux/ac97_codec.h:248:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#95: FILE: include/linux/ac97_codec.h:290:
+^I$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#97: FILE: include/linux/ac97_codec.h:292:
+#define AC97_NO_PCM_VOLUME^I2^I/* Volume control is missing ^I   */$

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#105: FILE: include/linux/ac97_codec.h:303:
+extern struct ac97_codec *ac97_alloc_codec(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#106: FILE: include/linux/ac97_codec.h:304:
+extern void ac97_release_codec(struct ac97_codec *codec);

WARNING:SPACING: Unnecessary space before function pointer arguments
#113: FILE: include/linux/ac97_codec.h:311:
+	int (*probe) (struct ac97_codec *codec, struct ac97_driver *driver);

WARNING:SPACING: Unnecessary space before function pointer arguments
#114: FILE: include/linux/ac97_codec.h:312:
+	void (*remove) (struct ac97_codec *codec, struct ac97_driver *driver);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#117: FILE: include/linux/ac97_codec.h:315:
+extern int ac97_register_driver(struct ac97_driver *driver);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#118: FILE: include/linux/ac97_codec.h:316:
+extern void ac97_unregister_driver(struct ac97_driver *driver);

WARNING:TYPO_SPELLING: 'existant' may be misspelled - perhaps 'existent'?
#135: FILE: sound/oss/ac97_codec.c:34:
+ *	Removed non existant WM9700
   	            ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#158: FILE: sound/oss/ac97_codec.c:72:
+static int wolfson_init05(struct ac97_codec * codec);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#159: FILE: sound/oss/ac97_codec.c:73:
+static int wolfson_init11(struct ac97_codec * codec);

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#169: FILE: sound/oss/ac97_codec.c:82:
+static int cmedia_init(struct ac97_codec * codec);

WARNING:TYPO_SPELLING: 'independantly' may be misspelled - perhaps 'independently'?
#257: FILE: sound/oss/ac97_codec.c:474:
+   inputs independantly set, but OSS doesn't seem to want us to express that to
           ^^^^^^^^^^^^^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#292: FILE: sound/oss/ac97_codec.c:712:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#292: FILE: sound/oss/ac97_codec.c:712:
+ $

ERROR:SPACING: space required before the open parenthesis '('
#296: FILE: sound/oss/ac97_codec.c:716:
+	if(codec->codec_read(codec, AC97_RESET) & 2)

ERROR:SPACING: space required before the open parenthesis '('
#300: FILE: sound/oss/ac97_codec.c:720:
+	if(codec->codec_read(codec, AC97_EXTENDED_MODEM_ID) & 1)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#305: FILE: sound/oss/ac97_codec.c:725:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#313: FILE: sound/oss/ac97_codec.c:733:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#313: FILE: sound/oss/ac97_codec.c:733:
+ $

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*codec)...) over kmalloc(sizeof(struct ac97_codec)...)
#316: FILE: sound/oss/ac97_codec.c:736:
+	struct ac97_codec *codec = kmalloc(sizeof(struct ac97_codec), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

WARNING:LINE_SPACING: Missing a blank line after declarations
#317: FILE: sound/oss/ac97_codec.c:737:
+	struct ac97_codec *codec = kmalloc(sizeof(struct ac97_codec), GFP_KERNEL);
+	if(!codec)

ERROR:SPACING: space required before the open parenthesis '('
#317: FILE: sound/oss/ac97_codec.c:737:
+	if(!codec)

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#326: FILE: sound/oss/ac97_codec.c:746:
+EXPORT_SYMBOL(ac97_alloc_codec);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#336: FILE: sound/oss/ac97_codec.c:756:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#336: FILE: sound/oss/ac97_codec.c:756:
+ $

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#340: FILE: sound/oss/ac97_codec.c:760:
+	/* Remove from the list first, we don't want to be
+	   "rediscovered" */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#340: FILE: sound/oss/ac97_codec.c:760:
+	   "rediscovered" */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#346: FILE: sound/oss/ac97_codec.c:766:
+^I *^Ilocking to avoid accidents here. $

ERROR:SPACING: space required before the open parenthesis '('
#348: FILE: sound/oss/ac97_codec.c:768:
+	if(codec->driver)

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#353: FILE: sound/oss/ac97_codec.c:773:
+EXPORT_SYMBOL(ac97_release_codec);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#371: FILE: sound/oss/ac97_codec.c:807:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#401: FILE: sound/oss/ac97_codec.c:847:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#403: FILE: sound/oss/ac97_codec.c:849:
+	if(f & 4)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#405: FILE: sound/oss/ac97_codec.c:851:
+^I$

WARNING:TYPO_SPELLING: 'isnt' may be misspelled - perhaps 'isn't'?
#406: FILE: sound/oss/ac97_codec.c:852:
+	/* A device which thinks its a modem but isnt */
 	                                         ^^^^

ERROR:SPACING: space required before the open parenthesis '('
#407: FILE: sound/oss/ac97_codec.c:853:
+	if(codec->flags & AC97_DELUDED_MODEM)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#409: FILE: sound/oss/ac97_codec.c:855:
+^I^I$

ERROR:SPACING: space required before the open parenthesis '('
#418: FILE: sound/oss/ac97_codec.c:862:
+	if(!ac97_init_mixer(codec))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#420: FILE: sound/oss/ac97_codec.c:864:
+^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#421: FILE: sound/oss/ac97_codec.c:865:
+^I/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#425: FILE: sound/oss/ac97_codec.c:869:
+^I $

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#433: FILE: sound/oss/ac97_codec.c:877:
+		if(d->probe(codec, d) == 0)
+		{

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: space required before the open parenthesis '('
#433: FILE: sound/oss/ac97_codec.c:877:
+		if(d->probe(codec, d) == 0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#449: FILE: sound/oss/ac97_codec.c:904:
 
+

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#461: FILE: sound/oss/ac97_codec.c:937:
+	if(codec->flags & AC97_NO_PCM_VOLUME)
+	{

ERROR:SPACING: space required before the open parenthesis '('
#461: FILE: sound/oss/ac97_codec.c:937:
+	if(codec->flags & AC97_NO_PCM_VOLUME)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#464: FILE: sound/oss/ac97_codec.c:940:
+		printk(KERN_WARNING "AC97 codec does not have proper volume support.\n");

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#495: FILE: sound/oss/ac97_codec.c:1018:
+	/*
+		We could set various options here

ERROR:TRAILING_WHITESPACE: trailing whitespace
#498: FILE: sound/oss/ac97_codec.c:1021:
+^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#499: FILE: sound/oss/ac97_codec.c:1022:
+^I^IFor now we set up the GPIO and PC beep $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#501: FILE: sound/oss/ac97_codec.c:1024:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#503: FILE: sound/oss/ac97_codec.c:1026:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#514: FILE: sound/oss/ac97_codec.c:1036:
+^I$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#554: FILE: sound/oss/ac97_codec.c:1069:
+static int wolfson_init05(struct ac97_codec * codec)

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#562: FILE: sound/oss/ac97_codec.c:1077:
+static int wolfson_init11(struct ac97_codec * codec)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#578: FILE: sound/oss/ac97_codec.c:1146:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#580: FILE: sound/oss/ac97_codec.c:1148:
+^I$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#581: FILE: sound/oss/ac97_codec.c:1149:
+	switch(rate)
+	{

ERROR:SPACING: space required before the open parenthesis '('
#581: FILE: sound/oss/ac97_codec.c:1149:
+	switch(rate)

ERROR:SPACING: space required before the open parenthesis '('
#588: FILE: sound/oss/ac97_codec.c:1156:
+			if(rate == 0)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#601: FILE: sound/oss/ac97_codec.c:1169:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#604: FILE: sound/oss/ac97_codec.c:1172:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#605: FILE: sound/oss/ac97_codec.c:1173:
+	if(mode & AUDIO_DIGITAL)

ERROR:SPACING: space required before the open parenthesis '('
#607: FILE: sound/oss/ac97_codec.c:1175:
+	if(mode & AUDIO_PRO)

ERROR:SPACING: space required before the open parenthesis '('
#609: FILE: sound/oss/ac97_codec.c:1177:
+	if(mode & AUDIO_DRS)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#618: FILE: sound/oss/ac97_codec.c:1186:
+^I$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#620: FILE: sound/oss/ac97_codec.c:1188:
+	if(!(reg & 0x0400))
+	{

ERROR:SPACING: space required before the open parenthesis '('
#620: FILE: sound/oss/ac97_codec.c:1188:
+	if(!(reg & 0x0400))

ERROR:SPACING: space prohibited after that '~' (ctx:WxW)
#622: FILE: sound/oss/ac97_codec.c:1190:
+		codec->codec_write(codec, AC97_EXTENDED_STATUS, reg & ~ AC97_EA_SPDIF);
 		                                                      ^

ERROR:SPACING: space required before the open parenthesis '('
#639: FILE: sound/oss/ac97_codec.c:1204:
+	if(mode & AUDIO_DIGITAL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#641: FILE: sound/oss/ac97_codec.c:1206:
+^I^I$

ERROR:SPACING: space required before the open parenthesis '('
#642: FILE: sound/oss/ac97_codec.c:1207:
+	switch(rate)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#647: FILE: sound/oss/ac97_codec.c:1210:
+		case 48000: cv = 0x8004; break;	/* 48KHz digital */

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#648: FILE: sound/oss/ac97_codec.c:1211:
+		case 44100: cv = 0x8104; break;	/* 44.1KHz digital */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#649: FILE: sound/oss/ac97_codec.c:1212:
+^I^Icase 32768: ^I^I^I/* 32Khz */$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#662: FILE: sound/oss/ac97_codec.c:1224:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#662: FILE: sound/oss/ac97_codec.c:1224:
+ $

ERROR:SPACING: space required before the open parenthesis '('
#667: FILE: sound/oss/ac97_codec.c:1229:
+	if(mode & AUDIO_DIGITAL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#669: FILE: sound/oss/ac97_codec.c:1231:
+^I^I$

ERROR:OPEN_BRACE: that open brace { should be on the previous line
#670: FILE: sound/oss/ac97_codec.c:1232:
+	switch(rate)
+	{

ERROR:SPACING: space required before the open parenthesis '('
#670: FILE: sound/oss/ac97_codec.c:1232:
+	switch(rate)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#672: FILE: sound/oss/ac97_codec.c:1234:
+		case 0:		cv = 0x0001; break;	/* SPEN off */

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#673: FILE: sound/oss/ac97_codec.c:1235:
+		case 48000:	cv = 0x0009; break;	/* 48KHz digital */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#679: FILE: sound/oss/ac97_codec.c:1241:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#683: FILE: sound/oss/ac97_codec.c:1245:
+	if(mode)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#689: FILE: sound/oss/ac97_codec.c:1251:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#702: FILE: sound/oss/ac97_codec.c:1394:
+ *^Iattach function is called for all present codecs and will be $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#705: FILE: sound/oss/ac97_codec.c:1397:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#705: FILE: sound/oss/ac97_codec.c:1397:
+ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#710: FILE: sound/oss/ac97_codec.c:1402:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#714: FILE: sound/oss/ac97_codec.c:1406:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#718: FILE: sound/oss/ac97_codec.c:1410:
+		if(c->driver != NULL || ((c->model ^ driver->codec_id) & driver->codec_mask))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "c->driver"
#718: FILE: sound/oss/ac97_codec.c:1410:
+		if(c->driver != NULL || ((c->model ^ driver->codec_id) & driver->codec_mask))

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

ERROR:SPACING: space required before the open parenthesis '('
#720: FILE: sound/oss/ac97_codec.c:1412:
+		if(driver->probe(c, driver))

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#728: FILE: sound/oss/ac97_codec.c:1420:
+EXPORT_SYMBOL_GPL(ac97_register_driver);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#735: FILE: sound/oss/ac97_codec.c:1427:
+ *^Iattach function is called for all present codecs and will be $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#738: FILE: sound/oss/ac97_codec.c:1430:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#738: FILE: sound/oss/ac97_codec.c:1430:
+ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#743: FILE: sound/oss/ac97_codec.c:1435:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#746: FILE: sound/oss/ac97_codec.c:1438:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#750: FILE: sound/oss/ac97_codec.c:1442:
+		if(c->driver == driver)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#754: FILE: sound/oss/ac97_codec.c:1446:
+^I$

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#758: FILE: sound/oss/ac97_codec.c:1450:
+EXPORT_SYMBOL_GPL(ac97_unregister_driver);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#759: FILE: sound/oss/ac97_codec.c:1451:
+^I$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000355776.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 77 errors, 26 warnings, 10 checks, 694 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000355776.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
