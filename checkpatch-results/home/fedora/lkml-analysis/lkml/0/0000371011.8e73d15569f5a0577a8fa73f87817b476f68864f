WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#36: 
  A version of this on 2.4.20aa1 gives about 60% performance gains on single

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#88: FILE: drivers/md/raid1.c:57:
+       DEV_RAID_MAX_WORK_PER_DISK=3,$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#88: FILE: drivers/md/raid1.c:57:
+       DEV_RAID_MAX_WORK_PER_DISK=3,
                                  ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#89: FILE: drivers/md/raid1.c:58:
+       DEV_RAID_MAX_SEQ_WORK_PER_DISK=4,$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#89: FILE: drivers/md/raid1.c:58:
+       DEV_RAID_MAX_SEQ_WORK_PER_DISK=4,
                                      ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#91: FILE: drivers/md/raid1.c:60:
+};
+static ctl_table raid_table[] = {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#92: FILE: drivers/md/raid1.c:61:
+       {DEV_RAID_MAX_WORK_PER_DISK, "max_work_per_disk", &sysctl_max_work_per_disk,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#93: FILE: drivers/md/raid1.c:62:
+        sizeof(int), 0644, NULL, &proc_dointvec_minmax, &sysctl_intvec,$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#93: FILE: drivers/md/raid1.c:62:
+        sizeof(int), 0644, NULL, &proc_dointvec_minmax, &sysctl_intvec,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#94: FILE: drivers/md/raid1.c:63:
+        NULL, &min_max_work_per_disk, &max_max_work_per_disk},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#94: FILE: drivers/md/raid1.c:63:
+        NULL, &min_max_work_per_disk, &max_max_work_per_disk},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#95: FILE: drivers/md/raid1.c:64:
+       {DEV_RAID_MAX_SEQ_WORK_PER_DISK, "max_seq_work_per_disk", &sysctl_max_seq_work_per_disk,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#96: FILE: drivers/md/raid1.c:65:
+        sizeof(int), 0644, NULL, &proc_dointvec_minmax, &sysctl_intvec,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#96: FILE: drivers/md/raid1.c:65:
+        sizeof(int), 0644, NULL, &proc_dointvec_minmax, &sysctl_intvec,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#97: FILE: drivers/md/raid1.c:66:
+        NULL, &min_max_seq_work_per_disk, &max_max_seq_work_per_disk},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#97: FILE: drivers/md/raid1.c:66:
+        NULL, &min_max_seq_work_per_disk, &max_max_seq_work_per_disk},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#98: FILE: drivers/md/raid1.c:67:
+       {0}$

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#100: FILE: drivers/md/raid1.c:69:
+};
+static ctl_table raid_dir_table[] = {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#101: FILE: drivers/md/raid1.c:70:
+       {DEV_RAID, "raid", NULL, 0, 0555, raid_table},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#102: FILE: drivers/md/raid1.c:71:
+       {0}$

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#104: FILE: drivers/md/raid1.c:73:
+};
+static ctl_table raid_root_table[] = {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#105: FILE: drivers/md/raid1.c:74:
+       {CTL_DEV, "dev", NULL, 0, 0555, raid_dir_table},$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#106: FILE: drivers/md/raid1.c:75:
+       {0}$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#114: FILE: drivers/md/raid1.c:372:
        for (i = 0; i < disks; i++) {
+               if (READABLE_MIRROR(i)) {

ERROR:CODE_INDENT: code indent should use tabs where possible
#116: FILE: drivers/md/raid1.c:373:
+               if (READABLE_MIRROR(i)) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#116: FILE: drivers/md/raid1.c:373:
+               if (READABLE_MIRROR(i)) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#116: FILE: drivers/md/raid1.c:373:
+               if (READABLE_MIRROR(i)) {
                        *rdev = conf->mirrors[i].dev;

ERROR:CODE_INDENT: code indent should use tabs where possible
#119: FILE: drivers/md/raid1.c:375:
+                       return 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#119: FILE: drivers/md/raid1.c:375:
+                       return 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#125: FILE: drivers/md/raid1.c:379:
+       printk(KERN_ERR "raid1_map(): huh, no more operational devices?\n");$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#125: FILE: drivers/md/raid1.c:379:
+       printk(KERN_ERR "raid1_map(): huh, no more operational devices?\n");

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#126: FILE: drivers/md/raid1.c:380:
+       return -1;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#170: FILE: drivers/md/raid1.c:512:
+       unsigned long new_distance, temp_distance;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#171: FILE: drivers/md/raid1.c:513:
+       const unsigned int sectors = bh->b_size >> 9;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#172: FILE: drivers/md/raid1.c:514:
+       int old_disk = conf->last_used;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#173: FILE: drivers/md/raid1.c:515:
+       int new_disk = old_disk, temp_disk = old_disk, first_disk;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#183: FILE: drivers/md/raid1.c:518:
+        * Do not balance if resyncing.$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#185: FILE: drivers/md/raid1.c:520:
+       if (unlikely(conf->resync_mirrors))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#185: FILE: drivers/md/raid1.c:520:
+       if (unlikely(conf->resync_mirrors))
+               goto rb_out_nocount;

ERROR:CODE_INDENT: code indent should use tabs where possible
#186: FILE: drivers/md/raid1.c:521:
+               goto rb_out_nocount;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#186: FILE: drivers/md/raid1.c:521:
+               goto rb_out_nocount;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#197: FILE: drivers/md/raid1.c:525:
+        * Look for two readable disks and save the index of the$

ERROR:CODE_INDENT: code indent should use tabs where possible
#198: FILE: drivers/md/raid1.c:526:
+        * first alternate for later in case of forced disk switch.$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#200: FILE: drivers/md/raid1.c:528:
+       first_disk = ITER_NEXT_READABLE(temp_disk, old_disk);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#201: FILE: drivers/md/raid1.c:529:
+       if (unlikely(first_disk == old_disk))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#201: FILE: drivers/md/raid1.c:529:
+       if (unlikely(first_disk == old_disk))
[...]
+               goto rb_out_nocount;

ERROR:CODE_INDENT: code indent should use tabs where possible
#202: FILE: drivers/md/raid1.c:530:
+               /* No additional disks are available. */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#203: FILE: drivers/md/raid1.c:531:
+               goto rb_out_nocount;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#203: FILE: drivers/md/raid1.c:531:
+               goto rb_out_nocount;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#205: FILE: drivers/md/raid1.c:533:
+       if (unlikely(!READABLE_MIRROR(old_disk))) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#205: FILE: drivers/md/raid1.c:533:
+       if (unlikely(!READABLE_MIRROR(old_disk))) {
+               new_disk = old_disk = temp_disk;

ERROR:CODE_INDENT: code indent should use tabs where possible
#206: FILE: drivers/md/raid1.c:534:
+               new_disk = old_disk = temp_disk;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#206: FILE: drivers/md/raid1.c:534:
+               new_disk = old_disk = temp_disk;$

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#206: FILE: drivers/md/raid1.c:534:
+               new_disk = old_disk = temp_disk;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

ERROR:CODE_INDENT: code indent should use tabs where possible
#207: FILE: drivers/md/raid1.c:535:
+               goto rb_find_first;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#207: FILE: drivers/md/raid1.c:535:
+               goto rb_find_first;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#208: FILE: drivers/md/raid1.c:536:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#212: FILE: drivers/md/raid1.c:538:
+       new_distance = HEAD_DISTANCE(new_disk, this_sector);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#213: FILE: drivers/md/raid1.c:539:
+       if (new_distance == 0) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#213: FILE: drivers/md/raid1.c:539:
+       if (new_distance == 0) {
[...]
+               if (unlikely(conf->same_count >= sysctl_max_seq_work_per_disk))

ERROR:CODE_INDENT: code indent should use tabs where possible
#214: FILE: drivers/md/raid1.c:540:
+               /* Sequential read, same disk as last. */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#215: FILE: drivers/md/raid1.c:541:
+               if (unlikely(conf->same_count >= sysctl_max_seq_work_per_disk))$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#215: FILE: drivers/md/raid1.c:541:
+               if (unlikely(conf->same_count >= sysctl_max_seq_work_per_disk))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#215: FILE: drivers/md/raid1.c:541:
+               if (unlikely(conf->same_count >= sysctl_max_seq_work_per_disk))
+                       goto rb_out_force_switch;

ERROR:CODE_INDENT: code indent should use tabs where possible
#216: FILE: drivers/md/raid1.c:542:
+                       goto rb_out_force_switch;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#216: FILE: drivers/md/raid1.c:542:
+                       goto rb_out_force_switch;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#218: FILE: drivers/md/raid1.c:544:
+               goto rb_out; /* Do not switch disks. */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#218: FILE: drivers/md/raid1.c:544:
+               goto rb_out; /* Do not switch disks. */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#219: FILE: drivers/md/raid1.c:545:
+       }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#221: FILE: drivers/md/raid1.c:547:
+       do {    /* Look for the nearest disk. */$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#221: FILE: drivers/md/raid1.c:547:
+       do {    /* Look for the nearest disk. */
[...]
+               temp_distance = HEAD_DISTANCE(temp_disk, this_sector);

ERROR:CODE_INDENT: code indent should use tabs where possible
#223: FILE: drivers/md/raid1.c:549:
+               temp_distance = HEAD_DISTANCE(temp_disk, this_sector);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: drivers/md/raid1.c:549:
+               temp_distance = HEAD_DISTANCE(temp_disk, this_sector);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#224: FILE: drivers/md/raid1.c:550:
+               if (temp_distance < new_distance) {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#224: FILE: drivers/md/raid1.c:550:
+               if (temp_distance < new_distance) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#224: FILE: drivers/md/raid1.c:550:
+               if (temp_distance < new_distance) {
+                       new_distance = temp_distance;

ERROR:CODE_INDENT: code indent should use tabs where possible
#225: FILE: drivers/md/raid1.c:551:
+                       new_distance = temp_distance;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#225: FILE: drivers/md/raid1.c:551:
+                       new_distance = temp_distance;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#226: FILE: drivers/md/raid1.c:552:
+                       new_disk = temp_disk;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#226: FILE: drivers/md/raid1.c:552:
+                       new_disk = temp_disk;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#227: FILE: drivers/md/raid1.c:553:
+                       conf->same_count = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#227: FILE: drivers/md/raid1.c:553:
+                       conf->same_count = 0;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#228: FILE: drivers/md/raid1.c:554:
+               }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#228: FILE: drivers/md/raid1.c:554:
+               }$

ERROR:CODE_INDENT: code indent should use tabs where possible
#243: FILE: drivers/md/raid1.c:561:
+               ITER_NEXT_READABLE(temp_disk, old_disk);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#243: FILE: drivers/md/raid1.c:561:
+               ITER_NEXT_READABLE(temp_disk, old_disk);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#245: FILE: drivers/md/raid1.c:563:
+       } while (temp_disk != old_disk);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#247: FILE: drivers/md/raid1.c:565:
+       if (likely(conf->same_count < sysctl_max_work_per_disk))$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#247: FILE: drivers/md/raid1.c:565:
+       if (likely(conf->same_count < sysctl_max_work_per_disk))
                goto rb_out;

ERROR:CODE_INDENT: code indent should use tabs where possible
#277: FILE: drivers/md/raid1.c:570:
+        * If reads have only been done on a single disk for some time,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#278: FILE: drivers/md/raid1.c:571:
+        * let's give another disk a chance.  This is for kicking$

ERROR:CODE_INDENT: code indent should use tabs where possible
#279: FILE: drivers/md/raid1.c:572:
+        * those idle disks so that they can find work near a hotspot.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#280: FILE: drivers/md/raid1.c:573:
+        */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#281: FILE: drivers/md/raid1.c:574:
+       new_disk = first_disk;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#282: FILE: drivers/md/raid1.c:575:
+       conf->same_count = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#286: FILE: drivers/md/raid1.c:578:
+       conf->same_count += sectors;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#291: FILE: drivers/md/raid1.c:581:
+       conf->mirrors[new_disk].head_position = this_sector + sectors;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#294: FILE: drivers/md/raid1.c:583:
+       return conf->last_used = new_disk;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#304: FILE: drivers/md/raid1.c:596:
+       BUG_ON(!buffer_locked(bh));$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#304: FILE: drivers/md/raid1.c:596:
+       BUG_ON(!buffer_locked(bh));

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

ERROR:CODE_INDENT: code indent should use tabs where possible
#313: FILE: drivers/md/raid1.c:1197:
+                               /* don't really need this many bh$

ERROR:CODE_INDENT: code indent should use tabs where possible
#314: FILE: drivers/md/raid1.c:1198:
+                                */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#315: FILE: drivers/md/raid1.c:1199:
+                               bhl = raid1_alloc_bh(conf, conf->raid_disks);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#315: FILE: drivers/md/raid1.c:1199:
+                               bhl = raid1_alloc_bh(conf, conf->raid_disks);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#321: FILE: drivers/md/raid1.c:1203:
+                                       if (conf->mirrors[i].dev == bh->b_dev)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#321: FILE: drivers/md/raid1.c:1203:
+                                       if (conf->mirrors[i].dev == bh->b_dev)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (39, 47)
#321: FILE: drivers/md/raid1.c:1203:
+                                       if (conf->mirrors[i].dev == bh->b_dev)
[...]
                                                continue;

ERROR:CODE_INDENT: code indent should use tabs where possible
#322: FILE: drivers/md/raid1.c:1204:
+                                               /* we read from here,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#323: FILE: drivers/md/raid1.c:1205:
+                                                * no need to write$

ERROR:CODE_INDENT: code indent should use tabs where possible
#324: FILE: drivers/md/raid1.c:1206:
+                                                */$

ERROR:CODE_INDENT: code indent should use tabs where possible
#330: FILE: drivers/md/raid1.c:1211:
+                                                * we are just rebuilding$

ERROR:CODE_INDENT: code indent should use tabs where possible
#331: FILE: drivers/md/raid1.c:1212:
+                                                */$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#338: FILE: drivers/md/raid1.c:1403:
        while (sector_nr >= conf->start_pending) {
+               PRINTK("wait .. sect=%lu start_active=%d ready=%d pending=%d future=%d"

ERROR:CODE_INDENT: code indent should use tabs where possible
#342: FILE: drivers/md/raid1.c:1404:
+               PRINTK("wait .. sect=%lu start_active=%d ready=%d pending=%d future=%d"$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#342: FILE: drivers/md/raid1.c:1404:
+               PRINTK("wait .. sect=%lu start_active=%d ready=%d pending=%d future=%d"$

ERROR:CODE_INDENT: code indent should use tabs where possible
#343: FILE: drivers/md/raid1.c:1405:
+                       ", cnt_done=%d active=%d ready=%d pending=%d future=%d\n",$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#343: FILE: drivers/md/raid1.c:1405:
+                       ", cnt_done=%d active=%d ready=%d pending=%d future=%d\n",$

WARNING:SPLIT_STRING: quoted string split across lines
#343: FILE: drivers/md/raid1.c:1405:
+               PRINTK("wait .. sect=%lu start_active=%d ready=%d pending=%d future=%d"
+                       ", cnt_done=%d active=%d ready=%d pending=%d future=%d\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:CODE_INDENT: code indent should use tabs where possible
#344: FILE: drivers/md/raid1.c:1406:
+                       sector_nr, conf->start_active, conf->start_ready,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#344: FILE: drivers/md/raid1.c:1406:
+                       sector_nr, conf->start_active, conf->start_ready,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#345: FILE: drivers/md/raid1.c:1407:
+                       conf->start_pending, conf->start_future,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#345: FILE: drivers/md/raid1.c:1407:
+                       conf->start_pending, conf->start_future,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#346: FILE: drivers/md/raid1.c:1408:
+                       conf->cnt_done, conf->cnt_active, conf->cnt_ready,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#346: FILE: drivers/md/raid1.c:1408:
+                       conf->cnt_done, conf->cnt_active, conf->cnt_ready,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#347: FILE: drivers/md/raid1.c:1409:
+                       conf->cnt_pending, conf->cnt_future);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#347: FILE: drivers/md/raid1.c:1409:
+                       conf->cnt_pending, conf->cnt_future);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#356: FILE: drivers/md/raid1.c:1434:
+        * service read requests, or use read_balance...$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#367: FILE: drivers/md/raid1.c:1438:
+       conf->last_used = ITER_THIS_READABLE(disk, disk);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#370: FILE: drivers/md/raid1.c:1440:
+       mirror = conf->mirrors + disk;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#373: FILE: drivers/md/raid1.c:1442:
+       r1_bh = raid1_alloc_buf(conf);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#387: FILE: drivers/md/raid1.c:1460:
+       BUG_ON(!bh->b_page);$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#387: FILE: drivers/md/raid1.c:1460:
+       BUG_ON(!bh->b_page);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#388: FILE: drivers/md/raid1.c:1461:
+       BUG_ON(!bh->b_data);$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#388: FILE: drivers/md/raid1.c:1461:
+       BUG_ON(!bh->b_data);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#389: FILE: drivers/md/raid1.c:1462:
+       BUG_ON(bh->b_data != page_address(bh->b_page));$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#389: FILE: drivers/md/raid1.c:1462:
+       BUG_ON(bh->b_data != page_address(bh->b_page));

ERROR:CODE_INDENT: code indent should use tabs where possible
#421: FILE: drivers/md/raid1.c:1709:
+        * FIXME: previous code iterated through all MD_SB_DISKS while this$

ERROR:CODE_INDENT: code indent should use tabs where possible
#422: FILE: drivers/md/raid1.c:1710:
+        * stops at conf->raid_disks - 1.  which is better???$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#427: FILE: drivers/md/raid1.c:1712:
+       j = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#428: FILE: drivers/md/raid1.c:1713:
+       conf->last_used = ITER_THIS_READABLE(j, j);$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#431: FILE: drivers/md/raid1.c:1716:
        if (conf->working_disks != sb->raid_disks) {
+               printk(KERN_ALERT "raid1: md%d, not all disks are operational "

ERROR:CODE_INDENT: code indent should use tabs where possible
#433: FILE: drivers/md/raid1.c:1717:
+               printk(KERN_ALERT "raid1: md%d, not all disks are operational "$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#433: FILE: drivers/md/raid1.c:1717:
+               printk(KERN_ALERT "raid1: md%d, not all disks are operational "$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_alert([subsystem]dev, ... then dev_alert(dev, ... then pr_alert(...  to printk(KERN_ALERT ...
#433: FILE: drivers/md/raid1.c:1717:
+               printk(KERN_ALERT "raid1: md%d, not all disks are operational "

ERROR:CODE_INDENT: code indent should use tabs where possible
#434: FILE: drivers/md/raid1.c:1718:
+                                 "-- trying to recover array\n", mdidx(mddev));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#434: FILE: drivers/md/raid1.c:1718:
+                                 "-- trying to recover array\n", mdidx(mddev));$

WARNING:SPLIT_STRING: quoted string split across lines
#434: FILE: drivers/md/raid1.c:1718:
+               printk(KERN_ALERT "raid1: md%d, not all disks are operational "
+                                 "-- trying to recover array\n", mdidx(mddev));

ERROR:CODE_INDENT: code indent should use tabs where possible
#443: FILE: drivers/md/raid1.c:1803:
+                       printk(KERN_INFO "raid1: mirror resync was not fully "$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#443: FILE: drivers/md/raid1.c:1803:
+                       printk(KERN_INFO "raid1: mirror resync was not fully "$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#443: FILE: drivers/md/raid1.c:1803:
+                       printk(KERN_INFO "raid1: mirror resync was not fully "

ERROR:CODE_INDENT: code indent should use tabs where possible
#444: FILE: drivers/md/raid1.c:1804:
+                                        "finished, restarting next time.\n");$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#444: FILE: drivers/md/raid1.c:1804:
+                                        "finished, restarting next time.\n");$

WARNING:SPLIT_STRING: quoted string split across lines
#444: FILE: drivers/md/raid1.c:1804:
+                       printk(KERN_INFO "raid1: mirror resync was not fully "
+                                        "finished, restarting next time.\n");

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#453: FILE: drivers/md/raid1.c:1860:
+       int ret = register_md_personality(RAID1, &raid1_personality);$

WARNING:LINE_SPACING: Missing a blank line after declarations
#454: FILE: drivers/md/raid1.c:1861:
+       int ret = register_md_personality(RAID1, &raid1_personality);
+       if (!ret)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#454: FILE: drivers/md/raid1.c:1861:
+       if (!ret)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (7, 15)
#454: FILE: drivers/md/raid1.c:1861:
+       if (!ret)
+               raid_table_header = register_sysctl_table(raid_root_table, 1);

ERROR:CODE_INDENT: code indent should use tabs where possible
#455: FILE: drivers/md/raid1.c:1862:
+               raid_table_header = register_sysctl_table(raid_root_table, 1);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#455: FILE: drivers/md/raid1.c:1862:
+               raid_table_header = register_sysctl_table(raid_root_table, 1);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#456: FILE: drivers/md/raid1.c:1863:
+       return ret;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#462: FILE: drivers/md/raid1.c:1868:
+       unregister_sysctl_table(raid_table_header);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#463: FILE: drivers/md/raid1.c:1869:
+       unregister_md_personality(RAID1);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#478: FILE: include/linux/raid/raid1.h:12:
+        * Sector number where disk head is located.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#479: FILE: include/linux/raid/raid1.h:13:
+        * Note that the disk elevator may reorder these reads.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#480: FILE: include/linux/raid/raid1.h:14:
+        */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#481: FILE: include/linux/raid/raid1.h:15:
+       unsigned long   head_position;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#492: FILE: include/linux/raid/raid1.h:37:
+       unsigned int            same_count;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#502: FILE: include/linux/raid/raid1.h:80:
+               struct mirror_info * _rm_disk = conf->mirrors + (disk); \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#502: FILE: include/linux/raid/raid1.h:80:
+               struct mirror_info * _rm_disk = conf->mirrors + (disk); \$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#502: FILE: include/linux/raid/raid1.h:80:
+               struct mirror_info * _rm_disk = conf->mirrors + (disk); \

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#503: FILE: include/linux/raid/raid1.h:81:
+               !!_rm_disk->operational & !_rm_disk->write_only;        \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#503: FILE: include/linux/raid/raid1.h:81:
+               !!_rm_disk->operational & !_rm_disk->write_only;        \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#504: FILE: include/linux/raid/raid1.h:82:
+       })$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#506: FILE: include/linux/raid/raid1.h:84:
+#define HEAD_DISTANCE(disk,sect) ({                                    \
                           ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#507: FILE: include/linux/raid/raid1.h:85:
+               unsigned long _hd_x = (sect);                           \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#507: FILE: include/linux/raid/raid1.h:85:
+               unsigned long _hd_x = (sect);                           \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#508: FILE: include/linux/raid/raid1.h:86:
+               unsigned long _hd_y =                                   \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#508: FILE: include/linux/raid/raid1.h:86:
+               unsigned long _hd_y =                                   \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#509: FILE: include/linux/raid/raid1.h:87:
+                               conf->mirrors[(disk)].head_position;    \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#509: FILE: include/linux/raid/raid1.h:87:
+                               conf->mirrors[(disk)].head_position;    \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#510: FILE: include/linux/raid/raid1.h:88:
+               _hd_x >= _hd_y ? _hd_x - _hd_y : _hd_y - _hd_x;         \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#510: FILE: include/linux/raid/raid1.h:88:
+               _hd_x >= _hd_y ? _hd_x - _hd_y : _hd_y - _hd_x;         \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#511: FILE: include/linux/raid/raid1.h:89:
+       })$

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'disk' - possible side-effects?
#516: FILE: include/linux/raid/raid1.h:94:
+#define ITERATE_MIRROR(disk) ({                                                \
+               if (((disk) <= 0) | ((disk) > conf->raid_disks))        \
+                       (disk) = conf->raid_disks;                      \
+               --(disk);                                               \
+       })

ERROR:CODE_INDENT: code indent should use tabs where possible
#517: FILE: include/linux/raid/raid1.h:95:
+               if (((disk) <= 0) | ((disk) > conf->raid_disks))        \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#517: FILE: include/linux/raid/raid1.h:95:
+               if (((disk) <= 0) | ((disk) > conf->raid_disks))        \$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#517: FILE: include/linux/raid/raid1.h:95:
+               if (((disk) <= 0) | ((disk) > conf->raid_disks))        \
+                       (disk) = conf->raid_disks;                      \

ERROR:CODE_INDENT: code indent should use tabs where possible
#518: FILE: include/linux/raid/raid1.h:96:
+                       (disk) = conf->raid_disks;                      \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#518: FILE: include/linux/raid/raid1.h:96:
+                       (disk) = conf->raid_disks;                      \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#519: FILE: include/linux/raid/raid1.h:97:
+               --(disk);                                               \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#519: FILE: include/linux/raid/raid1.h:97:
+               --(disk);                                               \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#520: FILE: include/linux/raid/raid1.h:98:
+       })$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#525: FILE: include/linux/raid/raid1.h:103:
+#define ITER_NEXT_READABLE(disk,last) ({                               \
                                ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'disk' - possible side-effects?
#525: FILE: include/linux/raid/raid1.h:103:
+#define ITER_NEXT_READABLE(disk,last) ({                               \
+               int _inr_last = (last);                                 \
+               while (!READABLE_MIRROR(ITERATE_MIRROR(disk))           \
+                      && (disk) != _inr_last)                          \
+                       ;                                               \
+               (disk);                                                 \
+       })

ERROR:CODE_INDENT: code indent should use tabs where possible
#526: FILE: include/linux/raid/raid1.h:104:
+               int _inr_last = (last);                                 \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#526: FILE: include/linux/raid/raid1.h:104:
+               int _inr_last = (last);                                 \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#527: FILE: include/linux/raid/raid1.h:105:
+               while (!READABLE_MIRROR(ITERATE_MIRROR(disk))           \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#527: FILE: include/linux/raid/raid1.h:105:
+               while (!READABLE_MIRROR(ITERATE_MIRROR(disk))           \$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#527: FILE: include/linux/raid/raid1.h:105:
+               while (!READABLE_MIRROR(ITERATE_MIRROR(disk))           \
[...]
+                       ;                                               \

ERROR:CODE_INDENT: code indent should use tabs where possible
#528: FILE: include/linux/raid/raid1.h:106:
+                      && (disk) != _inr_last)                          \$

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#528: FILE: include/linux/raid/raid1.h:106:
+               while (!READABLE_MIRROR(ITERATE_MIRROR(disk))           \
+                      && (disk) != _inr_last)                          \

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#528: FILE: include/linux/raid/raid1.h:106:
+                      && (disk) != _inr_last)                          \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#529: FILE: include/linux/raid/raid1.h:107:
+                       ;                                               \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#529: FILE: include/linux/raid/raid1.h:107:
+                       ;                                               \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#530: FILE: include/linux/raid/raid1.h:108:
+               (disk);                                                 \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#530: FILE: include/linux/raid/raid1.h:108:
+               (disk);                                                 \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#531: FILE: include/linux/raid/raid1.h:109:
+       })$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#533: FILE: include/linux/raid/raid1.h:111:
+#define ITER_THIS_READABLE(disk,last) ({                               \
                                ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'disk' - possible side-effects?
#533: FILE: include/linux/raid/raid1.h:111:
+#define ITER_THIS_READABLE(disk,last) ({                               \
+               int _itr_last = (last);                                 \
+               while (!READABLE_MIRROR(disk)                           \
+                      && ITERATE_MIRROR(disk) != _itr_last)            \
+                       ;                                               \
+               (disk);                                                 \
+       })

ERROR:CODE_INDENT: code indent should use tabs where possible
#534: FILE: include/linux/raid/raid1.h:112:
+               int _itr_last = (last);                                 \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#534: FILE: include/linux/raid/raid1.h:112:
+               int _itr_last = (last);                                 \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#535: FILE: include/linux/raid/raid1.h:113:
+               while (!READABLE_MIRROR(disk)                           \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#535: FILE: include/linux/raid/raid1.h:113:
+               while (!READABLE_MIRROR(disk)                           \$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (15, 23)
#535: FILE: include/linux/raid/raid1.h:113:
+               while (!READABLE_MIRROR(disk)                           \
[...]
+                       ;                                               \

ERROR:CODE_INDENT: code indent should use tabs where possible
#536: FILE: include/linux/raid/raid1.h:114:
+                      && ITERATE_MIRROR(disk) != _itr_last)            \$

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#536: FILE: include/linux/raid/raid1.h:114:
+               while (!READABLE_MIRROR(disk)                           \
+                      && ITERATE_MIRROR(disk) != _itr_last)            \

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#536: FILE: include/linux/raid/raid1.h:114:
+                      && ITERATE_MIRROR(disk) != _itr_last)            \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#537: FILE: include/linux/raid/raid1.h:115:
+                       ;                                               \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#537: FILE: include/linux/raid/raid1.h:115:
+                       ;                                               \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#538: FILE: include/linux/raid/raid1.h:116:
+               (disk);                                                 \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#538: FILE: include/linux/raid/raid1.h:116:
+               (disk);                                                 \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#539: FILE: include/linux/raid/raid1.h:117:
+       })$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000371011.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 80 errors, 133 warnings, 9 checks, 481 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000371011.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
