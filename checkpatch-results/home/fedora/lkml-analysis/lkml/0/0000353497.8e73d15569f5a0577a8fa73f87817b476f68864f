WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#32: 
diff -ruN -X../cludes linux-2.6.0-test1-moo/arch/v850/kernel/nb85e_cache.c linux-2.6.0-test1-moo-v850-20030718/arch/v850/kernel/nb85e_cache.c

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#218: FILE: arch/v850/kernel/v850e_cache.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#219: FILE: arch/v850/kernel/v850e_cache.c:2:
+ * arch/v850/kernel/v850e_cache.c -- Cache control for V850E cache memories

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#232: FILE: arch/v850/kernel/v850e_cache.c:15:
+/* This file implements cache control for the rather simple cache used on
+   some V850E CPUs, specifically the NB85E/TEG CPU-core and the V850E/ME2

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#234: FILE: arch/v850/kernel/v850e_cache.c:17:
+   implementation.  */

WARNING:BRACES: braces {} are not necessary for single statement blocks
#239: FILE: arch/v850/kernel/v850e_cache.c:22:
+#define WAIT_UNTIL_CLEAR(value) while (value) {}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#242: FILE: arch/v850/kernel/v850e_cache.c:25:
+void v850e_cache_enable (u16 bhc, u16 icc, u16 dcc)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LINE_SPACING: Missing a blank line after declarations
#245: FILE: arch/v850/kernel/v850e_cache.c:28:
+	unsigned long *r0_ram = (unsigned long *)R0_RAM_ADDR;
+	register u16 bhc_val asm ("r6") = bhc;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#248: FILE: arch/v850/kernel/v850e_cache.c:31:
+	/* Read the instruction cache control register (ICC) and confirm
+	   that bits 0 and 1 (TCLR0, TCLR1) are all cleared.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#248: FILE: arch/v850/kernel/v850e_cache.c:31:
+	   that bits 0 and 1 (TCLR0, TCLR1) are all cleared.  */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#249: FILE: arch/v850/kernel/v850e_cache.c:32:
+	WAIT_UNTIL_CLEAR (V850E_CACHE_ICC & 0x3);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#258: FILE: arch/v850/kernel/v850e_cache.c:41:
+	/* Configure caching for various memory regions by writing the BHC
+	   register.  The documentation says that an instruction _cannot_

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#262: FILE: arch/v850/kernel/v850e_cache.c:45:
+	   cached), and briefly jump there to do the work.  */

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#264: FILE: arch/v850/kernel/v850e_cache.c:47:
+^I*r0_ram++ ^I= 0xf0720760;^I/* st.h r0, 0xfffff072[r0] */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#266: FILE: arch/v850/kernel/v850e_cache.c:49:
+^I*r0_ram++ ^I= 0xf06a3760;^I/* st.h r6, 0xfffff06a[r0] */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#267: FILE: arch/v850/kernel/v850e_cache.c:50:
+^I*r0_ram ^I= 0x5640006b;^I/* jmp [r11] */$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#273: FILE: arch/v850/kernel/v850e_cache.c:56:
+static void clear_icache (void)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#276: FILE: arch/v850/kernel/v850e_cache.c:59:
+	/* 1. Read the instruction cache control register (ICC) and confirm
+	      that bits 0 and 1 (TCLR0, TCLR1) are all cleared.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#276: FILE: arch/v850/kernel/v850e_cache.c:59:
+	      that bits 0 and 1 (TCLR0, TCLR1) are all cleared.  */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#277: FILE: arch/v850/kernel/v850e_cache.c:60:
+	WAIT_UNTIL_CLEAR (V850E_CACHE_ICC & 0x3);

ERROR:CODE_INDENT: code indent should use tabs where possible
#280: FILE: arch/v850/kernel/v850e_cache.c:63:
+  ^I      cleared.  Bit 13 of the ICC register is always cleared.  */$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#280: FILE: arch/v850/kernel/v850e_cache.c:63:
+  ^I      cleared.  Bit 13 of the ICC register is always cleared.  */$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#280: FILE: arch/v850/kernel/v850e_cache.c:63:
+	/* 2. Read the ICC register and confirm that bit 12 (LOCK0) is
+  	      cleared.  Bit 13 of the ICC register is always cleared.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#280: FILE: arch/v850/kernel/v850e_cache.c:63:
+  	      cleared.  Bit 13 of the ICC register is always cleared.  */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#281: FILE: arch/v850/kernel/v850e_cache.c:64:
+	WAIT_UNTIL_CLEAR (V850E_CACHE_ICC & 0x1000);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#284: FILE: arch/v850/kernel/v850e_cache.c:67:
+	/* 3. Set the TCLR0 and TCLR1 bits of the ICC register as follows,
+	      when clearing way 0 and way 1 at the same time:

ERROR:CODE_INDENT: code indent should use tabs where possible
#285: FILE: arch/v850/kernel/v850e_cache.c:68:
+^I        (a) Set the TCLR0 and TCLR1 bits.$

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#288: FILE: arch/v850/kernel/v850e_cache.c:71:
+		(c) Perform (a) and (b) above again.  */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#290: FILE: arch/v850/kernel/v850e_cache.c:73:
+	WAIT_UNTIL_CLEAR (V850E_CACHE_ICC & 0x3);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#295: FILE: arch/v850/kernel/v850e_cache.c:78:
+	WAIT_UNTIL_CLEAR (V850E_CACHE_ICC & 0x3);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#301: FILE: arch/v850/kernel/v850e_cache.c:84:
+/* Flush or clear (or both) the data cache, depending on the value of FLAGS;
+   the procedure is the same for both, just the control bits used differ (and

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#302: FILE: arch/v850/kernel/v850e_cache.c:85:
+   both may be performed simultaneously).  */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#303: FILE: arch/v850/kernel/v850e_cache.c:86:
+static void dcache_op (unsigned short flags)

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#306: FILE: arch/v850/kernel/v850e_cache.c:89:
+	/* 1. Read the data cache control register (DCC) and confirm that bits
+	      0, 1, 4, and 5 (DC00, DC01, DC04, DC05) are all cleared.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#306: FILE: arch/v850/kernel/v850e_cache.c:89:
+	      0, 1, 4, and 5 (DC00, DC01, DC04, DC05) are all cleared.  */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#307: FILE: arch/v850/kernel/v850e_cache.c:90:
+	WAIT_UNTIL_CLEAR (V850E_CACHE_DCC & 0x33);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#310: FILE: arch/v850/kernel/v850e_cache.c:93:
+	/* 2. Clear DCC register bit 12 (DC12), bit 13 (DC13), or both
+	      depending on the way for which tags are to be cleared.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#310: FILE: arch/v850/kernel/v850e_cache.c:93:
+	      depending on the way for which tags are to be cleared.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#314: FILE: arch/v850/kernel/v850e_cache.c:97:
+	/* 3. Set DCC register bit 0 (DC00), bit 1 (DC01) or both depending on
+	      the way for which tags are to be cleared.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#317: FILE: arch/v850/kernel/v850e_cache.c:100:
+	      on the way to be data flushed.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#321: FILE: arch/v850/kernel/v850e_cache.c:104:
+	/* 4. Read DCC register bit DC00, DC01 [DC04, DC05], or both depending
+	      on the way for which tags were cleared [flushed] and confirm

WARNING:REPEATED_WORD: Possible repeated word: 'that'
#322: FILE: arch/v850/kernel/v850e_cache.c:105:
+	      that that bit is cleared.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#322: FILE: arch/v850/kernel/v850e_cache.c:105:
+	      that that bit is cleared.  */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#323: FILE: arch/v850/kernel/v850e_cache.c:106:
+	WAIT_UNTIL_CLEAR (V850E_CACHE_DCC & flags);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#328: FILE: arch/v850/kernel/v850e_cache.c:111:
+static inline void flush_dcache (void)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#333: FILE: arch/v850/kernel/v850e_cache.c:116:
+		dcache_op (0x30);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#338: FILE: arch/v850/kernel/v850e_cache.c:121:
+static inline void clear_dcache (void)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#343: FILE: arch/v850/kernel/v850e_cache.c:126:
+		dcache_op (0x33);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#348: FILE: arch/v850/kernel/v850e_cache.c:131:
+static inline void clear_dcache_no_flush (void)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#353: FILE: arch/v850/kernel/v850e_cache.c:136:
+		dcache_op (0x3);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#357: FILE: arch/v850/kernel/v850e_cache.c:140:
+static inline void cache_exec_after_store (void)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#359: FILE: arch/v850/kernel/v850e_cache.c:142:
+	flush_dcache ();

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#360: FILE: arch/v850/kernel/v850e_cache.c:143:
+	clear_icache ();

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#363: FILE: arch/v850/kernel/v850e_cache.c:146:
+
 ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#363: FILE: arch/v850/kernel/v850e_cache.c:146:
+^L$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#363: FILE: arch/v850/kernel/v850e_cache.c:146:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#366: FILE: arch/v850/kernel/v850e_cache.c:149:
+void flush_icache (void)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#368: FILE: arch/v850/kernel/v850e_cache.c:151:
+	cache_exec_after_store ();

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#371: FILE: arch/v850/kernel/v850e_cache.c:154:
+void flush_icache_range (unsigned long start, unsigned long end)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#373: FILE: arch/v850/kernel/v850e_cache.c:156:
+	cache_exec_after_store ();

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#376: FILE: arch/v850/kernel/v850e_cache.c:159:
+void flush_icache_page (struct vm_area_struct *vma, struct page *page)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#378: FILE: arch/v850/kernel/v850e_cache.c:161:
+	cache_exec_after_store ();

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#381: FILE: arch/v850/kernel/v850e_cache.c:164:
+void flush_icache_user_range (struct vm_area_struct *vma, struct page *page,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#384: FILE: arch/v850/kernel/v850e_cache.c:167:
+	cache_exec_after_store ();

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#387: FILE: arch/v850/kernel/v850e_cache.c:170:
+void flush_cache_sigtramp (unsigned long addr)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#389: FILE: arch/v850/kernel/v850e_cache.c:172:
+	cache_exec_after_store ();

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#414: FILE: include/asm-v850/cacheflush.h:25:
+/* The following are all used by the kernel in ways that only affect
+   systems with MMUs, so we don't need them.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#414: FILE: include/asm-v850/cacheflush.h:25:
+   systems with MMUs, so we don't need them.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#424: FILE: include/asm-v850/cacheflush.h:35:
+/* Some systems have no cache at all, in which case we don't need these
+   either.  */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#424: FILE: include/asm-v850/cacheflush.h:35:
+   either.  */

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#439: FILE: include/asm-v850/cacheflush.h:49:
+extern void flush_icache (void);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#439: FILE: include/asm-v850/cacheflush.h:49:
+extern void flush_icache (void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#440: FILE: include/asm-v850/cacheflush.h:50:
+extern void flush_icache_range (unsigned long start, unsigned long end);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#440: FILE: include/asm-v850/cacheflush.h:50:
+extern void flush_icache_range (unsigned long start, unsigned long end);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#441: FILE: include/asm-v850/cacheflush.h:51:
+extern void flush_icache_page (struct vm_area_struct *vma, struct page *page);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#441: FILE: include/asm-v850/cacheflush.h:51:
+extern void flush_icache_page (struct vm_area_struct *vma, struct page *page);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#442: FILE: include/asm-v850/cacheflush.h:52:
+extern void flush_icache_user_range (struct vm_area_struct *vma,

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#442: FILE: include/asm-v850/cacheflush.h:52:
+extern void flush_icache_user_range (struct vm_area_struct *vma,

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#445: FILE: include/asm-v850/cacheflush.h:55:
+extern void flush_cache_sigtramp (unsigned long addr);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#445: FILE: include/asm-v850/cacheflush.h:55:
+extern void flush_cache_sigtramp (unsigned long addr);

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#537: FILE: include/asm-v850/v850e_cache.h:1:
+/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#538: FILE: include/asm-v850/v850e_cache.h:2:
+ * include/asm-v850/v850e_cache.h -- Cache control for V850E cache memories

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#551: FILE: include/asm-v850/v850e_cache.h:15:
+/* This file implements cache control for the rather simple cache used on
+   some V850E CPUs, specifically the NB85E/TEG CPU-core and the V850E/ME2

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#553: FILE: include/asm-v850/v850e_cache.h:17:
+   implementation.  */

CHECK:LINE_SPACING: Please don't use multiple blank lines
#560: FILE: include/asm-v850/v850e_cache.h:24:
+
+

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#563: FILE: include/asm-v850/v850e_cache.h:27:
+#define V850E_CACHE_BHC		(*(volatile u16 *)V850E_CACHE_BHC_ADDR)

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#565: FILE: include/asm-v850/v850e_cache.h:29:
+#define V850E_CACHE_ICC		(*(volatile u16 *)V850E_CACHE_ICC_ADDR)

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#567: FILE: include/asm-v850/v850e_cache.h:31:
+#define V850E_CACHE_ISI		(*(volatile u16 *)V850E_CACHE_ISI_ADDR)

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#569: FILE: include/asm-v850/v850e_cache.h:33:
+#define V850E_CACHE_DCC		(*(volatile u16 *)V850E_CACHE_DCC_ADDR)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#577: FILE: include/asm-v850/v850e_cache.h:41:
+
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#580: FILE: include/asm-v850/v850e_cache.h:44:
+void v850e_cache_enable (u16 bhc, u16 icc, u16 dcc);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#583: FILE: include/asm-v850/v850e_cache.h:47:
+
+

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000353497.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 3 errors, 79 warnings, 10 checks, 276 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000353497.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
