ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#64: 
--- a/drivers/scsi/scsi_error.c	Fri Oct  4 08:04:49 2002

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#73: FILE: drivers/scsi/scsi_error.c:94:
+	SCSI_LOG_ERROR_RECOVERY(5, printk("%s: scmd: %p, time:"

WARNING:SPLIT_STRING: quoted string split across lines
#74: FILE: drivers/scsi/scsi_error.c:95:
+	SCSI_LOG_ERROR_RECOVERY(5, printk("%s: scmd: %p, time:"
+					  " %d, (%p)\n", __FUNCTION__,

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#74: FILE: drivers/scsi/scsi_error.c:95:
+					  " %d, (%p)\n", __FUNCTION__,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#85: FILE: drivers/scsi/scsi_error.c:119:
+	SCSI_LOG_ERROR_RECOVERY(5, printk("%s: scmd: %p,"

WARNING:SPLIT_STRING: quoted string split across lines
#86: FILE: drivers/scsi/scsi_error.c:120:
+	SCSI_LOG_ERROR_RECOVERY(5, printk("%s: scmd: %p,"
+					 " rtn: %d\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#86: FILE: drivers/scsi/scsi_error.c:120:
+					 " rtn: %d\n", __FUNCTION__,

WARNING:SPLIT_STRING: quoted string split across lines
#96: FILE: drivers/scsi/scsi_error.c:154:
 	SCSI_LOG_TIMEOUT(3, printk("Command timed out active=%d busy=%d "
+				   " failed=%d\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#105: FILE: drivers/scsi/scsi_error.c:177:
+	SCSI_LOG_ERROR_RECOVERY(5, printk("%s: rtn: %d\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#105: FILE: drivers/scsi/scsi_error.c:177:
+	SCSI_LOG_ERROR_RECOVERY(5, printk("%s: rtn: %d\n", __FUNCTION__,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#117: FILE: drivers/scsi/scsi_error.c:213:
+				printk("%s: %d:%d:%d:%d cmds failed: %d,"

WARNING:SPLIT_STRING: quoted string split across lines
#118: FILE: drivers/scsi/scsi_error.c:214:
+				printk("%s: %d:%d:%d:%d cmds failed: %d,"
+				       " timedout: %d\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#119: FILE: drivers/scsi/scsi_error.c:215:
+				       __FUNCTION__, shost->host_no,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#130: FILE: drivers/scsi/scsi_error.c:224:
+	SCSI_LOG_ERROR_RECOVERY(2, printk("Total of %d commands on %d"

WARNING:SPLIT_STRING: quoted string split across lines
#131: FILE: drivers/scsi/scsi_error.c:225:
+	SCSI_LOG_ERROR_RECOVERY(2, printk("Total of %d commands on %d"
+					  " devices require eh work\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#143: FILE: drivers/scsi/scsi_error.c:269:
+				SCSI_LOG_ERROR_RECOVERY(1, printk("Error hdlr"

WARNING:SPLIT_STRING: quoted string split across lines
#144: FILE: drivers/scsi/scsi_error.c:270:
+				SCSI_LOG_ERROR_RECOVERY(1, printk("Error hdlr"
+							  " prematurely woken"

WARNING:SPLIT_STRING: quoted string split across lines
#145: FILE: drivers/scsi/scsi_error.c:271:
+							  " prematurely woken"
+							  " cmds still active"

WARNING:SPLIT_STRING: quoted string split across lines
#146: FILE: drivers/scsi/scsi_error.c:272:
+							  " cmds still active"
+							  " (%p %x %d)\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#155: FILE: drivers/scsi/scsi_error.c:444:
+	SCSI_LOG_ERROR_RECOVERY(3, printk("%s: scmd:%p\n", __FUNCTION__,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#155: FILE: drivers/scsi/scsi_error.c:444:
+	SCSI_LOG_ERROR_RECOVERY(3, printk("%s: scmd:%p\n", __FUNCTION__,

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#162: FILE: drivers/scsi/scsi_error.c:450:
+		printk("%s: eh_action NULL\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#162: FILE: drivers/scsi/scsi_error.c:450:
+		printk("%s: eh_action NULL\n", __FUNCTION__);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#172: FILE: drivers/scsi/scsi_error.c:476:
+	SCSI_LOG_ERROR_RECOVERY(3, printk("%s scmd: %p result: %x\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#173: FILE: drivers/scsi/scsi_error.c:477:
+					  __FUNCTION__, scmd, scmd->result));

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#184: FILE: drivers/scsi/scsi_error.c:557:
+		SCSI_LOG_ERROR_RECOVERY(3, printk("%s: scmd: %p, rtn:%x\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#185: FILE: drivers/scsi/scsi_error.c:558:
+						  __FUNCTION__, scmd, rtn));

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#194: FILE: drivers/scsi/scsi_error.c:626:
+		printk("%s: cannot allocate scsi_result.\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#194: FILE: drivers/scsi/scsi_error.c:626:
+		printk("%s: cannot allocate scsi_result.\n", __FUNCTION__);

WARNING:SPLIT_STRING: quoted string split across lines
#204: FILE: drivers/scsi/scsi_error.c:762:
 		SCSI_LOG_ERROR_RECOVERY(2, printk("%s: requesting sense"
+						  " for tgt: %d\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#205: FILE: drivers/scsi/scsi_error.c:763:
+						  __FUNCTION__, scmd->target));

WARNING:SPLIT_STRING: quoted string split across lines
#212: FILE: drivers/scsi/scsi_error.c:769:
 		SCSI_LOG_ERROR_RECOVERY(3, printk("sense requested for %p"
+						  " result %x\n", scmd,

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 32)
#230: FILE: drivers/scsi/scsi_error.c:1003:
+		if ((rtn == SUCCESS) && (!scsi_eh_tur(scmd)))
 				for (scmd = sc_todo; scmd; scmd = scmd->bh_next)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'rtn == SUCCESS'
#230: FILE: drivers/scsi/scsi_error.c:1003:
+		if ((rtn == SUCCESS) && (!scsi_eh_tur(scmd)))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#251: FILE: drivers/scsi/scsi_error.c:1172:
+		printk(KERN_INFO "%s: Device offlined - not"

WARNING:SPLIT_STRING: quoted string split across lines
#252: FILE: drivers/scsi/scsi_error.c:1173:
+		printk(KERN_INFO "%s: Device offlined - not"
+				" ready or command retry failed"

WARNING:SPLIT_STRING: quoted string split across lines
#253: FILE: drivers/scsi/scsi_error.c:1174:
+				" ready or command retry failed"
+				" after error recovery: host"

WARNING:SPLIT_STRING: quoted string split across lines
#254: FILE: drivers/scsi/scsi_error.c:1175:
+				" after error recovery: host"
+				" %d channel %d id %d lun %d\n",

WARNING:SPLIT_STRING: quoted string split across lines
#263: FILE: drivers/scsi/scsi_error.c:1247:
 		SCSI_LOG_ERROR_RECOVERY(5, printk("%s: device offline - report"
+						  " as SUCCESS\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#272: FILE: drivers/scsi/scsi_error.c:1366:
+		printk("scsi%d (%d,%d,%d) : reservation conflict\n",

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#282: FILE: drivers/scsi/scsi_error.c:1562:
+	SCSI_LOG_ERROR_RECOVERY(3, printk("Wake up parent \n"));

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#282: FILE: drivers/scsi/scsi_error.c:1562:
+	SCSI_LOG_ERROR_RECOVERY(3, printk("Wake up parent \n"));

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000426808.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 1 errors, 40 warnings, 1 checks, 201 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000426808.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
