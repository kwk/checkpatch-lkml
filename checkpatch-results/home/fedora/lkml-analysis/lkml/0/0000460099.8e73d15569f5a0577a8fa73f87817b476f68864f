WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#30: 
- pbus_size_bridges: pass #2 (pass #1 is PCI probing, common for all archs);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#72: FILE: arch/alpha/kernel/pci.c:334:
+/* FIXME: On older alphas we could use dense memory space
+	  to access prefetchable resources. */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#72: FILE: arch/alpha/kernel/pci.c:334:
+	  to access prefetchable resources. */

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pci_dev *' should also have an identifier name
#121: FILE: include/linux/pci.h:586:
+void pdev_sort_resources(struct pci_dev *, struct resource_list *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct resource_list *' should also have an identifier name
#121: FILE: include/linux/pci.h:586:
+void pdev_sort_resources(struct pci_dev *, struct resource_list *);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#233: FILE: drivers/pci/setup-bus.c:84:
+/* Initialize bridges with base/limit values we have collected.
+   PCI-to-PCI Bridge Architecture Specification rev. 1.1 (1998)

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#236: FILE: drivers/pci/setup-bus.c:87:
+   value greater than limit to the bridge's base/limit registers.  */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#257: FILE: drivers/pci/setup-bus.c:107:
+	DBGC((KERN_INFO "PCI: Bus %d, bridge: %s\n",
+			bus->number, bridge->name));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#275: FILE: drivers/pci/setup-bus.c:121:
+		DBGC((KERN_INFO "  IO window: %04lx-%04lx\n",
+				ranges.io_start, ranges.io_end));

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#277: FILE: drivers/pci/setup-bus.c:123:
+	}
+	else {

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#277: FILE: drivers/pci/setup-bus.c:123:
+	else {

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#288: FILE: drivers/pci/setup-bus.c:132:
+	/* Set up the top and bottom of the PCI Memory segment
+	   for this bus. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#288: FILE: drivers/pci/setup-bus.c:132:
+	   for this bus. */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#293: FILE: drivers/pci/setup-bus.c:137:
+		DBGC((KERN_INFO "  MEM window: %08lx-%08lx\n",
+				ranges.mem_start, ranges.mem_end));

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#295: FILE: drivers/pci/setup-bus.c:139:
+	}
+	else {

CHECK:BRACES: Unbalanced braces around else statement
#295: FILE: drivers/pci/setup-bus.c:139:
+	else {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#318: FILE: drivers/pci/setup-bus.c:154:
+		DBGC((KERN_INFO "  PREFETCH window: %08lx-%08lx\n",
+				ranges.prefetch_start, ranges.prefetch_end));

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#320: FILE: drivers/pci/setup-bus.c:156:
+	}
+	else {

CHECK:BRACES: Unbalanced braces around else statement
#320: FILE: drivers/pci/setup-bus.c:156:
+	else {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#328: FILE: drivers/pci/setup-bus.c:163:
+	   Enable ISA in either case (FIXME!). */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#334: FILE: drivers/pci/setup-bus.c:169:
+/* Check whether the bridge supports optional I/O and
+   prefetchable memory ranges. If not, the respective

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#335: FILE: drivers/pci/setup-bus.c:170:
+   base/limit registers must be read-only and read as 0. */

ERROR:CODE_INDENT: code indent should use tabs where possible
#355: FILE: drivers/pci/setup-bus.c:189:
+ ^I^Ipci_write_config_word(bridge, PCI_IO_BASE, 0x0);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#355: FILE: drivers/pci/setup-bus.c:189:
+ ^I^Ipci_write_config_word(bridge, PCI_IO_BASE, 0x0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#355: FILE: drivers/pci/setup-bus.c:189:
+ ^I^Ipci_write_config_word(bridge, PCI_IO_BASE, 0x0);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#356: FILE: drivers/pci/setup-bus.c:190:
+ ^I}$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#356: FILE: drivers/pci/setup-bus.c:190:
+ ^I}$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#356: FILE: drivers/pci/setup-bus.c:190:
+ ^I}$

ERROR:CODE_INDENT: code indent should use tabs where possible
#357: FILE: drivers/pci/setup-bus.c:191:
+ ^Iif (io)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#357: FILE: drivers/pci/setup-bus.c:191:
+ ^Iif (io)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#357: FILE: drivers/pci/setup-bus.c:191:
+ ^Iif (io)$

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#360: FILE: drivers/pci/setup-bus.c:194:
+	/*  DECchip 21050 pass 2 errata: the bridge may miss an address
+	    disconnect boundary by one PCI data phase.

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#361: FILE: drivers/pci/setup-bus.c:195:
+	    Workaround: do not use prefetching on this device. */

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#367: FILE: drivers/pci/setup-bus.c:201:
+		pci_write_config_dword(bridge, PCI_PREF_MEMORY_BASE,
+					       0xfff0fff0);

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#376: FILE: drivers/pci/setup-bus.c:210:
+/* Sizing the IO windows of the PCI-PCI bridge is trivial,
+   since these windows have 4K granularity and the IO ranges

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#378: FILE: drivers/pci/setup-bus.c:212:
+   We must be careful with the ISA aliasing though. */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#398: FILE: drivers/pci/setup-bus.c:223:
+	for (ln=bus->devices.next; ln != &bus->devices; ln=ln->next) {
 	       ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#398: FILE: drivers/pci/setup-bus.c:223:
+	for (ln=bus->devices.next; ln != &bus->devices; ln=ln->next) {
 	                                                  ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#401: FILE: drivers/pci/setup-bus.c:226:
+^I^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#409: FILE: drivers/pci/setup-bus.c:234:
+				BUG();

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#420: FILE: drivers/pci/setup-bus.c:245:
+			size1 += 4*1024;
 			          ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#423: FILE: drivers/pci/setup-bus.c:248:
+/* To be fixed in 2.5: we should have sort of HAVE_ISA
+   flag in the struct pci_bus. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#423: FILE: drivers/pci/setup-bus.c:248:
+   flag in the struct pci_bus. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#439: FILE: drivers/pci/setup-bus.c:263:
+/* Calculate the size of the bus and minimal alignment which
+   guarantees that all child resources fit in this size. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#439: FILE: drivers/pci/setup-bus.c:263:
+   guarantees that all child resources fit in this size. */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#454: FILE: drivers/pci/setup-bus.c:278:
+	for (ln=bus->devices.next; ln != &bus->devices; ln=ln->next) {
 	       ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#454: FILE: drivers/pci/setup-bus.c:278:
+	for (ln=bus->devices.next; ln != &bus->devices; ln=ln->next) {
 	                                                  ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#457: FILE: drivers/pci/setup-bus.c:281:
+^I^I$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#465: FILE: drivers/pci/setup-bus.c:289:
+				BUG();

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#471: FILE: drivers/pci/setup-bus.c:295:
+				printk(KERN_WARNING "PCI: region %s/%d "

WARNING:SPLIT_STRING: quoted string split across lines
#472: FILE: drivers/pci/setup-bus.c:296:
+				printk(KERN_WARNING "PCI: region %s/%d "
+				       "too large: %lx-%lx\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#481: FILE: drivers/pci/setup-bus.c:305:
+			/* Exclude ranges with size > align from
+			   calculation of the alignment. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#481: FILE: drivers/pci/setup-bus.c:305:
+			   calculation of the alignment. */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#525: FILE: drivers/pci/setup-bus.c:344:
+	for (ln=bus->children.next; ln != &bus->children; ln=ln->next)
 	       ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#525: FILE: drivers/pci/setup-bus.c:344:
+	for (ln=bus->children.next; ln != &bus->children; ln=ln->next)
 	                                                    ^

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#539: FILE: drivers/pci/setup-bus.c:355:
+	mask = type = IORESOURCE_MEM;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:BRACES: braces {} are not necessary for single statement blocks
#570: FILE: drivers/pci/setup-bus.c:375:
+		for (b = bus; b->parent; b = b->parent) {
+			b->resource[0]->flags |= IORESOURCE_BUS_HAS_VGA;
+		}

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#576: FILE: drivers/pci/setup-bus.c:379:
+	for (ln=bus->children.next; ln != &bus->children; ln=ln->next) {
 	       ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#576: FILE: drivers/pci/setup-bus.c:379:
+	for (ln=bus->children.next; ln != &bus->children; ln=ln->next) {
 	                                                    ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#602: FILE: drivers/pci/setup-bus.c:394:
+	/* Depth first, calculate sizes and alignments of all
+	   subordinate buses. */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#602: FILE: drivers/pci/setup-bus.c:394:
+	   subordinate buses. */

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#603: FILE: drivers/pci/setup-bus.c:395:
+	for(ln=pci_root_buses.next; ln != &pci_root_buses; ln=ln->next)
 	      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#603: FILE: drivers/pci/setup-bus.c:395:
+	for(ln=pci_root_buses.next; ln != &pci_root_buses; ln=ln->next)
 	                                                     ^

ERROR:SPACING: space required before the open parenthesis '('
#603: FILE: drivers/pci/setup-bus.c:395:
+	for(ln=pci_root_buses.next; ln != &pci_root_buses; ln=ln->next)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#606: FILE: drivers/pci/setup-bus.c:398:
+	for(ln=pci_root_buses.next; ln != &pci_root_buses; ln=ln->next)
 	      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#606: FILE: drivers/pci/setup-bus.c:398:
+	for(ln=pci_root_buses.next; ln != &pci_root_buses; ln=ln->next)
 	                                                     ^

ERROR:SPACING: space required before the open parenthesis '('
#606: FILE: drivers/pci/setup-bus.c:398:
+	for(ln=pci_root_buses.next; ln != &pci_root_buses; ln=ln->next)

WARNING:SPLIT_STRING: quoted string split across lines
#657: FILE: drivers/pci/setup-res.c:157:
 			printk(KERN_WARNING "PCI: Ignore bogus resource %d "
+					    "[%lx:%lx] of %s\n",

WARNING:SPLIT_STRING: quoted string split across lines
#685: FILE: drivers/pci/setup-res.c:177:
+					panic("pdev_sort_resources(): "
+					      "kmalloc() failed!\n");

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000460099.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 22 errors, 37 warnings, 10 checks, 629 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000460099.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
