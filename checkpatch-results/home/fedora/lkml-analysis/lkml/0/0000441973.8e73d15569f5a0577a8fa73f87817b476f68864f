WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#33: 
At least I can no longer reproduce the errors after I added the optimization

ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#82: 
--- a/Documentation/filesystems/ntfs.txt	Mon Aug  5 00:08:29 2002

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

WARNING:DEPRECATED_VARIABLE: Use of EXTRA_CFLAGS is deprecated, please use `ccflags-y instead.
#131: FILE: fs/ntfs/Makefile:8:
+EXTRA_CFLAGS = -DNTFS_VERSION=\"2.0.23\"

EXTRA_{A,C,CPP,LD}FLAGS are deprecated and should be replaced by the new
flags added via commit f77bf01425b1 ("kbuild: introduce ccflags-y,
asflags-y and ldflags-y").

The following conversion scheme maybe used::

  EXTRA_AFLAGS    ->  asflags-y
  EXTRA_CFLAGS    ->  ccflags-y
  EXTRA_CPPFLAGS  ->  cppflags-y
  EXTRA_LDFLAGS   ->  ldflags-y

See:

  1. https://lore.kernel.org/lkml/20070930191054.GA15876@uranus.ravnborg.org/
  2. https://lore.kernel.org/lkml/1313384834-24433-12-git-send-email-lacombar@gmail.com/
  3. https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#compilation-flags

ERROR:TRAILING_WHITESPACE: trailing whitespace
#224: FILE: fs/ntfs/compress.c:611:
+^I^I/*      $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#229: FILE: fs/ntfs/compress.c:616:
+^I^I * overoptimises the code without the barrier and it doesn't $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#231: FILE: fs/ntfs/compress.c:618:
+^I^I */      $

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#235: FILE: fs/ntfs/compress.c:622:
+					"uptodate! Unplugging the disk queue " 
 					 ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

ERROR:TRAILING_WHITESPACE: trailing whitespace
#235: FILE: fs/ntfs/compress.c:622:
+^I^I^I^I^I"uptodate! Unplugging the disk queue " $

WARNING:SPLIT_STRING: quoted string split across lines
#235: FILE: fs/ntfs/compress.c:622:
+			ntfs_warning(vol->sb, "Buffer is unlocked but not "
+					"uptodate! Unplugging the disk queue " 

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SPLIT_STRING: quoted string split across lines
#236: FILE: fs/ntfs/compress.c:623:
+					"uptodate! Unplugging the disk queue " 
+					"and rescheduling.");

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#243: FILE: fs/ntfs/compress.c:630:
+			ntfs_warning(vol->sb, "Buffer is now uptodate. Good.");
 			                                     ^^^^^^^^

WARNING:LIKELY_MISUSE: nested (un)?likely() calls, IS_ERR already uses unlikely() internally
#269: FILE: fs/ntfs/dir.c:88:
+	if (unlikely(IS_ERR(m))) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#271: FILE: fs/ntfs/dir.c:90:
+		ntfs_error(sb, "map_mft_record() failed with error code %ld.",
+				-PTR_ERR(m));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#524: FILE: fs/ntfs/dir.c:631:
+		ntfs_error(sb, "map_mft_record() failed with error code %ld.",
+				-PTR_ERR(m));

WARNING:LIKELY_MISUSE: nested (un)?likely() calls, IS_ERR already uses unlikely() internally
#732: FILE: fs/ntfs/dir.c:1123:
+	if (unlikely(IS_ERR(m))) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#763: FILE: fs/ntfs/dir.c:1184:
+^Im = NULL; $

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#803: FILE: fs/ntfs/inode.c:281:
+	BUG_ON(ni->page || !atomic_dec_and_test(&ni->count));

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#812: FILE: fs/ntfs/inode.c:302:
+	BUG_ON(ni->page || !atomic_dec_and_test(&ni->count));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#994: FILE: fs/ntfs/malloc.h:56:
+	if (likely(((unsigned long)addr < VMALLOC_START) ||
+			((unsigned long)addr >= VMALLOC_END ))) {

ERROR:SPACING: space prohibited before that close parenthesis ')'
#994: FILE: fs/ntfs/malloc.h:56:
+			((unsigned long)addr >= VMALLOC_END ))) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1034: FILE: fs/ntfs/mft.c:137:
+	BUG_ON(ni->page);

WARNING:LIKELY_MISUSE: nested (un)?likely() calls, IS_ERR already uses unlikely() internally
#1058: FILE: fs/ntfs/mft.c:160:
+	if (likely(!IS_ERR(page))) {

WARNING:TYPO_SPELLING: 'invokation' may be misspelled - perhaps 'invocation'?
#1130: FILE: fs/ntfs/mft.c:208:
+ * to use them because of the read_cache_page() invokation and the code becomes
                                                 ^^^^^^^^^^

WARNING:LIKELY_MISUSE: nested (un)?likely() calls, IS_ERR already uses unlikely() internally
#1168: FILE: fs/ntfs/mft.c:235:
+	if (likely(!IS_ERR(m)))

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1211: FILE: fs/ntfs/mft.c:260:
+	BUG_ON(!ni->page);

WARNING:RETURN_VOID: void function return statements are not generally useful
#1218: FILE: fs/ntfs/mft.c:267:
+	return;
+}

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#1241: FILE: fs/ntfs/mft.c:284:
+	BUG_ON(!page);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "ni"
#1282: FILE: fs/ntfs/mft.c:345:
+	if (likely(ni != NULL)) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:LIKELY_MISUSE: nested (un)?likely() calls, IS_ERR already uses unlikely() internally
#1292: FILE: fs/ntfs/mft.c:352:
+		if (likely(!IS_ERR(m))) {

WARNING:LIKELY_MISUSE: nested (un)?likely() calls, IS_ERR already uses unlikely() internally
#1321: FILE: fs/ntfs/mft.c:383:
+	if (unlikely(IS_ERR(m))) {

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1360: FILE: fs/ntfs/mft.h:34:
+extern MFT_RECORD *map_mft_record(ntfs_inode *ni);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#1361: FILE: fs/ntfs/mft.h:35:
+extern void unmap_mft_record(ntfs_inode *ni);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000441973.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 7 errors, 19 warnings, 6 checks, 1300 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000441973.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
