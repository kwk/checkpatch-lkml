WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#64: 
diff -durNp -X /tmp/diff.iiayAi linux-2.5.30/drivers/block/block_ioctl.c linux/drivers/block/block_ioctl.c

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#212: FILE: drivers/ide/ide.c:272:
+				printk(", ");

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#219: FILE: drivers/ide/ide.c:278:
+	printk(" ] ");

ERROR:OPEN_BRACE: open brace '{' following function definitions go on the next line
#295: FILE: drivers/ide/ide-disk.c:333:
+static ide_startstop_t special_intr(struct ata_device *drive, struct request *rq) {

The opening brace should be following the function definitions on the
next line.  For any non-functional block it should be on the same line
as the last construct.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#297: FILE: drivers/ide/ide-disk.c:335:
+	struct ata_channel *ch =drive->channel;
 	                       ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#298: FILE: drivers/ide/ide-disk.c:336:
+	struct ata_taskfile *ar = (struct ata_taskfile *) rq->cmd;

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#309: FILE: drivers/ide/ide-disk.c:347:
+				ata_read(drive, rq->buffer, ar->taskfile.sector_number * SECTOR_WORDS);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:USLEEP_RANGE: usleep_range is preferred over udelay; see Documentation/timers/timers-howto.rst
#312: FILE: drivers/ide/ide-disk.c:350:
+					udelay(100);

usleep_range() should be preferred over udelay(). The proper way of
using usleep_range() is mentioned in the kernel docs.

See: https://www.kernel.org/doc/html/latest/timers/timers-howto.html#delays-information-on-the-various-kernel-delay-sleep-mechanisms

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#317: FILE: drivers/ide/ide-disk.c:355:
+			ret = ata_error(drive, rq, __FUNCTION__);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'drive->addressing == 1'
#324: FILE: drivers/ide/ide-disk.c:362:
+		if ((drive->id->command_set_2 & 0x0400) &&
+				(drive->id->cfs_enable_2 & 0x0400) &&
+				(drive->addressing == 1)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#325: FILE: drivers/ide/ide-disk.c:363:
+		if ((drive->id->command_set_2 & 0x0400) &&
+				(drive->id->cfs_enable_2 & 0x0400) &&

CHECK:SPACING: No space is necessary after a cast
#359: FILE: drivers/ide/ide-disk.c:398:
+		ar = (struct ata_taskfile *) rq->cmd;

CHECK:BRACES: Unbalanced braces around else statement
#509: FILE: drivers/ide/ide-taskfile.c:101:
+	else {

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#521: FILE: drivers/ide/ide-taskfile.c:127:
+	else {

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#649: FILE: drivers/ide/ioctl.c:142:
+	switch (cmd) {
+		case CDROMCLOSETRAY:
[...]
+		case CDROMEJECT:
[...]
+		default:

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#710: FILE: drivers/ide/pcidma.c:104:
+	outb(inb(dma_base+2)|6, dma_base+2);	/* clear INTR & ERROR flags */
 	                 ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#710: FILE: drivers/ide/pcidma.c:104:
+	outb(inb(dma_base+2)|6, dma_base+2);	/* clear INTR & ERROR flags */
 	                    ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#710: FILE: drivers/ide/pcidma.c:104:
+	outb(inb(dma_base+2)|6, dma_base+2);	/* clear INTR & ERROR flags */
 	                                ^

WARNING:LONG_LINE: line length of 119 exceeds 100 columns
#750: FILE: drivers/ide/pdc4030.c:622:
+ide_startstop_t do_pdc4030_io(struct ata_device *drive, u8 cmd, struct hd_drive_task_hdr *taskfile, struct request *rq)

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#795: FILE: drivers/ide/pdc4030.c:730:
+	rf.device_head		= ((block >> 8) & 0x0f)|drive->select.all;
 	              		                       ^

CHECK:SPACING: spaces preferred around that '/' (ctx:VxV)
#835: FILE: drivers/ide/pdc4030.c:769:
+		timeout = jiffies + HZ/20; /* 50ms wait */
 		                      ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#843: FILE: drivers/ide/pdc4030.c:777:
+				printk(KERN_DEBUG "%s: read: waiting for "

ERROR:CODE_INDENT: code indent should use tabs where possible
#844: FILE: drivers/ide/pdc4030.c:778:
+^I^I^I^I                  "interrupt\n", drive->name);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPLIT_STRING: quoted string split across lines
#844: FILE: drivers/ide/pdc4030.c:778:
+				printk(KERN_DEBUG "%s: read: waiting for "
+				                  "interrupt\n", drive->name);

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#853: FILE: drivers/ide/pdc4030.c:787:
+		printk(KERN_ERR "%s: reading: No DRQ and not waiting - Odd!\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#854: FILE: drivers/ide/pdc4030.c:788:
+		printk(KERN_ERR "%s: reading: No DRQ and not waiting - Odd!\n",
+			drive->name);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#871: FILE: drivers/ide/pdc4030.c:805:
+		ret = ata_status_poll(drive, DATA_READY, drive->bad_wstat,
+					WAIT_DRQ, rq);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#873: FILE: drivers/ide/pdc4030.c:807:
+			printk(KERN_ERR "%s: no DRQ after issuing "

WARNING:SPLIT_STRING: quoted string split across lines
#874: FILE: drivers/ide/pdc4030.c:808:
+			printk(KERN_ERR "%s: no DRQ after issuing "
+			       "PROMISE_WRITE\n", drive->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#885: FILE: drivers/ide/pdc4030.c:819:
+		printk(KERN_ERR "pdc4030: command not READ or WRITE! Huh?\n");

CHECK:SPACING: No space is necessary after a cast
#939: FILE: drivers/ide/tcq.c:107:
+	ar = (struct ata_taskfile *) rq->cmd;

CHECK:SPACING: No space is necessary after a cast
#956: FILE: drivers/ide/tcq.c:542:
+	struct ata_taskfile *args = (struct ata_taskfile *) rq->cmd;

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000440692.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 4 errors, 12 warnings, 16 checks, 768 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000440692.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
