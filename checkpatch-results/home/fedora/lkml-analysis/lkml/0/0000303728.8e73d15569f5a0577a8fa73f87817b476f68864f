WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#42: 
diff -urN linux-2.5/drivers/video/platinumfb.c linuxppc-2.5-benh/drivers/video/platinumfb.c

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#95: FILE: drivers/video/platinumfb.c:100:
+int platinumfb_init(void);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#96: FILE: drivers/video/platinumfb.c:101:
+int platinumfb_setup(char*);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#96: FILE: drivers/video/platinumfb.c:101:
+int platinumfb_setup(char*);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'char*' should also have an identifier name
#96: FILE: drivers/video/platinumfb.c:101:
+int platinumfb_setup(char*);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

ERROR:SPACING: space required before the open parenthesis '('
#130: FILE: drivers/video/platinumfb.c:132:
+	if((err = platinum_var_to_par(&info->var, pinfo, 0))) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#130: FILE: drivers/video/platinumfb.c:132:
+	if((err = platinum_var_to_par(&info->var, pinfo, 0))) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#140: FILE: drivers/video/platinumfb.c:140:
+	init = platinum_reg_init[pinfo->vmode-1];
 	                                     ^

CHECK:SPACING: No space is necessary after a cast
#147: FILE: drivers/video/platinumfb.c:144:
+	info->screen_base = (char *) pinfo->frame_buffer + init->fb_offset + offset;

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#153: FILE: drivers/video/platinumfb.c:148:
+	info->fix.line_length = vmode_attrs[pinfo->vmode-1].hres * (1<<pinfo->cmode) + offset;
 	                                                ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#153: FILE: drivers/video/platinumfb.c:148:
+	info->fix.line_length = vmode_attrs[pinfo->vmode-1].hres * (1<<pinfo->cmode) + offset;
 	                                                             ^

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#154: FILE: drivers/video/platinumfb.c:149:
+	printk("line_length: %x\n", info->fix.line_length);

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#165: FILE: drivers/video/platinumfb.c:187:
+	volatile struct cmap_regs *cmap_regs = pinfo->cmap_regs;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#199: FILE: drivers/video/platinumfb.c:235:
+	volatile struct cmap_regs *cmap_regs = pinfo->cmap_regs;

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#203: FILE: drivers/video/platinumfb.c:238:
+	init = platinum_reg_init[pinfo->vmode-1];
 	                                     ^

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#231: FILE: drivers/video/platinumfb.c:262:
+	volatile struct platinum_regs	*platinum_regs = pinfo->platinum_regs;

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#232: FILE: drivers/video/platinumfb.c:263:
+	volatile struct cmap_regs	*cmap_regs = pinfo->cmap_regs;

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#251: FILE: drivers/video/platinumfb.c:279:
+	out_be32(&platinum_regs->reg[26+32].r, (pinfo->total_vram == 0x100000 ?
 	                               ^

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#255: FILE: drivers/video/platinumfb.c:282:
+	out_be32(&platinum_regs->reg[16].r, (unsigned) pinfo->frame_buffer_phys+init->fb_offset+0x10);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

CHECK:SPACING: No space is necessary after a cast
#255: FILE: drivers/video/platinumfb.c:282:
+	out_be32(&platinum_regs->reg[16].r, (unsigned) pinfo->frame_buffer_phys+init->fb_offset+0x10);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#255: FILE: drivers/video/platinumfb.c:282:
+	out_be32(&platinum_regs->reg[16].r, (unsigned) pinfo->frame_buffer_phys+init->fb_offset+0x10);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#255: FILE: drivers/video/platinumfb.c:282:
+	out_be32(&platinum_regs->reg[16].r, (unsigned) pinfo->frame_buffer_phys+init->fb_offset+0x10);
 	                                                                       ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#255: FILE: drivers/video/platinumfb.c:282:
+	out_be32(&platinum_regs->reg[16].r, (unsigned) pinfo->frame_buffer_phys+init->fb_offset+0x10);
 	                                                                                       ^

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#287: FILE: drivers/video/platinumfb.c:309:
+static void __devinit platinum_init_info(struct fb_info *info, struct fb_info_platinum *pinfo)

CHECK:SPACING: No space is necessary after a cast
#296: FILE: drivers/video/platinumfb.c:315:
+	info->screen_base = (char *) pinfo->frame_buffer + 0x20;

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#318: FILE: drivers/video/platinumfb.c:334:
+static int __devinit platinum_init_fb(struct fb_info *info)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#327: FILE: drivers/video/platinumfb.c:341:
+	printk(KERN_INFO "platinumfb: Monitor sense value = 0x%x, ", sense);

ERROR:SPACING: space required before the open parenthesis '('
#336: FILE: drivers/video/platinumfb.c:361:
+	while(default_cmode > CMODE_8 &&

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#341: FILE: drivers/video/platinumfb.c:365:
+	printk("platinumfb:  Using video mode %d and color mode %d.\n", default_vmode, default_cmode);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#341: FILE: drivers/video/platinumfb.c:365:
+	printk("platinumfb:  Using video mode %d and color mode %d.\n", default_vmode, default_cmode);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#369: FILE: drivers/video/platinumfb.c:395:
+	printk(KERN_INFO "fb%d: Apple Platinum frame buffer device\n", info->node);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#385: FILE: drivers/video/platinumfb.c:435:
+static int platinum_var_to_par(struct fb_var_screeninfo *var, $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#402: FILE: drivers/video/platinumfb.c:453:
+	if (!platinum_reg_init[vmode-1]) {
 	                            ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#403: FILE: drivers/video/platinumfb.c:454:
+		printk(KERN_ERR "platinum_var_to_par, vmode %d not valid.\n", vmode);

WARNING:LONG_LINE: line length of 111 exceeds 100 columns
#410: FILE: drivers/video/platinumfb.c:459:
+		printk(KERN_ERR "platinum_var_to_par, not enough ram for vmode %d, cmode %d.\n", vmode, cmode);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#410: FILE: drivers/video/platinumfb.c:459:
+		printk(KERN_ERR "platinum_var_to_par, not enough ram for vmode %d, cmode %d.\n", vmode, cmode);

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#428: FILE: drivers/video/platinumfb.c:471:
+	pinfo->xres = vmode_attrs[vmode-1].hres;
 	                               ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#429: FILE: drivers/video/platinumfb.c:472:
+	pinfo->yres = vmode_attrs[vmode-1].vres;
 	                               ^

WARNING:HOTPLUG_SECTION: Using __devinit is unnecessary
#454: FILE: drivers/video/platinumfb.c:526:
 static int __devinit platinumfb_probe(struct of_device* odev, const struct of_match *match)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#467: FILE: drivers/video/platinumfb.c:539:
+	printk(KERN_INFO "platinumfb: Found Apple Platinum video hardware\n");

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!info"
#472: FILE: drivers/video/platinumfb.c:542:
+	if (info == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#515: FILE: drivers/video/platinumfb.c:572:
+	out_be32(&pinfo->platinum_regs->reg[16].r, (unsigned)pinfo->frame_buffer_phys);

WARNING:LONG_LINE: line length of 111 exceeds 100 columns
#531: FILE: drivers/video/platinumfb.c:591:
+	printk(KERN_INFO "platinumfb: Total VRAM = %dMB (%d%d%d%d)\n", (int) (pinfo->total_vram / 1024 / 1024),

CHECK:SPACING: No space is necessary after a cast
#531: FILE: drivers/video/platinumfb.c:591:
+	printk(KERN_INFO "platinumfb: Total VRAM = %dMB (%d%d%d%d)\n", (int) (pinfo->total_vram / 1024 / 1024),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#531: FILE: drivers/video/platinumfb.c:591:
+	printk(KERN_INFO "platinumfb: Total VRAM = %dMB (%d%d%d%d)\n", (int) (pinfo->total_vram / 1024 / 1024),

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#546: FILE: drivers/video/platinumfb.c:602:
+		printk(KERN_INFO "platinumfb: DACula type 0x3c\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#551: FILE: drivers/video/platinumfb.c:606:
+		printk(KERN_INFO "platinumfb: DACula type 0x84\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#557: FILE: drivers/video/platinumfb.c:610:
+		printk(KERN_INFO "platinumfb: Unknown DACula type: %x\n", pinfo->dactype);

WARNING:HOTPLUG_SECTION: Using __devexit is unnecessary
#572: FILE: drivers/video/platinumfb.c:624:
 static int __devexit platinumfb_remove(struct of_device* odev)

ERROR:CODE_INDENT: code indent should use tabs where possible
#585: FILE: drivers/video/platinumfb.c:632:
+        unregister_framebuffer (info);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#585: FILE: drivers/video/platinumfb.c:632:
+        unregister_framebuffer (info);$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#585: FILE: drivers/video/platinumfb.c:632:
+        unregister_framebuffer (info);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#631: FILE: drivers/video/fbmem.c:106:
+extern int platinumfb_init(void);

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#632: FILE: drivers/video/fbmem.c:107:
+extern int platinumfb_setup(char*);

WARNING:AVOID_EXTERNS: externs should be avoided in .c files
#632: FILE: drivers/video/fbmem.c:107:
+extern int platinumfb_setup(char*);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'char*' should also have an identifier name
#632: FILE: drivers/video/fbmem.c:107:
+extern int platinumfb_setup(char*);

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000303728.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 7 errors, 34 warnings, 15 checks, 569 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000303728.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
