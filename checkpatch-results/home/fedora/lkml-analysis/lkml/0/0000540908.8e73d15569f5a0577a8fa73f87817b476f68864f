WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#29: 
I wrote the O_DIRECT zerocopy raw I/O support (dma from disk to the userspace

WARNING:TYPO_SPELLING: 'comparision' may be misspelled - perhaps 'comparison'?
#51: 
comparision between the bonnie numbers w/o and w/ O_DIRECT (the -o_direct param
^^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'cutted' may be misspelled - perhaps 'cut'?
#53: 
a -fast param to skip the slow seek test).  I cutted out the numbers that
                                              ^^^^^^

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#64: 
          400  xxxx xxxx 12999 12.1  5918 10.8  xxxx xxxx 13412 12.1   xxx  xxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#64: 
          400  xxxx xxxx 12999 12.1  5918 10.8  xxxx xxxx 13412 12.1   xxx  xxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#65: 
          400  xxxx xxxx 12960 12.3  5896 11.1  xxxx xxxx 13520 13.3   xxx  xxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#65: 
          400  xxxx xxxx 12960 12.3  5896 11.1  xxxx xxxx 13520 13.3   xxx  xxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#71: 
          400  xxxx xxxx 12810  1.8  5855  1.6  xxxx xxxx 13529  1.2   xxx  xxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#71: 
          400  xxxx xxxx 12810  1.8  5855  1.6  xxxx xxxx 13529  1.2   xxx  xxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#72: 
          400  xxxx xxxx 12814  1.8  5866  1.7  xxxx xxxx 13519  1.3   xxx  xxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#72: 
          400  xxxx xxxx 12814  1.8  5866  1.7  xxxx xxxx 13519  1.3   xxx  xxx

WARNING:TYPO_SPELLING: 'beause' may be misspelled - perhaps 'because'?
#75: 
beause we are some more synchronous and it takes a bit more of time between the
^^^^^^

WARNING:REPEATED_WORD: Possible repeated word: 'the'
#76: 
completion of one I/O request and the the sumbission of a new one and that's ok.

WARNING:TYPO_SPELLING: 'litte' may be misspelled - perhaps 'little'?
#77: 
(if you really care that litte difference can be covered by using async-io)
                         ^^^^^

WARNING:TYPO_SPELLING: 'meatadata' may be misspelled - perhaps 'metadata'?
#87: 
rawio device is: 1) walking of the meatadata in the fs [but that is in turn
                                   ^^^^^^^^^

WARNING:TYPO_SPELLING: 'mmaped' may be misspelled - perhaps 'mapped'?
#100: 
is mmaped during the o_direct the mmap view won't be updated, but o_direct
   ^^^^^^

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#148: 
          400  xxxx xxxx 11138  1.7  5880  3.2  xxxx xxxx 13519  1.7  xxxx xxxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#148: 
          400  xxxx xxxx 11138  1.7  5880  3.2  xxxx xxxx 13519  1.7  xxxx xxxx

WARNING:REPEATED_WORD: Possible repeated word: 'xxxx'
#148: 
          400  xxxx xxxx 11138  1.7  5880  3.2  xxxx xxxx 13519  1.7  xxxx xxxx

WARNING:TYPO_SPELLING: 'completly' may be misspelled - perhaps 'completely'?
#156: 
starting the direct I/O and this fixed the performance problem completly.
                                                               ^^^^^^^^^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#189: FILE: bonnie-o_direct.c:113:
+#define Chunk (1<<20)
                 ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:CAMELCASE: Avoid CamelCase: <Chunk>
#189: FILE: bonnie-o_direct.c:113:
+#define Chunk (1<<20)

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:BIT_MACRO: Prefer using the BIT macro
#189: FILE: bonnie-o_direct.c:113:
+#define Chunk (1<<20)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#191: FILE: bonnie-o_direct.c:115:
+#if defined(__alpha__) || defined(__i386__)

Architecture specific defines should be avoided wherever
possible.

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#202: FILE: bonnie-o_direct.c:154:
+  char   __buf[Chunk+~PAGE_MASK];$

CHECK:SPACING: spaces preferred around that '+' (ctx:VxO)
#202: FILE: bonnie-o_direct.c:154:
+  char   __buf[Chunk+~PAGE_MASK];
                     ^

ERROR:SPACING: space required before that '~' (ctx:OxV)
#202: FILE: bonnie-o_direct.c:154:
+  char   __buf[Chunk+~PAGE_MASK];
                      ^

CHECK:SPACING: No space is necessary after a cast
#203: FILE: bonnie-o_direct.c:155:
+  int    *buf = (int *) ((unsigned long) (__buf + ~PAGE_MASK) & PAGE_MASK);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#203: FILE: bonnie-o_direct.c:155:
+  int    *buf = (int *) ((unsigned long) (__buf + ~PAGE_MASK) & PAGE_MASK);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#211: FILE: bonnie-o_direct.c:173:
+  int    o_direct = 0, fast = 0;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#219: FILE: bonnie-o_direct.c:180:
+   for (next = 1; next < argc; next++)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (3, 4)
#219: FILE: bonnie-o_direct.c:180:
+   for (next = 1; next < argc; next++)
     if (argv[next][0] == '-')

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 14)
#222: FILE: bonnie-o_direct.c:183:
       if (strcmp(argv[next] + 1, "d") == 0)
+	      dir = argv[next + 1], next++;

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 14)
#225: FILE: bonnie-o_direct.c:185:
       else if (strcmp(argv[next] + 1, "s") == 0)
+	      size = atoi(argv[next + 1]), next++;

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (6, 14)
#228: FILE: bonnie-o_direct.c:187:
       else if (strcmp(argv[next] + 1, "m") == 0)
+	      machine = argv[next + 1], next++;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#231: FILE: bonnie-o_direct.c:189:
+      else if (strcmp(argv[next] + 1, "o_direct") == 0)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#233: FILE: bonnie-o_direct.c:191:
+      else if (strcmp(argv[next] + 1, "fast") == 0)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#246: FILE: bonnie-o_direct.c:207:
+  newfile(name, &fd, &stream, 1, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#252: FILE: bonnie-o_direct.c:213:
+  fsync(fd);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#261: FILE: bonnie-o_direct.c:224:
+  newfile(name, &fd, &stream, 0, o_direct);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#268: FILE: bonnie-o_direct.c:230:
+  if ((words = read(fd, buf, Chunk)) == -1)$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (2, 4)
#268: FILE: bonnie-o_direct.c:230:
+  if ((words = read(fd, buf, Chunk)) == -1)
     io_error("rewrite read");

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#268: FILE: bonnie-o_direct.c:230:
+  if ((words = read(fd, buf, Chunk)) == -1)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#276: FILE: bonnie-o_direct.c:244:
+  fsync(fd);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#284: FILE: bonnie-o_direct.c:251:
+  newfile(name, &fd, &stream, 1, o_direct);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#292: FILE: bonnie-o_direct.c:264:
+  fsync(fd);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#300: FILE: bonnie-o_direct.c:271:
+  newfile(name, &fd, &stream, 0, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#309: FILE: bonnie-o_direct.c:294:
+  newfile(name, &fd, &stream, 0, o_direct);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#317: FILE: bonnie-o_direct.c:311:
+  if (fast) {$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (2, 10)
#317: FILE: bonnie-o_direct.c:311:
+  if (fast) {
+	  delta[Lseek][Elapsed] = 1;

CHECK:CAMELCASE: Avoid CamelCase: <Lseek>
#318: FILE: bonnie-o_direct.c:312:
+	  delta[Lseek][Elapsed] = 1;

CHECK:CAMELCASE: Avoid CamelCase: <Elapsed>
#318: FILE: bonnie-o_direct.c:312:
+	  delta[Lseek][Elapsed] = 1;

WARNING:TABSTOP: Statements should start on a tabstop
#320: FILE: bonnie-o_direct.c:314:
+	  goto finish;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#321: FILE: bonnie-o_direct.c:315:
+  }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#331: FILE: bonnie-o_direct.c:355:
+      newfile(name, &fd, &stream, 0, 0);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#332: FILE: bonnie-o_direct.c:356:
+      srandom(next); /* must always generate the same sequence or you'll compare orange to apples */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#354: FILE: bonnie-o_direct.c:475:
+  int      o_direct;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#361: FILE: bonnie-o_direct.c:481:
+    *fd = open(name, O_RDWR | O_CREAT | O_EXCL | (o_direct ? O_DIRECT : 0), 0777);$

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (2, 4)
#363: FILE: bonnie-o_direct.c:483:
   else
+    *fd = open(name, O_RDWR | (o_direct ? O_DIRECT : 0), 0777);

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#365: FILE: bonnie-o_direct.c:484:
+    *fd = open(name, O_RDWR | (o_direct ? O_DIRECT : 0), 0777);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#374: FILE: bonnie-o_direct.c:497:
+    "usage: Bonnie [-d scratch-dir] [-s size-in-Mb] [-m machine-label] [-o_direct]\n");$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#384: FILE: bonnie-o_direct.c:567:
+  char buf[8192];$

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000540908.commit.8e73d15569f5a0577a8fa73f87817b476f68864f total: 2 errors, 52 warnings, 8 checks, 197 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

./tmp.EfiDkiSq0Q//home/fedora/lkml-analysis/lkml/0/patch.offset.0000540908.commit.8e73d15569f5a0577a8fa73f87817b476f68864f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
