WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#30: 
In-kernel and on-disk super block changes to support >32 bit blocks numbers.

WARNING:BAD_SIGN_OFF: 'Signed-off-by:' is the preferred signature form
#32: 
Signed-Off-By: Laurent Vivier <Laurent.Vivier@bull.net>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#55: FILE: fs/ext3/balloc.c:93:
+		      EXT3_BLOCK_BITMAP(desc,
+			      ext3_group_first_block_no(sb, block_group)));

WARNING:SPLIT_STRING: quoted string split across lines
#61: FILE: fs/ext3/balloc.c:97:
 			    "Cannot read block bitmap - "
+			    "block_group = %d, block_bitmap = "E3FSBLK,

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#61: FILE: fs/ext3/balloc.c:97:
+			    "block_group = %d, block_bitmap = "E3FSBLK,

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#64: FILE: fs/ext3/balloc.c:100:
+			    EXT3_BLOCK_BITMAP(desc,
+			      ext3_group_first_block_no(sb, block_group)));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#84: FILE: fs/ext3/balloc.c:363:
+	if (in_range (EXT3_BLOCK_BITMAP(desc,

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#85: FILE: fs/ext3/balloc.c:364:
+	if (in_range (EXT3_BLOCK_BITMAP(desc,
+				ext3_group_first_block_no(sb, block_group)),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#87: FILE: fs/ext3/balloc.c:366:
+	    in_range (EXT3_INODE_BITMAP(desc,

ERROR:CODE_INDENT: code indent should use tabs where possible
#88: FILE: fs/ext3/balloc.c:367:
+^I^I^I    ^Iext3_group_first_block_no(sb, block_group)),$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#88: FILE: fs/ext3/balloc.c:367:
+^I^I^I    ^Iext3_group_first_block_no(sb, block_group)),$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#88: FILE: fs/ext3/balloc.c:367:
+	    in_range (EXT3_INODE_BITMAP(desc,
+			    	ext3_group_first_block_no(sb, block_group)),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#90: FILE: fs/ext3/balloc.c:369:
+	    in_range (block,

ERROR:CODE_INDENT: code indent should use tabs where possible
#92: FILE: fs/ext3/balloc.c:371:
+^I^I^I      ^Iext3_group_first_block_no(sb, block_group)),$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#92: FILE: fs/ext3/balloc.c:371:
+^I^I^I      ^Iext3_group_first_block_no(sb, block_group)),$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#92: FILE: fs/ext3/balloc.c:371:
+		      EXT3_INODE_TABLE(desc,
+			      	ext3_group_first_block_no(sb, block_group)),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#95: FILE: fs/ext3/balloc.c:373:
+	    in_range (block + count - 1,

ERROR:CODE_INDENT: code indent should use tabs where possible
#97: FILE: fs/ext3/balloc.c:375:
+^I^I^I      ^Iext3_group_first_block_no(sb, block_group)),$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#97: FILE: fs/ext3/balloc.c:375:
+^I^I^I      ^Iext3_group_first_block_no(sb, block_group)),$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#97: FILE: fs/ext3/balloc.c:375:
+		      EXT3_INODE_TABLE(desc,
+			      	ext3_group_first_block_no(sb, block_group)),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#127: FILE: fs/ext3/balloc.c:1377:
+	if (in_range(EXT3_BLOCK_BITMAP(gdp, ext3_group_first_block_no(sb, group_no)),
+				ret_block, num) ||

ERROR:CODE_INDENT: code indent should use tabs where possible
#129: FILE: fs/ext3/balloc.c:1379:
+^I^I    ^I^Iret_block, num) ||$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#129: FILE: fs/ext3/balloc.c:1379:
+^I^I    ^I^Iret_block, num) ||$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#129: FILE: fs/ext3/balloc.c:1379:
+	    in_range(EXT3_BLOCK_BITMAP(gdp, ext3_group_first_block_no(sb, group_no)),
+		    		ret_block, num) ||

ERROR:CODE_INDENT: code indent should use tabs where possible
#131: FILE: fs/ext3/balloc.c:1381:
+^I^I^I    ^Iext3_group_first_block_no(sb, group_no)),$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#131: FILE: fs/ext3/balloc.c:1381:
+^I^I^I    ^Iext3_group_first_block_no(sb, group_no)),$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#131: FILE: fs/ext3/balloc.c:1381:
+	    in_range(ret_block, EXT3_INODE_TABLE(gdp,
+			    	ext3_group_first_block_no(sb, group_no)),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#135: FILE: fs/ext3/balloc.c:1384:
+	    in_range(ret_block + num - 1, EXT3_INODE_TABLE(gdp,
+			    ext3_group_first_block_no(sb, group_no)),

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#147: FILE: fs/ext3/balloc.c:1425:
+			    "block("E3FSBLK") >= blocks count("E3FSBLK") - "

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#172: FILE: fs/ext3/ialloc.c:64:
+	bh = sb_bread(sb, EXT3_INODE_BITMAP(desc,
+			      ext3_group_first_block_no(sb, block_group)));

WARNING:SPLIT_STRING: quoted string split across lines
#178: FILE: fs/ext3/ialloc.c:68:
 			    "Cannot read inode bitmap - "
+			    "block_group = %lu, inode_bitmap = %llu",

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#202: FILE: fs/ext3/inode.c:2436:
+	block = EXT3_INODE_TABLE((gdp+desc),
 	                             ^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#203: FILE: fs/ext3/inode.c:2437:
+	block = EXT3_INODE_TABLE((gdp+desc),
+			ext3_group_first_block_no(sb, block_group)) +

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#214: FILE: fs/ext3/inode.c:2506:
+				EXT3_INODE_BITMAP(desc,
+				     ext3_group_first_block_no(inode->i_sb,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#215: FILE: fs/ext3/inode.c:2507:
+				     ext3_group_first_block_no(inode->i_sb,
+						     block_group)));

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#239: FILE: fs/ext3/resize.c:821:
+	EXT3_BLOCK_BITMAP_SET(gdp, ext3_group_first_block_no(sb, gdb_num),
+				   input->block_bitmap); /* LV FIXME */

ERROR:CODE_INDENT: code indent should use tabs where possible
#241: FILE: fs/ext3/resize.c:823:
+^I^I^I           input->inode_bitmap); /* LV FIXME */$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#241: FILE: fs/ext3/resize.c:823:
+	EXT3_INODE_BITMAP_SET(gdp, ext3_group_first_block_no(sb, gdb_num),
+			           input->inode_bitmap); /* LV FIXME */

ERROR:CODE_INDENT: code indent should use tabs where possible
#243: FILE: fs/ext3/resize.c:825:
+^I^I^I          input->inode_table); /* LV FIXME */$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#243: FILE: fs/ext3/resize.c:825:
+	EXT3_INODE_TABLE_SET(gdp, ext3_group_first_block_no(sb, gdb_num),
+			          input->inode_table); /* LV FIXME */

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#298: FILE: fs/ext3/resize.c:1020:
+		printk(KERN_DEBUG "EXT3-fs: extended group to %llu blocks\n",

ERROR:CODE_INDENT: code indent should use tabs where possible
#314: FILE: fs/ext3/super.c:1156:
+^I^I    ^IEXT3_BLOCK_BITMAP(gdp, ext3_group_first_block_no(sb, i)) >=$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#314: FILE: fs/ext3/super.c:1156:
+^I^I    ^IEXT3_BLOCK_BITMAP(gdp, ext3_group_first_block_no(sb, i)) >=$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#452: FILE: include/linux/ext3_fs.h:144:
+	if (fs_block < (1ULL<<32) && group_base < (1ULL<<32))
 	                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#452: FILE: include/linux/ext3_fs.h:144:
+	if (fs_block < (1ULL<<32) && group_base < (1ULL<<32))
 	                                               ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#456: FILE: include/linux/ext3_fs.h:148:
+	BUG_ON ((group_base + gdp_block) != fs_block);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#456: FILE: include/linux/ext3_fs.h:148:
+	BUG_ON ((group_base + gdp_block) != fs_block);

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#464: FILE: include/linux/ext3_fs.h:156:
+	if (group_base >= (1ULL<<32))
 	                       ^

CHECK:SPACING: No space is necessary after a cast
#465: FILE: include/linux/ext3_fs.h:157:
+		return group_base + (s32) gdp_block;

CHECK:SPACING: No space is necessary after a cast
#467: FILE: include/linux/ext3_fs.h:159:
+	if ((s32) gdp_block >= 0 && gdp_block < group_base &&

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#468: FILE: include/linux/ext3_fs.h:160:
+	if ((s32) gdp_block >= 0 && gdp_block < group_base &&
+		  group_base + gdp_block >= (1ULL<<32))

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#468: FILE: include/linux/ext3_fs.h:160:
+		  group_base + gdp_block >= (1ULL<<32))
 		                                 ^

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#481: FILE: include/linux/ext3_fs.h:173:
+#define EXT3_BLOCK_BITMAP_SET(bg, group_base, value)	\
+	do {(bg)->bg_block_bitmap = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)

For the multi-statement macros, it is necessary to use the do-while
loop to avoid unpredictable code paths. The do-while loop helps to
group the multiple statements into a single one so that a
function-like macro can be used as a function only.

But for the single statement macros, it is unnecessary to use the
do-while loop. Although the code is syntactically correct but using
the do-while loop is redundant. So remove the do-while loop for single
statement macros.

ERROR:SPACING: space required after that ';' (ctx:VxV)
#482: FILE: include/linux/ext3_fs.h:174:
+	do {(bg)->bg_block_bitmap = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)
 	                                                                   ^

ERROR:SPACING: space required before the open parenthesis '('
#482: FILE: include/linux/ext3_fs.h:174:
+	do {(bg)->bg_block_bitmap = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#483: FILE: include/linux/ext3_fs.h:175:
+#define EXT3_INODE_BITMAP_SET(bg, group_base, value)	\
+	do {(bg)->bg_inode_bitmap = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)

ERROR:SPACING: space required after that ';' (ctx:VxV)
#484: FILE: include/linux/ext3_fs.h:176:
+	do {(bg)->bg_inode_bitmap = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)
 	                                                                   ^

ERROR:SPACING: space required before the open parenthesis '('
#484: FILE: include/linux/ext3_fs.h:176:
+	do {(bg)->bg_inode_bitmap = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)

WARNING:SINGLE_STATEMENT_DO_WHILE_MACRO: Single statement macros should not use a do {} while (0) loop
#485: FILE: include/linux/ext3_fs.h:177:
+#define EXT3_INODE_TABLE_SET(bg, group_base, value)	\
+	do {(bg)->bg_inode_table = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)

ERROR:SPACING: space required after that ';' (ctx:VxV)
#486: FILE: include/linux/ext3_fs.h:178:
+	do {(bg)->bg_inode_table = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)
 	                                                                  ^

ERROR:SPACING: space required before the open parenthesis '('
#486: FILE: include/linux/ext3_fs.h:178:
+	do {(bg)->bg_inode_table = EXT3_RELATIVE_ENCODE(group_base, value);} while(0)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#510: FILE: include/linux/ext3_fs.h:541:
 
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#511: FILE: include/linux/ext3_fs.h:542:
+#define EXT3_BLOCKS_COUNT(s)	\
+	(ext3_fsblk_t)(((__u64)le32_to_cpu((s)->s_blocks_count_hi) << 32) |	\
+	 	(__u64)le32_to_cpu((s)->s_blocks_count))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 's' - possible side-effects?
#511: FILE: include/linux/ext3_fs.h:542:
+#define EXT3_BLOCKS_COUNT(s)	\
+	(ext3_fsblk_t)(((__u64)le32_to_cpu((s)->s_blocks_count_hi) << 32) |	\
+	 	(__u64)le32_to_cpu((s)->s_blocks_count))

ERROR:CODE_INDENT: code indent should use tabs where possible
#513: FILE: include/linux/ext3_fs.h:544:
+^I ^I(__u64)le32_to_cpu((s)->s_blocks_count))$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#513: FILE: include/linux/ext3_fs.h:544:
+^I ^I(__u64)le32_to_cpu((s)->s_blocks_count))$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#514: FILE: include/linux/ext3_fs.h:545:
+#define EXT3_BLOCKS_COUNT_SET(s,v)	do {				\
                                ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 's' - possible side-effects?
#514: FILE: include/linux/ext3_fs.h:545:
+#define EXT3_BLOCKS_COUNT_SET(s,v)	do {				\
+	(s)->s_blocks_count = cpu_to_le32((v));				\
+	(s)->s_blocks_count_hi = cpu_to_le32(((__u64)(v)) >> 32);	\
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#514: FILE: include/linux/ext3_fs.h:545:
+#define EXT3_BLOCKS_COUNT_SET(s,v)	do {				\
+	(s)->s_blocks_count = cpu_to_le32((v));				\
+	(s)->s_blocks_count_hi = cpu_to_le32(((__u64)(v)) >> 32);	\
+} while (0)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#519: FILE: include/linux/ext3_fs.h:550:
+#define EXT3_R_BLOCKS_COUNT(s)	\
+	(ext3_fsblk_t)(((__u64)le32_to_cpu((s)->s_r_blocks_count_hi) << 32) |	\
+		 (__u64)le32_to_cpu((s)->s_r_blocks_count))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 's' - possible side-effects?
#519: FILE: include/linux/ext3_fs.h:550:
+#define EXT3_R_BLOCKS_COUNT(s)	\
+	(ext3_fsblk_t)(((__u64)le32_to_cpu((s)->s_r_blocks_count_hi) << 32) |	\
+		 (__u64)le32_to_cpu((s)->s_r_blocks_count))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#522: FILE: include/linux/ext3_fs.h:553:
+#define EXT3_R_BLOCKS_COUNT_SET(s,v)	do {				\
                                  ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 's' - possible side-effects?
#522: FILE: include/linux/ext3_fs.h:553:
+#define EXT3_R_BLOCKS_COUNT_SET(s,v)	do {				\
+	(s)->s_r_blocks_count = cpu_to_le32((v));			\
+	(s)->s_r_blocks_count_hi = cpu_to_le32(((__u64)(v)) >> 32);	\
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#522: FILE: include/linux/ext3_fs.h:553:
+#define EXT3_R_BLOCKS_COUNT_SET(s,v)	do {				\
+	(s)->s_r_blocks_count = cpu_to_le32((v));			\
+	(s)->s_r_blocks_count_hi = cpu_to_le32(((__u64)(v)) >> 32);	\
+} while (0)

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#527: FILE: include/linux/ext3_fs.h:558:
+#define EXT3_FREE_BLOCKS_COUNT(s)					\
+	(ext3_fsblk_t)(((__u64)le32_to_cpu((s)->s_free_blocks_count_hi) << 32) | \
+		 (__u64)le32_to_cpu((s)->s_free_blocks_count))

CHECK:MACRO_ARG_REUSE: Macro argument reuse 's' - possible side-effects?
#527: FILE: include/linux/ext3_fs.h:558:
+#define EXT3_FREE_BLOCKS_COUNT(s)					\
+	(ext3_fsblk_t)(((__u64)le32_to_cpu((s)->s_free_blocks_count_hi) << 32) | \
+		 (__u64)le32_to_cpu((s)->s_free_blocks_count))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#530: FILE: include/linux/ext3_fs.h:561:
+#define EXT3_FREE_BLOCKS_COUNT_SET(s,v)	do {				\
                                     ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 's' - possible side-effects?
#530: FILE: include/linux/ext3_fs.h:561:
+#define EXT3_FREE_BLOCKS_COUNT_SET(s,v)	do {				\
+	(s)->s_free_blocks_count = cpu_to_le32((v));			\
+	(s)->s_free_blocks_count_hi = cpu_to_le32(((__u64)(v)) >> 32);	\
+} while (0)

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#530: FILE: include/linux/ext3_fs.h:561:
+#define EXT3_FREE_BLOCKS_COUNT_SET(s,v)	do {				\
+	(s)->s_free_blocks_count = cpu_to_le32((v));			\
+	(s)->s_free_blocks_count_hi = cpu_to_le32(((__u64)(v)) >> 32);	\
+} while (0)

CHECK:SPACING: spaces preferred around that '|' (ctx:VxE)
#551: FILE: include/linux/ext3_fs.h:655:
+					 EXT3_FEATURE_RO_COMPAT_BTREE_DIR| \
 					                                 ^

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.62795.commit.60b4b675cf389126da270d5851142fc39ac001c0 total: 21 errors, 21 warnings, 38 checks, 461 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.62795.commit.60b4b675cf389126da270d5851142fc39ac001c0 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
