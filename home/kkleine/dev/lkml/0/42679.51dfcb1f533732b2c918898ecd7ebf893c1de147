CHECK:BIT_MACRO: Prefer using the BIT macro
#121: FILE: drivers/s390/sysinfo.c:76:
+#define LPAR_CHAR_DEDICATED	(1 << 7)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:BIT_MACRO: Prefer using the BIT macro
#122: FILE: drivers/s390/sysinfo.c:77:
+#define LPAR_CHAR_SHARED	(1 << 6)

CHECK:BIT_MACRO: Prefer using the BIT macro
#123: FILE: drivers/s390/sysinfo.c:78:
+#define LPAR_CHAR_LIMITED	(1 << 5)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#198: FILE: drivers/s390/sysinfo.c:102:
+	asm volatile(

ERROR:SPACING: space required after that ',' (ctx:VxV)
#203: FILE: drivers/s390/sysinfo.c:107:
+		EX_TABLE(0b,1b)
 		           ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#204: FILE: drivers/s390/sysinfo.c:108:
+		: "+d" (r0) : "d" (r1), "a" (sysinfo), "K" (-ENOSYS)

ENOSYS means that a nonexistent system call was called.
Earlier, it was wrongly used for things like invalid operations on
otherwise valid syscalls.  This should be avoided in new code.

See: https://lore.kernel.org/lkml/5eb299021dec23c1a48fa7d9f2c8b794e967766d.1408730669.git.luto@amacapital.net/

ERROR:SPACING: space prohibited before that close parenthesis ')'
#205: FILE: drivers/s390/sysinfo.c:109:
+		: "cc", "memory" );

CHECK:SPACING: No space is necessary after a cast
#214: FILE: drivers/s390/sysinfo.c:116:
+	return rc == -ENOSYS ? rc : (((unsigned int) rc) >> 28);

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#214: FILE: drivers/s390/sysinfo.c:116:
+	return rc == -ENOSYS ? rc : (((unsigned int) rc) >> 28);

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#230: FILE: drivers/s390/sysinfo.c:121:
+	if (stsi(info, 1, 1, 1) == -ENOSYS)

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#267: FILE: drivers/s390/sysinfo.c:157:
+#if 0 /* Currently unused */

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#277: FILE: drivers/s390/sysinfo.c:160:
+	if (stsi(info, 1, 2, 1) == -ENOSYS)

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#299: FILE: drivers/s390/sysinfo.c:179:
+	if (stsi(info, 1, 2, 2) == -ENOSYS)

CHECK:SPACING: No space is necessary after a cast
#302: FILE: drivers/s390/sysinfo.c:182:
+		((unsigned long) info + info->acc_offset);

WARNING:TYPO_SPELLING: 'stange' may be misspelled - perhaps 'strange'?
#321: FILE: drivers/s390/sysinfo.c:201:
+		 * The user-space needs to know about the stange
 		                                          ^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#329: FILE: drivers/s390/sysinfo.c:209:
+				       i, info->adjustment[i-2],
 				                            ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#330: FILE: drivers/s390/sysinfo.c:210:
+				       ext->alt_adjustment[i-2]);
 				                            ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#338: FILE: drivers/s390/sysinfo.c:218:
+				       i, info->adjustment[i-2]);
 				                            ^

WARNING:IF_0: Consider removing the code enclosed by this #if 0 and its #endif
#349: FILE: drivers/s390/sysinfo.c:228:
+#if 0 /* Currently unused */

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#359: FILE: drivers/s390/sysinfo.c:231:
+	if (stsi(info, 2, 2, 1) == -ENOSYS)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#363: FILE: drivers/s390/sysinfo.c:235:
+	EBCASC (info->sequence, sizeof(info->sequence));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#364: FILE: drivers/s390/sysinfo.c:236:
+	EBCASC (info->plant, sizeof(info->plant));

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#382: FILE: drivers/s390/sysinfo.c:247:
+	if (stsi(info, 2, 2, 2) == -ENOSYS)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#385: FILE: drivers/s390/sysinfo.c:250:
+	EBCASC (info->name, sizeof(info->name));

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#435: FILE: drivers/s390/sysinfo.c:290:
+	if (stsi(info, 3, 2, 2) == -ENOSYS)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#438: FILE: drivers/s390/sysinfo.c:293:
+		EBCASC (info->vm[i].name, sizeof(info->vm[i].name));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#439: FILE: drivers/s390/sysinfo.c:294:
+		EBCASC (info->vm[i].cpi, sizeof(info->vm[i].cpi));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#472: FILE: drivers/s390/sysinfo.c:321:
+	unsigned long info = get_zeroed_page (GFP_KERNEL);

CHECK:SPACING: No space is necessary after a cast
#482: FILE: drivers/s390/sysinfo.c:330:
+		len = stsi_1_1_1((struct sysinfo_1_1_1 *) info, page, len);

CHECK:SPACING: No space is necessary after a cast
#498: FILE: drivers/s390/sysinfo.c:333:
+		len = stsi_1_2_2((struct sysinfo_1_2_2 *) info, page, len);

CHECK:SPACING: No space is necessary after a cast
#520: FILE: drivers/s390/sysinfo.c:336:
+		len = stsi_2_2_2((struct sysinfo_2_2_2 *) info, page, len);

CHECK:SPACING: No space is necessary after a cast
#581: FILE: drivers/s390/sysinfo.c:339:
+		len = stsi_3_2_2((struct sysinfo_3_2_2 *) info, page, len);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#584: FILE: drivers/s390/sysinfo.c:341:
+	free_page (info);

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.42679.commit.51dfcb1f533732b2c918898ecd7ebf893c1de147 total: 2 errors, 18 warnings, 13 checks, 547 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.42679.commit.51dfcb1f533732b2c918898ecd7ebf893c1de147 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
