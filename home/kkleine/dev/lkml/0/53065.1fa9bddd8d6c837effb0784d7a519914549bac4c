WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#100: FILE: drivers/char/hw_random/intel-rng.c:99:
+/* AA
+	{ 0x8086, 0x2418, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#100: FILE: drivers/char/hw_random/intel-rng.c:99:
+	{ 0x8086, 0x2418, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#103: FILE: drivers/char/hw_random/intel-rng.c:102:
+/* AB
+	{ 0x8086, 0x2428, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#103: FILE: drivers/char/hw_random/intel-rng.c:102:
+	{ 0x8086, 0x2428, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#106: FILE: drivers/char/hw_random/intel-rng.c:105:
+/* ??
+	{ 0x8086, 0x2430, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#106: FILE: drivers/char/hw_random/intel-rng.c:105:
+	{ 0x8086, 0x2430, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#108: FILE: drivers/char/hw_random/intel-rng.c:107:
+/* BAM, CAM, DBM, FBM, GxM
+	{ 0x8086, 0x2448, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#108: FILE: drivers/char/hw_random/intel-rng.c:107:
+	{ 0x8086, 0x2448, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:TYPO_SPELLING: 'BA' may be misspelled - perhaps 'BY'?
#115: FILE: drivers/char/hw_random/intel-rng.c:114:
+/* BA, CA, DB, Ex, 6300, Fx, 631x/632x, Gx
    ^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#116: FILE: drivers/char/hw_random/intel-rng.c:115:
+/* BA, CA, DB, Ex, 6300, Fx, 631x/632x, Gx
+	{ 0x8086, 0x244e, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#116: FILE: drivers/char/hw_random/intel-rng.c:115:
+	{ 0x8086, 0x244e, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:TYPO_SPELLING: 'BA' may be misspelled - perhaps 'BY'?
#117: FILE: drivers/char/hw_random/intel-rng.c:116:
+	{ 0x8086, 0x2440, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, /* BA */
 	                                                         ^^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#141: FILE: drivers/char/hw_random/intel-rng.c:140:
+/* E
+	{ 0x8086, 0x245e, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#141: FILE: drivers/char/hw_random/intel-rng.c:140:
+	{ 0x8086, 0x245e, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0, }, */

WARNING:MISPLACED_INIT: __initdata should be placed after waitflag
#151: FILE: drivers/char/hw_random/intel-rng.c:217:
+static char __initdata waitflag;

It is possible to use section markers on variables in a way
which gcc doesn't understand (or at least not the way the
developer intended)::

  static struct __initdata samsung_pll_clock exynos4_plls[nr_plls] = {

does not put exynos4_plls in the .initdata section. The __initdata
marker can be virtually anywhere on the line, except right after
"struct". The preferred location is before the "=" sign if there is
one, or before the trailing ";" otherwise.

See: https://lore.kernel.org/lkml/1377655732.3619.19.camel@joe-AO722/

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#153: FILE: drivers/char/hw_random/intel-rng.c:219:
+static void __init intel_init_wait (void *unused)

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:MEMORY_BARRIER: memory barrier without comment
#157: FILE: drivers/char/hw_random/intel-rng.c:223:
+		smp_rmb();

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#165: FILE: drivers/char/hw_random/intel-rng.c:231:
+	unsigned i;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#178: FILE: drivers/char/hw_random/intel-rng.c:241:
+^I^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#187: FILE: drivers/char/hw_random/intel-rng.c:250:
+	}
+	else {

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#187: FILE: drivers/char/hw_random/intel-rng.c:250:
+	else {

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!mem"
#196: FILE: drivers/char/hw_random/intel-rng.c:259:
+	if (mem == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:MEMORY_BARRIER: memory barrier without comment
#204: FILE: drivers/char/hw_random/intel-rng.c:267:
+	smp_wmb();

WARNING:MEMORY_BARRIER: memory barrier without comment
#207: FILE: drivers/char/hw_random/intel-rng.c:270:
+		smp_wmb();

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#209: FILE: drivers/char/hw_random/intel-rng.c:272:
+		printk(KERN_ERR PFX "cannot run on all processors\n");

ERROR:CODE_INDENT: code indent should use tabs where possible
#220: FILE: drivers/char/hw_random/intel-rng.c:283:
+^I^I                      fwh_dec_en1_off,$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:CODE_INDENT: code indent should use tabs where possible
#221: FILE: drivers/char/hw_random/intel-rng.c:284:
+^I^I                      fwh_dec_en1_val | FWH_F8_EN_MASK);$

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#223: FILE: drivers/char/hw_random/intel-rng.c:286:
+	      & (BIOS_CNTL_LOCK_ENABLE_MASK|BIOS_CNTL_WRITE_ENABLE_MASK)))
 	                                   ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#225: FILE: drivers/char/hw_random/intel-rng.c:288:
+^I^I                      bios_cntl_off,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#226: FILE: drivers/char/hw_random/intel-rng.c:289:
+^I^I                      bios_cntl_val | BIOS_CNTL_WRITE_ENABLE_MASK);$

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#235: FILE: drivers/char/hw_random/intel-rng.c:298:
+	      & (BIOS_CNTL_LOCK_ENABLE_MASK|BIOS_CNTL_WRITE_ENABLE_MASK)))
 	                                   ^

WARNING:MEMORY_BARRIER: memory barrier without comment
#242: FILE: drivers/char/hw_random/intel-rng.c:305:
+	smp_wmb();

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#248: FILE: drivers/char/hw_random/intel-rng.c:311:
+	if (mfc != INTEL_FWH_MANUFACTURER_CODE
+	    || (dvc != INTEL_FWH_DEVICE_CODE_8M

ERROR:CODE_INDENT: code indent should use tabs where possible
#249: FILE: drivers/char/hw_random/intel-rng.c:312:
+^I        && dvc != INTEL_FWH_DEVICE_CODE_4M)) {$

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#249: FILE: drivers/char/hw_random/intel-rng.c:312:
+	    || (dvc != INTEL_FWH_DEVICE_CODE_8M
+	        && dvc != INTEL_FWH_DEVICE_CODE_4M)) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#250: FILE: drivers/char/hw_random/intel-rng.c:313:
+		printk(KERN_ERR PFX "FWH not detected\n");

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.53065.commit.1fa9bddd8d6c837effb0784d7a519914549bac4c total: 7 errors, 23 warnings, 6 checks, 218 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.53065.commit.1fa9bddd8d6c837effb0784d7a519914549bac4c has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
