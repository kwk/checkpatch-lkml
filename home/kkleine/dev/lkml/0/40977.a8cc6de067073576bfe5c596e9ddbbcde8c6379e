WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#75: FILE: arch/i386/kernel/ldt.c:42:
+		newldt = vmalloc_bc(mincount*LDT_ENTRY_SIZE);
 		                            ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#78: FILE: arch/i386/kernel/ldt.c:44:
+		newldt = kmalloc(mincount*LDT_ENTRY_SIZE, GFP_KERNEL_BC);
 		                         ^

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#109: FILE: arch/i386/mm/pgtable.c:189:
+	pte = alloc_pages(GFP_KERNEL|__GFP_HIGHMEM|__GFP_REPEAT|__GFP_ZERO|
 	                            ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#109: FILE: arch/i386/mm/pgtable.c:189:
+	pte = alloc_pages(GFP_KERNEL|__GFP_HIGHMEM|__GFP_REPEAT|__GFP_ZERO|
 	                                          ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#109: FILE: arch/i386/mm/pgtable.c:189:
+	pte = alloc_pages(GFP_KERNEL|__GFP_HIGHMEM|__GFP_REPEAT|__GFP_ZERO|
 	                                                       ^

CHECK:SPACING: space preferred before that '|' (ctx:VxE)
#109: FILE: arch/i386/mm/pgtable.c:189:
+	pte = alloc_pages(GFP_KERNEL|__GFP_HIGHMEM|__GFP_REPEAT|__GFP_ZERO|
 	                                                                  ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#113: FILE: arch/i386/mm/pgtable.c:192:
+	pte = alloc_pages(GFP_KERNEL|__GFP_REPEAT|__GFP_ZERO|
 	                            ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#113: FILE: arch/i386/mm/pgtable.c:192:
+	pte = alloc_pages(GFP_KERNEL|__GFP_REPEAT|__GFP_ZERO|
 	                                         ^

CHECK:SPACING: space preferred before that '|' (ctx:VxE)
#113: FILE: arch/i386/mm/pgtable.c:192:
+	pte = alloc_pages(GFP_KERNEL|__GFP_REPEAT|__GFP_ZERO|
 	                                                    ^

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:SPACING: No space is necessary after a cast
#172: FILE: fs/file.c:47:
+		new_fds = (struct file **) kmalloc(size, GFP_KERNEL_BC);

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#172: FILE: fs/file.c:47:
+		new_fds = (struct file **) kmalloc(size, GFP_KERNEL_BC);

CHECK:SPACING: No space is necessary after a cast
#175: FILE: fs/file.c:49:
+		new_fds = (struct file **) vmalloc_bc(size);

CHECK:SPACING: No space is necessary after a cast
#184: FILE: fs/file.c:216:
+		new_fdset = (fd_set *) kmalloc(size, GFP_KERNEL_BC);

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#184: FILE: fs/file.c:216:
+		new_fdset = (fd_set *) kmalloc(size, GFP_KERNEL_BC);

CHECK:SPACING: No space is necessary after a cast
#187: FILE: fs/file.c:218:
+		new_fdset = (fd_set *) vmalloc_bc(size);

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#287: FILE: include/asm-ia64/pgalloc.h:51:
+		if (charge && bc_page_charge(virt_to_page(ret),
+					0, __GFP_BC_LIMIT)) {

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#362: FILE: include/asm-x86_64/pgalloc.h:34:
+	return (pmd_t *)get_zeroed_page(GFP_KERNEL|__GFP_REPEAT|
 	                                          ^

CHECK:SPACING: space preferred before that '|' (ctx:VxE)
#362: FILE: include/asm-x86_64/pgalloc.h:34:
+	return (pmd_t *)get_zeroed_page(GFP_KERNEL|__GFP_REPEAT|
 	                                                       ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#369: FILE: include/asm-x86_64/pgalloc.h:40:
+	return (pud_t *)get_zeroed_page(GFP_KERNEL|__GFP_REPEAT|
 	                                          ^

CHECK:SPACING: space preferred before that '|' (ctx:VxE)
#369: FILE: include/asm-x86_64/pgalloc.h:40:
+	return (pud_t *)get_zeroed_page(GFP_KERNEL|__GFP_REPEAT|
 	                                                       ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#379: FILE: include/asm-x86_64/pgalloc.h:79:
+	pgd_t *pgd = (pgd_t *)__get_free_page(GFP_KERNEL|__GFP_REPEAT|
 	                                                ^

CHECK:SPACING: space preferred before that '|' (ctx:VxE)
#379: FILE: include/asm-x86_64/pgalloc.h:79:
+	pgd_t *pgd = (pgd_t *)__get_free_page(GFP_KERNEL|__GFP_REPEAT|
 	                                                             ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#389: FILE: include/asm-x86_64/pgalloc.h:111:
+	void *p = (void *)get_zeroed_page(GFP_KERNEL|__GFP_REPEAT|
 	                                            ^

CHECK:SPACING: space preferred before that '|' (ctx:VxE)
#389: FILE: include/asm-x86_64/pgalloc.h:111:
+	void *p = (void *)get_zeroed_page(GFP_KERNEL|__GFP_REPEAT|
 	                                                         ^

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:SPACING: No space is necessary after a cast
#401: FILE: include/asm-x86_64/thread_info.h:81:
+	ret = ((struct thread_info *) __get_free_pages(GFP_KERNEL_BC,	\

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#402: FILE: include/asm-x86_64/thread_info.h:82:
+^I^I^I^ITHREAD_ORDER)); ^I^I\$

CHECK:SPACING: No space is necessary after a cast
#410: FILE: include/asm-x86_64/thread_info.h:89:
+	((struct thread_info *) __get_free_pages(GFP_KERNEL_BC,THREAD_ORDER))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#410: FILE: include/asm-x86_64/thread_info.h:89:
+	((struct thread_info *) __get_free_pages(GFP_KERNEL_BC,THREAD_ORDER))
 	                                                      ^

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#421: FILE: ipc/msgutil.c:39:
+	msg = (struct msg_msg *)kmalloc(sizeof(*msg) + alen, GFP_KERNEL_BC);

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#450: FILE: ipc/sem.c:1072:
+	new = (struct sem_undo *) kmalloc(sizeof(struct sem_undo) +

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*new)...) over kmalloc(sizeof(struct sem_undo)...)
#450: FILE: ipc/sem.c:1072:
+	new = (struct sem_undo *) kmalloc(sizeof(struct sem_undo) +

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#451: FILE: ipc/sem.c:1073:
+			sizeof(short)*nsems, GFP_KERNEL_BC);
 			             ^

CHECK:SPACING: spaces preferred around that '*' (ctx:VxV)
#460: FILE: ipc/sem.c:1134:
+		sops = kmalloc(sizeof(*sops)*nsops,GFP_KERNEL_BC);
 		                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#460: FILE: ipc/sem.c:1134:
+		sops = kmalloc(sizeof(*sops)*nsops,GFP_KERNEL_BC);
 		                                  ^

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#460: FILE: ipc/sem.c:1134:
+		sops = kmalloc(sizeof(*sops)*nsops,GFP_KERNEL_BC);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#511: FILE: kernel/fork.c:1427:
+			SLAB_HWCACHE_ALIGN | SLAB_PANIC | \

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#517: FILE: kernel/fork.c:1432:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                  ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#517: FILE: kernel/fork.c:1432:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                             ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#521: FILE: kernel/fork.c:1435:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                  ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#521: FILE: kernel/fork.c:1435:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                             ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#525: FILE: kernel/fork.c:1438:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                  ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#525: FILE: kernel/fork.c:1438:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                             ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#529: FILE: kernel/fork.c:1441:
+			SLAB_PANIC|SLAB_BC, NULL, NULL);
 			          ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#533: FILE: kernel/fork.c:1444:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                  ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#533: FILE: kernel/fork.c:1444:
+			SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                             ^

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#544: FILE: kernel/posix-timers.c:245:
+					sizeof (struct k_itimer), 0, SLAB_BC,

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#565: FILE: kernel/user.c:197:
+			0, SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                     ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#565: FILE: kernel/user.c:197:
+			0, SLAB_HWCACHE_ALIGN|SLAB_PANIC|SLAB_BC, NULL, NULL);
 			                                ^

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#576: FILE: mm/rmap.c:182:
+			0, SLAB_DESTROY_BY_RCU|SLAB_PANIC|SLAB_BC,
 			                      ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#576: FILE: mm/rmap.c:182:
+			0, SLAB_DESTROY_BY_RCU|SLAB_PANIC|SLAB_BC,
 			                                 ^

WARNING:PATCH_PREFIX: patch prefix '.' exists, appears to be a -p0 patch

WARNING:LINE_CONTINUATIONS: Avoid unnecessary line continuations
#588: FILE: mm/shmem.c:371:
+		page = shmem_dir_alloc(mapping_gfp_mask(inode->i_mapping) | \

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.40977.commit.a8cc6de067073576bfe5c596e9ddbbcde8c6379e total: 2 errors, 30 warnings, 40 checks, 440 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.40977.commit.a8cc6de067073576bfe5c596e9ddbbcde8c6379e has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
