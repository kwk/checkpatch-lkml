CHECK:SPACING: No space is necessary after a cast
#46: FILE: kernel/power/suspend.c:377:
+	return MB((unsigned long) suspend_io_time[read_write][0]) * HZ /

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#54: FILE: kernel/power/suspend.c:385:
+#define SNPRINTF(a...) ^Ilen += snprintf_used(debug_info_buffer + len, \$

ERROR:COMPLEX_MACRO: Macros with complex values should be enclosed in parentheses
#54: FILE: kernel/power/suspend.c:385:
+#define SNPRINTF(a...) 	len += snprintf_used(debug_info_buffer + len, \
+		PAGE_SIZE - len - 1, ## a)

WARNING:LINE_SPACING: Missing a blank line after declarations
#59: FILE: kernel/power/suspend.c:390:
+	int len = 0;
+	if (!debug_info_buffer) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#60: FILE: kernel/power/suspend.c:391:
+		debug_info_buffer = (char *) get_zeroed_page(GFP_ATOMIC);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#62: FILE: kernel/power/suspend.c:393:
+			printk("Error! Unable to allocate buffer for"

WARNING:SPLIT_STRING: quoted string split across lines
#63: FILE: kernel/power/suspend.c:394:
+			printk("Error! Unable to allocate buffer for"
+					"software suspend debug info.\n");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:MISSING_SPACE: break quoted strings at a space character
#63: FILE: kernel/power/suspend.c:394:
+			printk("Error! Unable to allocate buffer for"
+					"software suspend debug info.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#74: FILE: kernel/power/suspend.c:405:
+	SNPRINTF("- Parameters     : %ld %ld %ld %d %d %ld\n",
+			suspend_result,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#81: FILE: kernel/power/suspend.c:412:
+	SNPRINTF("- Overall expected compression percentage: %d.\n",
+			100 - suspend_expected_compression_ratio());

ERROR:TRAILING_WHITESPACE: trailing whitespace
#82: FILE: kernel/power/suspend.c:413:
+^Ilen+= suspend_print_module_debug_info(debug_info_buffer + len, $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '+=' (ctx:VxW)
#82: FILE: kernel/power/suspend.c:413:
+	len+= suspend_print_module_debug_info(debug_info_buffer + len, 
 	   ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#84: FILE: kernel/power/suspend.c:415:
+	if (suspend_io_time[0][1]) {
[...]
+	else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#87: FILE: kernel/power/suspend.c:418:
+			SNPRINTF("- I/O speed: Write %d KB/s",
+			  (KB((unsigned long) suspend_io_time[0][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#87: FILE: kernel/power/suspend.c:418:
+			  (KB((unsigned long) suspend_io_time[0][0]) * HZ /

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#91: FILE: kernel/power/suspend.c:422:
+				SNPRINTF(", Read %d KB/s",
+				  (KB((unsigned long) suspend_io_time[1][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#91: FILE: kernel/power/suspend.c:422:
+				  (KB((unsigned long) suspend_io_time[1][0]) * HZ /

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#95: FILE: kernel/power/suspend.c:426:
+			SNPRINTF("- I/O speed: Write %d MB/s",
+			 (MB((unsigned long) suspend_io_time[0][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#95: FILE: kernel/power/suspend.c:426:
+			 (MB((unsigned long) suspend_io_time[0][0]) * HZ /

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#99: FILE: kernel/power/suspend.c:430:
+				SNPRINTF(", Read %d MB/s",
+				 (MB((unsigned long) suspend_io_time[1][0]) * HZ /

CHECK:SPACING: No space is necessary after a cast
#99: FILE: kernel/power/suspend.c:430:
+				 (MB((unsigned long) suspend_io_time[1][0]) * HZ /

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#104: FILE: kernel/power/suspend.c:435:
+	}
+	else

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#107: FILE: kernel/power/suspend.c:438:
+	SNPRINTF("- Extra pages    : %d used/%d.\n",
+			extra_pd1_pages_used, extra_pd1_pages_allowance);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#118: FILE: kernel/power/suspend.c:449:
+int debuginfo_read_proc(char *page, char **start, off_t off, int count,
+		int *eof, void *data)

CHECK:SPACING: No space is necessary after a cast
#124: FILE: kernel/power/suspend.c:455:
+	copy_len = min(info_len - (int) off, count);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#131: FILE: kernel/power/suspend.c:462:
+^I} $

CHECK:SPACING: No space is necessary after a cast
#136: FILE: kernel/power/suspend.c:467:
+	free_page((unsigned long) debug_info_buffer);

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.64478.commit.c5060ed0a7ef230a826aeb4d2be75d81a40d6a1f total: 5 errors, 5 warnings, 17 checks, 103 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.64478.commit.c5060ed0a7ef230a826aeb4d2be75d81a40d6a1f has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
