WARNING:EMAIL_SUBJECT: A patch subject line should describe the change not the tool that found it
#20: 
Subject: sparse and devinet_ioctl

Naming the tool that found the issue is not very useful in the
subject line.  A good subject line summarizes the change that
the patch brings.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#describe-your-changes

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#59: FILE: net/ipv4/devinet.c:532:
=20

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#62: FILE: net/ipv4/devinet.c:533:
 }
+int _devinet_ioctl(unsigned int cmd,  struct ifreq *ifr)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#67: FILE: net/ipv4/devinet.c:536:
+=09struct sockaddr_in *sin =3D (struct sockaddr_in *)&ifr->ifr_addr;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#67: FILE: net/ipv4/devinet.c:536:
+=09struct sockaddr_in *sin =3D (struct sockaddr_in *)&ifr->ifr_addr;
 ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#67: FILE: net/ipv4/devinet.c:536:
+=09struct sockaddr_in *sin =3D (struct sockaddr_in *)&ifr->ifr_addr;
                            ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#67: FILE: net/ipv4/devinet.c:536:
+=09struct sockaddr_in *sin =3D (struct sockaddr_in *)&ifr->ifr_addr;
                                                      ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#82: FILE: net/ipv4/devinet.c:546:
+=09ifr->ifr_name[IFNAMSIZ - 1] =3D 0;
 ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#82: FILE: net/ipv4/devinet.c:546:
+=09ifr->ifr_name[IFNAMSIZ - 1] =3D 0;
                                ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#88: FILE: net/ipv4/devinet.c:549:
+=09colon =3D strchr(ifr->ifr_name, ':');
 ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#88: FILE: net/ipv4/devinet.c:549:
+=09colon =3D strchr(ifr->ifr_name, ':');
          ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#94: FILE: net/ipv4/devinet.c:553:
+=09dev_load(ifr->ifr_name);
 ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#103: FILE: net/ipv4/devinet.c:597:
+=09if ((dev =3D __dev_get_by_name(ifr->ifr_name)) =3D=3D NULL)
 ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#103: FILE: net/ipv4/devinet.c:597:
+=09if ((dev =3D __dev_get_by_name(ifr->ifr_name)) =3D=3D NULL)
             ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#103: FILE: net/ipv4/devinet.c:597:
+=09if ((dev =3D __dev_get_by_name(ifr->ifr_name)) =3D=3D NULL)
                                                   ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#103: FILE: net/ipv4/devinet.c:597:
+=09if ((dev =3D __dev_get_by_name(ifr->ifr_name)) =3D=3D NULL)
                                                      ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#112: FILE: net/ipv4/devinet.c:613:
+=09=09=09=09if (!strcmp(ifr->ifr_name, ifa->ifa_label) &&
 ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#112: FILE: net/ipv4/devinet.c:613:
+=09=09=09=09if (!strcmp(ifr->ifr_name, ifa->ifa_label) &&
    ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#112: FILE: net/ipv4/devinet.c:613:
+=09=09=09=09if (!strcmp(ifr->ifr_name, ifa->ifa_label) &&
       ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#112: FILE: net/ipv4/devinet.c:613:
+=09=09=09=09if (!strcmp(ifr->ifr_name, ifa->ifa_label) &&
          ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#121: FILE: net/ipv4/devinet.c:626:
+=09=09=09=09if (!strcmp(ifr->ifr_name, ifa->ifa_label))
 ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#121: FILE: net/ipv4/devinet.c:626:
+=09=09=09=09if (!strcmp(ifr->ifr_name, ifa->ifa_label))
    ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#121: FILE: net/ipv4/devinet.c:626:
+=09=09=09=09if (!strcmp(ifr->ifr_name, ifa->ifa_label))
       ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#121: FILE: net/ipv4/devinet.c:626:
+=09=09=09=09if (!strcmp(ifr->ifr_name, ifa->ifa_label))
          ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#130: FILE: net/ipv4/devinet.c:658:
+=09=09=09if (!(ifr->ifr_flags & IFF_UP))
 ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#130: FILE: net/ipv4/devinet.c:658:
+=09=09=09if (!(ifr->ifr_flags & IFF_UP))
    ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#130: FILE: net/ipv4/devinet.c:658:
+=09=09=09if (!(ifr->ifr_flags & IFF_UP))
       ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#135: FILE: net/ipv4/devinet.c:662:
+=09=09ret =3D dev_change_flags(dev, ifr->ifr_flags);
 ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#135: FILE: net/ipv4/devinet.c:662:
+=09=09ret =3D dev_change_flags(dev, ifr->ifr_flags);
    ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#135: FILE: net/ipv4/devinet.c:662:
+=09=09ret =3D dev_change_flags(dev, ifr->ifr_flags);
           ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#144: FILE: net/ipv4/devinet.c:675:
+=09=09=09=09memcpy(ifa->ifa_label, ifr->ifr_name, IFNAMSIZ);
 ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#144: FILE: net/ipv4/devinet.c:675:
+=09=09=09=09memcpy(ifa->ifa_label, ifr->ifr_name, IFNAMSIZ);
    ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#144: FILE: net/ipv4/devinet.c:675:
+=09=09=09=09memcpy(ifa->ifa_label, ifr->ifr_name, IFNAMSIZ);
       ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#144: FILE: net/ipv4/devinet.c:675:
+=09=09=09=09memcpy(ifa->ifa_label, ifr->ifr_name, IFNAMSIZ);
          ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#155: FILE: net/ipv4/devinet.c:765:
 }
+int devinet_ioctl(unsigned int cmd, void __user *arg)

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#157: FILE: net/ipv4/devinet.c:767:
+=09struct ifreq ifr;
 ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#158: FILE: net/ipv4/devinet.c:768:
+=09int ret;
 ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#160: FILE: net/ipv4/devinet.c:770:
+=09/*
 ^

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#161: FILE: net/ipv4/devinet.c:771:
+=09/*
+=09 *=09Fetch the caller's info block into kernel space

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#162: FILE: net/ipv4/devinet.c:772:
+=09 */

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#164: FILE: net/ipv4/devinet.c:774:
+=09if (copy_from_user(&ifr, arg, sizeof(struct ifreq)))
 ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#165: FILE: net/ipv4/devinet.c:775:
+=09=09return -EFAULT;
 ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#165: FILE: net/ipv4/devinet.c:775:
+=09=09return -EFAULT;
    ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#167: FILE: net/ipv4/devinet.c:777:
+=09if ((ret =3D _devinet_ioctl(cmd, &ifr)) =3D=3D 0 ) {
 ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#167: FILE: net/ipv4/devinet.c:777:
+=09if ((ret =3D _devinet_ioctl(cmd, &ifr)) =3D=3D 0 ) {
             ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#167: FILE: net/ipv4/devinet.c:777:
+=09if ((ret =3D _devinet_ioctl(cmd, &ifr)) =3D=3D 0 ) {
                                            ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#167: FILE: net/ipv4/devinet.c:777:
+=09if ((ret =3D _devinet_ioctl(cmd, &ifr)) =3D=3D 0 ) {
                                               ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#167: FILE: net/ipv4/devinet.c:777:
+=09if ((ret =3D _devinet_ioctl(cmd, &ifr)) =3D=3D 0 ) {

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#168: FILE: net/ipv4/devinet.c:778:
+=09=09ret =3D copy_to_user(arg, &ifr, sizeof(struct ifreq)) ? -EFAULT : 0;
 ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#168: FILE: net/ipv4/devinet.c:778:
+=09=09ret =3D copy_to_user(arg, &ifr, sizeof(struct ifreq)) ? -EFAULT : 0;
    ^

ERROR:SPACING: spaces required around that '=' (ctx:WxV)
#168: FILE: net/ipv4/devinet.c:778:
+=09=09ret =3D copy_to_user(arg, &ifr, sizeof(struct ifreq)) ? -EFAULT : 0;
           ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#169: FILE: net/ipv4/devinet.c:779:
+=09}
 ^

ERROR:SPACING: spaces required around that '=' (ctx:ExV)
#170: FILE: net/ipv4/devinet.c:780:
+=09return ret;
 ^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#172: FILE: net/ipv4/devinet.c:782:
+
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.67430.commit.72930fb7c143d6446d82175f5c2486b44df47b8d total: 46 errors, 4 warnings, 4 checks, 112 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.67430.commit.72930fb7c143d6446d82175f5c2486b44df47b8d has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
