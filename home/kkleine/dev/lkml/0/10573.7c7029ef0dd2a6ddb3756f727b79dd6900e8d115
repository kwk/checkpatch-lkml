WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#40: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#45: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#88: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:44:
+#include <asm/io.h>

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#107: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:63:
+	return -ENOSYS;

ENOSYS means that a nonexistent system call was called.
Earlier, it was wrongly used for things like invalid operations on
otherwise valid syscalls.  This should be avoided in new code.

See: https://lore.kernel.org/lkml/5eb299021dec23c1a48fa7d9f2c8b794e967766d.1408730669.git.luto@amacapital.net/

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#113: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:69:
+	return ERR_PTR(-ENOSYS);

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#118: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:74:
+	return -ENOSYS;

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#123: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:79:
+	return -ENOSYS;

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#128: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:84:
+	return -ENOSYS;

WARNING:ENOSYS: ENOSYS means 'invalid syscall nr' and nothing else
#138: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:94:
+	return -ENOSYS;

WARNING:LINE_SPACING: Missing a blank line after declarations
#145: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:101:
+	struct iwch_ucontext *ucontext = to_iwch_ucontext(context);
+	PDBG("%s context %p\n", __FUNCTION__, context);

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#145: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:101:
+	PDBG("%s context %p\n", __FUNCTION__, context);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#152: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:108:
+static struct ib_ucontext *iwch_alloc_ucontext(struct ib_device *ibdev,
+					struct ib_udata *udata)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#157: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:113:
+	PDBG("%s ibdev %p\n", __FUNCTION__, ibdev);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#171: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:127:
+	PDBG("%s ib_cq %p\n", __FUNCTION__, ib_cq);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#184: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:140:
+static struct ib_cq *iwch_create_cq(struct ib_device *ibdev, int entries,
+			     struct ib_ucontext *context,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#191: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:147:
+	PDBG("%s ib_dev %p entries %d\n", __FUNCTION__, ibdev, entries);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#198: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:154:
+	if (t3a_device(rhp)) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#200: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:156:
+^I^I * T3A: Add some fluff to handle extra CQEs inserted $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:CODE_INDENT: code indent should use tabs where possible
#201: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:157:
+^I ^I * for various errors.$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#201: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:157:
+^I ^I * for various errors.$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#208: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:164:
+^I^Ientries += 16; $

WARNING:SIZEOF_PARENTHESIS: sizeof *mm should be sizeof(*mm)
#227: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:183:
+		mm = kmalloc(sizeof *mm, GFP_KERNEL);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#235: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:191:
+		if (ib_copy_to_udata(udata, &uresp, sizeof (uresp))) {

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#241: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:197:
+^I^Imm->len = PAGE_ALIGN((1UL << uresp.size_log2) * $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#242: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:198:
+					     sizeof (struct t3_cqe));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#246: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:202:
+^I     chp->cq.cqid, chp, (1 << chp->cq.size_log2), $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#257: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:213:
+	PDBG("%s ib_cq %p cqe %d\n", __FUNCTION__, cq, cqe);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#264: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:220:
+	cqe = roundup_pow_of_two(cqe+1);
 	                            ^

WARNING:BRACES: braces {} are not necessary for single statement blocks
#268: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:224:
+	if (cqe < Q_COUNT(chp->cq.rptr, chp->cq.wptr)) {
+		return -ENOMEM;
+	}

WARNING:BRACES: braces {} are not necessary for single statement blocks
#274: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:230:
+	if (ret) {
+		return ret;
+	}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#283: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:239:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#285: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:241:
+^Imemcpy(newcq.queue, chp->cq.queue, (1 << chp->cq.size_log2) * $

ERROR:CODE_INDENT: code indent should use tabs where possible
#286: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:242:
+^I^I^I^I        sizeof(struct t3_cqe));$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#299: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:255:
+	chp->ibcq.cqe = (1<<chp->cq.size_log2) - 1;
 	                  ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#305: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:261:
+^I^Iprintk(KERN_ERR MOD "%s - cxio_destroy_cq failed %d\n", $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#305: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:261:
+		printk(KERN_ERR MOD "%s - cxio_destroy_cq failed %d\n", 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#306: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:262:
+		printk(KERN_ERR MOD "%s - cxio_destroy_cq failed %d\n", 
+			__FUNCTION__, ret);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#306: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:262:
+			__FUNCTION__, ret);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#308: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:264:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#316: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:272:
+static int iwch_arm_cq(struct ib_cq *ibcq, enum ib_cq_notify notify, $

CHECK:BRACES: braces {} should be used on all arms of this statement
#332: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:288:
+	if (udata && t3b_device(rhp)) {
[...]
+	} else
[...]

WARNING:SIZEOF_PARENTHESIS: sizeof ucmd should be sizeof(ucmd)
#333: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:289:
+		if (ib_copy_from_udata(&ucmd, udata, sizeof ucmd))

CHECK:BRACES: Unbalanced braces around else statement
#337: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:293:
+	} else

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#339: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:295:
+	PDBG("%s rptr 0x%x\n", __FUNCTION__, chp->cq.rptr);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#342: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:298:
+^Iif (err) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#343: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:299:
+^I^Iprintk(KERN_ERR MOD "Error %d rearming CQID 0x%x\n", err, $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#343: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:299:
+		printk(KERN_ERR MOD "Error %d rearming CQID 0x%x\n", err, 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#357: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:313:
+^IPDBG("%s off 0x%lx addr 0x%llx len %d\n", __FUNCTION__, vma->vm_pgoff, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#357: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:313:
+	PDBG("%s off 0x%lx addr 0x%llx len %d\n", __FUNCTION__, vma->vm_pgoff, 

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#360: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:316:
+	if (vma->vm_start & (PAGE_SIZE-1)) {
 	                              ^

WARNING:BRACES: braces {} are not necessary for single statement blocks
#360: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:316:
+	if (vma->vm_start & (PAGE_SIZE-1)) {
+                return -EINVAL;
+        }

ERROR:CODE_INDENT: code indent should use tabs where possible
#361: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:317:
+                return -EINVAL;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#361: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:317:
+                return -EINVAL;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#362: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:318:
+        }$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#362: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:318:
+        }$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#372: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:328:
+^Iif ((pgaddr >= rdev_p->rnic_info.udbell_physbase) && $

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'pgaddr >= rdev_p->rnic_info.udbell_physbase'
#372: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:328:
+	if ((pgaddr >= rdev_p->rnic_info.udbell_physbase) && 
+	    (pgaddr < (rdev_p->rnic_info.udbell_physbase + 
+		       rdev_p->rnic_info.udbell_len))) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

ERROR:TRAILING_WHITESPACE: trailing whitespace
#373: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:329:
+^I    (pgaddr < (rdev_p->rnic_info.udbell_physbase + $

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#375: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:331:
+		       rdev_p->rnic_info.udbell_len))) {
+

WARNING:BRACES: braces {} are not necessary for single statement blocks
#379: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:335:
+		if (vma->vm_flags & VM_READ) {
+                	return -EPERM;
+		}

ERROR:CODE_INDENT: code indent should use tabs where possible
#380: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:336:
+                ^Ireturn -EPERM;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#380: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:336:
+                ^Ireturn -EPERM;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#380: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:336:
+                ^Ireturn -EPERM;$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#387: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:343:
+		ret = io_remap_pfn_range(vma, vma->vm_start, vma->vm_pgoff,
+				       len, vma->vm_page_prot);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#389: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:345:
+	} else {
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#394: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:350:
+		ret = remap_pfn_range(vma, vma->vm_start, vma->vm_pgoff,
+				       len, vma->vm_page_prot);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#396: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:352:
+^I$

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#407: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:363:
+	PDBG("%s ibpd %p pdid 0x%x\n", __FUNCTION__, pd, php->pdid);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#414: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:370:
+static struct ib_pd *iwch_allocate_pd(struct ib_device *ibdev,
+			       struct ib_ucontext *context,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#421: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:377:
+	PDBG("%s ibdev %p\n", __FUNCTION__, ibdev);

CHECK:SPACING: No space is necessary after a cast
#422: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:378:
+	rhp = (struct iwch_dev *) ibdev;

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#434: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:390:
+		if (ib_copy_to_udata(udata, &php->pdid, sizeof (__u32))) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#439: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:395:
+	PDBG("%s pdid 0x%0x ptr 0x%p\n", __FUNCTION__, pdid, php);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#442: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:398:
+ $

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#442: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:398:
+ $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#449: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:405:
+	PDBG("%s ib_mr %p\n", __FUNCTION__, ib_mr);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#457: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:413:
+^Icxio_dereg_mem(&rhp->rdev, mhp->attr.stag, mhp->attr.pbl_size, $

CHECK:SPACING: No space is necessary after a cast
#461: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:417:
+		kfree((void *) (unsigned long) mhp->kva);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#462: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:418:
+	PDBG("%s mmid 0x%x ptr %p\n", __FUNCTION__, mmid, mhp);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#468: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:424:
+static struct ib_mr *iwch_register_phys_mem(struct ib_pd *pd,
+					struct ib_phys_buf *buffer_list,

ERROR:TRAILING_WHITESPACE: trailing whitespace
#481: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:437:
+^I^I$

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#482: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:438:
+	PDBG("%s ib_pd %p\n", __FUNCTION__, pd);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#488: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:444:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#488: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:444:
+
+	

ERROR:CODE_INDENT: code indent should use tabs where possible
#506: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:462:
+^I^I^I ^I   &total_size, &npages, &shift, &page_list);$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#506: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:462:
+^I^I^I ^I   &total_size, &npages, &shift, &page_list);$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#506: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:462:
+	ret = build_phys_page_list(buffer_list, num_phys_buf, iova_start,
+			 	   &total_size, &npages, &shift, &page_list);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#507: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:463:
+^Iif (ret) $

CHECK:SPACING: No space is necessary after a cast
#523: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:479:
+	mhp->attr.len = (u32) total_size;

WARNING:BRACES: braces {} are not necessary for single statement blocks
#527: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:483:
+	if (ret) {
+		goto err;
+	}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#534: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:490:
+^I$

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#535: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:491:
+	
+}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#537: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:493:
+static int iwch_reregister_phys_mem(struct ib_mr *mr, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#538: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:494:
+static int iwch_reregister_phys_mem(struct ib_mr *mr, 
+				     int mr_rereg_mask,

ERROR:CODE_INDENT: code indent should use tabs where possible
#540: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:496:
+                                     struct ib_phys_buf *buffer_list,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#540: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:496:
+                                     struct ib_phys_buf *buffer_list,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#541: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:497:
+                                     int num_phys_buf,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#541: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:497:
+                                     int num_phys_buf,$

ERROR:CODE_INDENT: code indent should use tabs where possible
#542: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:498:
+                                     int acc, u64 * iova_start)$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#542: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:498:
+                                     int acc, u64 * iova_start)$

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#542: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:498:
+                                     int acc, u64 * iova_start)

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#544: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:500:
+{
+

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#555: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:511:
+	PDBG("%s ib_mr %p ib_pd %p\n", __FUNCTION__, mr, pd);

WARNING:SIZEOF_PARENTHESIS: sizeof *mhp should be sizeof(*mhp)
#571: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:527:
+	memcpy(&mh, mhp, sizeof *mhp);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#578: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:534:
+^I^Iret = build_phys_page_list(buffer_list, num_phys_buf, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#580: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:536:
+^I^I^I^I^I   &total_size, &npages, $

WARNING:BRACES: braces {} are not necessary for single statement blocks
#585: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:541:
+	if (ret) {
+		return ret;
+	}

CHECK:SPACING: No space is necessary after a cast
#596: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:552:
+		mhp->attr.len = (u32) total_size;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#600: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:556:
+^Ireturn 0;^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#603: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:559:
+
+

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#605: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:561:
+struct ib_mr *iwch_reg_user_mr(struct ib_pd *pd, struct ib_umem *region,
+				      int acc, struct ib_udata *udata)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#617: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:573:
+	PDBG("%s ib_pd %p\n", __FUNCTION__, pd);

WARNING:ALLOC_WITH_MULTIPLY: Prefer kmalloc_array over kmalloc with multiply
#630: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:586:
+	pages = kmalloc(n * sizeof(u64), GFP_KERNEL);

Prefer kmalloc_array/kcalloc over kmalloc/kzalloc with a
sizeof multiply.

See: https://www.kernel.org/doc/html/latest/core-api/memory-allocation.html

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#638: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:594:
+	i = n = 0;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#644: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:600:
+				pages[i++] = cpu_to_be64(sg_dma_address(

CHECK:SPACING: No space is necessary after a cast
#659: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:615:
+	mhp->attr.len = (u32) region->length;

ERROR:CODE_INDENT: code indent should use tabs where possible
#668: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:624:
+                                 rhp->rdev.rnic_info.pbl_base) >> 3;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#668: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:624:
+                                 rhp->rdev.rnic_info.pbl_base) >> 3;$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#669: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:625:
+^I^IPDBG("%s user resp pbl_addr 0x%x\n", __FUNCTION__, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#669: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:625:
+		PDBG("%s user resp pbl_addr 0x%x\n", __FUNCTION__, 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#671: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:627:
+^I^I^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#672: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:628:
+		if (ib_copy_to_udata(udata, &uresp, sizeof (uresp))) {

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#692: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:648:
+	PDBG("%s ib_pd %p\n", __FUNCTION__, pd);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#729: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:685:
+	PDBG("%s mmid 0x%x mhp %p stag 0x%x\n", __FUNCTION__, mmid, mhp, stag);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around mhp->ibmw
#730: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:686:
+	return &(mhp->ibmw);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#745: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:701:
+	PDBG("%s ib_mw %p mmid 0x%x ptr %p\n", __FUNCTION__, mw, mmid, mhp);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#770: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:726:
+^Iucontext = ib_qp->uobject ? to_iwch_ucontext(ib_qp->uobject->context) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#772: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:728:
+^Icxio_destroy_qp(&rhp->rdev, &qhp->wq, $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#775: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:731:
+^IPDBG("%s ib_qp %p qpid 0x%0x qhp %p\n", __FUNCTION__, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#775: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:731:
+	PDBG("%s ib_qp %p qpid 0x%0x qhp %p\n", __FUNCTION__, 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#782: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:738:
+static struct ib_qp *iwch_create_qp(struct ib_pd *pd,
+			     struct ib_qp_init_attr *attrs,

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#794: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:750:
+	PDBG("%s ib_pd %p\n", __FUNCTION__, pd);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#795: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:751:
+^Iif (attrs->qp_type != IB_QPT_RC) $

CHECK:SPACING: No space is necessary after a cast
#799: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:755:
+	schp = get_chp(rhp, ((struct iwch_cq *) attrs->send_cq)->cq.cqid);

CHECK:SPACING: No space is necessary after a cast
#800: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:756:
+	rchp = get_chp(rhp, ((struct iwch_cq *) attrs->recv_cq)->cq.cqid);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#807: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:763:
+		rqsize = roundup_pow_of_two(attrs->cap.max_recv_wr+1);
 		                                                  ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#816: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:772:
+^I/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#818: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:774:
+^I * a power of two.  However, all the code assumes $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#823: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:779:
+^IPDBG("%s wqsize %d sqsize %d rqsize %d\n", __FUNCTION__, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#823: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:779:
+	PDBG("%s wqsize %d sqsize %d rqsize %d\n", __FUNCTION__, 

CHECK:SPACING: No space is necessary after a cast
#841: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:797:
+	qhp->attr.scq = ((struct iwch_cq *) attrs->send_cq)->cq.cqid;

CHECK:SPACING: No space is necessary after a cast
#842: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:798:
+	qhp->attr.rcq = ((struct iwch_cq *) attrs->recv_cq)->cq.cqid;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#851: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:807:
+^I/* $

ERROR:CODE_INDENT: code indent should use tabs where possible
#853: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:809:
+ ^I * at create time.  The CM sets them via a QP modify.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#853: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:809:
+ ^I * at create time.  The CM sets them via a QP modify.$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#854: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:810:
+^I * Need to fix...  I think the CM should $

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#868: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:824:
+	if (udata) {
+

WARNING:SIZEOF_PARENTHESIS: sizeof *mm1 should be sizeof(*mm1)
#871: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:827:
+		mm1 = kmalloc(sizeof *mm1, GFP_KERNEL);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#876: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:832:
+^I^I^I$

WARNING:SIZEOF_PARENTHESIS: sizeof *mm2 should be sizeof(*mm2)
#877: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:833:
+		mm2 = kmalloc(sizeof *mm2, GFP_KERNEL);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#883: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:839:
+^I^I^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#890: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:846:
+		if (ib_copy_to_udata(udata, &uresp, sizeof (uresp))) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#897: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:853:
+		mm1->len = PAGE_ALIGN(wqsize * sizeof (union t3_wr));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around qhp->timer
#904: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:860:
+	init_timer(&(qhp->timer));

WARNING:SPLIT_STRING: quoted string split across lines
#906: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:862:
+	PDBG("%s sq_num_entries %d, rq_num_entries %d "
+	     "qpid 0x%0x qhp %p dma_addr 0x%llx size %d\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#907: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:863:
+	     __FUNCTION__, qhp->attr.sq_num_entries, qhp->attr.rq_num_entries,

ERROR:RETURN_PARENTHESES: return is not a function, parentheses are not required
#909: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:865:
+	return (&qhp->ibqp);

return is not a function and as such doesn't need parentheses::

  return (bar);

can simply be::

  return bar;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#913: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:869:
+static int iwch_ib_modify_qp(struct ib_qp *ibqp, struct ib_qp_attr *attr,
+		      int attr_mask, struct ib_udata *udata)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#920: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:876:
+	PDBG("%s ib_qp %p\n", __FUNCTION__, ibqp);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'attr->qp_state == IB_QPS_RTR'
#923: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:879:
+	if ((attr_mask & IB_QP_STATE) && (attr->qp_state == IB_QPS_RTR))

WARNING:SIZEOF_PARENTHESIS: sizeof attrs should be sizeof(attrs)
#930: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:886:
+	memset(&attrs, 0, sizeof attrs);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#935: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:891:
+^Iattrs.enable_rdma_read = (attr->qp_access_flags & $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#937: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:893:
+^Iattrs.enable_rdma_write = (attr->qp_access_flags & $

CHECK:LINE_SPACING: Please don't use multiple blank lines
#941: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:897:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#943: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:899:
+^Imask |= (attr_mask & IB_QP_ACCESS_FLAGS) ? $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#945: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:901:
+^I^I^I IWCH_QP_ATTR_ENABLE_RDMA_WRITE | $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#953: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:909:
+	PDBG("%s ib_qp %p\n", __FUNCTION__, qp);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#959: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:915:
+	PDBG("%s ib_qp %p\n", __FUNCTION__, qp);

ERROR:CODE_INDENT: code indent should use tabs where possible
#961: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:917:
+                wake_up(&(to_iwch_qp(qp)->wait));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#961: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:917:
+                wake_up(&(to_iwch_qp(qp)->wait));$

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#966: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:922:
+	PDBG("%s ib_dev %p qpn 0x%x\n", __FUNCTION__, dev, qpn);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#970: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:926:
+
+

ERROR:POINTER_LOCATION: "foo * bar" should be "foo *bar"
#972: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:928:
+			   u8 port, u16 index, u16 * pkey)

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#974: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:930:
+	PDBG("%s ibdev %p\n", __FUNCTION__, ibdev);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#985: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:941:
+	PDBG("%s ibdev %p, port %d, index %d, gid %p\n",
+	       __FUNCTION__, ibdev, port, index, gid);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#985: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:941:
+	       __FUNCTION__, ibdev, port, index, gid);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#987: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:943:
+	BUG_ON(port == 0 || port > 2);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around gid->raw[0]
#988: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:944:
+	memset(&(gid->raw[0]), 0, sizeof(gid->raw));

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#989: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:945:
+	memcpy(&(gid->raw[0]), dev->rdev.port_info.lldevs[port-1]->dev_addr, 6);
 	                                                      ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around gid->raw[0]
#989: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:945:
+	memcpy(&(gid->raw[0]), dev->rdev.port_info.lldevs[port-1]->dev_addr, 6);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#996: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:952:
+{
+

WARNING:LINE_SPACING: Missing a blank line after declarations
#998: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:954:
+	struct iwch_dev *dev;
+	PDBG("%s ibdev %p\n", __FUNCTION__, ibdev);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#998: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:954:
+	PDBG("%s ibdev %p\n", __FUNCTION__, ibdev);

WARNING:SIZEOF_PARENTHESIS: sizeof *props should be sizeof(*props)
#1001: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:957:
+	memset(props, 0, sizeof *props);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1024: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:980:
+	PDBG("%s ibdev %p\n", __FUNCTION__, ibdev);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1050: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1006:
+^Istruct iwch_dev *dev = container_of(cdev, struct iwch_dev, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1052: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1008:
+	PDBG("%s class dev 0x%p\n", __FUNCTION__, cdev);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1058: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1014:
+^Istruct iwch_dev *dev = container_of(cdev, struct iwch_dev, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1063: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1019:
+	PDBG("%s class dev 0x%p\n", __FUNCTION__, cdev);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1070: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1026:
+^Istruct iwch_dev *dev = container_of(cdev, struct iwch_dev, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1075: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1031:
+	PDBG("%s class dev 0x%p\n", __FUNCTION__, cdev);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1082: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1038:
+^Istruct iwch_dev *dev = container_of(cdev, struct iwch_dev, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1084: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1040:
+	PDBG("%s class dev 0x%p\n", __FUNCTION__, dev);

ERROR:CODE_INDENT: code indent should use tabs where possible
#1086: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1042:
+^I^I                       dev->rdev.rnic_info.pdev->device);$

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#1089: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1045:
+static CLASS_DEVICE_ATTR(hw_rev, S_IRUGO, show_rev, NULL);

Permission bits in the octal form are more readable and easier to
understand than their symbolic counterparts because many command-line
tools use this notation. Experienced kernel developers have been using
these traditional Unix permission bits for decades and so they find it
easier to understand the octal notation than the symbolic macros.
For example, it is harder to read S_IWUSR|S_IRUGO than 0644, which
obscures the developer's intent rather than clarifying it.

See: https://lore.kernel.org/lkml/CA+55aFw5v23T-zvDZp-MmD_EYxF8WbafwwB59934FV7g21uMGQ@mail.gmail.com/

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#1090: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1046:
+static CLASS_DEVICE_ATTR(fw_ver, S_IRUGO, show_fw_ver, NULL);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#1091: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1047:
+static CLASS_DEVICE_ATTR(hca_type, S_IRUGO, show_hca, NULL);

WARNING:SYMBOLIC_PERMS: Symbolic permissions 'S_IRUGO' are not preferred. Consider using octal permissions '0444'.
#1092: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1048:
+static CLASS_DEVICE_ATTR(board_id, S_IRUGO, show_board, NULL);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1106: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1062:
+	PDBG("%s iwch_dev %p\n", __FUNCTION__, dev);

WARNING:STRLCPY: Prefer strscpy over strlcpy - see: https://lore.kernel.org/r/CAHk-=wgfRnXz0W3D37d01q3JFkr_i_uTL=V6A6G1oUZcprmknw@mail.gmail.com/
#1107: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1063:
+	strlcpy(dev->ibdev.name, "cxgb3_%d", IB_DEVICE_NAME_MAX);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around dev->rdev.rnic_info.pdev->dev
#1136: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1092:
+	dev->ibdev.dma_device = &(dev->rdev.rnic_info.pdev->dev);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around dev->rdev.rnic_info.pdev->dev
#1137: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1093:
+	dev->ibdev.class_dev.dev = &(dev->rdev.rnic_info.pdev->dev);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1174: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1130:
+
+

CHECK:SPACING: No space is necessary after a cast
#1176: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1132:
+	    (struct iw_cm_verbs *) kmalloc(sizeof(struct iw_cm_verbs),

WARNING:UNNECESSARY_CASTS: unnecessary cast may hide bugs, see http://c-faq.com/malloc/mallocnocast.html
#1176: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1132:
+	    (struct iw_cm_verbs *) kmalloc(sizeof(struct iw_cm_verbs),

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1194: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1150:
+		if (ret) {
+			goto bail2;
+		}

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1209: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1165:
+	PDBG("%s iwch_dev %p\n", __FUNCTION__, dev);

WARNING:RETURN_VOID: void function return statements are not generally useful
#1215: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.c:1171:
+	return;
+}

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1222: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:1:
+/*

WARNING:NEW_TYPEDEFS: do not add new typedefs
#1303: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:82:
+typedef struct iwch_mw iwch_mw_handle;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#1326: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:105:
+	spinlock_t lock;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1361: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:140:
+^I * Next QP state. If specify the current state, only the $

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#1383: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:162:
+	spinlock_t lock;

CHECK:UNCOMMENTED_DEFINITION: spinlock_t definition without comment
#1407: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:186:
+	spinlock_t mmap_lock;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1419: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:198:
+	unsigned len;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1423: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:202:
+						u64 addr, unsigned len)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1430: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:209:
+^I^I$

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1430: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:209:
+	list_for_each_safe(pos, nxt, &ucontext->mmaps) {
+		

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1435: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:214:
+^I^I^IPDBG("%s addr 0x%llx len %d\n", __FUNCTION__, mm->addr, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1435: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:214:
+			PDBG("%s addr 0x%llx len %d\n", __FUNCTION__, mm->addr, 

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1444: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:223:
+static inline void insert_mmap(struct iwch_ucontext *ucontext, $

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1448: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:227:
+	PDBG("%s addr 0x%llx len %d\n", __FUNCTION__, mm->addr, mm->len);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1475: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:254:
+int iwch_modify_qp(struct iwch_dev *rhp,
+				struct iwch_qp *qhp,

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#1520: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:299:
+} __attribute__ ((packed));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1541: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:320:
+^I/* $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1542: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:321:
+^I * Quiesce QP context; Consumer $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1551: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:330:
+int iwch_post_send(struct ib_qp *ibqp, struct ib_send_wr *wr,
+		      struct ib_send_wr **bad_wr);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1555: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:334:
+int iwch_bind_mw(struct ib_qp *qp,
+			     struct ib_mw *mw,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1565: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:344:
+int iwch_register_mem(struct iwch_dev *rhp, struct iwch_pd *php,
+					struct iwch_mr *mhp,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1569: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:348:
+int iwch_reregister_mem(struct iwch_dev *rhp, struct iwch_pd *php,
+					struct iwch_mr *mhp,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1574: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:353:
+int build_phys_page_list(struct ib_phys_buf *buffer_list,
+					int num_phys_buf,

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1581: FILE: drivers/infiniband/hw/cxgb3/iwch_provider.h:360:
+
+

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1591: FILE: drivers/infiniband/hw/cxgb3/iwch_user.h:1:
+/*

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1637: FILE: drivers/infiniband/hw/cxgb3/iwch_user.h:47:
+^I__u64 physaddr;^I^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1644: FILE: drivers/infiniband/hw/cxgb3/iwch_user.h:54:
+^I__u64 doorbell;^I$

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.10573.commit.7c7029ef0dd2a6ddb3756f727b79dd6900e8d115 total: 70 errors, 102 warnings, 63 checks, 1602 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.10573.commit.7c7029ef0dd2a6ddb3756f727b79dd6900e8d115 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
