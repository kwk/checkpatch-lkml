WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#38: FILE: drivers/kvm/svm.h:1:
+#ifndef __SVM_H

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:LINE_SPACING: Please don't use multiple blank lines
#86: FILE: drivers/kvm/svm.h:49:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((__packed__))
#87: FILE: drivers/kvm/svm.h:50:
+struct __attribute__ ((__packed__)) vmcb_control_area {

CHECK:LINE_SPACING: Please don't use multiple blank lines
#120: FILE: drivers/kvm/svm.h:83:
+
+

CHECK:BIT_MACRO: Prefer using the BIT macro
#127: FILE: drivers/kvm/svm.h:90:
+#define V_IRQ_MASK (1 << V_IRQ_SHIFT)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:BIT_MACRO: Prefer using the BIT macro
#133: FILE: drivers/kvm/svm.h:96:
+#define V_IGN_TPR_MASK (1 << V_IGN_TPR_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#136: FILE: drivers/kvm/svm.h:99:
+#define V_INTR_MASKING_MASK (1 << V_INTR_MASKING_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#146: FILE: drivers/kvm/svm.h:109:
+#define SVM_IOIO_STR_MASK (1 << SVM_IOIO_STR_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#147: FILE: drivers/kvm/svm.h:110:
+#define SVM_IOIO_REP_MASK (1 << SVM_IOIO_REP_SHIFT)

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((__packed__))
#151: FILE: drivers/kvm/svm.h:114:
+struct __attribute__ ((__packed__)) vmcb_seg {

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((__packed__))
#158: FILE: drivers/kvm/svm.h:121:
+struct __attribute__ ((__packed__)) vmcb_save_area {

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((__packed__))
#203: FILE: drivers/kvm/svm.h:166:
+struct __attribute__ ((__packed__)) vmcb {

CHECK:BIT_MACRO: Prefer using the BIT_ULL macro
#211: FILE: drivers/kvm/svm.h:174:
+#define MSR_EFER_SVME_MASK (1ULL << 12)

CHECK:BIT_MACRO: Prefer using the BIT macro
#223: FILE: drivers/kvm/svm.h:186:
+#define SVM_SELECTOR_S_MASK (1 << SVM_SELECTOR_S_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#225: FILE: drivers/kvm/svm.h:188:
+#define SVM_SELECTOR_P_MASK (1 << SVM_SELECTOR_P_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#226: FILE: drivers/kvm/svm.h:189:
+#define SVM_SELECTOR_AVL_MASK (1 << SVM_SELECTOR_AVL_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#227: FILE: drivers/kvm/svm.h:190:
+#define SVM_SELECTOR_L_MASK (1 << SVM_SELECTOR_L_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#228: FILE: drivers/kvm/svm.h:191:
+#define SVM_SELECTOR_DB_MASK (1 << SVM_SELECTOR_DB_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#229: FILE: drivers/kvm/svm.h:192:
+#define SVM_SELECTOR_G_MASK (1 << SVM_SELECTOR_G_SHIFT)

CHECK:BIT_MACRO: Prefer using the BIT macro
#231: FILE: drivers/kvm/svm.h:194:
+#define SVM_SELECTOR_WRITE_MASK (1 << 1)

CHECK:BIT_MACRO: Prefer using the BIT macro
#233: FILE: drivers/kvm/svm.h:196:
+#define SVM_SELECTOR_CODE_MASK (1 << 3)

CHECK:BIT_MACRO: Prefer using the BIT macro
#236: FILE: drivers/kvm/svm.h:199:
+#define INTERCEPT_CR3_MASK (1 << 3)

CHECK:BIT_MACRO: Prefer using the BIT macro
#237: FILE: drivers/kvm/svm.h:200:
+#define INTERCEPT_CR4_MASK (1 << 4)

CHECK:BIT_MACRO: Prefer using the BIT macro
#240: FILE: drivers/kvm/svm.h:203:
+#define INTERCEPT_DR1_MASK (1 << 1)

CHECK:BIT_MACRO: Prefer using the BIT macro
#241: FILE: drivers/kvm/svm.h:204:
+#define INTERCEPT_DR2_MASK (1 << 2)

CHECK:BIT_MACRO: Prefer using the BIT macro
#242: FILE: drivers/kvm/svm.h:205:
+#define INTERCEPT_DR3_MASK (1 << 3)

CHECK:BIT_MACRO: Prefer using the BIT macro
#243: FILE: drivers/kvm/svm.h:206:
+#define INTERCEPT_DR4_MASK (1 << 4)

CHECK:BIT_MACRO: Prefer using the BIT macro
#244: FILE: drivers/kvm/svm.h:207:
+#define INTERCEPT_DR5_MASK (1 << 5)

CHECK:BIT_MACRO: Prefer using the BIT macro
#245: FILE: drivers/kvm/svm.h:208:
+#define INTERCEPT_DR6_MASK (1 << 6)

CHECK:BIT_MACRO: Prefer using the BIT macro
#246: FILE: drivers/kvm/svm.h:209:
+#define INTERCEPT_DR7_MASK (1 << 7)

CHECK:BIT_MACRO: Prefer using the BIT macro
#258: FILE: drivers/kvm/svm.h:221:
+#define SVM_EVTINJ_VALID (1 << 31)

CHECK:BIT_MACRO: Prefer using the BIT macro
#259: FILE: drivers/kvm/svm.h:222:
+#define SVM_EVTINJ_VALID_ERR (1 << 11)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#271: FILE: drivers/kvm/svm.h:234:
+#define^ISVM_EXIT_READ_CR0 ^I0x000$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#272: FILE: drivers/kvm/svm.h:235:
+#define^ISVM_EXIT_READ_CR3 ^I0x003$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#273: FILE: drivers/kvm/svm.h:236:
+#define^ISVM_EXIT_READ_CR4 ^I0x004$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#274: FILE: drivers/kvm/svm.h:237:
+#define^ISVM_EXIT_READ_CR8 ^I0x008$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#275: FILE: drivers/kvm/svm.h:238:
+#define^ISVM_EXIT_WRITE_CR0 ^I0x010$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#276: FILE: drivers/kvm/svm.h:239:
+#define^ISVM_EXIT_WRITE_CR3 ^I0x013$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#277: FILE: drivers/kvm/svm.h:240:
+#define^ISVM_EXIT_WRITE_CR4 ^I0x014$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#278: FILE: drivers/kvm/svm.h:241:
+#define^ISVM_EXIT_WRITE_CR8 ^I0x018$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#279: FILE: drivers/kvm/svm.h:242:
+#define^ISVM_EXIT_READ_DR0 ^I0x020$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#280: FILE: drivers/kvm/svm.h:243:
+#define^ISVM_EXIT_READ_DR1 ^I0x021$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#281: FILE: drivers/kvm/svm.h:244:
+#define^ISVM_EXIT_READ_DR2 ^I0x022$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#282: FILE: drivers/kvm/svm.h:245:
+#define^ISVM_EXIT_READ_DR3 ^I0x023$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#283: FILE: drivers/kvm/svm.h:246:
+#define^ISVM_EXIT_READ_DR4 ^I0x024$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#284: FILE: drivers/kvm/svm.h:247:
+#define^ISVM_EXIT_READ_DR5 ^I0x025$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#285: FILE: drivers/kvm/svm.h:248:
+#define^ISVM_EXIT_READ_DR6 ^I0x026$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#286: FILE: drivers/kvm/svm.h:249:
+#define^ISVM_EXIT_READ_DR7 ^I0x027$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#287: FILE: drivers/kvm/svm.h:250:
+#define^ISVM_EXIT_WRITE_DR0 ^I0x030$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#288: FILE: drivers/kvm/svm.h:251:
+#define^ISVM_EXIT_WRITE_DR1 ^I0x031$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#289: FILE: drivers/kvm/svm.h:252:
+#define^ISVM_EXIT_WRITE_DR2 ^I0x032$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#290: FILE: drivers/kvm/svm.h:253:
+#define^ISVM_EXIT_WRITE_DR3 ^I0x033$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#291: FILE: drivers/kvm/svm.h:254:
+#define^ISVM_EXIT_WRITE_DR4 ^I0x034$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#292: FILE: drivers/kvm/svm.h:255:
+#define^ISVM_EXIT_WRITE_DR5 ^I0x035$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#293: FILE: drivers/kvm/svm.h:256:
+#define^ISVM_EXIT_WRITE_DR6 ^I0x036$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#294: FILE: drivers/kvm/svm.h:257:
+#define^ISVM_EXIT_WRITE_DR7 ^I0x037$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#338: FILE: drivers/kvm/svm.h:301:
+#define SVM_EXIT_NPF  ^I^I0x400$

CHECK:BIT_MACRO: Prefer using the BIT macro
#342: FILE: drivers/kvm/svm.h:305:
+#define SVM_CR0_SELECTIVE_MASK (1 << 3 | 1) // TS and MP

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.14664.commit.9f8da31ce146709c21c71d8343b8b186548b0291 total: 0 errors, 30 warnings, 28 checks, 312 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.14664.commit.9f8da31ce146709c21c71d8343b8b186548b0291 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
