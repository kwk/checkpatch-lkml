ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#102: FILE: drivers/char/stallion.c:764:
+		if ((brdp = stl_brds[i]) == NULL)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!panelp"
#110: FILE: drivers/char/stallion.c:771:
+			if (panelp == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#115: FILE: drivers/char/stallion.c:775:
+				if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tty"
#118: FILE: drivers/char/stallion.c:777:
+				if (portp->tty != NULL)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#136: FILE: drivers/char/stallion.c:815:
+		if ((brdp = stl_allocbrd()) == NULL)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'argp[0] == NULL'
#145: FILE: drivers/char/stallion.c:877:
+	if ((argp[0] == NULL) || (*argp[0] == 0))

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!argp[0]"
#145: FILE: drivers/char/stallion.c:877:
+	if ((argp[0] == NULL) || (*argp[0] == 0))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'argp[i] != NULL'
#154: FILE: drivers/char/stallion.c:895:
+	if ((argp[i] != NULL) && (*argp[i] != 0))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "argp[i]"
#154: FILE: drivers/char/stallion.c:895:
+	if ((argp[i] != NULL) && (*argp[i] != 0))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'argp[i] != NULL'
#159: FILE: drivers/char/stallion.c:899:
+		if ((argp[i] != NULL) && (*argp[i] != 0))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "argp[i]"
#159: FILE: drivers/char/stallion.c:899:
+		if ((argp[i] != NULL) && (*argp[i] != 0))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'argp[i] != NULL'
#164: FILE: drivers/char/stallion.c:903:
+	if ((argp[i] != NULL) && (*argp[i] != 0))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "argp[i]"
#164: FILE: drivers/char/stallion.c:903:
+	if ((argp[i] != NULL) && (*argp[i] != 0))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#173: FILE: drivers/char/stallion.c:945:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp->panels[panelnr]"
#178: FILE: drivers/char/stallion.c:949:
+		if (brdp->panels[panelnr] == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#187: FILE: drivers/char/stallion.c:961:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#196: FILE: drivers/char/stallion.c:1083:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tx.buf"
#205: FILE: drivers/char/stallion.c:1126:
+	if (portp->tx.buf != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#228: FILE: drivers/char/stallion.c:1165:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp->tx.buf"
#231: FILE: drivers/char/stallion.c:1167:
+	if (portp->tx.buf == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#240: FILE: drivers/char/stallion.c:1220:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#244: FILE: drivers/char/stallion.c:1223:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp->tx.buf"
#247: FILE: drivers/char/stallion.c:1225:
+	if (portp->tx.buf == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#256: FILE: drivers/char/stallion.c:1256:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#260: FILE: drivers/char/stallion.c:1259:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp->tx.buf"
#263: FILE: drivers/char/stallion.c:1261:
+	if (portp->tx.buf == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#272: FILE: drivers/char/stallion.c:1276:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#276: FILE: drivers/char/stallion.c:1279:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp->tx.buf"
#279: FILE: drivers/char/stallion.c:1281:
+	if (portp->tx.buf == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#288: FILE: drivers/char/stallion.c:1308:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#292: FILE: drivers/char/stallion.c:1311:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp->tx.buf"
#295: FILE: drivers/char/stallion.c:1313:
+	if (portp->tx.buf == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "brdp"
#304: FILE: drivers/char/stallion.c:1355:
+	if (brdp != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#313: FILE: drivers/char/stallion.c:1401:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#317: FILE: drivers/char/stallion.c:1404:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#326: FILE: drivers/char/stallion.c:1418:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#330: FILE: drivers/char/stallion.c:1421:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#339: FILE: drivers/char/stallion.c:1449:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#343: FILE: drivers/char/stallion.c:1452:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#352: FILE: drivers/char/stallion.c:1511:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#356: FILE: drivers/char/stallion.c:1514:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#365: FILE: drivers/char/stallion.c:1546:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#369: FILE: drivers/char/stallion.c:1549:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#378: FILE: drivers/char/stallion.c:1566:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#382: FILE: drivers/char/stallion.c:1569:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#391: FILE: drivers/char/stallion.c:1587:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#395: FILE: drivers/char/stallion.c:1590:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#404: FILE: drivers/char/stallion.c:1607:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#408: FILE: drivers/char/stallion.c:1610:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#417: FILE: drivers/char/stallion.c:1629:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#421: FILE: drivers/char/stallion.c:1632:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tx.buf"
#430: FILE: drivers/char/stallion.c:1643:
+	if (portp->tx.buf != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#449: FILE: drivers/char/stallion.c:1663:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#453: FILE: drivers/char/stallion.c:1666:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#462: FILE: drivers/char/stallion.c:1681:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#466: FILE: drivers/char/stallion.c:1684:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#475: FILE: drivers/char/stallion.c:1699:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#479: FILE: drivers/char/stallion.c:1702:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#488: FILE: drivers/char/stallion.c:1726:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#492: FILE: drivers/char/stallion.c:1729:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#501: FILE: drivers/char/stallion.c:1825:
+		if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!panelp"
#510: FILE: drivers/char/stallion.c:1839:
+			if (panelp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#519: FILE: drivers/char/stallion.c:1852:
+				if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#537: FILE: drivers/char/stallion.c:2039:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#542: FILE: drivers/char/stallion.c:2043:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "brdp->panels[i]"
#582: FILE: drivers/char/stallion.c:2503:
+		if (brdp->panels[i] != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!stl_brds[i]"
#591: FILE: drivers/char/stallion.c:2524:
+		if (stl_brds[i] == NULL) {

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#600: FILE: drivers/char/stallion.c:2552:
+	if ((brdp = stl_allocbrd()) == NULL)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#609: FILE: drivers/char/stallion.c:2662:
+		if ((brdp = stl_allocbrd()) == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#618: FILE: drivers/char/stallion.c:2702:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#631: FILE: drivers/char/stallion.c:2739:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!panelp"
#639: FILE: drivers/char/stallion.c:2744:
+	if (panelp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#652: FILE: drivers/char/stallion.c:2769:
+		if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tty"
#661: FILE: drivers/char/stallion.c:2785:
+	if (portp->tty != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tty->termios"
#667: FILE: drivers/char/stallion.c:2790:
+			if (portp->tty->termios != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#676: FILE: drivers/char/stallion.c:2824:
+		if (portp == NULL)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'brdp == NULL'
#686: FILE: drivers/char/stallion.c:3095:
+	if ((brdp == NULL) || (panelp == NULL) ||
+	    (portp == NULL))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'panelp == NULL'
#686: FILE: drivers/char/stallion.c:3095:
+	if ((brdp == NULL) || (panelp == NULL) ||
+	    (portp == NULL))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'portp == NULL'
#686: FILE: drivers/char/stallion.c:3095:
+	if ((brdp == NULL) || (panelp == NULL) ||
+	    (portp == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#686: FILE: drivers/char/stallion.c:3095:
+	if ((brdp == NULL) || (panelp == NULL) ||

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!panelp"
#686: FILE: drivers/char/stallion.c:3095:
+	if ((brdp == NULL) || (panelp == NULL) ||

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#687: FILE: drivers/char/stallion.c:3096:
+	    (portp == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#696: FILE: drivers/char/stallion.c:3167:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#705: FILE: drivers/char/stallion.c:3551:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#709: FILE: drivers/char/stallion.c:3554:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#718: FILE: drivers/char/stallion.c:3613:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#722: FILE: drivers/char/stallion.c:3616:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#731: FILE: drivers/char/stallion.c:3645:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#740: FILE: drivers/char/stallion.c:3672:
+	if (portp == NULL)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'brdp == NULL'
#750: FILE: drivers/char/stallion.c:4097:
+	if ((brdp == NULL) || (panelp == NULL) ||
+	    (portp == NULL))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'panelp == NULL'
#750: FILE: drivers/char/stallion.c:4097:
+	if ((brdp == NULL) || (panelp == NULL) ||
+	    (portp == NULL))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'portp == NULL'
#750: FILE: drivers/char/stallion.c:4097:
+	if ((brdp == NULL) || (panelp == NULL) ||
+	    (portp == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#750: FILE: drivers/char/stallion.c:4097:
+	if ((brdp == NULL) || (panelp == NULL) ||

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!panelp"
#750: FILE: drivers/char/stallion.c:4097:
+	if ((brdp == NULL) || (panelp == NULL) ||

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#751: FILE: drivers/char/stallion.c:4098:
+	    (portp == NULL))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#760: FILE: drivers/char/stallion.c:4135:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#769: FILE: drivers/char/stallion.c:4487:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#773: FILE: drivers/char/stallion.c:4490:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#782: FILE: drivers/char/stallion.c:4556:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#786: FILE: drivers/char/stallion.c:4559:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#795: FILE: drivers/char/stallion.c:4593:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#804: FILE: drivers/char/stallion.c:4622:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#813: FILE: drivers/char/stallion.c:4649:
+	if (portp == NULL)

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'tty != NULL'
#823: FILE: drivers/char/stallion.c:4821:
+		if ((tty != NULL) &&
+		    (tty->termios != NULL) &&
 		    (tty->termios->c_iflag & IXANY)) {

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'tty->termios != NULL'
#823: FILE: drivers/char/stallion.c:4821:
+		if ((tty != NULL) &&
+		    (tty->termios != NULL) &&
 		    (tty->termios->c_iflag & IXANY)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "tty"
#823: FILE: drivers/char/stallion.c:4821:
+		if ((tty != NULL) &&

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "tty->termios"
#824: FILE: drivers/char/stallion.c:4822:
+		    (tty->termios != NULL) &&

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'tty != NULL'
#833: FILE: drivers/char/stallion.c:4852:
+	if ((tty != NULL) &&
 	    ((portp->rxignoremsk & status) == 0)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "tty"
#833: FILE: drivers/char/stallion.c:4852:
+	if ((tty != NULL) &&

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.28212.commit.05d9d657f622dc59bf4f48920f8b4ea2809bff74 total: 4 errors, 0 warnings, 105 checks, 734 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.28212.commit.05d9d657f622dc59bf4f48920f8b4ea2809bff74 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
