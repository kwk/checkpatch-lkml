CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'sym' may be better as '(sym)' to avoid precedence issues
#73: FILE: include/linux/module.h:185:
+#define __EXPORT_SYMBOL(name, sym, sec)				\
+	__CRC_SYMBOL(name, sec)					\
+	static const char __kstrtab_##name[]			\
 	__attribute__((section("__ksymtab_strings")))		\
+	= MODULE_SYMBOL_PREFIX #name;                    	\
+	static const struct kernel_symbol __ksymtab_##name	\
 	__attribute_used__					\
 	__attribute__((section("__ksymtab" sec), unused))	\
+	= { (unsigned long)&sym, __kstrtab_##name }

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'sec' - possible side-effects?
#73: FILE: include/linux/module.h:185:
+#define __EXPORT_SYMBOL(name, sym, sec)				\
+	__CRC_SYMBOL(name, sec)					\
+	static const char __kstrtab_##name[]			\
 	__attribute__((section("__ksymtab_strings")))		\
+	= MODULE_SYMBOL_PREFIX #name;                    	\
+	static const struct kernel_symbol __ksymtab_##name	\
 	__attribute_used__					\
 	__attribute__((section("__ksymtab" sec), unused))	\
+	= { (unsigned long)&sym, __kstrtab_##name }

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#79: FILE: include/linux/module.h:189:
+^I= MODULE_SYMBOL_PREFIX #name;                    ^I\$

CHECK:ASSIGNMENT_CONTINUATIONS: Assignment operator '=' should be on the previous line
#79: FILE: include/linux/module.h:189:
 	__attribute__((section("__ksymtab_strings")))		\
+	= MODULE_SYMBOL_PREFIX #name;                    	\

Assignment operators should not be written at the start of a
line but should follow the operand at the previous line.

CHECK:ASSIGNMENT_CONTINUATIONS: Assignment operator '=' should be on the previous line
#84: FILE: include/linux/module.h:193:
 	__attribute__((section("__ksymtab" sec), unused))	\
+	= { (unsigned long)&sym, __kstrtab_##name }

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#95: FILE: include/linux/module.h:202:
+^Iextern void __deprecated_ ## sym ^I^I^I\$

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __alias(#sym) over __attribute__((alias(#sym)))
#96: FILE: include/linux/module.h:203:
+			__attribute__((alias(#sym)));		\

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.49999.commit.c3d7faf7d38bf4f42e46e5a3084cf42129fd91ca total: 0 errors, 3 warnings, 4 checks, 34 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.49999.commit.c3d7faf7d38bf4f42e46e5a3084cf42129fd91ca has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
