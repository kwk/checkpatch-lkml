WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#39: 
	- PMU description table for architectural perfmon, e.g., used by Core Duo/Core Solo

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#135: FILE: arch/i386/perfmon/perfmon.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#148: FILE: arch/i386/perfmon/perfmon.c:14:
+#ifdef __i386__

Architecture specific defines should be avoided wherever
possible.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#172: FILE: arch/i386/perfmon/perfmon.c:38:
+static int (*pfm_stop_active)(struct task_struct *task,
+			       struct pfm_context *ctx,

WARNING:LINE_SPACING: Missing a blank line after declarations
#191: FILE: arch/i386/perfmon/perfmon.c:57:
+	int cpu = smp_processor_id();
+	return (cpu != first_cpu(cpu_sibling_map[cpu]));

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#201: FILE: arch/i386/perfmon/perfmon.c:67:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#217: FILE: arch/i386/perfmon/perfmon.c:83:
+		if (xreg->reg_type & PFM_REGT_ESCR) {
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:SPACING: spaces required around that '&=' (ctx:WxO)
#227: FILE: arch/i386/perfmon/perfmon.c:93:
+				val &=~(1UL<<26);
 				    ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required before that '~' (ctx:OxV)
#227: FILE: arch/i386/perfmon/perfmon.c:93:
+				val &=~(1UL<<26);
 				      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#227: FILE: arch/i386/perfmon/perfmon.c:93:
+				val &=~(1UL<<26);
 				           ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#228: FILE: arch/i386/perfmon/perfmon.c:94:
+				val |= 1UL<<27;
 				          ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#232: FILE: arch/i386/perfmon/perfmon.c:98:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#240: FILE: arch/i386/perfmon/perfmon.c:106:
+^I$

CHECK:BRACES: braces {} should be used on all arms of this statement
#243: FILE: arch/i386/perfmon/perfmon.c:109:
+	if (likely(xreg->addrs[smt_id])) {
[...]
+	} else
[...]

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (8, 17)
#261: FILE: arch/i386/perfmon/perfmon.c:127:
+	} else
+		 *val = 0;

CHECK:BRACES: Unbalanced braces around else statement
#261: FILE: arch/i386/perfmon/perfmon.c:127:
+	} else

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#281: FILE: arch/i386/perfmon/perfmon.c:147:
+		apic_write(APIC_LVTPC, APIC_LVT_MASKED|LOCAL_PERFMON_VECTOR);
 		                                      ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#283: FILE: arch/i386/perfmon/perfmon.c:149:
+^I} $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#366: FILE: arch/i386/perfmon/perfmon.c:232:
+^I$

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#384: FILE: arch/i386/perfmon/perfmon.c:250:
+		if (ds->pebs_index >= ds->pebs_intr_thres
+		    && pfm_bv_isset(set->used_pmds, arch_info->pebs_ctr_idx)) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!ctx"
#399: FILE: arch/i386/perfmon/perfmon.c:265:
+	if (ctx == NULL)

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#424: FILE: arch/i386/perfmon/perfmon.c:290:
+void pfm_arch_ctxswin_thread(struct task_struct *task, struct pfm_context *ctx,
+		      struct pfm_event_set *set)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#443: FILE: arch/i386/perfmon/perfmon.c:309:
+static int __pfm_stop_active_p6(struct task_struct *task,
+				 struct pfm_context *ctx,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#507: FILE: arch/i386/perfmon/perfmon.c:373:
+static int __pfm_stop_active_p4(struct task_struct *task,
+				 struct pfm_context *ctx,

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#556: FILE: arch/i386/perfmon/perfmon.c:422:
+			BUG_ON(i >= PFM_MAX_PMCS);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#558: FILE: arch/i386/perfmon/perfmon.c:424:
+				__pfm_write_reg(xrc+i, 0);
 				                   ^

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#575: FILE: arch/i386/perfmon/perfmon.c:441:
+		BUG_ON(i >= PFM_MAX_PMCS);

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#577: FILE: arch/i386/perfmon/perfmon.c:443:
+		if (pfm_bv_isset(used_enable_mask, i)) {
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#579: FILE: arch/i386/perfmon/perfmon.c:445:
+			__pfm_read_reg(xrd+(xrc[i].ctr), &ctr1);
 			                  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#582: FILE: arch/i386/perfmon/perfmon.c:448:
+			__pfm_read_reg(xrc+i, &cccr);
 			                  ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#585: FILE: arch/i386/perfmon/perfmon.c:451:
+			__pfm_write_reg(xrc+i, 0);
 			                   ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#588: FILE: arch/i386/perfmon/perfmon.c:454:
+			__pfm_read_reg(xrd+(xrc[i].ctr), &ctr2);
 			                  ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#592: FILE: arch/i386/perfmon/perfmon.c:458:
+^I^I^I * ^I- CCCR.ovf is set (and we just cleared it)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#593: FILE: arch/i386/perfmon/perfmon.c:459:
+^I^I^I * ^I- ctr2 < ctr1$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#597: FILE: arch/i386/perfmon/perfmon.c:463:
+			if ((cccr & (PFM_ONE_64<<31)) || (ctr2 < ctr1)) {
 			                       ^

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'ctr2 < ctr1'
#597: FILE: arch/i386/perfmon/perfmon.c:463:
+			if ((cccr & (PFM_ONE_64<<31)) || (ctr2 < ctr1)) {

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#621: FILE: arch/i386/perfmon/perfmon.c:487:
+ * ^Itask is current$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#641: FILE: arch/i386/perfmon/perfmon.c:507:
+ * ^Inon-zero : did not save PMDs (as part of stopping the PMU)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#642: FILE: arch/i386/perfmon/perfmon.c:508:
+ * ^I       0 : saved PMDs (no need to save them in caller)$

ERROR:CODE_INDENT: code indent should use tabs where possible
#645: FILE: arch/i386/perfmon/perfmon.c:511:
+^I^I             struct pfm_event_set *set)$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#645: FILE: arch/i386/perfmon/perfmon.c:511:
+int pfm_arch_ctxswout_thread(struct task_struct *task, struct pfm_context *ctx,
+		             struct pfm_event_set *set)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#670: FILE: arch/i386/perfmon/perfmon.c:536:
+ * ^ITask is not necessarily current. If not current task, then task$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#671: FILE: arch/i386/perfmon/perfmon.c:537:
+ * ^Iis guaranteed stopped and off any cpu. Access to PMU is not guaranteed.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#674: FILE: arch/i386/perfmon/perfmon.c:540:
+ * ^Itask is always current$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#687: FILE: arch/i386/perfmon/perfmon.c:553:
+
+

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#706: FILE: arch/i386/perfmon/perfmon.c:572:
+			__pfm_write_reg(xregs+i, set->pmcs[i]);
 			                     ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#769: FILE: arch/i386/perfmon/perfmon.c:635:
+			__pfm_write_reg(xregs+i, val);
 			                     ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#813: FILE: arch/i386/perfmon/perfmon.c:679:
+^I * ^I- pmc are totally independent of each other, there is$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#814: FILE: arch/i386/perfmon/perfmon.c:680:
+^I * ^I  possible side-effect from stale pmcs. Therefore we only$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#815: FILE: arch/i386/perfmon/perfmon.c:681:
+^I * ^I  restore the registers we use$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#817: FILE: arch/i386/perfmon/perfmon.c:683:
+^I * ^I- must restore everything because there are some dependencies$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#818: FILE: arch/i386/perfmon/perfmon.c:684:
+^I * ^I(e.g., ESCR and CCCR)$

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#822: FILE: arch/i386/perfmon/perfmon.c:688:
+			__pfm_write_reg(xregs+i, set->pmcs[i]);
 			                     ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#836: FILE: arch/i386/perfmon/perfmon.c:702:
+^I * ^I- it is necessary to clear the MASK field for the LVTPC$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#837: FILE: arch/i386/perfmon/perfmon.c:703:
+^I * ^I  vector. Otherwise interrupts remain masked. See$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#838: FILE: arch/i386/perfmon/perfmon.c:704:
+^I * ^I  section 8.5.1$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#840: FILE: arch/i386/perfmon/perfmon.c:706:
+^I * ^I- the documentation does not stipulate the behavior.$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#841: FILE: arch/i386/perfmon/perfmon.c:707:
+^I * ^I  To be safe, we also rewrite the vector to clear the$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#842: FILE: arch/i386/perfmon/perfmon.c:708:
+^I * ^I  mask field$

WARNING:TYPO_SPELLING: 'overfow' may be misspelled - perhaps 'overflow'?
#847: FILE: arch/i386/perfmon/perfmon.c:713:
+	 * overfow condition and may end up in a flood of PMU interrupts.
 	   ^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:LINE_SPACING: Please don't use multiple blank lines
#859: FILE: arch/i386/perfmon/perfmon.c:725:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#865: FILE: arch/i386/perfmon/perfmon.c:731:
+^I$

ERROR:CODE_INDENT: code indent should use tabs where possible
#873: FILE: arch/i386/perfmon/perfmon.c:739:
+^I        smp_processor_id(),$

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#882: FILE: arch/i386/perfmon/perfmon.c:748:
+			__pfm_write_reg(xregs+i, 0);
 			                     ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#901: FILE: arch/i386/perfmon/perfmon.c:767:
+ * ^I< 0 : if error$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#902: FILE: arch/i386/perfmon/perfmon.c:768:
+ * ^I  0 : if success$

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#914: FILE: arch/i386/perfmon/perfmon.c:780:
+	switch(arch_info->pmu_style) {
+		case PFM_X86_PMU_P4:
[...]
+		case PFM_X86_PMU_P6:
[...]
+		default:

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:SPACING: space required before the open parenthesis '('
#914: FILE: arch/i386/perfmon/perfmon.c:780:
+	switch(arch_info->pmu_style) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#950: FILE: arch/i386/perfmon/perfmon.c:816:
+^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#974: FILE: arch/i386/perfmon/perfmon.c:840:
+
+

CHECK:LINE_SPACING: Please don't use multiple blank lines
#998: FILE: arch/i386/perfmon/perfmon.c:864:
+
+

ERROR:SPACING: space prohibited after that open parenthesis '('
#1044: FILE: arch/i386/perfmon/perfmon.c:910:
+	on_each_cpu( __pfm_restart_lapic_nmi, NULL, 0, 1);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1076: FILE: arch/i386/perfmon/perfmon.c:942:
+ * ^I< 0 cannot reserve$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1077: FILE: arch/i386/perfmon/perfmon.c:943:
+ * ^I0 successful$

ERROR:SPACING: space required before the open parenthesis '('
#1092: FILE: arch/i386/perfmon/perfmon.c:958:
+	if(sum == 0 && nmi_watchdog == NMI_LOCAL_APIC

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1093: FILE: arch/i386/perfmon/perfmon.c:959:
+	if(sum == 0 && nmi_watchdog == NMI_LOCAL_APIC
+	   && pfm_reserve_lapic_nmi() < 0) {

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#1117: FILE: arch/i386/perfmon/perfmon.c:983:
+	switch(cpu_data->x86) {
+		case 6:
[...]
+		case 15:
[...]
+		default:

ERROR:SPACING: space required before the open parenthesis '('
#1117: FILE: arch/i386/perfmon/perfmon.c:983:
+	switch(cpu_data->x86) {

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#1119: FILE: arch/i386/perfmon/perfmon.c:985:
+			switch(cpu_data->x86_model) {
+				case 3: /* Pentium II */
+				case 7 ... 11:
+				case 13:
[...]
+				default:

ERROR:SPACING: space required before the open parenthesis '('
#1119: FILE: arch/i386/perfmon/perfmon.c:985:
+			switch(cpu_data->x86_model) {

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#1132: FILE: arch/i386/perfmon/perfmon.c:998:
+			switch(cpu_data->x86_model) {
+				case 0 ... 6:

ERROR:SPACING: space required before the open parenthesis '('
#1132: FILE: arch/i386/perfmon/perfmon.c:998:
+			switch(cpu_data->x86_model) {

WARNING:PREFER_FALLTHROUGH: Prefer 'fallthrough;' over fallthrough comment
#1136: FILE: arch/i386/perfmon/perfmon.c:1002:
+			/* FALL THROUGH */

Use the `fallthrough;` pseudo keyword instead of
`/* fallthrough */` like comments.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1147: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:1:
+/*

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1170: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:24:
+#define PFM_GEN_IA32_PMC_RSVD	~((0xffffffffULL<<32) \
                              	                ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1171: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:25:
+^I^I  ^I| (PFM_ONE_64<<20)    \$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1171: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:25:
+^I^I  ^I| (PFM_ONE_64<<20)    \$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1171: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:25:
+		  	| (PFM_ONE_64<<20)    \
 		  	             ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1172: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:26:
+			| (PFM_ONE_64<<21))
 			             ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1178: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:32:
+#define PFM_GEN_IA32_PMC_VAL	(PFM_ONE_64<<20)
                             	           ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1179: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:33:
+#define PFM_GEN_IA32_NO64	(PFM_ONE_64<<20)
                          	           ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'n' - possible side-effects?
#1189: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:43:
+#define PFM_GEN_IA32_SEL(n)	{ \
+	.addrs[0] = MSR_GEN_PERFEVTSEL_BASE+(n), \
+	.addrs[1] = 0, \
+	.ctr = n, \
+	.reg_type = PFM_REGT_SELEN}

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1190: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:44:
+	.addrs[0] = MSR_GEN_PERFEVTSEL_BASE+(n), \
 	                                   ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'n' - possible side-effects?
#1195: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:49:
+#define PFM_GEN_IA32_CTR(n) { \
+	.addrs[0] = MSR_GEN_PMC_BASE+(n), \
+	.addrs[1] = 0, \
+	.ctr = n, \
+	.reg_type = PFM_REGT_CTR}

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1196: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:50:
+	.addrs[0] = MSR_GEN_PMC_BASE+(n), \
 	                            ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1202: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:56:
+        unsigned int version:8;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1202: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:56:
+        unsigned int version:8;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1203: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:57:
+        unsigned int num_cnt:8;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1203: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:57:
+        unsigned int num_cnt:8;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1204: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:58:
+        unsigned int cnt_width:8;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1204: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:58:
+        unsigned int cnt_width:8;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#1205: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:59:
+        unsigned int ebx_length:8;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1205: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:59:
+        unsigned int ebx_length:8;$

WARNING:SPACING: missing space after struct definition
#1211: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:65:
+struct pfm_arch_pmu_info pfm_gen_ia32_pmu_info={

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1211: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:65:
+struct pfm_arch_pmu_info pfm_gen_ia32_pmu_info={
                                               ^

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1213: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:67:
+		PFM_GEN_IA32_SEL(0) ,  PFM_GEN_IA32_SEL(1),  PFM_GEN_IA32_SEL(2),  PFM_GEN_IA32_SEL(3),

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1213: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:67:
+		PFM_GEN_IA32_SEL(0) ,  PFM_GEN_IA32_SEL(1),  PFM_GEN_IA32_SEL(2),  PFM_GEN_IA32_SEL(3),
 		                    ^

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1214: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:68:
+		PFM_GEN_IA32_SEL(4) ,  PFM_GEN_IA32_SEL(5),  PFM_GEN_IA32_SEL(6),  PFM_GEN_IA32_SEL(7),

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1214: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:68:
+		PFM_GEN_IA32_SEL(4) ,  PFM_GEN_IA32_SEL(5),  PFM_GEN_IA32_SEL(6),  PFM_GEN_IA32_SEL(7),
 		                    ^

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1215: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:69:
+		PFM_GEN_IA32_SEL(8) ,  PFM_GEN_IA32_SEL(9), PFM_GEN_IA32_SEL(10), PFM_GEN_IA32_SEL(11),

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1215: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:69:
+		PFM_GEN_IA32_SEL(8) ,  PFM_GEN_IA32_SEL(9), PFM_GEN_IA32_SEL(10), PFM_GEN_IA32_SEL(11),
 		                    ^

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1216: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:70:
+		PFM_GEN_IA32_SEL(12), PFM_GEN_IA32_SEL(13), PFM_GEN_IA32_SEL(14), PFM_GEN_IA32_SEL(15),

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1217: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:71:
+		PFM_GEN_IA32_SEL(16), PFM_GEN_IA32_SEL(17), PFM_GEN_IA32_SEL(18), PFM_GEN_IA32_SEL(19),

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1218: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:72:
+		PFM_GEN_IA32_SEL(20), PFM_GEN_IA32_SEL(21), PFM_GEN_IA32_SEL(22), PFM_GEN_IA32_SEL(23),

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1219: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:73:
+		PFM_GEN_IA32_SEL(24), PFM_GEN_IA32_SEL(25), PFM_GEN_IA32_SEL(26), PFM_GEN_IA32_SEL(27),

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#1220: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:74:
+		PFM_GEN_IA32_SEL(28), PFM_GEN_IA32_SEL(29), PFM_GEN_IA32_SEL(30), PFM_GEN_IA32_SEL(31)

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1223: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:77:
+		PFM_GEN_IA32_CTR(0) ,  PFM_GEN_IA32_CTR(1),  PFM_GEN_IA32_CTR(2),  PFM_GEN_IA32_CTR(3),

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1223: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:77:
+		PFM_GEN_IA32_CTR(0) ,  PFM_GEN_IA32_CTR(1),  PFM_GEN_IA32_CTR(2),  PFM_GEN_IA32_CTR(3),
 		                    ^

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1224: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:78:
+		PFM_GEN_IA32_CTR(4) ,  PFM_GEN_IA32_CTR(5),  PFM_GEN_IA32_CTR(6),  PFM_GEN_IA32_CTR(7),

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1224: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:78:
+		PFM_GEN_IA32_CTR(4) ,  PFM_GEN_IA32_CTR(5),  PFM_GEN_IA32_CTR(6),  PFM_GEN_IA32_CTR(7),
 		                    ^

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1225: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:79:
+		PFM_GEN_IA32_CTR(8) ,  PFM_GEN_IA32_CTR(9), PFM_GEN_IA32_CTR(10), PFM_GEN_IA32_CTR(11),

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1225: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:79:
+		PFM_GEN_IA32_CTR(8) ,  PFM_GEN_IA32_CTR(9), PFM_GEN_IA32_CTR(10), PFM_GEN_IA32_CTR(11),
 		                    ^

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1226: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:80:
+		PFM_GEN_IA32_CTR(12), PFM_GEN_IA32_CTR(13), PFM_GEN_IA32_CTR(14), PFM_GEN_IA32_CTR(15),

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1227: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:81:
+		PFM_GEN_IA32_CTR(16), PFM_GEN_IA32_CTR(17), PFM_GEN_IA32_CTR(18), PFM_GEN_IA32_CTR(19),

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1228: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:82:
+		PFM_GEN_IA32_CTR(20), PFM_GEN_IA32_CTR(21), PFM_GEN_IA32_CTR(22), PFM_GEN_IA32_CTR(23),

WARNING:LONG_LINE: line length of 103 exceeds 100 columns
#1229: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:83:
+		PFM_GEN_IA32_CTR(24), PFM_GEN_IA32_CTR(25), PFM_GEN_IA32_CTR(26), PFM_GEN_IA32_CTR(27),

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#1230: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:84:
+		PFM_GEN_IA32_CTR(28), PFM_GEN_IA32_CTR(29), PFM_GEN_IA32_CTR(30), PFM_GEN_IA32_CTR(31)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1251: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:105:
+static struct pfm_reg_desc pfm_gen_ia32_pmc_desc[]={
                                                   ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1262: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:116:
+static struct pfm_reg_desc pfm_gen_ia32_pmd_desc[]={
                                                   ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1272: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:126:
+};
+#define PFM_GEN_IA32_MAX_PMCS	ARRAY_SIZE(pfm_gen_ia32_pmc_desc)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1274: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:128:
+#define MSR_IA32_MISC_ENABLE_PERF_AVAIL (1<<7) /* read-only status bit */
                                           ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#1274: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:128:
+#define MSR_IA32_MISC_ENABLE_PERF_AVAIL (1<<7) /* read-only status bit */

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1341: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:195:
+		PFM_INFO("too many counters (max=%d) actual=%u\n",
+			PFM_GEN_IA32_MAX_PMCS, num_cnt);

WARNING:SPLIT_STRING: quoted string split across lines
#1358: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:212:
+		PFM_INFO("local APIC disabled, you must enable "
+			 "with lapic kernel command line option");

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1375: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:229:
+static struct pfm_pmu_config pfm_gen_ia32_pmu_conf={
                                                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1386: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:240:
+^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1392: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:246:
+	for(i=0; i < PFM_MAX_HW_PMCS; i++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#1392: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:246:
+	for(i=0; i < PFM_MAX_HW_PMCS; i++) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1393: FILE: arch/i386/perfmon/perfmon_gen_ia32.c:247:
+		if (pfm_gen_ia32_pmu_info.pmc_addrs[i].reg_type & PFM_REGT_SELEN) {
+			pfm_bv_set(pfm_gen_ia32_pmu_info.enable_mask, i);
+		}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1410: FILE: arch/i386/perfmon/perfmon_p4.c:1:
+/*^I$

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1410: FILE: arch/i386/perfmon/perfmon_p4.c:1:
+/*	

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1428: FILE: arch/i386/perfmon/perfmon_p4.c:19:
+ * ^I- OVF_PMI_T0=1 (bit 26)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1429: FILE: arch/i386/perfmon/perfmon_p4.c:20:
+ * ^I- OVF_PMI_T1=0 (bit 27) (set if necessary in pfm_write_reg())$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1430: FILE: arch/i386/perfmon/perfmon_p4.c:21:
+ * ^I- all other bits are zero$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1434: FILE: arch/i386/perfmon/perfmon_p4.c:25:
+#define PFM_CCCR_DFL	(PFM_ONE_64<<26)
                     	           ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1438: FILE: arch/i386/perfmon/perfmon_p4.c:29:
+ * ^I- bits 0-11, 25-29, 31-63$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1439: FILE: arch/i386/perfmon/perfmon_p4.c:30:
+ * ^I- OVF_PMI (26-27), override with REGFL_NO_EMUL64$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1443: FILE: arch/i386/perfmon/perfmon_p4.c:34:
+#define PFM_P4_NO64	(3ULL<<26) /* use 3 even in non HT mode */
                    	     ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1454: FILE: arch/i386/perfmon/perfmon_p4.c:45:
+ *  ^I- MSR_PEBS_MATRIX_VERT is shared between the threads$

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1465: FILE: arch/i386/perfmon/perfmon_p4.c:56:
+#define PFM_REGT_NHTESCR (PFM_REGT_ESCR|PFM_REGT_NOHT)
                                        ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1466: FILE: arch/i386/perfmon/perfmon_p4.c:57:
+#define PFM_REGT_NHTCCCR (PFM_REGT_CCCR|PFM_REGT_NOHT)
                                        ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1467: FILE: arch/i386/perfmon/perfmon_p4.c:58:
+#define PFM_REGT_NHTPEBS (PFM_REGT_PEBS|PFM_REGT_NOHT)
                                        ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#1468: FILE: arch/i386/perfmon/perfmon_p4.c:59:
+#define PFM_REGT_NHTCTR  (PFM_REGT_CTR|PFM_REGT_NOHT)
                                       ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1470: FILE: arch/i386/perfmon/perfmon_p4.c:61:
+static struct pfm_arch_pmu_info pfm_p4_pmu_info={
                                                ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1505: FILE: arch/i386/perfmon/perfmon_p4.c:96:
+^I^I^I/* non HT extensions */^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1529: FILE: arch/i386/perfmon/perfmon_p4.c:120:
+	/*pmc 55*/    {{0x363,     0},10, PFM_REGT_NHTCCCR}, /*   BPU_CCCR3   */
 	                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1530: FILE: arch/i386/perfmon/perfmon_p4.c:121:
+	/*pmc 56*/    {{0x366,     0},11, PFM_REGT_NHTCCCR}, /*    MS_CCCR1   */
 	                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1531: FILE: arch/i386/perfmon/perfmon_p4.c:122:
+	/*pmc 57*/    {{0x367,     0},12, PFM_REGT_NHTCCCR}, /*    MS_CCCR3   */
 	                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1532: FILE: arch/i386/perfmon/perfmon_p4.c:123:
+	/*pmc 58*/    {{0x36a,     0},13, PFM_REGT_NHTCCCR}, /* FLAME_CCCR1   */
 	                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1533: FILE: arch/i386/perfmon/perfmon_p4.c:124:
+	/*pmc 59*/    {{0x36b,     0},14, PFM_REGT_NHTCCCR}, /* FLAME_CCCR3   */
 	                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1534: FILE: arch/i386/perfmon/perfmon_p4.c:125:
+	/*pmc 60*/    {{0x36e,     0},15, PFM_REGT_NHTCCCR}, /*    IQ_CCCR1   */
 	                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1535: FILE: arch/i386/perfmon/perfmon_p4.c:126:
+	/*pmc 61*/    {{0x36f,     0},16, PFM_REGT_NHTCCCR}, /*    IQ_CCCR3   */
 	                             ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1536: FILE: arch/i386/perfmon/perfmon_p4.c:127:
+	/*pmc 62*/    {{0x371,     0},17, PFM_REGT_NHTCCCR}, /*    IQ_CCCR5   */
 	                             ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1568: FILE: arch/i386/perfmon/perfmon_p4.c:159:
+static struct pfm_reg_desc pfm_p4_pmc_desc[]={
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1569: FILE: arch/i386/perfmon/perfmon_p4.c:160:
+/* pmc0  */ PMC_D(PFM_REG_I, "BPU_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1570: FILE: arch/i386/perfmon/perfmon_p4.c:161:
+/* pmc1  */ PMC_D(PFM_REG_I, "IS_ESCR0"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1571: FILE: arch/i386/perfmon/perfmon_p4.c:162:
+/* pmc2  */ PMC_D(PFM_REG_I, "MOB_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1572: FILE: arch/i386/perfmon/perfmon_p4.c:163:
+/* pmc3  */ PMC_D(PFM_REG_I, "ITLB_ESCR0" , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1573: FILE: arch/i386/perfmon/perfmon_p4.c:164:
+/* pmc4  */ PMC_D(PFM_REG_I, "PMH_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1574: FILE: arch/i386/perfmon/perfmon_p4.c:165:
+/* pmc5  */ PMC_D(PFM_REG_I, "IX_ESCR0"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1575: FILE: arch/i386/perfmon/perfmon_p4.c:166:
+/* pmc6  */ PMC_D(PFM_REG_I, "FSB_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1576: FILE: arch/i386/perfmon/perfmon_p4.c:167:
+/* pmc7  */ PMC_D(PFM_REG_I, "BSU_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1577: FILE: arch/i386/perfmon/perfmon_p4.c:168:
+/* pmc8  */ PMC_D(PFM_REG_I, "MS_ESCR0"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1578: FILE: arch/i386/perfmon/perfmon_p4.c:169:
+/* pmc9  */ PMC_D(PFM_REG_I, "TC_ESCR0"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1579: FILE: arch/i386/perfmon/perfmon_p4.c:170:
+/* pmc10 */ PMC_D(PFM_REG_I, "TBPU_ESCR0" , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1581: FILE: arch/i386/perfmon/perfmon_p4.c:172:
+/* pmc12 */ PMC_D(PFM_REG_I, "FIRM_ESCR0" , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1582: FILE: arch/i386/perfmon/perfmon_p4.c:173:
+/* pmc13 */ PMC_D(PFM_REG_I, "SAAT_ESCR0" , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1583: FILE: arch/i386/perfmon/perfmon_p4.c:174:
+/* pmc14 */ PMC_D(PFM_REG_I, "U2L_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1584: FILE: arch/i386/perfmon/perfmon_p4.c:175:
+/* pmc15 */ PMC_D(PFM_REG_I, "DAC_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1585: FILE: arch/i386/perfmon/perfmon_p4.c:176:
+/* pmc16 */ PMC_D(PFM_REG_I, "IQ_ESCR0"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1586: FILE: arch/i386/perfmon/perfmon_p4.c:177:
+/* pmc17 */ PMC_D(PFM_REG_I, "ALF_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1587: FILE: arch/i386/perfmon/perfmon_p4.c:178:
+/* pmc18 */ PMC_D(PFM_REG_I, "RAT_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1588: FILE: arch/i386/perfmon/perfmon_p4.c:179:
+/* pmc19 */ PMC_D(PFM_REG_I, "SSU_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1589: FILE: arch/i386/perfmon/perfmon_p4.c:180:
+/* pmc20 */ PMC_D(PFM_REG_I, "CRU_ESCR0"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1590: FILE: arch/i386/perfmon/perfmon_p4.c:181:
+/* pmc21 */ PMC_D(PFM_REG_I, "CRU_ESCR2"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1591: FILE: arch/i386/perfmon/perfmon_p4.c:182:
+/* pmc22 */ PMC_D(PFM_REG_I, "CRU_ESCR4"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1592: FILE: arch/i386/perfmon/perfmon_p4.c:183:
+/* pmc23 */ PMC_D(PFM_REG_I64, "BPU_CCCR0"  , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1593: FILE: arch/i386/perfmon/perfmon_p4.c:184:
+/* pmc24 */ PMC_D(PFM_REG_I64, "BPU_CCCR2"  , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1594: FILE: arch/i386/perfmon/perfmon_p4.c:185:
+/* pmc25 */ PMC_D(PFM_REG_I64, "MS_CCCR0"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1595: FILE: arch/i386/perfmon/perfmon_p4.c:186:
+/* pmc26 */ PMC_D(PFM_REG_I64, "MS_CCCR2"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1598: FILE: arch/i386/perfmon/perfmon_p4.c:189:
+/* pmc29 */ PMC_D(PFM_REG_I64, "IQ_CCCR0"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1599: FILE: arch/i386/perfmon/perfmon_p4.c:190:
+/* pmc30 */ PMC_D(PFM_REG_I64, "IQ_CCCR2"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1600: FILE: arch/i386/perfmon/perfmon_p4.c:191:
+/* pmc31 */ PMC_D(PFM_REG_I64, "IQ_CCCR4"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1602: FILE: arch/i386/perfmon/perfmon_p4.c:193:
+/* pmc32 */ PMC_D(PFM_REG_I, "BPU_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1603: FILE: arch/i386/perfmon/perfmon_p4.c:194:
+/* pmc33 */ PMC_D(PFM_REG_I, "IS_ESCR1"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1604: FILE: arch/i386/perfmon/perfmon_p4.c:195:
+/* pmc34 */ PMC_D(PFM_REG_I, "MOB_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1605: FILE: arch/i386/perfmon/perfmon_p4.c:196:
+/* pmc35 */ PMC_D(PFM_REG_I, "ITLB_ESCR1" , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1606: FILE: arch/i386/perfmon/perfmon_p4.c:197:
+/* pmc36 */ PMC_D(PFM_REG_I, "PMH_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1607: FILE: arch/i386/perfmon/perfmon_p4.c:198:
+/* pmc37 */ PMC_D(PFM_REG_I, "IX_ESCR1"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1608: FILE: arch/i386/perfmon/perfmon_p4.c:199:
+/* pmc38 */ PMC_D(PFM_REG_I, "FSB_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1609: FILE: arch/i386/perfmon/perfmon_p4.c:200:
+/* pmc39 */ PMC_D(PFM_REG_I, "BSU_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1610: FILE: arch/i386/perfmon/perfmon_p4.c:201:
+/* pmc40 */ PMC_D(PFM_REG_I, "MS_ESCR1"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1611: FILE: arch/i386/perfmon/perfmon_p4.c:202:
+/* pmc41 */ PMC_D(PFM_REG_I, "TC_ESCR1"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1612: FILE: arch/i386/perfmon/perfmon_p4.c:203:
+/* pmc42 */ PMC_D(PFM_REG_I, "TBPU_ESCR1" , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1614: FILE: arch/i386/perfmon/perfmon_p4.c:205:
+/* pmc44 */ PMC_D(PFM_REG_I, "FIRM_ESCR1" , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1615: FILE: arch/i386/perfmon/perfmon_p4.c:206:
+/* pmc45 */ PMC_D(PFM_REG_I, "SAAT_ESCR1" , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1616: FILE: arch/i386/perfmon/perfmon_p4.c:207:
+/* pmc46 */ PMC_D(PFM_REG_I, "U2L_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1617: FILE: arch/i386/perfmon/perfmon_p4.c:208:
+/* pmc47 */ PMC_D(PFM_REG_I, "DAC_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1618: FILE: arch/i386/perfmon/perfmon_p4.c:209:
+/* pmc48 */ PMC_D(PFM_REG_I, "IQ_ESCR1"   , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1619: FILE: arch/i386/perfmon/perfmon_p4.c:210:
+/* pmc49 */ PMC_D(PFM_REG_I, "ALF_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1620: FILE: arch/i386/perfmon/perfmon_p4.c:211:
+/* pmc50 */ PMC_D(PFM_REG_I, "RAT_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1621: FILE: arch/i386/perfmon/perfmon_p4.c:212:
+/* pmc51 */ PMC_D(PFM_REG_I, "CRU_ESCR1"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1622: FILE: arch/i386/perfmon/perfmon_p4.c:213:
+/* pmc52 */ PMC_D(PFM_REG_I, "CRU_ESCR3"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1623: FILE: arch/i386/perfmon/perfmon_p4.c:214:
+/* pmc53 */ PMC_D(PFM_REG_I, "CRU_ESCR5"  , 0x0, PFM_ESCR_RSVD, 0),
                                           ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1624: FILE: arch/i386/perfmon/perfmon_p4.c:215:
+/* pmc54 */ PMC_D(PFM_REG_I64, "BPU_CCCR1"  , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1625: FILE: arch/i386/perfmon/perfmon_p4.c:216:
+/* pmc55 */ PMC_D(PFM_REG_I64, "BPU_CCCR3"  , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1626: FILE: arch/i386/perfmon/perfmon_p4.c:217:
+/* pmc56 */ PMC_D(PFM_REG_I64, "MS_CCCR1"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1627: FILE: arch/i386/perfmon/perfmon_p4.c:218:
+/* pmc57 */ PMC_D(PFM_REG_I64, "MS_CCCR3"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1630: FILE: arch/i386/perfmon/perfmon_p4.c:221:
+/* pmc60 */ PMC_D(PFM_REG_I64, "IQ_CCCR1"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1631: FILE: arch/i386/perfmon/perfmon_p4.c:222:
+/* pmc61 */ PMC_D(PFM_REG_I64, "IQ_CCCR3"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#1632: FILE: arch/i386/perfmon/perfmon_p4.c:223:
+/* pmc62 */ PMC_D(PFM_REG_I64, "IQ_CCCR5"   , PFM_CCCR_DFL, PFM_CCCR_RSVD, PFM_P4_NO64),
                                             ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1636: FILE: arch/i386/perfmon/perfmon_p4.c:227:
+};
+#define PFM_P4_NUM_PMCS ARRAY_SIZE(pfm_p4_pmc_desc)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1641: FILE: arch/i386/perfmon/perfmon_p4.c:232:
+static struct pfm_reg_desc pfm_p4_pmd_desc[]={
                                             ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1642: FILE: arch/i386/perfmon/perfmon_p4.c:233:
+/* pmd0  */ PMD_D(PFM_REG_C, "BPU_CTR0"   ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1643: FILE: arch/i386/perfmon/perfmon_p4.c:234:
+/* pmd1  */ PMD_D(PFM_REG_C, "BPU_CTR2"   ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1644: FILE: arch/i386/perfmon/perfmon_p4.c:235:
+/* pmd2  */ PMD_D(PFM_REG_C, "MS_CTR0"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1645: FILE: arch/i386/perfmon/perfmon_p4.c:236:
+/* pmd3  */ PMD_D(PFM_REG_C, "MS_CTR2"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1646: FILE: arch/i386/perfmon/perfmon_p4.c:237:
+/* pmd4  */ PMD_D(PFM_REG_C, "FLAME_CTR0" ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1647: FILE: arch/i386/perfmon/perfmon_p4.c:238:
+/* pmd5  */ PMD_D(PFM_REG_C, "FLAME_CTR2" ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1648: FILE: arch/i386/perfmon/perfmon_p4.c:239:
+/* pmd6  */ PMD_D(PFM_REG_C, "IQ_CTR0"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1649: FILE: arch/i386/perfmon/perfmon_p4.c:240:
+/* pmd7  */ PMD_D(PFM_REG_C, "IQ_CTR2"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1650: FILE: arch/i386/perfmon/perfmon_p4.c:241:
+/* pmd8  */ PMD_D(PFM_REG_C, "IQ_CTR4"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1652: FILE: arch/i386/perfmon/perfmon_p4.c:243:
+/* pmd9  */ PMD_D(PFM_REG_C, "BPU_CTR1"   ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1653: FILE: arch/i386/perfmon/perfmon_p4.c:244:
+/* pmd10 */ PMD_D(PFM_REG_C, "BPU_CTR3"   ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1654: FILE: arch/i386/perfmon/perfmon_p4.c:245:
+/* pmd11 */ PMD_D(PFM_REG_C, "MS_CTR1"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1655: FILE: arch/i386/perfmon/perfmon_p4.c:246:
+/* pmd12 */ PMD_D(PFM_REG_C, "MS_CTR3"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1656: FILE: arch/i386/perfmon/perfmon_p4.c:247:
+/* pmd13 */ PMD_D(PFM_REG_C, "FLAME_CTR1" ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1657: FILE: arch/i386/perfmon/perfmon_p4.c:248:
+/* pmd14 */ PMD_D(PFM_REG_C, "FLAME_CTR3" ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1658: FILE: arch/i386/perfmon/perfmon_p4.c:249:
+/* pmd15 */ PMD_D(PFM_REG_C, "IQ_CTR1"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1659: FILE: arch/i386/perfmon/perfmon_p4.c:250:
+/* pmd16 */ PMD_D(PFM_REG_C, "IQ_CTR3"    ),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1660: FILE: arch/i386/perfmon/perfmon_p4.c:251:
+/* pmd17 */ PMD_D(PFM_REG_C, "IQ_CTR5"    )

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#1662: FILE: arch/i386/perfmon/perfmon_p4.c:253:
+};
+#define PFM_P4_NUM_PMDS ARRAY_SIZE(pfm_p4_pmd_desc)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#1664: FILE: arch/i386/perfmon/perfmon_p4.c:255:
+#define MSR_IA32_MISC_ENABLE_PEBS_UNAVAIL (1<<12) /* PEBS unavailable */
                                             ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#1664: FILE: arch/i386/perfmon/perfmon_p4.c:255:
+#define MSR_IA32_MISC_ENABLE_PEBS_UNAVAIL (1<<12) /* PEBS unavailable */

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1671: FILE: arch/i386/perfmon/perfmon_p4.c:262:
+^I$

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#1691: FILE: arch/i386/perfmon/perfmon_p4.c:282:
+	switch(cpu_data->x86_model) {
+		case 1:
[...]
+		case 2:
[...]
+		case 3: /* Pentium 4 505, 520, 540, 550 */
+		case 4: 
+		case 5: /* incl. some Celeron D */
+		case 0:
[...]
+		case 6:
[...]
+		default:

ERROR:SPACING: space required before the open parenthesis '('
#1691: FILE: arch/i386/perfmon/perfmon_p4.c:282:
+	switch(cpu_data->x86_model) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1699: FILE: arch/i386/perfmon/perfmon_p4.c:290:
+^I^Icase 4: $

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1738: FILE: arch/i386/perfmon/perfmon_p4.c:329:
+	if (cpu_has_ht) {
+

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#1740: FILE: arch/i386/perfmon/perfmon_p4.c:331:
+			 num_ht > 1 ? "on": "off");
 			                  ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#1769: FILE: arch/i386/perfmon/perfmon_p4.c:360:
+^I                if (num_ht == 1) {$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1781: FILE: arch/i386/perfmon/perfmon_p4.c:372:
+static struct pfm_pmu_config pfm_p4_pmu_conf={
                                             ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1794: FILE: arch/i386/perfmon/perfmon_p4.c:385:
+^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1803: FILE: arch/i386/perfmon/perfmon_p4.c:394:
+	for(i=0; i < PFM_MAX_HW_PMCS; i++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#1803: FILE: arch/i386/perfmon/perfmon_p4.c:394:
+	for(i=0; i < PFM_MAX_HW_PMCS; i++) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1804: FILE: arch/i386/perfmon/perfmon_p4.c:395:
+		if (pfm_p4_pmu_info.pmc_addrs[i].reg_type & PFM_REGT_CCCR) {
+			pfm_bv_set(pfm_p4_pmu_info.enable_mask, i);
+		}

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#1821: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:1:
+/*

CHECK:ARCH_DEFINES: architecture specific defines should be avoided
#1841: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:21:
+#ifndef __i386__

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!data"
#1866: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:46:
+	if (data == NULL) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1879: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:59:
+	PFM_DBG("validate flags=0x%x min_buf_size=%zu buf_size=%zu",
+		  flags, min_buf_size, arg->buf_size);

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1923: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:103:
+	base = ((unsigned long)(hdr+1) + 256) & ~0xffUL;
 	                           ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1924: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:104:
+	hdr->hdr_start_offs = base - (unsigned long)(hdr+1);
 	                                                ^

WARNING:SPLIT_STRING: quoted string split across lines
#1943: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:123:
+	PFM_DBG("buffer=%p buf_size=%zu  ctx_flags=0x%x pebs_base=0x%x "
+		  "pebs_max=0x%x pebs_thres=0x%x cnt_reset=0x%llx",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1956: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:136:
+static int pfm_pebs_fmt_handler(void *buf, struct pfm_ovfl_arg *arg,
+			       unsigned long ip, u64 tstamp, void *data)

CHECK:SPACING: spaces preferred around that '|' (ctx:VxW)
#1974: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:154:
+	arg->ovfl_ctrl = PFM_OVFL_CTRL_NOTIFY| PFM_OVFL_CTRL_MASK;
 	                                     ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#1999: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:179:
+static struct pfm_smpl_fmt pebs_fmt={
                                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2013: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:193:
+#define MSR_IA32_MISC_ENABLE_PEBS_UNAVAIL (1<<12) /* PEBS unavailable */
                                             ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#2013: FILE: arch/i386/perfmon/perfmon_p4_pebs_smpl.c:193:
+#define MSR_IA32_MISC_ENABLE_PEBS_UNAVAIL (1<<12) /* PEBS unavailable */

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2043: FILE: arch/i386/perfmon/perfmon_p6.c:1:
+/*

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2065: FILE: arch/i386/perfmon/perfmon_p6.c:23:
+#define PFM_P6_PMC_RSVD	~((0xffffffffULL<<32) \
                        	                ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#2066: FILE: arch/i386/perfmon/perfmon_p6.c:24:
+^I^I  ^I| (PFM_ONE_64<<20)    \$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2066: FILE: arch/i386/perfmon/perfmon_p6.c:24:
+^I^I  ^I| (PFM_ONE_64<<20)    \$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2066: FILE: arch/i386/perfmon/perfmon_p6.c:24:
+		  	| (PFM_ONE_64<<20)    \
 		  	             ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2067: FILE: arch/i386/perfmon/perfmon_p6.c:25:
+			| (PFM_ONE_64<<21))
 			             ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2073: FILE: arch/i386/perfmon/perfmon_p6.c:31:
+#define PFM_P6_PMC_VAL  (PFM_ONE_64<<20)
                                    ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2074: FILE: arch/i386/perfmon/perfmon_p6.c:32:
+#define PFM_P6_NO64	(PFM_ONE_64<<20)
                    	           ^

WARNING:SPACING: missing space after struct definition
#2079: FILE: arch/i386/perfmon/perfmon_p6.c:37:
+struct pfm_arch_pmu_info pfm_p6_pmu_info={

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2079: FILE: arch/i386/perfmon/perfmon_p6.c:37:
+struct pfm_arch_pmu_info pfm_p6_pmu_info={
                                         ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2091: FILE: arch/i386/perfmon/perfmon_p6.c:49:
+static struct pfm_reg_desc pfm_p6_pmc_desc[]={
                                             ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2095: FILE: arch/i386/perfmon/perfmon_p6.c:53:
+};
+#define PFM_P6_NUM_PMCS	ARRAY_SIZE(pfm_p6_pmc_desc)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2097: FILE: arch/i386/perfmon/perfmon_p6.c:55:
+static struct pfm_reg_desc pfm_p6_pmd_desc[]={
                                             ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#2098: FILE: arch/i386/perfmon/perfmon_p6.c:56:
+/* pmd0  */ PMD_D(PFM_REG_C  , "PERFCTR0"),
                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#2099: FILE: arch/i386/perfmon/perfmon_p6.c:57:
+/* pmd1  */ PMD_D(PFM_REG_C  , "PERFCTR1")
                              ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2101: FILE: arch/i386/perfmon/perfmon_p6.c:59:
+};
+#define PFM_P6_NUM_PMDS ARRAY_SIZE(pfm_p6_pmd_desc)

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2103: FILE: arch/i386/perfmon/perfmon_p6.c:61:
+#define MSR_IA32_MISC_ENABLE_PERF_AVAIL (1<<7) /* read-only status bit */
                                           ^

CHECK:BIT_MACRO: Prefer using the BIT macro
#2103: FILE: arch/i386/perfmon/perfmon_p6.c:61:
+#define MSR_IA32_MISC_ENABLE_PERF_AVAIL (1<<7) /* read-only status bit */

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#2119: FILE: arch/i386/perfmon/perfmon_p6.c:77:
+	switch(cpu_data->x86_model) {
+		case 3:
[...]
+		case 7 ... 11:
[...]
+		case 13:
[...]
+		default:

ERROR:SPACING: space required before the open parenthesis '('
#2119: FILE: arch/i386/perfmon/perfmon_p6.c:77:
+	switch(cpu_data->x86_model) {

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2140: FILE: arch/i386/perfmon/perfmon_p6.c:98:
+
+	}

WARNING:SPLIT_STRING: quoted string split across lines
#2150: FILE: arch/i386/perfmon/perfmon_p6.c:108:
+		PFM_INFO("local APIC disabled, you must enable "
+			 "with lapic kernel command line option");

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2164: FILE: arch/i386/perfmon/perfmon_p6.c:122:
+static struct pfm_pmu_config pfm_p6_pmu_conf={
                                             ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2177: FILE: arch/i386/perfmon/perfmon_p6.c:135:
+^I$

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#2185: FILE: arch/i386/perfmon/perfmon_p6.c:143:
+	for(i=0; i < PFM_MAX_HW_PMCS; i++) {
 	     ^

ERROR:SPACING: space required before the open parenthesis '('
#2185: FILE: arch/i386/perfmon/perfmon_p6.c:143:
+	for(i=0; i < PFM_MAX_HW_PMCS; i++) {

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2202: FILE: include/asm-i386/perfmon.h:1:
+/*

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2243: FILE: include/asm-i386/perfmon.h:42:
+#define PFM_REGT_SELEN ^I 0x01 /* P6/AMD: PERFSEL with enable bit22 */$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2244: FILE: include/asm-i386/perfmon.h:43:
+#define PFM_REGT_SEL ^I 0x02 /* P6: PERFSEL no enable bit */$

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#2269: FILE: include/asm-i386/perfmon.h:68:
+	unsigned long addrs[MAX_SMT_ID+1];
 	                              ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2283: FILE: include/asm-i386/perfmon.h:82:
+};
+/*

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#2314: FILE: include/asm-i386/perfmon.h:113:
+	val  = APIC_DEST_SELF|APIC_INT_ASSERT|
 	                     ^

CHECK:SPACING: space preferred before that '|' (ctx:VxE)
#2314: FILE: include/asm-i386/perfmon.h:113:
+	val  = APIC_DEST_SELF|APIC_INT_ASSERT|
 	                                     ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#2315: FILE: include/asm-i386/perfmon.h:114:
+	       APIC_DM_FIXED|LOCAL_PERFMON_VECTOR;
 	                    ^

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#2320: FILE: include/asm-i386/perfmon.h:119:
+
+}

WARNING:LINE_SPACING: Missing a blank line after declarations
#2327: FILE: include/asm-i386/perfmon.h:126:
+	u64 tmp;
+	rdtscll(tmp);

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#2338: FILE: include/asm-i386/perfmon.h:137:
+	if (ctx && ctx->flags.started == 0) return;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

WARNING:LINE_SPACING: Missing a blank line after declarations
#2360: FILE: include/asm-i386/perfmon.h:159:
+	u64 tmp;
+	__pfm_read_reg(&arch_info->pmd_addrs[cnum], &tmp);

WARNING:LINE_SPACING: Missing a blank line after declarations
#2368: FILE: include/asm-i386/perfmon.h:167:
+	u64 tmp;
+	__pfm_read_reg(&arch_info->pmc_addrs[cnum], &tmp);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2371: FILE: include/asm-i386/perfmon.h:170:
+}
+/*

WARNING:TYPO_SPELLING: 'explicitely' may be misspelled - perhaps 'explicitly'?
#2373: FILE: include/asm-i386/perfmon.h:172:
+ * explicitely started/stopped by user via pfm_start/pfm_stop. The
    ^^^^^^^^^^^

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2388: FILE: include/asm-i386/perfmon.h:187:
+static inline void pfm_arch_ctxswout_sys(struct task_struct *task,
+		       struct pfm_context *ctx, struct pfm_event_set *set)

ERROR:CODE_INDENT: code indent should use tabs where possible
#2392: FILE: include/asm-i386/perfmon.h:191:
+                       struct pfm_context *ctx, struct pfm_event_set *set)$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2392: FILE: include/asm-i386/perfmon.h:191:
+static inline void pfm_arch_ctxswin_sys(struct task_struct *task,
+                       struct pfm_context *ctx, struct pfm_event_set *set)

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2392: FILE: include/asm-i386/perfmon.h:191:
+                       struct pfm_context *ctx, struct pfm_event_set *set)$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2397: FILE: include/asm-i386/perfmon.h:196:
+int  pfm_arch_ctxswout_thread(struct task_struct *task,
+		      struct pfm_context *ctx, struct pfm_event_set *set);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2399: FILE: include/asm-i386/perfmon.h:198:
+void pfm_arch_ctxswin_thread(struct task_struct *task,
+		      struct pfm_context *ctx, struct pfm_event_set *set);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2435: FILE: include/asm-i386/perfmon.h:234:
+ * ^I1 when flags are valid$

WARNING:LINE_SPACING: Missing a blank line after declarations
#2466: FILE: include/asm-i386/perfmon.h:265:
+	u64 val;
+	val = pfm_arch_read_pmd(ctx, cnum);

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#2477: FILE: include/asm-i386/perfmon.h:276:
+};
+#define PFM_X86_FL_INSECURE	0x1 /* allow user level rdpmc (self-monitoring) */

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2486: FILE: include/asm-i386/perfmon_p4_pebs_smpl.h:1:
+/*

WARNING:TYPO_SPELLING: 'alignement' may be misspelled - perhaps 'alignment'?
#2544: FILE: include/asm-i386/perfmon_p4_pebs_smpl.h:59:
+ * Because of PEBS alignement constraints, the actual PEBS buffer area does
                    ^^^^^^^^^^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#2549: FILE: include/asm-i386/perfmon_p4_pebs_smpl.h:64:
+ * ^Iactual_buffer = (unsigned long)(hdr+1)+hdr->hdr_start_offs$

WARNING:SPACING: missing space after struct definition
#2563: FILE: include/asm-i386/perfmon_p4_pebs_smpl.h:78:
+struct pfm_p4_pebs_smpl_entry{

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#2578: FILE: include/asm-i386/perfmon_p4_pebs_smpl.h:93:
+#define PFM_P4_PEBS_SMPL_VERSION (((PFM_P4_PEBS_SMPL_VERSION_MAJ&0xffff)<<16)|\
                                                                 ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#2578: FILE: include/asm-i386/perfmon_p4_pebs_smpl.h:93:
+#define PFM_P4_PEBS_SMPL_VERSION (((PFM_P4_PEBS_SMPL_VERSION_MAJ&0xffff)<<16)|\
                                                                         ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxE)
#2578: FILE: include/asm-i386/perfmon_p4_pebs_smpl.h:93:
+#define PFM_P4_PEBS_SMPL_VERSION (((PFM_P4_PEBS_SMPL_VERSION_MAJ&0xffff)<<16)|\
                                                                              ^

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.44970.commit.ff4c437c56f98797a94bc907229fab2f0c394de9 total: 152 errors, 84 warnings, 89 checks, 2496 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.44970.commit.ff4c437c56f98797a94bc907229fab2f0c394de9 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
