WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#48: 
    As Greg KH words, I split this driver into some more littler patches, and

WARNING:TYPO_SPELLING: 'beacause' may be misspelled - perhaps 'because'?
#82: 
need handle a lot of devices (e.g. more than 20) at same time, beacause 
                                                               ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'beacause' may be misspelled - perhaps 'because'?
#123: 
beacause of some device will yield more than one hid_device/hid_input 
^^^^^^^^

WARNING:BAD_SIGN_OFF: Use a single space after Signed-off-by:
#222: 
Signed-off-by:  Yu Li <liyu@ccoss.com.cn>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#274: FILE: drivers/usb/input/hid-core.c:802:
+		if (hid->simple && hid->simple->pre_event &&
+			!hid->simple->pre_event(hid, field, usage, value, regs))

CHECK:LINE_SPACING: Please don't use multiple blank lines
#335: FILE: drivers/usb/input/hid-core.c:2048:
 
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#341: FILE: drivers/usb/input/hid-core.c:2054:
+	struct matched_device *matched=NULL;
 	                              ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#344: FILE: drivers/usb/input/hid-core.c:2057:
+	struct hid_device *hid=NULL;
 	                      ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#350: FILE: drivers/usb/input/hid-core.c:2063:
+		printk(KERN_DEBUG"foreach: %s\n", hid->name);

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#350: FILE: drivers/usb/input/hid-core.c:2063:
+		printk(KERN_DEBUG"foreach: %s\n", hid->name);

Concatenated elements should have a space in between.
Example::

  printk(KERN_INFO"bar");

should be::

  printk(KERN_INFO "bar");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#356: FILE: drivers/usb/input/hid-core.c:2069:
+			printk(KERN_DEBUG"foreach inner: %s\n", simple->name);

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#356: FILE: drivers/usb/input/hid-core.c:2069:
+			printk(KERN_DEBUG"foreach inner: %s\n", simple->name);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#364: FILE: drivers/usb/input/hid-core.c:2077:
+			printk(KERN_INFO"The simple HID driver \'%s\' attach on"

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#364: FILE: drivers/usb/input/hid-core.c:2077:
+			printk(KERN_INFO"The simple HID driver \'%s\' attach on"

WARNING:SPLIT_STRING: quoted string split across lines
#365: FILE: drivers/usb/input/hid-core.c:2078:
+			printk(KERN_INFO"The simple HID driver \'%s\' attach on"
+								"\'%s\'\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:TRAILING_WHITESPACE: trailing whitespace
#372: FILE: drivers/usb/input/hid-core.c:2085:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#373: FILE: drivers/usb/input/hid-core.c:2086:
+	
+}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#382: FILE: drivers/usb/input/hid-core.c:2095:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#385: FILE: drivers/usb/input/hid-core.c:2098:
+	hid = usb_get_intfdata (matched->intf);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#398: FILE: drivers/usb/input/hid-core.c:2111:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#399: FILE: drivers/usb/input/hid-core.c:2112:
+^Iif (!simple) $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#407: FILE: drivers/usb/input/hid-core.c:2120:
+^Iprintk(KERN_INFO"The simple HID driver \'%s\' attach on \'%s\'\n", $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#407: FILE: drivers/usb/input/hid-core.c:2120:
+	printk(KERN_INFO"The simple HID driver \'%s\' attach on \'%s\'\n", 

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#407: FILE: drivers/usb/input/hid-core.c:2120:
+	printk(KERN_INFO"The simple HID driver \'%s\' attach on \'%s\'\n", 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#408: FILE: drivers/usb/input/hid-core.c:2121:
+	printk(KERN_INFO"The simple HID driver \'%s\' attach on \'%s\'\n", 
+						simple->name, hid->name);

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#414: FILE: drivers/usb/input/hid-core.c:2127:
+	struct list_head *node=NULL;
 	                      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#416: FILE: drivers/usb/input/hid-core.c:2129:
+	struct hid_device *hid=NULL;
 	                      ^

ERROR:SPACING: spaces required around that '=' (ctx:VxO)
#417: FILE: drivers/usb/input/hid-core.c:2130:
+	int ret=-ENODEV;
 	       ^

ERROR:SPACING: space required before that '-' (ctx:OxV)
#417: FILE: drivers/usb/input/hid-core.c:2130:
+	int ret=-ENODEV;
 	        ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#427: FILE: drivers/usb/input/hid-core.c:2140:
+		hid = usb_get_intfdata (matched->intf);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#438: FILE: drivers/usb/input/hid-core.c:2151:
+		printk(KERN_INFO"The simple HID driver \'%s\' attach on"

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#438: FILE: drivers/usb/input/hid-core.c:2151:
+		printk(KERN_INFO"The simple HID driver \'%s\' attach on"

WARNING:SPLIT_STRING: quoted string split across lines
#439: FILE: drivers/usb/input/hid-core.c:2152:
+		printk(KERN_INFO"The simple HID driver \'%s\' attach on"
+							" \'%s\'.\n",

ERROR:TRAILING_WHITESPACE: trailing whitespace
#461: FILE: drivers/usb/input/hid-core.c:2174:
+^Iprintk(KERN_INFO"The simple HID driver \'%s\' unregistered.\n", $

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#461: FILE: drivers/usb/input/hid-core.c:2174:
+	printk(KERN_INFO"The simple HID driver \'%s\' unregistered.\n", 

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#461: FILE: drivers/usb/input/hid-core.c:2174:
+	printk(KERN_INFO"The simple HID driver \'%s\' unregistered.\n", 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#462: FILE: drivers/usb/input/hid-core.c:2175:
+	printk(KERN_INFO"The simple HID driver \'%s\' unregistered.\n", 
+							simple->name);

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#465: FILE: drivers/usb/input/hid-core.c:2178:
+EXPORT_SYMBOL_GPL(hidinput_unregister_simple_driver);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*matched)...) over kmalloc(sizeof(struct matched_device)...)
#485: FILE: drivers/usb/input/hid-core.c:2200:
+		matched = kmalloc(sizeof(struct matched_device), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

ERROR:TRAILING_WHITESPACE: trailing whitespace
#518: FILE: drivers/usb/input/hid-core.c:2311:
+^I$

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct hid_field *' should also have an identifier name
#599: FILE: drivers/usb/input/hid-input.c:873:
+	void (*do_usage)(struct hid_field *,   struct hid_usage *);

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct hid_usage *' should also have an identifier name
#599: FILE: drivers/usb/input/hid-input.c:873:
+	void (*do_usage)(struct hid_field *,   struct hid_usage *);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#600: FILE: drivers/usb/input/hid-input.c:874:
+^I$

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#614: FILE: drivers/usb/input/hid-input.c:888:
+		if (hid->collection[i].type == HID_COLLECTION_APPLICATION ||
+			hid->collection[i].type==HID_COLLECTION_PHYSICAL)

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#614: FILE: drivers/usb/input/hid-input.c:888:
+			hid->collection[i].type==HID_COLLECTION_PHYSICAL)
 			                       ^

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#623: FILE: drivers/usb/input/hid-input.c:897:
+		list_for_each_entry(report, &hid->report_enum[k].report_list, list) {
+

WARNING:RETURN_VOID: void function return statements are not generally useful
#633: FILE: drivers/usb/input/hid-input.c:907:
+	return;
+}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#636: FILE: drivers/usb/input/hid-input.c:910:
+hidinput_simple_driver_push(struct hidinput_simple_driver *simple, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#637: FILE: drivers/usb/input/hid-input.c:911:
+hidinput_simple_driver_push(struct hidinput_simple_driver *simple, 
+					struct matched_device *matched)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#641: FILE: drivers/usb/input/hid-input.c:915:
+^I$

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kmalloc(sizeof(*raw_simple)...) over kmalloc(sizeof(struct raw_simple_device)...)
#642: FILE: drivers/usb/input/hid-input.c:916:
+	raw_simple = kmalloc(sizeof(struct raw_simple_device), GFP_KERNEL);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#653: FILE: drivers/usb/input/hid-input.c:927:
+hidinput_simple_driver_pop(struct hidinput_simple_driver *simple, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#654: FILE: drivers/usb/input/hid-input.c:928:
+hidinput_simple_driver_pop(struct hidinput_simple_driver *simple, 
+				struct matched_device *matched)

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#657: FILE: drivers/usb/input/hid-input.c:931:
+	struct raw_simple_device *raw_simple=NULL;
 	                                    ^

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#660: FILE: drivers/usb/input/hid-input.c:934:
+	list_for_each (node, &simple->raw_devices) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#661: FILE: drivers/usb/input/hid-input.c:935:
+		printk(KERN_DEBUG"list_entry\n");

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#661: FILE: drivers/usb/input/hid-input.c:935:
+		printk(KERN_DEBUG"list_entry\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#664: FILE: drivers/usb/input/hid-input.c:938:
+			printk(KERN_DEBUG"usb_get_intfdata\n");

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#664: FILE: drivers/usb/input/hid-input.c:938:
+			printk(KERN_DEBUG"usb_get_intfdata\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#667: FILE: drivers/usb/input/hid-input.c:941:
+			printk(KERN_DEBUG"list_del\n");

CHECK:CONCATENATED_STRING: Concatenated strings should use spaces between elements
#667: FILE: drivers/usb/input/hid-input.c:941:
+			printk(KERN_DEBUG"list_del\n");

ERROR:TRAILING_WHITESPACE: trailing whitespace
#682: FILE: drivers/usb/input/hid-input.c:956:
+^I^Iraw_simple = list_entry(simple->raw_devices.next, $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#684: FILE: drivers/usb/input/hid-input.c:958:
+		hid = usb_get_intfdata (raw_simple->intf);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#685: FILE: drivers/usb/input/hid-input.c:959:
+^I$

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#687: FILE: drivers/usb/input/hid-input.c:961:
+			BUG_ON(hid->simple != simple);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#691: FILE: drivers/usb/input/hid-input.c:965:
+		printk("device '%s' disconnect from one simple driver.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#692: FILE: drivers/usb/input/hid-input.c:966:
+		printk("device '%s' disconnect from one simple driver.\n",
+								hid->name);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#698: FILE: drivers/usb/input/hid-input.c:972:
+/* modify from hidinput_disconnect() */ $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#699: FILE: drivers/usb/input/hid-input.c:973:
+int hidinput_simple_driver_connect(struct hidinput_simple_driver *simple, $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#700: FILE: drivers/usb/input/hid-input.c:974:
+int hidinput_simple_driver_connect(struct hidinput_simple_driver *simple, 
+						struct hid_device *hid)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#719: FILE: drivers/usb/input/hid-input.c:993:
+
+

ERROR:TRAILING_WHITESPACE: trailing whitespace
#720: FILE: drivers/usb/input/hid-input.c:994:
+/* modify from hidinput_disconnect() */ $

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.54735.commit.dd55d4df50c1b1bd2c1ea4eb50eb8cd2a44699a2 total: 24 errors, 25 warnings, 23 checks, 485 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.54735.commit.dd55d4df50c1b1bd2c1ea4eb50eb8cd2a44699a2 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
