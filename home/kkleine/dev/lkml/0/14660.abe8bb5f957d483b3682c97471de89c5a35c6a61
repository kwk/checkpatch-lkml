WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#34: FILE: drivers/kvm/svm.c:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

CHECK:BIT_MACRO: Prefer using the BIT macro
#68: FILE: drivers/kvm/svm.c:35:
+#define DR7_GD_MASK (1 << 13)

Defines like: 1 << <digit> could be BIT(digit).
The BIT() macro is defined via include/linux/bits.h::

  #define BIT(nr)         (1UL << (nr))

CHECK:BIT_MACRO: Prefer using the BIT macro
#69: FILE: drivers/kvm/svm.c:36:
+#define DR6_BD_MASK (1 << 13)

CHECK:BIT_MACRO: Prefer using the BIT macro
#70: FILE: drivers/kvm/svm.c:37:
+#define CR4_DE_MASK (1UL << 3)

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#81: FILE: drivers/kvm/svm.c:48:
+	uint64_t asid_generation;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#82: FILE: drivers/kvm/svm.c:49:
+	uint32_t max_asid;

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#83: FILE: drivers/kvm/svm.c:50:
+	uint32_t next_asid;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#104: FILE: drivers/kvm/svm.c:71:
+static unsigned get_addr_size(struct kvm_vcpu *vcpu)

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#214: FILE: drivers/kvm/svm.c:181:
+static void svm_inject_gp(struct kvm_vcpu *vcpu, unsigned error_code)

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#216: FILE: drivers/kvm/svm.c:183:
+^Ivcpu->svm->vmcb->control.event_inj = ^ISVM_EVTINJ_VALID |$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#225: FILE: drivers/kvm/svm.c:192:
+^Ivcpu->svm->vmcb->control.event_inj = ^ISVM_EVTINJ_VALID |$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#232: FILE: drivers/kvm/svm.c:199:
+^Ivcpu->svm->vmcb->control.event_inj = ^ISVM_EVTINJ_VALID |$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#252: FILE: drivers/kvm/svm.c:219:
+		printk(KERN_DEBUG "%s: NOP\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#252: FILE: drivers/kvm/svm.c:219:
+		printk(KERN_DEBUG "%s: NOP\n", __FUNCTION__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#256: FILE: drivers/kvm/svm.c:223:
+		printk(KERN_ERR "%s: ip 0x%llx next 0x%llx\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#257: FILE: drivers/kvm/svm.c:224:
+		       __FUNCTION__,

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#262: FILE: drivers/kvm/svm.c:229:
+	vcpu->rip = vcpu->svm->vmcb->save.rip = vcpu->svm->next_rip;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#268: FILE: drivers/kvm/svm.c:235:
+	uint32_t eax, ebx, ecx, edx;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#271: FILE: drivers/kvm/svm.c:238:
+		printk(KERN_INFO "has_svm: not amd\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'has_svm', this function's name, in a string
#271: FILE: drivers/kvm/svm.c:238:
+		printk(KERN_INFO "has_svm: not amd\n");

Embedded function names are less appropriate to use as
refactoring can cause function renaming.  Prefer the use of
"%s", __func__ to embedded function names.

Note that this does not work with -f (--file) checkpatch option
as it depends on patch context providing the function name.

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#277: FILE: drivers/kvm/svm.c:244:
+		printk(KERN_INFO "has_svm: can't execute cpuid_8000000a\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'has_svm', this function's name, in a string
#277: FILE: drivers/kvm/svm.c:244:
+		printk(KERN_INFO "has_svm: can't execute cpuid_8000000a\n");

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#283: FILE: drivers/kvm/svm.c:250:
+		printk(KERN_DEBUG "has_svm: svm not available\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'has_svm', this function's name, in a string
#283: FILE: drivers/kvm/svm.c:250:
+		printk(KERN_DEBUG "has_svm: svm not available\n");

CHECK:ASSIGNMENT_CONTINUATIONS: Assignment operator '=' should be on the previous line
#292: FILE: drivers/kvm/svm.c:259:
+	struct svm_cpu_data *svm_data
+		= per_cpu(svm_data, raw_smp_processor_id());

Assignment operators should not be written at the start of a
line but should follow the operand at the previous line.

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#295: FILE: drivers/kvm/svm.c:262:
+		uint64_t efer;

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#308: FILE: drivers/kvm/svm.c:275:
+{
+

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u64' over 'uint64_t'
#310: FILE: drivers/kvm/svm.c:277:
+	uint64_t efer;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#316: FILE: drivers/kvm/svm.c:283:
+		printk(KERN_ERR "svm_cpu_init: err EOPNOTSUPP on %d\n", me);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#322: FILE: drivers/kvm/svm.c:289:
+		printk(KERN_ERR "svm_cpu_init: svm_data is NULL on %d\n",

ERROR:SPACING: space prohibited after that open parenthesis '('
#331: FILE: drivers/kvm/svm.c:298:
+	asm volatile ( "sgdt %0" : "=m"(gdt_descr) );

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space prohibited before that close parenthesis ')'
#331: FILE: drivers/kvm/svm.c:298:
+	asm volatile ( "sgdt %0" : "=m"(gdt_descr) );

CHECK:ALLOC_SIZEOF_STRUCT: Prefer kzalloc(sizeof(*svm_data)...) over kzalloc(sizeof(struct svm_cpu_data)...)
#347: FILE: drivers/kvm/svm.c:314:
+	svm_data = kzalloc(sizeof(struct svm_cpu_data), GFP_KERNEL);

The allocation style is bad.  In general for family of
allocation functions using sizeof() to get memory size,
constructs like::

  p = alloc(sizeof(struct foo), ...)

should be::

  p = alloc(sizeof(*p), ...)

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#allocating-memory

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#364: FILE: drivers/kvm/svm.c:331:
+
+}

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#366: FILE: drivers/kvm/svm.c:333:
+static int set_msr_interception(u32 *msrpm, unsigned msr,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#385: FILE: drivers/kvm/svm.c:352:
+	printk(KERN_DEBUG "%s: not found 0x%x\n", __FUNCTION__, msr);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#385: FILE: drivers/kvm/svm.c:352:
+	printk(KERN_DEBUG "%s: not found 0x%x\n", __FUNCTION__, msr);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#397: FILE: drivers/kvm/svm.c:364:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#403: FILE: drivers/kvm/svm.c:370:
+	memset(page_address(iopm_pages), 0xff,
+					PAGE_SIZE * (1 << IOPM_ALLOC_ORDER));

CHECK:LINE_SPACING: Please don't use multiple blank lines
#406: FILE: drivers/kvm/svm.c:373:
+
+

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#448: FILE: drivers/kvm/svm.c:415:
+	iopm_base = msrpm_base = 0;

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#479: FILE: drivers/kvm/svm.c:446:
+^Icontrol->intercept_cr_read = ^IINTERCEPT_CR0_MASK |$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#483: FILE: drivers/kvm/svm.c:450:
+^Icontrol->intercept_cr_write = ^IINTERCEPT_CR0_MASK |$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#487: FILE: drivers/kvm/svm.c:454:
+^Icontrol->intercept_dr_read = ^IINTERCEPT_DR0_MASK |$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#492: FILE: drivers/kvm/svm.c:459:
+^Icontrol->intercept_dr_write = ^IINTERCEPT_DR0_MASK |$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#501: FILE: drivers/kvm/svm.c:468:
+
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#502: FILE: drivers/kvm/svm.c:469:
+^Icontrol->intercept = ^I(1ULL << INTERCEPT_INTR) |$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#506: FILE: drivers/kvm/svm.c:473:
+^I^I *    ^I0:   0f 22 d8                mov    %eax,%cr3$

ERROR:CODE_INDENT: code indent should use tabs where possible
#557: FILE: drivers/kvm/svm.c:524:
+        save->dr6 = 0xffff0ff0;$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#557: FILE: drivers/kvm/svm.c:524:
+        save->dr6 = 0xffff0ff0;$

WARNING:SIZEOF_PARENTHESIS: sizeof *vcpu->svm should be sizeof(*vcpu->svm)
#577: FILE: drivers/kvm/svm.c:544:
+	vcpu->svm = kzalloc(sizeof *vcpu->svm, GFP_KERNEL);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#658: FILE: drivers/kvm/svm.c:625:
+	BUG();

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

WARNING:SPACING: space prohibited before semicolon
#705: FILE: drivers/kvm/svm.c:672:
+	vcpu->svm->vmcb->save.ldtr.base = dt->base ;

WARNING:SPACING: space prohibited before semicolon
#717: FILE: drivers/kvm/svm.c:684:
+	vcpu->svm->vmcb->save.gdtr.base = dt->base ;

ERROR:SPACING: space prohibited before that close parenthesis ')'
#729: FILE: drivers/kvm/svm.c:696:
+		if (is_paging(vcpu) && !(cr0 & CR0_PG_MASK) ) {

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#742: FILE: drivers/kvm/svm.c:709:
+       vcpu->cr4 = cr4;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#743: FILE: drivers/kvm/svm.c:710:
+       vcpu->svm->vmcb->save.cr4 = cr4 | CR4_PAE_MASK;$

CHECK:BRACES: braces {} should be used on all arms of this statement
#754: FILE: drivers/kvm/svm.c:721:
+	if (var->unusable)
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#756: FILE: drivers/kvm/svm.c:723:
+	else {

CHECK:ASSIGNMENT_CONTINUATIONS: Assignment operator '=' should be on the previous line
#768: FILE: drivers/kvm/svm.c:735:
+		vcpu->svm->vmcb->save.cpl
+			= (vcpu->svm->vmcb->save.cs.attrib

CHECK:BRACES: Blank lines aren't necessary before a close brace '}'
#771: FILE: drivers/kvm/svm.c:738:
+
+}

WARNING:BLOCK_COMMENT_STYLE: Block comments use * on subsequent lines
#774: FILE: drivers/kvm/svm.c:741:
+/* FIXME:
+

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:SPACING: space prohibited after that open parenthesis '('
#789: FILE: drivers/kvm/svm.c:756:
+	for ( i = 0; i < NR_HOST_SAVE_MSRS; i++)

ERROR:SPACING: space prohibited after that open parenthesis '('
#797: FILE: drivers/kvm/svm.c:764:
+	for ( i = 0; i < NR_HOST_SAVE_MSRS; i++)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#854: FILE: drivers/kvm/svm.c:821:
+		printk(KERN_DEBUG "%s: unexpected dr %u\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#855: FILE: drivers/kvm/svm.c:822:
+		       __FUNCTION__, dr);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#890: FILE: drivers/kvm/svm.c:857:
+		vcpu_printf(vcpu, "%s: emulate fail\n", __FUNCTION__);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#893: FILE: drivers/kvm/svm.c:860:
+		BUG();

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#901: FILE: drivers/kvm/svm.c:868:
+static int io_get_override(struct kvm_vcpu *vcpu,
+			  struct vmcb_seg **seg,

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#905: FILE: drivers/kvm/svm.c:872:
+	unsigned ins_length;

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#914: FILE: drivers/kvm/svm.c:881:
+		printk(KERN_DEBUG

WARNING:SPLIT_STRING: quoted string split across lines
#916: FILE: drivers/kvm/svm.c:883:
+		       "%s: inst length err, cs base 0x%llx rip 0x%llx "
+		       "next rip 0x%llx ins_length %u\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#917: FILE: drivers/kvm/svm.c:884:
+		       __FUNCTION__,

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#960: FILE: drivers/kvm/svm.c:927:
+	printk(KERN_DEBUG "%s: unexpected\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#960: FILE: drivers/kvm/svm.c:927:
+	printk(KERN_DEBUG "%s: unexpected\n", __FUNCTION__);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#972: FILE: drivers/kvm/svm.c:939:
+	unsigned addr_size = get_addr_size(vcpu);

ERROR:SPACING: spaces required around that ':' (ctx:VxW)
#978: FILE: drivers/kvm/svm.c:945:
+		addr_size = (addr_size == 2) ? 4: (addr_size >> 1);
 		                                ^

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1022: FILE: drivers/kvm/svm.c:989:
+		unsigned addr_mask;

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1026: FILE: drivers/kvm/svm.c:993:
+			printk("%s: get io address failed\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1026: FILE: drivers/kvm/svm.c:993:
+			printk("%s: get io address failed\n", __FUNCTION__);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1041: FILE: drivers/kvm/svm.c:1008:
+
+

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#1066: FILE: drivers/kvm/svm.c:1033:
+	printk("%s: task swiche is unsupported\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1066: FILE: drivers/kvm/svm.c:1033:
+	printk("%s: task swiche is unsupported\n", __FUNCTION__);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1081: FILE: drivers/kvm/svm.c:1048:
+		printk(KERN_ERR "%s: failed\n", __FUNCTION__);

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1081: FILE: drivers/kvm/svm.c:1048:
+		printk(KERN_ERR "%s: failed\n", __FUNCTION__);

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1085: FILE: drivers/kvm/svm.c:1052:
+static int svm_get_msr(struct kvm_vcpu *vcpu, unsigned ecx, u64 *data)

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1092: FILE: drivers/kvm/svm.c:1059:
+	case MSR_IA32_MC0_MISC+4:
 	                      ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1093: FILE: drivers/kvm/svm.c:1060:
+	case MSR_IA32_MC0_MISC+8:
 	                      ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1094: FILE: drivers/kvm/svm.c:1061:
+	case MSR_IA32_MC0_MISC+12:
 	                      ^

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#1095: FILE: drivers/kvm/svm.c:1062:
+	case MSR_IA32_MC0_MISC+16:
 	                      ^

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1140: FILE: drivers/kvm/svm.c:1107:
+		printk(KERN_ERR "kvm: unhandled rdmsr: 0x%x\n", ecx);

CHECK:BRACES: braces {} should be used on all arms of this statement
#1151: FILE: drivers/kvm/svm.c:1118:
+	if (svm_get_msr(vcpu, ecx, &data))
[...]
+	else {
[...]

CHECK:BRACES: Unbalanced braces around else statement
#1153: FILE: drivers/kvm/svm.c:1120:
+	else {

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#1162: FILE: drivers/kvm/svm.c:1129:
+static int svm_set_msr(struct kvm_vcpu *vcpu, unsigned ecx, u64 data)

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_warn([subsystem]dev, ... then dev_warn(dev, ... then pr_warn(...  to printk(KERN_WARNING ...
#1169: FILE: drivers/kvm/svm.c:1136:
+		printk(KERN_WARNING "%s: MSR_IA32_MC0_STATUS 0x%llx, nop\n"

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1170: FILE: drivers/kvm/svm.c:1137:
+			    , __FUNCTION__, data);

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1211: FILE: drivers/kvm/svm.c:1178:
+		printk(KERN_ERR "kvm: unhandled wrmsr: %x\n", ecx);

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1240: FILE: drivers/kvm/svm.c:1207:
+^I[SVM_EXIT_READ_CR0]           ^I^I= emulate_on_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1241: FILE: drivers/kvm/svm.c:1208:
+^I[SVM_EXIT_READ_CR3]           ^I^I= emulate_on_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1242: FILE: drivers/kvm/svm.c:1209:
+^I[SVM_EXIT_READ_CR4]           ^I^I= emulate_on_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1244: FILE: drivers/kvm/svm.c:1211:
+^I[SVM_EXIT_WRITE_CR0]          ^I^I= emulate_on_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1245: FILE: drivers/kvm/svm.c:1212:
+^I[SVM_EXIT_WRITE_CR3]          ^I^I= emulate_on_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1246: FILE: drivers/kvm/svm.c:1213:
+^I[SVM_EXIT_WRITE_CR4]          ^I^I= emulate_on_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1247: FILE: drivers/kvm/svm.c:1214:
+^I[SVM_EXIT_READ_DR0] ^I^I^I= emulate_on_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1257: FILE: drivers/kvm/svm.c:1224:
+^I[SVM_EXIT_EXCP_BASE + PF_VECTOR] ^I= pf_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1258: FILE: drivers/kvm/svm.c:1225:
+^I[SVM_EXIT_INTR] ^I^I^I= nop_on_interception,$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1267: FILE: drivers/kvm/svm.c:1234:
+^I[SVM_EXIT_IOIO] ^I^I  ^I= io_interception,$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1279: FILE: drivers/kvm/svm.c:1246:
+
+

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1288: FILE: drivers/kvm/svm.c:1255:
+		printk(KERN_ERR "%s: unexpected exit_ini_info 0x%x "

WARNING:SPLIT_STRING: quoted string split across lines
#1289: FILE: drivers/kvm/svm.c:1256:
+		printk(KERN_ERR "%s: unexpected exit_ini_info 0x%x "
+		       "exit_code 0x%x\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1290: FILE: drivers/kvm/svm.c:1257:
+		       __FUNCTION__, vcpu->svm->vmcb->control.exit_int_info,

CHECK:LOGICAL_CONTINUATIONS: Logical continuations should be on the previous line
#1294: FILE: drivers/kvm/svm.c:1261:
+	if (exit_code >= sizeof(svm_exit_handlers) / sizeof(*svm_exit_handlers)
+	    || svm_exit_handlers[exit_code] == 0) {

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_err([subsystem]dev, ... then dev_err(dev, ... then pr_err(...  to printk(KERN_ERR ...
#1296: FILE: drivers/kvm/svm.c:1263:
+		printk(KERN_ERR "%s: 0x%x @ 0x%llx cr0 0x%lx rflags 0x%llx\n",

WARNING:USE_FUNC: __func__ should be used instead of gcc specific __FUNCTION__
#1297: FILE: drivers/kvm/svm.c:1264:
+		       __FUNCTION__,

WARNING:LINE_SPACING: Missing a blank line after declarations
#1313: FILE: drivers/kvm/svm.c:1280:
+	struct svm_cpu_data *svm_data = per_cpu(svm_data, cpu);
+	svm_data->tss_desc->type = 9; //available 32/64-bit TSS

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1329: FILE: drivers/kvm/svm.c:1296:
+
+

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1357: FILE: drivers/kvm/svm.c:1324:
+	asm ("mov %%dr0, %%rax \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1358: FILE: drivers/kvm/svm.c:1325:
+	     "mov %%rax, %[dr0] \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1359: FILE: drivers/kvm/svm.c:1326:
+	     "mov %%dr1, %%rax \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1360: FILE: drivers/kvm/svm.c:1327:
+	     "mov %%rax, %[dr1] \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1361: FILE: drivers/kvm/svm.c:1328:
+	     "mov %%dr2, %%rax \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1362: FILE: drivers/kvm/svm.c:1329:
+	     "mov %%rax, %[dr2] \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1363: FILE: drivers/kvm/svm.c:1330:
+	     "mov %%dr3, %%rax \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1364: FILE: drivers/kvm/svm.c:1331:
+	     "mov %%rax, %[dr3] \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1374: FILE: drivers/kvm/svm.c:1341:
+	asm volatile ("mov %[dr0], %%dr0 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1375: FILE: drivers/kvm/svm.c:1342:
+	     "mov %[dr1], %%dr1 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1376: FILE: drivers/kvm/svm.c:1343:
+	     "mov %[dr2], %%dr2 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1377: FILE: drivers/kvm/svm.c:1344:
+	     "mov %[dr3], %%dr3 \n\t"

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#1413: FILE: drivers/kvm/svm.c:1380:
+	asm volatile (

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1425: FILE: drivers/kvm/svm.c:1392:
+		"mov %c[rbx](%[vcpu]), %%rbx \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1426: FILE: drivers/kvm/svm.c:1393:
+		"mov %c[rcx](%[vcpu]), %%rcx \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1427: FILE: drivers/kvm/svm.c:1394:
+		"mov %c[rdx](%[vcpu]), %%rdx \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1428: FILE: drivers/kvm/svm.c:1395:
+		"mov %c[rsi](%[vcpu]), %%rsi \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1429: FILE: drivers/kvm/svm.c:1396:
+		"mov %c[rdi](%[vcpu]), %%rdi \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1430: FILE: drivers/kvm/svm.c:1397:
+		"mov %c[rbp](%[vcpu]), %%rbp \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1431: FILE: drivers/kvm/svm.c:1398:
+		"mov %c[r8](%[vcpu]),  %%r8  \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1432: FILE: drivers/kvm/svm.c:1399:
+		"mov %c[r9](%[vcpu]),  %%r9  \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1433: FILE: drivers/kvm/svm.c:1400:
+		"mov %c[r10](%[vcpu]), %%r10 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1434: FILE: drivers/kvm/svm.c:1401:
+		"mov %c[r11](%[vcpu]), %%r11 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1435: FILE: drivers/kvm/svm.c:1402:
+		"mov %c[r12](%[vcpu]), %%r12 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1436: FILE: drivers/kvm/svm.c:1403:
+		"mov %c[r13](%[vcpu]), %%r13 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1437: FILE: drivers/kvm/svm.c:1404:
+		"mov %c[r14](%[vcpu]), %%r14 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1438: FILE: drivers/kvm/svm.c:1405:
+		"mov %c[r15](%[vcpu]), %%r15 \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1440: FILE: drivers/kvm/svm.c:1407:
+		"mov %c[rbx](%[vcpu]), %%ebx \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1441: FILE: drivers/kvm/svm.c:1408:
+		"mov %c[rcx](%[vcpu]), %%ecx \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1442: FILE: drivers/kvm/svm.c:1409:
+		"mov %c[rdx](%[vcpu]), %%edx \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1443: FILE: drivers/kvm/svm.c:1410:
+		"mov %c[rsi](%[vcpu]), %%esi \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1444: FILE: drivers/kvm/svm.c:1411:
+		"mov %c[rdi](%[vcpu]), %%edi \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1445: FILE: drivers/kvm/svm.c:1412:
+		"mov %c[rbp](%[vcpu]), %%ebp \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1449: FILE: drivers/kvm/svm.c:1416:
+		"push %%rax \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1450: FILE: drivers/kvm/svm.c:1417:
+		"mov %c[svm](%[vcpu]), %%rax \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1451: FILE: drivers/kvm/svm.c:1418:
+		"mov %c[vmcb](%%rax), %%rax \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1455: FILE: drivers/kvm/svm.c:1422:
+		"pop %%rax \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1459: FILE: drivers/kvm/svm.c:1426:
+		"mov %%rbx, %c[rbx](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1460: FILE: drivers/kvm/svm.c:1427:
+		"mov %%rcx, %c[rcx](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1461: FILE: drivers/kvm/svm.c:1428:
+		"mov %%rdx, %c[rdx](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1462: FILE: drivers/kvm/svm.c:1429:
+		"mov %%rsi, %c[rsi](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1463: FILE: drivers/kvm/svm.c:1430:
+		"mov %%rdi, %c[rdi](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1464: FILE: drivers/kvm/svm.c:1431:
+		"mov %%rbp, %c[rbp](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1465: FILE: drivers/kvm/svm.c:1432:
+		"mov %%r8,  %c[r8](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1466: FILE: drivers/kvm/svm.c:1433:
+		"mov %%r9,  %c[r9](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1467: FILE: drivers/kvm/svm.c:1434:
+		"mov %%r10, %c[r10](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1468: FILE: drivers/kvm/svm.c:1435:
+		"mov %%r11, %c[r11](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1469: FILE: drivers/kvm/svm.c:1436:
+		"mov %%r12, %c[r12](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1470: FILE: drivers/kvm/svm.c:1437:
+		"mov %%r13, %c[r13](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1471: FILE: drivers/kvm/svm.c:1438:
+		"mov %%r14, %c[r14](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1472: FILE: drivers/kvm/svm.c:1439:
+		"mov %%r15, %c[r15](%[vcpu]) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1477: FILE: drivers/kvm/svm.c:1444:
+		"pop  %%rdx; pop  %%rcx; pop  %%rbx; \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1479: FILE: drivers/kvm/svm.c:1446:
+		"mov %%ebx, %c[rbx](%3) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1480: FILE: drivers/kvm/svm.c:1447:
+		"mov %%ecx, %c[rcx](%3) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1481: FILE: drivers/kvm/svm.c:1448:
+		"mov %%edx, %c[rdx](%3) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1482: FILE: drivers/kvm/svm.c:1449:
+		"mov %%esi, %c[rsi](%3) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1483: FILE: drivers/kvm/svm.c:1450:
+		"mov %%edi, %c[rdi](%3) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1484: FILE: drivers/kvm/svm.c:1451:
+		"mov %%ebp, %c[rbp](%3) \n\t"

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#1487: FILE: drivers/kvm/svm.c:1454:
+		"pop  %%edx; pop  %%ecx; pop  %%ebx; \n\t"

ERROR:SPACING: space prohibited before that close square bracket ']'
#1500: FILE: drivers/kvm/svm.c:1467:
+		  [r8 ]"i"(offsetof(struct kvm_vcpu, regs[VCPU_REGS_R8 ])),

ERROR:SPACING: space prohibited before that close square bracket ']'
#1501: FILE: drivers/kvm/svm.c:1468:
+		  [r9 ]"i"(offsetof(struct kvm_vcpu, regs[VCPU_REGS_R9 ])),

ERROR:SPACING: space prohibited before that close parenthesis ')'
#1509: FILE: drivers/kvm/svm.c:1476:
+		: "cc", "memory" );

CHECK:PREFER_KERNEL_TYPES: Prefer kernel type 'u32' over 'uint32_t'
#1565: FILE: drivers/kvm/svm.c:1532:
+	uint32_t exit_int_info = vcpu->svm->vmcb->control.exit_int_info;

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#1570: FILE: drivers/kvm/svm.c:1537:
+	if (is_page_fault(exit_int_info)) {
+

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1572: FILE: drivers/kvm/svm.c:1539:
+^I^Ivcpu->svm->vmcb->control.event_inj = ^ISVM_EVTINJ_VALID |$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#1580: FILE: drivers/kvm/svm.c:1547:
+^Ivcpu->svm->vmcb->control.event_inj = ^ISVM_EVTINJ_VALID |$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1587: FILE: drivers/kvm/svm.c:1554:
+
+

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.14660.commit.abe8bb5f957d483b3682c97471de89c5a35c6a61 total: 10 errors, 135 warnings, 38 checks, 1622 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.14660.commit.abe8bb5f957d483b3682c97471de89c5a35c6a61 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
