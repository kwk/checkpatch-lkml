WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#45: 
  The purpose of IOCB_CMD_GROUP is to group together the following requests in

WARNING:TYPO_SPELLING: 'sumbitted' may be misspelled - perhaps 'submitted'?
#46: 
the list up to the end of the list sumbitted to io_submit.
                                   ^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

CHECK:INVALID_UTF8: Invalid UTF-8, patch and commit message should be encoded in UTF-8
#103: 
Signed-off-by: Sébastien Dugué <sebastien.dugue@bull.net>
                ^

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#122: FILE: :1014:
+static inline void lio_check(struct lio_event *lio)

Embedding the complete filename path inside the file isn't particularly
useful as often the path is moved around and becomes incorrect.

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#123: FILE: :1015:
+{

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#124: FILE: :1016:
+	int ret;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#125: FILE: :1017:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#126: FILE: :1018:
+	ret = atomic_dec_and_test(&lio->lio_users);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#127: FILE: :1019:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#128: FILE: :1020:
+	if (unlikely(ret) && lio->lio_notify.notify != SIGEV_NONE) {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#129: FILE: :1021:
+		/* last one -> notify process */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#130: FILE: :1022:
+		aio_send_signal(&lio->lio_notify);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#131: FILE: :1023:
+		kfree(lio);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#132: FILE: :1024:
+	}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#133: FILE: :1025:
+}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#134: FILE: :1026:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#135: FILE: :1027:
+static struct lio_event *lio_create(struct sigevent __user *user_event)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#136: FILE: :1028:
+{

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#137: FILE: :1029:
+	int ret = 0;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#138: FILE: :1030:
+	struct lio_event *lio = NULL;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#139: FILE: :1031:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#140: FILE: :1032:
+	lio = kzalloc(sizeof(*lio), GFP_KERNEL);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#141: FILE: :1033:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#142: FILE: :1034:
+	if (!lio)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#143: FILE: :1035:
+		return ERR_PTR(-EAGAIN);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#144: FILE: :1036:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#145: FILE: :1037:
+	/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#146: FILE: :1038:
+	 * Grab an initial ref on the lio to avoid races between

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#147: FILE: :1039:
+	 * submission and completion.

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#148: FILE: :1040:
+	 */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#149: FILE: :1041:
+	atomic_set(&lio->lio_users, 1);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#150: FILE: :1042:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#151: FILE: :1043:
+	lio->lio_notify.notify = SIGEV_NONE;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#152: FILE: :1044:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#153: FILE: :1045:
+	if (user_event) {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#154: FILE: :1046:
+		/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#155: FILE: :1047:
+		 * User specified an event for this lio,

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#156: FILE: :1048:
+		 * he wants to be notified upon lio completion.

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#157: FILE: :1049:
+		 */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#158: FILE: :1050:
+		ret = aio_setup_sigevent(&lio->lio_notify, user_event);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#159: FILE: :1051:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#160: FILE: :1052:
+		if (ret) {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#161: FILE: :1053:
+			kfree(lio);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#162: FILE: :1054:
+			return ERR_PTR(ret);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#163: FILE: :1055:
+		}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#164: FILE: :1056:
+	}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#165: FILE: :1057:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#166: FILE: :1058:
+	return lio;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#167: FILE: :1059:
+}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#168: FILE: :1060:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#176: FILE: :1109:
+		if (iocb->ki_lio)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#177: FILE: :1110:
+			lio_check(iocb->ki_lio);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#178: FILE: :1111:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#181: FILE: :1114:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#189: FILE: :1155:
+	if (iocb->ki_lio)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#190: FILE: :1156:
+		lio_check(iocb->ki_lio);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#191: FILE: :1157:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#200: FILE: :1692:
+			   struct iocb *iocb, struct lio_event *lio)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#208: FILE: :1754:
+	/* Attach this iocb to its lio */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#209: FILE: :1755:
+	req->ki_lio = lio;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#210: FILE: :1756:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#218: FILE: :1800:
+	struct lio_event *lio = NULL;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#219: FILE: :1801:
+	int lio_wait = 0;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#230: FILE: :1835:
+		if (tmp.aio_lio_opcode == IOCB_CMD_GROUP) {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#231: FILE: :1836:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#232: FILE: :1837:
+			/* this command means that all following IO commands

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#233: FILE: :1838:
+			 * are in the same group.

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#234: FILE: :1839:
+			 *

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#235: FILE: :1840:
+			 * Userspace either wants to be notified upon or block

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#236: FILE: :1840:
until

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#237: FILE: :1841:
+			 * completion of all the requests in the group.

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#238: FILE: :1842:
+			 */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#239: FILE: :1843:
+			/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#240: FILE: :1844:
+			 * Ignore an IOCB_CMD_GROUP request if we are already

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#241: FILE: :1845:
+			 * processing one. This means only one listio per

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#242: FILE: :1846:
+			 * io_submit call.

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#243: FILE: :1847:
+			 */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#244: FILE: :1848:
+			if (lio)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#245: FILE: :1849:
+				continue;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#246: FILE: :1850:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#247: FILE: :1851:
+			lio = lio_create((struct sigevent __user *)(unsigned

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#249: FILE: :1852:
+					 tmp.aio_sigeventp);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#250: FILE: :1853:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#251: FILE: :1854:
+			ret = PTR_ERR(lio);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#252: FILE: :1855:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#253: FILE: :1856:
+			if (IS_ERR(lio))

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#254: FILE: :1857:
+				goto out_put_ctx;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#255: FILE: :1858:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#256: FILE: :1859:
+			if (!tmp.aio_sigeventp)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#257: FILE: :1860:
+				lio_wait = 1;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#258: FILE: :1861:
+		} else {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#259: FILE: :1862:
+			if (lio)

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#260: FILE: :1863:
+				atomic_inc(&lio->lio_users);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#261: FILE: :1864:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#262: FILE: :1865:
+			ret = io_submit_one(ctx, user_iocb, &tmp, lio);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#263: FILE: :1866:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#264: FILE: :1867:
+			if (ret) {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#265: FILE: :1868:
+				if (lio) {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#266: FILE: :1869:
+					/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#267: FILE: :1870:
+					 * If a request failed, just decrement

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#268: FILE: :1871:
+					 * the users count, but go on

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#270: FILE: :1872:
+					 * subsequent requests.

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#271: FILE: :1873:
+					 */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#272: FILE: :1874:
+					atomic_dec(&lio->lio_users);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#273: FILE: :1875:
+				} else

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#274: FILE: :1876:
+					break;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#275: FILE: :1877:
+			}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#276: FILE: :1878:
+		}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#277: FILE: :1879:
+	}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#278: FILE: :1880:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#279: FILE: :1881:
+	if (lio) {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#280: FILE: :1882:
+		/*

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#281: FILE: :1883:
+		 * Drop extra ref on the lio now that we're done submitting

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#282: FILE: :1884:
+		 * requests

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#283: FILE: :1885:
+		 */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#284: FILE: :1886:
+		lio_check(lio);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#285: FILE: :1887:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#286: FILE: :1888:
+		if (lio_wait) {

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#287: FILE: :1889:
+			wait_event(ctx->wait, atomic_read(&lio->lio_users)==0);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#288: FILE: :1890:
+			kfree(lio);

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#289: FILE: :1891:
+		}

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#292: FILE: :1894:
+out_put_ctx:

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#328: FILE: :121:
+	/* lio this iocb might be attached to */

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#329: FILE: :122:
+	struct lio_event	*ki_lio;

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#330: FILE: :123:
+

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#339: FILE: :231:
+				  struct iocb __user *user_iocb, struct iocb

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#341: FILE: :232:
+				  struct lio_event *lio));

WARNING:EMBEDDED_FILENAME: It's generally not useful to have the filename in the file
#347: FILE: :237:
+			   struct iocb *iocb, struct lio_event *lio));

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.16713.commit.c4d846f59cd297ad072c3cff1709542dcfe178c6 total: 1 errors, 126 warnings, 1 checks, 196 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.16713.commit.c4d846f59cd297ad072c3cff1709542dcfe178c6 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
