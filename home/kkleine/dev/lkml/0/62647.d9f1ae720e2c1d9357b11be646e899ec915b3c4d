WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#165: FILE: net/core/sock.c:142:
+/*
+ * Make lock validator output more readable:

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#167: FILE: net/core/sock.c:144:
+static const char *af_family_key_strings[AF_MAX+1] = {
                                                ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#168: FILE: net/core/sock.c:145:
+  "sk_lock-AF_UNSPEC", "sk_lock-AF_UNIX"     , "sk_lock-AF_INET"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#168: FILE: net/core/sock.c:145:
+  "sk_lock-AF_UNSPEC", "sk_lock-AF_UNIX"     , "sk_lock-AF_INET"     ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#168: FILE: net/core/sock.c:145:
+  "sk_lock-AF_UNSPEC", "sk_lock-AF_UNIX"     , "sk_lock-AF_INET"     ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#169: FILE: net/core/sock.c:146:
+  "sk_lock-AF_AX25"  , "sk_lock-AF_IPX"      , "sk_lock-AF_APPLETALK",$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#169: FILE: net/core/sock.c:146:
+  "sk_lock-AF_AX25"  , "sk_lock-AF_IPX"      , "sk_lock-AF_APPLETALK",
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#169: FILE: net/core/sock.c:146:
+  "sk_lock-AF_AX25"  , "sk_lock-AF_IPX"      , "sk_lock-AF_APPLETALK",
                                              ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#170: FILE: net/core/sock.c:147:
+  "sk_lock-AF_NETROM", "sk_lock-AF_BRIDGE"   , "sk_lock-AF_ATMPVC"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#170: FILE: net/core/sock.c:147:
+  "sk_lock-AF_NETROM", "sk_lock-AF_BRIDGE"   , "sk_lock-AF_ATMPVC"   ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#170: FILE: net/core/sock.c:147:
+  "sk_lock-AF_NETROM", "sk_lock-AF_BRIDGE"   , "sk_lock-AF_ATMPVC"   ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#171: FILE: net/core/sock.c:148:
+  "sk_lock-AF_X25"   , "sk_lock-AF_INET6"    , "sk_lock-AF_ROSE"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#171: FILE: net/core/sock.c:148:
+  "sk_lock-AF_X25"   , "sk_lock-AF_INET6"    , "sk_lock-AF_ROSE"     ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#171: FILE: net/core/sock.c:148:
+  "sk_lock-AF_X25"   , "sk_lock-AF_INET6"    , "sk_lock-AF_ROSE"     ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#171: FILE: net/core/sock.c:148:
+  "sk_lock-AF_X25"   , "sk_lock-AF_INET6"    , "sk_lock-AF_ROSE"     ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#172: FILE: net/core/sock.c:149:
+  "sk_lock-AF_DECnet", "sk_lock-AF_NETBEUI"  , "sk_lock-AF_SECURITY" ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#172: FILE: net/core/sock.c:149:
+  "sk_lock-AF_DECnet", "sk_lock-AF_NETBEUI"  , "sk_lock-AF_SECURITY" ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#172: FILE: net/core/sock.c:149:
+  "sk_lock-AF_DECnet", "sk_lock-AF_NETBEUI"  , "sk_lock-AF_SECURITY" ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#173: FILE: net/core/sock.c:150:
+  "sk_lock-AF_KEY"   , "sk_lock-AF_NETLINK"  , "sk_lock-AF_PACKET"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#173: FILE: net/core/sock.c:150:
+  "sk_lock-AF_KEY"   , "sk_lock-AF_NETLINK"  , "sk_lock-AF_PACKET"   ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#173: FILE: net/core/sock.c:150:
+  "sk_lock-AF_KEY"   , "sk_lock-AF_NETLINK"  , "sk_lock-AF_PACKET"   ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#173: FILE: net/core/sock.c:150:
+  "sk_lock-AF_KEY"   , "sk_lock-AF_NETLINK"  , "sk_lock-AF_PACKET"   ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#174: FILE: net/core/sock.c:151:
+  "sk_lock-AF_ASH"   , "sk_lock-AF_ECONET"   , "sk_lock-AF_ATMSVC"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#174: FILE: net/core/sock.c:151:
+  "sk_lock-AF_ASH"   , "sk_lock-AF_ECONET"   , "sk_lock-AF_ATMSVC"   ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#174: FILE: net/core/sock.c:151:
+  "sk_lock-AF_ASH"   , "sk_lock-AF_ECONET"   , "sk_lock-AF_ATMSVC"   ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#174: FILE: net/core/sock.c:151:
+  "sk_lock-AF_ASH"   , "sk_lock-AF_ECONET"   , "sk_lock-AF_ATMSVC"   ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#175: FILE: net/core/sock.c:152:
+  "sk_lock-21"       , "sk_lock-AF_SNA"      , "sk_lock-AF_IRDA"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#175: FILE: net/core/sock.c:152:
+  "sk_lock-21"       , "sk_lock-AF_SNA"      , "sk_lock-AF_IRDA"     ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#175: FILE: net/core/sock.c:152:
+  "sk_lock-21"       , "sk_lock-AF_SNA"      , "sk_lock-AF_IRDA"     ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#175: FILE: net/core/sock.c:152:
+  "sk_lock-21"       , "sk_lock-AF_SNA"      , "sk_lock-AF_IRDA"     ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#176: FILE: net/core/sock.c:153:
+  "sk_lock-AF_PPPOX" , "sk_lock-AF_WANPIPE"  , "sk_lock-AF_LLC"      ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#176: FILE: net/core/sock.c:153:
+  "sk_lock-AF_PPPOX" , "sk_lock-AF_WANPIPE"  , "sk_lock-AF_LLC"      ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#176: FILE: net/core/sock.c:153:
+  "sk_lock-AF_PPPOX" , "sk_lock-AF_WANPIPE"  , "sk_lock-AF_LLC"      ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#176: FILE: net/core/sock.c:153:
+  "sk_lock-AF_PPPOX" , "sk_lock-AF_WANPIPE"  , "sk_lock-AF_LLC"      ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#177: FILE: net/core/sock.c:154:
+  "sk_lock-27"       , "sk_lock-28"          , "sk_lock-29"          ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#177: FILE: net/core/sock.c:154:
+  "sk_lock-27"       , "sk_lock-28"          , "sk_lock-29"          ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#177: FILE: net/core/sock.c:154:
+  "sk_lock-27"       , "sk_lock-28"          , "sk_lock-29"          ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#177: FILE: net/core/sock.c:154:
+  "sk_lock-27"       , "sk_lock-28"          , "sk_lock-29"          ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#178: FILE: net/core/sock.c:155:
+  "sk_lock-AF_TIPC"  , "sk_lock-AF_BLUETOOTH", "sk_lock-AF_MAX"$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#178: FILE: net/core/sock.c:155:
+  "sk_lock-AF_TIPC"  , "sk_lock-AF_BLUETOOTH", "sk_lock-AF_MAX"
                      ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#180: FILE: net/core/sock.c:157:
+};
+static const char *af_family_slock_key_strings[AF_MAX+1] = {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#180: FILE: net/core/sock.c:157:
+static const char *af_family_slock_key_strings[AF_MAX+1] = {
                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#181: FILE: net/core/sock.c:158:
+  "slock-AF_UNSPEC", "slock-AF_UNIX"     , "slock-AF_INET"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#181: FILE: net/core/sock.c:158:
+  "slock-AF_UNSPEC", "slock-AF_UNIX"     , "slock-AF_INET"     ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#181: FILE: net/core/sock.c:158:
+  "slock-AF_UNSPEC", "slock-AF_UNIX"     , "slock-AF_INET"     ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#182: FILE: net/core/sock.c:159:
+  "slock-AF_AX25"  , "slock-AF_IPX"      , "slock-AF_APPLETALK",$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#182: FILE: net/core/sock.c:159:
+  "slock-AF_AX25"  , "slock-AF_IPX"      , "slock-AF_APPLETALK",
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#182: FILE: net/core/sock.c:159:
+  "slock-AF_AX25"  , "slock-AF_IPX"      , "slock-AF_APPLETALK",
                                          ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#183: FILE: net/core/sock.c:160:
+  "slock-AF_NETROM", "slock-AF_BRIDGE"   , "slock-AF_ATMPVC"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#183: FILE: net/core/sock.c:160:
+  "slock-AF_NETROM", "slock-AF_BRIDGE"   , "slock-AF_ATMPVC"   ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#183: FILE: net/core/sock.c:160:
+  "slock-AF_NETROM", "slock-AF_BRIDGE"   , "slock-AF_ATMPVC"   ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#184: FILE: net/core/sock.c:161:
+  "slock-AF_X25"   , "slock-AF_INET6"    , "slock-AF_ROSE"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#184: FILE: net/core/sock.c:161:
+  "slock-AF_X25"   , "slock-AF_INET6"    , "slock-AF_ROSE"     ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#184: FILE: net/core/sock.c:161:
+  "slock-AF_X25"   , "slock-AF_INET6"    , "slock-AF_ROSE"     ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#184: FILE: net/core/sock.c:161:
+  "slock-AF_X25"   , "slock-AF_INET6"    , "slock-AF_ROSE"     ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#185: FILE: net/core/sock.c:162:
+  "slock-AF_DECnet", "slock-AF_NETBEUI"  , "slock-AF_SECURITY" ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#185: FILE: net/core/sock.c:162:
+  "slock-AF_DECnet", "slock-AF_NETBEUI"  , "slock-AF_SECURITY" ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#185: FILE: net/core/sock.c:162:
+  "slock-AF_DECnet", "slock-AF_NETBEUI"  , "slock-AF_SECURITY" ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#186: FILE: net/core/sock.c:163:
+  "slock-AF_KEY"   , "slock-AF_NETLINK"  , "slock-AF_PACKET"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#186: FILE: net/core/sock.c:163:
+  "slock-AF_KEY"   , "slock-AF_NETLINK"  , "slock-AF_PACKET"   ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#186: FILE: net/core/sock.c:163:
+  "slock-AF_KEY"   , "slock-AF_NETLINK"  , "slock-AF_PACKET"   ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#186: FILE: net/core/sock.c:163:
+  "slock-AF_KEY"   , "slock-AF_NETLINK"  , "slock-AF_PACKET"   ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#187: FILE: net/core/sock.c:164:
+  "slock-AF_ASH"   , "slock-AF_ECONET"   , "slock-AF_ATMSVC"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#187: FILE: net/core/sock.c:164:
+  "slock-AF_ASH"   , "slock-AF_ECONET"   , "slock-AF_ATMSVC"   ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#187: FILE: net/core/sock.c:164:
+  "slock-AF_ASH"   , "slock-AF_ECONET"   , "slock-AF_ATMSVC"   ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#187: FILE: net/core/sock.c:164:
+  "slock-AF_ASH"   , "slock-AF_ECONET"   , "slock-AF_ATMSVC"   ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#188: FILE: net/core/sock.c:165:
+  "slock-21"       , "slock-AF_SNA"      , "slock-AF_IRDA"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#188: FILE: net/core/sock.c:165:
+  "slock-21"       , "slock-AF_SNA"      , "slock-AF_IRDA"     ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#188: FILE: net/core/sock.c:165:
+  "slock-21"       , "slock-AF_SNA"      , "slock-AF_IRDA"     ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#188: FILE: net/core/sock.c:165:
+  "slock-21"       , "slock-AF_SNA"      , "slock-AF_IRDA"     ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#189: FILE: net/core/sock.c:166:
+  "slock-AF_PPPOX" , "slock-AF_WANPIPE"  , "slock-AF_LLC"      ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#189: FILE: net/core/sock.c:166:
+  "slock-AF_PPPOX" , "slock-AF_WANPIPE"  , "slock-AF_LLC"      ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#189: FILE: net/core/sock.c:166:
+  "slock-AF_PPPOX" , "slock-AF_WANPIPE"  , "slock-AF_LLC"      ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#189: FILE: net/core/sock.c:166:
+  "slock-AF_PPPOX" , "slock-AF_WANPIPE"  , "slock-AF_LLC"      ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#190: FILE: net/core/sock.c:167:
+  "slock-27"       , "slock-28"          , "slock-29"          ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#190: FILE: net/core/sock.c:167:
+  "slock-27"       , "slock-28"          , "slock-29"          ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#190: FILE: net/core/sock.c:167:
+  "slock-27"       , "slock-28"          , "slock-29"          ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#190: FILE: net/core/sock.c:167:
+  "slock-27"       , "slock-28"          , "slock-29"          ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#191: FILE: net/core/sock.c:168:
+  "slock-AF_TIPC"  , "slock-AF_BLUETOOTH", "slock-AF_MAX"$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#191: FILE: net/core/sock.c:168:
+  "slock-AF_TIPC"  , "slock-AF_BLUETOOTH", "slock-AF_MAX"
                    ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#202: FILE: net/core/sock.c:286:
+	if (!sock_owned_by_user(sk)) {
[...]
+		mutex_release(&sk->sk_lock.dep_map, 1, _RET_IP_);
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#204: FILE: net/core/sock.c:288:
+		/*
+		 * trylock + unlock semantics:

CHECK:BRACES: Unbalanced braces around else statement
#212: FILE: net/core/sock.c:295:
+	} else

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#221: FILE: net/core/sock.c:806:
+/*
+ * Initialize an sk_lock.

ERROR:INLINE_LOCATION: inline keyword should sit between storage class and type
#225: FILE: net/core/sock.c:810:
+static void inline sock_lock_init(struct sock *sk)

The inline keyword should sit between storage class and type.

For example, the following segment::

  inline static int example_function(void)
  {
          ...
  }

should be::

  static inline int example_function(void)
  {
          ...
  }

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#235: FILE: net/core/sock.c:820:
+	/*
+	 * Make sure we are not reinitializing a held lock:

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#259: FILE: net/core/sock.c:1539:
+	/*
+	 * The sk_lock has mutex_lock() semantics here:

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#271: FILE: net/core/sock.c:1550:
+	/*
+	 * The sk_lock has mutex_unlock() semantics:

WARNING:WAITQUEUE_ACTIVE: waitqueue_active without comment
#282: FILE: net/core/sock.c:1558:
+	if (waitqueue_active(&sk->sk_lock.wq))

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.62647.commit.d9f1ae720e2c1d9357b11be646e899ec915b3c4d total: 55 errors, 29 warnings, 5 checks, 163 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.62647.commit.d9f1ae720e2c1d9357b11be646e899ec915b3c4d has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
