WARNING:COMMIT_MESSAGE: Missing commit description - Add an appropriate one

The patch is missing a commit description.  A brief
description of the changes made by the patch should be added.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#describe-your-changes

CHECK:SPACING: No space is necessary after a cast
#38: FILE: drivers/infiniband/hw/ipath/ipath_driver.c:759:
+		(void *) dd->ipath_port0_skbinfo[bufnum].skb->data : NULL;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#95: FILE: drivers/infiniband/hw/ipath/ipath_driver.c:1351:
+			   (unsigned long long) pd->port_rcvhdrq_phys,

WARNING:SPLIT_STRING: quoted string split across lines
#117: FILE: drivers/infiniband/hw/ipath/ipath_driver.c:1840:
+		ipath_cdbg(VERBOSE, "free closed port %d "
+			   "ipath_port0_skbinfo @ %p\n", pd->port_port,

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 16)
#119: FILE: drivers/infiniband/hw/ipath/ipath_driver.c:1842:
 		for (e = 0; e < dd->ipath_rcvegrcnt; e++)
+		if (skbinfo[e].skb) {

CHECK:SPACING: No space is necessary after a cast
#138: FILE: drivers/infiniband/hw/ipath/ipath_driver.c:1946:
+				  (void *) dd->ipath_pioavailregs_dma,

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#166: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:367:
+		dd->ipath_physshadow[porttid + tid] = ipath_map_page(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#183: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:409:
+				pci_unmap_page(dd->pcidev,
+					dd->ipath_physshadow[porttid + tid],

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#193: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:525:
+			pci_unmap_page(dd->pcidev,
+				dd->ipath_physshadow[porttid + tid],

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#203: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:723:
+		*(volatile u64 *)pd->port_rcvhdrtail_kvaddr = 0;

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#213: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:935:
+	struct ipath_portdata *pd, unsigned len, int write_ok,

WARNING:SPLIT_STRING: quoted string split across lines
#235: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:967:
+		dev_info(&dd->pcidev->dev, "%s port%u mmap of %lx, %x "
+			 "bytes r%c failed: %d\n", what, pd->port_port,

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#236: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:968:
+			 pfn, len, write_ok?'w':'o', ret);
 			                   ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#236: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:968:
+			 pfn, len, write_ok?'w':'o', ret);
 			                       ^

WARNING:TYPO_SPELLING: 'mmaped' may be misspelled - perhaps 'mapped'?
#241: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:970:
+		ipath_cdbg(VERBOSE, "%s port%u mmaped %lx, %x bytes "
 		                               ^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:SPLIT_STRING: quoted string split across lines
#242: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:971:
+		ipath_cdbg(VERBOSE, "%s port%u mmaped %lx, %x bytes "
+			   "r%c\n", what, pd->port_port, pfn, len,

CHECK:SPACING: spaces required around that '?' (ctx:VxV)
#243: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:972:
+			   write_ok?'w':'o');
 			           ^

CHECK:SPACING: spaces required around that ':' (ctx:VxV)
#243: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:972:
+			   write_ok?'w':'o');
 			               ^

ERROR:CODE_INDENT: code indent should use tabs where possible
#276: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:1302:
+^I^I^I      ^I     (void *) dd->ipath_pioavailregs_dma,$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#276: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:1302:
+^I^I^I      ^I     (void *) dd->ipath_pioavailregs_dma,$

CHECK:SPACING: No space is necessary after a cast
#276: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:1302:
+			      	     (void *) dd->ipath_pioavailregs_dma,

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#300: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:1814:
+	*(volatile u64 *)pd->port_rcvhdrtail_kvaddr = 0ULL;

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#309: FILE: drivers/infiniband/hw/ipath/ipath_file_ops.c:1845:
+		pci_unmap_page(dd->pcidev, dd->ipath_physshadow[i],
+			PAGE_SIZE, PCI_DMA_FROMDEVICE);

WARNING:SPLIT_STRING: quoted string split across lines
#338: FILE: drivers/infiniband/hw/ipath/ipath_iba6120.c:1116:
 			dev_info(&dd->pcidev->dev, "BUG: physaddr %lx "
+				 "not 2KB aligned!\n", pa);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!skbinfo"
#358: FILE: drivers/infiniband/hw/ipath/ipath_init_chip.c:97:
+	if (skbinfo == NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

WARNING:OOM_MESSAGE: Possible unnecessary 'out of memory' message
#428: FILE: drivers/infiniband/hw/ipath/ipath_init_chip.c:453:
+	if (!addrs) {
+		ipath_dev_err(dd, "failed to allocate shadow dma handle "

WARNING:SPLIT_STRING: quoted string split across lines
#429: FILE: drivers/infiniband/hw/ipath/ipath_init_chip.c:454:
+		ipath_dev_err(dd, "failed to allocate shadow dma handle "
+			      "array, no expected sends!\n");

CHECK:SPACING: No space is necessary after a cast
#451: FILE: drivers/infiniband/hw/ipath/ipath_intr.c:608:
+				tl = *(u64 *) pd->port_rcvhdrtail_kvaddr;

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pci_dev *' should also have an identifier name
#512: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:879:
+dma_addr_t ipath_map_page(struct pci_dev *, struct page *, unsigned long,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct page *' should also have an identifier name
#512: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:879:
+dma_addr_t ipath_map_page(struct pci_dev *, struct page *, unsigned long,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned long' should also have an identifier name
#512: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:879:
+dma_addr_t ipath_map_page(struct pci_dev *, struct page *, unsigned long,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'size_t' should also have an identifier name
#512: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:879:
+dma_addr_t ipath_map_page(struct pci_dev *, struct page *, unsigned long,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#512: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:879:
+dma_addr_t ipath_map_page(struct pci_dev *, struct page *, unsigned long,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct pci_dev *' should also have an identifier name
#514: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:881:
+dma_addr_t ipath_map_single(struct pci_dev *, void *, size_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void *' should also have an identifier name
#514: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:881:
+dma_addr_t ipath_map_single(struct pci_dev *, void *, size_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'size_t' should also have an identifier name
#514: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:881:
+dma_addr_t ipath_map_single(struct pci_dev *, void *, size_t, int);

WARNING:FUNCTION_ARGUMENTS: function definition argument 'int' should also have an identifier name
#514: FILE: drivers/infiniband/hw/ipath/ipath_kernel.h:881:
+dma_addr_t ipath_map_single(struct pci_dev *, void *, size_t, int);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#540: FILE: drivers/infiniband/hw/ipath/ipath_user_pages.c:106:
+dma_addr_t ipath_map_page(struct pci_dev *hwdev, struct page *page,
+	unsigned long offset, size_t size, int direction)

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#564: FILE: drivers/infiniband/hw/ipath/ipath_user_pages.c:130:
+dma_addr_t ipath_map_single(struct pci_dev *hwdev, void *ptr, size_t size,
+	int direction)

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.33942.commit.685c4182ed9399d956d86098fc628251955dc0d0 total: 1 errors, 22 warnings, 16 checks, 532 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.33942.commit.685c4182ed9399d956d86098fc628251955dc0d0 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
