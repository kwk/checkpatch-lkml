CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#43: FILE: kernel/power/suspend_file.c:282:
+static void filewriter_get_target_info(char *target, int get_size,
+		int resume2)

CHECK:BRACES: braces {} should be used on all arms of this statement
#53: FILE: kernel/power/suspend_file.c:292:
+	if (IS_ERR(target_file) || !target_file) {
[...]
+	} else
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Blank lines aren't necessary after an open brace '{'
#54: FILE: kernel/power/suspend_file.c:293:
+	if (IS_ERR(target_file) || !target_file) {
+

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#56: FILE: kernel/power/suspend_file.c:295:
+			printk("Open file %s returned %p.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#57: FILE: kernel/power/suspend_file.c:296:
+			printk("Open file %s returned %p.\n",
+					target, target_file);

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#65: FILE: kernel/power/suspend_file.c:304:
+			printk("Open file %s returned %p and name_to_devt "

WARNING:SPLIT_STRING: quoted string split across lines
#66: FILE: kernel/power/suspend_file.c:305:
+			printk("Open file %s returned %p and name_to_devt "
+					"failed.\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:LINE_SPACING: Missing a blank line after declarations
#71: FILE: kernel/power/suspend_file.c:310:
+				int error = vfs_stat(target, &stat);
+				if (error) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#72: FILE: kernel/power/suspend_file.c:311:
+					printk("Stating the file also failed."

WARNING:SPLIT_STRING: quoted string split across lines
#73: FILE: kernel/power/suspend_file.c:312:
+					printk("Stating the file also failed."
+						" Nothing more we can do.\n");

ERROR:CODE_INDENT: code indent should use tabs where possible
#80: FILE: kernel/power/suspend_file.c:319:
+^I     ^Ifilewriter_target_bdev = open_by_devnum(resume_dev_t, FMODE_READ);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#80: FILE: kernel/power/suspend_file.c:319:
+^I     ^Ifilewriter_target_bdev = open_by_devnum(resume_dev_t, FMODE_READ);$

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#82: FILE: kernel/power/suspend_file.c:321:
+			printk("Got a dev_num (%lx) but failed to open it.\n",

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#83: FILE: kernel/power/suspend_file.c:322:
+			printk("Got a dev_num (%lx) but failed to open it.\n",
+					(unsigned long) resume_dev_t);

CHECK:SPACING: No space is necessary after a cast
#83: FILE: kernel/power/suspend_file.c:322:
+					(unsigned long) resume_dev_t);

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:BRACES: Unbalanced braces around else statement
#88: FILE: kernel/power/suspend_file.c:327:
+	} else

WARNING:PRINTK_WITHOUT_KERN_LEVEL: printk() should include KERN_<LEVEL> facility level
#95: FILE: kernel/power/suspend_file.c:334:
+		printk("The filewriter works with regular files, character "

WARNING:SPLIT_STRING: quoted string split across lines
#96: FILE: kernel/power/suspend_file.c:335:
+		printk("The filewriter works with regular files, character "
+				"files and block devices.\n");

CHECK:BRACES: braces {} should be used on all arms of this statement
#101: FILE: kernel/power/suspend_file.c:340:
+		if (S_ISBLK(target_inode->i_mode)) {
[...]
+		} else
[...]

CHECK:BRACES: Unbalanced braces around else statement
#105: FILE: kernel/power/suspend_file.c:344:
+		} else

ERROR:TRAILING_WHITESPACE: trailing whitespace
#117: FILE: kernel/power/suspend_file.c:356:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.64649.commit.959d0cbaef72b0926bb893ae395fbe2444774a62 total: 2 errors, 10 warnings, 9 checks, 90 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.64649.commit.959d0cbaef72b0926bb893ae395fbe2444774a62 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
