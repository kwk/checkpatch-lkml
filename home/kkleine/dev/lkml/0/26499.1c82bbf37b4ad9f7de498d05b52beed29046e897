WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#37: FILE: drivers/kvm/kvm.h:1:
+#ifndef __KVM_H

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:NEW_TYPEDEFS: do not add new typedefs
#68: FILE: drivers/kvm/kvm.h:32:
+typedef unsigned long  gva_t;

WARNING:NEW_TYPEDEFS: do not add new typedefs
#70: FILE: drivers/kvm/kvm.h:34:
+typedef unsigned long  gfn_t;

WARNING:NEW_TYPEDEFS: do not add new typedefs
#72: FILE: drivers/kvm/kvm.h:36:
+typedef unsigned long  hva_t;

WARNING:NEW_TYPEDEFS: do not add new typedefs
#74: FILE: drivers/kvm/kvm.h:38:
+typedef unsigned long  hfn_t;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#77: FILE: drivers/kvm/kvm.h:41:
+    struct list_head link;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#78: FILE: drivers/kvm/kvm.h:42:
+    hpa_t page_hpa;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#79: FILE: drivers/kvm/kvm.h:43:
+    unsigned long slot_bitmap; /* One bit set per slot which has memory$

ERROR:CODE_INDENT: code indent should use tabs where possible
#80: FILE: drivers/kvm/kvm.h:44:
+                    * in this shadow page.$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:BLOCK_COMMENT_STYLE: Block comments should align the * on each line
#80: FILE: drivers/kvm/kvm.h:44:
+    unsigned long slot_bitmap; /* One bit set per slot which has memory
+                    * in this shadow page.

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

ERROR:CODE_INDENT: code indent should use tabs where possible
#81: FILE: drivers/kvm/kvm.h:45:
+                    */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#82: FILE: drivers/kvm/kvm.h:46:
+    int global;              /* Set if all ptes in this page are global */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#83: FILE: drivers/kvm/kvm.h:47:
+    u64 *parent_pte;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#87: FILE: drivers/kvm/kvm.h:51:
+    u32 revision_id;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#88: FILE: drivers/kvm/kvm.h:52:
+    u32 abort;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#89: FILE: drivers/kvm/kvm.h:53:
+    char data[0];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#93: FILE: drivers/kvm/kvm.h:57:
+    u32 index;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#94: FILE: drivers/kvm/kvm.h:58:
+    u32 reserved;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#95: FILE: drivers/kvm/kvm.h:59:
+    u64 data;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#106: FILE: drivers/kvm/kvm.h:70:
+    void (*new_cr3)(struct kvm_vcpu *vcpu);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#107: FILE: drivers/kvm/kvm.h:71:
+    int (*page_fault)(struct kvm_vcpu *vcpu, gva_t gva, u32 err);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#108: FILE: drivers/kvm/kvm.h:72:
+    void (*inval_page)(struct kvm_vcpu *vcpu, gva_t gva);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#109: FILE: drivers/kvm/kvm.h:73:
+    void (*free)(struct kvm_vcpu *vcpu);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#110: FILE: drivers/kvm/kvm.h:74:
+    gpa_t (*gva_to_gpa)(struct kvm_vcpu *vcpu, gva_t gva);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#111: FILE: drivers/kvm/kvm.h:75:
+    hpa_t root_hpa;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#112: FILE: drivers/kvm/kvm.h:76:
+    int root_level;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#113: FILE: drivers/kvm/kvm.h:77:
+    int shadow_root_level;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#117: FILE: drivers/kvm/kvm.h:81:
+    int enabled;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#118: FILE: drivers/kvm/kvm.h:82:
+    unsigned long bp[4];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#119: FILE: drivers/kvm/kvm.h:83:
+    int singlestep;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#123: FILE: drivers/kvm/kvm.h:87:
+    VCPU_REGS_RAX = 0,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#124: FILE: drivers/kvm/kvm.h:88:
+    VCPU_REGS_RCX = 1,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#125: FILE: drivers/kvm/kvm.h:89:
+    VCPU_REGS_RDX = 2,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#126: FILE: drivers/kvm/kvm.h:90:
+    VCPU_REGS_RBX = 3,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#127: FILE: drivers/kvm/kvm.h:91:
+    VCPU_REGS_RSP = 4,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#128: FILE: drivers/kvm/kvm.h:92:
+    VCPU_REGS_RBP = 5,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#129: FILE: drivers/kvm/kvm.h:93:
+    VCPU_REGS_RSI = 6,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#130: FILE: drivers/kvm/kvm.h:94:
+    VCPU_REGS_RDI = 7,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#132: FILE: drivers/kvm/kvm.h:96:
+    VCPU_REGS_R8 = 8,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#133: FILE: drivers/kvm/kvm.h:97:
+    VCPU_REGS_R9 = 9,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#134: FILE: drivers/kvm/kvm.h:98:
+    VCPU_REGS_R10 = 10,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#135: FILE: drivers/kvm/kvm.h:99:
+    VCPU_REGS_R11 = 11,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#136: FILE: drivers/kvm/kvm.h:100:
+    VCPU_REGS_R12 = 12,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#137: FILE: drivers/kvm/kvm.h:101:
+    VCPU_REGS_R13 = 13,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#138: FILE: drivers/kvm/kvm.h:102:
+    VCPU_REGS_R14 = 14,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#139: FILE: drivers/kvm/kvm.h:103:
+    VCPU_REGS_R15 = 15,$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#141: FILE: drivers/kvm/kvm.h:105:
+    NR_VCPU_REGS$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#145: FILE: drivers/kvm/kvm.h:109:
+    struct kvm *kvm;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#146: FILE: drivers/kvm/kvm.h:110:
+    struct vmcs *vmcs;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#147: FILE: drivers/kvm/kvm.h:111:
+    struct mutex mutex;$

CHECK:UNCOMMENTED_DEFINITION: struct mutex definition without comment
#147: FILE: drivers/kvm/kvm.h:111:
+    struct mutex mutex;

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#148: FILE: drivers/kvm/kvm.h:112:
+    int   cpu;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#149: FILE: drivers/kvm/kvm.h:113:
+    int   launched;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#150: FILE: drivers/kvm/kvm.h:114:
+    unsigned long irq_summary; /* bit vector: 1 per word in irq_pending */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#152: FILE: drivers/kvm/kvm.h:116:
+    unsigned long irq_pending[NR_IRQ_WORDS];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#153: FILE: drivers/kvm/kvm.h:117:
+    unsigned long regs[NR_VCPU_REGS]; /* for rsp: vcpu_load_rsp_rip() */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#154: FILE: drivers/kvm/kvm.h:118:
+    unsigned long rip;      /* needs vcpu_load_rsp_rip() */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#156: FILE: drivers/kvm/kvm.h:120:
+    unsigned long cr2;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#157: FILE: drivers/kvm/kvm.h:121:
+    unsigned long cr3;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#158: FILE: drivers/kvm/kvm.h:122:
+    unsigned long cr8;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#159: FILE: drivers/kvm/kvm.h:123:
+    u64 shadow_efer;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#160: FILE: drivers/kvm/kvm.h:124:
+    u64 apic_base;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#161: FILE: drivers/kvm/kvm.h:125:
+    struct vmx_msr_entry *guest_msrs;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#162: FILE: drivers/kvm/kvm.h:126:
+    struct vmx_msr_entry *host_msrs;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#164: FILE: drivers/kvm/kvm.h:128:
+    struct list_head free_pages;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#165: FILE: drivers/kvm/kvm.h:129:
+    struct kvm_mmu_page page_header_buf[KVM_NUM_MMU_PAGES];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#166: FILE: drivers/kvm/kvm.h:130:
+    struct kvm_mmu mmu;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#168: FILE: drivers/kvm/kvm.h:132:
+    struct kvm_guest_debug guest_debug;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#170: FILE: drivers/kvm/kvm.h:134:
+    char fx_buf[FX_BUF_SIZE];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#171: FILE: drivers/kvm/kvm.h:135:
+    char *host_fx_image;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#172: FILE: drivers/kvm/kvm.h:136:
+    char *guest_fx_image;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#174: FILE: drivers/kvm/kvm.h:138:
+    int mmio_needed;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#175: FILE: drivers/kvm/kvm.h:139:
+    int mmio_read_completed;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#176: FILE: drivers/kvm/kvm.h:140:
+    int mmio_is_write;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#177: FILE: drivers/kvm/kvm.h:141:
+    int mmio_size;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#178: FILE: drivers/kvm/kvm.h:142:
+    unsigned char mmio_data[8];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#179: FILE: drivers/kvm/kvm.h:143:
+    gpa_t mmio_phys_addr;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#181: FILE: drivers/kvm/kvm.h:145:
+    struct{$

ERROR:CODE_INDENT: code indent should use tabs where possible
#182: FILE: drivers/kvm/kvm.h:146:
+        int active;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#182: FILE: drivers/kvm/kvm.h:146:
+        int active;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#183: FILE: drivers/kvm/kvm.h:147:
+        u8 save_iopl;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#183: FILE: drivers/kvm/kvm.h:147:
+        u8 save_iopl;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#184: FILE: drivers/kvm/kvm.h:148:
+        struct {$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#184: FILE: drivers/kvm/kvm.h:148:
+        struct {$

ERROR:CODE_INDENT: code indent should use tabs where possible
#185: FILE: drivers/kvm/kvm.h:149:
+            unsigned long base;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#185: FILE: drivers/kvm/kvm.h:149:
+            unsigned long base;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#186: FILE: drivers/kvm/kvm.h:150:
+            u32 limit;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#186: FILE: drivers/kvm/kvm.h:150:
+            u32 limit;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#187: FILE: drivers/kvm/kvm.h:151:
+            u32 ar;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#187: FILE: drivers/kvm/kvm.h:151:
+            u32 ar;$

ERROR:CODE_INDENT: code indent should use tabs where possible
#188: FILE: drivers/kvm/kvm.h:152:
+        } tr;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#188: FILE: drivers/kvm/kvm.h:152:
+        } tr;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#189: FILE: drivers/kvm/kvm.h:153:
+    } rmode;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#193: FILE: drivers/kvm/kvm.h:157:
+    gfn_t base_gfn;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#194: FILE: drivers/kvm/kvm.h:158:
+    unsigned long npages;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#195: FILE: drivers/kvm/kvm.h:159:
+    unsigned long flags;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#196: FILE: drivers/kvm/kvm.h:160:
+    struct page **phys_mem;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#197: FILE: drivers/kvm/kvm.h:161:
+    unsigned long *dirty_bitmap;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#201: FILE: drivers/kvm/kvm.h:165:
+    spinlock_t lock; /* protects everything except vcpus */$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#202: FILE: drivers/kvm/kvm.h:166:
+    int nmemslots;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#203: FILE: drivers/kvm/kvm.h:167:
+    struct kvm_memory_slot memslots[KVM_MEMORY_SLOTS];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#204: FILE: drivers/kvm/kvm.h:168:
+    struct list_head active_mmu_pages;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#205: FILE: drivers/kvm/kvm.h:169:
+    struct kvm_vcpu vcpus[KVM_MAX_VCPUS];$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#206: FILE: drivers/kvm/kvm.h:170:
+    int memory_config_version;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#207: FILE: drivers/kvm/kvm.h:171:
+    int busy;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#211: FILE: drivers/kvm/kvm.h:175:
+    u32 pf_fixed;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#212: FILE: drivers/kvm/kvm.h:176:
+    u32 pf_guest;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#213: FILE: drivers/kvm/kvm.h:177:
+    u32 tlb_flush;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#214: FILE: drivers/kvm/kvm.h:178:
+    u32 invlpg;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#216: FILE: drivers/kvm/kvm.h:180:
+    u32 exits;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#217: FILE: drivers/kvm/kvm.h:181:
+    u32 io_exits;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#218: FILE: drivers/kvm/kvm.h:182:
+    u32 mmio_exits;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#219: FILE: drivers/kvm/kvm.h:183:
+    u32 signal_exits;$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#220: FILE: drivers/kvm/kvm.h:184:
+    u32 irq_exits;$

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_dbg([subsystem]dev, ... then dev_dbg(dev, ... then pr_debug(...  to printk(KERN_DEBUG ...
#225: FILE: drivers/kvm/kvm.h:189:
+#define kvm_printf(kvm, fmt ...) printk(KERN_DEBUG fmt)

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'vcpu' may be better as '(vcpu)' to avoid precedence issues
#226: FILE: drivers/kvm/kvm.h:190:
+#define vcpu_printf(vcpu, fmt...) kvm_printf(vcpu->kvm, fmt)

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.26499.commit.1c82bbf37b4ad9f7de498d05b52beed29046e897 total: 9 errors, 105 warnings, 2 checks, 206 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.26499.commit.1c82bbf37b4ad9f7de498d05b52beed29046e897 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
