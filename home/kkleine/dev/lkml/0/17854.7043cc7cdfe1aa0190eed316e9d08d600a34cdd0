WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#37: 
new file mode 100644

Whenever files are added, moved, or deleted, the MAINTAINERS file
patterns can be out of sync or outdated.

So MAINTAINERS might need updating in these cases.

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#42: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:1:
+/*

The source file is missing or has an improper SPDX identifier tag.
The Linux kernel requires the precise SPDX identifier in all source files,
and it is thoroughly documented in the kernel docs.

See: https://www.kernel.org/doc/html/latest/process/license-rules.html

WARNING:INCLUDE_LINUX: Use #include <linux/io.h> instead of <asm/io.h>
#77: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:36:
+#include <asm/io.h>

ERROR:SPACING: space required after that ',' (ctx:VxV)
#84: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:43:
+#define Q_EMPTY(rptr,wptr) ((rptr)==(wptr))
                     ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: spaces required around that '==' (ctx:VxV)
#84: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:43:
+#define Q_EMPTY(rptr,wptr) ((rptr)==(wptr))
                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#85: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:44:
+#define Q_FULL(rptr,wptr,size_log2)  ( (((wptr)-(rptr))>>(size_log2)) && \
                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#85: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:44:
+#define Q_FULL(rptr,wptr,size_log2)  ( (((wptr)-(rptr))>>(size_log2)) && \
                         ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#85: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:44:
+#define Q_FULL(rptr,wptr,size_log2)  ( (((wptr)-(rptr))>>(size_log2)) && \
                                                ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#85: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:44:
+#define Q_FULL(rptr,wptr,size_log2)  ( (((wptr)-(rptr))>>(size_log2)) && \
                                                        ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#85: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:44:
+#define Q_FULL(rptr,wptr,size_log2)  ( (((wptr)-(rptr))>>(size_log2)) && \

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'rptr' - possible side-effects?
#85: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:44:
+#define Q_FULL(rptr,wptr,size_log2)  ( (((wptr)-(rptr))>>(size_log2)) && \
+				       ((rptr)!=(wptr)) )

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'wptr' - possible side-effects?
#85: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:44:
+#define Q_FULL(rptr,wptr,size_log2)  ( (((wptr)-(rptr))>>(size_log2)) && \
+				       ((rptr)!=(wptr)) )

ERROR:SPACING: spaces required around that '!=' (ctx:VxV)
#86: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:45:
+				       ((rptr)!=(wptr)) )
 				              ^

ERROR:SPACING: space prohibited before that close parenthesis ')'
#86: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:45:
+				       ((rptr)!=(wptr)) )

ERROR:SPACING: space required after that ',' (ctx:VxV)
#87: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:46:
+#define Q_GENBIT(ptr,size_log2) (!(((ptr)>>size_log2)&0x1))
                     ^

CHECK:SPACING: spaces preferred around that '>>' (ctx:VxV)
#87: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:46:
+#define Q_GENBIT(ptr,size_log2) (!(((ptr)>>size_log2)&0x1))
                                          ^

CHECK:SPACING: spaces preferred around that '&' (ctx:VxV)
#87: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:46:
+#define Q_GENBIT(ptr,size_log2) (!(((ptr)>>size_log2)&0x1))
                                                      ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'size_log2' may be better as '(size_log2)' to avoid precedence issues
#87: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:46:
+#define Q_GENBIT(ptr,size_log2) (!(((ptr)>>size_log2)&0x1))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#88: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:47:
+#define Q_FREECNT(rptr,wptr,size_log2) ((1UL<<size_log2)-((wptr)-(rptr)))
                       ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#88: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:47:
+#define Q_FREECNT(rptr,wptr,size_log2) ((1UL<<size_log2)-((wptr)-(rptr)))
                            ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#88: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:47:
+#define Q_FREECNT(rptr,wptr,size_log2) ((1UL<<size_log2)-((wptr)-(rptr)))
                                             ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#88: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:47:
+#define Q_FREECNT(rptr,wptr,size_log2) ((1UL<<size_log2)-((wptr)-(rptr)))
                                                         ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#88: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:47:
+#define Q_FREECNT(rptr,wptr,size_log2) ((1UL<<size_log2)-((wptr)-(rptr)))
                                                                 ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'size_log2' may be better as '(size_log2)' to avoid precedence issues
#88: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:47:
+#define Q_FREECNT(rptr,wptr,size_log2) ((1UL<<size_log2)-((wptr)-(rptr)))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#89: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:48:
+#define Q_COUNT(rptr,wptr) ((wptr)-(rptr))
                     ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#89: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:48:
+#define Q_COUNT(rptr,wptr) ((wptr)-(rptr))
                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#90: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:49:
+#define Q_PTR2IDX(ptr,size_log2) (ptr & ((1UL<<size_log2)-1))
                      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#90: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:49:
+#define Q_PTR2IDX(ptr,size_log2) (ptr & ((1UL<<size_log2)-1))
                                              ^

CHECK:SPACING: spaces preferred around that '-' (ctx:VxV)
#90: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:49:
+#define Q_PTR2IDX(ptr,size_log2) (ptr & ((1UL<<size_log2)-1))
                                                          ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'ptr' may be better as '(ptr)' to avoid precedence issues
#90: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:49:
+#define Q_PTR2IDX(ptr,size_log2) (ptr & ((1UL<<size_log2)-1))

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'size_log2' may be better as '(size_log2)' to avoid precedence issues
#90: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:49:
+#define Q_PTR2IDX(ptr,size_log2) (ptr & ((1UL<<size_log2)-1))

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#92: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:51:
+	(writel(((1<<31) | (QPID)), doorbell)); \
 	           ^

CHECK:SPACING: No space is necessary after a cast
#95: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:54:
+#define SEQ32_GE(x,y) (!( (((u32) (x)) - ((u32) (y))) & 0x80000000 ))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#95: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:54:
+#define SEQ32_GE(x,y) (!( (((u32) (x)) - ((u32) (y))) & 0x80000000 ))
                   ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#95: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:54:
+#define SEQ32_GE(x,y) (!( (((u32) (x)) - ((u32) (y))) & 0x80000000 ))

ERROR:SPACING: space prohibited before that close parenthesis ')'
#95: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:54:
+#define SEQ32_GE(x,y) (!( (((u32) (x)) - ((u32) (y))) & 0x80000000 ))

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#103: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:62:
+} __attribute__ ((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#115: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:74:
+} __attribute__ ((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#132: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:91:
+} __attribute__ ((packed));

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#136: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:95:
+	switch (wrop) {
+		case T3_WR_BP: return T3_BYPASS;
+		case T3_WR_SEND: return T3_SEND;
+		case T3_WR_WRITE: return T3_RDMA_WRITE;
+		case T3_WR_READ: return T3_READ_REQ;
+		case T3_WR_INV_STAG: return T3_LOCAL_INV;
+		case T3_WR_BIND: return T3_BIND_MW;
+		case T3_WR_INIT: return T3_RDMA_INIT;
+		case T3_WR_QP_MOD: return T3_QP_MOD;
+		default: break;

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#145: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:104:
+		default: break;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

CHECK:LINE_SPACING: Please don't use multiple blank lines
#150: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:109:
+
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#160: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:119:
+#define WRID(wrid)      ^I(wrid.id1)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#173: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:132:
+#define G_FW_RIWR_OP(x)   ^I((((x) >> S_FW_RIWR_OP)) & M_FW_RIWR_OP)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#182: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:141:
+#define G_FW_RIWR_FLAGS(x)   ^I((((x) >> S_FW_RIWR_FLAGS)) & M_FW_RIWR_FLAGS)$

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#246: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:205:
+} __attribute__ ((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#253: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:212:
+} __attribute__ ((packed));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#303: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:262:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:LINE_SPACING: Please don't use multiple blank lines
#304: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:263:
+	
+

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#310: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:269:
+} __attribute__ ((packed));

WARNING:PREFER_DEFINED_ATTRIBUTE_MACRO: Prefer __packed over __attribute__((packed))
#318: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:277:
+} __attribute__ ((packed));

WARNING:TYPO_SPELLING: 'reservered' may be misspelled - perhaps 'reserved'?
#350: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:309:
+	u32 rqes_posted;	/* bits 31-1 - reservered */
 	                	               ^^^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#372: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:331:
+#define T3_SQ_CQE_FLIT ^I  13$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#376: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:335:
+#define T3_RQ_CQE_FLIT ^I  14$

WARNING:MEMORY_BARRIER: memory barrier without comment
#385: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:344:
+	wmb();

ERROR:CODE_INDENT: code indent should use tabs where possible
#390: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:349:
+        ((union t3_wr *)wqe)->flit[15] = cpu_to_be64(genbit);$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#390: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:349:
+        ((union t3_wr *)wqe)->flit[15] = cpu_to_be64(genbit);$

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#434: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:393:
+};
+#define S_TPT_VALID		31

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#512: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:471:
+#define V_CEQ_OOO(x)	  ((x)<<S_CQE_OOO)
                     	      ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#517: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:476:
+#define V_CQE_QPID(x) ^I  ((x)<<S_CQE_QPID)$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#517: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:476:
+#define V_CQE_QPID(x) 	  ((x)<<S_CQE_QPID)
                       	      ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#522: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:481:
+#define V_CQE_SWCQE(x) ^I  ((x)<<S_CQE_SWCQE)$

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#522: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:481:
+#define V_CQE_SWCQE(x) 	  ((x)<<S_CQE_SWCQE)
                        	      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#527: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:486:
+#define V_CQE_GENBIT(x)	  ((x)<<S_CQE_GENBIT)
                        	      ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#532: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:491:
+#define V_CQE_STATUS(x)   ((x)<<S_CQE_STATUS)
                               ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#537: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:496:
+#define V_CQE_TYPE(x)     ((x)<<S_CQE_TYPE)
                               ^

CHECK:SPACING: spaces preferred around that '<<' (ctx:VxV)
#542: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:501:
+#define V_CQE_OPCODE(x)   ((x)<<S_CQE_OPCODE)
                               ^

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#565: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:524:
+#define CQE_WRID_WPTR(x)   ^I((x).wrid_low_msn)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#608: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:567:
+^I__u64 ^I^I^Iwr_id;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#609: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:568:
+^Istruct t3_cqe ^I^Icqe;$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#612: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:571:
+^Iint ^I^I^Iopcode;$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#614: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:573:
+^Iint^I^I^Isignaled;^I$

WARNING:TYPO_SPELLING: 'accessable' may be misspelled - perhaps 'accessible'?
#621: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:580:
+	union t3_wr *queue;		/* DMA accessable memory */
 	                   		       ^^^^^^^^^^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#656: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:615:
+#define CQ_VLD_ENTRY(ptr,size_log2,cqe) (Q_GENBIT(ptr,size_log2) == \
                         ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#656: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:615:
+#define CQ_VLD_ENTRY(ptr,size_log2,cqe) (Q_GENBIT(ptr,size_log2) == \
                                   ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#656: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:615:
+#define CQ_VLD_ENTRY(ptr,size_log2,cqe) (Q_GENBIT(ptr,size_log2) == \
                                                      ^

CHECK:MACRO_ARG_PRECEDENCE: Macro argument 'cqe' may be better as '(cqe)' to avoid precedence issues
#656: FILE: drivers/infiniband/hw/cxgb3/core/cxio_wr.h:615:
+#define CQ_VLD_ENTRY(ptr,size_log2,cqe) (Q_GENBIT(ptr,size_log2) == \
+					 CQE_GENBIT(*cqe))

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.17854.commit.7043cc7cdfe1aa0190eed316e9d08d600a34cdd0 total: 23 errors, 25 warnings, 29 checks, 658 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.17854.commit.7043cc7cdfe1aa0190eed316e9d08d600a34cdd0 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
