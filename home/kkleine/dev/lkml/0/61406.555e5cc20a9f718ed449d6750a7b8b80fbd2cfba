ERROR:CODE_INDENT: code indent should use tabs where possible
#64: FILE: drivers/net/dl2k.c:52:
+    ^I^I^I^IRemove tx_coalesce option.$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#64: FILE: drivers/net/dl2k.c:52:
+    ^I^I^I^IRemove tx_coalesce option.$

ERROR:CODE_INDENT: code indent should use tabs where possible
#66: FILE: drivers/net/dl2k.c:54:
+    ^I^I^I^Isystems. (philt@4bridgeworks.com)$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#66: FILE: drivers/net/dl2k.c:54:
+    ^I^I^I^Isystems. (philt@4bridgeworks.com)$

ERROR:CORRUPTED_PATCH: patch seems to be corrupt (line wrapped?)
#68: FILE: drivers/net/dl2k.c:55:
(hayim@iportent.com)

The patch seems to be corrupted or lines are wrapped.
Please regenerate the patch file before sending it to the maintainer.

ERROR:INITIALISED_STATIC: do not initialise statics to 0
#84: FILE: drivers/net/dl2k.c:74:
+static int rx_coalesce=0;	/* Rx frame count each interrupt */

Static variables should not be initialized explicitly to zero.
Your compiler (or rather your loader) automatically does
it for you.

ERROR:SPACING: spaces required around that '=' (ctx:VxV)
#84: FILE: drivers/net/dl2k.c:74:
+static int rx_coalesce=0;	/* Rx frame count each interrupt */
                       ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#103: FILE: drivers/net/dl2k.c:94:
+       UpdateStats | LinkEvent|TxComplete)$

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#103: FILE: drivers/net/dl2k.c:94:
+       UpdateStats | LinkEvent|TxComplete)
                               ^

CHECK:CAMELCASE: Avoid CamelCase: <UpdateStats>
#103: FILE: drivers/net/dl2k.c:94:
+       UpdateStats | LinkEvent|TxComplete)

Avoid CamelCase Identifiers.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#naming

CHECK:CAMELCASE: Avoid CamelCase: <LinkEvent>
#103: FILE: drivers/net/dl2k.c:94:
+       UpdateStats | LinkEvent|TxComplete)

CHECK:CAMELCASE: Avoid CamelCase: <TxComplete>
#103: FILE: drivers/net/dl2k.c:94:
+       UpdateStats | LinkEvent|TxComplete)

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#111: FILE: drivers/net/dl2k.c:105:
+static void tx_poll (unsigned long data);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#116: FILE: drivers/net/dl2k.c:108:
+static void rio_free_tx (struct net_device *dev);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#119: FILE: drivers/net/dl2k.c:110:
+static void rx_poll (unsigned long data);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#120: FILE: drivers/net/dl2k.c:111:
+static void refill_rx (struct net_device *dev);

CHECK:SPACING: No space is necessary after a cast
#128: FILE: drivers/net/dl2k.c:184:
+	tasklet_init(&np->tx_tasklet, tx_poll, (unsigned long) dev);

CHECK:SPACING: No space is necessary after a cast
#129: FILE: drivers/net/dl2k.c:185:
+	tasklet_init(&np->rx_tasklet, rx_poll, (unsigned long) dev);

CHECK:SPACING: No space is necessary after a cast
#163: FILE: drivers/net/dl2k.c:377:
+		((u16 *) sromdata)[i] = cpu_to_le16 (read_eeprom (ioaddr, i));

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#163: FILE: drivers/net/dl2k.c:377:
+		((u16 *) sromdata)[i] = cpu_to_le16 (read_eeprom (ioaddr, i));

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#195: FILE: drivers/net/dl2k.c:574:
+	printk (KERN_INFO "%s: Tx timed out (%4.4x), "

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#195: FILE: drivers/net/dl2k.c:574:
+	printk (KERN_INFO "%s: Tx timed out (%4.4x), "

WARNING:SPLIT_STRING: quoted string split across lines
#196: FILE: drivers/net/dl2k.c:575:
+	printk (KERN_INFO "%s: Tx timed out (%4.4x), "
+			"clean up tx queue to restart..\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PREFER_PR_LEVEL: Prefer [subsystem eg: netdev]_info([subsystem]dev, ... then dev_info(dev, ... then pr_info(...  to printk(KERN_INFO ...
#199: FILE: drivers/net/dl2k.c:577:
+	printk (KERN_INFO "%s: cur_tx=%lx cur_task=%lx old_tx=%lx "

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#199: FILE: drivers/net/dl2k.c:577:
+	printk (KERN_INFO "%s: cur_tx=%lx cur_task=%lx old_tx=%lx "

WARNING:SPLIT_STRING: quoted string split across lines
#200: FILE: drivers/net/dl2k.c:578:
+	printk (KERN_INFO "%s: cur_tx=%lx cur_task=%lx old_tx=%lx "
+			"TFDListPtr=%08x tx_full=%d",

CHECK:CAMELCASE: Avoid CamelCase: <TFDListPtr0>
#202: FILE: drivers/net/dl2k.c:580:
+			readl(ioaddr + TFDListPtr0),

CHECK:CAMELCASE: Avoid CamelCase: <IntEnable>
#204: FILE: drivers/net/dl2k.c:582:
+	writew(0, ioaddr + IntEnable);

CHECK:CAMELCASE: Avoid CamelCase: <TFDListPtr1>
#206: FILE: drivers/net/dl2k.c:584:
+	writew(0, ioaddr + TFDListPtr1);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#229: FILE: drivers/net/dl2k.c:653:
+static void tx_poll (unsigned long data)

CHECK:SPACING: No space is necessary after a cast
#231: FILE: drivers/net/dl2k.c:655:
+	struct net_device *dev = (struct net_device*) data;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#231: FILE: drivers/net/dl2k.c:655:
+	struct net_device *dev = (struct net_device*) data;

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:UNSPECIFIED_INT: Prefer 'unsigned int' to bare use of 'unsigned'
#233: FILE: drivers/net/dl2k.c:657:
+	unsigned head = np->cur_task % TX_RING_SIZE;

ERROR:TRAILING_WHITESPACE: trailing whitespace
#234: FILE: drivers/net/dl2k.c:658:
+^Istruct netdev_desc *txdesc = $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:CAMELCASE: Avoid CamelCase: <TxDMAIndicate>
#238: FILE: drivers/net/dl2k.c:662:
+	txdesc->status |= cpu_to_le64 (TxDMAIndicate);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#239: FILE: drivers/net/dl2k.c:663:
+^I$

CHECK:CAMELCASE: Avoid CamelCase: <TFDDone>
#243: FILE: drivers/net/dl2k.c:666:
+		txdesc->status &= cpu_to_le64 (~TFDDone);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#247: FILE: drivers/net/dl2k.c:670:
+	if (readl (dev->base_addr + TFDListPtr0) == 0) {

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#248: FILE: drivers/net/dl2k.c:671:
+		writel (np->tx_ring_dma + head * sizeof (struct netdev_desc),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#248: FILE: drivers/net/dl2k.c:671:
+		writel (np->tx_ring_dma + head * sizeof (struct netdev_desc),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#250: FILE: drivers/net/dl2k.c:673:
+		writel (0, dev->base_addr + TFDListPtr1);

WARNING:RETURN_VOID: void function return statements are not generally useful
#254: FILE: drivers/net/dl2k.c:677:
+	return;
+}

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#266: FILE: drivers/net/dl2k.c:718:
+		 * this descriptor */

The comment style is incorrect.  The preferred style for multi-
line comments is::

  /*
  * This is the preferred style
  * for multi line comments.
  */

The networking comment style is a bit different, with the first line
not empty like the former::

  /* This is the preferred comment style
  * for files in net/ and drivers/net/
  */

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#commenting

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#267: FILE: drivers/net/dl2k.c:719:
+		netif_stop_queue (dev);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#268: FILE: drivers/net/dl2k.c:720:
+^I^Itxdesc->status = cpu_to_le64 (entry | tfc_vlan_tag | $

CHECK:CAMELCASE: Avoid CamelCase: <DMACtrl>
#276: FILE: drivers/net/dl2k.c:725:
+		writel(readl(ioaddr + DMACtrl) | 0x00001000, ioaddr + DMACtrl);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#277: FILE: drivers/net/dl2k.c:726:
+		if (readl (dev->base_addr + TFDListPtr0) == 0) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#278: FILE: drivers/net/dl2k.c:727:
+^I^I^Iwritel (np->tx_ring_dma + $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#278: FILE: drivers/net/dl2k.c:727:
+			writel (np->tx_ring_dma + 

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#279: FILE: drivers/net/dl2k.c:728:
+				entry * sizeof (struct netdev_desc),

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#281: FILE: drivers/net/dl2k.c:730:
+			writel (0, dev->base_addr + TFDListPtr1);

CHECK:MULTIPLE_ASSIGNMENTS: multiple assignments should be avoided
#283: FILE: drivers/net/dl2k.c:732:
+		np->cur_tx = np->cur_task = (np->cur_tx + 1) % TX_RING_SIZE;

Multiple assignments on a single line makes the code unnecessarily
complicated. So on a single line assign value to a single variable
only, this makes the code more readable and helps avoid typos.

WARNING:MEMORY_BARRIER: memory barrier without comment
#286: FILE: drivers/net/dl2k.c:735:
+		mb();

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#301: FILE: drivers/net/dl2k.c:739:
+		tasklet_schedule (&np->tx_tasklet);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#307: FILE: drivers/net/dl2k.c:745:
+			netif_stop_queue (dev);

CHECK:LINE_SPACING: Please don't use multiple blank lines
#318: FILE: drivers/net/dl2k.c:749:
 
+

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:CAMELCASE: Avoid CamelCase: <RxDMAComplete>
#328: FILE: drivers/net/dl2k.c:775:
+		if (int_status & RxDMAComplete) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#329: FILE: drivers/net/dl2k.c:776:
+^I^I^Iwritew(DEFAULT_INTR & ~(RxDMAComplete | RxComplete), $

CHECK:CAMELCASE: Avoid CamelCase: <RxComplete>
#329: FILE: drivers/net/dl2k.c:776:
+			writew(DEFAULT_INTR & ~(RxDMAComplete | RxComplete), 

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#330: FILE: drivers/net/dl2k.c:777:
+			writew(DEFAULT_INTR & ~(RxDMAComplete | RxComplete), 
+					ioaddr + IntEnable);

WARNING:BRACES: braces {} are not necessary for single statement blocks
#331: FILE: drivers/net/dl2k.c:778:
+			if (np->budget < 0) {
+				np->budget = RX_BUDGET;
+			}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#334: FILE: drivers/net/dl2k.c:781:
+			tasklet_schedule (&np->rx_tasklet);

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#338: FILE: drivers/net/dl2k.c:784:
+		if ((int_status & (TxDMAComplete|IntRequested|TxComplete))) {
 		                                ^

CHECK:SPACING: spaces preferred around that '|' (ctx:VxV)
#338: FILE: drivers/net/dl2k.c:784:
+		if ((int_status & (TxDMAComplete|IntRequested|TxComplete))) {
 		                                             ^

CHECK:CAMELCASE: Avoid CamelCase: <TxDMAComplete>
#338: FILE: drivers/net/dl2k.c:784:
+		if ((int_status & (TxDMAComplete|IntRequested|TxComplete))) {

CHECK:CAMELCASE: Avoid CamelCase: <IntRequested>
#338: FILE: drivers/net/dl2k.c:784:
+		if ((int_status & (TxDMAComplete|IntRequested|TxComplete))) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#345: FILE: drivers/net/dl2k.c:790:
+^I^I^Irio_free_tx (dev);^I^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#345: FILE: drivers/net/dl2k.c:790:
+			rio_free_tx (dev);		

CHECK:CAMELCASE: Avoid CamelCase: <CountDown>
#355: FILE: drivers/net/dl2k.c:798:
+	writel(5000, ioaddr + CountDown);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#361: FILE: drivers/net/dl2k.c:803:
+rio_free_tx (struct net_device *dev) $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#361: FILE: drivers/net/dl2k.c:803:
+rio_free_tx (struct net_device *dev) 

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 16)
#401: FILE: drivers/net/dl2k.c:846:
+		if (netif_queue_stopped(dev) &&
[...]
 		netif_wake_queue (dev);

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#402: FILE: drivers/net/dl2k.c:847:
+		if (netif_queue_stopped(dev) &&
 	    ((np->cur_tx - np->old_tx + TX_RING_SIZE) % TX_RING_SIZE 

ERROR:ELSE_AFTER_BRACE: else should follow close brace '}'
#408: FILE: drivers/net/dl2k.c:852:
 	}
+	else {

`else {` should follow the closing block `}` on the same line.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:BRACES: Unbalanced braces around else statement
#408: FILE: drivers/net/dl2k.c:852:
+	else {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#409: FILE: drivers/net/dl2k.c:853:
+^I^Iif (netif_queue_stopped(dev) && $

WARNING:SUSPECT_CODE_INDENT: suspect code indent for conditional statements (16, 16)
#409: FILE: drivers/net/dl2k.c:853:
+		if (netif_queue_stopped(dev) && 
[...]
+		netif_wake_queue(dev);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#410: FILE: drivers/net/dl2k.c:854:
+^I    ^I^Inp->cur_tx == np->old_tx) $

ERROR:CODE_INDENT: code indent should use tabs where possible
#410: FILE: drivers/net/dl2k.c:854:
+^I    ^I^Inp->cur_tx == np->old_tx) $

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#410: FILE: drivers/net/dl2k.c:854:
+^I    ^I^Inp->cur_tx == np->old_tx) $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#410: FILE: drivers/net/dl2k.c:854:
+		if (netif_queue_stopped(dev) && 
+	    		np->cur_tx == np->old_tx) 

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#422: FILE: drivers/net/dl2k.c:888:
+		rio_free_tx (dev);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#433: FILE: drivers/net/dl2k.c:922:
+static void rx_poll (unsigned long data)

CHECK:SPACING: No space is necessary after a cast
#436: FILE: drivers/net/dl2k.c:924:
+	struct net_device *dev = (struct net_device*) data;

ERROR:POINTER_LOCATION: "(foo*)" should be "(foo *)"
#436: FILE: drivers/net/dl2k.c:924:
+	struct net_device *dev = (struct net_device*) data;

CHECK:SPACING: No space is necessary after a cast
#437: FILE: drivers/net/dl2k.c:925:
+	struct netdev_private *np = (struct netdev_private *) dev->priv;

CHECK:CAMELCASE: Avoid CamelCase: <RFDDone>
#464: FILE: drivers/net/dl2k.c:945:
+		if (!(desc->status & RFDDone) ||

CHECK:CAMELCASE: Avoid CamelCase: <FrameStart>
#465: FILE: drivers/net/dl2k.c:946:
+		    !(desc->status & FrameStart) || !(desc->status & FrameEnd))

CHECK:CAMELCASE: Avoid CamelCase: <FrameEnd>
#465: FILE: drivers/net/dl2k.c:946:
+		    !(desc->status & FrameStart) || !(desc->status & FrameEnd))

ERROR:TRAILING_WHITESPACE: trailing whitespace
#467: FILE: drivers/net/dl2k.c:948:
+^I^I$

CHECK:LINE_SPACING: Please don't use multiple blank lines
#468: FILE: drivers/net/dl2k.c:949:
+		
+

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#469: FILE: drivers/net/dl2k.c:950:
+		pci_dma_sync_single_for_device (np->pdev, desc->fraginfo,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#471: FILE: drivers/net/dl2k.c:951:
+		pci_dma_sync_single_for_device (np->pdev, desc->fraginfo,
+				     PCI_DMA_FROMDEVICE);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#483: FILE: drivers/net/dl2k.c:1008:
+	refill_rx (dev);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#485: FILE: drivers/net/dl2k.c:1010:
+	writew (DEFAULT_INTR, ioaddr + IntEnable);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#487: FILE: drivers/net/dl2k.c:1012:
+^I$

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#489: FILE: drivers/net/dl2k.c:1014:
+	refill_rx (dev);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#495: FILE: drivers/net/dl2k.c:1020:
+	tasklet_schedule (&np->rx_tasklet);

WARNING:RETURN_VOID: void function return statements are not generally useful
#497: FILE: drivers/net/dl2k.c:1022:
+	return;
+}

ERROR:TRAILING_WHITESPACE: trailing whitespace
#499: FILE: drivers/net/dl2k.c:1024:
+static void refill_rx (struct net_device *dev) $

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#499: FILE: drivers/net/dl2k.c:1024:
+static void refill_rx (struct net_device *dev) 

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#582: FILE: drivers/net/dl2k.c:1893:
+	tasklet_kill (&np->tx_tasklet);

WARNING:SPACING: space prohibited between function name and open parenthesis '('
#583: FILE: drivers/net/dl2k.c:1894:
+	tasklet_kill (&np->rx_tasklet);

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.61406.commit.555e5cc20a9f718ed449d6750a7b8b80fbd2cfba total: 21 errors, 48 warnings, 34 checks, 510 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.61406.commit.555e5cc20a9f718ed449d6750a7b8b80fbd2cfba has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
