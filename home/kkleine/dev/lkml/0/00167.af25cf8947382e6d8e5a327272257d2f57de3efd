CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#87: FILE: block/ll_rw_blk.c:1320:
+int blk_rq_map_sg_bidi(request_queue_t *q, struct request *rq,
+	struct scatterlist *sg, enum dma_data_direction dir)

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#93: FILE: block/ll_rw_blk.c:1325:
+	struct request_io_part* req_io = rq_io(rq, dir);

When using pointer data or a function that returns a pointer type,
the preferred use of * is adjacent to the data name or function name
and not adjacent to the type name.
Examples::

  char *linux_banner;
  unsigned long long memparse(char *ptr, char **retptr);
  char *match_strdup(substring_t *s);

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#133: FILE: block/ll_rw_blk.c:2588:
+int blk_rq_map_kern_bidi(request_queue_t *q, struct request *rq, void *kbuf,
+	unsigned int len, gfp_t gfp_mask, enum dma_data_direction dir)

ERROR:SPACING: space prohibited before that ',' (ctx:WxV)
#146: FILE: block/ll_rw_blk.c:2604:
+	blk_rq_bio_prep_bidi(q, rq, bio ,dir);
 	                                ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:WxV)
#146: FILE: block/ll_rw_blk.c:2604:
+	blk_rq_bio_prep_bidi(q, rq, bio ,dir);
 	                                ^

ERROR:SPACING: space prohibited after that open parenthesis '('
#164: FILE: block/ll_rw_blk.c:2622:
+	return blk_rq_map_kern_bidi( q, rq, kbuf, len, gfp_mask, rq->data_dir);

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#180: FILE: block/ll_rw_blk.c:3392:
+	struct request_io_part* req_io = rq_io(req, dir);

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#198: FILE: block/ll_rw_blk.c:3516:
+	return end_that_request_chunk(req, uptodate, nr_sectors << 9);
 	                                   ^^^^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#209: FILE: block/ll_rw_blk.c:3540:
+	return __end_that_request_first(req, uptodate, nr_bytes,
 	                                     ^^^^^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#218: FILE: block/ll_rw_blk.c:3549:
+	struct bio *next, *bio = req_io->bio;
+	req_io->bio = NULL;

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#230: FILE: block/ll_rw_blk.c:3561:
+ * @uptodate: 1 for success, 0 for I/O error, < 0 for specific error
     ^^^^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#235: FILE: block/ll_rw_blk.c:3566:
+void end_that_request_block(struct request *req, int uptodate)
                                                      ^^^^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#239: FILE: block/ll_rw_blk.c:3570:
+		if (end_io_error(uptodate))
 		                 ^^^^^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#239: FILE: block/ll_rw_blk.c:3570:
+		int error = 0;
+		if (end_io_error(uptodate))

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#240: FILE: block/ll_rw_blk.c:3571:
+			error = !uptodate ? -EIO : uptodate;
 			         ^^^^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#240: FILE: block/ll_rw_blk.c:3571:
+			error = !uptodate ? -EIO : uptodate;
 			                           ^^^^^^^^

WARNING:TYPO_SPELLING: 'bookeeping' may be misspelled - perhaps 'bookkeeping'?
#246: FILE: block/ll_rw_blk.c:3577:
+	} else { /* needs elevator bookeeping */
 	                           ^^^^^^^^^^

WARNING:LINE_SPACING: Missing a blank line after declarations
#248: FILE: block/ll_rw_blk.c:3579:
+		int nr_bytes = req->uni.hard_nr_sectors << 9;
+		if (!nr_bytes)

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#250: FILE: block/ll_rw_blk.c:3581:
+		end_that_request_chunk(req, uptodate, nr_bytes);
 		                            ^^^^^^^^

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#254: FILE: block/ll_rw_blk.c:3585:
+EXPORT_SYMBOL(end_that_request_block);

EXPORT_SYMBOL should immediately follow the symbol to be exported.

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#264: FILE: block/ll_rw_blk.c:3715:
+void blk_rq_bio_prep_bidi(request_queue_t *q, struct request *rq,
+	struct bio *bio, enum dma_data_direction dir)

WARNING:EXPORT_SYMBOL: EXPORT_SYMBOL(foo); should immediately follow its function/variable
#270: FILE: block/ll_rw_blk.c:3721:
+EXPORT_SYMBOL(blk_rq_bio_prep_bidi);

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#291: FILE: include/linux/blkdev.h:603:
+static inline struct request_io_part* rq_in(struct request* req)

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#291: FILE: include/linux/blkdev.h:603:
+static inline struct request_io_part* rq_in(struct request* req)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#298: FILE: include/linux/blkdev.h:610:
+^I^Ireturn &req->bidi_read;^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#303: FILE: include/linux/blkdev.h:615:
+static inline struct request_io_part* rq_io(struct request* req, enum dma_data_direction dir)

ERROR:POINTER_LOCATION: "foo* bar" should be "foo *bar"
#303: FILE: include/linux/blkdev.h:615:
+static inline struct request_io_part* rq_io(struct request* req, enum dma_data_direction dir)

ERROR:SPACING: space prohibited after that open parenthesis '('
#308: FILE: include/linux/blkdev.h:620:
+	WARN_ON( (dir != DMA_TO_DEVICE) && (dir != DMA_NONE) );

ERROR:SPACING: space prohibited before that close parenthesis ')'
#308: FILE: include/linux/blkdev.h:620:
+	WARN_ON( (dir != DMA_TO_DEVICE) && (dir != DMA_NONE) );

WARNING:TYPO_SPELLING: 'parial' may be misspelled - perhaps 'partial'?
#333: FILE: include/linux/blkdev.h:797:
+ * can be called for parial bidi allocation and cleanup.
                      ^^^^^^

WARNING:TYPO_SPELLING: 'uptodate' may be misspelled - perhaps 'up-to-date'?
#335: FILE: include/linux/blkdev.h:799:
+extern void end_that_request_block(struct request *req, int uptodate);
                                                             ^^^^^^^^

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#335: FILE: include/linux/blkdev.h:799:
+extern void end_that_request_block(struct request *req, int uptodate);

Function prototypes don't need to be declared extern in .h
files.  It's assumed by the compiler and is unnecessary.

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#350: FILE: include/linux/blkdev.h:885:
+extern void blk_rq_bio_prep_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'request_queue_t *' should also have an identifier name
#350: FILE: include/linux/blkdev.h:885:
+extern void blk_rq_bio_prep_bidi(request_queue_t *, struct request *,

This warning is emitted due to any of the following reasons:

  1. Arguments for the function declaration do not follow
     the identifier name.  Example::

       void foo
       (int bar, int baz)

     This should be corrected to::

       void foo(int bar, int baz)

  2. Some arguments for the function definition do not
     have an identifier name.  Example::

       void foo(int)

     All arguments should have identifier names.

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct request *' should also have an identifier name
#350: FILE: include/linux/blkdev.h:885:
+extern void blk_rq_bio_prep_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct bio *' should also have an identifier name
#350: FILE: include/linux/blkdev.h:885:
+extern void blk_rq_bio_prep_bidi(request_queue_t *, struct request *,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#351: FILE: include/linux/blkdev.h:886:
+extern void blk_rq_bio_prep_bidi(request_queue_t *, struct request *,
+	struct bio *, enum dma_data_direction);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#352: FILE: include/linux/blkdev.h:887:
+extern int blk_rq_map_kern_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'request_queue_t *' should also have an identifier name
#352: FILE: include/linux/blkdev.h:887:
+extern int blk_rq_map_kern_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct request *' should also have an identifier name
#352: FILE: include/linux/blkdev.h:887:
+extern int blk_rq_map_kern_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'void *' should also have an identifier name
#352: FILE: include/linux/blkdev.h:887:
+extern int blk_rq_map_kern_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'unsigned int' should also have an identifier name
#352: FILE: include/linux/blkdev.h:887:
+extern int blk_rq_map_kern_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'gfp_t' should also have an identifier name
#352: FILE: include/linux/blkdev.h:887:
+extern int blk_rq_map_kern_bidi(request_queue_t *, struct request *,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#353: FILE: include/linux/blkdev.h:888:
+extern int blk_rq_map_kern_bidi(request_queue_t *, struct request *,
+	void *, unsigned int, gfp_t, enum dma_data_direction);

CHECK:AVOID_EXTERNS: extern prototypes should be avoided in .h files
#357: FILE: include/linux/blkdev.h:892:
+extern int blk_rq_map_sg_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'request_queue_t *' should also have an identifier name
#357: FILE: include/linux/blkdev.h:892:
+extern int blk_rq_map_sg_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct request *' should also have an identifier name
#357: FILE: include/linux/blkdev.h:892:
+extern int blk_rq_map_sg_bidi(request_queue_t *, struct request *,

WARNING:FUNCTION_ARGUMENTS: function definition argument 'struct scatterlist *' should also have an identifier name
#357: FILE: include/linux/blkdev.h:892:
+extern int blk_rq_map_sg_bidi(request_queue_t *, struct request *,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#358: FILE: include/linux/blkdev.h:893:
+extern int blk_rq_map_sg_bidi(request_queue_t *, struct request *,
+	struct scatterlist *, enum dma_data_direction);

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.00167.commit.af25cf8947382e6d8e5a327272257d2f57de3efd total: 12 errors, 27 warnings, 10 checks, 291 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.00167.commit.af25cf8947382e6d8e5a327272257d2f57de3efd has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
