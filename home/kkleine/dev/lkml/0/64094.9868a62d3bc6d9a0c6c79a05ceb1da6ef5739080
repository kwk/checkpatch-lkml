WARNING:LONG_LINE: line length of 121 exceeds 100 columns
#94: FILE: drivers/char/istallion.c:691:
+static void	__stli_sendcmd(stlibrd_t *brdp, stliport_t *portp, unsigned long cmd, void *arg, int size, int copyback);

The line has exceeded the specified maximum length.
To use a different maximum line length, the --max-line-length=n option
may be added while invoking checkpatch.

Earlier, the default line length was 80 columns.  Commit bdc48fa11e46
("checkpatch/coding-style: deprecate 80-column warning") increased the
limit to 100 columns.  This is not a hard limit either and it's
preferable to stay within 80 columns whenever possible.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#breaking-long-lines-and-strings

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#167: FILE: drivers/char/istallion.c:842:
+		if ((brdp = stli_brds[i]) == NULL)

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp"
#173: FILE: drivers/char/istallion.c:846:
+			if (portp != NULL) {

Comparisons to NULL in the form (foo == NULL) or (foo != NULL)
are better written as (!foo) and (foo).

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tty"
#174: FILE: drivers/char/istallion.c:847:
+				if (portp->tty != NULL)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#210: FILE: drivers/char/istallion.c:880:
+		if ((brdp = stli_allocbrd()) == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!argp[0]"
#242: FILE: drivers/char/istallion.c:938:
+	if (argp[0] == NULL || *argp[0] == 0)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "argp[1]"
#252: FILE: drivers/char/istallion.c:954:
+	if (argp[1] != NULL && *argp[1] != 0)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "argp[2]"
#255: FILE: drivers/char/istallion.c:956:
+	if (argp[2] !=  NULL && *argp[2] != 0)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#285: FILE: drivers/char/istallion.c:977:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#298: FILE: drivers/char/istallion.c:986:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#375: FILE: drivers/char/istallion.c:1067:
+	if (portp == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#399: FILE: drivers/char/istallion.c:1094:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#452: FILE: drivers/char/istallion.c:1158:
+	if (tty == NULL)

CHECK:SPACING: No space is necessary after a cast
#525: FILE: drivers/char/istallion.c:1219:
+	cp = &((cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr))->ctrl;

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#528: FILE: drivers/char/istallion.c:1222:
+	hdrp = (cdkhdr_t __iomem *) EBRDGETMEMPTR(brdp, CDK_CDKADDR);

CHECK:SPACING: No space is necessary after a cast
#529: FILE: drivers/char/istallion.c:1223:
+	bits = ((unsigned char __iomem *) hdrp) + brdp->slaveoffset +

CHECK:SPACING: No space is necessary after a cast
#606: FILE: drivers/char/istallion.c:1284:
+	cp = &((cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr))->ctrl;

CHECK:SPACING: No space is necessary after a cast
#609: FILE: drivers/char/istallion.c:1287:
+	hdrp = (cdkhdr_t __iomem *) EBRDGETMEMPTR(brdp, CDK_CDKADDR);

CHECK:SPACING: No space is necessary after a cast
#610: FILE: drivers/char/istallion.c:1288:
+	bits = ((unsigned char __iomem *) hdrp) + brdp->slaveoffset +

CHECK:SPACING: spaces preferred around that '|' (ctx:WxV)
#613: FILE: drivers/char/istallion.c:1290:
+	writeb(readb(bits) |portp->portbit, bits);
 	                   ^

ERROR:TRAILING_WHITESPACE: trailing whitespace
#622: FILE: drivers/char/istallion.c:1295:
+^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#701: FILE: drivers/char/istallion.c:1354:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp->tty"
#703: FILE: drivers/char/istallion.c:1356:
+	if (portp->tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#710: FILE: drivers/char/istallion.c:1361:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#796: FILE: drivers/char/istallion.c:1448:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#804: FILE: drivers/char/istallion.c:1453:
+	if (brdp == NULL)

CHECK:SPACING: No space is necessary after a cast
#820: FILE: drivers/char/istallion.c:1462:
+	ap = (cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr);

CHECK:SPACING: No space is necessary after a cast
#821: FILE: drivers/char/istallion.c:1463:
+	head = (unsigned int) readw(&ap->txq.head);

CHECK:SPACING: No space is necessary after a cast
#822: FILE: drivers/char/istallion.c:1464:
+	tail = (unsigned int) readw(&ap->txq.tail);

CHECK:SPACING: No space is necessary after a cast
#823: FILE: drivers/char/istallion.c:1465:
+	if (tail != ((unsigned int) readw(&ap->txq.tail)))

CHECK:SPACING: No space is necessary after a cast
#824: FILE: drivers/char/istallion.c:1466:
+		tail = (unsigned int) readw(&ap->txq.tail);

CHECK:SPACING: No space is necessary after a cast
#833: FILE: drivers/char/istallion.c:1478:
+	shbuf = (char __iomem *) EBRDGETMEMPTR(brdp, portp->txoffset);

CHECK:SPACING: No space is necessary after a cast
#848: FILE: drivers/char/istallion.c:1493:
+	ap = (cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr);

CHECK:SPACING: No space is necessary after a cast
#858: FILE: drivers/char/istallion.c:1499:
+	hdrp = (cdkhdr_t __iomem *) EBRDGETMEMPTR(brdp, CDK_CDKADDR);

CHECK:SPACING: No space is necessary after a cast
#859: FILE: drivers/char/istallion.c:1500:
+	bits = ((unsigned char __iomem *) hdrp) + brdp->slaveoffset +

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "stli_txcooktty"
#883: FILE: drivers/char/istallion.c:1523:
+		if (stli_txcooktty != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#923: FILE: drivers/char/istallion.c:1560:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!cooktty"
#926: FILE: drivers/char/istallion.c:1562:
+	if (cooktty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#935: FILE: drivers/char/istallion.c:1570:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#941: FILE: drivers/char/istallion.c:1575:
+	if (brdp == NULL)

CHECK:SPACING: No space is necessary after a cast
#954: FILE: drivers/char/istallion.c:1581:
+	ap = (cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr);

CHECK:SPACING: No space is necessary after a cast
#955: FILE: drivers/char/istallion.c:1582:
+	head = (unsigned int) readw(&ap->txq.head);

CHECK:SPACING: No space is necessary after a cast
#956: FILE: drivers/char/istallion.c:1583:
+	tail = (unsigned int) readw(&ap->txq.tail);

CHECK:SPACING: No space is necessary after a cast
#957: FILE: drivers/char/istallion.c:1584:
+	if (tail != ((unsigned int) readw(&ap->txq.tail)))

CHECK:SPACING: No space is necessary after a cast
#958: FILE: drivers/char/istallion.c:1585:
+		tail = (unsigned int) readw(&ap->txq.tail);

CHECK:SPACING: No space is necessary after a cast
#977: FILE: drivers/char/istallion.c:1613:
+	ap = (cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr);

CHECK:SPACING: No space is necessary after a cast
#988: FILE: drivers/char/istallion.c:1620:
+	hdrp = (cdkhdr_t __iomem *) EBRDGETMEMPTR(brdp, CDK_CDKADDR);

CHECK:SPACING: No space is necessary after a cast
#989: FILE: drivers/char/istallion.c:1621:
+	bits = ((unsigned char __iomem *) hdrp) + brdp->slaveoffset +

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1032: FILE: drivers/char/istallion.c:1648:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1040: FILE: drivers/char/istallion.c:1653:
+	if (brdp == NULL)

CHECK:SPACING: No space is necessary after a cast
#1052: FILE: drivers/char/istallion.c:1658:
+	rp = &((cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr))->txq;

CHECK:SPACING: No space is necessary after a cast
#1053: FILE: drivers/char/istallion.c:1659:
+	head = (unsigned int) readw(&rp->head);

CHECK:SPACING: No space is necessary after a cast
#1054: FILE: drivers/char/istallion.c:1660:
+	tail = (unsigned int) readw(&rp->tail);

CHECK:SPACING: No space is necessary after a cast
#1055: FILE: drivers/char/istallion.c:1661:
+	if (tail != ((unsigned int) readw(&rp->tail)))

CHECK:SPACING: No space is necessary after a cast
#1056: FILE: drivers/char/istallion.c:1662:
+		tail = (unsigned int) readw(&rp->tail);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1098: FILE: drivers/char/istallion.c:1696:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1106: FILE: drivers/char/istallion.c:1701:
+	if (brdp == NULL)

CHECK:SPACING: No space is necessary after a cast
#1118: FILE: drivers/char/istallion.c:1706:
+	rp = &((cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr))->txq;

CHECK:SPACING: No space is necessary after a cast
#1119: FILE: drivers/char/istallion.c:1707:
+	head = (unsigned int) readw(&rp->head);

CHECK:SPACING: No space is necessary after a cast
#1120: FILE: drivers/char/istallion.c:1708:
+	tail = (unsigned int) readw(&rp->tail);

CHECK:SPACING: No space is necessary after a cast
#1121: FILE: drivers/char/istallion.c:1709:
+	if (tail != ((unsigned int) readw(&rp->tail)))

CHECK:SPACING: No space is necessary after a cast
#1122: FILE: drivers/char/istallion.c:1710:
+		tail = (unsigned int) readw(&rp->tail);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "brdp"
#1155: FILE: drivers/char/istallion.c:1744:
+	if (brdp != NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1202: FILE: drivers/char/istallion.c:1794:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1209: FILE: drivers/char/istallion.c:1799:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1230: FILE: drivers/char/istallion.c:1818:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1237: FILE: drivers/char/istallion.c:1823:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1271: FILE: drivers/char/istallion.c:1852:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1278: FILE: drivers/char/istallion.c:1857:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#1316: FILE: drivers/char/istallion.c:1927:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1320: FILE: drivers/char/istallion.c:1930:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1327: FILE: drivers/char/istallion.c:1935:
+	if (brdp == NULL)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1343: FILE: drivers/char/istallion.c:1969:
+	stliport_t	*portp = tty->driver_data;
+	if (portp == NULL)

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1343: FILE: drivers/char/istallion.c:1969:
+	if (portp == NULL)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1367: FILE: drivers/char/istallion.c:1985:
+	stliport_t	*portp = tty->driver_data;
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1367: FILE: drivers/char/istallion.c:1985:
+	if (portp == NULL)

CHECK:SPACING: No space is necessary after a cast
#1465: FILE: drivers/char/istallion.c:2023:
+	stliport_t *portp = (stliport_t *) arg;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1466: FILE: drivers/char/istallion.c:2024:
+	stliport_t *portp = (stliport_t *) arg;
+	if (portp->tty != NULL) {

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1466: FILE: drivers/char/istallion.c:2024:
+	if (portp->tty != NULL) {
+		tty_hangup(portp->tty);
 	}

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tty"
#1466: FILE: drivers/char/istallion.c:2024:
+	if (portp->tty != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1490: FILE: drivers/char/istallion.c:2045:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1497: FILE: drivers/char/istallion.c:2050:
+	if (brdp == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1526: FILE: drivers/char/istallion.c:2078:
+^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1549: FILE: drivers/char/istallion.c:2098:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1556: FILE: drivers/char/istallion.c:2103:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1601: FILE: drivers/char/istallion.c:2135:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1608: FILE: drivers/char/istallion.c:2140:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#1642: FILE: drivers/char/istallion.c:2154:
+	if (tty == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1646: FILE: drivers/char/istallion.c:2157:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1662: FILE: drivers/char/istallion.c:2182:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1669: FILE: drivers/char/istallion.c:2187:
+	if (brdp == NULL)

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1698: FILE: drivers/char/istallion.c:2222:
+		case 0:	uart = "2681"; break;

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1699: FILE: drivers/char/istallion.c:2223:
+		case 1:	uart = "SC26198"; break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#1700: FILE: drivers/char/istallion.c:2224:
+		default:uart = "CD1400"; break;

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#1732: FILE: drivers/char/istallion.c:2300:
+		if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#1741: FILE: drivers/char/istallion.c:2315:
+			if (portp == NULL)

WARNING:LONG_LINE: line length of 116 exceeds 100 columns
#1755: FILE: drivers/char/istallion.c:2347:
+static void __stli_sendcmd(stlibrd_t *brdp, stliport_t *portp, unsigned long cmd, void *arg, int size, int copyback)

CHECK:SPACING: No space is necessary after a cast
#1786: FILE: drivers/char/istallion.c:2364:
+	cp = &((cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr))->ctrl;

CHECK:SPACING: No space is necessary after a cast
#1789: FILE: drivers/char/istallion.c:2366:
+		memcpy_toio((void __iomem *) &(cp->args[0]), arg, size);

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around cp->args[0]
#1789: FILE: drivers/char/istallion.c:2366:
+		memcpy_toio((void __iomem *) &(cp->args[0]), arg, size);

Parentheses are not required in the following cases:

  1. Function pointer uses::

      (foo->bar)();

    could be::

      foo->bar();

  2. Comparisons in if::

      if ((foo->bar) && (foo->baz))
      if ((foo == bar))

    could be::

      if (foo->bar && foo->baz)
      if (foo == bar)

  3. addressof/dereference single Lvalues::

      &(foo->bar)
      *(foo->bar)

    could be::

      &foo->bar
      *foo->bar

CHECK:SPACING: No space is necessary after a cast
#1801: FILE: drivers/char/istallion.c:2374:
+	hdrp = (cdkhdr_t __iomem *) EBRDGETMEMPTR(brdp, CDK_CDKADDR);

CHECK:SPACING: No space is necessary after a cast
#1802: FILE: drivers/char/istallion.c:2375:
+	bits = ((unsigned char __iomem *) hdrp) + brdp->slaveoffset +

WARNING:LONG_LINE: line length of 114 exceeds 100 columns
#1812: FILE: drivers/char/istallion.c:2383:
+static void stli_sendcmd(stlibrd_t *brdp, stliport_t *portp, unsigned long cmd, void *arg, int size, int copyback)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!tty"
#1845: FILE: drivers/char/istallion.c:2413:
+	if (tty == NULL)

CHECK:SPACING: No space is necessary after a cast
#1853: FILE: drivers/char/istallion.c:2416:
+	rp = &((cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr))->rxq;

CHECK:SPACING: No space is necessary after a cast
#1854: FILE: drivers/char/istallion.c:2417:
+	head = (unsigned int) readw(&rp->head);

CHECK:SPACING: No space is necessary after a cast
#1855: FILE: drivers/char/istallion.c:2418:
+	if (head != ((unsigned int) readw(&rp->head)))

CHECK:SPACING: No space is necessary after a cast
#1856: FILE: drivers/char/istallion.c:2419:
+		head = (unsigned int) readw(&rp->head);

CHECK:SPACING: No space is necessary after a cast
#1857: FILE: drivers/char/istallion.c:2420:
+	tail = (unsigned int) readw(&rp->tail);

CHECK:SPACING: No space is necessary after a cast
#1868: FILE: drivers/char/istallion.c:2432:
+	shbuf = (char __iomem *) EBRDGETMEMPTR(brdp, portp->rxoffset);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#1872: FILE: drivers/char/istallion.c:2436:
+^I^I$

CHECK:SPACING: No space is necessary after a cast
#1886: FILE: drivers/char/istallion.c:2447:
+	rp = &((cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr))->rxq;

CHECK:SPACING: No space is necessary after a cast
#1908: FILE: drivers/char/istallion.c:2481:
+		memcpy_toio((void __iomem *) &(cp->args[0]), (void *) &portp->asig,

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around cp->args[0]
#1908: FILE: drivers/char/istallion.c:2481:
+		memcpy_toio((void __iomem *) &(cp->args[0]), (void *) &portp->asig,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1909: FILE: drivers/char/istallion.c:2482:
+		memcpy_toio((void __iomem *) &(cp->args[0]), (void *) &portp->asig,
 			sizeof(asysigs_t));

CHECK:SPACING: No space is necessary after a cast
#1924: FILE: drivers/char/istallion.c:2492:
+		memcpy_toio((void __iomem *) &(cp->args[0]), (void *) &cmd, sizeof(int));

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around cp->args[0]
#1924: FILE: drivers/char/istallion.c:2492:
+		memcpy_toio((void __iomem *) &(cp->args[0]), (void *) &cmd, sizeof(int));

CHECK:SPACING: No space is necessary after a cast
#1953: FILE: drivers/char/istallion.c:2521:
+	ap = (cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr);

CHECK:SPACING: No space is necessary after a cast
#1977: FILE: drivers/char/istallion.c:2543:
+		rc = (int) readl(&cp->closearg);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->argp"
#1998: FILE: drivers/char/istallion.c:2563:
+			if (portp->argp != NULL) {

CHECK:SPACING: No space is necessary after a cast
#1999: FILE: drivers/char/istallion.c:2564:
+				memcpy_fromio(portp->argp, (void __iomem *) &(cp->args[0]),

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around cp->args[0]
#1999: FILE: drivers/char/istallion.c:2564:
+				memcpy_fromio(portp->argp, (void __iomem *) &(cp->args[0]),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2000: FILE: drivers/char/istallion.c:2565:
+				memcpy_fromio(portp->argp, (void __iomem *) &(cp->args[0]),
 					portp->argsize);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "tty"
#2019: FILE: drivers/char/istallion.c:2607:
+			if (tty != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "tty"
#2028: FILE: drivers/char/istallion.c:2615:
+			if (tty != NULL) {

CHECK:SPACING: No space is necessary after a cast
#2059: FILE: drivers/char/istallion.c:2678:
+	memcpy_fromio(&hostbits[0], (((unsigned char __iomem *) hdrp) + brdp->hostoffset),

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#2060: FILE: drivers/char/istallion.c:2679:
+	memcpy_fromio(&hostbits[0], (((unsigned char __iomem *) hdrp) + brdp->hostoffset),
 		bitsize);

CHECK:SPACING: No space is necessary after a cast
#2069: FILE: drivers/char/istallion.c:2705:
+		hdrp = (cdkhdr_t __iomem *) EBRDGETMEMPTR(brdp, CDK_CDKADDR);

CHECK:SPACING: No space is necessary after a cast
#2070: FILE: drivers/char/istallion.c:2706:
+		slavep = ((unsigned char __iomem *) hdrp) + brdp->slaveoffset;

WARNING:LONG_LINE: line length of 104 exceeds 100 columns
#2075: FILE: drivers/char/istallion.c:2709:
+				writeb(readb(slavep + bitpos) & ~slavebits[bitpos], slavebits + bitpos);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#2097: FILE: drivers/char/istallion.c:2739:
+		if (brdp == NULL)

CHECK:SPACING: No space is necessary after a cast
#2106: FILE: drivers/char/istallion.c:2746:
+		hdrp = (cdkhdr_t __iomem *) EBRDGETMEMPTR(brdp, CDK_CDKADDR);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2437: FILE: drivers/char/istallion.c:3344:
+	BUG_ON(offset > brdp->memsize);

BUG() or BUG_ON() should be avoided totally.
Use WARN() and WARN_ON() instead, and handle the "impossible"
error condition as gracefully as possible.

See: https://www.kernel.org/doc/html/latest/process/deprecated.html#bug-and-bug-on

CHECK:SPACING: No space is necessary after a cast
#2450: FILE: drivers/char/istallion.c:3347:
+	val = (unsigned char) (offset / BBY_PAGESIZE);

WARNING:AVOID_BUG: Avoid crashing the kernel - try using WARN_ON & recovery code rather than BUG() or BUG_ON()
#2498: FILE: drivers/char/istallion.c:3378:
+	BUG_ON(offset > brdp->memsize);

CHECK:SPACING: No space is necessary after a cast
#2515: FILE: drivers/char/istallion.c:3388:
+	vecp = (u32 __iomem *) (brdp->membase + 0x30);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp->membase"
#2564: FILE: drivers/char/istallion.c:3496:
+	if (brdp->membase == NULL)

CHECK:SPACING: No space is necessary after a cast
#2577: FILE: drivers/char/istallion.c:3508:
+	sigsp = (cdkecpsig_t __iomem *) EBRDGETMEMPTR(brdp, CDK_SIGADDR);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp->membase"
#2681: FILE: drivers/char/istallion.c:3649:
+	if (brdp->membase == NULL)

CHECK:SPACING: No space is necessary after a cast
#2695: FILE: drivers/char/istallion.c:3661:
+	sigsp = (cdkonbsig_t __iomem *) EBRDGETMEMPTR(brdp, CDK_SIGADDR);

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2707: FILE: drivers/char/istallion.c:3665:
+^Iif (sig.magic0 != cpu_to_le16(ONB_MAGIC0) || $

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2709: FILE: drivers/char/istallion.c:3667:
+^I    sig.magic2 != cpu_to_le16(ONB_MAGIC2) || $

CHECK:SPACING: No space is necessary after a cast
#2756: FILE: drivers/char/istallion.c:3715:
+	hdrp = (cdkhdr_t __iomem *) EBRDGETMEMPTR(brdp, CDK_CDKADDR);

CHECK:SPACING: No space is necessary after a cast
#2766: FILE: drivers/char/istallion.c:3722:
+		 readb(&hdrp->ver_fix), nrdevs, (int) readl(&hdrp->memp), readl(&hdrp->hostp),

CHECK:SPACING: No space is necessary after a cast
#2785: FILE: drivers/char/istallion.c:3741:
+	memp = (cdkmem_t __iomem *) EBRDGETMEMPTR(brdp, memoff);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#2799: FILE: drivers/char/istallion.c:3757:
+		if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#2819: FILE: drivers/char/istallion.c:3775:
+		if (portp == NULL)

CHECK:SPACING: No space is necessary after a cast
#2829: FILE: drivers/char/istallion.c:3779:
+		ap = (cdkasy_t __iomem *) EBRDGETMEMPTR(brdp, portp->addr);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "ap"
#2830: FILE: drivers/char/istallion.c:3780:
+		if (ap != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp->membase"
#2930: FILE: drivers/char/istallion.c:3911:
+		if (brdp->membase == NULL)

CHECK:SPACING: No space is necessary after a cast
#2935: FILE: drivers/char/istallion.c:3915:
+			ecpsigp = (cdkecpsig_t __iomem *) stli_ecpeigetmemptr(brdp,

CHECK:SPACING: No space is necessary after a cast
#2944: FILE: drivers/char/istallion.c:3921:
+			onbsigp = (cdkonbsig_t __iomem *) stli_onbegetmemptr(brdp,

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'onbsig.magic0 == cpu_to_le16(ONB_MAGIC0)'
#2952: FILE: drivers/char/istallion.c:3924:
+			if ((onbsig.magic0 == cpu_to_le16(ONB_MAGIC0)) &&
+			    (onbsig.magic1 == cpu_to_le16(ONB_MAGIC1)) &&
+			    (onbsig.magic2 == cpu_to_le16(ONB_MAGIC2)) &&
+			    (onbsig.magic3 == cpu_to_le16(ONB_MAGIC3)))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'onbsig.magic1 == cpu_to_le16(ONB_MAGIC1)'
#2952: FILE: drivers/char/istallion.c:3924:
+			if ((onbsig.magic0 == cpu_to_le16(ONB_MAGIC0)) &&
+			    (onbsig.magic1 == cpu_to_le16(ONB_MAGIC1)) &&
+			    (onbsig.magic2 == cpu_to_le16(ONB_MAGIC2)) &&
+			    (onbsig.magic3 == cpu_to_le16(ONB_MAGIC3)))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'onbsig.magic2 == cpu_to_le16(ONB_MAGIC2)'
#2952: FILE: drivers/char/istallion.c:3924:
+			if ((onbsig.magic0 == cpu_to_le16(ONB_MAGIC0)) &&
+			    (onbsig.magic1 == cpu_to_le16(ONB_MAGIC1)) &&
+			    (onbsig.magic2 == cpu_to_le16(ONB_MAGIC2)) &&
+			    (onbsig.magic3 == cpu_to_le16(ONB_MAGIC3)))

CHECK:UNNECESSARY_PARENTHESES: Unnecessary parentheses around 'onbsig.magic3 == cpu_to_le16(ONB_MAGIC3)'
#2952: FILE: drivers/char/istallion.c:3924:
+			if ((onbsig.magic0 == cpu_to_le16(ONB_MAGIC0)) &&
+			    (onbsig.magic1 == cpu_to_le16(ONB_MAGIC1)) &&
+			    (onbsig.magic2 == cpu_to_le16(ONB_MAGIC2)) &&
+			    (onbsig.magic3 == cpu_to_le16(ONB_MAGIC3)))

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#3005: FILE: drivers/char/istallion.c:4011:
+			if (brdp == NULL)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#3015: FILE: drivers/char/istallion.c:4023:
+		if ((brdp = stli_allocbrd()) == NULL)

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#3049: FILE: drivers/char/istallion.c:4066:
+	if ((brdp = stli_allocbrd()) == NULL)

WARNING:BRACES: braces {} are not necessary for single statement blocks
#3095: FILE: drivers/char/istallion.c:4096:
+	while ((dev = pci_get_device(PCI_VENDOR_ID_STALLION, PCI_DEVICE_ID_ECRA, dev))) {
+		stli_initpcibrd(BRD_ECPPCI, dev);
 	}

WARNING:SPLIT_STRING: quoted string split across lines
#3115: FILE: drivers/char/istallion.c:4117:
 		printk(KERN_ERR "STALLION: failed to allocate memory "
+				"(size=%Zd)\n", sizeof(stlibrd_t));

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

WARNING:PRINTF_Z: %Zd is non-standard C, use %zd
#3115: FILE: drivers/char/istallion.c:4117:
+				"(size=%Zd)\n", sizeof(stlibrd_t));

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#3151: FILE: drivers/char/istallion.c:4151:
+		if ((brdp = stli_allocbrd()) == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#3171: FILE: drivers/char/istallion.c:4180:
+			if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!nxtbrdp"
#3176: FILE: drivers/char/istallion.c:4184:
+				if (nxtbrdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#3185: FILE: drivers/char/istallion.c:4199:
+			if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#3225: FILE: drivers/char/istallion.c:4233:
+	if (brdp == NULL)

ERROR:SPACING: space required before the open parenthesis '('
#3243: FILE: drivers/char/istallion.c:4247:
+	if(p == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!p"
#3243: FILE: drivers/char/istallion.c:4247:
+	if(p == NULL)

CHECK:SPACING: No space is necessary after a cast
#3255: FILE: drivers/char/istallion.c:4253:
+		memptr = (void *) EBRDGETMEMPTR(brdp, off);

CHECK:SPACING: No space is necessary after a cast
#3256: FILE: drivers/char/istallion.c:4254:
+		n = MIN(size, (brdp->pagesize - (((unsigned long) off) % brdp->pagesize)));

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3310: FILE: drivers/char/istallion.c:4294:
+^I$

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#3317: FILE: drivers/char/istallion.c:4298:
+	if (brdp == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3330: FILE: drivers/char/istallion.c:4307:
+^I$

ERROR:SPACING: space required before the open parenthesis '('
#3339: FILE: drivers/char/istallion.c:4313:
+	if(p == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!p"
#3339: FILE: drivers/char/istallion.c:4313:
+	if(p == NULL)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3341: FILE: drivers/char/istallion.c:4315:
+^I^I$

CHECK:SPACING: No space is necessary after a cast
#3347: FILE: drivers/char/istallion.c:4317:
+		n = MIN(size, (brdp->pagesize - (((unsigned long) off) % brdp->pagesize)));

CHECK:SPACING: No space is necessary after a cast
#3357: FILE: drivers/char/istallion.c:4326:
+		memptr = (void *) EBRDGETMEMPTR(brdp, off);

CHECK:SPACING: No space is necessary after a cast
#3370: FILE: drivers/char/istallion.c:4335:
+	free_page((unsigned long) p);

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#3393: FILE: drivers/char/istallion.c:4356:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#3423: FILE: drivers/char/istallion.c:4393:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!portp"
#3441: FILE: drivers/char/istallion.c:4418:
+	if (portp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "!brdp"
#3446: FILE: drivers/char/istallion.c:4421:
+	if (brdp == NULL)

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tty"
#3465: FILE: drivers/char/istallion.c:4439:
+	if (portp->tty != NULL) {

CHECK:COMPARISON_TO_NULL: Comparison to NULL could be written "portp->tty->termios"
#3471: FILE: drivers/char/istallion.c:4443:
+			if (portp->tty->termios != NULL) {

ERROR:TRAILING_WHITESPACE: trailing whitespace
#3592: FILE: drivers/char/istallion.c:4708:
+^I$

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.64094.commit.9868a62d3bc6d9a0c6c79a05ceb1da6ef5739080 total: 20 errors, 13 warnings, 154 checks, 3407 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.64094.commit.9868a62d3bc6d9a0c6c79a05ceb1da6ef5739080 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
