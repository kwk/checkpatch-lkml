WARNING:TYPO_SPELLING: 'ontop' may be misspelled - perhaps 'on top'?
#60: 
Miles, do the two attached patches (ontop of -mm4) fix your problem too? 
                                    ^^^^^

Some words may have been misspelled.  Consider reviewing them.

WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#92: 
Content-Disposition: attachment; filename="lockdep-core-add-set-class-and-name.patch"

WARNING:BAD_SIGN_OFF: Duplicate signature
#146: 
Signed-off-by: Ingo Molnar <mingo@elte.hu>

The signed-off-by line does not fall in line with the standards
specified by the community.

See: https://www.kernel.org/doc/html/latest/process/submitting-patches.html#developer-s-certificate-of-origin-1-1

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#206: FILE: net/core/sock.c:142:
+/*
+ * Make lock validator output more readable:

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#208: FILE: net/core/sock.c:144:
+static const char *af_family_key_strings[AF_MAX+1] = {
                                                ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#209: FILE: net/core/sock.c:145:
+  "sk_lock-AF_UNSPEC", "sk_lock-AF_UNIX"     , "sk_lock-AF_INET"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#209: FILE: net/core/sock.c:145:
+  "sk_lock-AF_UNSPEC", "sk_lock-AF_UNIX"     , "sk_lock-AF_INET"     ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#209: FILE: net/core/sock.c:145:
+  "sk_lock-AF_UNSPEC", "sk_lock-AF_UNIX"     , "sk_lock-AF_INET"     ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#210: FILE: net/core/sock.c:146:
+  "sk_lock-AF_AX25"  , "sk_lock-AF_IPX"      , "sk_lock-AF_APPLETALK",$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#210: FILE: net/core/sock.c:146:
+  "sk_lock-AF_AX25"  , "sk_lock-AF_IPX"      , "sk_lock-AF_APPLETALK",
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#210: FILE: net/core/sock.c:146:
+  "sk_lock-AF_AX25"  , "sk_lock-AF_IPX"      , "sk_lock-AF_APPLETALK",
                                              ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#211: FILE: net/core/sock.c:147:
+  "sk_lock-AF_NETROM", "sk_lock-AF_BRIDGE"   , "sk_lock-AF_ATMPVC"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#211: FILE: net/core/sock.c:147:
+  "sk_lock-AF_NETROM", "sk_lock-AF_BRIDGE"   , "sk_lock-AF_ATMPVC"   ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#211: FILE: net/core/sock.c:147:
+  "sk_lock-AF_NETROM", "sk_lock-AF_BRIDGE"   , "sk_lock-AF_ATMPVC"   ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#212: FILE: net/core/sock.c:148:
+  "sk_lock-AF_X25"   , "sk_lock-AF_INET6"    , "sk_lock-AF_ROSE"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#212: FILE: net/core/sock.c:148:
+  "sk_lock-AF_X25"   , "sk_lock-AF_INET6"    , "sk_lock-AF_ROSE"     ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#212: FILE: net/core/sock.c:148:
+  "sk_lock-AF_X25"   , "sk_lock-AF_INET6"    , "sk_lock-AF_ROSE"     ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#212: FILE: net/core/sock.c:148:
+  "sk_lock-AF_X25"   , "sk_lock-AF_INET6"    , "sk_lock-AF_ROSE"     ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#213: FILE: net/core/sock.c:149:
+  "sk_lock-AF_DECnet", "sk_lock-AF_NETBEUI"  , "sk_lock-AF_SECURITY" ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#213: FILE: net/core/sock.c:149:
+  "sk_lock-AF_DECnet", "sk_lock-AF_NETBEUI"  , "sk_lock-AF_SECURITY" ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#213: FILE: net/core/sock.c:149:
+  "sk_lock-AF_DECnet", "sk_lock-AF_NETBEUI"  , "sk_lock-AF_SECURITY" ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#214: FILE: net/core/sock.c:150:
+  "sk_lock-AF_KEY"   , "sk_lock-AF_NETLINK"  , "sk_lock-AF_PACKET"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#214: FILE: net/core/sock.c:150:
+  "sk_lock-AF_KEY"   , "sk_lock-AF_NETLINK"  , "sk_lock-AF_PACKET"   ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#214: FILE: net/core/sock.c:150:
+  "sk_lock-AF_KEY"   , "sk_lock-AF_NETLINK"  , "sk_lock-AF_PACKET"   ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#214: FILE: net/core/sock.c:150:
+  "sk_lock-AF_KEY"   , "sk_lock-AF_NETLINK"  , "sk_lock-AF_PACKET"   ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#215: FILE: net/core/sock.c:151:
+  "sk_lock-AF_ASH"   , "sk_lock-AF_ECONET"   , "sk_lock-AF_ATMSVC"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#215: FILE: net/core/sock.c:151:
+  "sk_lock-AF_ASH"   , "sk_lock-AF_ECONET"   , "sk_lock-AF_ATMSVC"   ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#215: FILE: net/core/sock.c:151:
+  "sk_lock-AF_ASH"   , "sk_lock-AF_ECONET"   , "sk_lock-AF_ATMSVC"   ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#215: FILE: net/core/sock.c:151:
+  "sk_lock-AF_ASH"   , "sk_lock-AF_ECONET"   , "sk_lock-AF_ATMSVC"   ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#216: FILE: net/core/sock.c:152:
+  "sk_lock-21"       , "sk_lock-AF_SNA"      , "sk_lock-AF_IRDA"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#216: FILE: net/core/sock.c:152:
+  "sk_lock-21"       , "sk_lock-AF_SNA"      , "sk_lock-AF_IRDA"     ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#216: FILE: net/core/sock.c:152:
+  "sk_lock-21"       , "sk_lock-AF_SNA"      , "sk_lock-AF_IRDA"     ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#216: FILE: net/core/sock.c:152:
+  "sk_lock-21"       , "sk_lock-AF_SNA"      , "sk_lock-AF_IRDA"     ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#217: FILE: net/core/sock.c:153:
+  "sk_lock-AF_PPPOX" , "sk_lock-AF_WANPIPE"  , "sk_lock-AF_LLC"      ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#217: FILE: net/core/sock.c:153:
+  "sk_lock-AF_PPPOX" , "sk_lock-AF_WANPIPE"  , "sk_lock-AF_LLC"      ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#217: FILE: net/core/sock.c:153:
+  "sk_lock-AF_PPPOX" , "sk_lock-AF_WANPIPE"  , "sk_lock-AF_LLC"      ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#217: FILE: net/core/sock.c:153:
+  "sk_lock-AF_PPPOX" , "sk_lock-AF_WANPIPE"  , "sk_lock-AF_LLC"      ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#218: FILE: net/core/sock.c:154:
+  "sk_lock-27"       , "sk_lock-28"          , "sk_lock-29"          ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#218: FILE: net/core/sock.c:154:
+  "sk_lock-27"       , "sk_lock-28"          , "sk_lock-29"          ,
                      ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#218: FILE: net/core/sock.c:154:
+  "sk_lock-27"       , "sk_lock-28"          , "sk_lock-29"          ,
                                              ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#218: FILE: net/core/sock.c:154:
+  "sk_lock-27"       , "sk_lock-28"          , "sk_lock-29"          ,
                                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#219: FILE: net/core/sock.c:155:
+  "sk_lock-AF_TIPC"  , "sk_lock-AF_BLUETOOTH", "sk_lock-AF_MAX"$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#219: FILE: net/core/sock.c:155:
+  "sk_lock-AF_TIPC"  , "sk_lock-AF_BLUETOOTH", "sk_lock-AF_MAX"
                      ^

CHECK:LINE_SPACING: Please use a blank line after function/struct/union/enum declarations
#221: FILE: net/core/sock.c:157:
+};
+static const char *af_family_slock_key_strings[AF_MAX+1] = {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: spaces preferred around that '+' (ctx:VxV)
#221: FILE: net/core/sock.c:157:
+static const char *af_family_slock_key_strings[AF_MAX+1] = {
                                                      ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#222: FILE: net/core/sock.c:158:
+  "slock-AF_UNSPEC", "slock-AF_UNIX"     , "slock-AF_INET"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#222: FILE: net/core/sock.c:158:
+  "slock-AF_UNSPEC", "slock-AF_UNIX"     , "slock-AF_INET"     ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#222: FILE: net/core/sock.c:158:
+  "slock-AF_UNSPEC", "slock-AF_UNIX"     , "slock-AF_INET"     ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#223: FILE: net/core/sock.c:159:
+  "slock-AF_AX25"  , "slock-AF_IPX"      , "slock-AF_APPLETALK",$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#223: FILE: net/core/sock.c:159:
+  "slock-AF_AX25"  , "slock-AF_IPX"      , "slock-AF_APPLETALK",
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#223: FILE: net/core/sock.c:159:
+  "slock-AF_AX25"  , "slock-AF_IPX"      , "slock-AF_APPLETALK",
                                          ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#224: FILE: net/core/sock.c:160:
+  "slock-AF_NETROM", "slock-AF_BRIDGE"   , "slock-AF_ATMPVC"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#224: FILE: net/core/sock.c:160:
+  "slock-AF_NETROM", "slock-AF_BRIDGE"   , "slock-AF_ATMPVC"   ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#224: FILE: net/core/sock.c:160:
+  "slock-AF_NETROM", "slock-AF_BRIDGE"   , "slock-AF_ATMPVC"   ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#225: FILE: net/core/sock.c:161:
+  "slock-AF_X25"   , "slock-AF_INET6"    , "slock-AF_ROSE"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#225: FILE: net/core/sock.c:161:
+  "slock-AF_X25"   , "slock-AF_INET6"    , "slock-AF_ROSE"     ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#225: FILE: net/core/sock.c:161:
+  "slock-AF_X25"   , "slock-AF_INET6"    , "slock-AF_ROSE"     ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#225: FILE: net/core/sock.c:161:
+  "slock-AF_X25"   , "slock-AF_INET6"    , "slock-AF_ROSE"     ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#226: FILE: net/core/sock.c:162:
+  "slock-AF_DECnet", "slock-AF_NETBEUI"  , "slock-AF_SECURITY" ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#226: FILE: net/core/sock.c:162:
+  "slock-AF_DECnet", "slock-AF_NETBEUI"  , "slock-AF_SECURITY" ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#226: FILE: net/core/sock.c:162:
+  "slock-AF_DECnet", "slock-AF_NETBEUI"  , "slock-AF_SECURITY" ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#227: FILE: net/core/sock.c:163:
+  "slock-AF_KEY"   , "slock-AF_NETLINK"  , "slock-AF_PACKET"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#227: FILE: net/core/sock.c:163:
+  "slock-AF_KEY"   , "slock-AF_NETLINK"  , "slock-AF_PACKET"   ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#227: FILE: net/core/sock.c:163:
+  "slock-AF_KEY"   , "slock-AF_NETLINK"  , "slock-AF_PACKET"   ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#227: FILE: net/core/sock.c:163:
+  "slock-AF_KEY"   , "slock-AF_NETLINK"  , "slock-AF_PACKET"   ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#228: FILE: net/core/sock.c:164:
+  "slock-AF_ASH"   , "slock-AF_ECONET"   , "slock-AF_ATMSVC"   ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#228: FILE: net/core/sock.c:164:
+  "slock-AF_ASH"   , "slock-AF_ECONET"   , "slock-AF_ATMSVC"   ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#228: FILE: net/core/sock.c:164:
+  "slock-AF_ASH"   , "slock-AF_ECONET"   , "slock-AF_ATMSVC"   ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#228: FILE: net/core/sock.c:164:
+  "slock-AF_ASH"   , "slock-AF_ECONET"   , "slock-AF_ATMSVC"   ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#229: FILE: net/core/sock.c:165:
+  "slock-21"       , "slock-AF_SNA"      , "slock-AF_IRDA"     ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#229: FILE: net/core/sock.c:165:
+  "slock-21"       , "slock-AF_SNA"      , "slock-AF_IRDA"     ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#229: FILE: net/core/sock.c:165:
+  "slock-21"       , "slock-AF_SNA"      , "slock-AF_IRDA"     ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#229: FILE: net/core/sock.c:165:
+  "slock-21"       , "slock-AF_SNA"      , "slock-AF_IRDA"     ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#230: FILE: net/core/sock.c:166:
+  "slock-AF_PPPOX" , "slock-AF_WANPIPE"  , "slock-AF_LLC"      ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#230: FILE: net/core/sock.c:166:
+  "slock-AF_PPPOX" , "slock-AF_WANPIPE"  , "slock-AF_LLC"      ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#230: FILE: net/core/sock.c:166:
+  "slock-AF_PPPOX" , "slock-AF_WANPIPE"  , "slock-AF_LLC"      ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#230: FILE: net/core/sock.c:166:
+  "slock-AF_PPPOX" , "slock-AF_WANPIPE"  , "slock-AF_LLC"      ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#231: FILE: net/core/sock.c:167:
+  "slock-27"       , "slock-28"          , "slock-29"          ,$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#231: FILE: net/core/sock.c:167:
+  "slock-27"       , "slock-28"          , "slock-29"          ,
                    ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#231: FILE: net/core/sock.c:167:
+  "slock-27"       , "slock-28"          , "slock-29"          ,
                                          ^

ERROR:SPACING: space prohibited before that ',' (ctx:WxE)
#231: FILE: net/core/sock.c:167:
+  "slock-27"       , "slock-28"          , "slock-29"          ,
                                                                ^

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#232: FILE: net/core/sock.c:168:
+  "slock-AF_TIPC"  , "slock-AF_BLUETOOTH", "slock-AF_MAX"$

ERROR:SPACING: space prohibited before that ',' (ctx:WxW)
#232: FILE: net/core/sock.c:168:
+  "slock-AF_TIPC"  , "slock-AF_BLUETOOTH", "slock-AF_MAX"
                    ^

CHECK:BRACES: braces {} should be used on all arms of this statement
#243: FILE: net/core/sock.c:286:
+	if (!sock_owned_by_user(sk)) {
[...]
+		spin_acquire(&sk->sk_lock.slock.dep_map, 0, 0, _RET_IP_);
[...]

The placement of braces is stylistically incorrect.
The preferred way is to put the opening brace last on the line,
and put the closing brace first::

  if (x is true) {
          we do y
  }

This applies for all non-functional blocks.
However, there is one special case, namely functions: they have the
opening brace at the beginning of the next line, thus::

  int function(int x)
  {
          body of function
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#placing-braces-and-spaces

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#245: FILE: net/core/sock.c:288:
+		/*
+		 * trylock + unlock semantics:

CHECK:BRACES: Unbalanced braces around else statement
#255: FILE: net/core/sock.c:297:
+	} else

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#264: FILE: net/core/sock.c:808:
+/*
+ * Initialize an sk_lock.

ERROR:INLINE_LOCATION: inline keyword should sit between storage class and type
#268: FILE: net/core/sock.c:812:
+static void inline sock_lock_init(struct sock *sk)

The inline keyword should sit between storage class and type.

For example, the following segment::

  inline static int example_function(void)
  {
          ...
  }

should be::

  static inline int example_function(void)
  {
          ...
  }

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#278: FILE: net/core/sock.c:822:
+	/*
+	 * Make sure we are not reinitializing a held lock:

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#302: FILE: net/core/sock.c:1541:
+	/*
+	 * The sk_lock has mutex_lock() semantics here:

WARNING:NETWORKING_BLOCK_COMMENT_STYLE: networking block comments don't use an empty /* line, use /* Comment...
#317: FILE: net/core/sock.c:1555:
+	/*
+	 * The sk_lock has mutex_unlock() semantics:

ERROR:CODE_INDENT: code indent should use tabs where possible
#324: FILE: net/core/sock.c:1559:
+        if (waitqueue_active(&sk->sk_lock.wq))$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#324: FILE: net/core/sock.c:1559:
+        if (waitqueue_active(&sk->sk_lock.wq))$

WARNING:WAITQUEUE_ACTIVE: waitqueue_active without comment
#324: FILE: net/core/sock.c:1559:
+        if (waitqueue_active(&sk->sk_lock.wq))

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.62685.commit.96ed0f7f8f3b5fad21b3862aba497814500185a9 total: 56 errors, 33 warnings, 5 checks, 180 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.62685.commit.96ed0f7f8f3b5fad21b3862aba497814500185a9 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
