WARNING:COMMIT_LOG_LONG_LINE: Possible unwrapped commit description (prefer a maximum 75 chars per line)
#40: 
X-Uptime:  16:08:44 up 100 days, 18:16,  5 users,  load average: 0.90, 0.63, 0.52

ERROR:DIFF_IN_COMMIT_MSG: Avoid using diff content in the commit message - patch(1) might not work
#52: 
--- a/include/asm-alpha/atomic.h

Avoid having diff content in commit message.
This causes problems when one tries to apply a file containing both
the changelog and the diff because patch(1) tries to apply the diff
which it found in the changelog.

See: https://lore.kernel.org/lkml/20150611134006.9df79a893e3636019ad2759e@linux-foundation.org/

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#103: FILE: include/asm-alpha/atomic.h:220:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;			\
+	c = atomic64_read(v);					\
+	for (;;) {						\
+		if (unlikely(c == (u)))				\
+			break;					\
+		old = atomic64_cmpxchg((v), c, c + (a));	\
+		if (likely(old == c))				\
+			break;					\
+		c = old;					\
+	}							\
+	c != (u);						\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'u' - possible side-effects?
#103: FILE: include/asm-alpha/atomic.h:220:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;			\
+	c = atomic64_read(v);					\
+	for (;;) {						\
+		if (unlikely(c == (u)))				\
+			break;					\
+		old = atomic64_cmpxchg((v), c, c + (a));	\
+		if (likely(old == c))				\
+			break;					\
+		c = old;					\
+	}							\
+	c != (u);						\
+})

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#129: FILE: include/asm-alpha/system.h:447:
+__xchg_u8_local(volatile char *m, unsigned long val)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#133: FILE: include/asm-alpha/system.h:451:
+	__asm__ __volatile__(

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#152: FILE: include/asm-alpha/system.h:470:
+__xchg_u16_local(volatile short *m, unsigned long val)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#156: FILE: include/asm-alpha/system.h:474:
+	__asm__ __volatile__(

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#175: FILE: include/asm-alpha/system.h:493:
+__xchg_u32_local(volatile int *m, unsigned long val)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#179: FILE: include/asm-alpha/system.h:497:
+	__asm__ __volatile__(

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#194: FILE: include/asm-alpha/system.h:512:
+__xchg_u64_local(volatile long *m, unsigned long val)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#198: FILE: include/asm-alpha/system.h:516:
+	__asm__ __volatile__(

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'x' - possible side-effects?
#212: FILE: include/asm-alpha/system.h:530:
+#define __xchg_local(ptr, x, size) \
+({ \
+	unsigned long __xchg__res; \
+	volatile void *__xchg__ptr = (ptr); \
+	switch (size) { \
+		case 1: __xchg__res = __xchg_u8_local(__xchg__ptr, x); break; \
+		case 2: __xchg__res = __xchg_u16_local(__xchg__ptr, x); break; \
+		case 4: __xchg__res = __xchg_u32_local(__xchg__ptr, x); break; \
+		case 8: __xchg__res = __xchg_u64_local(__xchg__ptr, x); break; \
+		default: __xchg_called_with_bad_pointer(); __xchg__res = x; \
+	} \
+	__xchg__res; \
+})

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#215: FILE: include/asm-alpha/system.h:533:
+	volatile void *__xchg__ptr = (ptr); \

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#216: FILE: include/asm-alpha/system.h:534:
+	switch (size) { \
+		case 1: __xchg__res = __xchg_u8_local(__xchg__ptr, x); break; \
+		case 2: __xchg__res = __xchg_u16_local(__xchg__ptr, x); break; \
+		case 4: __xchg__res = __xchg_u32_local(__xchg__ptr, x); break; \
+		case 8: __xchg__res = __xchg_u64_local(__xchg__ptr, x); break; \
+		default: __xchg_called_with_bad_pointer(); __xchg__res = x; \

switch should be at the same indent as case.
Example::

  switch (suffix) {
  case 'G':
  case 'g':
          mem <<= 30;
          break;
  case 'M':
  case 'm':
          mem <<= 20;
          break;
  case 'K':
  case 'k':
          mem <<= 10;
          fallthrough;
  default:
          break;
  }

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#217: FILE: include/asm-alpha/system.h:535:
+		case 1: __xchg__res = __xchg_u8_local(__xchg__ptr, x); break; \

Trailing statements (for example after any conditional) should be
on the next line.
Statements, such as::

  if (x == y) break;

should be::

  if (x == y)
          break;

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#218: FILE: include/asm-alpha/system.h:536:
+		case 2: __xchg__res = __xchg_u16_local(__xchg__ptr, x); break; \

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#219: FILE: include/asm-alpha/system.h:537:
+		case 4: __xchg__res = __xchg_u32_local(__xchg__ptr, x); break; \

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#220: FILE: include/asm-alpha/system.h:538:
+		case 8: __xchg__res = __xchg_u64_local(__xchg__ptr, x); break; \

ERROR:TRAILING_STATEMENTS: trailing statements should be on next line
#221: FILE: include/asm-alpha/system.h:539:
+		default: __xchg_called_with_bad_pointer(); __xchg__res = x; \

ERROR:SPACING: space required after that ',' (ctx:VxV)
#226: FILE: include/asm-alpha/system.h:544:
+#define xchg_local(ptr,x)						     \
                       ^

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptr' - possible side-effects?
#226: FILE: include/asm-alpha/system.h:544:
+#define xchg_local(ptr,x)						     \
+  ({									     \
+     __typeof__(*(ptr)) _x_ = (x);					     \
+     (__typeof__(*(ptr))) __xchg_local((ptr), (unsigned long)_x_,	     \
+     		sizeof(*(ptr))); \
+  })

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#227: FILE: include/asm-alpha/system.h:545:
+  ({^I^I^I^I^I^I^I^I^I     \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#228: FILE: include/asm-alpha/system.h:546:
+     __typeof__(*(ptr)) _x_ = (x);^I^I^I^I^I     \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#229: FILE: include/asm-alpha/system.h:547:
+     (__typeof__(*(ptr))) __xchg_local((ptr), (unsigned long)_x_,^I     \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#230: FILE: include/asm-alpha/system.h:548:
+     ^I^Isizeof(*(ptr))); \$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#230: FILE: include/asm-alpha/system.h:548:
+     ^I^Isizeof(*(ptr))); \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#230: FILE: include/asm-alpha/system.h:548:
+     ^I^Isizeof(*(ptr))); \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#231: FILE: include/asm-alpha/system.h:549:
+  })$

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#241: FILE: include/asm-alpha/system.h:705:
+__cmpxchg_u8_local(volatile char *m, long old, long new)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#245: FILE: include/asm-alpha/system.h:709:
+	__asm__ __volatile__(

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#267: FILE: include/asm-alpha/system.h:731:
+__cmpxchg_u16_local(volatile short *m, long old, long new)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#271: FILE: include/asm-alpha/system.h:735:
+	__asm__ __volatile__(

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#293: FILE: include/asm-alpha/system.h:757:
+__cmpxchg_u32_local(volatile int *m, int old, int new)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#297: FILE: include/asm-alpha/system.h:761:
+	__asm__ __volatile__(

CHECK:SPACING: No space is necessary after a cast
#309: FILE: include/asm-alpha/system.h:773:
+	: "r"((long) old), "r"(new), "m"(*m) : "memory");

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#315: FILE: include/asm-alpha/system.h:779:
+__cmpxchg_u64_local(volatile long *m, unsigned long old, unsigned long new)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#319: FILE: include/asm-alpha/system.h:783:
+	__asm__ __volatile__(

CHECK:SPACING: No space is necessary after a cast
#331: FILE: include/asm-alpha/system.h:795:
+	: "r"((long) old), "r"(new), "m"(*m) : "memory");

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#337: FILE: include/asm-alpha/system.h:801:
+__cmpxchg_local(volatile void *ptr, unsigned long old, unsigned long new,

ERROR:SWITCH_CASE_INDENT_LEVEL: switch and case should be at the same indent
#340: FILE: include/asm-alpha/system.h:804:
+	switch (size) {
+		case 1:
[...]
+		case 2:
[...]
+		case 4:
[...]
+		case 8:

ERROR:SPACING: space required after that ',' (ctx:VxV)
#354: FILE: include/asm-alpha/system.h:818:
+#define cmpxchg_local(ptr,o,n)						 \
                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#354: FILE: include/asm-alpha/system.h:818:
+#define cmpxchg_local(ptr,o,n)						 \
                            ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptr' - possible side-effects?
#354: FILE: include/asm-alpha/system.h:818:
+#define cmpxchg_local(ptr,o,n)						 \
+  ({									 \
+     __typeof__(*(ptr)) _o_ = (o);					 \
+     __typeof__(*(ptr)) _n_ = (n);					 \
+     (__typeof__(*(ptr))) __cmpxchg_local((ptr), (unsigned long)_o_,	 \
+				    (unsigned long)_n_, sizeof(*(ptr))); \
+  })

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#355: FILE: include/asm-alpha/system.h:819:
+  ({^I^I^I^I^I^I^I^I^I \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#356: FILE: include/asm-alpha/system.h:820:
+     __typeof__(*(ptr)) _o_ = (o);^I^I^I^I^I \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#357: FILE: include/asm-alpha/system.h:821:
+     __typeof__(*(ptr)) _n_ = (n);^I^I^I^I^I \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#358: FILE: include/asm-alpha/system.h:822:
+     (__typeof__(*(ptr))) __cmpxchg_local((ptr), (unsigned long)_o_,^I \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#360: FILE: include/asm-alpha/system.h:824:
+  })$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#384: FILE: include/asm-generic/atomic.h:72:
+^I$

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#391: FILE: include/asm-generic/atomic.h:79:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#398: FILE: include/asm-generic/atomic.h:86:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#405: FILE: include/asm-generic/atomic.h:93:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#412: FILE: include/asm-generic/atomic.h:100:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#419: FILE: include/asm-generic/atomic.h:107:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#426: FILE: include/asm-generic/atomic.h:114:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#433: FILE: include/asm-generic/atomic.h:121:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#440: FILE: include/asm-generic/atomic.h:128:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#447: FILE: include/asm-generic/atomic.h:135:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#461: FILE: include/asm-generic/atomic.h:189:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#468: FILE: include/asm-generic/atomic.h:196:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#475: FILE: include/asm-generic/atomic.h:203:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#482: FILE: include/asm-generic/atomic.h:210:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#489: FILE: include/asm-generic/atomic.h:217:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#496: FILE: include/asm-generic/atomic.h:224:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#503: FILE: include/asm-generic/atomic.h:231:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#510: FILE: include/asm-generic/atomic.h:238:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#517: FILE: include/asm-generic/atomic.h:245:
+^I$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#524: FILE: include/asm-generic/atomic.h:252:
+^I$

ERROR:SPACING: space required after that ',' (ctx:VxV)
#564: FILE: include/asm-i386/system.h:270:
+#define cmpxchg_local(ptr,o,n)\
                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#564: FILE: include/asm-i386/system.h:270:
+#define cmpxchg_local(ptr,o,n)\
                            ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptr' - possible side-effects?
#564: FILE: include/asm-i386/system.h:270:
+#define cmpxchg_local(ptr,o,n)\
+	((__typeof__(*(ptr)))__cmpxchg_local((ptr),(unsigned long)(o),\
+					(unsigned long)(n),sizeof(*(ptr))))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#565: FILE: include/asm-i386/system.h:271:
+	((__typeof__(*(ptr)))__cmpxchg_local((ptr),(unsigned long)(o),\
 	                                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#566: FILE: include/asm-i386/system.h:272:
+					(unsigned long)(n),sizeof(*(ptr))))
 					                  ^

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#574: FILE: include/asm-i386/system.h:302:
+static inline unsigned long __cmpxchg_local(volatile void *ptr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#575: FILE: include/asm-i386/system.h:303:
+static inline unsigned long __cmpxchg_local(volatile void *ptr,
+			unsigned long old, unsigned long new, int size)

WARNING:LINE_SPACING: Missing a blank line after declarations
#578: FILE: include/asm-i386/system.h:306:
+	unsigned long prev;
+	switch (size) {

Vertical space is wasted given the limited number of lines an
editor window can display when multiple blank lines are used.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:SPACING: space required after that ',' (ctx:VxV)
#608: FILE: include/asm-i386/system.h:365:
+#define cmpxchg_local(ptr,o,n)						\
                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#608: FILE: include/asm-i386/system.h:365:
+#define cmpxchg_local(ptr,o,n)						\
                            ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptr' - possible side-effects?
#608: FILE: include/asm-i386/system.h:365:
+#define cmpxchg_local(ptr,o,n)						\
+({									\
+	__typeof__(*(ptr)) __ret;					\
+	if (likely(boot_cpu_data.x86 > 3))				\
+		__ret = __cmpxchg_local((ptr), (unsigned long)(o),	\
+					(unsigned long)(n), sizeof(*(ptr))); \
+	else								\
+		__ret = cmpxchg_386((ptr), (unsigned long)(o),		\
+					(unsigned long)(n), sizeof(*(ptr))); \
+	__ret;								\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'o' - possible side-effects?
#608: FILE: include/asm-i386/system.h:365:
+#define cmpxchg_local(ptr,o,n)						\
+({									\
+	__typeof__(*(ptr)) __ret;					\
+	if (likely(boot_cpu_data.x86 > 3))				\
+		__ret = __cmpxchg_local((ptr), (unsigned long)(o),	\
+					(unsigned long)(n), sizeof(*(ptr))); \
+	else								\
+		__ret = cmpxchg_386((ptr), (unsigned long)(o),		\
+					(unsigned long)(n), sizeof(*(ptr))); \
+	__ret;								\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'n' - possible side-effects?
#608: FILE: include/asm-i386/system.h:365:
+#define cmpxchg_local(ptr,o,n)						\
+({									\
+	__typeof__(*(ptr)) __ret;					\
+	if (likely(boot_cpu_data.x86 > 3))				\
+		__ret = __cmpxchg_local((ptr), (unsigned long)(o),	\
+					(unsigned long)(n), sizeof(*(ptr))); \
+	else								\
+		__ret = cmpxchg_386((ptr), (unsigned long)(o),		\
+					(unsigned long)(n), sizeof(*(ptr))); \
+	__ret;								\
+})

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#626: FILE: include/asm-i386/system.h:394:
+static inline unsigned long long __cmpxchg64_local(volatile void *ptr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#627: FILE: include/asm-i386/system.h:395:
+static inline unsigned long long __cmpxchg64_local(volatile void *ptr,
+			unsigned long long old, unsigned long long new)

WARNING:LINE_SPACING: Missing a blank line after declarations
#630: FILE: include/asm-i386/system.h:398:
+	unsigned long long prev;
+	__asm__ __volatile__("cmpxchg8b %3"

ERROR:SPACING: space required after that ',' (ctx:VxV)
#644: FILE: include/asm-i386/system.h:411:
+#define cmpxchg64_local(ptr,o,n)\
                            ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#644: FILE: include/asm-i386/system.h:411:
+#define cmpxchg64_local(ptr,o,n)\
                              ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptr' - possible side-effects?
#644: FILE: include/asm-i386/system.h:411:
+#define cmpxchg64_local(ptr,o,n)\
+	((__typeof__(*(ptr)))__cmpxchg64_local((ptr),(unsigned long long)(o),\
+					(unsigned long long)(n)))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#645: FILE: include/asm-i386/system.h:412:
+	((__typeof__(*(ptr)))__cmpxchg64_local((ptr),(unsigned long long)(o),\
 	                                            ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#676: FILE: include/asm-ia64/atomic.h:115:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__(v->counter) c, old;				\
+	c = atomic64_read(v);					\
+	for (;;) {						\
+		if (unlikely(c == (u)))				\
+			break;					\
+		old = atomic64_cmpxchg((v), c, c + (a));	\
+		if (likely(old == c))				\
+			break;					\
+		c = old;					\
+	}							\
+	c != (u);						\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'u' - possible side-effects?
#676: FILE: include/asm-ia64/atomic.h:115:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__(v->counter) c, old;				\
+	c = atomic64_read(v);					\
+	for (;;) {						\
+		if (unlikely(c == (u)))				\
+			break;					\
+		old = atomic64_cmpxchg((v), c, c + (a));	\
+		if (likely(old == c))				\
+			break;					\
+		c = old;					\
+	}							\
+	c != (u);						\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#735: FILE: include/asm-mips/atomic.h:663:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;			\
+	c = atomic_read(v);					\
+	while (c != (u) && (old = atomic64_cmpxchg((v), c, c + (a))) != c) \
+		c = old;					\
+	c != (u);						\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'u' - possible side-effects?
#735: FILE: include/asm-mips/atomic.h:663:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;			\
+	c = atomic_read(v);					\
+	while (c != (u) && (old = atomic64_cmpxchg((v), c, c + (a))) != c) \
+		c = old;					\
+	c != (u);						\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#787: FILE: include/asm-parisc/atomic.h:288:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;						\
+	c = atomic64_read(v);					\
+	while (c != (u) && (old = atomic64_cmpxchg((v), c, c + (a))) != c) \
+		c = old;					\
+	c != (u);						\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'u' - possible side-effects?
#787: FILE: include/asm-parisc/atomic.h:288:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;						\
+	c = atomic64_read(v);					\
+	while (c != (u) && (old = atomic64_cmpxchg((v), c, c + (a))) != c) \
+		c = old;					\
+	c != (u);						\
+})

CHECK:LINE_SPACING: Please don't use multiple blank lines
#797: FILE: include/asm-parisc/atomic.h:298:
+
+

WARNING:INLINE: plain inline is preferred over __inline__
#830: FILE: include/asm-powerpc/atomic.h:428:
+static __inline__ int atomic64_add_unless(atomic64_t *v, long a, long u)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#834: FILE: include/asm-powerpc/atomic.h:432:
+	__asm__ __volatile__ (

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#836: FILE: include/asm-powerpc/atomic.h:434:
+"1:	ldarx	%0,0,%1		# atomic_add_unless\n\

ERROR:SPACING: space required after that ',' (ctx:VxO)
#840: FILE: include/asm-powerpc/atomic.h:438:
+	PPC405_ERR77(0,%2)
 	              ^

CHECK:SPACING: spaces preferred around that '%' (ctx:OxV)
#840: FILE: include/asm-powerpc/atomic.h:438:
+	PPC405_ERR77(0,%2)
 	               ^

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#841: FILE: include/asm-powerpc/atomic.h:439:
+"	stdcx.	%0,0,%1 \n\

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#841: FILE: include/asm-powerpc/atomic.h:439:
+"	stdcx.	%0,0,%1 \n\

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#844: FILE: include/asm-powerpc/atomic.h:442:
+"	subf	%0,%2,%0 \n\

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#844: FILE: include/asm-powerpc/atomic.h:442:
+"	subf	%0,%2,%0 \n\

WARNING:INLINE: plain inline is preferred over __inline__
#870: FILE: include/asm-powerpc/system.h:244:
+static __inline__ unsigned long

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#871: FILE: include/asm-powerpc/system.h:245:
+__xchg_u32_local(volatile void *p, unsigned long val)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#875: FILE: include/asm-powerpc/system.h:249:
+	__asm__ __volatile__(

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#876: FILE: include/asm-powerpc/system.h:250:
+"1:	lwarx	%0,0,%2 \n"

ERROR:SPACING: space required after that ',' (ctx:VxO)
#877: FILE: include/asm-powerpc/system.h:251:
+	PPC405_ERR77(0,%2)
 	              ^

CHECK:SPACING: spaces preferred around that '%' (ctx:OxV)
#877: FILE: include/asm-powerpc/system.h:251:
+	PPC405_ERR77(0,%2)
 	               ^

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#878: FILE: include/asm-powerpc/system.h:252:
+"	stwcx.	%3,0,%2 \n\

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#878: FILE: include/asm-powerpc/system.h:252:
+"	stwcx.	%3,0,%2 \n\

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#880: FILE: include/asm-powerpc/system.h:254:
+	: "=&r" (prev), "+m" (*(volatile unsigned int *)p)

WARNING:INLINE: plain inline is preferred over __inline__
#895: FILE: include/asm-powerpc/system.h:281:
+static __inline__ unsigned long

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#896: FILE: include/asm-powerpc/system.h:282:
+__xchg_u64_local(volatile void *p, unsigned long val)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#900: FILE: include/asm-powerpc/system.h:286:
+	__asm__ __volatile__(

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#901: FILE: include/asm-powerpc/system.h:287:
+"1:	ldarx	%0,0,%2 \n"

ERROR:SPACING: space required after that ',' (ctx:VxO)
#902: FILE: include/asm-powerpc/system.h:288:
+	PPC405_ERR77(0,%2)
 	              ^

CHECK:SPACING: spaces preferred around that '%' (ctx:OxV)
#902: FILE: include/asm-powerpc/system.h:288:
+	PPC405_ERR77(0,%2)
 	               ^

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#903: FILE: include/asm-powerpc/system.h:289:
+"	stdcx.	%3,0,%2 \n\

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#903: FILE: include/asm-powerpc/system.h:289:
+"	stdcx.	%3,0,%2 \n\

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#905: FILE: include/asm-powerpc/system.h:291:
+	: "=&r" (prev), "+m" (*(volatile unsigned long *)p)

WARNING:INLINE: plain inline is preferred over __inline__
#918: FILE: include/asm-powerpc/system.h:320:
+static __inline__ unsigned long

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#919: FILE: include/asm-powerpc/system.h:321:
+__xchg_local(volatile void *ptr, unsigned long x, unsigned int size)

ERROR:SPACING: space required after that ',' (ctx:VxV)
#938: FILE: include/asm-powerpc/system.h:340:
+#define xchg_local(ptr,x)						     \
                       ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptr' - possible side-effects?
#938: FILE: include/asm-powerpc/system.h:340:
+#define xchg_local(ptr,x)						     \
+  ({									     \
+     __typeof__(*(ptr)) _x_ = (x);					     \
+     (__typeof__(*(ptr))) __xchg_local((ptr),				     \
+     		(unsigned long)_x_, sizeof(*(ptr))); 			     \
+  })

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#939: FILE: include/asm-powerpc/system.h:341:
+  ({^I^I^I^I^I^I^I^I^I     \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#940: FILE: include/asm-powerpc/system.h:342:
+     __typeof__(*(ptr)) _x_ = (x);^I^I^I^I^I     \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#941: FILE: include/asm-powerpc/system.h:343:
+     (__typeof__(*(ptr))) __xchg_local((ptr),^I^I^I^I     \$

ERROR:CODE_INDENT: code indent should use tabs where possible
#942: FILE: include/asm-powerpc/system.h:344:
+     ^I^I(unsigned long)_x_, sizeof(*(ptr))); ^I^I^I     \$

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#942: FILE: include/asm-powerpc/system.h:344:
+     ^I^I(unsigned long)_x_, sizeof(*(ptr))); ^I^I^I     \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#942: FILE: include/asm-powerpc/system.h:344:
+     ^I^I(unsigned long)_x_, sizeof(*(ptr))); ^I^I^I     \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#943: FILE: include/asm-powerpc/system.h:345:
+  })$

WARNING:INLINE: plain inline is preferred over __inline__
#952: FILE: include/asm-powerpc/system.h:378:
+static __inline__ unsigned long

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#953: FILE: include/asm-powerpc/system.h:379:
+__cmpxchg_u32_local(volatile unsigned int *p, unsigned long old,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#954: FILE: include/asm-powerpc/system.h:380:
+__cmpxchg_u32_local(volatile unsigned int *p, unsigned long old,
+			unsigned long new)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#958: FILE: include/asm-powerpc/system.h:384:
+	__asm__ __volatile__ (

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#959: FILE: include/asm-powerpc/system.h:385:
+"1:	lwarx	%0,0,%2		# __cmpxchg_u32\n\

ERROR:SPACING: space required after that ',' (ctx:VxO)
#962: FILE: include/asm-powerpc/system.h:388:
+	PPC405_ERR77(0,%2)
 	              ^

CHECK:SPACING: spaces preferred around that '%' (ctx:OxV)
#962: FILE: include/asm-powerpc/system.h:388:
+	PPC405_ERR77(0,%2)
 	               ^

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#963: FILE: include/asm-powerpc/system.h:389:
+"	stwcx.	%4,0,%2\n\

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#965: FILE: include/asm-powerpc/system.h:391:
+	"\n\

WARNING:INLINE: plain inline is preferred over __inline__
#982: FILE: include/asm-powerpc/system.h:423:
+static __inline__ unsigned long

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#983: FILE: include/asm-powerpc/system.h:424:
+__cmpxchg_u64_local(volatile unsigned long *p, unsigned long old,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#984: FILE: include/asm-powerpc/system.h:425:
+__cmpxchg_u64_local(volatile unsigned long *p, unsigned long old,
+			unsigned long new)

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#988: FILE: include/asm-powerpc/system.h:429:
+	__asm__ __volatile__ (

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#989: FILE: include/asm-powerpc/system.h:430:
+"1:	ldarx	%0,0,%2		# __cmpxchg_u64\n\

WARNING:LINE_CONTINUATIONS: Avoid line continuations in quoted strings
#994: FILE: include/asm-powerpc/system.h:435:
+	"\n\

WARNING:INLINE: plain inline is preferred over __inline__
#1009: FILE: include/asm-powerpc/system.h:465:
+static __inline__ unsigned long

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#1010: FILE: include/asm-powerpc/system.h:466:
+__cmpxchg_local(volatile void *ptr, unsigned long old, unsigned long new,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1011: FILE: include/asm-powerpc/system.h:467:
+__cmpxchg_local(volatile void *ptr, unsigned long old, unsigned long new,
+	  unsigned int size)

CHECK:LINE_SPACING: Please don't use multiple blank lines
#1032: FILE: include/asm-powerpc/system.h:489:
 
+

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1033: FILE: include/asm-powerpc/system.h:490:
+#define cmpxchg_local(ptr,o,n)						 \
                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1033: FILE: include/asm-powerpc/system.h:490:
+#define cmpxchg_local(ptr,o,n)						 \
                            ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptr' - possible side-effects?
#1033: FILE: include/asm-powerpc/system.h:490:
+#define cmpxchg_local(ptr,o,n)						 \
+  ({									 \
+     __typeof__(*(ptr)) _o_ = (o);					 \
+     __typeof__(*(ptr)) _n_ = (n);					 \
+     (__typeof__(*(ptr))) __cmpxchg_local((ptr), (unsigned long)_o_,	 \
+				    (unsigned long)_n_, sizeof(*(ptr))); \
+  })

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1034: FILE: include/asm-powerpc/system.h:491:
+  ({^I^I^I^I^I^I^I^I^I \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1035: FILE: include/asm-powerpc/system.h:492:
+     __typeof__(*(ptr)) _o_ = (o);^I^I^I^I^I \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1036: FILE: include/asm-powerpc/system.h:493:
+     __typeof__(*(ptr)) _n_ = (n);^I^I^I^I^I \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1037: FILE: include/asm-powerpc/system.h:494:
+     (__typeof__(*(ptr))) __cmpxchg_local((ptr), (unsigned long)_o_,^I \$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#1039: FILE: include/asm-powerpc/system.h:496:
+  })$

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#1070: FILE: include/asm-sparc64/atomic.h:97:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;			\
+	c = atomic64_read(v);					\
+	for (;;) {						\
+		if (unlikely(c == (u)))				\
+			break;					\
+		old = atomic64_cmpxchg((v), c, c + (a));	\
+		if (likely(old == c))				\
+			break;					\
+		c = old;					\
+	}							\
+	likely(c != (u));					\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'u' - possible side-effects?
#1070: FILE: include/asm-sparc64/atomic.h:97:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;			\
+	c = atomic64_read(v);					\
+	for (;;) {						\
+		if (unlikely(c == (u)))				\
+			break;					\
+		old = atomic64_cmpxchg((v), c, c + (a));	\
+		if (likely(old == c))				\
+			break;					\
+		c = old;					\
+	}							\
+	likely(c != (u));					\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'v' - possible side-effects?
#1127: FILE: include/asm-x86_64/atomic.h:433:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;			\
+	c = atomic64_read(v);					\
+	for (;;) {						\
+		if (unlikely(c == (u)))				\
+			break;					\
+		old = atomic64_cmpxchg((v), c, c + (a));	\
+		if (likely(old == c))				\
+			break;					\
+		c = old;					\
+	}							\
+	c != (u);						\
+})

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'u' - possible side-effects?
#1127: FILE: include/asm-x86_64/atomic.h:433:
+#define atomic64_add_unless(v, a, u)				\
+({								\
+	__typeof__((v)->counter) c, old;			\
+	c = atomic64_read(v);					\
+	for (;;) {						\
+		if (unlikely(c == (u)))				\
+			break;					\
+		old = atomic64_cmpxchg((v), c, c + (a));	\
+		if (likely(old == c))				\
+			break;					\
+		c = old;					\
+	}							\
+	c != (u);						\
+})

WARNING:VOLATILE: Use of volatile is usually wrong: see Documentation/process/volatile-considered-harmful.rst
#1152: FILE: include/asm-x86_64/system.h:211:
+static inline unsigned long __cmpxchg_local(volatile void *ptr,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#1153: FILE: include/asm-x86_64/system.h:212:
+static inline unsigned long __cmpxchg_local(volatile void *ptr,
+			unsigned long old, unsigned long new, int size)

WARNING:LINE_SPACING: Missing a blank line after declarations
#1156: FILE: include/asm-x86_64/system.h:215:
+	unsigned long prev;
+	switch (size) {

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1188: FILE: include/asm-x86_64/system.h:247:
+#define cmpxchg_local(ptr,o,n)\
                          ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1188: FILE: include/asm-x86_64/system.h:247:
+#define cmpxchg_local(ptr,o,n)\
                            ^

CHECK:MACRO_ARG_REUSE: Macro argument reuse 'ptr' - possible side-effects?
#1188: FILE: include/asm-x86_64/system.h:247:
+#define cmpxchg_local(ptr,o,n)\
+	((__typeof__(*(ptr)))__cmpxchg((ptr),(unsigned long)(o),\
+					(unsigned long)(n),sizeof(*(ptr))))

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1189: FILE: include/asm-x86_64/system.h:248:
+	((__typeof__(*(ptr)))__cmpxchg((ptr),(unsigned long)(o),\
 	                                    ^

ERROR:SPACING: space required after that ',' (ctx:VxV)
#1190: FILE: include/asm-x86_64/system.h:249:
+					(unsigned long)(n),sizeof(*(ptr))))
 					                  ^

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.13380.commit.81cf97a402a30de5642def1200794232bfdcb130 total: 53 errors, 70 warnings, 50 checks, 1079 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.13380.commit.81cf97a402a30de5642def1200794232bfdcb130 has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
