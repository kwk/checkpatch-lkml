ERROR:TRAILING_WHITESPACE: trailing whitespace
#46: FILE: kernel/power/prepare_image.c:409:
+static int update_image(void) $

Trailing whitespace should always be removed.
Some editors highlight the trailing whitespace and cause visual
distractions when editing files.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

CHECK:SPACING: No space is necessary after a cast
#46: FILE: kernel/power/prepare_image.c:409:
+static int update_image(void) 

Whitespace style used in the kernel sources is described in kernel docs.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#spaces

ERROR:TRAILING_WHITESPACE: trailing whitespace
#47: FILE: kernel/power/prepare_image.c:410:
+{ $

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#54: FILE: kernel/power/prepare_image.c:417:
+	if (suspend_allocate_extra_pagedir_memory(&pagedir1,
+		pagedir1.pageset_size + extra_pd1_pages_allowance,

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#57: FILE: kernel/power/prepare_image.c:420:
+		suspend_message(SUSPEND_EAT_MEMORY, SUSPEND_LOW, 1,
+			"Still need to get more pages for pagedir 1.\n");

ERROR:ASSIGN_IN_IF: do not use assignment in if condition
#64: FILE: kernel/power/prepare_image.c:427:
+	if ((result2 = suspend_active_writer->allocate_storage(param_used))) {

Do not use assignments in if condition.
Example::

  if ((foo = bar(...)) < BAZ) {

should be written as::

  foo = bar(...);
  if (foo < BAZ) {

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#66: FILE: kernel/power/prepare_image.c:429:
+		suspend_message(SUSPEND_EAT_MEMORY, SUSPEND_LOW, 1,
+			"Allocate storage returned %d. Still need to get more"

WARNING:SPLIT_STRING: quoted string split across lines
#67: FILE: kernel/power/prepare_image.c:430:
+			"Allocate storage returned %d. Still need to get more"
+			" storage space for the image proper.\n",

Quoted strings that appear as messages in userspace and can be
grepped, should not be split across multiple lines.

See: https://lore.kernel.org/lkml/20120203052727.GA15035@leaf/

ERROR:TRAILING_WHITESPACE: trailing whitespace
#74: FILE: kernel/power/prepare_image.c:437:
+^I/* $

CHECK:OPEN_ENDED_LINE: Lines should not end with a '('
#85: FILE: kernel/power/prepare_image.c:448:
+	suspend_active_writer->allocate_storage(

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#103: FILE: kernel/power/prepare_image.c:466:
+		suspend_message(SUSPEND_EAT_MEMORY, SUSPEND_LOW, 1,
+			"Still need to get more storage space for header.\n");

CHECK:PARENTHESIS_ALIGNMENT: Alignment should match open parenthesis
#112: FILE: kernel/power/prepare_image.c:475:
+	suspend_message(SUSPEND_EAT_MEMORY, SUSPEND_LOW, 1,
+		"Amount still needed (%d) > 0:%d. Header: %d < %d: %d,"

WARNING:SPLIT_STRING: quoted string split across lines
#113: FILE: kernel/power/prepare_image.c:476:
+		"Amount still needed (%d) > 0:%d. Header: %d < %d: %d,"
+		" Storage allocd: %d < %d + %d: %d.\n",

ERROR:CODE_INDENT: code indent should use tabs where possible
#118: FILE: kernel/power/prepare_image.c:481:
+^I^I ^Istorage_allocated,$

Code indent should use tabs instead of spaces.
Outside of comments, documentation and Kconfig,
spaces are never used for indentation.

See: https://www.kernel.org/doc/html/latest/process/coding-style.html#indentation

WARNING:SPACE_BEFORE_TAB: please, no space before tabs
#118: FILE: kernel/power/prepare_image.c:481:
+^I^I ^Istorage_allocated,$

ERROR:TRAILING_WHITESPACE: trailing whitespace
#127: FILE: kernel/power/prepare_image.c:490:
+^I^I storage_allocated < $

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.64525.commit.22eacbde676521e139579594be6e9d9104549edd total: 6 errors, 3 warnings, 7 checks, 92 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

/tmp/tmp.gGZ8aIRHtl//home/kkleine/dev/lkml/0/patch.offset.64525.commit.22eacbde676521e139579594be6e9d9104549edd has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
